"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[9986],{40830:function(p,o,e){e.d(o,{Z:function(){return i}});var D=e(75782),_=e(85170),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},d=E,s=e(70325),f=function(u,g){return _.createElement(s.Z,(0,D.Z)((0,D.Z)({},u),{},{ref:g,icon:d}))};f.displayName="InfoCircleOutlined";var i=_.forwardRef(f)},96505:function(p,o,e){var D=e(75782),_=e(85170),E=e(10011),d=e(70325),s=function(i,v){return _.createElement(d.Z,(0,D.Z)((0,D.Z)({},i),{},{ref:v,icon:E.Z}))};s.displayName="RightOutlined",o.Z=_.forwardRef(s)},88208:function(p,o,e){var D=e(30279),_=e.n(D),E=e(85170),d=e(91522),s=e(43010);o.Z=function(f){var i=f.children,v=f.pageTitle;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d._z,_()(_()({header:{title:v,breadcrumb:{}}},f),{},{children:i}))})}},54887:function(p,o,e){e.r(o);var D=e(35290),_=e.n(D),E=e(411),d=e.n(E),s=e(46686),f=e.n(s),i=e(85170),v=e(41318),u=e(58110),g=e(33285),y=e(28931),C=e(1406),B=e(2800),A=e(34833),S=e(16798),T=e(37922),N=e(1166),W=e(88208),I=e(10248),b=e(22196),x=e(88665),F=e(17025),Z=e(30082),L=e(20423),z=e(66694),r=e(43010),V=function(){var O=(0,N.Z)({total:0,current:1,pageSize:10,filters:[],domainData:[],tblSelectKeys:[],selectAll:!1,restoreVisible:!1,domains:"",domainText:"",countLoading:!1,countCount:0}),M=f()(O,2),n=M[0],c=M[1],w=(0,b.useRequest)(z.JN),K=w.data,j=(0,b.useRequest)(I.Yh,{manual:!0,onSuccess:function(t){if(!!t){var a=t.current,m=t.total,P=t.pageSize,R=t.list;c({current:a,total:m,pageSize:P,domainData:R})}}}),U=j.run,X=j.loading,G=function(){var t=n.current,a=n.pageSize,m=n.filters,P=n.keyword;U({current:t,pageSize:a,filters:m,keyword:P})},H=(0,b.useRequest)(I.WJ,{manual:!0,onSuccess:function(t){if(!!t){var a=t.saved,m=n.domainCount;v.ZP.success("\u63D0\u4EA4\u57DF\u540D\u6570\uFF1A".concat(m,", \u6210\u529F\u4FDD\u5B58\uFF1A").concat(a," ")),a&&G(),c({domainText:"",domains:"",domainCount:0})}}}),q=H.run,ee=H.loading,ne=function(t){var a=t.userid;if(!K||!K.length)return"\u6211\u81EA\u5DF1";var m=K.findIndex(function(R){return R.userid===a});if(m>=0){var P=K[m].nickname;return P}return"\u5DF2\u5220\u9664\u7528\u6237"},te=[{title:"\u57DF\u540D",dataIndex:"domain",key:"email"},{title:"\u64CD\u4F5C\u8005",dataIndex:"userid",key:"userid",render:function(t,a){return ne(a)}},{title:"\u62C9\u9ED1\u65F6\u95F4",dataIndex:"create_time",key:"create_time",render:function(t,a){var m=a.create_time;return(0,x.pV)(m)}}],ae=function(t){c({tblSelectKeys:t,selectAll:!1})},re=function(t,a){c({current:t,pageSize:a});var m=n.filters;U({current:t,pageSize:a,filters:m})},J=function(){var t=n.domainData,a=[];for(var m in t){var P=t[m]._id;a.push(P)}c({tblSelectKeys:a})},ue=function(t){t?(J(),c({selectAll:!1})):c({tblSelectKeys:[],selectAll:!1})},Y=function(){var l=d()(_()().mark(function t(){var a,m,P,R;return _()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return a=n.current,m=n.pageSize,P=n.filters,R=n.keyword,k.next=3,U({current:a,pageSize:m,filters:P,keyword:R});case 3:c({tblSelectKeys:[]});case 4:case"end":return k.stop()}},t)}));return function(){return l.apply(this,arguments)}}(),le=function(t){if(!t){c({filters:{}});return}var a=f()(t,2),m=a[0],P=a[1],R=m.startOf("day").valueOf(),$=P.endOf("day").valueOf();c({filters:{create_time:{$gte:R,$lte:$}}}),Y()},Q=(0,b.useRequest)(I.F5,{manual:!0,onSuccess:function(){c({restoreVisible:!1,selectAll:!1,selectKeys:[]}),Y()}}),oe=Q.run,se=Q.loading,ie=function(t){c({countLoading:!0,domainCount:0});var a=(0,x.Qe)(t);c({domainCount:a.length,countLoading:!1,domains:a.join(`
`)})},_e=function(){c({countLoading:!0,domainCount:0});var t=n.domainText,a=(0,x.Qe)(t);c({domainCount:a.length,countLoading:!1,domains:a.join(`
`)})},de=function(){var t=n.domainText,a=(0,x.Qe)(t);q({domains:a})},ce=function(){var t=n.selectAll?n.total:n.tblSelectKeys.length,a=n.filters,m=n.keyword,P=n.tblSelectKeys,R=n.selectAll;u.Z.confirm({title:"\u5220\u9664\u57DF\u540D\u6570\uFF1A".concat(t),content:"\u786E\u5B9A\u5220\u9664\u5DF2\u9009\u4E2D\u7684\u57DF\u540D\uFF1F",onOk:function(){return oe({filters:a,keyword:m,selectKeys:P,selectAll:R})}})};return(0,i.useEffect)(function(){G()},[]),(0,r.jsx)(W.Z,{pageTitle:!1,pageGroup:"search",pageActive:"black-domains",children:(0,r.jsxs)(L.ZP,{split:"vertical",bordered:!0,headerBordered:!0,bodyStyle:{background:"none"},style:{background:"none"},children:[(0,r.jsxs)(L.ZP,{title:!1,colSpan:"50%",className:"both-down",bodyStyle:{background:"none"},style:{background:"none"},children:[(0,r.jsx)(g.Z,{children:(0,r.jsxs)(y.Z,{size:"large",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{style:{fontSize:16},children:"\u62C9\u9ED1\u65F6\u95F4\uFF1A"}),(0,r.jsx)(C.Z.RangePicker,{locale:Z.Z,onChange:le,showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm"})]}),(0,r.jsx)(B.Z.Search,{placeholder:"\u57DF\u540D\u5173\u952E\u5B57",enterButton:!0,style:{maxWidth:300,verticalAlign:"middle"},value:n.keyword,onChange:function(t){return c({keyword:t.target.value})},onSearch:function(){return Y()}},"searchKey")]})}),(0,r.jsx)("div",{className:F.Z["tbl-operator"],hidden:!n.tblSelectKeys.length,children:(0,r.jsxs)(y.Z,{size:24,children:[(0,r.jsx)(A.Z,{indeterminate:n.tblSelectKeys.length!==n.domainData.length,checked:n.tblSelectKeys.length>0,onChange:function(t){return ue(t.target.checked)}}),(0,r.jsxs)("span",{children:["\u5DF2\u9009 ",(0,r.jsx)("a",{children:n.selectAll?n.total:n.tblSelectKeys.length}),"/",n.total," \u9879\u6570\u636E",(0,r.jsx)("span",{style:{marginLeft:12},children:n.selectAll?null:(0,r.jsx)("a",{onClick:function(){c({selectAll:!0}),J()},children:"\u9009\u62E9\u5168\u90E8"})},"b")]}),(0,r.jsx)(S.ZP,{size:"small",type:"primary",onClick:function(){return ce()},loading:se,children:"\u5220\u9664"},"111")]})}),(0,r.jsx)(T.Z,{rowKey:"_id",loading:X,dataSource:n.domainData,columns:te,pagination:{position:["bottomCenter"],total:n.total,pageSize:n.pageSize,current:n.current,showTotal:function(t){return"\u603B\u7EAA\u5F55\u6570 ".concat(t," ")},onChange:re},rowSelection:{selectedRowKeys:n.tblSelectKeys,onChange:ae,columnWidth:32},showHeader:!n.tblSelectKeys.length,size:"middle"})]}),(0,r.jsxs)(L.ZP,{title:!1,bodyStyle:{background:"none"},style:{background:"none"},children:[(0,r.jsx)("div",{className:"both-down",style:{animationDelay:"0.1s"},children:(0,r.jsx)(B.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u57DF\u540D\u6587\u672C\u5185\u5BB9\uFF0C\u81EA\u52A8\u8BC6\u522B",rows:10,onBlur:function(t){return ie(t.target.value)},value:n.domainText,onChange:function(t){return c({domainText:t.target.value})}})}),(0,r.jsx)("div",{style:{marginTop:24,marginBottom:24,animationDelay:"0.1s"},className:"both-up",children:(0,r.jsx)(B.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u57DF\u540D\u5217\u8868",disabled:!0,rows:10,value:n.domains})}),(0,r.jsx)("div",{style:{paddingLeft:24},children:(0,r.jsxs)(y.Z,{size:"large",children:[(0,r.jsx)(S.ZP,{size:"small",type:"primary",onClick:function(){return _e()},loading:n.countLoading,children:"\u57DF\u540D\u8BC6\u522B"}),(0,r.jsxs)("span",{children:["\u6709\u6548\u57DF\u540D\u603B\u6570\uFF1A",(0,r.jsx)("a",{children:n.domainCount})]}),(0,r.jsx)(S.ZP,{size:"small",type:"primary",onClick:function(){return de()},loading:ee,disabled:!n.domainCount,children:"\u4FDD\u5B58"})]})})]})]})})};o.default=V},17025:function(p,o){o.Z={"tbl-operator":"tbl-operator___jZ6Wx","social-link":"social-link___xaq5y",main:"main___ZEnS6",leftMenu:"leftMenu___YcqB9",right:"right___Bdk1z",title:"title___fkXhP","view-item":"view-item___X4hFx","default-view-item":"default-view-item___ktsJV","empty-filter-item":"empty-filter-item___rDG7u","filter-item":"filter-item___hwjwL"}},26677:function(p,o,e){var D,_=e(98772).default;D={value:!0},o.Z=s;var E=_(e(85170)),d=e(56237);function s(f){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=[];return E.default.Children.forEach(f,function(u){u==null&&!i.keepEmpty||(Array.isArray(u)?v=v.concat(s(u)):(0,d.isFragment)(u)&&u.props?v=v.concat(s(u.props.children,i)):v.push(u))}),v}},89239:function(p,o,e){var D=e(66356).default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=E;var _=D(e(85170));function E(d){var s=_.useRef();s.current=d;var f=_.useCallback(function(){for(var i,v=arguments.length,u=new Array(v),g=0;g<v;g++)u[g]=arguments[g];return(i=s.current)===null||i===void 0?void 0:i.call.apply(i,[s].concat(u))},[]);return f}},9553:function(p,o,e){var D=e(98772).default,_=e(66356).default;Object.defineProperty(o,"__esModule",{value:!0}),o.useLayoutUpdateEffect=o.default=void 0;var E=_(e(85170)),d=D(e(31880)),s=(0,d.default)()?E.useLayoutEffect:E.useEffect,f=s;o.default=f;var i=function(u,g){var y=E.useRef(!0);s(function(){if(!y.current)return u()},g),s(function(){return y.current=!1,function(){y.current=!0}},[])};o.useLayoutUpdateEffect=i},17426:function(p,o,e){var D,_=e(66356).default,E=e(98772).default;D={value:!0},o.Z=y;var d=E(e(54306)),s=_(e(85170)),f=E(e(89239)),i=_(e(9553)),v=E(e(70733)),u;(function(C){C[C.INNER=0]="INNER",C[C.PROP=1]="PROP"})(u||(u={}));function g(C){return C!==void 0}function y(C,B){var A=B||{},S=A.defaultValue,T=A.value,N=A.onChange,W=A.postState,I=(0,v.default)(function(){var h=void 0,O;return g(T)?(h=T,O=u.PROP):g(S)?(h=typeof S=="function"?S():S,O=u.PROP):(h=typeof C=="function"?C():C,O=u.INNER),[h,O,h]}),b=(0,d.default)(I,2),x=b[0],F=b[1],Z=g(T)?T:x[0],L=W?W(Z):Z;(0,i.useLayoutUpdateEffect)(function(){F(function(h){var O=(0,d.default)(h,1),M=O[0];return[T,u.PROP,M]})},[T]);var z=s.useRef(),r=(0,f.default)(function(h,O){F(function(M){var n=(0,d.default)(M,3),c=n[0],w=n[1],K=n[2],j=typeof h=="function"?h(c):h;if(j===c)return M;var U=w===u.INNER&&z.current!==K?K:c;return[j,u.INNER,U]},O)}),V=(0,f.default)(N);return(0,i.default)(function(){var h=(0,d.default)(x,3),O=h[0],M=h[1],n=h[2];O!==n&&M===u.INNER&&(V(O,n),z.current=n)},[x]),[L,r]}},70733:function(p,o,e){var D=e(66356).default,_=e(98772).default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=s;var E=_(e(54306)),d=D(e(85170));function s(f){var i=d.useRef(!1),v=d.useState(f),u=(0,E.default)(v,2),g=u[0],y=u[1];d.useEffect(function(){return i.current=!1,function(){i.current=!0}},[]);function C(B,A){A&&i.current||y(B)}return[g,C]}}}]);
