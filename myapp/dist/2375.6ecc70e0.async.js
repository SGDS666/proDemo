"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[2375],{88208:function(J,Z,o){var A=o(30279),g=o.n(A),M=o(85170),F=o(91522),x=o(43010);Z.Z=function(j){var P=j.children,z=j.pageTitle;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(F._z,g()(g()({header:{title:z,breadcrumb:{}}},j),{},{children:P}))})}},95203:function(J,Z,o){o.d(Z,{Z:function(){return on}});var A=o(30279),g=o.n(A),M=o(35290),F=o.n(M),x=o(411),j=o.n(x),P=o(46686),z=o.n(P),X=o(85170),b=o(41318),R=o(16798),v=o(77707),$=o(43525),T=o(42147),E=o(96498),p=o(46394),K=o(28931),Y=o(34833),I=o(18799),k=o(58110),q=o(77070),_=o(26122),nn=o(98096),en=o(1166),an=o(4587),u=o.n(an),O=o(63099),U=o(22196),n=o(43010),sn=function(S){var W=S.visible,D=S.onCancel,tn=S.openQrcode,rn=S.actionReload,ln=(0,en.Z)({payApp:"alipay",payYuan:0,goodsId:"",qrcodeVisiable:!0,codeUrl:"",goodsList:[],tips:"",uid:"",tabKey:"searchMonth",price:0,goodsCount:1,balance:0,commission:0,useBalance:!1,payBalance:"",useCommission:!1,payCommission:""}),L=z()(ln,2),e=L[0],d=L[1],G=function(a,s,i){d({goodsId:a,payYuan:s/100,price:s,goodsCount:1,tips:i,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1})},un=(0,U.useRequest)(O.u5,{manual:!0,onSuccess:function(a){if(a){var s=a.goodsList,i=a.uid,r=a.balance,t=a.commission;if(d({goodsList:s,uid:i,balance:r/10,commission:t/10,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1}),s&&s.length){var l=s[0],h=l.id,f=l.price,m=l.tips;d({goodsId:h,payYuan:f/100,tips:m,price:f})}}}}),w=un.run;(0,X.useEffect)(function(){if(W){var c=e.tabKey;w({type:c})}},[W]);var N=(0,U.useRequest)(O.ef,{manual:!0,onSuccess:function(a){if(a){var s=a.code_url,i=a.return_code,r=a.id,t=a.return_msg,l=e.payApp;i==="finished"?(D(),b.ZP.success("\u652F\u4ED8\u6210\u529F"),rn()):i==="SUCCESS"||"".concat(i)==="10000"?(D(),tn(r,l,s)):t&&b.ZP.error("\u8BA2\u5355\u521B\u5EFA\u5931\u8D25\uFF1A",t)}}}),cn=N.run,dn=N.loading,hn=function(){var c=j()(F()().mark(function a(){var s,i,r,t,l,h,f,m,B;return F()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=e.payApp,i=e.payYuan,r=e.goodsId,t=e.useBalance,l=e.useCommission,h=e.payBalance,f=e.payCommission,m=e.goodsCount,B=e.tabKey,r){y.next=4;break}return b.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910"),y.abrupt("return");case 4:if(m){y.next=7;break}return b.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910\u6570\u91CF"),y.abrupt("return");case 7:return y.next=9,cn({payApp:s,payYuan:i,goods_type:B,goodsId:r,goodsCount:m,useBalance:t,useCommission:l,payBalance:h,payCommission:f});case 9:case"end":return y.stop()}},a)}));return function(){return c.apply(this,arguments)}}(),fn=function(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(R.ZP,{onClick:D,children:"\u53D6\u6D88"}),(0,n.jsx)(R.ZP,{type:"primary",onClick:hn,loading:dn,children:"\u786E\u8BA4\u652F\u4ED8"})]})},C={fontSize:16,fontWeight:525},H={fontSize:16,fontWeight:400},pn=function(a,s){var i=a.id,r=a.name,t=a.price,l=a.oriPrice,h=a.tips,f=a.count,m=a.worth,B=s?14:0;return e.goodsId===i?(0,n.jsx)(v.ZP.Button,{style:g()(g()({},H),{},{width:180,height:120,marginLeft:B,marginBottom:12,textAlign:"center",backgroundColor:"#fffaeb"}),value:i,onClick:function(){return G(i,t,h)},children:(0,n.jsxs)("div",{children:[m?(0,n.jsx)("div",{className:"bestText",children:"\u8D85\u503C"}):null,(0,n.jsx)("div",{style:{color:"#03081a",fontSize:"20px",fontWeight:700,lineHeight:"28px",paddingTop:12},children:r}),l&&l>t?(0,n.jsxs)("div",{children:["\uFFE5",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u()(t/100).format("0,0")}),(0,n.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"16px",textDecoration:"line-through"},children:u()(l/100).format("0,0")})]}):(0,n.jsxs)("div",{children:["\uFFE5"," ",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u()(t/100).format("0,0")})]}),e.tabKey==="searchMonth"?(0,n.jsxs)("div",{style:{color:"#b57d1d"},children:[u()(t/100/f).format("0,0.000")," \u5143/\u70B9"]}):(0,n.jsxs)("div",{style:{color:"#b57d1d"},children:[u()(t/100/f/12).format("0,0.000")," \u5143/\u70B9"]})]})},i):(0,n.jsx)(v.ZP.Button,{style:g()(g()({},H),{},{width:180,height:120,marginLeft:B,marginBottom:12,textAlign:"center"}),value:i,onClick:function(){return G(i,t,h)},children:(0,n.jsxs)("div",{children:[m?(0,n.jsx)("div",{className:"bestText",children:"\u8D85\u503C"}):null,(0,n.jsx)("div",{style:{color:"#03081a",fontSize:"20px",fontWeight:700,lineHeight:"28px",paddingTop:12},children:r}),l&&l>t?(0,n.jsxs)("div",{children:["\uFFE5",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u()(t/100).format("0,0")}),(0,n.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"16px",textDecoration:"line-through"},children:u()(l/100).format("0,0")})]}):(0,n.jsxs)("div",{children:["\uFFE5"," ",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u()(t/100).format("0,0")})]}),e.tabKey==="searchMonth"?(0,n.jsxs)("div",{style:{color:"#b57d1d"},children:[u()(t/100/f).format("0,0.000")," \u5143/\u70B9"]}):(0,n.jsxs)("div",{style:{color:"#b57d1d"},children:[u()(t/100/f/12).format("0,0.000")," \u5143/\u70B9"]})]})},i)},mn=function(a){d({payApp:a})},yn=function(a){d({tabKey:a}),w({type:a})},gn=function(a){d({useBalance:a});var s=e.price,i=e.balance,r=e.goodsCount;if(a){var t="".concat(i/100);i>=s*r&&(t="".concat(u()(s/100*r).format("0.00")));var l=(s*r-parseFloat(t)*100)/100;d({payBalance:t,payYuan:l,useCommission:!1,payCommission:""})}else{var h=s*r/100;d({payYuan:h,payBalance:""})}},vn=function(a){var s=e.price,i=e.balance,r=e.goodsCount,t=parseFloat(a)*100;if(t<=s*r&&t<=i){var l=(s*r-t)/100;d({payBalance:a,payYuan:l})}},xn=function(a){d({useCommission:a});var s=e.price,i=e.commission,r=e.goodsCount;if(a){var t="".concat(i/100);i>=s*r&&(t="".concat(u()(s/100*r).format("0.00")));var l=(s*r-parseFloat(t)*100)/100;d({payCommission:t,payYuan:l,useBalance:!1,payBalance:""})}else{var h=s*r/100;d({payYuan:h,payCommission:""})}},jn=function(a){var s=e.price,i=e.commission,r=e.goodsCount,t=parseFloat(a)*100;if(t<=s*r&&t<=i){var l=(s*r-t)/100;d({payCommission:a,payYuan:l})}},Q=function(){return(0,n.jsxs)(n.Fragment,{children:[e.tabKey==="searchMonth"?(0,n.jsxs)("div",{style:C,children:["\u8D2D\u4E70 ",(0,n.jsx)("span",{style:{color:"#e9b966",fontWeight:700},children:"\u6708"})," \u5957\u9910:"]}):(0,n.jsxs)("div",{style:C,children:["\u8D2D\u4E70 ",(0,n.jsx)("span",{style:{color:"#ff7b64",fontWeight:700},children:"\u5E74"})," \u5957\u9910:"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(v.ZP.Group,{buttonStyle:"outline",optionType:"button",value:e.goodsId,children:e.goodsList.map(function(a,s){return pn(a,s)})}),e.tips?(0,n.jsx)($.Z,{message:e.tips,type:"info",showIcon:!0}):null]}),(0,n.jsx)(T.Z,{}),e.balance?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(E.Z,{children:[(0,n.jsx)(p.Z,{span:3,children:(0,n.jsx)("span",{style:C,children:"\u4F7F\u7528\u4F59\u989D"})}),(0,n.jsx)(p.Z,{span:20,children:(0,n.jsxs)(K.Z,{children:[(0,n.jsxs)(Y.Z,{checked:e.useBalance,onChange:function(s){return gn(s.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F59\u989D\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F59\u989D",(0,n.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",u()(e.balance/100).format("0,0.00")]}),")"]}),(0,n.jsx)(I.Z,{disabled:!e.useBalance,value:e.payBalance,onChange:vn,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})})]}),(0,n.jsx)(T.Z,{})]}):null,e.commission?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(E.Z,{children:[(0,n.jsx)(p.Z,{span:3,children:(0,n.jsx)("span",{style:C,children:"\u4F7F\u7528\u4F63\u91D1"})}),(0,n.jsx)(p.Z,{span:20,children:(0,n.jsxs)(K.Z,{children:[(0,n.jsxs)(Y.Z,{checked:e.useCommission,onChange:function(s){return xn(s.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F63\u91D1\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F63\u91D1",(0,n.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",u()(e.commission/100).format("0,0.00")]}),")"]}),(0,n.jsx)(I.Z,{disabled:!e.useCommission,value:e.payCommission,onChange:jn,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})})]}),(0,n.jsx)(T.Z,{})]}):null,(0,n.jsx)("div",{children:(0,n.jsx)("span",{style:C,children:"\u4ED8\u6B3E\u65B9\u5F0F:"})}),(0,n.jsx)("div",{children:(0,n.jsxs)(v.ZP.Group,{buttonStyle:"outline",optionType:"button",onChange:function(s){return mn(s.target.value)},value:e.payApp,children:[(0,n.jsx)(v.ZP.Button,{value:"wechat",style:{height:160,width:360,marginRight:20,background:e.payApp==="wechat"?"#fffaeb":"#fff"},children:(0,n.jsx)("div",{style:{marginTop:24},children:(0,n.jsxs)(E.Z,{children:[(0,n.jsxs)(p.Z,{span:11,children:[(0,n.jsxs)("div",{style:{fontSize:24,fontWeight:700,paddingBottom:12},children:[(0,n.jsx)(_.Z,{style:{marginRight:10,color:"#52c41a"}}),"\u5FAE\u4FE1\u652F\u4ED8"]}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u8BF7\u4F7F\u7528 \u5FAE\u4FE1\u626B\u4E00\u626B"}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]}),(0,n.jsx)(p.Z,{span:13,style:{textAlign:"center"},children:(0,n.jsxs)("div",{style:{width:160,fontSize:32,marginTop:30,fontWeight:700,color:e.payApp==="wechat"?"#f60":"#000"},children:["\uFFE5",u()(e.payYuan).format("0,0.00")]})})]})})}),(0,n.jsx)(v.ZP.Button,{value:"alipay",style:{height:160,width:360,background:e.payApp==="alipay"?"#fffaeb":"#fff"},children:(0,n.jsx)("div",{style:{marginTop:24},children:(0,n.jsxs)(E.Z,{children:[(0,n.jsxs)(p.Z,{span:12,children:[(0,n.jsxs)("div",{style:{fontSize:24,fontWeight:700,paddingBottom:12},children:[(0,n.jsx)(nn.Z,{style:{marginRight:10,color:"#027aff"}}),"\u652F\u4ED8\u5B9D\u652F\u4ED8"]}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u8BF7\u4F7F\u7528 \u652F\u4ED8\u5B9D\u626B\u4E00\u626B"}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]}),(0,n.jsx)(p.Z,{span:12,style:{textAlign:"center"},children:(0,n.jsxs)("div",{style:{width:160,fontSize:32,marginTop:30,fontWeight:700,color:e.payApp==="alipay"?"#f60":"#000"},children:["\uFFE5",u()(e.payYuan).format("0,0.00")]})})]})})})]})}),(0,n.jsx)("div",{style:{marginBottom:30},children:" "})]})};return(0,n.jsx)(k.Z,{title:"\u83B7\u5BA2\u70B9\u6570",width:860,destroyOnClose:!0,open:W,maskClosable:!1,onCancel:D,footer:fn(),children:(0,n.jsx)("div",{className:"class-vip-info",children:(0,n.jsx)(q.Z,{type:"card",size:"large",onChange:yn,activeKey:e.tabKey,items:[{tabKey:"searchMonth",key:"searchMonth",label:(0,n.jsxs)("div",{style:{width:336,fontSize:20,textAlign:"center",fontWeight:700},children:[(0,n.jsx)("img",{width:24,src:"https://files.laifaxin.com/www/svip.jpg"})," \u83B7\u5BA2\u6708\u5957\u9910"]}),children:Q()},{key:"searchYear",tabKey:"searchYear",label:(0,n.jsxs)("div",{style:{width:336,fontSize:20,textAlign:"center",fontWeight:700},children:[(0,n.jsx)("img",{width:24,src:"https://files.laifaxin.com/www/vip.jpg"})," \u83B7\u5BA2\u5E74\u5957\u9910"]}),children:Q()}]})})})},on=sn}}]);
