"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[8504],{83655:function(W,P,e){var O=e(75782),a=e(85170),E=e(62658),i=e(70325),l=function(d,M){return a.createElement(i.Z,(0,O.Z)((0,O.Z)({},d),{},{ref:M,icon:E.Z}))};l.displayName="EditOutlined",P.Z=a.forwardRef(l)},88208:function(W,P,e){var O=e(30279),a=e.n(O),E=e(85170),i=e(91522),l=e(43010);P.Z=function(s){var d=s.children,M=s.pageTitle;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i._z,a()(a()({header:{title:M,breadcrumb:{}}},s),{},{children:d}))})}},56314:function(W,P,e){var O=e(85170),a=e(80661),E=e(22196),i=e(43010);P.Z=function(l){var s=l.children,d=l.accessKey,M=(0,E.useModel)("@@initialState"),D=M.initialState;if(!D)return(0,i.jsx)(a.Z,{size:"large",children:"\u672A\u767B\u5F55"});var g=D.userPermissions,R=D.currentUser,F=function(){var t,Z=R!=null?R:{},x=Z.uid,_=Z.orgId;return!!(!_||x===_||!d||g!=null&&(t=g[d])!==null&&t!==void 0&&t.checked)};return(0,i.jsx)(E.Access,{accessible:F(),children:s})}},9697:function(W,P,e){e.r(P),e.d(P,{default:function(){return H}});var O=e(46686),a=e.n(O),E=e(85170),i=e(41318),l=e(74954),s=e(16798),d=e(22196),M=e(88208),D=e(66694),g=e(48865),R=e(83655),F=e(78730),U=e(1166),t=e(30279),Z=e.n(t),x=e(31810),_=e(58110),T=e(2800),n=e(43010),V=function(m){var j=m.visible,f=m.onCancel,b=m.actionReload,h=m.values,u=x.Z.useForm(),B=a()(u,1),I=B[0],C=(0,E.useState)(""),A=a()(C,2),S=A[0],J=A[1],X=(0,d.useRequest)(D.Bm,{manual:!0,onSuccess:function(){i.ZP.success("\u4FDD\u5B58\u6210\u529F"),f(),b()}}),Y=X.run,q=X.loading;return(0,E.useEffect)(function(){if(j){I.resetFields();var L=h.userid;J(L),I.setFieldsValue(h)}},[j]),(0,n.jsx)(_.Z,{destroyOnClose:!0,title:"\u4FEE\u6539\u6210\u5458\u8D44\u6599",open:j,onCancel:function(){return f()},footer:null,children:(0,n.jsxs)(x.Z,{form:I,onFinish:function(ee){return Y(Z()(Z()({},ee),{},{userid:S}))},layout:"vertical",size:"large",style:{paddingLeft:24,paddingRight:24},initialValues:{scale:1},children:[(0,n.jsx)(x.Z.Item,{label:"\u6210\u5458\u5462\u79F0",name:"nickname",rules:[{required:!0,message:"\u6210\u5458\u5462\u79F0"}],children:(0,n.jsx)(T.Z,{placeholder:"\u6210\u5458\u5462\u79F0"})}),(0,n.jsx)(x.Z.Item,{children:(0,n.jsx)(s.ZP,{type:"primary",htmlType:"submit",loading:q,children:"\u4FDD\u5B58"})})]})})},y=V,z=function(m){var j=m.visible,f=m.onCancel,b=m.actionReload,h=x.Z.useForm(),u=a()(h,1),B=u[0],I=(0,d.useRequest)(D.Gv,{manual:!0,onSuccess:function(){i.ZP.success("\u9080\u8BF7\u6210\u529F, \u9080\u8BF7\u5DF2\u53D1\u9001\u5230\u5BF9\u65B9\u90AE\u7BB1"),f(),b()}}),C=I.run,A=I.loading;return(0,n.jsx)(_.Z,{destroyOnClose:!0,title:"\u9080\u8BF7\u6210\u5458\u52A0\u5165\u4F01\u4E1A",open:j,onCancel:function(){return f()},footer:null,children:(0,n.jsxs)(x.Z,{form:B,onFinish:function(J){return C(Z()({},J))},layout:"vertical",size:"large",style:{paddingLeft:24,paddingRight:24},initialValues:{scale:1},children:[(0,n.jsx)(x.Z.Item,{label:"\u6210\u5458\u90AE\u7BB1\u5730\u5740",name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,n.jsx)(T.Z,{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740"})}),(0,n.jsx)(x.Z.Item,{children:(0,n.jsx)(s.ZP,{type:"primary",htmlType:"submit",loading:A,children:"\u9080\u8BF7"})})]})})},$=z,c=e(56314),N=e(51448),K=e(61991),G=function(){var m=(0,E.useRef)(),j=(0,E.useState)({}),f=a()(j,2),b=f[0],h=f[1],u=(0,U.Z)({inviteVisible:!1,updateVisible:!1,roleVisible:!1,teamVisible:!1}),B=a()(u,2),I=B[0],C=B[1],A=function(){var r;(r=m.current)===null||r===void 0||r.reload()},S=(0,d.useRequest)(D.re,{manual:!0,onSuccess:function(){i.ZP.success("\u5220\u9664\u6210\u529F"),A()}}),J=S.run,X=(0,d.useRequest)(D.Gh,{manual:!0,onSuccess:function(){i.ZP.success("\u64CD\u4F5C\u6210\u529F"),A()}}),Y=X.run,q=function(r){var o=r.userid,Q=r.role_id,k=r.status,w=null;k==="ok"&&Q!=="owner"?w=(0,n.jsx)(c.Z,{accessKey:"enterprise.members.disable",children:(0,n.jsx)(l.Z,{title:"\u786E\u8BA4\u7981\u7528?",onConfirm:function(){return Y({userid:o,action:"disable"})},children:(0,n.jsx)("a",{style:{color:"orange"},children:"\u7981\u7528"})})},"disableAction"):k==="disabled"&&(w=(0,n.jsx)(c.Z,{accessKey:"enterprise.members.disable",children:(0,n.jsx)(l.Z,{title:"\u786E\u8BA4\u542F\u7528?",onConfirm:function(){return Y({userid:o,action:"enable"})},children:(0,n.jsx)("a",{style:{color:"green"},children:"\u542F\u7528"})})},"enableAction"));var re=(0,n.jsx)(c.Z,{accessKey:"enterprise.members.delete",children:(0,n.jsx)(l.Z,{title:"\u786E\u8BA4\u5220\u9664?",onConfirm:function(){return J({userid:o})},children:(0,n.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"})})},"deleteAction");return[w,re]},L=function(r){var o=r.nickname;return(0,n.jsxs)("span",{children:[o," ",(0,n.jsx)(c.Z,{accessKey:"enterprise.members.modify",children:(0,n.jsx)("a",{onClick:function(){h(r),C({updateVisible:!0})},children:(0,n.jsx)(R.Z,{})})},"renameAction")]})},ee=function(r){var o=r.role_name,Q=r.role_id,k=Q==="owner"?null:(0,n.jsx)(c.Z,{accessKey:"enterprise.role.change",children:(0,n.jsx)("a",{onClick:function(){h(r),C({roleVisible:!0})},children:(0,n.jsx)(R.Z,{})})},"roleAction");return(0,n.jsxs)("span",{children:[o," ",k]})},te=function(r){var o=r.teamsName;return(0,n.jsxs)("span",{children:[o," ",(0,n.jsx)(c.Z,{accessKey:"enterprise.team.modify",children:(0,n.jsx)("a",{onClick:function(){h(r),C({teamVisible:!0})},children:(0,n.jsx)(R.Z,{})})},"renameAction")]})},se=[{title:"\u90AE\u7BB1",dataIndex:"email",hideInSearch:!0},{title:"\u540D\u79F0",dataIndex:"nickname",render:function(r,o){return L(o)}},{title:"\u89D2\u8272",dataIndex:"role_name",hideInSearch:!0,render:function(r,o){return ee(o)}},{title:"\u90E8\u95E8",dataIndex:"teamsName",valueType:"treeSelect",hideInSearch:!0,render:function(r,o){return te(o)}},{title:"\u72B6\u6001",dataIndex:"status",valueEnum:{ok:{text:"\u6B63\u5E38",status:"Processing"},disabled:{text:"\u5DF2\u7981\u7528",status:"Error"},pending:{text:"\u5F85\u6FC0\u6D3B",status:"Default"}}},{title:"\u52A0\u5165\u65F6\u95F4",dataIndex:"create_time",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(r,o){return q(o)}}];return(0,n.jsxs)(M.Z,{pageTitle:!1,pageGroup:"enterprise",pageActive:"members",children:[(0,n.jsx)(g.ZP,{headerTitle:"\u6210\u5458\u5217\u8868",actionRef:m,rowKey:"userid",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsx)(c.Z,{accessKey:"enterprise.members.invite",children:(0,n.jsxs)(s.ZP,{type:"primary",onClick:function(){return C({inviteVisible:!0})},children:[(0,n.jsx)(F.Z,{})," \u9080\u8BF7"]})},"inviteKey")]},request:D.io,columns:se,rowSelection:!1}),(0,n.jsx)(y,{visible:I.updateVisible,actionReload:A,values:b,onCancel:function(){return C({updateVisible:!1})}}),(0,n.jsx)($,{visible:I.inviteVisible,actionReload:A,onCancel:function(){return C({inviteVisible:!1})}}),(0,n.jsx)(N.Z,{visible:I.roleVisible,onCancel:function(){return C({roleVisible:!1})},actionReload:A,values:b}),(0,n.jsx)(K.Z,{visible:I.teamVisible,actionReload:A,onCancel:function(){return C({teamVisible:!1})},values:b})]})},H=G},51448:function(W,P,e){var O=e(30279),a=e.n(O),E=e(46686),i=e.n(E),l=e(85170),s=e(31810),d=e(41318),M=e(58110),D=e(2800),g=e(43520),R=e(16798),F=e(66694),U=e(22196),t=e(43010),Z=function(_){var T=_.visible,n=_.onCancel,V=_.actionReload,y=_.values,z=s.Z.useForm(),$=i()(z,1),c=$[0],N=(0,l.useState)(""),K=i()(N,2),G=K[0],H=K[1],p=(0,U.useRequest)(F.bB,{manual:!0,onSuccess:function(){d.ZP.success("\u64CD\u4F5C\u6210\u529F"),n(),V()}}),m=p.run,j=p.loading,f=(0,U.useRequest)(F.n3,{manual:!0}),b=f.run,h=f.data;return(0,l.useEffect)(function(){if(T){var u=y.userid;H(u),c.resetFields(),c.setFieldsValue(a()({},y)),b()}},[T]),(0,t.jsx)(M.Z,{destroyOnClose:!0,title:"\u66F4\u6362\u89D2\u8272",open:T,onCancel:function(){return n()},footer:null,children:(0,t.jsxs)(s.Z,{form:c,onFinish:function(B){return m(a()(a()({},B),{},{userid:G}))},layout:"vertical",size:"large",style:{paddingLeft:24,paddingRight:24},children:[(0,t.jsx)(s.Z.Item,{label:"\u6210\u5458\u540D\u79F0",name:"nickname",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6210\u5458\u540D\u79F0"}],children:(0,t.jsx)(D.Z,{placeholder:"\u8BF7\u8F93\u5165\u6210\u5458\u540D\u79F0",disabled:!0})}),(0,t.jsx)(s.Z.Item,{label:"\u6240\u5C5E\u89D2\u8272",name:"role_id",children:(0,t.jsx)(g.Z,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},children:h==null?void 0:h.map(function(u){return u.role_id==="owner"?null:(0,t.jsx)(g.Z.Option,{value:u.role_id,children:u.role_name},u.role_id)})})}),(0,t.jsx)(s.Z.Item,{children:(0,t.jsx)(R.ZP,{type:"primary",htmlType:"submit",loading:j,children:"\u4FDD\u5B58"})})]})})};P.Z=Z},61991:function(W,P,e){var O=e(30279),a=e.n(O),E=e(46686),i=e.n(E),l=e(85170),s=e(31810),d=e(41318),M=e(58110),D=e(2800),g=e(43267),R=e(16798),F=e(66694),U=e(22196),t=e(43010),Z=function(_){var T=_.visible,n=_.onCancel,V=_.actionReload,y=_.values,z=s.Z.useForm(),$=i()(z,1),c=$[0],N=(0,l.useState)(""),K=i()(N,2),G=K[0],H=K[1],p=(0,U.useRequest)(F.yp,{manual:!0,onSuccess:function(){d.ZP.success("\u64CD\u4F5C\u6210\u529F"),n(),V()}}),m=p.run,j=p.loading,f=(0,U.useRequest)(F.Vl,{manual:!0}),b=f.run,h=f.data;return(0,l.useEffect)(function(){if(T){var u=y.userid;H(u),c.resetFields(),c.setFieldsValue(a()({},y)),b()}},[T]),(0,t.jsx)(M.Z,{destroyOnClose:!0,title:"\u66F4\u6362\u90E8\u95E8",open:T,onCancel:function(){return n()},footer:null,children:(0,t.jsxs)(s.Z,{form:c,onFinish:function(B){return m(a()(a()({},B),{},{userid:G}))},layout:"vertical",size:"large",style:{paddingLeft:24,paddingRight:24},children:[(0,t.jsx)(s.Z.Item,{label:"\u6210\u5458\u540D\u79F0",name:"nickname",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6210\u5458\u540D\u79F0"}],children:(0,t.jsx)(D.Z,{placeholder:"\u8BF7\u8F93\u5165\u6210\u5458\u540D\u79F0",disabled:!0})}),(0,t.jsx)(s.Z.Item,{label:"\u6240\u5C5E\u90E8\u95E8",name:"teams",children:(0,t.jsx)(g.Z,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeDefaultExpandAll:!0,treeData:h,multiple:!0})}),(0,t.jsx)(s.Z.Item,{children:(0,t.jsx)(R.ZP,{type:"primary",htmlType:"submit",loading:j,children:"\u4FDD\u5B58"})})]})})};P.Z=Z}}]);
