"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[4557],{95370:function(vn,w,a){var M=a(75782),x=a(85170),Q=a(94230),O=a(70325),L=function(Y,P){return x.createElement(O.Z,(0,M.Z)((0,M.Z)({},Y),{},{ref:P,icon:Q.Z}))};L.displayName="CheckOutlined",w.Z=x.forwardRef(L)},16300:function(vn,w,a){var M=a(75782),x=a(85170),Q=a(93671),O=a(70325),L=function(Y,P){return x.createElement(O.Z,(0,M.Z)((0,M.Z)({},Y),{},{ref:P,icon:Q.Z}))};L.displayName="CloseOutlined",w.Z=x.forwardRef(L)},77596:function(vn,w,a){a.d(w,{Z:function(){return En}});var M=a(30279),x=a.n(M),Q=a(35290),O=a.n(Q),L=a(411),sn=a.n(L),Y=a(46686),P=a.n(Y),G=a(85170),R=a(41318),F=a(77707),B=a(43525),D=a(42147),S=a(96498),C=a(46394),I=a(28931),y=a(18799),cn=a(34833),gn=a(58110),tn={standardListForm:"standardListForm___UFOEE",bestText:"bestText___mQelO"},Fn=a(26122),Bn=a(98096),bn=a(1166),yn=a(4587),k=a.n(yn),b=a(63099),dn=a(22196),e=a(43010),Zn=function(n){var pn=n.visible,hn=n.onCancel,rn=n.openQrcode,Dn=n.actionReload,Sn=(0,bn.Z)({testLoading:!1,submitLoading:!1,payApp:"alipay",payYuan:0,goodsId:"",qrcodeVisiable:!0,codeUrl:"",goodsList:[],price:0,goodsCount:0,tips:"",uid:"",balance:0,commission:0,useBalance:!1,payBalance:"",useCommission:!1,payCommission:""}),ln=P()(Sn,2),t=ln[0],Z=ln[1],on=function(i,r,c){Z({goodsId:i,payYuan:r/100,price:r,goodsCount:1,tips:c,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1})},E=function(i){var r=t.price,c=parseInt(i,10);Z({payYuan:r*c/100,goodsCount:c,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1})},N=(0,dn.useRequest)(b.u5,{manual:!0,onSuccess:function(i){if(i){var r=i.goodsList,c=i.uid,d=i.balance,u=i.commission;if(Z({goodsList:r,uid:c,balance:d/10,commission:u/10}),r&&r.length>0){var f=r[0],W=f.id,X=f.price,q=f.tips;on(W,X,q)}}}}),K=N.run;(0,G.useEffect)(function(){pn&&(K({type:"sendCount"}),Z({payYuan:0}))},[pn]);var H=(0,dn.useRequest)(b.ef,{manual:!0,onSuccess:function(i){if(i){var r=i.code_url,c=i.return_code,d=i.return_msg,u=i.id,f=i.payApp;c==="finished"?(hn(),R.ZP.success("\u652F\u4ED8\u6210\u529F"),Dn()):c==="SUCCESS"||"".concat(c)==="10000"?(hn(),rn(u,f,r)):d&&R.ZP.error("\u8BA2\u5355\u521B\u5EFA\u5931\u8D25\uFF1A",d)}}}),un=H.run,$=H.loading,A=function(){var T=sn()(O()().mark(function i(){var r,c,d,u,f,W,X,q;return O()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(r=t.payApp,c=t.payYuan,d=t.goodsId,u=t.goodsCount,f=t.useBalance,W=t.useCommission,X=t.payBalance,q=t.payCommission,d){U.next=4;break}return R.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910"),U.abrupt("return");case 4:if(u){U.next=7;break}return R.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910\u6570\u91CF"),U.abrupt("return");case 7:un({payApp:r,payYuan:c,goods_type:"balance",goodsId:d,goodsCount:u,useBalance:f,useCommission:W,payBalance:X,payCommission:q});case 8:case"end":return U.stop()}},i)}));return function(){return T.apply(this,arguments)}}(),mn={okText:"\u786E\u8BA4\u652F\u4ED8",onOk:A,onCancel:hn},J={fontSize:16,fontWeight:525},s={fontSize:16,fontWeight:400},v=function(i,r){var c=i.id,d=i.name,u=i.price,f=i.oriPrice,W=i.tips,X=i.count,q=i.worth,fn=r?14:0;return t.goodsId===c?(0,e.jsx)(F.ZP.Button,{style:x()(x()({},s),{},{width:180,height:120,marginLeft:fn,marginBottom:12,textAlign:"center",backgroundColor:"#fffaeb"}),value:c,onClick:function(){return on(c,u,W)},children:(0,e.jsxs)("div",{children:[q?(0,e.jsx)("div",{className:tn.bestText,children:"\u8D85\u503C"}):null,(0,e.jsx)("div",{style:{color:"#03081a",fontSize:"20px",fontWeight:700,lineHeight:"28px",paddingTop:12},children:d}),f&&f>u?(0,e.jsxs)("div",{children:["\uFFE5",(0,e.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u/100}),(0,e.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"20px",textDecoration:"line-through"},children:f/100})]}):(0,e.jsxs)("div",{children:["\uFFE5"," ",(0,e.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u/100})]}),(0,e.jsxs)("div",{style:{color:"#b57d1d"},children:[k()(u/100/X).format("0,0.000")," \u5143/\u5C01"]})]})},c):(0,e.jsx)(F.ZP.Button,{style:x()(x()({},s),{},{width:180,height:120,marginLeft:fn,marginBottom:12,textAlign:"center"}),value:c,onClick:function(){return on(c,u,W)},children:(0,e.jsxs)("div",{children:[q?(0,e.jsx)("div",{className:tn.bestText,children:"\u8D85\u503C"}):null,(0,e.jsx)("div",{style:{color:"#03081a",fontSize:"20px",fontWeight:700,lineHeight:"28px",paddingTop:12},children:d}),f&&f>u?(0,e.jsxs)("div",{children:["\uFFE5",(0,e.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u/100}),(0,e.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"20px",textDecoration:"line-through"},children:f/100})]}):(0,e.jsxs)("div",{children:["\uFFE5"," ",(0,e.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:u/100})]}),(0,e.jsxs)("div",{style:{color:"#b57d1d"},children:[k()(u/100/X).format("0,0.000")," \u5143/\u5C01"]})]})},c)},nn=function(i){Z({payApp:i})},j=function(i){Z({useBalance:i});var r=t.price,c=t.balance,d=t.goodsCount;if(i){var u="".concat(c/100);c>=r*d&&(u="".concat(k()(r/100*d).format("0.00")));var f=(r*d-parseFloat(u)*100)/100;Z({payBalance:u,payYuan:f,useCommission:!1,payCommission:""})}else{var W=r*d/100;Z({payYuan:W,payBalance:""})}},xn=function(i){var r=t.price,c=t.balance,d=t.goodsCount,u=parseFloat(i)*100;if(u<=r*d&&u<=c){var f=(r*d-u)/100;Z({payBalance:i,payYuan:f})}},Pn=function(i){Z({useCommission:i});var r=t.price,c=t.commission,d=t.goodsCount;if(i){var u="".concat(c/100);c>=r*d&&(u="".concat(k()(r/100*d).format("0.00")));var f=(r*d-parseFloat(u)*100)/100;Z({payCommission:u,payYuan:f,useBalance:!1,payBalance:""})}else{var W=r*d/100;Z({payYuan:W,payCommission:""})}},Cn=function(i){var r=t.price,c=t.commission,d=t.goodsCount,u=parseFloat(i)*100;if(u<=r*d&&u<=c){var f=(r*d-u)/100;Z({payCommission:i,payYuan:f})}},jn=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(F.ZP.Group,{buttonStyle:"outline",optionType:"button",value:t.goodsId,children:t.goodsList.map(function(i,r){return v(i,r)})}),t.tips?(0,e.jsx)(B.Z,{message:t.tips,banner:!0}):null]}),(0,e.jsx)(D.Z,{}),(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(C.Z,{span:3,children:(0,e.jsx)("span",{style:J,children:"\u8D2D\u4E70\u6570\u91CF"})}),(0,e.jsx)(C.Z,{span:20,children:(0,e.jsxs)(I.Z,{children:[(0,e.jsx)(y.Z,{value:t.goodsCount,onChange:E,min:1,max:100,step:1}),(0,e.jsx)("div",{style:{marginTop:5,fontSize:12,color:"#999999"},children:"\u9009\u62E9\u60A8\u8981\u8D2D\u4E70\u7684\u6570\u91CF"})]})})]}),(0,e.jsx)(D.Z,{}),t.balance?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(C.Z,{span:3,children:(0,e.jsx)("span",{style:J,children:"\u4F7F\u7528\u4F59\u989D"})}),(0,e.jsx)(C.Z,{span:20,children:(0,e.jsxs)(I.Z,{children:[(0,e.jsxs)(cn.Z,{checked:t.useBalance,onChange:function(r){return j(r.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F59\u989D\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F59\u989D",(0,e.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",k()(t.balance/100).format("0,0.00")]}),")"]}),(0,e.jsx)(y.Z,{disabled:!t.useBalance,value:t.payBalance,onChange:xn,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})})]}),(0,e.jsx)(D.Z,{})]}):null,t.commission?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(C.Z,{span:3,children:(0,e.jsx)("span",{style:J,children:"\u4F7F\u7528\u4F63\u91D1"})}),(0,e.jsx)(C.Z,{span:20,children:(0,e.jsxs)(I.Z,{children:[(0,e.jsxs)(cn.Z,{checked:t.useCommission,onChange:function(r){return Pn(r.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F63\u91D1\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F63\u91D1",(0,e.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",k()(t.commission/100).format("0,0.00")]}),")"]}),(0,e.jsx)(y.Z,{disabled:!t.useCommission,value:t.payCommission,onChange:Cn,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})})]}),(0,e.jsx)(D.Z,{})]}):null,(0,e.jsx)("div",{children:(0,e.jsx)("span",{style:J,children:"\u652F\u4ED8\u65B9\u5F0F:"})}),(0,e.jsx)("div",{children:(0,e.jsxs)(F.ZP.Group,{buttonStyle:"outline",optionType:"button",onChange:function(r){return nn(r.target.value)},value:t.payApp,children:[(0,e.jsx)(F.ZP.Button,{value:"wechat",style:{height:160,width:360,marginRight:20,background:t.payApp==="wechat"?"#fffaeb":"#fff"},children:(0,e.jsx)("div",{style:{marginTop:24},children:(0,e.jsxs)(S.Z,{children:[(0,e.jsxs)(C.Z,{span:11,children:[(0,e.jsxs)("div",{style:{fontSize:24,fontWeight:700,paddingBottom:12},children:[(0,e.jsx)(Fn.Z,{style:{marginRight:10,color:"#52c41a"}}),"\u5FAE\u4FE1\u652F\u4ED8"]}),(0,e.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u8BF7\u4F7F\u7528 \u5FAE\u4FE1\u626B\u4E00\u626B"}),(0,e.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]}),(0,e.jsx)(C.Z,{span:13,style:{textAlign:"center"},children:(0,e.jsxs)("div",{style:{width:160,fontSize:32,marginTop:30,fontWeight:700,color:t.payApp==="wechat"?"#f60":"#000"},children:["\uFFE5",k()(t.payYuan).format("0,0.00")]})})]})})}),(0,e.jsx)(F.ZP.Button,{value:"alipay",style:{height:160,width:360,background:t.payApp==="alipay"?"#fffaeb":"#fff"},children:(0,e.jsx)("div",{style:{marginTop:24},children:(0,e.jsxs)(S.Z,{children:[(0,e.jsxs)(C.Z,{span:12,children:[(0,e.jsxs)("div",{style:{fontSize:24,fontWeight:700,paddingBottom:12},children:[(0,e.jsx)(Bn.Z,{style:{marginRight:10,color:"#027aff"}}),"\u652F\u4ED8\u5B9D\u652F\u4ED8"]}),(0,e.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u8BF7\u4F7F\u7528 \u652F\u4ED8\u5B9D\u626B\u4E00\u626B"}),(0,e.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]}),(0,e.jsx)(C.Z,{span:12,style:{textAlign:"center"},children:(0,e.jsxs)("div",{style:{width:160,fontSize:32,marginTop:30,fontWeight:700,color:t.payApp==="alipay"?"#f60":"#000"},children:["\uFFE5",k()(t.payYuan).format("0,0.00")]})})]})})})]})}),(0,e.jsx)("div",{style:{marginBottom:30},children:" "})]})};return(0,e.jsx)(gn.Z,x()(x()({title:"\u7FA4\u53D1\u989D\u5EA6\u8D2D\u4E70",className:tn.standardListForm,width:860,destroyOnClose:!0,open:pn,confirmLoading:$,maskClosable:!1},mn),{},{children:jn()}))},En=Zn},23606:function(vn,w,a){a.d(w,{Z:function(){return Z}});var M=a(30279),x=a.n(M),Q=a(35290),O=a.n(Q),L=a(411),sn=a.n(L),Y=a(46686),P=a.n(Y),G=a(85170),R=a(94853),F=a(41318),B=a(16798),D=a(77707),S=a(42147),C=a(96498),I=a(46394),y=a(28931),cn=a(34833),gn=a(18799),tn=a(58110),Fn=a(77070),Bn=a(26122),bn=a(98096),yn=a(1166),k=a(4587),b=a.n(k),dn=a(63099),e=a(33285),Zn=a(95370),En=a(16300),Tn=a(25071),n=a(43010),pn=[{name:"\u5BA2\u6237\u7BA1\u7406",normal:"\u4E0D\u9650\u91CF",vip:"\u4E0D\u9650\u91CF",svip:"\u4E0D\u9650\u91CF"},{name:"\u65E5\u5BFC\u5165\u6570",normal:"10000",vip:"100000",svip:"1000000"},{name:"\u65E5\u5BFC\u51FA\u6570",normal:"500",vip:"5000",svip:"50000"},{name:"\u9A8C\u8BC1\u6570\u91CF",normal:"1000",vip:"2000",svip:"10000"},{name:"\u9A8C\u8BC1\u901F\u5EA6",normal:"360/\u5C0F\u65F6",vip:"3600/\u5C0F\u65F6",svip:"36000/\u5C0F\u65F6"},{name:"\u90AE\u4EF6\u8FFD\u8E2A",normal:"\u65E0",vip:"\u6709",svip:"\u6709"},{name:"\u70B9\u51FB\u8FFD\u8E2A",normal:"\u65E0",vip:"\u6709",svip:"\u6709"},{name:"\u9644\u4EF6\u8FFD\u8E2A",normal:"\u65E0",vip:"\u6709",svip:"\u6709"},{name:"\u9000\u8BA2\u8FFD\u8E2A",normal:"\u5F3A\u5236\u63D2\u5165",vip:"\u53EF\u5173\u95ED",svip:"\u53EF\u5173\u95ED"},{name:"\u8FFD\u8E2A\u63D0\u9192",normal:"\u65E0",vip:"\u6709",svip:"\u6709"},{name:"\u9605\u8BFB\u8BE6\u60C5",normal:"\u65E0",vip:"\u6709",svip:"\u6709"},{name:"\u9605\u8BFB\u6765\u6E90",normal:"\u65E0",vip:"\u6709",svip:"\u6709"},{name:"\u4F4D\u7F6E\u7CBE\u5EA6",normal:"\u56FD\u5BB6\u7EA7",vip:"\u57CE\u5E02\u7EA7",svip:"\u57CE\u5E02\u7EA7"},{name:"\u8BBE\u7F6E\u7CBE\u5EA6",normal:"\u8BBE\u5907\u7EA7",vip:"\u7CFB\u7EDF\u7EA7",svip:"\u7CFB\u7EDF\u7EA7"},{name:"\u7CFB\u7EDF\u90AE\u7BB1",normal:"5",vip:"10",svip:"20"},{name:"\u6211\u7684\u90AE\u7BB1",normal:"5",vip:"10",svip:"20"},{name:"\u5B58\u50A8\u5BB9\u91CF",normal:"1G",vip:"5G",svip:"10G"},{name:"\u9644\u4EF6\u5927\u5C0F",normal:"1M",vip:"10M",svip:"20M"},{name:"\u81EA\u6709\u90AE\u7BB1\u7FA4\u53D1\u901F\u5EA6",normal:"1\u5C01/\u5206\u949F",vip:"5\u5C01/\u5206\u949F",svip:"10\u5C01/\u5206\u949F"},{name:"\u81EA\u6709\u90AE\u7BB1\u6700\u5927\u4EFB\u52A1",normal:"2",vip:"5",svip:"10"}],hn=function(E){return E==="\u6709"?(0,n.jsx)(Zn.Z,{style:{color:"#52c41a"}}):E==="\u65E0"?(0,n.jsx)(En.Z,{style:{color:"#eb2f96"}}):E},rn=function(E){var N=pn.map(function(K){var H=K[E];return(0,n.jsxs)("div",{children:[(0,n.jsx)(S.Z,{style:{margin:0}}),(0,n.jsx)("div",{style:{height:36,paddingTop:12,borderColor:"#f2ddaf",backgroundColor:"#fffae"},children:hn(H)})]},H)});return N},Dn=function(E){var N=E.visible,K=E.onCancel,H=(0,yn.Z)({payVipVisible:!1,qrcodeVisible:!1,codeUrl:"",app:"wechat",id:""}),un=P()(H,2),$=un[0],A=un[1],mn=function(){var s=sn()(O()().mark(function v(){return O()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:case"end":return j.stop()}},v)}));return function(){return s.apply(this,arguments)}}(),J=function(v,nn,j){A({id:v,app:nn,codeUrl:j,qrcodeVisible:!0})};return(0,G.useEffect)(function(){},[E.visible]),(0,n.jsxs)(tn.Z,{title:"\u4F1A\u5458\u4E2D\u5FC3",width:820,bodyStyle:{padding:"28px"},destroyOnClose:!0,open:N,onCancel:K,footer:!1,children:[(0,n.jsx)("div",{style:{textAlign:"center"},children:(0,n.jsxs)(e.Z,{title:!1,style:{textAlign:"center"},children:[(0,n.jsxs)(e.Z.Grid,{style:{width:"25%",padding:0,textAlign:"center"},children:[(0,n.jsx)("div",{style:{height:58,fontSize:20,fontWeight:700,paddingTop:32},children:"\u529F\u80FD\u7279\u6743"}),rn("name")]}),(0,n.jsxs)(e.Z.Grid,{style:{width:"25%",padding:0,textAlign:"center"},children:[(0,n.jsx)("div",{style:{height:90},children:(0,n.jsxs)(y.Z,{style:{marginTop:32},children:[(0,n.jsx)("img",{width:30,src:"https://files.laifaxin.com/www/normal.jpg"}),(0,n.jsx)("span",{style:{fontSize:20,fontWeight:700},children:"\u666E\u901A\u4F1A\u5458"})]})}),rn("normal")]}),(0,n.jsxs)(e.Z.Grid,{style:{width:"25%",padding:0},children:[(0,n.jsxs)("div",{style:{height:90},children:[(0,n.jsxs)(y.Z,{style:{marginTop:16},children:[(0,n.jsx)("img",{width:30,src:"https://files.laifaxin.com/www/vip.jpg"}),(0,n.jsx)("span",{style:{fontSize:20,fontWeight:700},children:"VIP\u4F1A\u5458"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(B.ZP,{size:"small",shape:"round",style:{color:"#64360d",background:"#e9b966",backgroundColor:"#e9b966",borderColor:"#e9b966",borderRadius:"100px"},onClick:function(){return A({payVipVisible:!0})},children:"\u5F00\u901AVIP"})})]}),rn("vip")]}),(0,n.jsxs)(e.Z.Grid,{style:{width:"25%",padding:0,color:"#ca963b",backgroundColor:"#fbf4e4",borderColor:"#e9b966"},children:[(0,n.jsxs)("div",{style:{height:90},children:[(0,n.jsxs)(y.Z,{style:{marginTop:16},children:[(0,n.jsx)("img",{width:30,src:"https://files.laifaxin.com/www/svip.jpg"}),(0,n.jsx)("span",{style:{fontSize:20,fontWeight:700},children:"SVIP\u4F1A\u5458"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(B.ZP,{size:"small",shape:"round",style:{color:"#64360d",background:"#e9b966",backgroundColor:"#e9b966",borderColor:"#e9b966",borderRadius:"100px"},onClick:function(){return A({payVipVisible:!0})},children:"\u5F00\u901ASVIP"})})]}),rn("svip")]})]})}),(0,n.jsx)(Z,{visible:$.payVipVisible,onCancel:function(){return A({payVipVisible:!1})},openQrcode:function(v,nn,j){return J(v,nn,j)},actionReload:function(){}}),(0,n.jsx)(Tn.Z,{visible:$.qrcodeVisible,codeUrl:$.codeUrl,app:$.app,id:$.id,onCancel:function(){return A({qrcodeVisible:!1})},actionReload:function(){return mn()}})]})},Sn=Dn,ln=a(22196),t=function(E){var N=E.visible,K=E.onCancel,H=E.openQrcode,un=E.actionReload,$=(0,ln.useModel)("@@initialState"),A=$.initialState,mn=(0,yn.Z)({testLoading:!1,payApp:"alipay",payYuan:0,goodsId:"",qrcodeVisiable:!0,codeUrl:"",goodsList:[],tips:"",uid:"",tabKey:"svip",price:0,goodsCount:1,balance:0,commission:0,useBalance:!1,payBalance:"",useCommission:!1,payCommission:"",vipInfoVisible:!1}),J=P()(mn,2),s=J[0],v=J[1],nn=R.Z.useToken(),j=nn.token,xn=function(o,l,h){v({goodsId:o,payYuan:l/100,price:l,goodsCount:1,tips:h,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1})},Pn=(0,ln.useRequest)(dn.u5,{manual:!0,onSuccess:function(o){if(o){var l=o.goodsList,h=o.uid,m=o.balance,p=o.commission;if(v({goodsList:l,uid:h,balance:m/10,commission:p/10,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1}),l&&l.length){var g=l[1],V=g.id,en=g.price,an=g.tips;v({goodsId:V,payYuan:en/100,tips:an,price:en})}}}}),Cn=Pn.run;(0,G.useEffect)(function(){N&&Cn({type:"svip"})},[N]);var jn=(0,ln.useRequest)(dn.ef,{manual:!0,onSuccess:function(o){if(o){var l=o.code_url,h=o.return_code,m=o.return_msg,p=o.id,g=o.payApp;h==="finished"?(K(),F.ZP.success("\u652F\u4ED8\u6210\u529F"),un()):h==="SUCCESS"||"".concat(h)==="10000"?(K(),H(p,g,l)):m&&F.ZP.error("\u8BA2\u5355\u521B\u5EFA\u5931\u8D25\uFF1A",m)}}}),T=jn.run,i=jn.loading,r=function(){var z=sn()(O()().mark(function o(){var l,h,m,p,g,V,en,an;return O()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(l=s.payApp,h=s.payYuan,m=s.goodsId,p=s.useBalance,g=s.useCommission,V=s.payBalance,en=s.payCommission,an=s.goodsCount,m){_.next=4;break}return F.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910"),_.abrupt("return");case 4:if(an){_.next=7;break}return F.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910\u6570\u91CF"),_.abrupt("return");case 7:T({payApp:l,payYuan:h,goods_type:"vip",goodsId:m,goodsCount:an,useBalance:p,useCommission:g,payBalance:V,payCommission:en});case 8:case"end":return _.stop()}},o)}));return function(){return z.apply(this,arguments)}}(),c=function(){var o,l;return(0,n.jsxs)("div",{children:[(0,n.jsx)(B.ZP,{onClick:K,children:"\u53D6\u6D88"}),(0,n.jsx)(B.ZP,{onClick:function(){return v({vipInfoVisible:!0})},danger:!0,children:"\u4F1A\u5458\u7279\u6743"}),(0,n.jsx)(B.ZP,{type:"primary",onClick:r,disabled:(A==null||(o=A.currentUser)===null||o===void 0?void 0:o.uid)!==(A==null||(l=A.currentUser)===null||l===void 0?void 0:l.userid),children:"\u786E\u8BA4\u652F\u4ED8"})]})},d={fontSize:16,fontWeight:525},u={fontSize:16,fontWeight:400},f=function(o,l){var h=o.id,m=o.name,p=o.price,g=o.oriPrice,V=o.tips,en=o.count,an=o.worth,An=l?14:0;return s.goodsId===h?(0,n.jsx)(D.ZP.Button,{style:x()(x()({},u),{},{width:180,height:120,marginLeft:An,marginBottom:12,textAlign:"center",backgroundColor:"#fffaeb"}),value:h,onClick:function(){return xn(h,p,V)},children:(0,n.jsxs)("div",{children:[an?(0,n.jsx)("div",{className:"bestText",children:"\u8D85\u503C"}):null,(0,n.jsx)("div",{style:{color:"#03081a",fontSize:"20px",fontWeight:700,lineHeight:"28px",paddingTop:12},children:m}),g&&g>p?(0,n.jsxs)("div",{children:["\uFFE5",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:b()(p/100).format("0,0")}),(0,n.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"16px",textDecoration:"line-through"},children:b()(g/100).format("0,0")})]}):(0,n.jsxs)("div",{children:["\uFFE5"," ",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:b()(p/100).format("0,0")})]}),(0,n.jsxs)("div",{style:{color:"#b57d1d"},children:[b()(p/100/en).format("0,0.00")," \u5143/\u5929"]})]})},h):(0,n.jsx)(D.ZP.Button,{style:x()(x()({},u),{},{width:180,height:120,marginLeft:An,marginBottom:12,textAlign:"center"}),value:h,onClick:function(){return xn(h,p,V)},children:(0,n.jsxs)("div",{children:[an?(0,n.jsx)("div",{className:"bestText",children:"\u8D85\u503C"}):null,(0,n.jsx)("div",{style:{color:j.colorText,fontSize:"20px",fontWeight:700,lineHeight:"28px",paddingTop:12},children:m}),g&&g>p?(0,n.jsxs)("div",{children:["\uFFE5",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:b()(p/100).format("0,0")}),(0,n.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"16px",textDecoration:"line-through"},children:b()(g/100).format("0,0")})]}):(0,n.jsxs)("div",{children:["\uFFE5"," ",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:b()(p/100).format("0,0")})]}),(0,n.jsxs)("div",{style:{color:"#b57d1d"},children:[b()(p/100/en).format("0,0.00")," \u5143/\u5929"]})]})},h)},W=function(o){v({payApp:o})},X=function(o){v({tabKey:o}),Cn({type:o})},q=function(o){v({useBalance:o});var l=s.price,h=s.balance,m=s.goodsCount;if(o){var p="".concat(h/100);h>=l*m&&(p="".concat(b()(l/100*m).format("0.00")));var g=(l*m-parseFloat(p)*100)/100;v({payBalance:p,payYuan:g,useCommission:!1,payCommission:""})}else{var V=l*m/100;v({payYuan:V,payBalance:""})}},fn=function(o){var l=s.price,h=s.balance,m=s.goodsCount,p=parseFloat(o)*100;if(p<=l*m&&p<=h){var g=(l*m-p)/100;v({payBalance:o,payYuan:g})}},U=function(o){v({useCommission:o});var l=s.price,h=s.commission,m=s.goodsCount;if(o){var p="".concat(h/100);h>=l*m&&(p="".concat(b()(l/100*m).format("0.00")));var g=(l*m-parseFloat(p)*100)/100;v({payCommission:p,payYuan:g,useBalance:!1,payBalance:""})}else{var V=l*m/100;v({payYuan:V,payCommission:""})}},zn=function(o){var l=s.price,h=s.commission,m=s.goodsCount,p=parseFloat(o)*100;if(p<=l*m&&p<=h){var g=(l*m-p)/100;v({payCommission:o,payYuan:g})}},Rn=function(){return(0,n.jsxs)(n.Fragment,{children:[s.tabKey==="svip"?(0,n.jsxs)("div",{style:d,children:["\u8D2D\u4E70 ",(0,n.jsx)("span",{style:{color:"#e9b966",fontWeight:700},children:"SVIP"})," \u5957\u9910:"]}):(0,n.jsxs)("div",{style:d,children:["\u8D2D\u4E70 ",(0,n.jsx)("span",{style:{color:"#ff7b64",fontWeight:700},children:"VIP"})," \u5957\u9910:"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(D.ZP.Group,{buttonStyle:"outline",optionType:"button",value:s.goodsId,children:s.goodsList.map(function(o,l){return f(o,l)})}),s.tips?(0,n.jsx)("div",{style:{marginTop:0,fontSize:12,color:"#999999"},children:s.tips}):null]}),(0,n.jsx)(S.Z,{}),s.balance?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(I.Z,{span:3,children:(0,n.jsx)("span",{style:d,children:"\u4F7F\u7528\u4F59\u989D"})}),(0,n.jsx)(I.Z,{span:20,children:(0,n.jsxs)(y.Z,{children:[(0,n.jsxs)(cn.Z,{checked:s.useBalance,onChange:function(l){return q(l.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F59\u989D\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F59\u989D",(0,n.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",b()(s.balance/100).format("0,0.00")]}),")"]}),(0,n.jsx)(gn.Z,{disabled:!s.useBalance,value:s.payBalance,onChange:fn,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})})]}),(0,n.jsx)(S.Z,{})]}):null,s.commission?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(I.Z,{span:3,children:(0,n.jsx)("span",{style:d,children:"\u4F7F\u7528\u4F63\u91D1"})}),(0,n.jsx)(I.Z,{span:20,children:(0,n.jsxs)(y.Z,{children:[(0,n.jsxs)(cn.Z,{checked:s.useCommission,onChange:function(l){return U(l.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F63\u91D1\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F63\u91D1",(0,n.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",b()(s.commission/100).format("0,0.00")]}),")"]}),(0,n.jsx)(gn.Z,{disabled:!s.useCommission,value:s.payCommission,onChange:zn,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})})]}),(0,n.jsx)(S.Z,{})]}):null,(0,n.jsx)("div",{children:(0,n.jsx)("span",{style:d,children:"\u4ED8\u6B3E\u65B9\u5F0F:"})}),(0,n.jsx)("div",{children:(0,n.jsxs)(D.ZP.Group,{buttonStyle:"outline",optionType:"button",onChange:function(l){return W(l.target.value)},value:s.payApp,children:[(0,n.jsx)(D.ZP.Button,{value:"wechat",style:{height:160,width:360,marginRight:20,background:s.payApp==="wechat"?j.colorBgLayout:j.colorBgContainer},children:(0,n.jsx)("div",{style:{marginTop:24},children:(0,n.jsxs)(C.Z,{children:[(0,n.jsxs)(I.Z,{span:11,children:[(0,n.jsxs)("div",{style:{fontSize:24,fontWeight:700,paddingBottom:12,color:j.colorText},children:[(0,n.jsx)(Bn.Z,{style:{marginRight:10,color:"#52c41a"}}),"\u5FAE\u4FE1\u652F\u4ED8"]}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u8BF7\u4F7F\u7528 \u5FAE\u4FE1\u626B\u4E00\u626B"}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]}),(0,n.jsx)(I.Z,{span:13,style:{textAlign:"center"},children:(0,n.jsxs)("div",{style:{width:160,fontSize:32,marginTop:30,fontWeight:700,color:s.payApp==="wechat"?"#f60":j.colorText},children:["\uFFE5",b()(s.payYuan).format("0,0.00")]})})]})})}),(0,n.jsx)(D.ZP.Button,{value:"alipay",style:{height:160,width:360,background:s.payApp==="alipay"?j.colorBgLayout:j.colorBgContainer},children:(0,n.jsx)("div",{style:{marginTop:24},children:(0,n.jsxs)(C.Z,{children:[(0,n.jsxs)(I.Z,{span:12,children:[(0,n.jsxs)("div",{style:{fontSize:24,fontWeight:700,paddingBottom:12,color:j.colorText},children:[(0,n.jsx)(bn.Z,{style:{marginRight:10,color:"#027aff"}}),"\u652F\u4ED8\u5B9D\u652F\u4ED8"]}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u8BF7\u4F7F\u7528 \u652F\u4ED8\u5B9D\u626B\u4E00\u626B"}),(0,n.jsx)("div",{style:{fontSize:14,color:"#999999"},children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]}),(0,n.jsx)(I.Z,{span:12,style:{textAlign:"center"},children:(0,n.jsxs)("div",{style:{width:160,fontSize:32,marginTop:30,fontWeight:700,color:s.payApp==="alipay"?"#f60":j.colorText},children:["\uFFE5",b()(s.payYuan).format("0,0.00")]})})]})})})]})}),(0,n.jsx)("div",{style:{marginBottom:30},children:" "})]})};return(0,n.jsxs)(tn.Z,{title:"\u4F1A\u5458\u5145\u503C",width:790,destroyOnClose:!0,open:N,confirmLoading:i,maskClosable:!1,onCancel:K,footer:c(),children:[(0,n.jsx)("div",{className:"class-vip-info",children:(0,n.jsx)(Fn.Z,{type:"card",size:"large",onChange:X,activeKey:s.tabKey,items:[{key:"svip",label:(0,n.jsxs)("div",{style:{width:336,fontSize:20,textAlign:"center",fontWeight:700},children:[(0,n.jsx)("img",{width:24,src:"https://files.laifaxin.com/www/svip.jpg"})," SVIP\u4F1A\u5458"]}),children:Rn()}]})}),(0,n.jsx)(Sn,{visible:s.vipInfoVisible,onCancel:function(){return v({vipInfoVisible:!1})}})]})},Z=t},81106:function(vn,w,a){a.d(w,{K:function(){return Y}});var M=a(35290),x=a.n(M),Q=a(30279),O=a.n(Q),L=x()().mark(Y),sn=function(G,R,F){var B=F!=null?F:0;return _objectSpread(_objectSpread({},G),{},{animationDelay:"".concat(R*.04+B,"s")})};function Y(P){var G,R,F,B,D,S,C;return x()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(G=P.max,R=P.delay,F=P.reverse,B=P.itemDelay,D=R!=null?R:0,!F){y.next=12;break}S=G;case 4:if(!(S>0)){y.next=10;break}return y.next=7,"".concat(S*(B!=null?B:.04)+D,"s");case 7:S--,y.next=4;break;case 10:y.next=19;break;case 12:C=0;case 13:if(!(C<G)){y.next=19;break}return y.next=16,"".concat(C*(B!=null?B:.04)+D,"s");case 16:C++,y.next=13;break;case 19:case"end":return y.stop()}},L)}}}]);
