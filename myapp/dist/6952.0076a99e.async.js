"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[6952],{6346:function(z,x,d){d.d(x,{k:function(){return C}});var I=d(14224);function C(T,P,...l){if(O()&&P===void 0)throw new Error("invariant requires an error message argument");if(!T){let N;if(P===void 0)N=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let m=0;N=new Error(P.replace(/%s/g,function(){return l[m++]})),N.name="Invariant Violation"}throw N.framesToPop=1,N}}function O(){return typeof I!="undefined"&&!0}},98789:function(z,x,d){d.d(x,{w:function(){return I}});function I(C,O,T,P){let l=T?T.call(P,C,O):void 0;if(l!==void 0)return!!l;if(C===O)return!0;if(typeof C!="object"||!C||typeof O!="object"||!O)return!1;const N=Object.keys(C),m=Object.keys(O);if(N.length!==m.length)return!1;const b=Object.prototype.hasOwnProperty.bind(O);for(let w=0;w<N.length;w++){const _=N[w];if(!b(_))return!1;const L=C[_],U=O[_];if(l=T?T.call(P,L,U,_):void 0,l===!1||l===void 0&&L!==U)return!1}return!0}},41434:function(z,x,d){d.d(x,{L:function(){return C}});var I=d(85170),C=(0,I.createContext)({dragDropManager:void 0})},23952:function(z,x,d){d.d(x,{W:function(){return vt}});var I=d(46686),C=d(43010),O=d(43453),T=d(9189),P=d(58482),l=d(6346),N=d(69946);function m(e,n,r){return n.split(".").reduce(function(i,u){return i&&i[u]?i[u]:r||null},e)}function b(e,n){return e.filter(function(r){return r!==n})}function w(e){return typeof e=="string"}function _(e){return N(e)==="object"}function L(e,n){var r=new Map,i=function(y){r.set(y,r.has(y)?r.get(y)+1:1)};e.forEach(i),n.forEach(i);var u=[];return r.forEach(function(h,y){h===1&&u.push(y)}),u}function U(e,n){return e.filter(function(r){return n.indexOf(r)>-1})}var A="dnd-core/INIT_COORDS",V="dnd-core/BEGIN_DRAG",j="dnd-core/PUBLISH_DRAG_SOURCE",K="dnd-core/HOVER",re="dnd-core/DROP",ee="dnd-core/END_DRAG";function te(e,n){return{type:A,payload:{sourceClientOffset:n||null,clientOffset:e||null}}}var ie={type:A,payload:{clientOffset:null,sourceClientOffset:null}};function ae(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},u=i.publishSource,h=u===void 0?!0:u,y=i.clientOffset,E=i.getSourceClientOffset,F=e.getMonitor(),G=e.getRegistry();e.dispatch(te(y)),oe(r,F,G);var W=v(r,F);if(W==null){e.dispatch(ie);return}var ge=null;if(y){if(!E)throw new Error("getSourceClientOffset must be defined");se(E),ge=E(W)}e.dispatch(te(y,ge));var Dt=G.getSource(W),Oe=Dt.beginDrag(F,W);if(Oe!=null){S(Oe),G.pinSource(W);var yt=G.getSourceType(W);return{type:V,payload:{itemType:yt,item:Oe,sourceId:W,clientOffset:y||null,sourceClientOffset:ge||null,isSourcePublic:!!h}}}}}function oe(e,n,r){(0,l.k)(!n.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(i){(0,l.k)(r.getSource(i),"Expected sourceIds to be registered.")})}function se(e){(0,l.k)(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function S(e){(0,l.k)(_(e),"Item must be an object.")}function v(e,n){for(var r=null,i=e.length-1;i>=0;i--)if(n.canDragSource(e[i])){r=e[i];break}return r}function p(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable}))),i.forEach(function(u){p(e,u,r[u])})}return e}function o(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.getMonitor(),u=e.getRegistry();t(i);var h=s(i);h.forEach(function(y,E){var F=a(y,E,u,i),G={type:re,payload:{dropResult:f({},r,F)}};e.dispatch(G)})}}function t(e){(0,l.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,l.k)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function a(e,n,r,i){var u=r.getTarget(e),h=u?u.drop(i,e):void 0;return c(h),typeof h=="undefined"&&(h=n===0?{}:i.getDropResult()),h}function c(e){(0,l.k)(typeof e=="undefined"||_(e),"Drop result must either be an object or undefined.")}function s(e){var n=e.getTargetIds().filter(e.canDropOnTarget,e);return n.reverse(),n}function g(e){return function(){var r=e.getMonitor(),i=e.getRegistry();R(r);var u=r.getSourceId();if(u!=null){var h=i.getSource(u,!0);h.endDrag(r,u),i.unpinSource()}return{type:ee}}}function R(e){(0,l.k)(e.isDragging(),"Cannot call endDrag while not dragging.")}function D(e,n){return n===null?e===null:Array.isArray(e)?e.some(function(r){return r===n}):e===n}function M(e){return function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=i.clientOffset;B(r);var h=r.slice(0),y=e.getMonitor(),E=e.getRegistry(),F=y.getItemType();return X(h,E,F),H(h,y,E),$(h,y,E),{type:K,payload:{targetIds:h,clientOffset:u||null}}}}function B(e){(0,l.k)(Array.isArray(e),"Expected targetIds to be an array.")}function H(e,n,r){(0,l.k)(n.isDragging(),"Cannot call hover while not dragging."),(0,l.k)(!n.didDrop(),"Cannot call hover after drop.");for(var i=0;i<e.length;i++){var u=e[i];(0,l.k)(e.lastIndexOf(u)===i,"Expected targetIds to be unique in the passed array.");var h=r.getTarget(u);(0,l.k)(h,"Expected targetIds to be registered.")}}function X(e,n,r){for(var i=e.length-1;i>=0;i--){var u=e[i],h=n.getTargetType(u);D(h,r)||e.splice(i,1)}}function $(e,n,r){e.forEach(function(i){var u=r.getTarget(i);u.hover(n,i)})}function Y(e){return function(){var r=e.getMonitor();if(r.isDragging())return{type:j}}}function k(e){return{beginDrag:ae(e),publishDragSource:Y(e),hover:M(e),drop:o(e),endDrag:g(e)}}var J=function(){function e(n,r){var i=this;T(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var u=i.store.getState().refCount>0;i.backend&&(u&&!i.isSetUp?(i.backend.setup(),i.isSetUp=!0):!u&&i.isSetUp&&(i.backend.teardown(),i.isSetUp=!1))},this.store=n,this.monitor=r,n.subscribe(this.handleRefCountChange)}return P(e,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,i=this.store.dispatch;function u(y){return function(){for(var E=arguments.length,F=new Array(E),G=0;G<E;G++)F[G]=arguments[G];var W=y.apply(r,F);typeof W!="undefined"&&i(W)}}var h=k(this);return Object.keys(h).reduce(function(y,E){var F=h[E];return y[E]=u(F),y},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),e}();function Z(e,n){return{x:e.x+n.x,y:e.y+n.y}}function Q(e,n){return{x:e.x-n.x,y:e.y-n.y}}function ne(e){var n=e.clientOffset,r=e.initialClientOffset,i=e.initialSourceClientOffset;return!n||!r||!i?null:Q(Z(n,i),r)}function ce(e){var n=e.clientOffset,r=e.initialClientOffset;return!n||!r?null:Q(n,r)}var ue=[],le=[];ue.__IS_NONE__=!0,le.__IS_ALL__=!0;function fe(e,n){if(e===ue)return!1;if(e===le||typeof n=="undefined")return!0;var r=U(n,e);return r.length>0}var Re=function(){function e(n,r){T(this,e),this.store=n,this.registry=r}return P(e,[{key:"subscribeToStateChange",value:function(r){var i=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=u.handlerIds;(0,l.k)(typeof r=="function","listener must be a function."),(0,l.k)(typeof h=="undefined"||Array.isArray(h),"handlerIds, when specified, must be an array of strings.");var y=this.store.getState().stateId,E=function(){var G=i.store.getState(),W=G.stateId;try{var ge=W===y||W===y+1&&!fe(G.dirtyHandlerIds,h);ge||r()}finally{y=W}};return this.store.subscribe(E)}},{key:"subscribeToOffsetChange",value:function(r){var i=this;(0,l.k)(typeof r=="function","listener must be a function.");var u=this.store.getState().dragOffset,h=function(){var E=i.store.getState().dragOffset;E!==u&&(u=E,r())};return this.store.subscribe(h)}},{key:"canDragSource",value:function(r){if(!r)return!1;var i=this.registry.getSource(r);return(0,l.k)(i,"Expected to find a valid source. sourceId=".concat(r)),this.isDragging()?!1:i.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var i=this.registry.getTarget(r);if((0,l.k)(i,"Expected to find a valid target. targetId=".concat(r)),!this.isDragging()||this.didDrop())return!1;var u=this.registry.getTargetType(r),h=this.getItemType();return D(u,h)&&i.canDrop(this,r)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var i=this.registry.getSource(r,!0);if((0,l.k)(i,"Expected to find a valid source. sourceId=".concat(r)),!this.isDragging()||!this.isSourcePublic())return!1;var u=this.registry.getSourceType(r),h=this.getItemType();return u!==h?!1:i.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var u=i.shallow;if(!this.isDragging())return!1;var h=this.registry.getTargetType(r),y=this.getItemType();if(y&&!D(h,y))return!1;var E=this.getTargetIds();if(!E.length)return!1;var F=E.indexOf(r);return u?F===E.length-1:F>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return ne(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return ce(this.store.getState().dragOffset)}}]),e}();const Te=typeof global!="undefined"?global:self,Se=Te.MutationObserver||Te.WebKitMutationObserver;function Ie(e){return function(){const r=setTimeout(u,0),i=setInterval(u,50);function u(){clearTimeout(r),clearInterval(i),e()}}}function Me(e){let n=1;const r=new Se(e),i=document.createTextNode("");return r.observe(i,{characterData:!0}),function(){n=-n,i.data=n}}const xe=typeof Se=="function"?Me:Ie;class _e{enqueueTask(n){const{queue:r,requestFlush:i}=this;r.length||(i(),this.flushing=!0),r[r.length]=n}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:n}=this;for(;this.index<n.length;){const r=this.index;if(this.index++,n[r].call(),this.index>this.capacity){for(let i=0,u=n.length-this.index;i<u;i++)n[i]=n[i+this.index];n.length-=this.index,this.index=0}}n.length=0,this.index=0,this.flushing=!1},this.registerPendingError=n=>{this.pendingErrors.push(n),this.requestErrorThrow()},this.requestFlush=xe(this.flush),this.requestErrorThrow=Ie(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Le{call(){try{this.task&&this.task()}catch(n){this.onError(n)}finally{this.task=null,this.release(this)}}constructor(n,r){this.onError=n,this.release=r,this.task=null}}class He{create(n){const r=this.freeTasks,i=r.length?r.pop():new Le(this.onError,u=>r[r.length]=u);return i.task=n,i}constructor(n){this.onError=n,this.freeTasks=[]}}const Ce=new _e,Ae=new He(Ce.registerPendingError);function Ue(e){Ce.enqueueTask(Ae.create(e))}var pe="dnd-core/ADD_SOURCE",me="dnd-core/ADD_TARGET",De="dnd-core/REMOVE_SOURCE",he="dnd-core/REMOVE_TARGET";function Fe(e){return{type:pe,payload:{sourceId:e}}}function je(e){return{type:me,payload:{targetId:e}}}function Be(e){return{type:De,payload:{sourceId:e}}}function Ge(e){return{type:he,payload:{targetId:e}}}function We(e){(0,l.k)(typeof e.canDrag=="function","Expected canDrag to be a function."),(0,l.k)(typeof e.beginDrag=="function","Expected beginDrag to be a function."),(0,l.k)(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Ve(e){(0,l.k)(typeof e.canDrop=="function","Expected canDrop to be a function."),(0,l.k)(typeof e.hover=="function","Expected hover to be a function."),(0,l.k)(typeof e.drop=="function","Expected beginDrag to be a function.")}function ye(e,n){if(n&&Array.isArray(e)){e.forEach(function(r){return ye(r,!1)});return}(0,l.k)(typeof e=="string"||N(e)==="symbol",n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var q;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(q||(q={}));var Xe=0;function Ye(){return Xe++}function ze(e){var n=Ye().toString();switch(e){case q.SOURCE:return"S".concat(n);case q.TARGET:return"T".concat(n);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Ee(e){switch(e[0]){case"S":return q.SOURCE;case"T":return q.TARGET;default:throw new Error("Cannot parse handler ID: ".concat(e))}}function be(e,n){var r=e.entries(),i=!1;do{var u=r.next(),h=u.done,y=I(u.value,2),E=y[1];if(E===n)return!0;i=!!h}while(!i);return!1}var Ke=function(){function e(n){T(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=n}return P(e,[{key:"addSource",value:function(r,i){ye(r),We(i);var u=this.addHandler(q.SOURCE,r,i);return this.store.dispatch(Fe(u)),u}},{key:"addTarget",value:function(r,i){ye(r,!0),Ve(i);var u=this.addHandler(q.TARGET,r,i);return this.store.dispatch(je(u)),u}},{key:"containsHandler",value:function(r){return be(this.dragSources,r)||be(this.dropTargets,r)}},{key:"getSource",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,l.k)(this.isSourceId(r),"Expected a valid source ID.");var u=i&&r===this.pinnedSourceId,h=u?this.pinnedSource:this.dragSources.get(r);return h}},{key:"getTarget",value:function(r){return(0,l.k)(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return(0,l.k)(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return(0,l.k)(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var i=Ee(r);return i===q.SOURCE}},{key:"isTargetId",value:function(r){var i=Ee(r);return i===q.TARGET}},{key:"removeSource",value:function(r){var i=this;(0,l.k)(this.getSource(r),"Expected an existing source."),this.store.dispatch(Be(r)),Ue(function(){i.dragSources.delete(r),i.types.delete(r)})}},{key:"removeTarget",value:function(r){(0,l.k)(this.getTarget(r),"Expected an existing target."),this.store.dispatch(Ge(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var i=this.getSource(r);(0,l.k)(i,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=i}},{key:"unpinSource",value:function(){(0,l.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,i,u){var h=ze(r);return this.types.set(h,i),r===q.SOURCE?this.dragSources.set(h,u):r===q.TARGET&&this.dropTargets.set(h,u),h}}]),e}(),$e=function(n,r){return n===r};function Je(e,n){return!e&&!n?!0:!e||!n?!1:e.x===n.x&&e.y===n.y}function Qe(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e;if(e.length!==n.length)return!1;for(var i=0;i<e.length;++i)if(!r(e[i],n[i]))return!1;return!0}function Ze(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ue,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case K:break;case pe:case me:case he:case De:return ue;case V:case j:case ee:case re:default:return le}var r=n.payload,i=r.targetIds,u=i===void 0?[]:i,h=r.prevTargetIds,y=h===void 0?[]:h,E=L(u,y),F=E.length>0||!Qe(u,y);if(!F)return ue;var G=y[y.length-1],W=u[u.length-1];return G!==W&&(G&&E.push(G),W&&E.push(W)),E}function qe(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function et(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable}))),i.forEach(function(u){qe(e,u,r[u])})}return e}var we={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function tt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:we,n=arguments.length>1?arguments[1]:void 0,r=n.payload;switch(n.type){case A:case V:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case K:return Je(e.clientOffset,r.clientOffset)?e:et({},e,{clientOffset:r.clientOffset});case ee:case re:return we;default:return e}}function rt(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function de(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable}))),i.forEach(function(u){rt(e,u,r[u])})}return e}var nt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function it(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nt,n=arguments.length>1?arguments[1]:void 0,r=n.payload;switch(n.type){case V:return de({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case j:return de({},e,{isSourcePublic:!0});case K:return de({},e,{targetIds:r.targetIds});case he:return e.targetIds.indexOf(r.targetId)===-1?e:de({},e,{targetIds:b(e.targetIds,r.targetId)});case re:return de({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case ee:return de({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function at(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case pe:case me:return e+1;case De:case he:return e-1;default:return e}}function ot(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function st(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ut(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable}))),i.forEach(function(u){st(e,u,r[u])})}return e}function ct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ze(e.dirtyHandlerIds,{type:n.type,payload:ut({},n.payload,{prevTargetIds:m(e,"dragOperation.targetIds",[])})}),dragOffset:tt(e.dragOffset,n),refCount:at(e.refCount,n),dragOperation:it(e.dragOperation,n),stateId:ot(e.stateId)}}function dt(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=lt(i),h=new Re(u,new Ke(u)),y=new J(u,h),E=e(y,n,r);return y.receiveBackend(E),y}function lt(e){var n=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,O.MT)(ct,e&&n&&n({name:"dnd-core",instanceId:"dnd-core"}))}var ke=d(85170),gt=d(41434);function ft(e,n){if(e==null)return{};var r=ht(e,n),i,u;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(u=0;u<h.length;u++)i=h[u],!(n.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}function ht(e,n){if(e==null)return{};var r={},i=Object.keys(e),u,h;for(h=0;h<i.length;h++)u=i[h],!(n.indexOf(u)>=0)&&(r[u]=e[u]);return r}var Pe=0,ve=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),vt=(0,ke.memo)(function(n){var r=n.children,i=ft(n,["children"]),u=pt(i),h=I(u,2),y=h[0],E=h[1];return(0,ke.useEffect)(function(){if(E){var F=Ne();return++Pe,function(){--Pe===0&&(F[ve]=null)}}},[]),(0,C.jsx)(gt.L.Provider,{value:y,children:r})});function pt(e){if("manager"in e){var n={dragDropManager:e.manager};return[n,!1]}var r=mt(e.backend,e.context,e.options,e.debugMode),i=!e.context;return[r,i]}function mt(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne(),r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,u=n;return u[ve]||(u[ve]={dragDropManager:dt(e,n,r,i)}),u[ve]}function Ne(){return typeof global!="undefined"?global:window}},44819:function(z,x,d){d.d(x,{J:function(){return N}});var I=d(46686),C=d(3341),O=d(85170),T=d(40158);function P(m,b,w){var _=(0,O.useState)(function(){return b(m)}),L=I(_,2),U=L[0],A=L[1],V=(0,O.useCallback)(function(){var j=b(m);C(U,j)||(A(j),w&&w())},[U,m,w]);return(0,T.L)(V),[U,V]}function l(m,b,w){var _=P(m,b,w),L=I(_,2),U=L[0],A=L[1];return(0,T.L)(function(){var j=m.getHandlerId();if(j!=null)return m.subscribeToStateChange(A,{handlerIds:[j]})},[m,A]),U}function N(m,b,w){return l(b,m||function(){return{}},function(){return w.reconnect()})}},21261:function(z,x,d){d.d(x,{c:function(){return p}});var I=d(6346),C=d(44819),O=d(42833),T=d(85170);function P(f){return(0,T.useMemo)(function(){return f.hooks.dragSource()},[f])}function l(f){return(0,T.useMemo)(function(){return f.hooks.dragPreview()},[f])}var N=d(9189),m=d(58482),b=d(98789),w=d(28369),_=d(52119),L=function(){function f(o){var t=this;N(this,f),this.hooks=(0,_.p)({dragSource:function(c,s){t.clearDragSource(),t.dragSourceOptions=s||null,(0,w.d)(c)?t.dragSourceRef=c:t.dragSourceNode=c,t.reconnectDragSource()},dragPreview:function(c,s){t.clearDragPreview(),t.dragPreviewOptions=s||null,(0,w.d)(c)?t.dragPreviewRef=c:t.dragPreviewNode=c,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=o}return m(f,[{key:"receiveHandlerId",value:function(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(t){this.dragSourceOptionsInternal=t}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(t){this.dragPreviewOptionsInternal=t}},{key:"reconnect",value:function(){var t=this.reconnectDragSource();this.reconnectDragPreview(t)}},{key:"reconnectDragSource",value:function(){var t=this.dragSource,a=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return a&&this.disconnectDragSource(),this.handlerId?t?(a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),a):(this.lastConnectedDragSource=t,a):a}},{key:"reconnectDragPreview",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.dragPreview,c=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(c&&this.disconnectDragPreview(),!!this.handlerId){if(!a){this.lastConnectedDragPreview=a;return}c&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=a,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,a,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,b.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,b.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),f}(),U=d(21629),A=d(40158);function V(f,o){var t=(0,U.N)(),a=(0,T.useMemo)(function(){return new L(t.getBackend())},[t]);return(0,A.L)(function(){return a.dragSourceOptions=f||null,a.reconnect(),function(){return a.disconnectDragSource()}},[a,f]),(0,A.L)(function(){return a.dragPreviewOptions=o||null,a.reconnect(),function(){return a.disconnectDragPreview()}},[a,o]),a}var j=!1,K=!1,re=function(){function f(o){N(this,f),this.sourceId=null,this.internalMonitor=o.getMonitor()}return m(f,[{key:"receiveHandlerId",value:function(t){this.sourceId=t}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,I.k)(!j,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return j=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{j=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,I.k)(!K,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return K=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{K=!1}}},{key:"subscribeToStateChange",value:function(t,a){return this.internalMonitor.subscribeToStateChange(t,a)}},{key:"isDraggingSource",value:function(t){return this.internalMonitor.isDraggingSource(t)}},{key:"isOverTarget",value:function(t,a){return this.internalMonitor.isOverTarget(t,a)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(t){return this.internalMonitor.subscribeToOffsetChange(t)}},{key:"canDragSource",value:function(t){return this.internalMonitor.canDragSource(t)}},{key:"canDropOnTarget",value:function(t){return this.internalMonitor.canDropOnTarget(t)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),f}();function ee(){var f=(0,U.N)();return(0,T.useMemo)(function(){return new re(f)},[f])}var te=d(46686),ie=d(88222),ae=d(69946),oe=function(){function f(o,t,a){N(this,f),this.spec=o,this.monitor=t,this.connector=a}return m(f,[{key:"beginDrag",value:function(){var t=this.spec,a=this.monitor,c=null;return ae(t.item)==="object"?c=t.item:typeof t.item=="function"?c=t.item(a):c={},c!=null?c:null}},{key:"canDrag",value:function(){var t=this.spec,a=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(a):!0}},{key:"isDragging",value:function(t,a){var c=this.spec,s=this.monitor,g=c.isDragging;return g?g(s):a===t.getSourceId()}},{key:"endDrag",value:function(){var t=this.spec,a=this.monitor,c=this.connector,s=t.end;s&&s(a.getItem(),a),c.reconnect()}}]),f}();function se(f,o,t){var a=(0,T.useMemo)(function(){return new oe(f,o,t)},[o,t]);return(0,T.useEffect)(function(){a.spec=f},[f]),a}function S(f){return(0,T.useMemo)(function(){var o=f.type;return(0,I.k)(o!=null,"spec.type must be defined"),o},[f])}function v(f,o,t){var a=(0,U.N)(),c=se(f,o,t),s=S(f);(0,A.L)(function(){if(s!=null){var R=(0,ie.w)(s,c,a),D=te(R,2),M=D[0],B=D[1];return o.receiveHandlerId(M),t.receiveHandlerId(M),B}},[a,o,t,c,s])}function p(f,o){var t=(0,O.w)(f,o);(0,I.k)(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var a=ee(),c=V(t.options,t.previewOptions);return v(t,a,c),[(0,C.J)(t.collect,a,c),P(c),l(c)]}},21629:function(z,x,d){d.d(x,{N:function(){return T}});var I=d(6346),C=d(85170),O=d(41434);function T(){var P=(0,C.useContext)(O.L),l=P.dragDropManager;return(0,I.k)(l!=null,"Expected drag drop context"),l}},25003:function(z,x,d){d.d(x,{L:function(){return se}});var I=d(44819),C=d(42833),O=d(85170);function T(S){return(0,O.useMemo)(function(){return S.hooks.dropTarget()},[S])}var P=d(9189),l=d(58482),N=d(98789),m=d(28369),b=d(52119),w=function(){function S(v){var p=this;P(this,S),this.hooks=(0,b.p)({dropTarget:function(o,t){p.clearDropTarget(),p.dropTargetOptions=t,(0,m.d)(o)?p.dropTargetRef=o:p.dropTargetNode=o,p.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=v}return l(S,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var p=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();p&&this.disconnectDropTarget();var f=this.dropTarget;if(!!this.handlerId){if(!f){this.lastConnectedDropTarget=f;return}p&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=f,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,f,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(p){p!==this.handlerId&&(this.handlerId=p,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(p){this.dropTargetOptionsInternal=p}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,N.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),S}(),_=d(21629),L=d(40158);function U(S){var v=(0,_.N)(),p=(0,O.useMemo)(function(){return new w(v.getBackend())},[v]);return(0,L.L)(function(){return p.dropTargetOptions=S||null,p.reconnect(),function(){return p.disconnectDropTarget()}},[S]),p}var A=d(6346),V=!1,j=function(){function S(v){P(this,S),this.targetId=null,this.internalMonitor=v.getMonitor()}return l(S,[{key:"receiveHandlerId",value:function(p){this.targetId=p}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(p,f){return this.internalMonitor.subscribeToStateChange(p,f)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,A.k)(!V,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return V=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{V=!1}}},{key:"isOver",value:function(p){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,p):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),S}();function K(){var S=(0,_.N)();return(0,O.useMemo)(function(){return new j(S)},[S])}var re=d(46686),ee=d(88222);function te(S){var v=S.accept;return(0,O.useMemo)(function(){return(0,A.k)(S.accept!=null,"accept must be defined"),Array.isArray(v)?v:[v]},[v])}var ie=function(){function S(v,p){P(this,S),this.spec=v,this.monitor=p}return l(S,[{key:"canDrop",value:function(){var p=this.spec,f=this.monitor;return p.canDrop?p.canDrop(f.getItem(),f):!0}},{key:"hover",value:function(){var p=this.spec,f=this.monitor;p.hover&&p.hover(f.getItem(),f)}},{key:"drop",value:function(){var p=this.spec,f=this.monitor;if(p.drop)return p.drop(f.getItem(),f)}}]),S}();function ae(S,v){var p=(0,O.useMemo)(function(){return new ie(S,v)},[v]);return(0,O.useEffect)(function(){p.spec=S},[S]),p}function oe(S,v,p){var f=(0,_.N)(),o=ae(S,v),t=te(S);(0,L.L)(function(){var c=(0,ee.n)(t,o,f),s=re(c,2),g=s[0],R=s[1];return v.receiveHandlerId(g),p.receiveHandlerId(g),R},[f,v,o,p,t.map(function(a){return a.toString()}).join("|")])}function se(S,v){var p=(0,C.w)(S,v),f=K(),o=U(p.options);return oe(p,f,o),[(0,I.J)(p.collect,f,o),T(o)]}},40158:function(z,x,d){d.d(x,{L:function(){return C}});var I=d(85170),C=typeof window!="undefined"?I.useLayoutEffect:I.useEffect},42833:function(z,x,d){d.d(x,{w:function(){return O}});var I=d(94434),C=d(85170);function O(T,P){var l=I(P||[]);return P==null&&typeof T!="function"&&l.push(T),(0,C.useMemo)(function(){return typeof T=="function"?T():T},l)}},28369:function(z,x,d){d.d(x,{d:function(){return C}});var I=d(69946);function C(O){return O!==null&&I(O)==="object"&&Object.prototype.hasOwnProperty.call(O,"current")}},88222:function(z,x,d){d.d(x,{n:function(){return I},w:function(){return C}});function I(O,T,P){var l=P.getRegistry(),N=l.addTarget(O,T);return[N,function(){return l.removeTarget(N)}]}function C(O,T,P){var l=P.getRegistry(),N=l.addSource(O,T);return[N,function(){return l.removeSource(N)}]}},52119:function(z,x,d){d.d(x,{p:function(){return P}});var I=d(6346),C=d(85170);function O(m){if(typeof m.type!="string"){var b=m.type.displayName||m.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(b," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function T(m){return function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!(0,C.isValidElement)(b)){var _=b;return m(_,w),_}var L=b;O(L);var U=w?function(A){return m(A,w)}:m;return N(L,U)}}function P(m){var b={};return Object.keys(m).forEach(function(w){var _=m[w];if(w.endsWith("Ref"))b[w]=m[w];else{var L=T(_);b[w]=function(){return L}}}),b}function l(m,b){typeof m=="function"?m(b):m.current=b}function N(m,b){var w=m.ref;return(0,I.k)(typeof w!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),w?(0,C.cloneElement)(m,{ref:function(L){l(w,L),l(b,L)}}):(0,C.cloneElement)(m,{ref:b})}},4690:function(z,x,d){d.d(x,{PD:function(){return f}});var I={};d.r(I),d.d(I,{FILE:function(){return N},HTML:function(){return w},TEXT:function(){return b},URL:function(){return m}});function C(o){let t=null;return()=>(t==null&&(t=o()),t)}function O(o,t){return o.filter(a=>a!==t)}function T(o,t){const a=new Set,c=g=>a.add(g);o.forEach(c),t.forEach(c);const s=[];return a.forEach(g=>s.push(g)),s}class P{enter(t){const a=this.entered.length,c=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=T(this.entered.filter(c),[t]),a===0&&this.entered.length>0}leave(t){const a=this.entered.length;return this.entered=O(this.entered.filter(this.isNodeInDocument),t),a>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class l{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const a={};Object.keys(this.config.exposeProperties).forEach(c=>{const s=this.config.exposeProperties[c];s!=null&&(a[c]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,a)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,a){return a===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const N="__NATIVE_FILE__",m="__NATIVE_URL__",b="__NATIVE_TEXT__",w="__NATIVE_HTML__";function _(o,t,a){const c=t.reduce((s,g)=>s||o.getData(g),"");return c!=null?c:a}const L={[N]:{exposeProperties:{files:o=>Array.prototype.slice.call(o.files),items:o=>o.items,dataTransfer:o=>o},matchesTypes:["Files"]},[w]:{exposeProperties:{html:(o,t)=>_(o,t,""),dataTransfer:o=>o},matchesTypes:["Html","text/html"]},[m]:{exposeProperties:{urls:(o,t)=>_(o,t,"").split(`
`),dataTransfer:o=>o},matchesTypes:["Url","text/uri-list"]},[b]:{exposeProperties:{text:(o,t)=>_(o,t,""),dataTransfer:o=>o},matchesTypes:["Text","text/plain"]}};function U(o,t){const a=L[o];if(!a)throw new Error(`native type ${o} has no configuration`);const c=new l(a);return c.loadDataTransfer(t),c}function A(o){if(!o)return null;const t=Array.prototype.slice.call(o.types||[]);return Object.keys(L).filter(a=>{const c=L[a];return c!=null&&c.matchesTypes?c.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const V=C(()=>/firefox/i.test(navigator.userAgent)),j=C(()=>Boolean(window.safari));class K{interpolate(t){const{xs:a,ys:c,c1s:s,c2s:g,c3s:R}=this;let D=a.length-1;if(t===a[D])return c[D];let M=0,B=R.length-1,H;for(;M<=B;){H=Math.floor(.5*(M+B));const Y=a[H];if(Y<t)M=H+1;else if(Y>t)B=H-1;else return c[H]}D=Math.max(0,B);const X=t-a[D],$=X*X;return c[D]+s[D]*X+g[D]*$+R[D]*X*$}constructor(t,a){const{length:c}=t,s=[];for(let k=0;k<c;k++)s.push(k);s.sort((k,J)=>t[k]<t[J]?-1:1);const g=[],R=[],D=[];let M,B;for(let k=0;k<c-1;k++)M=t[k+1]-t[k],B=a[k+1]-a[k],R.push(M),g.push(B),D.push(B/M);const H=[D[0]];for(let k=0;k<R.length-1;k++){const J=D[k],Z=D[k+1];if(J*Z<=0)H.push(0);else{M=R[k];const Q=R[k+1],ne=M+Q;H.push(3*ne/((ne+Q)/J+(ne+M)/Z))}}H.push(D[D.length-1]);const X=[],$=[];let Y;for(let k=0;k<H.length-1;k++){Y=D[k];const J=H[k],Z=1/R[k],Q=J+H[k+1]-Y-Y;X.push((Y-J-Q)*Z),$.push(Q*Z*Z)}this.xs=t,this.ys=a,this.c1s=H,this.c2s=X,this.c3s=$}}const re=1;function ee(o){const t=o.nodeType===re?o:o.parentElement;if(!t)return null;const{top:a,left:c}=t.getBoundingClientRect();return{x:c,y:a}}function te(o){return{x:o.clientX,y:o.clientY}}function ie(o){var t;return o.nodeName==="IMG"&&(V()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(o)))}function ae(o,t,a,c){let s=o?t.width:a,g=o?t.height:c;return j()&&o&&(g/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:g}}function oe(o,t,a,c,s){const g=ie(t),D=ee(g?o:t),M={x:a.x-D.x,y:a.y-D.y},{offsetWidth:B,offsetHeight:H}=o,{anchorX:X,anchorY:$}=c,{dragPreviewWidth:Y,dragPreviewHeight:k}=ae(g,t,B,H),J=()=>{let fe=new K([0,.5,1],[M.y,M.y/H*k,M.y+k-H]).interpolate($);return j()&&g&&(fe+=(window.devicePixelRatio-1)*k),fe},Z=()=>new K([0,.5,1],[M.x,M.x/B*Y,M.x+Y-B]).interpolate(X),{offsetX:Q,offsetY:ne}=s,ce=Q===0||Q,ue=ne===0||ne;return{x:ce?Q:Z(),y:ue?ne:J()}}class se{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,a){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=a}}function S(o,t,a){return t in o?Object.defineProperty(o,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[t]=a,o}function v(o){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{},c=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),c.forEach(function(s){S(o,s,a[s])})}return o}class p{profile(){var t,a;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((a=this.dragOverTargetIds)===null||a===void 0?void 0:a.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var a;(a=this.window)===null||a===void 0||a.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,a,c){return this.sourcePreviewNodeOptions.set(t,c),this.sourcePreviewNodes.set(t,a),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,a,c){this.sourceNodes.set(t,a),this.sourceNodeOptions.set(t,c);const s=R=>this.handleDragStart(R,t),g=R=>this.handleSelectStart(R);return a.setAttribute("draggable","true"),a.addEventListener("dragstart",s),a.addEventListener("selectstart",g),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),a.removeEventListener("dragstart",s),a.removeEventListener("selectstart",g),a.setAttribute("draggable","false")}}connectDropTarget(t,a){const c=R=>this.handleDragEnter(R,t),s=R=>this.handleDragOver(R,t),g=R=>this.handleDrop(R,t);return a.addEventListener("dragenter",c),a.addEventListener("dragover",s),a.addEventListener("drop",g),()=>{a.removeEventListener("dragenter",c),a.removeEventListener("dragover",s),a.removeEventListener("drop",g)}}addEventListeners(t){!t.addEventListener||(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){!t.removeEventListener||(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),a=this.sourceNodeOptions.get(t);return v({dropEffect:this.altKeyPressed?"copy":"move"},a||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),a=this.sourcePreviewNodeOptions.get(t);return v({anchorX:.5,anchorY:.5,captureDraggingState:!1},a||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(I).some(a=>I[a]===t)}beginDragNativeItem(t,a){this.clearCurrentDragSourceNode(),this.currentNativeSource=U(t,a),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const a=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var c;return(c=this.rootElement)===null||c===void 0?void 0:c.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},a)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,a){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(a))}handleDragEnter(t,a){this.dragEnterTargetIds.unshift(a)}handleDragOver(t,a){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(a)}handleDrop(t,a){this.dropTargetIds.unshift(a)}constructor(t,a,c){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const g=this.sourceNodes.get(s);return g&&ee(g)||null},this.endDragNativeItem=()=>{!this.isDraggingNativeItem()||(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>Boolean(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:g}=this;this.dragStartSourceIds=null;const R=te(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(g||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:R});const{dataTransfer:D}=s,M=A(D);if(this.monitor.isDragging()){if(D&&typeof D.setDragImage=="function"){const H=this.monitor.getSourceId(),X=this.sourceNodes.get(H),$=this.sourcePreviewNodes.get(H)||X;if($){const{anchorX:Y,anchorY:k,offsetX:J,offsetY:Z}=this.getCurrentSourcePreviewNodeOptions(),ce=oe(X,$,R,{anchorX:Y,anchorY:k},{offsetX:J,offsetY:Z});D.setDragImage($,ce.x,ce.y)}}try{D==null||D.setData("application/json",{})}catch(H){}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:B}=this.getCurrentSourcePreviewNodeOptions();B?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(M)this.beginDragNativeItem(M);else{if(D&&!D.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var g;(g=this.currentNativeSource)===null||g===void 0||g.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:D}=s,M=A(D);M&&this.beginDragNativeItem(M,D)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:g}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,g.length>0&&this.actions.hover(g,{clientOffset:te(s)}),g.some(D=>this.monitor.canDropOnTarget(D))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var g;(g=this.currentNativeSource)===null||g===void 0||g.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:g}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=te(s),this.scheduleHover(g),(g||[]).some(D=>this.monitor.canDropOnTarget(D))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var g;s.preventDefault(),(g=this.currentNativeSource)===null||g===void 0||g.loadDataTransfer(s.dataTransfer)}else A(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:g}=this;this.dropTargetIds=[],this.actions.hover(g,{clientOffset:te(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const g=s.target;typeof g.dragDrop=="function"&&(g.tagName==="INPUT"||g.tagName==="SELECT"||g.tagName==="TEXTAREA"||g.isContentEditable||(s.preventDefault(),g.dragDrop()))},this.options=new se(a,c),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new P(this.isNodeInDocument)}}const f=function(t,a,c){return new p(t,a,c)}}}]);
