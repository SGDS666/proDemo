"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[2619],{57603:function(Z,y,n){n.d(y,{Z:function(){return j}});var g=n(75782),s=n(85170),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},f=S,h=n(70325),c=function(p,d){return s.createElement(h.Z,(0,g.Z)((0,g.Z)({},p),{},{ref:d,icon:f}))};c.displayName="RollbackOutlined";var j=s.forwardRef(c)},88208:function(Z,y,n){var g=n(30279),s=n.n(g),S=n(85170),f=n(91522),h=n(43010);y.Z=function(c){var j=c.children,F=c.pageTitle;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(f._z,s()(s()({header:{title:F,breadcrumb:{}}},c),{},{children:j}))})}},66976:function(Z,y,n){n.r(y),n.d(y,{default:function(){return Q}});var g=n(35290),s=n.n(g),S=n(30279),f=n.n(S),h=n(411),c=n.n(h),j=n(46686),F=n.n(j),p=n(85170),d=n(11039),A=n(33285),O=n(42147),W=n(56888),B=n(74954),M=n(16798),H=n(88208),$=n(1166),C=n(22196),V=n(48865),G=n(57603),R={main:"main___OOTyy",leftMenu:"leftMenu___KlzBV",right:"right___etL_Z",title:"title___o4Y7c",readFont:"readFont___M1ooa",unreadFont:"unreadFont___YLw7c"},b=n(86624),Y=n(88665),t=n(43010),J=function(){var E=(0,p.useRef)(),X=(0,p.useState)(!1),I=F()(X,2),_=I[0],q=I[1],ee=(0,$.Z)({selectKey:"all",detailsShow:!1,tblSelectKeys:[]}),P=F()(ee,2),m=P[0],x=P[1],L=(0,C.useModel)("user"),K=L.messageRun,e=L.messageData,k=(0,C.useRequest)(b.Du,{manual:!0,onSuccess:function(a){var u=a.status;u===0&&(K(),E.current.reload())}}),te=k.run,v=k.data,ne=k.loading,w=function(a){te({msgId:a}),x({detailsShow:!0})},ae=[{title:"\u6807\u9898\u5185\u5BB9",dataIndex:"title",valueType:"text",render:function(a,u){var l=u.status,i=u.title,o=u._id;return"".concat(l)==="0"?(0,t.jsx)("a",{onClick:function(){return w(o)},children:(0,t.jsxs)("div",{className:R.unreadFont,children:[(0,t.jsx)(d.Z,{status:"processing"}),i]})}):(0,t.jsx)("a",{onClick:function(){return w(o)},children:(0,t.jsx)("div",{className:R.readFont,children:i})})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time",hideInSearch:!0,valueType:"dateTime",width:180},{title:"\u6D88\u606F\u7C7B\u578B",dataIndex:"type",valueType:"text",width:180,valueEnum:{service:{text:"\u670D\u52A1\u6D88\u606F"},activity:{text:"\u6D3B\u52A8\u6D88\u606F"},security:{text:"\u5B89\u5168\u6D88\u606F"},payment:{text:"\u5145\u503C\u6D88\u606F"},task:{text:"\u4EFB\u52A1\u6D88\u606F"},partner:{text:"\u63A8\u5E7F\u6D88\u606F"}}}],T=function(){E.current&&E.current.reload()},ue=function(){var r=c()(s()().mark(function a(u,l,i){var o;return s()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(l||(l={}),Object.keys(l).length&&q(!0),!_&&Object.keys(l).length===0&&(l={create_time:"descend"}),o=m.selectKey,o!=="all"){D.next=6;break}return D.abrupt("return",(0,b.Eo)(f()(f()({},u),{},{sorter:l,filter:i})));case 6:return D.abrupt("return",(0,b.Eo)(f()(f()({},u),{},{sorter:l,filter:i,type:o})));case 7:case"end":return D.stop()}},a)}));return function(u,l,i){return r.apply(this,arguments)}}(),le=function(a){x({selectKey:a}),T()},re=function(){var a=m.selectKey;return a==="all"?e!=null&&e.total?"\u6240\u6709\u6D88\u606F ".concat(e==null?void 0:e.total):"\u6240\u6709\u6D88\u606F":a==="task"?e!=null&&e.task?"\u4EFB\u52A1\u6D88\u606F ".concat(e==null?void 0:e.task):"\u4EFB\u52A1\u6D88\u606F":a==="service"?e!=null&&e.service?"\u670D\u52A1\u6D88\u606F ".concat(e==null?void 0:e.service):"\u670D\u52A1\u6D88\u606F":a==="activity"?e!=null&&e.activity?"\u6D3B\u52A8\u6D88\u606F ".concat(e==null?void 0:e.activity):"\u6D3B\u52A8\u6D88\u606F":a==="payment"?e!=null&&e.payment?"\u5145\u503C\u6D88\u606F ".concat(e==null?void 0:e.payment):"\u5145\u503C\u6D88\u606F":a==="partner"?e!=null&&e.partner?"\u63A8\u5E7F\u6D88\u606F ".concat(e==null?void 0:e.partner):"\u63A8\u5E7F\u6D88\u606F":a},z=(0,C.useRequest)(b.Hd,{manual:!0,onSuccess:function(){var r=c()(s()().mark(function u(){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:K(),T();case 2:case"end":return i.stop()}},u)}));function a(){return r.apply(this,arguments)}return a}()}),se=z.run,ie=z.loading,oe=function(){var r=c()(s()().mark(function a(u){var l;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=m.selectKey,o.next=3,se({type:l,msgIds:u});case 3:x({tblSelectKeys:[]});case 4:case"end":return o.stop()}},a)}));return function(u){return r.apply(this,arguments)}}(),U=(0,C.useRequest)(b.rV,{manual:!0,onSuccess:function(){var r=c()(s()().mark(function u(){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:K(),T();case 2:case"end":return i.stop()}},u)}));function a(){return r.apply(this,arguments)}return a}()}),ce=U.run,de=U.loading,ve=function(){var r=c()(s()().mark(function a(u){var l;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=m.selectKey,o.next=3,ce({type:l,msgIds:u});case 3:x({tblSelectKeys:[]});case 4:case"end":return o.stop()}},a)}));return function(u){return r.apply(this,arguments)}}(),fe=function(a){x({tblSelectKeys:a})};return(0,p.useEffect)(function(){},[]),(0,t.jsxs)(H.Z,{pageTitle:!1,pageGroup:"notifications",pageActive:"messages",children:[(0,t.jsxs)(A.Z,{style:{display:m.detailsShow?"":"none"},children:[(0,t.jsx)("div",{children:(0,t.jsxs)("a",{onClick:function(){return x({detailsShow:!1})},children:[(0,t.jsx)(G.Z,{})," \u8FD4\u56DE\u4E0A\u7EA7"]})}),(0,t.jsx)(O.Z,{}),(0,t.jsxs)(A.Z,{loading:ne,children:[(0,t.jsx)("h2",{style:{textAlign:"center"},children:v==null?void 0:v.title}),(0,t.jsx)("h4",{style:{textAlign:"center"},children:(0,Y.pV)(v==null?void 0:v.create_time)}),(0,t.jsx)(O.Z,{}),(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:v==null?void 0:v.content}})]})]}),(0,t.jsx)(A.Z,{style:{display:m.detailsShow?"none":""},children:(0,t.jsxs)("div",{className:R.main,children:[(0,t.jsx)("div",{className:R.leftMenu,children:(0,t.jsx)(W.Z,{mode:"inline",selectedKeys:[m.selectKey],onClick:function(a){var u=a.key;return le(u)},items:[{key:"all",label:(0,t.jsxs)(t.Fragment,{children:["\u6240\u6709\u6D88\u606F ",(0,t.jsx)(d.Z,{count:e==null?void 0:e.total,style:{backgroundColor:"#2db7f5"}})," "]})},{key:"service",label:(0,t.jsxs)(t.Fragment,{children:["\u670D\u52A1\u6D88\u606F ",(0,t.jsx)(d.Z,{count:e==null?void 0:e.service,style:{backgroundColor:"#2db7f5"}})," "]})},{key:"activity",label:(0,t.jsxs)(t.Fragment,{children:["\u6D3B\u52A8\u6D88\u606F"," ",(0,t.jsx)(d.Z,{count:e==null?void 0:e.activity,style:{backgroundColor:"#2db7f5"}})]})},{key:"payment",label:(0,t.jsxs)(t.Fragment,{children:["\u5145\u503C\u6D88\u606F ",(0,t.jsx)(d.Z,{count:e==null?void 0:e.payment,style:{backgroundColor:"#2db7f5"}})]})},{key:"task",label:(0,t.jsxs)(t.Fragment,{children:[" \u4EFB\u52A1\u6D88\u606F ",(0,t.jsx)(d.Z,{count:e==null?void 0:e.task,style:{backgroundColor:"#2db7f5"}})]})},{key:"partner",label:(0,t.jsxs)(t.Fragment,{children:["\u63A8\u5E7F\u6D88\u606F ",(0,t.jsx)(d.Z,{count:e==null?void 0:e.partner,style:{backgroundColor:"#2db7f5"}})," "]})}]})}),(0,t.jsx)("div",{className:R.right,children:(0,t.jsx)(V.ZP,{headerTitle:re(),actionRef:E,rowKey:"_id",tableAlertRender:function(a){var u=a.selectedRowKeys;return(0,t.jsxs)("div",{children:["\u5DF2\u9009\u62E9 ",(0,t.jsx)("a",{style:{fontWeight:600},children:u.length})," \u9879\xA0\xA0",(0,t.jsx)(B.Z,{title:"\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u7684\u6D88\u606F\u5417?",onConfirm:function(){return oe(u)},children:(0,t.jsx)(M.ZP,{size:"small",loading:ie,children:"\u6279\u91CF\u5220\u9664"})}),"\xA0\xA0",(0,t.jsx)(B.Z,{title:"\u786E\u8BA4\u6807\u8BB0\u9009\u4E2D\u7684\u6D88\u606F\u4E3A\u5DF2\u8BFB\u5417?",onConfirm:function(){return ve(u)},children:(0,t.jsx)(M.ZP,{size:"small",loading:de,children:"\u6807\u8BB0\u5DF2\u8BFB"})})]})},request:function(a,u,l){return ue(a,u,l)},columns:ae,rowSelection:{selectedRowKeys:m.tblSelectKeys,onChange:fe},search:!1})})]})})]})},Q=J}}]);
