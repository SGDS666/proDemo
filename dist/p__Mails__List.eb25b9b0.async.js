(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[4271,248],{66589:function(yn,Be,e){var de=e(36379).lW,I=e(69946).default,Fe=e(93426),t=e(62193),Se="utf-8";function o(h){return h.toLowerCase().replace(/[^0-9a-z]/g,"")}function k(){return"xxxxxxxxxxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(h){var x=Math.random()*16|0,d=h=="x"?x:x&3|8;return d.toString(16)}).replace("-","")}function $(h,x){var d=[];do d.push(h.substring(0,x));while((h=h.substring(x,h.length))!="");return d.join(`\r
`)}var w={verbose:!1,fileExtensions:{"text/plain":".txt","text/html":".html","image/png":".png","image/jpg":".jpg","image/jpeg":".jpg"},getFileExtension:function(x){return w.fileExtensions[x]||""},getBoundary:function(x){var d=/boundary="?(.+?)"?(\s*;[\s\S]*)?$/g.exec(x);return d?d[1]:void 0},getCharset:function(x){var d=/charset\s*=\W*([\w\-]+)/g.exec(x);return d?d[1]:void 0},getEmailAddress:function(x){for(var d=[],y=x.match(/("[^"]*")|[^,]+/g),c=0;c<y.length;c++){var _={};/^".*"$/g.test(y[c])&&(_.name=w.unquoteString(y[c]).replace(/"/g,"").trim(),c++);var b=/^(.*?)(\s*\<(.*?)\>)$/g,H=b.exec(y[c]);if(H){var j=w.unquoteString(H[1]).replace(/"/g,"").trim();j&&j.length&&(_.name=j),_.email=H[3].trim(),d.push(_)}else _.email=y[c].trim(),d.push(_)}return d.length==0?null:d.length==1?d[0]:d},toEmailAddress:function(x){var d="";if(typeof x!="undefined"){if(typeof x=="string")d=x;else if(I(x)=="object")if(Array.isArray(x))for(var y=0;y<x.length;y++)d+=d.length?", ":"",x[y].name&&(d+='"'+x[y].name+'"'),x[y].email&&(d+=(d.length?" ":"")+"<"+x[y].email+">");else x.name&&(d+='"'+x.name+'"'),x.email&&(d+=(d.length?" ":"")+"<"+x.email+">")}return d},unquoteString:function(x){var d=/=\?([^?]+)\?(B|Q)\?(.+?)(\?=)/gi,y=d.exec(x);if(y){var c=o(y[1]||Se),_=y[2].toUpperCase(),b=y[3];if(_=="B")return c=="utf8"?de.from(b.replace(/\r?\n/g,""),"base64").toString("utf8"):Fe.decode(de.from(b.replace(/\r?\n/g,""),"base64"),c);if(_=="Q")return w.unquotePrintable(b,c)}return x},unquoteUTF8:function(x){var d=/=\?UTF\-8\?(B|Q)\?(.+?)(\?=)/gi,y=d.exec(x);if(y){var c=y[1].toUpperCase(),_=y[2];if(c=="B")return de.from(_.replace(/\r?\n/g,""),"base64").toString("utf8");if(c=="Q")return w.unquotePrintable(_)}return x},unquotePrintable:function(x,d){return!d||d=="utf8"||d=="utf-8"?x.replace(/=([\w\d]{2})=([\w\d]{2})=([\w\d]{2})/gi,function(y,c,_,b,H,j){return de.from([parseInt(c,16),parseInt(_,16),parseInt(b,16)]).toString("utf8")}).replace(/=([\w\d]{2})=([\w\d]{2})/gi,function(y,c,_,b,H){return de.from([parseInt(c,16),parseInt(_,16)]).toString("utf8")}).replace(/=([\w\d]{2})/gi,function(y,c,_,b){return String.fromCharCode(parseInt(c,16))}).replace(/=\r?\n/gi,""):x.replace(/=([\w\d]{2})=([\w\d]{2})/gi,function(y,c,_,b,H){return Fe.decode(de.from([parseInt(c,16),parseInt(_,16)]),d)}).replace(/=([\w\d]{2})/gi,function(y,c,_,b){return Fe.decode(de.from([parseInt(c,16)]),d)}).replace(/=\r?\n/gi,"")}};w.unpack=function(h,x,d,y){var c=e(49372),_=e(80209);typeof d=="function"&&typeof y=="undefined"&&(y=d,d=null),typeof y!="function"&&(y=function(B,D){});var b={files:[]};function H(j){try{if(c.existsSync(x)||c.mkdirSync(x),typeof j.text=="string"&&(b.files.push("index.txt"),d&&d.simulate||c.writeFileSync(_.join(x,"index.txt"),j.text)),typeof j.html=="string"&&(b.files.push("index.html"),d&&d.simulate||c.writeFileSync(_.join(x,"index.html"),j.html)),j.attachments&&j.attachments.length>0)for(var B=0;B<j.attachments.length;B++){var D=j.attachments[B],q=D.name;q||(q="attachment_"+(B+1)+w.getFileExtension(D.mimeType)),b.files.push(q),!(d&&d.simulate)&&c.writeFileSync(_.join(x,q),D.data)}y(null,b)}catch(J){y(J)}}if(typeof x!="string"||x.length==0)return y(new Error("Directory argument is missing!"));if(typeof h=="string"||I(h)=="object"&&h.headers&&h.body)w.parse(h,function(j,B){if(j)return y(j);if(d&&d.parsedJsonFile){var D=_.resolve(x,d.parsedJsonFile),q=_.dirname(D);c.existsSync(q)||c.mkdirSync(q),b.files.push(d.parsedJsonFile),c.writeFileSync(D,JSON.stringify(B," ",2))}w.read(B,function(J,W){if(J)return y(J);if(d&&d.readJsonFile){var De=_.resolve(x,d.readJsonFile),oe=_.dirname(De);c.existsSync(oe)||c.mkdirSync(oe),b.files.push(d.readJsonFile);var l=W.attachments?JSON.stringify(W):JSON.stringify(W," ",2);c.writeFileSync(De,l)}H(W)})});else{if(I(h)!="object")return y(new Error("Expected string or object as argument!"));H(h)}},w.build=function(h,x,d){typeof x=="function"&&typeof d=="undefined"&&(d=x,x=null),typeof d!="function"&&(d=function(oe,l){});var y="",c=`\r
`;try{if(!h||I(h)!="object")throw new Error("Argument 'data' expected to be an object!");if(h.headers||(h.headers={}),typeof h.subject=="string"&&(h.headers.Subject=h.subject),typeof h.from!="undefined"&&(h.headers.From=typeof h.from=="string"?h.from:w.toEmailAddress(h.from)),typeof h.to!="undefined"&&(h.headers.To=typeof h.to=="string"?h.to:w.toEmailAddress(h.to)),typeof h.cc!="undefined"&&(h.headers.Cc=typeof h.cc=="string"?h.cc:w.toEmailAddress(h.cc)),!h.headers.To)throw new Error("Missing 'To' e-mail address!");var _="----="+k();if(typeof h.headers["Content-Type"]=="undefined")h.headers["Content-Type"]="multipart/mixed;"+c+'boundary="'+_+'"';else{var b=w.getBoundary(h.headers["Content-Type"]);b&&(_=b)}for(var H=Object.keys(h.headers),j=0;j<H.length;j++){var B=H[j],D=h.headers[B];if(typeof D!="undefined")if(typeof D=="string")y+=B+": "+D.replace(/\r?\n/g,c+"  ")+c;else for(var q=0;q<D.length;q++)y+=B+": "+D[q].replace(/\r?\n/g,c+"  ")+c}if(y+=c,h.text&&(y+="--"+_+c,y+="Content-Type: text/plain; charset=utf-8"+c,y+=c,y+=h.text,y+=c+c),h.html&&(y+="--"+_+c,y+="Content-Type: text/html; charset=utf-8"+c,y+=c,y+=h.html,y+=c+c),h.attachments)for(var j=0;j<h.attachments.length;j++){var J=h.attachments[j];if(y+="--"+_+c,y+="Content-Type: "+(J.contentType||"application/octet-stream")+c,y+="Content-Transfer-Encoding: base64"+c,y+="Content-Disposition: "+(J.inline?"inline":"attachment")+'; filename="'+(J.filename||J.name||"attachment_"+(j+1))+'"'+c,J.cid&&(y+="Content-ID: <"+J.cid+">"+c),y+=c,typeof J.data=="string"){var W=de.from(J.data).toString("base64");y+=$(W,76)+c}else{var W=J.data.toString("base64");y+=$(W,76)+c}y+=c}y+="--"+_+"--"+c,d(null,y)}catch(De){d(De)}},w.read=function(h,x,d){typeof x=="function"&&typeof d=="undefined"&&(d=x,x=null),typeof d!="function"&&(d=function(_,b){});function y(c){try{var _=function(oe,l){var fe=oe["Content-Type"],K=o(w.getCharset(fe)||Se),z=oe["Content-Transfer-Encoding"];if(typeof z=="string"&&(z=z.toLowerCase()),z=="base64"?fe.indexOf("gbk")>=0?l=new de(Fe.decode(new de(l,"base64"),"gb2312"),"utf8"):l=de.from(l.replace(/\r?\n/g,""),"base64"):z=="quoted-printable"?l=Fe.decode(de.from(t.decode(l),"binary"),K):K!="utf8"&&(z.startsWith("binary")||z.startsWith("8bit"))&&(l=Fe.decode(de.from(l,"binary"),K)),!b.html&&fe&&fe.toLowerCase().indexOf("text/html")>=0)typeof l!="string"&&(l=Fe.decode(de.from(l),K)),b.html=l;else if(!b.text&&fe&&fe.toLowerCase().indexOf("text/plain")>=0)typeof l!="string"&&(l=Fe.decode(de.from(l),K)),b.text=l;else{b.attachments||(b.attachments=[]);var ie={},me=oe["Content-ID"];me&&(ie.id=me);var pe=oe["Content-Disposition"]||oe["Content-Type"];if(pe){var Ae=/name="?(.+?)"?$/gi.exec(pe);Ae?pe=Ae[1]:pe=null}pe&&(ie.name=pe);var ue=oe["Content-Type"];ue&&(ie.contentType=ue);var ce=oe["Content-Disposition"];ce&&(ie.inline=/^\s*inline/g.test(ce)),ie.data=l,b.attachments.push(ie)}},b={};c.headers.Date&&(b.date=new Date(c.headers.Date)),c.headers.Subject&&(b.subject=w.unquoteString(c.headers.Subject)),c.headers.From&&(b.from=w.getEmailAddress(c.headers.From)),c.headers.To&&(b.to=w.getEmailAddress(c.headers.To)),c.headers.CC&&(b.cc=w.getEmailAddress(c.headers.CC)),c.headers.Cc&&(b.cc=w.getEmailAddress(c.headers.Cc)),b.headers=c.headers;var H=null,j=c.headers["Content-Type"];if(j&&/^multipart\//gi.test(j)){var B=w.getBoundary(j);B&&B.length&&(H=B)}if(H)for(var D=0;D<c.body.length;D++){var B=c.body[D];if(typeof B.part=="undefined")console.warn("Warning: undefined b.part");else if(typeof B.part=="string")b.data=B.part;else if(typeof B.part.body=="undefined")console.warn("Warning: undefined b.part.body");else if(typeof B.part.body=="string"){B.part.body;var q=B.part.headers,J=B.part.body;_(q,J)}else for(var W=0;W<B.part.body.length;W++){if(typeof B.part.body[W]=="string"){b.data=B.part.body[W];continue}var q=B.part.body[W].part.headers,J=B.part.body[W].part.body;_(q,J)}}else typeof c.body=="string"&&_(c.headers,c.body);d(null,b)}catch(De){d(De)}}typeof h=="string"?w.parse(h,x,function(c,_){if(c)return d(c);if(!_)return d(new Error("Cannot parse EML content!"));y(_)}):I(h)=="object"?y(h):d(new Error("Missing EML file content!"))},w.parse=function(h,x,d){typeof x=="function"&&typeof d=="undefined"&&(d=x,x=null),typeof d!="function"&&(d=function(b,H){});try{if(typeof h!="string")throw new Error("Argument 'eml' expected to be string!");var y=h.split(/\r?\n/),c={};Y(y,0,c,x),d(null,c)}catch(_){d(_)}};function Y(h,x,d,y){var c=null,_="",b="",H=!1,j=!1,B=!1,D=!1;d.headers={};function q(fe){fe.part={},Y(fe.lines,0,fe.part,y),delete fe.lines}for(var J=x;J<h.length;J++){var W=h[J];if(H)if(D){if(W.indexOf("--"+b)==0&&!/\-\-(\r?\n)?$/g.test(W)){j=!0,c&&c.lines&&q(c);var l=/^\-\-([^\r\n]+)(\r?\n)?$/g.exec(W);c={boundary:l[1],lines:[]},d.body.push(c),w.verbose&&console.log("Found boundary: "+c.boundary);continue}if(j){if(c.boundary&&h[J-1]==""&&W.indexOf("--"+b+"--")==0){j=!1,q(c);continue}c.lines.push(W)}}else{d.body=h.splice(J).join(`\r
`);break}else{if(W==""){if(H=!0,y&&y.headersOnly)break;var De=d.headers["Content-Type"];if(De&&/^multipart\//gi.test(De)){var oe=w.getBoundary(De);oe&&oe.length?(b=oe,D=!0,d.body=[]):w.verbose&&console.warn("Multipart without boundary! "+De.replace(/\r?\n/g," "))}continue}var l=/^\s+([^\r\n]+)/g.exec(W);if(l){B?d.headers[_][d.headers[_].length-1]+=`\r
`+l[1]:d.headers[_]+=`\r
`+l[1];continue}var l=/^([\w\d\-]+):\s+([^\r\n]+)/gi.exec(W);if(l){_=l[1],d.headers[_]?(B=!0,typeof d.headers[_]=="string"&&(d.headers[_]=[d.headers[_]]),d.headers[_].push(l[2])):(B=!1,d.headers[_]=l[2]);continue}}}d.body&&d.body.length&&d.body[d.body.length-1].lines&&q(d.body[d.body.length-1])}yn.exports=w},9829:function(yn,Be,e){"use strict";e.d(Be,{J:function(){return Fe}});var de=e(49871),I=e(43010),Fe=function(Se){var o=[],k={};for(var $ in Se){var w=Se[$],Y=w.parent,h=w.id,x=w.name,d=w.color,y=w.folder;if(y)k[h]=[];else{var c;(c=k[Y])===null||c===void 0||c.push({id:h,value:h,title:(0,I.jsx)(de.Z,{color:d,children:x}),name:x})}}for(var _ in Se){var b=Se[_],H=b.parent,j=b.id,B=b.name,D=b.color,q=b.folder;if(H==="0"&&q){var J=k[j];o.push({id:j,value:j,title:B,children:J})}else H==="0"&&!q&&o.push({id:j,value:j,title:(0,I.jsx)(de.Z,{color:D,children:B}),name:B})}return o}},36541:function(yn,Be,e){"use strict";var de=e(30279),I=e.n(de),Fe=e(69946),t=e.n(Fe),Se=e(46686),o=e.n(Se),k=e(85170),$=e(41318),w=e(43267),Y=e(42147),h=e(28931),x=e(2800),d=e(6416),y=e(11354),c=e(1406),_=e(18799),b=e(43520),H=e(14869),j=e(78730),B=e(74375),D=e(1166),q=e(10248),J=e(22196),W=e(9829),De=e(74637),oe=e.n(De),l=e(43010),fe=function(z){var ie=z.field,me=ie.dataIndex,pe=ie.valueType,Ae=ie.multi,ue=ie.options,ce=ie.items,he=(0,D.Z)({tagName:"",tagsTreeData:[]}),ee=o()(he,2),Pe=ee[0],We=ee[1],Ee=(0,J.useRequest)(q.vs,{manual:!0,onSuccess:function(te){if(!!te){var M=(0,W.J)(te);We({tagsTreeData:M})}}}),ye=Ee.run,_e=(0,J.useRequest)(q.eN,{manual:!0,onSuccess:function(){$.ZP.success("\u521B\u5EFA\u6807\u7B7E\u6210\u529F"),We({tagName:""}),ye()}}),ne=_e.run;if(!me)return null;var xe=function(){var te=Pe.tagName;if(!te){$.ZP.error("\u6807\u7B7E\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");return}if(!te.trim()){$.ZP.error("\u975E\u6CD5\u5B57\u7B26");return}ne({name:te.trim()})},G=function(){var te=[];if(ue&&ue.length&&t()(ue)==="object"&&(te=ue),me==="tags"){var M=(0,W.J)(ce);return(0,l.jsx)(w.Z,I()(I()({},z),{},{treeDataSimpleMode:!0,treeData:Pe.tagsTreeData.length?Pe.tagsTreeData:M,showArrow:!0,treeCheckable:!0,allowClear:!0,treeNodeFilterProp:"name",dropdownStyle:{width:256},dropdownRender:function(Qe){return(0,l.jsxs)(l.Fragment,{children:[Qe,(0,l.jsx)(Y.Z,{style:{margin:"8px 0"}}),(0,l.jsxs)(h.Z,{align:"center",style:{padding:"0 8px 4px"},children:[(0,l.jsx)(x.Z,{placeholder:"\u589E\u52A0\u6807\u7B7E",value:Pe.tagName,onChange:function(Le){return We({tagName:Le.target.value})}}),(0,l.jsxs)(d.Z.Link,{style:{whiteSpace:"nowrap"},onClick:xe,children:[(0,l.jsx)(j.Z,{})," \u65B0\u589E\u6807\u7B7E"]}),(0,l.jsxs)("a",{style:{marginLeft:12},onClick:function(){return J.history.push("/settings/tags")},children:[(0,l.jsx)(B.Z,{})," \u6807\u7B7E\u7BA1\u7406"]})]})]})}}))}if(me==="c_name"||me==="department"||me==="position")return(0,l.jsx)(y.Z,I()(I()({},z),{},{options:ue,allowClear:!0,filterOption:function(Qe,pn){return pn!=null&&pn.label&&typeof pn.label=="string"?pn.label.toUpperCase().indexOf(Qe.toUpperCase())!==-1:!1}}));if(pe==="date"){var ve=z.value;return(typeof ve=="string"||typeof ve=="number")&&(ve=oe()(ve)),(0,l.jsx)(c.Z,I()(I()({},z),{},{value:ve}))}if(pe==="dateTime"){var ge=z.value;return(typeof ge=="string"||typeof ge=="number")&&(ge=oe()(ge)),(0,l.jsx)(c.Z,I()(I()({},z),{},{value:ge,showTime:!0}))}return pe==="text"?(0,l.jsx)(x.Z,I()({},z)):pe==="textarea"?(0,l.jsx)(x.Z.TextArea,I()({},z)):pe==="digit"?(0,l.jsx)(_.Z,I()({},z)):pe==="select"?"".concat(Ae)==="1"?(0,l.jsx)(b.Z,I()(I()({},z),{},{mode:"multiple",showArrow:!0,allowClear:!0,showSearch:!0,optionFilterProp:"label",options:te})):(0,l.jsx)(b.Z,I()(I()({},z),{},{showArrow:!0,allowClear:!0,showSearch:!0,optionFilterProp:"label",options:te})):pe==="rate"?(0,l.jsx)(H.Z,I()({},z)):(0,l.jsx)(x.Z,I()({},z))};return G()};Be.Z=fe},88208:function(yn,Be,e){"use strict";var de=e(30279),I=e.n(de),Fe=e(85170),t=e(91522),Se=e(43010);Be.Z=function(o){var k=o.children,$=o.pageTitle;return(0,Se.jsx)(Se.Fragment,{children:(0,Se.jsx)(t._z,I()(I()({header:{title:$,breadcrumb:{}}},o),{},{children:k}))})}},70683:function(yn,Be,e){"use strict";var de=e(35290),I=e.n(de),Fe=e(30279),t=e.n(Fe),Se=e(411),o=e.n(Se),k=e(46686),$=e.n(k),w=e(31810),Y=e(41318),h=e(16798),x=e(58110),d=e(77707),y=e(2800),c=e(96498),_=e(46394),b=e(34833),H=e(18799),j=e(1406),B=e(12209),D=e(85170),q=e(22196),J=e(74729),W=e(74637),De=e.n(W),oe=e(8604),l=e(43010),fe={labelCol:{span:4},wrapperCol:{span:18}},K=function(ie){var me=ie.visible,pe=ie.onCancel,Ae=ie.actionReload,ue=(0,D.useState)(!0),ce=$()(ue,2),he=ce[0],ee=ce[1],Pe=w.Z.useForm(),We=$()(Pe,1),Ee=We[0],ye=(0,D.useState)(!1),_e=$()(ye,2),ne=_e[0],xe=_e[1],G=(0,D.useState)({}),Ze=$()(G,2),te=Ze[0],M=Ze[1],ve=(0,q.useRequest)(J.k1,{manual:!0,onSuccess:function(ke){if(!!ke){M(ke);var cn=ke.success;cn?(Y.ZP.success("\u65B0\u589E\u8D26\u53F7\u6210\u529F"),Ee.resetFields(),pe(),Ae()):Y.ZP.error("\u65B0\u589E\u8D26\u53F7\u5931\u8D25")}}}),ge=ve.run,on=ve.loading,Qe=(0,q.useRequest)(J.z$,{manual:!0}),pn=Qe.run,Le=function(){var nn=o()(I()().mark(function ke(cn){var Ve,En,hn,fn,Cn,Bn,Tn,wn,sn,n,Pn,Dn;return I()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(Ee){Ke.next=2;break}return Ke.abrupt("return");case 2:return Ee.submit(),Ke.prev=3,Ke.next=6,Ee.validateFields();case 6:return Ve=Ke.sent,En=Ve.re_status,hn=Ve.re_error,fn=Ve.se_status,Cn=Ve.se_error,Bn=Ve.re_sync,Tn=Ve.re_time,wn=void 0,Bn&&Tn&&(wn=De()(Tn).valueOf()),Ke.next=12,ge(t()(t()({},Ve),{},{skip_error:cn,se_proto:"smtp",re_status:En,re_error:hn,se_status:fn,se_error:Cn,re_sync:Bn,re_time:wn}));case 12:Ke.next=19;break;case 14:Ke.prev=14,Ke.t0=Ke.catch(3),sn=Ke.t0.errorFields,sn&&(n=sn[0],Pn=n.errors,Dn=n.name,Pn&&Y.ZP.error(Pn.toString()),(Dn.indexOf("re_server")>=0||Dn.indexOf("se_server")>=0)&&ee(!1)),console.log("Failed:",Ke.t0);case 19:case"end":return Ke.stop()}},ke,null,[[3,14]])}));return function(cn){return nn.apply(this,arguments)}}(),Q=function(){var nn=o()(I()().mark(function ke(){var cn,Ve,En;return I()().wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:return fn.next=2,Ee.getFieldValue("mail_addr");case 2:if(cn=fn.sent,Ve=Ee.getFieldError("mail_addr"),!(!cn||Ve.length)){fn.next=6;break}return fn.abrupt("return");case 6:return fn.next=8,pn({email:cn});case 8:En=fn.sent,En&&Ee.setFieldsValue(t()(t()({},En),{},{mail_acc:cn}));case 10:case"end":return fn.stop()}},ke)}));return function(){return nn.apply(this,arguments)}}(),Ge=function(ke){xe(ke),ke&&Ee.setFieldsValue({re_time:De()().subtract(30,"days")})},In=function(){if(!te||!te.check)return null;var ke=te.re_status,cn=te.re_error,Ve=te.se_status,En=te.se_error;return(0,l.jsxs)("div",{style:{maxWidth:720,overflow:"hidden"},children:[(0,l.jsxs)("div",{children:["\u6536\u4FE1\uFF1A",ke?(0,l.jsx)("span",{style:{color:"green"},children:"\u6210\u529F"}):(0,l.jsx)("span",{style:{color:"red"},children:"\u5931\u8D25"}),ke?null:(0,l.jsxs)("span",{style:{marginLeft:"12px"},children:["\u539F\u56E0\uFF1A",cn]})]}),(0,l.jsxs)("div",{children:["\u53D1\u4FE1\uFF1A",Ve?(0,l.jsx)("span",{style:{color:"green"},children:"\u6210\u529F"}):(0,l.jsx)("span",{style:{color:"red"},children:"\u5931\u8D25"}),Ve?null:(0,l.jsxs)("span",{style:{marginLeft:"12px"},children:["\u539F\u56E0\uFF1A",En]})]})]})},bn=function(){if(!te||!te.check)return(0,l.jsx)(h.ZP,{type:"primary",htmlType:"submit",loading:on,onClick:function(){return Le(!1)},children:"\u521B\u5EFA"});var ke=te.re_status,cn=te.se_status;return ke&&cn?(0,l.jsx)(h.ZP,{type:"primary",htmlType:"submit",loading:on,onClick:function(){return Le(!1)},children:"\u521B\u5EFA"}):ke||cn?(0,l.jsx)(h.ZP,{type:"primary",htmlType:"submit",loading:on,onClick:function(){return Le(!0)},danger:!0,ghost:!0,children:"\u7EE7\u7EED\u4FDD\u5B58"}):(0,l.jsx)(h.ZP,{type:"primary",htmlType:"submit",loading:on,onClick:function(){return Le(!1)},disabled:!0,children:"\u521B\u5EFA"})};return(0,l.jsx)(x.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA\u90AE\u7BB1\u8D26\u53F7",open:me,onCancel:function(){return pe()},footer:null,width:640,children:(0,l.jsxs)(w.Z,t()(t()({},fe),{},{form:Ee,initialValues:{re_proto:"imap",re_ssl:!0,re_port:993,se_ssl:!0,se_port:465},onChange:function(){return M({})},children:[(0,l.jsx)(w.Z.Item,{name:"re_proto",label:"\u6536\u4FE1\u534F\u8BAE",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u8D26\u53F7"}],hidden:he,children:(0,l.jsx)(d.ZP.Group,{children:(0,l.jsx)(d.ZP,{value:"imap",children:"IMAP"})})}),(0,l.jsx)(w.Z.Item,{name:"mail_addr",label:"\u90AE\u7BB1\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u8D26\u53F7"},{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740"}],hidden:!he,children:(0,l.jsx)(y.Z,{placeholder:"\u5982\uFF1Aname@domain.com",onBlur:function(){return Q()}})}),(0,l.jsx)(w.Z.Item,{name:"mail_acc",label:"\u90AE\u7BB1\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u8D26\u53F7"}],hidden:he,children:(0,l.jsx)(y.Z,{placeholder:"\u5982\uFF1Aname@domain.com"})}),(0,l.jsx)(w.Z.Item,{name:"mail_pass",label:"\u90AE\u7BB1\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],hidden:!he,children:(0,l.jsx)(y.Z.Password,{placeholder:"******"})}),(0,l.jsx)(w.Z.Item,{name:"mail_name",label:"\u53D1\u4FE1\u540D\u79F0",hidden:!he,children:(0,l.jsx)(y.Z,{placeholder:"\u5982\uFF1A\u5F20\u4E09"})}),(0,l.jsxs)(c.Z,{hidden:he,children:[(0,l.jsx)(_.Z,{span:14,children:(0,l.jsx)(w.Z.Item,{name:"re_server",label:"\u6536\u4FE1(IMAP)",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u4FE1\u670D\u52A1\u5668\u5730\u5740"}],labelCol:{span:7},wrapperCol:{span:16},children:(0,l.jsx)(y.Z,{placeholder:"\u5982\uFF1Aimap.domain.com"})})}),(0,l.jsx)(_.Z,{span:3,children:(0,l.jsx)(w.Z.Item,{name:"re_ssl",label:"SSL",labelCol:{span:14},wrapperCol:{span:10},valuePropName:"checked",rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,l.jsx)(b.Z,{})})}),(0,l.jsx)(_.Z,{span:3,style:{marginLeft:12},children:(0,l.jsx)(w.Z.Item,{name:"re_port",label:"\u7AEF\u53E3",labelCol:{span:15},wrapperCol:{span:9},rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,l.jsx)(H.Z,{controls:!1,style:{width:68}})})})]}),(0,l.jsxs)(c.Z,{style:{marginBottom:0},hidden:he,children:[(0,l.jsx)(_.Z,{span:14,children:(0,l.jsx)(w.Z.Item,{name:"se_server",label:"\u53D1\u4FE1(SMTP)",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u4FE1\u670D\u52A1\u5668\u5730\u5740"}],labelCol:{span:7},wrapperCol:{span:16},children:(0,l.jsx)(y.Z,{placeholder:"\u5982\uFF1Asmtp.domain.com"})})}),(0,l.jsx)(_.Z,{span:3,children:(0,l.jsx)(w.Z.Item,{name:"se_ssl",label:"SSL",labelCol:{span:14},wrapperCol:{span:10},valuePropName:"checked",rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,l.jsx)(b.Z,{})})}),(0,l.jsx)(_.Z,{span:3,style:{marginLeft:12},children:(0,l.jsx)(w.Z.Item,{name:"se_port",label:"\u7AEF\u53E3",labelCol:{span:15},wrapperCol:{span:9},rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,l.jsx)(H.Z,{controls:!1,style:{width:68}})})})]}),(0,l.jsxs)(c.Z,{hidden:!he,children:[(0,l.jsx)(_.Z,{span:8,children:(0,l.jsx)(w.Z.Item,{name:"re_sync",label:"\u90AE\u4EF6\u540C\u6B65",labelCol:{span:12},wrapperCol:{span:12},valuePropName:"checked",children:(0,l.jsx)(b.Z,{onChange:function(ke){return Ge(ke.target.checked)}})})}),ne?(0,l.jsxs)(_.Z,{span:16,children:["\u540C\u6B65",(0,l.jsx)(w.Z.Item,{name:"re_time",label:"",noStyle:!0,children:(0,l.jsx)(j.Z,{style:{marginLeft:"4px",marginRight:"4px"}})}),"\u4E4B\u540E\u90AE\u4EF6"]}):null]}),te.check?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(w.Z.Item,{label:!1,valuePropName:"checked",wrapperCol:{offset:4},rules:[{required:!0,message:"\u5FC5\u586B"}],children:[(0,l.jsx)(oe.Z,{style:{color:"red"}})," \u6DFB\u52A0\u5931\u8D25"," ",(0,l.jsx)(B.Z,{content:In,title:!1,children:(0,l.jsx)("a",{style:{color:"red"},children:"\u67E5\u770B\u8BE6\u60C5"})})]})}):null,(0,l.jsxs)("div",{style:{marginBottom:"24px",textAlign:"right"},children:[he?(0,l.jsx)(h.ZP,{style:{marginRight:"24px"},onClick:function(){return ee(!1)},children:"\u624B\u52A8\u8BBE\u7F6E"}):(0,l.jsx)(h.ZP,{style:{marginRight:"24px"},onClick:function(){return ee(!0)},children:"\u8FD4\u56DE"}),bn()]})]}))})};Be.Z=K},61825:function(yn,Be,e){"use strict";e.d(Be,{Z:function(){return W}});var de=e(35290),I=e.n(de),Fe=e(411),t=e.n(Fe),Se=e(30279),o=e.n(Se),k=e(46686),$=e.n(k),w=e(85170),Y=e(31810),h=e(41318),x=e(64268),d=e(16798),y=e(2800),c=e(58110),_={standardListForm:"standardListForm___D6tJX"},b=e(74729),H=e(27429),j=e(1166),B=e(25106),D=e(43010),q={labelCol:{span:4},wrapperCol:{span:18}},J=function(oe){var l=Y.Z.useForm(),fe=$()(l,1),K=fe[0],z=oe.visible,ie=oe.current,me=oe.onCancel,pe=oe.actionReload,Ae=(0,j.Z)({submitLoading:!1,_id:null,uploading:!1,fileList:[],id:null}),ue=$()(Ae,2),ce=ue[0],he=ue[1];(0,w.useEffect)(function(){K&&z&&(ie?(K.resetFields(),K.setFieldsValue(ie),he(o()({},ie))):(he({id:null,fileList:[]}),K.resetFields()))},[z]);var ee=function(){var _e=t()(I()().mark(function ne(){var xe,G,Ze,te;return I()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(K){ve.next=2;break}return ve.abrupt("return");case 2:return K.submit(),ve.prev=3,ve.next=6,K.validateFields();case 6:return xe=ve.sent,he({submitLoading:!0}),G=ce.id,Ze=ie._id,ve.next=12,(0,b.T)(o()(o()({},xe),{},{id:G,_id:Ze}));case 12:te=ve.sent,te&&(h.ZP.success("".concat(ie?"\u4FDD\u5B58":"\u65B0\u589E","\u9644\u4EF6\u6210\u529F\uFF01")),me(),pe()),he({submitLoading:!1}),ve.next=20;break;case 17:ve.prev=17,ve.t0=ve.catch(3),console.log("Failed:",ve.t0);case 20:case"end":return ve.stop()}},ne,null,[[3,17]])}));return function(){return _e.apply(this,arguments)}}(),Pe={okText:"\u4FDD\u5B58",onOk:ee,onCancel:me},We=function(){var _e=t()(I()().mark(function ne(xe){var G,Ze,te,M,ve,ge,on,Qe,pn;return I()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(G=xe.name,Ze=xe.size,!(Ze>=10485760)){Q.next=4;break}return h.ZP.warning("\u6587\u4EF6\u8FC7\u5927\uFF01\u53EA\u652F\u630110MB\u4EE5\u5185\u7684\u6587\u4EF6\uFF01"),Q.abrupt("return",!1);case 4:if(te=G.toLowerCase(),!(te.indexOf(".exe")>0)){Q.next=8;break}return h.ZP.warning("\u6587\u4EF6\u7C7B\u578B\u4E0D\u652F\u6301\uFF01"),Q.abrupt("return",!1);case 8:return he({uploading:!0,fileList:[{name:G,uid:G,status:"uploading"}]}),Q.next=11,(0,B.c)(xe,"att",!0);case 11:return M=Q.sent,ve=M.success,ge=M.data,on=M.error,ve?(Qe=ge.name,pn=ge.id,he({id:pn}),K.setFieldsValue({name:Qe,showname:Qe}),he({uploading:!1,fileList:[{name:Qe,uid:Qe,status:"done"}]})):(h.ZP.error(on),he({uploading:!1,fileList:[{name:G,uid:G,status:"error",response:on}]})),Q.abrupt("return",!1);case 17:case"end":return Q.stop()}},ne)}));return function(xe){return _e.apply(this,arguments)}}(),Ee=function(){var _e=t()(I()().mark(function ne(){return I()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:console.log("\u6587\u4EF6\u4E0A\u4F20\u6210\u529F");case 1:case"end":return G.stop()}},ne)}));return function(){return _e.apply(this,arguments)}}(),ye=function(){return(0,D.jsxs)(Y.Z,o()(o()({},q),{},{form:K,size:"large",children:[(0,D.jsx)(Y.Z.Item,{name:"upload",label:"\u4E0A\u4F20\u9644\u4EF6",children:(0,D.jsx)(x.Z,{fileList:ce.fileList,name:"file",beforeUpload:We,customRequest:Ee,children:(0,D.jsx)(d.ZP,{icon:(0,D.jsx)(H.Z,{}),children:"\u4E0A\u4F20"})})}),(0,D.jsx)(Y.Z.Item,{name:"showname",label:"\u663E\u793A\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u663E\u793A\u540D\u79F0"}],children:(0,D.jsx)(y.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BE5\u663E\u793A\u540D\u79F0\uFF0C\u5C06\u5728\u90AE\u4EF6\u4E2D\u5C55\u793A"})}),(0,D.jsx)(Y.Z.Item,{name:"name",label:"\u9644\u4EF6\u5907\u6CE8",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9644\u4EF6\u5907\u6CE8"}],children:(0,D.jsx)(y.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BE5\u9644\u4EF6\u7684\u5907\u6CE8"})})]}))};return(0,D.jsx)(c.Z,o()(o()({title:"".concat(ie?"\u7F16\u8F91":"\u65B0\u589E","\u9644\u4EF6"),className:_.standardListForm,width:720,bodyStyle:{padding:"24px 24px 24px"},destroyOnClose:!0,open:z,maskClosable:!1},Pe),{},{children:ye()}))},W=J},33349:function(yn,Be,e){"use strict";e.d(Be,{Z:function(){return q}});var de=e(35290),I=e.n(de),Fe=e(30279),t=e.n(Fe),Se=e(411),o=e.n(Se),k=e(46686),$=e.n(k),w=e(85170),Y=e(31810),h=e(41318),x=e(2800),d=e(6771),y=e(58110),c={standardListForm:"standardListForm___FEB8q"},_=e(74729),b=e(1166),H=e(30481),j=e(43010),B={labelCol:{span:7},wrapperCol:{span:13}},D=function(W){var De=Y.Z.useForm(),oe=$()(De,1),l=oe[0],fe=W.visible,K=W.current,z=W.onCancel,ie=W.actionReload,me=(0,b.Z)({testLoading:!1,submitLoading:!1,_id:null,nameStatus:"error",nameHelp:"\u53EA\u80FD\u4F7F\u7528\u5B57\u6BCD(a-z)\u3001\u6570\u5B57(0-9)\u3001\u7B26\u53F7(_-.)\u7EC4\u6210"}),pe=$()(me,2),Ae=pe[0],ue=pe[1];(0,w.useEffect)(function(){l&&fe&&(l.resetFields(),K&&(ue({nameStatus:"success"}),l.setFieldsValue(K)))},[fe]);var ce=function(){var We=o()(I()().mark(function Ee(){var ye,_e,ne;return I()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(ye=Ae.nameStatus,ye!=="error"){G.next=3;break}return G.abrupt("return");case 3:if(l){G.next=5;break}return G.abrupt("return");case 5:return l.submit(),G.prev=6,G.next=9,l.validateFields();case 9:return _e=G.sent,ue({submitLoading:!0}),G.next=13,(0,_.Hc)(t()({},_e));case 13:ne=G.sent,ne&&(l.resetFields(),h.ZP.success("".concat(K?"\u4FDD\u5B58":"\u65B0\u589E","\u7CFB\u7EDF\u8D26\u53F7\u6210\u529F\uFF01")),z(),ie()),ue({submitLoading:!1}),G.next=21;break;case 18:G.prev=18,G.t0=G.catch(6),console.log("Failed:",G.t0);case 21:case"end":return G.stop()}},Ee,null,[[6,18]])}));return function(){return We.apply(this,arguments)}}(),he={okText:"\u4FDD\u5B58",onOk:ce,onCancel:z},ee=function(){var We=o()(I()().mark(function Ee(ye,_e){var ne,xe,G,Ze,te;return I()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(ne=ye.name,xe=_e._id,!ne){ve.next=13;break}if(G=/^[A-Za-z0-9_\-.]{6,30}$/,!G.test(ne)){ve.next=12;break}return ve.next=7,(0,_.K4)({id:xe,name:ne});case 7:Ze=ve.sent,te=Ze.success,ue(te?{nameHelp:"",nameStatus:"success"}:{nameHelp:"\u5DF2\u6709\u4EBA\u4F7F\u7528\u4E86\u8BE5\u7528\u6237\u540D\uFF0C\u8BF7\u5C1D\u8BD5\u5176\u4ED6\u7528\u6237\u540D",nameStatus:"error"}),ve.next=13;break;case 12:ne.length<6?ue({nameHelp:"\u5B57\u7B26\u6570\u957F\u5EA66-30",nameStatus:"error"}):ue({nameHelp:"\u53EA\u80FD\u4F7F\u7528\u5B57\u6BCD(a-z)\u3001\u6570\u5B57(0-9)\u3001\u6570\u70B9(.)\u7EC4\u6210",nameStatus:"error"});case 13:case"end":return ve.stop()}},Ee)}));return function(ye,_e){return We.apply(this,arguments)}}(),Pe=function(){return(0,j.jsxs)(Y.Z,t()(t()({},B),{},{form:l,onValuesChange:ee,children:[(0,j.jsx)(Y.Z.Item,{hidden:!0,name:"_id",label:"\u4FDD\u5B58id",children:(0,j.jsx)(x.Z,{})}),(0,j.jsx)(Y.Z.Item,{name:"name",label:(0,j.jsxs)("span",{children:["\u53D1\u4EF6\u4EBA\u90AE\u7BB1\xA0",(0,j.jsx)(d.Z,{title:"\u53EA\u80FD\u4F7F\u7528\u5B57\u6BCD(a-z)\u3001\u6570\u5B57(0-9)\u3001\u6570\u70B9(.)\u7EC4\u6210\uFF0C\u521B\u5EFA\u540E\u4E0D\u80FD\u4FEE\u6539",children:(0,j.jsx)(H.Z,{})})]}),validateStatus:Ae.nameStatus,help:Ae.nameHelp,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u90AE\u7BB1"}],children:(0,j.jsx)(x.Z,{placeholder:"\u5982\uFF1Aname",addonAfter:"@\u7CFB\u7EDF\u53D1\u4FE1\u57DF\u540D",disabled:K})}),(0,j.jsx)(Y.Z.Item,{name:"fromName",label:"\u53D1\u4EF6\u4EBA\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u540D\u79F0"}],children:(0,j.jsx)(x.Z,{placeholder:"\u5982\uFF1A\u5F20\u4E09"})})]}))};return(0,j.jsx)(y.Z,t()(t()({title:"".concat(K?"\u7F16\u8F91":"\u65B0\u589E","\u7CFB\u7EDF\u90AE\u7BB1"),className:c.standardListForm,width:640,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,open:fe,confirmLoading:Ae.submitLoading,maskClosable:!1},he),{},{children:Pe()}))},q=D},71585:function(yn,Be,e){"use strict";var de=e(35290),I=e.n(de),Fe=e(30279),t=e.n(Fe),Se=e(411),o=e.n(Se),k=e(46686),$=e.n(k),w=e(85170),Y=e(31810),h=e(41318),x=e(96498),d=e(46394),y=e(34833),c=e(2800),_=e(58110),b=e(1166),H=e(74729),j=e(17259),B=e(22196),D=e(43010),q=function(W){var De=Y.Z.useForm(),oe=$()(De,1),l=oe[0],fe=W.visible,K=W.onCancel,z=W.actionReload,ie=W.current,me=(0,b.Z)({_id:null,forNew:!1,forReply:!1}),pe=$()(me,2),Ae=pe[0],ue=pe[1];(0,w.useEffect)(function(){if(fe){l.setFieldsValue(ie);var ye=ie.forNew,_e=ie.forReply,ne=ie._id;ue({forNew:ye,forReply:_e,_id:ne})}},[fe]);var ce=(0,B.useRequest)(H.hc,{manual:!0,onSuccess:function(){h.ZP.success("\u4FEE\u6539\u90AE\u4EF6\u7B7E\u540D\u6210\u529F\uFF01"),K(),z()}}),he=ce.run,ee=ce.loading,Pe=function(){var ye=o()(I()().mark(function _e(){var ne,xe,G,Ze;return I()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(l){M.next=2;break}return M.abrupt("return");case 2:return l.submit(),M.prev=3,M.next=6,l.validateFields();case 6:ne=M.sent,xe=Ae.forNew,G=Ae.forReply,Ze=Ae._id,he(t()(t()({},ne),{},{forNew:xe,forReply:G,id:Ze})),M.next=14;break;case 11:M.prev=11,M.t0=M.catch(3),console.log("Failed:",M.t0);case 14:case"end":return M.stop()}},_e,null,[[3,11]])}));return function(){return ye.apply(this,arguments)}}(),We={okText:"\u4FDD\u5B58",onOk:Pe,onCancel:K},Ee=function(){return(0,D.jsxs)(Y.Z,{form:l,children:[(0,D.jsxs)(x.Z,{children:[(0,D.jsx)(d.Z,{span:12,children:(0,D.jsx)(Y.Z.Item,{name:"forNew",label:!1,style:{marginBottom:16},children:(0,D.jsx)(y.Z,{checked:Ae.forNew,onChange:function(ne){return ue({forNew:ne.target.checked})},children:"\u5E94\u7528\u4E8E\u65B0\u90AE\u4EF6\u7B7E\u540D"})})}),(0,D.jsx)(d.Z,{span:12,children:(0,D.jsx)(Y.Z.Item,{name:"forReply",label:!1,style:{marginBottom:16},children:(0,D.jsx)(y.Z,{checked:Ae.forReply,onChange:function(ne){return ue({forReply:ne.target.checked})},children:"\u5E94\u7528\u4E8E\u8F6C\u53D1/\u56DE\u590D"})})})]}),(0,D.jsx)(Y.Z.Item,{name:"name",label:!1,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B7E\u540D\u540D\u79F0"}],children:(0,D.jsx)(c.Z,{placeholder:"\u8BF7\u8F93\u5165\u7B7E\u540D\u540D\u79F0"})}),(0,D.jsx)(Y.Z.Item,{name:"content",label:!1,rules:[{required:!0,message:"\u7B7E\u540D\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,D.jsx)(j.Z,{isMobile:!0})})]})};return(0,D.jsx)(_.Z,t()(t()({title:"\u4FEE\u6539\u4E2A\u6027\u7B7E\u540D",width:680,destroyOnClose:!0,open:fe,maskClosable:!1,confirmLoading:ee},We),{},{children:Ee()}))};Be.Z=q},71076:function(yn,Be,e){"use strict";var de=e(35290),I=e.n(de),Fe=e(30279),t=e.n(Fe),Se=e(411),o=e.n(Se),k=e(46686),$=e.n(k),w=e(85170),Y=e(31810),h=e(41318),x=e(96498),d=e(46394),y=e(34833),c=e(2800),_=e(58110),b=e(1166),H=e(74729),j=e(17259),B=e(22196),D=e(43010),q=function(W){var De=Y.Z.useForm(),oe=$()(De,1),l=oe[0],fe=W.visible,K=W.onCancel,z=W.actionReload,ie=(0,b.Z)({_id:null,forNew:!1,forReply:!1}),me=$()(ie,2),pe=me[0],Ae=me[1],ue=(0,B.useRequest)(H.Kt,{manual:!0,onSuccess:function(ne){if(!!ne){var xe=ne.count,G="\u7B7E\u540D".concat(xe+1);l.setFieldsValue({name:G})}}}),ce=ue.run;(0,w.useEffect)(function(){fe&&(l.resetFields(),ce())},[fe]);var he=(0,B.useRequest)(H.nq,{manual:!0,onSuccess:function(){h.ZP.success("\u65B0\u589E\u90AE\u4EF6\u7B7E\u540D\u6210\u529F\uFF01"),K(),z()}}),ee=he.run,Pe=he.loading,We=function(){var _e=o()(I()().mark(function ne(){var xe,G,Ze;return I()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(l){M.next=2;break}return M.abrupt("return");case 2:return l.submit(),M.prev=3,M.next=6,l.validateFields();case 6:xe=M.sent,G=pe.forNew,Ze=pe.forReply,ee(t()(t()({},xe),{},{forNew:G,forReply:Ze})),M.next=14;break;case 11:M.prev=11,M.t0=M.catch(3),console.log("Failed:",M.t0);case 14:case"end":return M.stop()}},ne,null,[[3,11]])}));return function(){return _e.apply(this,arguments)}}(),Ee={okText:"\u4FDD\u5B58",onOk:We,onCancel:K},ye=function(){return(0,D.jsxs)(Y.Z,{form:l,children:[(0,D.jsxs)(x.Z,{children:[(0,D.jsx)(d.Z,{span:12,children:(0,D.jsx)(Y.Z.Item,{name:"forNew",label:!1,style:{marginBottom:16},children:(0,D.jsx)(y.Z,{checked:pe.forNew,onChange:function(xe){return Ae({forNew:xe.target.checked})},children:"\u5E94\u7528\u4E8E\u65B0\u90AE\u4EF6\u7B7E\u540D"})})}),(0,D.jsx)(d.Z,{span:12,children:(0,D.jsx)(Y.Z.Item,{name:"forReply",label:!1,style:{marginBottom:16},children:(0,D.jsx)(y.Z,{checked:pe.forReply,onChange:function(xe){return Ae({forReply:xe.target.checked})},children:"\u5E94\u7528\u4E8E\u8F6C\u53D1/\u56DE\u590D"})})})]}),(0,D.jsx)(Y.Z.Item,{name:"name",label:!1,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B7E\u540D\u540D\u79F0"}],children:(0,D.jsx)(c.Z,{placeholder:"\u8BF7\u8F93\u5165\u7B7E\u540D\u540D\u79F0"})}),(0,D.jsx)(Y.Z.Item,{name:"content",label:!1,rules:[{required:!0,message:"\u7B7E\u540D\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,D.jsx)(j.Z,{isMobile:!0})})]})};return(0,D.jsx)(_.Z,t()(t()({title:"\u65B0\u5EFA\u4E2A\u6027\u7B7E\u540D",width:680,destroyOnClose:!0,open:fe,maskClosable:!1,confirmLoading:Pe},Ee),{},{children:ye()}))};Be.Z=q},58254:function(yn,Be,e){"use strict";var de=e(46686),I=e.n(de),Fe=e(85170),t=e(58110),Se=e(43010),o=function($){var w=$.visible,Y=$.onCancel,h=$.current,x=(0,Fe.useState)(""),d=I()(x,2),y=d[0],c=d[1];return(0,Fe.useEffect)(function(){if(w){var _=h.content;c(_)}},[w]),(0,Se.jsx)(t.Z,{title:"\u7B7E\u540D\u9884\u89C8",width:400,bodyStyle:{minHeight:220},destroyOnClose:!0,open:w,onCancel:Y,onOk:Y,footer:!1,children:(0,Se.jsx)("div",{dangerouslySetInnerHTML:{__html:y}})})};Be.Z=o},17259:function(yn,Be,e){"use strict";e.d(Be,{Z:function(){return Rn}});var de=e(30279),I=e.n(de),Fe=e(46686),t=e.n(Fe),Se=e(85170),o=e(62998),k=e(95773),$=e(93275),w=e.n($),Y=e(95102),h=e(39691),x=e(66547),d=e(5681),y=e(78834),c=e(87803),_=e(95230),b=e(80222),H=e(88698),j=e(37433),B=e(71509),D=e(40688),q=e(61784),J=e(91727),W=e(87816),De=e(16539),oe=e(98842),l=e(19654),fe=e(48434),K=e(63363),z=e(75634),ie=e(29106),me=e(14607),pe=e(60977),Ae=e(49621),ue=e(95755),ce=e(53413),he=e(35397),ee=e(30266),Pe=e(87433),We=e(48340),Ee=e(84347),ye=e(66898),_e=e(82895),ne=e(74472),xe=e(59606),G=e(23178),Ze=e(49779),te=e(57295),M=e(68369),ve=e(9189),ge=e.n(ve),on=e(58482),Qe=e.n(on),pn=e(47722),Le=e.n(pn),Q=e(76779),Ge=e.n(Q),In=e(46332),bn=e.n(In),nn=e(49304),ke=e.n(nn),cn=e(23458),Ve=e.n(cn),En=e(56563),hn=e.n(En),fn=e(71198),Cn=e.n(fn),Bn=e(39341),Tn=e.n(Bn),wn=e(15286),sn=e(43010),n=function(le){var T=le.value;return(0,sn.jsx)("div",{children:T.text})},Pn=n,Dn=new WeakMap,kn=function(un){Ge()(T,un);var le=bn()(T);function T(){var Oe;ge()(this,T);for(var be=arguments.length,vn=new Array(be),Sn=0;Sn<be;Sn++)vn[Sn]=arguments[Sn];return Oe=le.call.apply(le,[this].concat(vn)),hn()(Le()(Oe),Dn,{writable:!0,value:void 0}),Oe}return Qe()(T,[{key:"toolbar",value:function(){return!(0,o.iC)(this.editor)||this.editor.readonly?[]:[{type:"dnd"},{type:"copy"},{type:"delete"},{type:"node",node:(0,o.$)("<span>\u6D4B\u8BD5\u6309\u94AE</span>"),didMount:function(vn){vn.on("click",function(){alert("test button")})}}]}},{key:"render",value:function(){return Tn()(this,Dn,(0,o.$)("<div>Loading</div>")),Cn()(this,Dn)}},{key:"didRender",value:function(){var be;ke()(Ve()(T.prototype),"didRender",this).call(this);var vn=this.getValue();wn.render((0,sn.jsx)(Pn,{value:vn}),(be=Cn()(this,Dn))===null||be===void 0?void 0:be.get())}},{key:"destroy",value:function(){var be;ke()(Ve()(T.prototype),"destroy",this).call(this),wn.unmountComponentAtNode((be=Cn()(this,Dn))===null||be===void 0?void 0:be.get())}}],[{key:"cardName",get:function(){return"test"}},{key:"cardType",get:function(){return o.eT.BLOCK}}]),T}(o.Zb),Ke=kn,Vn=function(un){Ge()(T,un);var le=bn()(T);function T(){var Oe;ge()(this,T);for(var be=arguments.length,vn=new Array(be),Sn=0;Sn<be;Sn++)vn[Sn]=arguments[Sn];return Oe=le.call.apply(le,[this].concat(vn)),w()(Le()(Oe),"pasteSchema",function($e){$e.add({type:"block",name:"div",attributes:{"data-type":{required:!0,value:Ke.cardName},"data-value":"*"}})}),w()(Le()(Oe),"pasteHtml",function($e){var C=Oe.editor;if(!(!(0,o.iC)(C)||C.readonly)){if($e.isElement()){var Me=$e.attributes("data-type");if(Me===Ke.cardName){var en=$e.attributes("data-value"),s=(0,o.RW)(en);return C.card.replaceNode($e,Ke.cardName,s),$e.remove(),!1}}return!0}}),w()(Le()(Oe),"parseHtml",function($e){$e.find("[".concat(o.Jr,'="').concat(Ke.cardName,'"],[').concat(o.mV,'="').concat(Ke.cardName,'"]')).each(function(C){var Me=(0,o.$)(C),en=Oe.editor.card.find(Me),s=en==null?void 0:en.getValue();if(s){Me.empty();var O=(0,o.$)('<div data-type="'.concat(Ke.cardName,'" data-value="').concat((0,o.it)(s),'">').concat(s.text,"</div>"));Me.replaceWith(O)}else Me.remove()})}),Oe}return Qe()(T,[{key:"init",value:function(){var be=this.editor;be.on("parse:html",this.parseHtml),be.on("paste:schema",this.pasteSchema),be.on("paste:each",this.pasteHtml)}},{key:"execute",value:function(){var be=this.editor;if(!(!(0,o.iC)(be)||be.readonly)){var vn=be.card;vn.insert(Ke.cardName,{text:"This is card value"})}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+f"}},{key:"destroy",value:function(){var be=this.editor;be.off("parse:html",this.parseHtml),be.off("paste:schema",this.pasteSchema),be.off("paste:each",this.pasteHtml)}}],[{key:"pluginName",get:function(){return"test"}}]),T}(o.Sy),Xn=e(20391),Wn=[ue.Z,xe.Z,x.Z,d.Z,h.Z,b.Z,H.Z,J.Z,ne.Z,D.Z,_e.ZP,me.Z,G.Z,q.Z,B.Z,ee.Z,We.Z,Ee.Z,Y.Z,fe.Z,Ae.Z,pe.Z,ce.Z,he.Z,De.Z,y.Z,W.ZP,W.wA,ye.Z,_.ZP,_.bA,Ze.ZP,Ze.jf,K.Z,k.Mq,j.Z,Pe.Z,oe.Z,z.Z,c.Z,Vn,l.Z,te.Z,M.C,ie.Z],qn=[D.D,_e.bK,y.P,W.cu,ye.a,_.Pw,Ze.jg,K.Q,k.nV,Pe.P,z.Q,Ke,c.m,l.Q,te.H,M.Z,ie.W],zn=w()({},W.wA.pluginName,{file:{action:"/api/upload/image",crossOrigin:!0,headers:{Authorization:213434},name:"file"}}),er={overflow:{maxLeftWidth:function(){var le;if(o.tq)return 0;var T=(le=(0,o.$)(".am-engine").get())===null||le===void 0?void 0:le.getBoundingClientRect(),Oe=(T==null?void 0:T.left)||0,be=Oe-(0,o.$)(".data-toc-wrapper").width();return be<=0?0:be-16},maxRightWidth:function(){var le;if(o.tq)return 0;var T=(le=(0,o.$)(".am-engine").get())===null||le===void 0?void 0:le.getBoundingClientRect(),Oe=((T==null?void 0:T.right)||0)-((T==null?void 0:T.width)||0),be=Oe-(0,o.$)(".doc-comment-layer").width();return be<=0?0:be-16}},maxInsertNum:50},ze={keys:["comment"]},nr={onBeforeRender:function(le,T){return!T||T.indexOf("http")===0?T:T+"?token=12323"},maxHeight:600},$n={file:{action:"/api/upload/image",headers:{Authorization:"213434"}},remote:{action:"/api/upload/image"},isRemote:function(){return!1}},rr={action:"/api/upload/file"},jn={onBeforeRender:function(le,T){return T},fullEditor:420},Fn={action:"/api/upload/video",limitSize:1024*1024*50},Un={action:"/api/latex",parse:function(le){return le.success?{result:!0,data:le.svg}:{result:!1,data:""}}},tr={action:"/api/user/search",onEmpty:function(le){return wn.render((0,sn.jsx)(Xn.Z,{}),le.get())},onClick:function(le,T){var Oe=T.key,be=T.name;console.log("mention click:",Oe,"-",be)},onMouseEnter:function(le,T){var Oe=T.name;wn.render((0,sn.jsxs)("div",{style:{padding:5},children:[(0,sn.jsxs)("p",{children:["This is name: ",Oe]}),(0,sn.jsx)("p",{children:"\u914D\u7F6E mention \u63D2\u4EF6\u7684 onMouseEnter \u65B9\u6CD5"}),(0,sn.jsx)("p",{children:"\u6B64\u5904\u4F7F\u7528 ReactDOM.render \u81EA\u5B9A\u4E49\u6E32\u67D3"}),(0,sn.jsx)("p",{children:"Use ReactDOM.render to customize rendering here"})]}),le.get())}},Kn={filter:function(le){var T=(0,o.ZQ)(le);return T>48?"48px":T<12?"12px":T<19&&T>16?"16px":T<22&&T>19?"19px":T<24&&T>22?"22px":T<29&&T>24?"24px":T<32&&T>29?"29px":T<40&&T>32?"32px":T<48&&T>40?"40px":["12px","13px","14px","15px","16px","19px","22px","24px","29px","32px","40px","48px"].indexOf(le)>-1}},ar={filter:function(le){var T=k.F7.find(function(Oe){return le.split(",").some(function(be){return Oe.value.toLowerCase().indexOf(be.replace(/"/,"").toLowerCase())>-1})});return T?T.value:!1}},Hn={filter:function(le){return le==="14px"?"1":le==="16px"?"1.15":le==="21px"?"1.5":le==="28px"?"2":le==="35px"?"2.5":le==="42px"?"3":["1","1.15","1.5","2","2.5","3"].indexOf(le)>-1}},v=function(){return{popup:{items:[["bold","strikethrough","fontcolor"],{icon:"text",items:["italic","underline","backcolor","moremark"]},[{type:"button",name:"image-uploader",icon:"image"},"link","tasklist","heading"],{icon:"more",items:[{type:"button",name:"video-uploader",icon:"video"},{type:"button",name:"file-uploader",icon:"attachment"},{type:"button",name:"math",icon:"math"},{type:"button",name:"codeblock",icon:"codeblock"},{type:"button",name:"orderedlist",icon:"ordered-list"},{type:"button",name:"unorderedlist",icon:"unordered-list"},{type:"button",name:"hr",icon:"hr"},{type:"button",name:"quote",icon:"quote"}]}]}}},F={showAnchor:!o.tq},Z=function(le){var T;return T={},_defineProperty(T,Heading.pluginName,F),_defineProperty(T,ToolbarPlugin.pluginName,v(le)),_defineProperty(T,Table.pluginName,er),_defineProperty(T,MarkRange.pluginName,ze),_defineProperty(T,Image.pluginName,nr),_defineProperty(T,ImageUploader.pluginName,$n),_defineProperty(T,FileUploader.pluginName,rr),_defineProperty(T,VideoUploader.pluginName,Fn),_defineProperty(T,Video.pluginName,jn),_defineProperty(T,Math.pluginName,Un),_defineProperty(T,Mention.pluginName,tr),_defineProperty(T,Fontsize.pluginName,Kn),_defineProperty(T,Fontfamily.pluginName,ar),_defineProperty(T,LineHeight.pluginName,Hn),_defineProperty(T,MulitCodeblock.pluginName,{language:["javascript","html","css"]}),T},a=function(le){var T=le.value,Oe=le.onChange,be=le.isMobile,vn=(0,Se.useRef)(null),Sn=(0,Se.useState)(),$e=t()(Sn,2),C=$e[0],Me=$e[1],en={plugins:Wn,cards:qn,config:I()({},zn)},s=be?[["bold","italic","strikethrough","underline","moremark"],["heading","fontfamily","fontsize"],["link","tasklist"],{icon:"more",items:[{type:"button",name:"math",icon:"math"},{type:"button",name:"codeblock",icon:"codeblock"},{type:"button",name:"orderedlist",icon:"ordered-list"},{type:"button",name:"unorderedlist",icon:"unordered-list"},{type:"button",name:"hr",icon:"hr"},{type:"button",name:"quote",icon:"quote"}]}]:[["collapse"],["undo","redo","paintformat","removeformat"],["heading","fontfamily","fontsize"],["bold","italic","strikethrough","underline","moremark"],["fontcolor","backcolor"],["alignment"],["unorderedlist","orderedlist","tasklist","indent","line-height"],["link","quote","hr"]];return(0,Se.useEffect)(function(){if(!!vn.current){var O=new o.ZP(vn.current,I()({},en));T&&O.setHtml(T),O.on("change",function(){var mn=O.getHtml();Oe(mn)}),Me(O)}},[]),(0,sn.jsxs)("div",{style:{border:"1px solid #ccc",zIndex:100,borderRadius:"6px"},children:[C&&(0,sn.jsx)(k.ZP,{engine:C,items:s}),(0,sn.jsx)("div",{ref:vn,style:{minHeight:400}})]})},Rn=a},52546:function(yn,Be,e){"use strict";var de=e(35290),I=e.n(de),Fe=e(411),t=e.n(Fe),Se=e(46686),o=e.n(Se),k=e(85170),$=e(31810),w=e(58110),Y=e(36541),h=e(43010),x=function(y){var c=y.visible,_=y.onCancel,b=y.multiTags,H=y.rowCount,j=y.loading,B=y.action,D=y.tagsItem,q=$.Z.useForm(),J=o()(q,1),W=J[0],De=function(){var fe=t()(I()().mark(function K(){var z;return I()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.prev=0,me.next=3,W.validateFields();case 3:z=me.sent,b(z),me.next=10;break;case 7:me.prev=7,me.t0=me.catch(0),console.log("Failed:",me.t0);case 10:case"end":return me.stop()}},K,null,[[0,7]])}));return function(){return fe.apply(this,arguments)}}(),oe=function(){return B==="push"?(0,h.jsxs)("div",{children:["\u8D34\u6807\u7B7E (\u5DF2\u9009\u62E9",(0,h.jsx)("a",{children:H}),"\u4E2A\u8054\u7CFB\u4EBA)"]}):(0,h.jsxs)("div",{children:["\u6495\u6807\u7B7E (\u5DF2\u9009\u62E9",(0,h.jsx)("a",{children:H}),"\u4E2A\u8054\u7CFB\u4EBA)"]})},l=function(){return B==="push"?(0,h.jsx)("div",{style:{fontSize:16},children:"\u6DFB\u52A0\u4EE5\u4E0B\u6807\u7B7E (\u53EF\u9009\u62E9\u591A\u4E2A)"}):(0,h.jsx)("div",{style:{fontSize:16},children:"\u5220\u9664\u4EE5\u4E0B\u6807\u7B7E (\u53EF\u9009\u62E9\u591A\u4E2A)"})};return(0,h.jsx)(w.Z,{title:oe(),width:450,bodyStyle:{padding:"28px 28px"},destroyOnClose:!0,open:c,onCancel:_,okText:"\u63D0\u4EA4",onOk:De,confirmLoading:j,children:(0,h.jsx)("div",{children:(0,h.jsx)($.Z,{layout:"vertical",form:W,children:(0,h.jsx)($.Z.Item,{label:l(),name:"tagValues",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6807\u7B7E"}],children:(0,h.jsx)(Y.Z,{field:D,size:"large"})})})})})};Be.Z=x},11590:function(yn,Be,e){"use strict";e.r(Be),e.d(Be,{default:function(){return Sn}});var de=e(94434),I=e.n(de),Fe=e(35290),t=e.n(Fe),Se=e(411),o=e.n(Se),k=e(30279),$=e.n(k),w=e(46686),Y=e.n(w),h=e(54948),x=e(76319),d=e(74907),y=e(30481),c=e(14194),_=e(45850),b=e(42109),H=e(83655),j=e(57603),B=e(95370),D=e(72461),q=e(40445),J=e(36584),W=e(24862),De=e(73173),oe=e(73607),l=e(41858),fe=e(72453),K=e(49871),z=e(6771),ie=e(37922),me=e(97686),pe=e(12209),Ae=e(28931),ue=e(11039),ce=e(41318),he=e(34833),ee=e(16798),Pe=e(74954),We=e(43525),Ee=e(58110),ye=e(43520),_e=e(10364),ne=e(33285),xe=e(43267),G=e(2800),Ze=e(80661),te=e(42147),M=e(85170),ve=e(70093),ge=e(74729),on=e(10248),Qe=e(1166),pn=e(74637),Le=e.n(pn),Q=e(88665),Ge=e(31810),In=e(96498),bn=e(46394),nn=e(78730),ke=e(87424),cn=e(36236),Ve=e(25106),En=e(20391),hn={"field-item":"field-item___SCt3M",writeMail:"writeMail___nXUZb",borderd:"borderd___UGgnN"},fn=e(71076),Cn=e(73575),Bn={standardListForm:"standardListForm___zH1wz",verStyle:"verStyle___TWoE9"},Tn=e(48865),wn=e(71585),sn=e(58254),n=e(43010),Pn=function(C){var Me=(0,M.useRef)(),en=C.visible,s=C.onCancel,O=(0,Qe.Z)({createVisiable:!1,changeVisiable:!1,previewVisiable:!1,currentRecord:null}),mn=Y()(O,2),Te=mn[0],Ue=mn[1],dn=function(){Me.current&&Me.current.reload()},Zn=function(){var Re=o()(t()().mark(function Ye(ae,He){var rn;return t()().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return tn.next=2,(0,ge.SD)({id:ae,type:"new",value:He});case 2:rn=tn.sent,rn&&dn();case 4:case"end":return tn.stop()}},Ye)}));return function(ae,He){return Re.apply(this,arguments)}}(),re=function(){var Re=o()(t()().mark(function Ye(ae,He){var rn;return t()().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return tn.next=2,(0,ge.SD)({id:ae,type:"reply",value:He});case 2:rn=tn.sent,rn&&dn();case 4:case"end":return tn.stop()}},Ye)}));return function(ae,He){return Re.apply(this,arguments)}}(),U=function(){var Re=o()(t()().mark(function Ye(ae){var He,rn;return t()().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return He=ae._id,tn.next=3,(0,ge.gI)({id:He});case 3:rn=tn.sent,rn&&(ce.ZP.success("\u5220\u9664\u7B7E\u540D\u6210\u529F\uFF01"),dn());case 5:case"end":return tn.stop()}},Ye)}));return function(ae){return Re.apply(this,arguments)}}(),xn=[{title:"\u5E8F\u53F7",dataIndex:"id",valueType:"indexBorder",tip:"\u5E8F\u53F7id,\u7CFB\u7EDF\u81EA\u52A8\u751F\u6210"},{title:"\u7B7E\u540D\u540D\u79F0",dataIndex:"name",valueType:"text"},{title:"\u65B0\u90AE\u4EF6\u7B7E\u540D",dataIndex:"forNew",render:function(Ye,ae){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Cn.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:ae.forNew,onChange:function(rn){return Zn(ae._id,rn)}})})}},{title:"\u8F6C\u53D1/\u56DE\u590D\u7B7E\u540D",dataIndex:"forReply",render:function(Ye,ae){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Cn.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:ae.forReply,onChange:function(rn){return re(ae._id,rn)}})})}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(Ye,ae){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{onClick:function(){return Ue({currentRecord:ae,changeVisiable:!0})},children:"\u4FEE\u6539"}),(0,n.jsx)(te.Z,{type:"vertical"}),(0,n.jsx)(Pe.Z,{title:"\u786E\u8BA4\u5220\u9664\uFF1A".concat(ae.name,"?"),onConfirm:function(){return U(ae)},children:(0,n.jsx)("a",{href:"#",children:"\u5220\u9664"})}),(0,n.jsx)(te.Z,{type:"vertical"}),(0,n.jsx)("a",{onClick:function(){return Ue({currentRecord:ae,previewVisiable:!0})},children:"\u9884\u89C8"})]})}}];return(0,n.jsxs)(Ee.Z,{title:!1,className:Bn.standardListForm,width:860,bodyStyle:{padding:"12px"},destroyOnClose:!0,open:en,maskClosable:!1,footer:!1,onCancel:s,children:[(0,n.jsx)(Tn.ZP,{headerTitle:"\u8BBE\u7F6E\u7B7E\u540D",actionRef:Me,rowKey:"_id",toolBarRender:function(){return[(0,n.jsxs)(ee.ZP,{type:"primary",style:{marginRight:24},onClick:function(){return Ue({createVisiable:!0})},children:[(0,n.jsx)(nn.Z,{})," \u65B0\u5EFA"]},"create")]},options:!1,request:function(Ye,ae,He){return(0,ge.uM)($()($()({},Ye),{},{sorter:ae,filter:He}))},columns:xn,rowSelection:!1,search:!1}),(0,n.jsx)(fn.Z,{visible:Te.createVisiable,onCancel:function(){return Ue({createVisiable:!1})},actionReload:function(){return dn()}}),(0,n.jsx)(wn.Z,{visible:Te.changeVisiable,onCancel:function(){return Ue({changeVisiable:!1})},actionReload:function(){return dn()},current:Te.currentRecord}),(0,n.jsx)(sn.Z,{visible:Te.previewVisiable,onCancel:function(){return Ue({previewVisiable:!1})},current:Te.currentRecord})]})},Dn=Pn,kn=function(C){var Me=C.visible,en=C.onCancel,s=C.insertAction,O=(0,Qe.Z)({contactOptions:[],companyOptions:[],options:[],fieldType:"contact",key:"",createVisiable:!1,listVisiable:!1}),mn=Y()(O,2),Te=mn[0],Ue=mn[1],dn=function(){var U=o()(t()().mark(function xn(){var Re;return t()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(0,ge.hQ)();case 2:Re=ae.sent,Re&&Ue({options:Re});case 4:case"end":return ae.stop()}},xn)}));return function(){return U.apply(this,arguments)}}(),Zn=function(xn,Re){s({name:xn,content:Re})},re=function(xn){var Re=xn.name,Ye=xn.content;return(0,n.jsx)("div",{className:hn["field-item"],onClick:function(){return Zn(Re,Ye)},children:Re},Re)};return(0,M.useEffect)(function(){Me&&dn()},[Me]),(0,n.jsxs)(Ee.Z,{title:!1,width:240,bodyStyle:{minHeight:160},destroyOnClose:!0,open:Me,footer:null,onCancel:en,maskClosable:!1,children:[(0,n.jsx)(Ae.Z,{direction:"vertical",children:(0,n.jsx)("div",{style:{fontSize:16,width:192,overflow:"auto",maxHeight:300},children:Te.options&&Te.options.length?Te.options.map(function(U){return re(U)}):(0,n.jsx)(En.Z,{description:!1})})}),(0,n.jsxs)("div",{style:{textAlign:"center",width:192},children:[(0,n.jsx)(te.Z,{style:{margin:12}}),(0,n.jsx)("div",{children:(0,n.jsx)("a",{onClick:function(){return Ue({createVisiable:!0})},children:"\u65B0\u5EFA\u7B7E\u540D"})}),(0,n.jsx)(te.Z,{style:{margin:12}}),(0,n.jsx)("div",{children:(0,n.jsx)("a",{onClick:function(){return Ue({listVisiable:!0})},children:"\u7B7E\u540D\u7BA1\u7406"})})]}),(0,n.jsx)(fn.Z,{visible:Te.createVisiable,onCancel:function(){return Ue({createVisiable:!1})},actionReload:function(){return dn()}}),(0,n.jsx)(Dn,{visible:Te.listVisiable,onCancel:function(){return Ue({listVisiable:!1})}})]})},Ke=kn,Vn=e(1406),Xn=function(C){var Me=Ge.Z.useForm(),en=Y()(Me,1),s=en[0],O=C.visible,mn=C.onCancel,Te=C.sendAction,Ue=(0,Qe.Z)({submitLoading:!1,showTime:""}),dn=Y()(Ue,2),Zn=dn[0],re=dn[1],U=function(){var ae=o()(t()().mark(function He(){var rn,An;return t()().wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:if(s){gn.next=2;break}return gn.abrupt("return");case 2:return gn.prev=2,s.submit(),gn.next=6,s.validateFields();case 6:rn=gn.sent,An=rn.timeStart,re({submitLoading:!0}),Te(Le()(An).valueOf()),gn.next=15;break;case 12:gn.prev=12,gn.t0=gn.catch(2),console.log("Failed:",gn.t0);case 15:case"end":return gn.stop()}},He,null,[[2,12]])}));return function(){return ae.apply(this,arguments)}}(),xn=function(He){var rn=He.timeStart,An=Le()(rn).format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm:ss");re({showTime:An})};(0,M.useEffect)(function(){if(s&&O){var ae=Le()(),He=ae.format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm:ss");s.setFieldsValue({timeStart:ae}),re({showTime:He,submitLoading:!1})}},[O]);var Re=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Ge.Z,{layout:"vertical",form:s,onValuesChange:xn,size:"large",children:[(0,n.jsx)(Ge.Z.Item,{name:"timeStart",label:"\u9009\u62E9\u5B9A\u65F6\u53D1\u9001\u7684\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B9A\u65F6\u65F6\u95F4"}],children:(0,n.jsx)(Vn.Z,{format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:Le()("00:00:00","HH:mm:ss")},style:{width:"100%"},placeholder:"\u8BF7\u8BBE\u7F6E\u5B9A\u65F6\u65F6\u95F4"})}),(0,n.jsxs)("div",{style:{color:"#798699"},children:["\u672C\u90AE\u4EF6\u5C06\u5728 ",(0,n.jsx)("span",{style:{color:"#000",fontWeight:"bold"},children:Zn.showTime})," ","\u5F00\u59CB\u53D1\u9001"]})]})})},Ye={okText:"\u53D1\u9001",onOk:U,onCancel:mn};return(0,n.jsx)(Ee.Z,$()($()({title:"\u5B9A\u65F6\u53D1\u9001",width:420,bodyStyle:{padding:"20px 28px"},destroyOnClose:!0,open:O,confirmLoading:Zn.submitLoading},Ye),{},{children:Re()}))},Wn=Xn,qn=e(70683),zn=e(33349),er=e(61825),ze=e(22196),nr={labelCol:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:2}},wrapperCol:{xs:{span:24},sm:{span:24},mg:{span:24},lg:{span:24},xl:{span:21}}},$n={wrapperCol:{xs:{offset:0,span:24},sm:{offset:0,span:24},md:{offset:0,span:24},lg:{offset:2,span:19}}},rr=function(C){var Me=Ge.Z.useForm(),en=Y()(Me,1),s=en[0],O=C.visible,mn=C.onCancel,Te=C.current,Ue=C.action,dn=(0,Qe.Z)({submitLoading:!1,insertVisible:!1,accountItems:[],accountVisible:!1,senderItems:[],senderVisible:!1,toOptions:[],saveLoading:!1,ccVisiable:!1,ccOptions:[],bccVisiable:!1,bccOptions:[],attamentOptions:[],attachmentVisible:!1,timeVisible:!1,track:!0,costNum:0,html:"",maid:"system",single:!1,replyId:void 0,forwardId:void 0,sendAtOnce:!0,timeStart:0,attNormal:!1}),Zn=Y()(dn,2),re=Zn[0],U=Zn[1],xn=(0,ze.useRequest)(ge.jz,{manual:!0,onSuccess:function(m){U({accountItems:m})}}),Re=xn.run,Ye=function(){var N=o()(t()().mark(function m(g){var E,R;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,Re();case 2:return R=P.sent,R&&g!=="system"&&R.forEach(function(we){we.maid===g&&(E=we.mail_addr)}),P.abrupt("return",E);case 5:case"end":return P.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),ae=(0,ze.useRequest)(ge.DG,{manual:!0,onSuccess:function(m){U({senderItems:m})}}),He=ae.run,rn=function(){var N=o()(t()().mark(function m(g){var E;return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,He();case 2:E=L.sent,E&&g==="system"&&E.length&&s.setFieldsValue({sender:E[0].name});case 4:case"end":return L.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),An=(0,ze.useRequest)(ge.xQ,{manual:!0,onSuccess:function(m){if(!!m){var g=[];for(var E in m){var R=m[E],L=R.name,P=R.showname,we=R._id,Je=R.size,Ie=R.fileSize;g.push({label:"".concat(L,"(").concat(P,"  ").concat(Ie,")"),value:we,size:Je})}U({attamentOptions:g})}}}),tn=An.run,gn=An.refresh,yr=function(){var N=o()(t()().mark(function m(){var g;return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g=re.maid,Ye(g);case 2:case"end":return R.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),_r=function(){var N=o()(t()().mark(function m(){var g;return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g=re.maid,rn(g);case 2:case"end":return R.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),xr=function(){var N=o()(t()().mark(function m(){return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!(Ue==="new"||!Te)){E.next=2;break}return E.abrupt("return","");case 2:if(!(Ue==="forward"||Ue==="reply")){E.next=4;break}return E.abrupt("return","<div><br></div><div><br></div><div><br></div>");case 4:return E.abrupt("return","");case 5:case"end":return E.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),Er=function(){var N=o()(t()().mark(function m(){var g,E;return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,ge.On)({type:Ue});case 2:if(g=L.sent,!g){L.next=7;break}if(E=g.content,!E){L.next=7;break}return L.abrupt("return","<div>--</div><div>".concat(E,"</div>"));case 7:return L.abrupt("return","");case 8:case"end":return L.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),br=function(){var N=o()(t()().mark(function m(){var g,E,R,L,P,we;return t()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(Ue!=="new"){Ie.next=2;break}return Ie.abrupt("return","");case 2:return g=Te.html,E=Te.from,R=Te.timestamp,L=(0,Q.As)(E),P=L.name,we=L.email,Ie.abrupt("return",`<div dir="ltr">
    <div dir="ltr"> <br>  </div>
    <div class="lfx_quote">
        <div dir="ltr" class="lfx_attr"> 
          <a href="mailto:`.concat(we,'">').concat(P,`</a>
          &lt;
          <a href="mailto:`).concat(we,'">').concat(we,`</a>
          &gt; wrote on `).concat(Le()(R),`:
          <br>
        </div>
        <blockquote class="lfx_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">`).concat(g,` </blockquote>
    </div>
</div>`));case 5:case"end":return Ie.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),Cr=function(){var N=o()(t()().mark(function m(g){var E,R,L,P,we,Je,Ie,ln,Xe,_n,f,r,u,i,p,S,A,V,X,se,je,qe,Ne;return t()().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:if(s.resetFields(),E=Te.from,R=Te.to,L=Te.subject,P=Te.html,we=Te._id,Je=Te.replyTo,Ie=Te.cc,Ue!=="edit"){an.next=8;break}return ln=R?R.split(","):void 0,s.setFieldsValue({toArr:ln,subject:L,_id:we}),U({submitLoading:!1,html:P,replyId:void 0,costNum:ln?ln.length:0}),g&&g.indexOf("@")>0&&U({costNum:0}),an.abrupt("return");case 8:return an.next=10,xr();case 10:return Xe=an.sent,an.next=13,Er();case 13:return _n=an.sent,an.next=16,br();case 16:f=an.sent,Ue==="new"&&U({submitLoading:!1,replyId:void 0,forwardId:void 0,costNum:0,html:"<div><br></div>".concat(_n)}),Ue==="forward"&&(r=void 0,s.setFieldsValue({toArr:r,subject:"Fw: ".concat(L)}),U({submitLoading:!1,forwardId:we,costNum:r?r==null?void 0:r.length:0,html:"".concat(Xe,"<div></div>").concat(_n).concat(f)})),Ue==="reply"&&(u=(0,Q.L5)(Je),s.setFieldsValue({toArr:u,subject:"Re: ".concat(L)}),U({submitLoading:!1,replyId:we,costNum:u?u.length:0,html:"".concat(Xe,"<div></div>").concat(_n).concat(f)})),Ue==="replyAll"&&(i=(0,Q.L5)(E),p=(0,Q.L5)(R),S=(0,Q.L5)(Je),A=(0,Q.L5)(Ie),V=(0,Q.Kx)(i.concat(p,S,A),g),s.setFieldsValue({toArr:V,subject:"Re: ".concat(L)}),U({submitLoading:!1,replyId:we,costNum:V?V.length:0,html:"".concat(Xe,"<div></div>").concat(_n).concat(f)})),Ue==="sendReply"&&(X=(0,Q.L5)(R),s.setFieldsValue({toArr:X,subject:"Re: ".concat(L)}),U({submitLoading:!1,replyId:we,costNum:X?X.length:0,html:"".concat(Xe,"<div></div>").concat(_n).concat(f)})),Ue==="sendReplyAll"&&(se=(0,Q.L5)(R),je=(0,Q.L5)(Je),qe=(0,Q.L5)(Ie),Ne=(0,Q.Kx)(se.concat(je,qe),g),s.setFieldsValue({toArr:Ne,subject:"Re: ".concat(L)}),U({submitLoading:!1,replyId:we,costNum:Ne?Ne.length:0,html:"".concat(Xe,"<div></div>").concat(_n).concat(f)})),g&&s.setFieldsValue({sender:g}),g&&g.indexOf("@")>0&&U({costNum:0});case 25:case"end":return an.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),sr=function(){var m=0,g=s.getFieldsValue(),E=g.sender,R=g.toArr,L=g.ccArr,P=g.bccArr;if(E&&E.indexOf("@")>0){U({costNum:0});return}R&&R.length&&(m+=R.length),L&&L.length&&(m+=L.length),P&&P.length&&(m+=P.length),U({costNum:m})},Dr=function(){var N=o()(t()().mark(function m(){var g,E;return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return g=Te.maid,U({maid:g,sendAtOnce:!0}),L.next=4,Ye(g);case 4:E=L.sent,Cr(E),rn(g),tn();case 8:case"end":return L.stop()}},m)}));return function(){return N.apply(this,arguments)}}();(0,M.useEffect)(function(){O&&Dr()},[O]);var ir=function(m){if(!m)return!0;var g=/<\w[-\w.+]*@([-A-Za-z0-9]+\.)+[A-Za-z]{2,14}>/;for(var E in m){var R=m[E];if(!g.test(R))return!1}return!0},cr=function(m){var g=m.toArr,E=m.ccArr,R=m.bccArr;if(g&&g.length>200)return ce.ZP.error("\u6536\u4EF6\u4EBA\u6570\u91CF\u4E0D\u80FD\u8D85\u8FC7 200"),!1;if(E&&E.length>10)return ce.ZP.error("\u6284\u9001\u6570\u91CF\u4E0D\u80FD\u8D85\u8FC7 10"),!1;if(R&&R.length>10)return ce.ZP.error("\u5BC6\u9001\u6570\u91CF\u4E0D\u80FD\u8D85\u8FC7 10"),!1;var L=ir(g);return L?(L=ir(E),L?(L=ir(R),L?!0:(ce.ZP.error("\u5BC6\u9001\u5730\u5740\u683C\u5F0F\u4E0D\u6B63\u786E"),!1)):(ce.ZP.error("\u6284\u9001\u5730\u5740\u683C\u5F0F\u4E0D\u6B63\u786E"),!1)):(ce.ZP.error("\u6536\u4EF6\u4EBA\u5730\u5740\u683C\u5F0F\u4E0D\u6B63\u786E"),!1)},jr=function(m){var g=re.attamentOptions,E=0;if(!m)return 0;var R=function(we){var Je=m[we],Ie=g.findIndex(function(Xe){return Xe.value===Je}),ln=g[Ie].size;E+=ln};for(var L in m)R(L);return E},dr=function(){var N=o()(t()().mark(function m(g){var E,R;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(E=re.attNormal,E){P.next=3;break}return P.abrupt("return",!1);case 3:if(!(!g||!g.length)){P.next=5;break}return P.abrupt("return",!1);case 5:if(R=jr(g),!(R>10485760)){P.next=9;break}return ce.ZP.error("\u666E\u901A\u9644\u4EF6\u603B\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710MB"),P.abrupt("return",!0);case 9:return P.abrupt("return",!1);case 10:case"end":return P.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),fr=function(){var N=o()(t()().mark(function m(g){var E,R,L,P,we,Je,Ie;return t()().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:E=g.toArr,R=g.ccArr,L=g.bccArr,P=g.attIds,E&&E.length&&(we=(0,Q.Dy)(E),s.setFieldsValue({toArr:we}),U({toOptions:[]})),R&&R.length&&(Je=(0,Q.Dy)(R),s.setFieldsValue({ccArr:Je}),U({ccOptions:[]})),L&&L.length&&(Ie=(0,Q.Dy)(L),s.setFieldsValue({bccArr:Ie}),U({bccOptions:[]})),sr(),dr(P);case 6:case"end":return Xe.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),mr=(0,ze.useRequest)(ge.L2,{manual:!0}),Sr=mr.run,Ar=mr.loading,wr=function(){var N=o()(t()().mark(function m(){var g,E,R,L,P,we,Je,Ie,ln,Xe,_n,f,r,u,i,p,S,A,V,X,se,je,qe;return t()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(s){Ce.next=2;break}return Ce.abrupt("return");case 2:return s.submit(),Ce.prev=3,U({submitLoading:!0}),Ce.next=7,s.validateFields();case 7:if(g=Ce.sent,E=re.html,R=re.track,L=re.maid,P=re.replyId,we=re.single,Je=re.timeStart,Ie=re.sendAtOnce,ln=re.attNormal,!(!E||!E.length)){Ce.next=13;break}return ce.ZP.error("\u90AE\u4EF6\u6B63\u6587\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),U({submitLoading:!1}),Ce.abrupt("return");case 13:if(Xe=cr(g),Xe){Ce.next=17;break}return U({submitLoading:!1}),Ce.abrupt("return");case 17:return _n=(0,Q.JU)(E),f=g.toArr,r=g.ccArr,u=g.bccArr,i=g.sender,p=g.attIds,S=g.subject,Ce.next=21,dr(p);case 21:if(A=Ce.sent,!A){Ce.next=25;break}return U({submitLoading:!1}),Ce.abrupt("return");case 25:return V=f?f.toString():null,X=r?r.toString():void 0,se=u?u.toString():void 0,Ce.next=30,Sr({single:we,track:R,html:E,to:V,cc:X,bcc:se,subject:S,sender:i,maid:L,attIds:p,replyId:P,text:_n,timeStart:Je,sendAtOnce:Ie,attNormal:ln});case 30:if(je=Ce.sent,!je){Ce.next=43;break}if(!Ie){Ce.next=40;break}if(!(je.fail&&je.fail>=je.success)){Ce.next=37;break}return ce.ZP.error("\u90AE\u4EF6\u53D1\u9001\u5931\u8D25"),U({submitLoading:!1}),Ce.abrupt("return");case 37:qe="\u90AE\u4EF6\u53D1\u9001\u6210\u529F\uFF01\u53D1\u9001\u603B\u6570\uFF1A".concat(je.total,", \u6210\u529F\uFF1A").concat(je.success,", \u5931\u8D25\uFF1A").concat(je.fail),Ce.next=41;break;case 40:qe="\u60A8\u7684\u5B9A\u65F6\u90AE\u4EF6\u4FDD\u5B58\u6210\u529F.\u8BE5\u90AE\u4EF6\u6682\u65F6\u4FDD\u5B58\u5728\u201C\u8349\u7A3F\u7BB1\u201D\u4E2D\uFF0C\u5B83\u5C06\u5728\u60A8\u6307\u5B9A\u7684\u65F6\u95F4\u53D1\u51FA\u3002";case 41:ce.ZP.success(qe),mn();case 43:U({submitLoading:!1}),Ce.next=50;break;case 46:Ce.prev=46,Ce.t0=Ce.catch(3),U({submitLoading:!1}),console.log("Failed:",Ce.t0);case 50:case"end":return Ce.stop()}},m,null,[[3,46]])}));return function(){return N.apply(this,arguments)}}(),Fr=function(){var N=o()(t()().mark(function m(){var g,E,R;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,s.validateFields();case 3:if(g=P.sent,E=re.html,!(!E||!E.length)){P.next=9;break}return ce.ZP.error("\u90AE\u4EF6\u6B63\u6587\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),U({submitLoading:!1}),P.abrupt("return");case 9:if(R=cr(g),R){P.next=13;break}return U({submitLoading:!1}),P.abrupt("return");case 13:P.next=19;break;case 15:return P.prev=15,P.t0=P.catch(0),console.log("Failed:",P.t0),P.abrupt("return");case 19:U({timeVisible:!0});case 20:case"end":return P.stop()}},m,null,[[0,15]])}));return function(){return N.apply(this,arguments)}}(),Or=function(m){U({timeStart:m,sendAtOnce:!1,timeVisible:!1}),s.submit()},pr=(0,ze.useRequest)(ge.tr,{manual:!0,onSuccess:function(m){if(!!m){ce.ZP.success("\u90AE\u4EF6\u4FDD\u5B58\u6210\u529F");var g=m._id;s.setFieldsValue({_id:g})}}}),Tr=pr.run,Pr=pr.loading,Zr=function(){var N=o()(t()().mark(function m(){var g,E,R,L,P,we,Je,Ie,ln,Xe,_n,f,r;return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return U({saveLoading:!0}),i.next=3,s.getFieldsValue();case 3:return g=i.sent,E=g.toArr,R=g.ccArr,L=g.bccArr,P=g.sender,we=g.subject,Je=E?E.toString():null,Ie=R?R.toString():void 0,ln=L?L.toString():void 0,Xe=re.html,_n=re.track,f=re.maid,r=(0,Q.JU)(Xe),i.next=13,Tr({html:Xe,to:Je,cc:Ie,bcc:ln,subject:we,sender:P,maid:f,track:_n,text:r});case 13:case"end":return i.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),Mr=function(){var N=o()(t()().mark(function m(){return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:s.submit();case 1:case"end":return E.stop()}},m)}));return function(){return N.apply(this,arguments)}}(),Rr=function(m){var g=m.content,E=re.editor;E.insertContent(g),U({insertVisible:!1})},Br=function(m){U({html:m})},Lr=function(){var N=o()(t()().mark(function m(g,E,R){var L,P,we,Je,Ie,ln,Xe;return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(L=g.blob(),L){f.next=3;break}return f.abrupt("return",!1);case 3:if(P=L.name,P){f.next=6;break}return f.abrupt("return",!1);case 6:return f.next=8,(0,Ve.c)(L,"img",!0);case 8:if(we=f.sent,Je=we.success,Ie=we.data,ln=we.error,!Je){f.next=16;break}return Xe=Ie.url,E(Xe),f.abrupt("return",!0);case 16:R(ln);case 17:return f.abrupt("return",!1);case 18:case"end":return f.stop()}},m)}));return function(g,E,R){return N.apply(this,arguments)}}(),Ir=function(m){m.ui.registry.addButton("customInsertButton",{text:"\u63D2\u5165\u7B7E\u540D",tooltip:"\u63D2\u5165\u7B7E\u540D",onAction:function(){U({insertVisible:!0,editor:m})}})},kr=function(){var m=Promise,g=re.html;return g?m.resolve():m.reject("\u90AE\u4EF6\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A")},Ur=(0,ze.useRequest)(on._X,{manual:!0}),ur=Ur.run,Kr=function(){var N=o()(t()().mark(function m(g){var E,R;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,ur({keyword:g});case 2:E=P.sent,R=(0,Q.Fc)(E),U({toOptions:R});case 5:case"end":return P.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),hr=function(){var N=o()(t()().mark(function m(g){var E,R;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,ur({keyword:g});case 2:E=P.sent,R=(0,Q.Fc)(E),U({ccOptions:R});case 5:case"end":return P.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),Nr=function(){var N=o()(t()().mark(function m(g){var E,R;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,ur({keyword:g});case 2:E=P.sent,R=(0,Q.Fc)(E),U({bccOptions:R});case 5:case"end":return P.stop()}},m)}));return function(g){return N.apply(this,arguments)}}(),Vr=function(){U({ccVisiable:!1}),s.setFieldsValue({ccArr:null}),sr()},vr=function(){U({bccVisiable:!1}),s.setFieldsValue({bccArr:null}),sr()},Gn=function(m){var g=m.label,E=m.value,R=m.closable,L=m.onClose,P=function(ln){ln.preventDefault(),ln.stopPropagation()},we=/\w[-\w.+]*@([-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,Je=we.test(E)?"processing":"error";return(0,n.jsx)(K.Z,{color:Je,onMouseDown:P,closable:R,onClose:L,style:{marginRight:3},children:g})},Wr=function(m){U({single:m}),m&&(s.setFieldsValue({ccArr:null,bccArr:null}),U({ccVisiable:!1,bccVisiable:!1}),fr({}))},zr=function(){return(0,n.jsxs)(Ge.Z,$()($()({},nr),{},{form:s,layout:"horizontal",size:"large",onValuesChange:fr,onFinish:wr,colon:!1,children:[(0,n.jsx)(Ge.Z.Item,{hidden:!0,name:"_id",label:"\u4FDD\u5B58id",children:(0,n.jsx)(G.Z,{bordered:!1})}),(0,n.jsx)(Ge.Z.Item,{label:"\u53D1\u9001\u8D26\u53F7",extra:re.costNum?(0,n.jsxs)("span",{children:["\u672C\u6B21\u53D1\u9001\u5C06\u6D88\u8017",(0,n.jsx)("a",{children:re.costNum}),"\u5C01\u53D1\u9001\u989D\u5EA6"]}):"\u672C\u6B21\u53D1\u9001\u514D\u8D39",children:(0,n.jsxs)(In.Z,{gutter:3,className:hn.borderd,children:[(0,n.jsx)(bn.Z,{span:17,children:(0,n.jsx)(Ge.Z.Item,{name:"sender",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u53D1\u9001\u8D26\u53F7"}],children:(0,n.jsxs)(ye.Z,{placeholder:"\u8BF7\u9009\u62E9\u53D1\u9001\u8D26\u53F7",optionFilterProp:"label",showArrow:!1,bordered:!1,size:"middle",dropdownRender:function(g){return(0,n.jsxs)("div",{children:[g,(0,n.jsx)(te.Z,{style:{margin:"4px 0"}}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",paddingLeft:12},children:(0,n.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:function(){return U({senderVisible:!0})},children:[(0,n.jsx)(nn.Z,{})," \u6DFB\u52A0\u7CFB\u7EDF\u8D26\u53F7"]})}),(0,n.jsx)(te.Z,{style:{margin:"4px 0"}}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",paddingLeft:12},children:(0,n.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:function(){return U({accountVisible:!0})},children:[(0,n.jsx)(nn.Z,{})," \u6DFB\u52A0\u6211\u7684\u90AE\u7BB1"]})})]})},children:[(0,n.jsx)(ye.Z.OptGroup,{label:"\u7CFB\u7EDF\u8D26\u53F7",children:re.senderItems.map(function(m){return(0,n.jsx)(ye.Z.Option,{value:m.name,children:"".concat(m.name,"(").concat(m.fromName,")")},m.name)})}),(0,n.jsx)(ye.Z.OptGroup,{label:"\u81EA\u6709\u90AE\u7BB1",children:re.accountItems.map(function(m){return(0,n.jsx)(ye.Z.Option,{value:m.mail_addr,children:m.mail_name?"".concat(m.mail_addr,"(").concat(m.mail_name,")"):"".concat(m.mail_addr)},m.maid)})})]})})}),(0,n.jsx)(bn.Z,{span:7,children:(0,n.jsxs)(Ae.Z,{style:{paddingTop:8,paddingLeft:12},children:[(0,n.jsx)(he.Z,{checked:re.single,onChange:function(g){return Wr(g.target.checked)},children:"\u5206\u522B\u53D1\u9001"}),re.single?null:(0,n.jsxs)("div",{children:[re.ccVisiable?(0,n.jsx)(ee.ZP,{type:"link",size:"small",onClick:Vr,children:"\u5220\u9664\u6284\u9001"}):(0,n.jsx)(ee.ZP,{type:"link",size:"small",onClick:function(){return U({ccVisiable:!0})},children:"\u6DFB\u52A0\u6284\u9001"}),re.bccVisiable?(0,n.jsx)(ee.ZP,{type:"link",size:"small",onClick:vr,children:"\u5220\u9664\u5BC6\u9001"}):(0,n.jsx)(ee.ZP,{type:"link",size:"small",onClick:function(){return U({bccVisiable:!0})},children:"\u6DFB\u52A0\u5BC6\u9001"})]})]})})]})}),(0,n.jsx)(Ge.Z.Item,{name:"toArr",label:"\u6536\u4EF6\u4EBA",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u4EF6\u4EBA\u5730\u5740"}],children:(0,n.jsx)(ye.Z,{className:hn.borderd,mode:"tags",showArrow:!1,bordered:!1,options:re.toOptions,onSearch:Kr,tagRender:Gn,allowClear:!0,size:"middle"})}),re.ccVisiable?(0,n.jsx)(Ge.Z.Item,{name:"ccArr",label:"\u6284 \u9001",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6284\u9001\u5730\u5740"}],children:(0,n.jsx)(ye.Z,{mode:"tags",className:hn.borderd,showArrow:!1,bordered:!1,options:re.ccOptions,onSearch:hr,tagRender:Gn,allowClear:!0,size:"middle"})}):null,re.bccVisiable?(0,n.jsx)(Ge.Z.Item,{name:"bccArr",label:"\u5BC6 \u9001",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u9001\u5730\u5740"}],children:(0,n.jsx)(ye.Z,{mode:"tags",className:hn.borderd,showArrow:!1,bordered:!1,options:re.bccOptions,onSearch:Nr,tagRender:Gn,allowClear:!0,size:"middle"})}):null,(0,n.jsx)(Ge.Z.Item,{name:"subject",label:"\u90AE\u4EF6\u4E3B\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u4E3B\u9898"}],children:(0,n.jsx)(G.Z,{className:hn.borderd,placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u4E3B\u9898",size:"middle",bordered:!1})}),(0,n.jsx)(Ge.Z.Item,{name:"content",label:"\u90AE\u4EF6\u5185\u5BB9",rules:[{required:!0,validator:kr}],children:(0,n.jsx)("div",{children:(0,n.jsx)(cn.M,{value:re.html,tinymceScriptSrc:"/lstatic/libs/tinymce/5.5.1/tinymce.min.js",init:{auto_focus:!0,height:400,menubar:!0,language:"zh_CN",plugins:"print preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount imagetools textpattern help paste emoticons autosave",toolbar:"customInsertButton | undo redo | formatselect fontselect fontsizeselect |                   forecolor backcolor bold italic underline strikethrough |                   alignleft aligncenter alignright alignjustify outdent indent | bullist numlist",fontsize_formats:"8px 9px 10px 11px 12px 14px 16px 18px 24px 36px 48px 56px 72px",images_upload_handler:Lr,setup:Ir},onEditorChange:Br})})}),(0,n.jsx)(Ge.Z.Item,{label:"\u9644\u4EF6",style:{margin:"10px 0"},children:(0,n.jsxs)(In.Z,{gutter:3,className:hn.borderd,children:[(0,n.jsx)(bn.Z,{span:20,children:(0,n.jsx)(Ge.Z.Item,{name:"attIds",children:(0,n.jsx)(ye.Z,{size:"middle",mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u9644\u4EF6(\u53EF\u9009)",optionFilterProp:"label",options:re.attamentOptions,showArrow:!1,bordered:!1,allowClear:!0,dropdownRender:function(g){return(0,n.jsxs)("div",{children:[g,(0,n.jsx)(te.Z,{style:{margin:"4px 0"}}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",padding:"8px"},children:(0,n.jsxs)("a",{style:{flex:"none",display:"block",cursor:"pointer"},onClick:function(){return U({attachmentVisible:!0})},children:[(0,n.jsx)(nn.Z,{})," \u6DFB\u52A0\u9644\u4EF6"]})})]})}})})}),(0,n.jsx)(bn.Z,{span:4,children:(0,n.jsx)(Ae.Z,{style:{paddingTop:8,paddingLeft:12},children:(0,n.jsxs)(he.Z,{checked:re.attNormal,onChange:function(g){return U({attNormal:g.target.checked})},children:["\u666E\u901A\u9644\u4EF6"," ",(0,n.jsx)(z.Z,{title:"\u4EE5\u666E\u901A\u9644\u4EF6\u5F62\u5F0F\u53D1\u9001\uFF0C\u65E0\u6CD5\u8FFD\u8E2A\u4E0B\u8F7D",children:(0,n.jsx)(y.Z,{})})]})})})]})}),(0,n.jsx)(Ge.Z.Item,$()($()({},$n),{},{style:{margin:"10px 0"},children:(0,n.jsxs)(Ae.Z,{size:"middle",children:[(0,n.jsxs)(ee.ZP,{type:"primary",size:"middle",onClick:Mr,loading:Ar,children:[(0,n.jsx)(ke.Z,{rotate:-45}),"\u53D1\u9001"]}),(0,n.jsxs)(ee.ZP,{size:"middle",onClick:Fr,children:[(0,n.jsx)(b.Z,{}),"\u5B9A\u65F6"]}),(0,n.jsx)(ee.ZP,{size:"middle",loading:Pr,onClick:Zr,children:"\u5B58\u8349\u7A3F"}),(0,n.jsx)(he.Z,{checked:re.track,onChange:function(g){return U({track:g.target.checked})},children:"\u90AE\u4EF6\u8FFD\u8E2A"})]})}))]}))};return(0,n.jsxs)(Ee.Z,{title:"\u65B0\u90AE\u4EF6",width:"60%",bodyStyle:{padding:"24px 24px 24px"},destroyOnClose:!0,open:O,maskClosable:!1,footer:!1,onCancel:mn,className:hn.writeMail,children:[zr(),(0,n.jsx)(Ke,{visible:re.insertVisible,onCancel:function(){return U({insertVisible:!1})},insertAction:Rr}),(0,n.jsx)(Wn,{visible:re.timeVisible,onCancel:function(){return U({timeVisible:!1})},sendAction:function(m){return Or(m)}}),(0,n.jsx)(qn.Z,{visible:re.accountVisible,actionReload:yr,onCancel:function(){return U({accountVisible:!1})}}),(0,n.jsx)(zn.Z,{visible:re.senderVisible,actionReload:_r,onCancel:function(){return U({senderVisible:!1})},current:!1}),(0,n.jsx)(er.Z,{visible:re.attachmentVisible,onCancel:function(){return U({attachmentVisible:!1})},current:!1,actionReload:function(){return gn()}})]})},jn=rr,Fn={mainLayout:"mainLayout____GZq1",leftLayout:"leftLayout___xCxQV",middle:"middle___yMFmb",right:"right___aSRyt",title:"title___KaI8v",main:"main___EYgtc",readFont:"readFont___XrKoZ",unreadFont:"unreadFont___vdPd_",mailListContainer:"mailListContainer___whPOH","ant-pro-list":"ant-pro-list___dvsZs","ant-pro-list-row":"ant-pro-list-row___eYKuY",mailListTree:"mailListTree___CNFCE","ant-tree":"ant-tree___TGHgS","ant-tree-block-node":"ant-tree-block-node___WXEZo","ant-tree-list-holder-inner":"ant-tree-list-holder-inner___fe3yy","ant-tree-node-content-wrapper":"ant-tree-node-content-wrapper___LGdpi",mailListLoadingContainer:"mailListLoadingContainer___HcFEf",item:"item___aTpai",meta:"meta___T6ehO",avatar:"avatar___lvwji",iconElement:"iconElement___XWV5w",selected:"selected___DZDTd",read:"read___FwE0Z",description:"description___oPUuB",datetime:"datetime___acnen",extra:"extra___MtQ9Q",from:"from___Aoidg","split-row-select-active":"split-row-select-active___VW0Dt",mailSelectActive:"mailSelectActive___rPLRx",contentStyle:"contentStyle___ABSf2"},Un=e(69602),tr=e(32699),Kn=e.n(tr),ar=e(52546),Hn=e(88208),v=e(66694);Le().locale("zh-CN");var F=e(85660),Z=e(66589),a={mailList:[],subject:"",html:"",rtime:"",current:0,unopen:0,hasMore:!0,selectId:""},Rn=function(C){return C?Le()(C).format("YYYY-MM-DD HH:mm:ss"):null},un=function(C){if(!C)return null;var Me=new Date().getTime();if(Me-C<3600*1e3)return Le()(C).fromNow();var en=new Date(new Date().toLocaleDateString()).getTime();return C>en?Le()(C).format("HH:mm"):Le()(C).format("M\u6708DD\u65E5")},le=function(C){return C?C==="read"?(0,n.jsx)(K.Z,{color:"#87d068",children:"\u9605\u8BFB"}):C==="click"?(0,n.jsx)(K.Z,{color:"#2db7f5",children:"\u70B9\u51FB"}):C==="download"?(0,n.jsx)(K.Z,{color:"#108ee9",children:"\u4E0B\u8F7D"}):C==="reply"?(0,n.jsx)(K.Z,{color:"#3b5999",children:"\u56DE\u590D"}):C:null},T=function(C){var Me=C.country,en=C.regionName,s=C.city,O=C.county,mn=C.ip,Te="";return en&&(Te+=en),s&&(Te+=s),O&&(Te+=O),Me==="\u4E2D\u56FD"?(0,n.jsx)(z.Z,{title:"".concat(Te,"(").concat(mn,")"),children:(0,n.jsxs)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[Te,"(",mn,")"]})}):(0,n.jsx)(z.Z,{title:"".concat(Me).concat(Te,"(").concat(mn,")"),children:(0,n.jsxs)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[Me,Te,"(",mn,")"]})})},Oe=function(C){var Me=C.device;return(0,Q.S3)(Me)},be=[{title:"\u65F6\u95F4",dataIndex:"time",render:function(C){return Rn(C)},width:145},{title:"\u884C\u4E3A",dataIndex:"act",render:function(C){return le(C)},width:60},{title:"\u5730\u5740\u4FE1\u606F",dataIndex:"country",ellipsis:!0,render:function(C,Me){return T(Me)},width:180},{title:"\u8FD0\u8425\u5546",dataIndex:"isp",width:75,ellipsis:!0},{title:"\u8BBE\u5907",dataIndex:"device",render:function(C,Me){return Oe(Me)},width:120},{title:"\u4E3B\u9898/\u94FE\u63A5/\u9644\u4EF6",dataIndex:"other",width:120,ellipsis:!0}],vn=function(){var C=(0,M.useRef)(),Me=(0,Qe.Z)({maid:"system",parent:"",boxName:"INBOX",boxDisName:"",accList:[],loading:!1,hasMore:!0,mailList:[],innerHeight:600,subject:"",html:"",rtime:"",timestamp:0,timeStart:0,from:"",fromTags:null,to:"",cc:"",bcc:"",replyTo:"",current:1,total:0,unseen:0,unopen:0,readStatus:!1,selectId:"",selectedKeys:["system||INBOX"],openKeys:["system|/|system"],rootSubmenuKeys:[],attachments:[],tblSelectKeys:[],tblSelectAll:!1,editStatus:!1,mailUrl:"",imgUrl:"",params:{},replyVisible:!1,replyAllVisible:!1,forwardVisible:!1,editVisible:!1,newVisible:!1,sendReplyVisible:!1,sendReplyAllVisible:!1,currentMail:{},iframeHeight:"600px",keyword:"",mailHistory:[],expandedKeys:[],checkedKeys:["system||INBOX"],searchValue:"",autoExpandParent:!0,addAccountVisible:!1,loadingStatus:!1,setTagsVisible:!1,setTagsText:"",changeType:"add",tagsColors:{},tagsItems:[],webhookMsg:{},ssid:"",owners:[],ownerValues:[],userid:null}),en=Y()(Me,2),s=en[0],O=en[1],mn=(0,ze.useRequest)(ge.sb,{manual:!0,onSuccess:function(r){if(!!r){var u=r.userid;O({userid:u})}}}),Te=mn.run,Ue=(0,ze.useRequest)(v.rZ,{onSuccess:function(r){if(!!r){O({owners:r});var u=[];for(var i in r){var p=r[i],S=p.nickname,A=p.userid;u.push({title:S,value:A,key:A})}O({userTreeData:u})}}}),dn=Ue.data,Zn=(0,ze.useRequest)(ge.NG,{manual:!0,onSuccess:function(r){!r||O({webhookMsg:r})}}),re=Zn.run,U=function(){if(C.current){var r,u;C==null||(r=C.current)===null||r===void 0||r.reload(),C==null||(u=C.current)===null||u===void 0||u.reset()}},xn=function(r){if(O($()($()({},a),{},{readStatus:!1,keyword:""})),r&&r.length){var u=r[0],i=u.split("|"),p=Y()(i,3),S=p[0],A=p[1],V=p[2],X=(0,Q.fk)(V);O({maid:S,parent:A,boxName:V,boxDisName:X,selectedKeys:[u],params:{},tblSelectKeys:[]}),U()}},Re=(0,ze.useRequest)(ge._q,{manual:!0,onSuccess:function(r){if(!!r){var u=r.map(function(i){var p=i.maid,S=i.parent,A=i.boxName,V="".concat(p,"|").concat(S,"|").concat(A);return V});O({accList:r,rootSubmenuKeys:u})}}}),Ye=Re.run,ae=function(){var f=o()(t()().mark(function r(){var u;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Ye();case 2:u=s.expandedKeys,(!u||!u.length)&&O({expandedKeys:["system|/|system"]});case 4:case"end":return p.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),He=function f(r){var u=r.maid,i=r.name,p=r.parent,S=r.boxName,A=r.children,V=r.unseen,X=r.total,se="".concat(u,"|").concat(p,"|").concat(S),je=(0,n.jsx)(h.Z,{});if(p==="/"&&(je=(0,n.jsx)(x.Z,{})),A&&A.length){var qe=A.map(function(Ne){return f(Ne)});return V?{title:"".concat(i," (").concat(V,")"),key:se,icon:je,children:qe}:{title:i,key:se,icon:je,children:qe}}return i&&i.indexOf("\u8349\u7A3F")===0&&X?{title:"".concat(i," (").concat(X,")"),key:se,icon:je}:V?{title:"".concat(i," (").concat(V,")"),key:se,icon:je}:{title:i,key:se,icon:je}},rn=function(){var r=s.accList;return r.map(function(u){var i=u.name,p=u.maid,S=u.parent,A=u.boxName,V=u.status,X="".concat(p,"|").concat(S,"|").concat(A);return V==="success"?He(u):V==="failed"?{title:i,key:X,icon:(0,n.jsx)(d.Z,{})}:{title:i,key:X,icon:(0,n.jsx)(y.Z,{})}})},An=(0,ze.useRequest)(ge.Vq,{manual:!0,onSuccess:function(r){!r||O({mailTrackInfo:r})}}),tn=An.run,gn=An.loading,yr=function(){var f=o()(t()().mark(function r(u,i){var p,S,A;return t()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:u&&(p=s.mailList,S=p[i],A=S.ssid,tn({sid:A}));case 1:case"end":return X.stop()}},r)}));return function(u,i){return f.apply(this,arguments)}}(),_r=function(r){var u=r.track;return u?(0,n.jsx)(ie.Z,{style:{maxWidth:720},rowKey:"_id",columns:be,dataSource:s.mailTrackInfo,size:"small",pagination:!1,loading:gn}):(0,n.jsx)("div",{children:"\u65E0\u8FFD\u8E2A\u4FE1\u606F"})},xr=(0,ze.useRequest)(ge.Ci,{manual:!0,onSuccess:function(r){!r||O({mailHistory:r})}}),Er=xr.run,br=function(){var f=o()(t()().mark(function r(u){var i,p,S,A,V,X;return t()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:u?(i=s.currentMail,p=s.boxDisName,i&&(S=i.from,A=i.to,V=/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi,p==="\u5DF2\u53D1\u9001"||p==="\u5DF2\u53D1\u9001\u90AE\u4EF6"?X=A.match(V)[0]:X=S.match(V)[0],Er({email:X}))):O({mailHistory:[]});case 1:case"end":return je.stop()}},r)}));return function(u){return f.apply(this,arguments)}}(),Cr=function(){var r=s.mailHistory;return(0,n.jsx)("div",{style:{width:800,maxHeight:s.innerHeight-32,overflow:"auto"},children:(0,n.jsx)(me.Z,{mode:"right",style:{paddingTop:12},children:r.map(function(u){var i=u.subject,p=u.timestamp,S=u._id,A=u.boxName,V=(0,Q.fk)(A),X="blue",se="\u6536\u4FE1";return(V==="\u5DF2\u53D1\u9001"||V==="\u5DF2\u53D1\u9001\u90AE\u4EF6")&&(X="green",se="\u53D1\u4FE1"),(0,n.jsx)(me.Z.Item,{color:X,label:"".concat(Le()(p).format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm:ss")," (").concat(se,")"),children:i},S)})})})},sr=function(r,u){var i=r.readed,p=r.clicked,S=r.downed,A=r.replied,V=r.boxName,X=r.track,se=r.from,je=r.to,qe=r.status,Ne=(0,Q.fk)(V);return Ne&&Ne.indexOf("\u5DF2\u53D1")!==0&&Ne.indexOf("\u8349\u7A3F")!==0?(0,n.jsx)("div",{style:{maxWidth:"300px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,Q.ie)(se)}):(0,n.jsxs)("div",{style:{maxWidth:"300px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[(0,Q.ie)(je),qe===4?(0,n.jsx)(K.Z,{color:"error",children:"\u5DF2\u9000\u4FE1"}):(0,n.jsx)(pe.Z,{content:_r(r),title:!1,onOpenChange:function(an){return yr(an,u)},children:(0,n.jsxs)(Ae.Z,{style:{marginLeft:4},children:[qe===3&&X&&!i?(0,n.jsx)(K.Z,{color:"default",children:"\u5DF2\u9001\u8FBE"}):null,qe===4?(0,n.jsx)(K.Z,{color:"error",children:"\u5DF2\u9000\u4FE1"}):null,A?(0,n.jsxs)(K.Z,{color:"success",children:["\u56DE\u590D",(0,n.jsx)(ue.Z,{size:"small",count:A,style:{marginBottom:3,backgroundColor:"#52c41a"}})]}):null,S?(0,n.jsxs)(K.Z,{color:"success",children:["\u4E0B\u8F7D",(0,n.jsx)(ue.Z,{size:"small",count:S,style:{marginBottom:3,backgroundColor:"#52c41a"}})]}):null,p?(0,n.jsxs)(K.Z,{color:"success",children:["\u70B9\u51FB",(0,n.jsx)(ue.Z,{size:"small",count:p,style:{marginBottom:3,backgroundColor:"#52c41a"}})]}):null,i?(0,n.jsxs)(K.Z,{color:"success",children:["\u9605\u8BFB",(0,n.jsx)(ue.Z,{size:"small",count:i,style:{marginBottom:3,backgroundColor:"#52c41a"}})]}):null]})})]})},Dr=function(r){var u=r.map(function(i,p){var S=i._id,A=i.status,V=i.attach,X=i.html,se=i.from,je=i.to,qe=i.cc,Ne=i.bcc,Ce=i.timestamp,an=i.attachments,lr=i.replyTo,On=i.timeStart,or=i.maid,Yn=i.boxName,Jn=i.attIds,Ln=i.subject,Nn=i.text;Ln=Ln||null,Nn=Nn||(0,n.jsx)("span",{children:"\xA0"});var gr=A?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{width:"380px",fontWeight:"bold",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:Ln}),(0,n.jsx)("div",{style:{width:"380px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:Nn})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{width:"380px",color:"#2e3133",fontWeight:"bold",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:Ln}),(0,n.jsx)("div",{style:{width:"380px",color:"#2e3133",fontWeight:"bold",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:Nn})]}),Qn=A?sr(i,p):(0,n.jsx)("div",{style:{maxWidth:"200px",fontWeight:"bold",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,Q.ie)(se)}),$r="inline",Mn=V||Jn!=null&&Jn.length?(0,n.jsx)(c.Z,{}):null;return{id:S,maid:or,title:Qn,subTitle:Mn,description:gr,type:$r,status:A,html:X,subject:Ln,replyTo:lr,from:se,to:je,cc:qe,bcc:Ne,timestamp:Ce,timeStart:On,attachments:an,boxName:Yn,extra:(0,n.jsx)("div",{style:{minWidth:60,flex:1,display:"flex",justifyContent:"flex-end"},children:(0,n.jsxs)("div",{style:{width:"80px"},children:[(0,n.jsx)("div",{children:un(i.timestamp)}),(0,n.jsx)("div",{children:"\xA0"}),(0,n.jsx)("div",{children:"\xA0"})]})})}});return u},ir=(0,ze.useRequest)(ge.nv,{manual:!0,onSuccess:function(r){if(!!r){var u=r.list,i=r.total,p=r.unseen,S=r.storeUrl,A=r.trackUrl;O({total:i,unseen:p,mailList:u,mailUrl:S,imgUrl:A})}}}),cr=ir.run,jr=function(){var f=o()(t()().mark(function r(u,i,p){var S,A,V,X,se,je,qe,Ne,Ce,an;return t()().wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return S=s.maid,A=s.parent,V=s.boxName,X=s.keyword,se=s.ownerValues,je=u.current,qe=u.pageSize,Ne=u.status,X?(p.keyword=X,Ce={current:je,pageSize:qe,filter:p,sort:i,owners:se}):Ce={owners:se,current:je,pageSize:qe,filter:$()($()({},p),{},{maid:S,parent:A,boxName:V,status:Ne}),sort:i},On.next=5,cr(Ce);case 5:return an=On.sent,On.abrupt("return",an);case 7:case"end":return On.stop()}},r)}));return function(u,i,p){return f.apply(this,arguments)}}(),dr=function(){var f=o()(t()().mark(function r(u){var i,p,S,A,V;return t()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(i=u.id,p=u.status,!p){se.next=3;break}return se.abrupt("return");case 3:p||ae(),S=s.mailList,A=s.unseen,V=S.findIndex(function(je){return je._id===i}),S[V].status=1,O({mailList:S,unseen:A-1});case 8:case"end":return se.stop()}},r)}));return function(u){return f.apply(this,arguments)}}(),fr=(0,ze.useRequest)(ge.zo,{manual:!0,onSuccess:function(){var f=o()(t()().mark(function u(i){var p,S,A,V,X,se,je,qe,Ne,Ce,an,lr,On,or,Yn,Jn,Ln,Nn,gr,Qn;return t()().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:if(p=i.html,S=i.rtime,A=i.subject,V=i.from,X=i.fromTags,se=i.toTags,je=i.to,qe=i.cc,Ne=i.bcc,Ce=i.timestamp,an=i.attachments,lr=i.downloadUrl,On=i.replyTo,or=i.timeStart,Yn=i.ssid,Jn=i.status,Ln=i.userid,!p){Mn.next=5;break}return O({ssid:Yn,html:p,subject:A,rtime:S,from:V,fromTags:X,to:je,toTags:se,cc:qe,bcc:Ne,timestamp:Ce,attachments:an,replyTo:On||V,currentMail:i,timeStart:or,loadingStatus:!1,webhookMsg:{},userid:Ln}),Yn&&Jn===4&&re({ssid:Yn}),Mn.abrupt("return");case 5:return Mn.next=7,F.get(lr);case 7:if(Nn=Mn.sent,!Nn){Mn.next=14;break}return gr=Nn.data,Qn="",Mn.next=13,Z.read(gr,function(Hr,Gr){if(Hr)return console.log(Hr);Qn=Gr.html});case 13:O({userid:Ln,loadingStatus:!1,html:Qn,subject:A,rtime:S,from:V,fromTags:X,to:je,cc:qe,bcc:Ne,timestamp:Ce,attachments:an,replyTo:On||V,timeStart:or,currentMail:$()($()({},i),{},{html:Qn})});case 14:case"end":return Mn.stop()}},u)}));function r(u){return f.apply(this,arguments)}return r}()}),mr=fr.run,Sr=function(){var f=o()(t()().mark(function r(u){var i,p,S,A,V,X,se,je;return t()().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(i=s.maid,p=s.selectId,S=s.tblSelectKeys,A=s.editStatus,V=u.id,X=u.boxName,!A){Ne.next=6;break}return se=S.indexOf(V),se>=0?(S.splice(se,1),O({tblSelectKeys:I()(S)})):O({tblSelectKeys:[].concat(I()(S),[V])}),Ne.abrupt("return");case 6:if(V!==p){Ne.next=8;break}return Ne.abrupt("return");case 8:je=(0,Q.fk)(X),O({boxDisName:je,readStatus:!0,selectId:V,tblSelectKeys:[V],iframeHeight:"600px",loadingStatus:!0}),mr({id:V,maid:i}),dr(u);case 12:case"end":return Ne.stop()}},r)}));return function(u){return f.apply(this,arguments)}}(),Ar=function(){var f=o()(t()().mark(function r(){var u,i,p;return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u=s.selectId,A.next=3,(0,ge.bg)({id:u});case 3:i=A.sent,i&&(O({readStatus:!1}),C==null||(p=C.current)===null||p===void 0||p.reload());case 5:case"end":return A.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),wr=(0,ze.useRequest)(ge.mv,{manual:!0,onSuccess:function(){var r;O({readStatus:!1,editStatus:!1,tblSelectKeys:[]}),C==null||(r=C.current)===null||r===void 0||r.reload()}}),Fr=wr.run,Or=function(){var f=o()(t()().mark(function r(){var u;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=s.tblSelectKeys,Fr({ids:u});case 2:case"end":return p.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),pr=function(){var f=o()(t()().mark(function r(){var u,i,p;return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u=s.selectId,A.next=3,(0,ge.wC)({id:u});case 3:i=A.sent,i&&(O({readStatus:!1}),C==null||(p=C.current)===null||p===void 0||p.reload());case 5:case"end":return A.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),Tr=function(){var f=o()(t()().mark(function r(){var u,i,p;return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u=s.selectId,A.next=3,(0,ge.$y)({id:u});case 3:i=A.sent,i&&(ce.ZP.success("\u53D6\u6D88\u6210\u529F"),C==null||(p=C.current)===null||p===void 0||p.reload(),O({timeStart:0}));case 5:case"end":return A.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),Pr=function(){var f=o()(t()().mark(function r(){var u,i,p,S,A,V;return t()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return u=s.boxName,i=s.parent,p=s.maid,S=s.tblSelectKeys,se.next=3,(0,ge.Br)({maid:p,parent:i,boxName:u,ids:S});case 3:A=se.sent,A&&(O({readStatus:!1,editStatus:!1,tblSelectKeys:[]}),C==null||(V=C.current)===null||V===void 0||V.reload());case 5:case"end":return se.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),Zr=function(r){r.length||O({tblSelectAll:!1}),O({tblSelectKeys:r})},Mr=function(r){var u=r.status,i=r.timeStart,p=r.boxName,S=(0,Q.fk)(p);if(S&&S.indexOf("\u5DF2\u5220\u9664")===0)return(0,n.jsx)(z.Z,{title:"\u5DF2\u5220\u9664",children:(0,n.jsx)(_.Z,{})});if(S&&S.indexOf("\u8349\u7A3F")===0){if(i){var A="\u5B9A\u65F6\u4E2D\uFF0C\u53D1\u9001\u65F6\u95F4: ".concat(Le()(i).format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm:ss"));return(0,n.jsx)(z.Z,{title:A,children:(0,n.jsx)(b.Z,{})})}return(0,n.jsx)(z.Z,{title:"\u8349\u7A3F\u7BB1",children:(0,n.jsx)(H.Z,{})})}return u===0?(0,n.jsx)(z.Z,{title:"\u672A\u8BFB",children:(0,n.jsx)(ue.Z,{status:"processing"})}):u===1?(0,n.jsx)(z.Z,{title:"\u5DF2\u8BFB",children:(0,n.jsx)(ue.Z,{status:"default"})}):u===2?(0,n.jsx)(z.Z,{title:"\u60A8\u5DF2\u56DE\u590D\u8FC7\u8BE5\u90AE\u4EF6",children:(0,n.jsx)(j.Z,{})}):u===3?(0,n.jsx)(z.Z,{title:"\u53D1\u9001\u6210\u529F",children:(0,n.jsx)(B.Z,{})}):u===5?(0,n.jsx)(z.Z,{title:"\u5DF2\u8F6C\u53D1",children:(0,n.jsx)(D.Z,{})}):(0,n.jsx)(z.Z,{title:"\u9000\u4FE1",children:(0,n.jsx)(ue.Z,{status:"error"})})},Rr=function(r,u){return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:s.editStatus?(0,n.jsx)(he.Z,{checked:r,children:" "}):(0,n.jsx)("span",{children:"\xA0"})}),(0,n.jsx)("div",{style:{paddingLeft:4,paddingTop:4},children:Mr(u)})]})},Br=function(r){var u=s.mailList;if(r){var i=u.map(function(p){return p._id});O({tblSelectKeys:i})}else O({tblSelectKeys:[]})},Lr=function(){var r=s.editStatus,u=s.tblSelectKeys,i=s.boxDisName;return r?(0,n.jsxs)(Ae.Z,{children:[(0,n.jsx)(he.Z,{onChange:function(S){return Br(S.target.checked)},children:"\u5168\u9009"}),(0,n.jsxs)("span",{children:["\u5DF2\u9009\u4E2D ",(0,n.jsx)("a",{children:u.length})," \u5C01\u90AE\u4EF6"]}),i!=="\u8349\u7A3F\u7BB1"&&i!=="\u5DF2\u5220\u9664"&&u.length?(0,n.jsx)(ee.ZP,{size:"small",onClick:Or,children:"\u5220\u9664"}):null,(i==="\u8349\u7A3F\u7BB1"||i==="\u5DF2\u5220\u9664")&&u.length?(0,n.jsx)(Pe.Z,{title:"\u786E\u8BA4\u5F7B\u5E95\u5220\u9664?\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D",onConfirm:Pr,children:(0,n.jsx)(ee.ZP,{size:"small",children:"\u5F7B\u5E95\u5220\u9664"})}):null]}):(0,n.jsxs)("span",{style:{fontSize:14},children:["\u5171 ",(0,n.jsx)("a",{onClick:function(){return O({params:{}})},children:s.total})," \u5C01\uFF0C\u5176\u4E2D\u672A\u8BFB\u90AE\u4EF6"," ",(0,n.jsx)("a",{onClick:function(){return O({params:{status:0}})},children:s.unseen})," \u5C01"]})},Ir=function(){var r,u=document.getElementById("myiframe"),i=(r=u.contentWindow.document)===null||r===void 0?void 0:r.body.scrollHeight,p=u.contentWindow.document.documentElement.scrollHeight,S=Math.max(i,p);O({iframeHeight:"".concat(S,"px")})},kr=function(){var r=s.keyword,u=s.ownerValues;if(r||u){var i,p;O({selectedKeys:[]}),C==null||(i=C.current)===null||i===void 0||i.reset(),C==null||(p=C.current)===null||p===void 0||p.reload()}},Ur=function(r){O({expandedKeys:r,autoExpandParent:!1})},ur=(0,ze.useRequest)(on.vs,{manual:!0,onSuccess:function(r){if(!!r){var u={};for(var i in r){var p=r[i],S=p.id,A=p.name,V=p.color;u[S]={name:A,color:V}}O({tagsColors:u,tagsItems:r})}}}),Kr=ur.run,hr=function(){var f=o()(t()().mark(function r(){return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:Kr();case 1:case"end":return i.stop()}},r)}));return function(){return f.apply(this,arguments)}}();(0,M.useEffect)(function(){var f=window.innerHeight-48-48-36;O($()($()({},a),{},{innerHeight:f})),hr(),ae()},[]);var Nr=(0,ze.useRequest)(on.gL,{manual:!0,onSuccess:function(){ce.ZP.success("\u4FDD\u5B58\u6210\u529F"),O({fromTags:[]})}}),Vr=Nr.run,vr=function(){var f=o()(t()().mark(function r(){var u;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u=s.from,p.next=3,Vr({text:u});case 3:case"end":return p.stop()}},r)}));return function(){return f.apply(this,arguments)}}(),Gn=(0,ze.useRequest)(on.BZ,{manual:!0,onSuccess:function(r){if(!!r){hr();var u=r.tags;O({fromTags:u,setTagsVisible:!1})}}}),Wr=Gn.run,zr=Gn.loading,N=function(){var f=o()(t()().mark(function r(u){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:O({setTagsVisible:!0,setTagsText:u});case 1:case"end":return p.stop()}},r)}));return function(u){return f.apply(this,arguments)}}(),m=function(r){var u=r.tagValues;if(!u||!u.length){ce.ZP.error("\u6807\u7B7E\u4E0D\u80FD\u4E3A\u7A7A");return}var i=s.setTagsText,p=(0,Q.FD)(i);if(p&&p.length){var S=p[0];Wr({email:S,tags:u,type:"add"})}else ce.ZP.error("\u975E\u6CD5\u90AE\u4EF6\u5730\u5740")},g=(0,ze.useRequest)(on.BZ,{manual:!0,onSuccess:function(r){var u=r.tags;O({fromTags:u}),ce.ZP.success("\u6807\u7B7E\u5220\u9664\u6210\u529F")}}),E=g.run,R=function(){var f=o()(t()().mark(function r(u,i){return t()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,E({email:u,tags:[i],type:"del"});case 2:case"end":return S.stop()}},r)}));return function(u,i){return f.apply(this,arguments)}}(),L=function(r,u,i){if(u[r]){var p=u[r],S=p.name,A=p.color;return(0,n.jsx)(K.Z,{color:A,closable:!0,onClose:function(){return R(i,r)},children:S},r)}return(0,n.jsx)(K.Z,{children:r},r)},P=function(){var r=s.from,u=s.fromTags;if(!r)return null;var i=(0,Q.FD)(r);if(!i||!i.length)return null;var p=i[0],S;u?S=(0,n.jsx)(z.Z,{title:"\u589E\u52A0\u6807\u7B7E",children:(0,n.jsx)(J.Z,{onClick:function(){return N(r)}})}):S=(0,n.jsx)(z.Z,{title:"\u4FDD\u5B58\u5230\u8054\u7CFB\u4EBA",children:(0,n.jsx)(q.Z,{onClick:function(){return vr()}})});var A=s.tagsColors,V=null;return u&&(V=(0,n.jsx)("span",{style:{width:500,height:24,padding:0,overflow:"hidden"},children:Kn().uniq(u).map(function(X){return L(X,A,p)})})),(0,n.jsxs)("div",{className:Fn.from,children:["\u53D1\u4EF6\u4EBA\uFF1A",(0,n.jsx)("a",{href:"mailto:".concat(s.from),children:s.from}),"\xA0\xA0\xA0",S," ","\xA0\xA0\xA0",V]})},we=function(){var r=s.to,u=s.toTags,i=s.ssid;if(!r)return null;var p=(0,Q.FD)(r);if(!p||!p.length)return null;var S=p[0],A;u?A=(0,n.jsx)(z.Z,{title:"\u589E\u52A0\u6807\u7B7E",children:(0,n.jsx)(J.Z,{onClick:function(){return N(r)}})}):A=(0,n.jsx)(z.Z,{title:"\u4FDD\u5B58\u5230\u8054\u7CFB\u4EBA",children:(0,n.jsx)(q.Z,{onClick:function(){return vr()}})});var V=s.tagsColors,X=null;return u&&(X=(0,n.jsx)("span",{style:{width:500,height:24,padding:0,overflow:"hidden"},children:Kn().uniq(u).map(function(se){return L(se,V,S)})})),i?(0,n.jsxs)("div",{className:Fn.from,children:["\u6536\u4EF6\u4EBA\uFF1A",(0,n.jsx)("a",{href:"mailto:".concat(r),children:r}),"\xA0\xA0\xA0",A," \xA0\xA0\xA0",X]}):(0,n.jsxs)("div",{className:Fn.from,children:["\u6536\u4EF6\u4EBA\uFF1A",(0,n.jsx)("a",{href:"mailto:".concat(r),children:r}),"\xA0\xA0\xA0",X]})},Je=function(){var r=s.ssid,u=s.webhookMsg;if(r&&u){var i=u.message,p=u.event;if(p&&p!=="deliver")return(0,n.jsx)(We.Z,{message:"\u90AE\u4EF6\u53D1\u9001\u5931\u8D25 ".concat(p),description:i,type:"error",showIcon:!0})}return null},Ie=function(r){var u=s.owners,i=s.selectId,p=u.findIndex(function(A){return A.userid===r}),S=u[p].nickname;Ee.Z.confirm({title:"\u4FEE\u6539\u90AE\u4EF6\u5F52\u5C5E",content:"\u786E\u8BA4\u5C06\u90AE\u4EF6\u5206\u914D\u7ED9 ".concat(S,"?"),onOk:function(){return Te({userid:r,id:i})}})},ln=function(){var r=s.owners;return r!=null&&r.length?(0,n.jsxs)("div",{children:["\u90AE\u4EF6\u5F52\u5C5E\uFF1A",(0,n.jsx)(ye.Z,{style:{width:240,textDecoration:"underline"},bordered:!1,showArrow:!1,placeholder:(0,n.jsxs)("div",{style:{color:"#383838"},children:["\u8BBE\u7F6E\u5F52\u5C5E ",(0,n.jsx)(W.Z,{})]}),value:s.userid,onChange:Ie,children:r.map(function(u){var i=u.nickname,p=u.userid;return(0,n.jsx)(ye.Z.Option,{children:i},p)})})]}):null},Xe=function(r){var u=s.ownerValues,i=r.value;return u&&u.length&&u[0]===i?(0,n.jsxs)("div",{className:Un.Z.stardardFilterSelected,children:["\u5F52\u5C5E (",u.length,")"]}):(0,n.jsx)("span",{})},_n=function(r){var u,i;O({ownerValues:r}),O({selectedKeys:[]}),C==null||(u=C.current)===null||u===void 0||u.reset(),C==null||(i=C.current)===null||i===void 0||i.reload()};return(0,n.jsxs)(Hn.Z,{pageTitle:!1,pageGroup:"",pageActive:"",children:[(0,n.jsxs)("div",{className:Fn.mainLayout,children:[(0,n.jsxs)("div",{className:Fn.leftLayout,style:{maxHeight:s.innerHeight+36,overflowY:"auto",overflowX:"hidden"},children:[(0,n.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:12,marginBottom:12},children:(0,n.jsxs)(ee.ZP,{type:"primary",shape:"round",style:{width:120},onClick:function(){return O({newVisible:!0})},children:[(0,n.jsx)(De.Z,{}),"\u5199\u90AE\u4EF6"]})}),(0,n.jsx)("div",{className:"mailListTree",children:(0,n.jsx)(_e.Z,{onExpand:Ur,expandedKeys:s.expandedKeys,defaultSelectedKeys:s.selectedKeys,checkedKeys:s.selectedKeys,autoExpandParent:s.autoExpandParent,treeData:rn(),blockNode:!0,showIcon:!0,onSelect:xn})}),(0,n.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:12,marginBottom:12},children:(0,n.jsxs)(Ae.Z,{direction:"vertical",size:"small",style:{display:"flex"},children:[(0,n.jsxs)(ee.ZP,{type:"primary",shape:"round",ghost:!0,onClick:function(){return O({addAccountVisible:!0})},children:[(0,n.jsx)(oe.Z,{})," \u6DFB\u52A0\u90AE\u7BB1\u8D26\u6237"]}),(0,n.jsxs)(ee.ZP,{type:"primary",shape:"round",ghost:!0,onClick:function(){return ze.history.push("/mails/accounts")},children:[(0,n.jsx)(l.Z,{})," \u90AE\u7BB1\u8D26\u53F7\u7BA1\u7406"]})]})})]}),(0,n.jsx)("div",{className:Fn.middle,style:{height:s.innerHeight+36},children:(0,n.jsx)(ne.Z,{bodyStyle:{padding:0},children:(0,n.jsxs)("div",{className:"mailListContainer",style:{height:s.innerHeight+34,padding:0},children:[dn!=null&&dn.length?(0,n.jsx)(xe.Z,{treeCheckable:!0,treeData:s.userTreeData,dropdownStyle:{maxHeight:400,minWidth:200},placeholder:(0,n.jsxs)("div",{style:{color:"#383838",textAlign:"center"},children:["\u5F52\u5C5E ",(0,n.jsx)(W.Z,{})]}),tagRender:Xe,showArrow:!1,allowClear:!0,className:Un.Z.stardardFilter,style:{marginTop:12,marginRight:0},bordered:!1,value:s.ownerValues,onChange:function(r){return _n(r)}}):null,(0,n.jsx)(G.Z.Search,{placeholder:"\u641C\u7D22\u90AE\u4EF6\u3001\u8054\u7CFB\u4EBA",allowClear:!0,enterButton:!0,style:{width:dn!=null&&dn.length?340:440,paddingLeft:12,paddingTop:12},value:s.keyword,onChange:function(r){return O({keyword:r.target.value})},onSearch:kr}),(0,n.jsx)(ve.Rs,{search:{filterType:"light"},actionRef:C,rowKey:"id",headerTitle:Lr(),split:!0,request:function(r,u,i){return jr(r,u,i)},params:s.params,dataSource:Dr(s.mailList),pagination:{pageSize:15,simple:!0},showActions:"hover",metas:{title:{search:!1},description:{search:!1},type:{search:!1},subTitle:{search:!1},actions:{search:!1},extra:{search:!1}},onRow:function(r){return{onClick:function(){return Sr(r)}}},rowSelection:{onChange:Zr,selectedRowKeys:s.tblSelectKeys,renderCell:Rr},tableAlertRender:!1,toolBarRender:function(){return s.editStatus?[(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({editStatus:!1,tblSelectKeys:[]})},children:"\u53D6\u6D88"},"cancle")]:[(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({editStatus:!0})},children:"\u7F16\u8F91"},"edit")]}})]})})}),(0,n.jsx)("div",{className:Fn.right,style:{width:"100%",height:s.innerHeight+36,paddingLeft:0,display:s.readStatus?"inline":"none"},children:(0,n.jsxs)(Ze.Z,{tip:"Loading",spinning:s.loadingStatus,children:[(0,n.jsxs)(Ae.Z,{style:{margin:12},children:[s.boxDisName==="\u5DF2\u53D1\u9001\u90AE\u4EF6"||s.boxDisName==="\u5DF2\u53D1\u9001"?(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({sendReplyVisible:!0})},children:"\u56DE\u590D"},"sendReplyButton"):null,s.boxDisName==="\u5DF2\u53D1\u9001\u90AE\u4EF6"||s.boxDisName==="\u5DF2\u53D1\u9001"?(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({sendReplyAllVisible:!0})},children:"\u56DE\u590D\u5168\u90E8"},"sendReplyAllButton"):null,s.boxDisName!=="\u5DF2\u53D1\u9001\u90AE\u4EF6"&&s.boxDisName!=="\u5DF2\u53D1\u9001"&&s.boxDisName!=="\u8349\u7A3F\u7BB1"?(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({replyVisible:!0})},children:"\u56DE\u590D"},"replyButton"):null,s.boxDisName!=="\u5DF2\u53D1\u9001\u90AE\u4EF6"&&s.boxDisName!=="\u5DF2\u53D1\u9001"&&s.boxDisName!=="\u8349\u7A3F\u7BB1"?(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({replyAllVisible:!0})},children:"\u56DE\u590D\u5168\u90E8"},"replyAllButton"):null,s.boxDisName!=="\u8349\u7A3F\u7BB1"?(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({forwardVisible:!0})},children:"\u8F6C\u53D1"},"forwardButton"):null,s.boxDisName!=="\u8349\u7A3F\u7BB1"&&s.boxDisName!=="\u5DF2\u5220\u9664"?(0,n.jsx)(ee.ZP,{size:"small",onClick:Ar,children:"\u5220\u9664"},"delButton"):null,(s.boxDisName==="\u8349\u7A3F\u7BB1"||s.boxDisName==="\u8349\u7A3F")&&!s.timeStart?(0,n.jsx)(ee.ZP,{size:"small",onClick:function(){return O({editVisible:!0})},children:"\u7F16\u8F91"},"draftButton"):null,(s.boxDisName==="\u8349\u7A3F\u7BB1"||s.boxDisName==="\u8349\u7A3F")&&s.timeStart?(0,n.jsx)(ee.ZP,{size:"small",onClick:Tr,children:"\u53D6\u6D88\u5B9A\u65F6"},"cancelTimer"):null,(0,n.jsx)(Pe.Z,{title:"\u786E\u8BA4\u5F7B\u5E95\u5220\u9664?\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D",onConfirm:pr,children:(0,n.jsx)(ee.ZP,{size:"small",children:"\u5F7B\u5E95\u5220\u9664"})}),s.boxDisName==="\u8349\u7A3F\u7BB1"?null:(0,n.jsx)(pe.Z,{content:Cr,title:!1,onOpenChange:function(r){return br(r)},children:(0,n.jsxs)(ee.ZP,{size:"small",children:[(0,n.jsx)(fe.Z,{}),"\u6765\u5F80\u90AE\u4EF6"]})})]},"actList"),(0,n.jsxs)(ne.Z,{title:s.subject,bodyStyle:{padding:12},children:[(0,n.jsxs)("div",{style:{fontWeight:500},children:[P(),we(),s.cc?(0,n.jsxs)("div",{style:{maxWidth:800,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:["\u6284\u2002\u2002\u9001\uFF1A",s.cc]}):null,s.bcc?(0,n.jsxs)("div",{style:{maxWidth:800,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:["\u5BC6\u2002\u2002\u9001\uFF1A",s.bcc]}):null,(0,n.jsxs)("div",{children:["\u65F6\u2002\u2002\u95F4\uFF1A",s.timestamp?Le()(s.timestamp).format("YYYY\u5E74MM\u6708DD\u65E5 (dddd) HH:mm:ss"):null]})]}),Je(),ln(),(0,n.jsx)(te.Z,{style:{margin:12}}),(0,n.jsxs)("div",{style:{maxHeight:s.innerHeight-186,overflow:"auto"},children:[(0,n.jsx)("iframe",{id:"myiframe",title:"resg",srcDoc:s.html,style:{width:"100%",border:"0px",height:s.iframeHeight,font:"small caption"},sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",scrolling:"auto",onLoad:Ir}),s.attachments&&s.attachments.length?(0,n.jsx)(ne.Z,{title:(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{})," \u9644\u4EF6 (",s.attachments.length,")"]}),children:s.attachments.map(function(f){var r=f.filename,u=f.size,i=f.savePath,p=(0,Q.Km)(s.mailUrl,s.imgUrl,i);if(p){var S=(0,Q.h9)(u);return(0,n.jsx)("div",{style:{marginLeft:0,marginBottom:16},children:(0,n.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{})," ",(0,n.jsxs)("span",{children:[r," (",S,")"]})]})})},r)}return null})}):null]})]})]})}),(0,n.jsx)("div",{className:Fn.right,style:{width:"100%",paddingTop:256,textAlign:"center",paddingLeft:12,display:s.readStatus?"none":"inline"},children:(0,n.jsx)("div",{style:{fontSize:16},children:"\u672A\u9009\u62E9\u67E5\u770B\u90AE\u4EF6"})})]}),(0,n.jsx)(jn,{visible:s.replyVisible,onCancel:function(){return O({replyVisible:!1})},current:s.currentMail,action:"reply",actionReload:ae}),(0,n.jsx)(jn,{visible:s.replyAllVisible,onCancel:function(){return O({replyAllVisible:!1})},current:s.currentMail,action:"replyAll",actionReload:ae}),(0,n.jsx)(jn,{visible:s.sendReplyVisible,onCancel:function(){return O({sendReplyVisible:!1})},current:s.currentMail,action:"sendReply",actionReload:ae}),(0,n.jsx)(jn,{visible:s.sendReplyAllVisible,onCancel:function(){return O({sendReplyAllVisible:!1})},current:s.currentMail,action:"sendReplyAll",actionReload:ae}),(0,n.jsx)(jn,{visible:s.forwardVisible,onCancel:function(){return O({forwardVisible:!1})},current:s.currentMail,action:"forward",actionReload:ae}),(0,n.jsx)(jn,{visible:s.editVisible,onCancel:function(){return O({editVisible:!1})},current:s.currentMail,action:"edit",actionReload:ae}),(0,n.jsx)(jn,{visible:s.newVisible,onCancel:function(){return O({newVisible:!1})},current:{maid:s.maid},action:"new",actionReload:ae}),(0,n.jsx)(ar.Z,{visible:s.setTagsVisible,onCancel:function(){return O({setTagsVisible:!1})},rowCount:1,multiTags:function(r){return m(r)},loading:zr,action:"push",tagsItem:{belongTo:"contact",dataIndex:"tags",items:s.tagsItems}}),(0,n.jsx)(qn.Z,{visible:s.addAccountVisible,onCancel:function(){return O({addAccountVisible:!1})},actionReload:function(){return Ye()}})]})},Sn=vn},10248:function(yn,Be,e){"use strict";e.d(Be,{$w:function(){return In},BZ:function(){return ar},E3:function(){return _},F1:function(){return H},F5:function(){return rr},IV:function(){return Dn},Iy:function(){return Y},JC:function(){return z},L7:function(){return Ke},NR:function(){return G},QH:function(){return y},Qq:function(){return nn},Rs:function(){return fn},Su:function(){return Xn},T$:function(){return ee},VC:function(){return We},VI:function(){return pn},WJ:function(){return Fn},Wy:function(){return fe},Xf:function(){return Ae},YI:function(){return on},Yh:function(){return nr},ZS:function(){return cn},_X:function(){return er},aC:function(){return En},aj:function(){return ne},dV:function(){return Bn},eC:function(){return te},eN:function(){return x},fl:function(){return q},gL:function(){return tr},gY:function(){return ve},gk:function(){return me},hb:function(){return W},i9:function(){return B},o:function(){return oe},pb:function(){return Q},pm:function(){return ce},qF:function(){return n},t6:function(){return wn},uj:function(){return ye},vs:function(){return $}});var de=e(30279),I=e.n(de),Fe=e(35290),t=e.n(Fe),Se=e(411),o=e.n(Se),k=e(22196);function $(){return w.apply(this,arguments)}function w(){return w=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/tags-list",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),w.apply(this,arguments)}function Y(){return h.apply(this,arguments)}function h(){return h=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/tags-tree",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),h.apply(this,arguments)}function x(v){return d.apply(this,arguments)}function d(){return d=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/tags-add",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),d.apply(this,arguments)}function y(v){return c.apply(this,arguments)}function c(){return c=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/tags-dir-add",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),c.apply(this,arguments)}function _(v){return b.apply(this,arguments)}function b(){return b=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/tags-save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),b.apply(this,arguments)}function H(v){return j.apply(this,arguments)}function j(){return j=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/view/add",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),j.apply(this,arguments)}function B(v){return D.apply(this,arguments)}function D(){return D=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/view/save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),D.apply(this,arguments)}function q(v){return J.apply(this,arguments)}function J(){return J=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/view/share-set",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),J.apply(this,arguments)}function W(v){return De.apply(this,arguments)}function De(){return De=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/view/rename",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),De.apply(this,arguments)}function oe(v){return l.apply(this,arguments)}function l(){return l=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/view/delete",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),l.apply(this,arguments)}function fe(v){return K.apply(this,arguments)}function K(){return K=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/view-config",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),K.apply(this,arguments)}function z(){return ie.apply(this,arguments)}function ie(){return ie=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/views-pin",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),ie.apply(this,arguments)}function me(v){return pe.apply(this,arguments)}function pe(){return pe=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/views-pin-save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),pe.apply(this,arguments)}function Ae(){return ue.apply(this,arguments)}function ue(){return ue=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/views-list",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),ue.apply(this,arguments)}function ce(){return he.apply(this,arguments)}function he(){return he=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/views-tree",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),he.apply(this,arguments)}function ee(v){return Pe.apply(this,arguments)}function Pe(){return Pe=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/show",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Pe.apply(this,arguments)}function We(v){return Ee.apply(this,arguments)}function Ee(){return Ee=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/companies/show",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Ee.apply(this,arguments)}function ye(v){return _e.apply(this,arguments)}function _e(){return _e=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/companies/delete",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),_e.apply(this,arguments)}function ne(v){return xe.apply(this,arguments)}function xe(){return xe=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contact/add",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),xe.apply(this,arguments)}function G(v){return Ze.apply(this,arguments)}function Ze(){return Ze=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Ze.apply(this,arguments)}function te(v){return M.apply(this,arguments)}function M(){return M=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contact/save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),M.apply(this,arguments)}function ve(v){return ge.apply(this,arguments)}function ge(){return ge=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/tags",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),ge.apply(this,arguments)}function on(v){return Qe.apply(this,arguments)}function Qe(){return Qe=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/delete",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Qe.apply(this,arguments)}function pn(v){return Le.apply(this,arguments)}function Le(){return Le=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/import-file",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Le.apply(this,arguments)}function Q(v){return Ge.apply(this,arguments)}function Ge(){return Ge=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/import-save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Ge.apply(this,arguments)}function In(v){return bn.apply(this,arguments)}function bn(){return bn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/import/history",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),bn.apply(this,arguments)}function nn(v){return ke.apply(this,arguments)}function ke(){return ke=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/import/history-delete",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),ke.apply(this,arguments)}function cn(v){return Ve.apply(this,arguments)}function Ve(){return Ve=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/export/history",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Ve.apply(this,arguments)}function En(v){return hn.apply(this,arguments)}function hn(){return hn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/contacts/exportSave",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),hn.apply(this,arguments)}function fn(){return Cn.apply(this,arguments)}function Cn(){return Cn=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/export-quota",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),Cn.apply(this,arguments)}function Bn(v){return Tn.apply(this,arguments)}function Tn(){return Tn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/recycle/show",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Tn.apply(this,arguments)}function wn(v){return sn.apply(this,arguments)}function sn(){return sn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/recycle/restore",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),sn.apply(this,arguments)}function n(){return Pn.apply(this,arguments)}function Pn(){return Pn=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/tags-items",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),Pn.apply(this,arguments)}function Dn(){return kn.apply(this,arguments)}function kn(){return kn=o()(t()().mark(function v(){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,k.request)("/api/contacts/tags-dirs",{method:"POST"}));case 1:case"end":return Z.stop()}},v)})),kn.apply(this,arguments)}function Ke(v){return Vn.apply(this,arguments)}function Vn(){return Vn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/tags-dirs-sort",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Vn.apply(this,arguments)}function Xn(v){return Wn.apply(this,arguments)}function Wn(){return Wn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/tags-sort",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Wn.apply(this,arguments)}function qn(){return zn.apply(this,arguments)}function zn(){return zn=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var F,Z;return _regeneratorRuntime().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:return Rn.next=2,request("/api/customer/tags-options",{method:"POST"});case 2:return F=Rn.sent,Z=F.data,Rn.abrupt("return",Z);case 5:case"end":return Rn.stop()}},v)})),zn.apply(this,arguments)}function er(v){return ze.apply(this,arguments)}function ze(){return ze=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/mail-to-options",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),ze.apply(this,arguments)}function nr(v){return $n.apply(this,arguments)}function $n(){return $n=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/black/domains-list",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),$n.apply(this,arguments)}function rr(v){return jn.apply(this,arguments)}function jn(){return jn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/black/domains-delete",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),jn.apply(this,arguments)}function Fn(v){return Un.apply(this,arguments)}function Un(){return Un=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/black/domains-save",{method:"POST",data:F}));case 1:case"end":return a.stop()}},v)})),Un.apply(this,arguments)}function tr(v){return Kn.apply(this,arguments)}function Kn(){return Kn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/text-save",{method:"POST",data:I()({},F)}));case 1:case"end":return a.stop()}},v)})),Kn.apply(this,arguments)}function ar(v){return Hn.apply(this,arguments)}function Hn(){return Hn=o()(t()().mark(function v(F){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,k.request)("/api/contacts/tags-set",{method:"POST",data:I()({},F)}));case 1:case"end":return a.stop()}},v)})),Hn.apply(this,arguments)}},25106:function(yn,Be,e){"use strict";e.d(Be,{c:function(){return d}});var de=e(35290),I=e.n(de),Fe=e(411),t=e.n(Fe),Se=e(30279),o=e.n(Se),k=e(22196);function $(c){return w.apply(this,arguments)}function w(){return w=t()(I()().mark(function c(_){var b;return I()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,k.request)("/api/file/get-auth",{method:"POST",data:o()({},_)});case 2:return b=j.sent,j.abrupt("return",b);case 4:case"end":return j.stop()}},c)})),w.apply(this,arguments)}function Y(c){return h.apply(this,arguments)}function h(){return h=t()(I()().mark(function c(_){var b,H;return I()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,k.request)("/api/file/save-log",{method:"POST",data:o()({},_)});case 2:return b=B.sent,H=b.data,B.abrupt("return",H);case 5:case"end":return B.stop()}},c)})),h.apply(this,arguments)}var x=e(21156),d=function(){var c=t()(I()().mark(function _(b,H,j){var B,D,q,J,W,De,oe,l,fe,K,z,ie,me,pe,Ae,ue,ce,he,ee,Pe,We,Ee,ye,_e,ne,xe,G,Ze;return I()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return B={success:!1,data:{},error:""},M.prev=1,D=b.name,q=b.type,J=b.size,W=D.split("."),De=Date.now(),oe=W[W.length-1].toLowerCase(),M.next=8,$({type:H});case 8:if(l=M.sent,fe=l.success,K=l.data,z=l.message,ie=l.status,fe){M.next=15;break}return M.abrupt("return",{success:fe,error:z,status:ie});case 15:return me=K.SecurityToken,pe=K.AccessKeyId,Ae=K.AccessKeySecret,ue=K.region,ce=K.bucket,he=K.uid,ee=K.dirName,Pe=K.id,We=K.webSite,Ee={timeout:36e4},ye="".concat(H,"/").concat(ee,"/").concat(Pe,"_").concat(De,".").concat(oe),H==="att"&&(Ee["Content-Disposition"]="attachment",Ee["Cache-Control"]="no-cache",ye="".concat(H,"/").concat(ee,"/").concat(Pe,"/").concat(D)),_e=new x({bucket:ce,region:ue,accessKeyId:pe,accessKeySecret:Ae,stsToken:me}),M.next=22,_e.put(ye,b,Ee);case 22:if(ne=M.sent,xe=ne.url,We&&(xe="".concat(We,"/").concat(ye)),G=ne.name,!j){M.next=32;break}return M.next=29,Y({iid:Pe,id:Pe,name:D,url:xe,filePath:G,bucket:ce,region:ue,filename:"".concat(Pe,".").concat(oe),dirName:ee,uid:he,fileType:q,type:H,size:J});case 29:B.data=M.sent,M.next=33;break;case 32:B.data={name:D,url:xe,filePath:G,bucket:ce,region:ue,filename:"".concat(Pe,".").concat(oe),dirName:ee,uid:he,fileType:q,type:H,size:J,iid:Pe,id:Pe};case 33:B.success=!0,M.next=40;break;case 36:M.prev=36,M.t0=M.catch(1),Ze=M.t0.message,B.error=Ze;case 40:return M.abrupt("return",B);case 41:case"end":return M.stop()}},_,null,[[1,36]])}));return function(b,H,j){return c.apply(this,arguments)}}(),y=null},69602:function(yn,Be){"use strict";Be.Z={infocard:"infocard___PfFNu",standardFilterConditions:"standardFilterConditions___oJhoT",stardardFilter:"stardardFilter___YhL7B",stardardFilterSelected:"stardardFilterSelected___CTm0h",stardardDateFilterSelected:"stardardDateFilterSelected___Od63I","tbl-operator":"tbl-operator___jBHoi","table-row-action-button":"table-row-action-button___KEAY0","editable-row":"editable-row___S3pJM"}},9198:function(){},49372:function(){}}]);
