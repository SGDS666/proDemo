(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[9762],{24019:function(U,V,t){"use strict";t.d(V,{Z:function(){return _}});var W=t(46686),$=t.n(W),F=t(30279),i=t.n(F),y=t(44463),E=t.n(y),P=t(85170),d={checkCards:"checkCards___KYv4_",checkCard:"checkCard___YqlmF",checking:"checking___W6rZ6",content:"content___SR8ur",checkContent:"checkContent___ZdbFj",avatar:"avatar___IZybY",right:"right___ykVnk",head:"head___ia4dF",body:"body___HgcGu",extra:"extra___hqWTD",zz:"zz___XWPpG"},Y=t(94853),x=t(43010),O=["title","avatar","check","disabled","onClick","style","description","extra","className"],Z=["Cards","onChange","getDefaultValue","checkValue","childStyle","childClassName"],H=["style","onClick"],q=Y.Z.useToken,Q=function(m){var L=m.title,A=m.avatar,N=m.check,R=m.disabled,e=m.onClick,h=m.style,l=m.description,r=m.extra,s=m.className,S=E()(m,O),j=q(),v=j.token;return(0,x.jsxs)("div",i()(i()({className:N?"".concat(d.checking," ").concat(s):"".concat(d.checkCard," ").concat(s),style:N?i()({outlineColor:v.colorPrimary,background:v.colorBgElevated,outlineWidth:"2px",outlineStyle:"auto"},h):h},S),{},{onClick:R?void 0:e,children:[(0,x.jsxs)("div",{className:N?d.checkContent:d.content,children:[A&&(0,x.jsx)("div",{className:d.avatar,children:A}),(0,x.jsxs)("div",{className:d.right,children:[L&&(0,x.jsx)("div",{className:d.head,children:L}),l&&(0,x.jsx)("div",{className:d.body,style:{color:v.colorTextDescription},children:l})]}),r&&(0,x.jsx)("div",{className:d.extra,children:r})]}),R&&(0,x.jsx)("div",{className:d.zz,style:{background:v.colorBorder,opacity:"0.8"}})]}))},J=function(m){var L=m.Cards,A=m.onChange,N=m.getDefaultValue,R=m.checkValue,e=m.childStyle,h=m.childClassName,l=E()(m,Z),r=(0,P.useState)(R),s=$()(r,2),S=s[0],j=s[1];return(0,P.useEffect)(function(){N&&j(N())},[]),(0,x.jsx)("div",i()(i()({className:d.checkCards},l),{},{children:L.map(function(v){var T=v.style,b=v.onClick,B=E()(v,H);return(0,x.jsx)(Q,i()({className:h,style:i()(i()({},e),T),check:R?v.value===R:v.value===S,onClick:function(){R||j(v.value),A==null||A(v.value),b==null||b()}},B),v.value)})}))},_=J},88208:function(U,V,t){"use strict";var W=t(30279),$=t.n(W),F=t(85170),i=t(91522),y=t(43010);V.Z=function(E){var P=E.children,d=E.pageTitle;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(i._z,$()($()({header:{title:d,breadcrumb:{}}},E),{},{children:P}))})}},30549:function(U,V,t){"use strict";t.r(V),t.d(V,{default:function(){return ee}});var W=t(35290),$=t.n(W),F=t(411),i=t.n(F),y=t(46686),E=t.n(y),P=t(85170),d=t(31810),Y=t(94853),x=t(41318),O=t(49871),Z=t(28931),H=t(34833),q=t(18799),Q=t(16798),J=t(65191),_=t(33285),se=t(26122),m=t(98096),L=t(88208),A=t(22196),N=t(1166),R=t(4587),e=t.n(R),h=t(74637),l=t.n(h),r=t(63099),s=t(55051),S=t(25071),j=t(88665),v=t(24019),T=t(9522),b=t.n(T),B=function(){var ne=window.location.search.length>0?window.location.search.substring(1):"",G={},z=b()(ne.split("&").map(function(p){return p.split("=")})),w;try{for(z.s();!(w=z.n()).done;){var I=w.value,K=decodeURIComponent(I[0]),a=decodeURIComponent(I[1]);K&&(G[K]=a)}}catch(p){z.e(p)}finally{z.f()}return G},n=t(43010),k=function(){var ne=d.Z.useForm(),G=E()(ne,1),z=G[0],w=(0,A.useLocation)(),I=(0,N.Z)({isOrg:!1,type:"searchCount",balance:0,commission:0,goodsList:[],payYuan:0,price:"",goodsCount:1,tips:"",useBalance:!1,payBalance:"",payCommission:"",useCommission:!1,uid:"",searchCount:0,futureSearchCount:0,vip:0,vipTime:0,sendCount:0,now:l()().valueOf(),qrcodeVisible:!1,orderId:"",payApp:"",codeUrl:"",status:""}),K=E()(I,2),a=K[0],p=K[1],le=Y.Z.useToken(),ie=le.token,ve=(0,A.useRequest)(s.cd,{manual:!0,onSuccess:function(o){if(!!o){var u=o.vip,C=o.vipTime,g=o.searchCount,f=o.futureSearchCount,D=o.sendCount,M=o.isOrg;p({vip:u,vipTime:C,searchCount:g,futureSearchCount:f,sendCount:D,isOrg:M})}}}),te=ve.run,ce=(0,A.useRequest)(r.ef,{manual:!0,onSuccess:function(o){if(o){var u=o.code_url,C=o.return_code,g=o.return_msg,f=o.id,D=o.payApp;C==="finished"?(x.ZP.success("\u652F\u4ED8\u6210\u529F"),p({status:"success"})):C==="SUCCESS"||"".concat(C)==="10000"?p({payApp:D,orderId:f,codeUrl:u,qrcodeVisible:!0}):g&&x.ZP.error("\u8BA2\u5355\u521B\u5EFA\u5931\u8D25\uFF1A",g)}}}),ue=ce.run,oe=ce.loading,me=function(o,u,C){console.log("click"),p({payYuan:u/100,price:u,goodsCount:1,tips:C,useBalance:!1,payBalance:"",payCommission:"",useCommission:!1,goodsId:o}),z.setFieldsValue({goodsId:o})},ge=(0,A.useRequest)(r.u5,{manual:!0,onSuccess:function(o){if(o){var u=o.goodsList,C=o.uid,g=o.balance,f=o.commission;if(p({goodsList:u,uid:C,balance:g/10,commission:f/10}),u&&u.length>0){var D=u[0],M=D.id,ae=D.price,de=D.tips;me(M,ae,de)}}}}),Ce=ge.run;(0,P.useEffect)(function(){var c=(0,j.uH)(),o=c.type,u=o||"searchMonth";te(),z.setFieldsValue({type:u,payApp:"wechat"}),Ce({type:u}),p({payApp:"wechat"})},[w]);var pe=function(){var c=i()($()().mark(function o(){var u,C,g,f,D,M,ae,de;return $()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(u=a.payApp,C=a.payYuan,g=a.goodsId,f=a.goodsCount,D=a.useBalance,M=a.useCommission,ae=a.payBalance,de=a.payCommission,g){X.next=4;break}return x.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910"),X.abrupt("return");case 4:if(f){X.next=7;break}return x.ZP.error("\u8BF7\u9009\u62E9\u5957\u9910\u6570\u91CF"),X.abrupt("return");case 7:ue({payApp:u,payYuan:C,goodsId:g,goodsCount:f,useBalance:D,useCommission:M,payBalance:ae,payCommission:de});case 8:case"end":return X.stop()}},o)}));return function(){return c.apply(this,arguments)}}(),re=function(o){return(0,n.jsx)("div",{style:{fontWeight:"bold",fontSize:20},children:o})},ye=function(o){Ce({type:o})},xe=function(o){p({useCommission:o});var u=a.price,C=a.commission,g=a.goodsCount;if(o){var f="".concat(C/100);C>=u*g&&(f="".concat(e()(u/100*g).format("0.00")));var D=(u*g-parseFloat(f)*100)/100;p({payCommission:f,payYuan:D,useBalance:!1,payBalance:""})}else{var M=u*g/100;p({payYuan:M,payCommission:""})}},je=function(o){var u=a.price,C=a.commission,g=a.goodsCount,f=parseFloat(o)*100;if(f<=u*g&&f<=C){var D=(u*g-f)/100;p({payCommission:o,payYuan:D})}},Fe=function(o){o&&p({goodsId:o})},fe={width:"260px",height:"150px"},Se=(0,n.jsxs)(d.Z,{form:z,onFinish:pe,labelCol:{span:4},wrapperCol:{span:20},children:[(0,n.jsx)(d.Z.Item,{name:"type",label:"\u4EA7\u54C1\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u7C7B\u578B"}],children:(0,n.jsx)(v.Z,{getDefaultValue:function(){return B().type},style:{width:"100%"},childStyle:fe,onChange:function(o){ye(o)},Cards:[{title:re("\u83B7\u5BA2\u6708\u5957\u9910"),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"\u6279\u91CF\u83B7\u53D6\u90AE\u7BB1\u70B9\u6570(31\u5929\u6709\u6548\u671F)"}),(0,n.jsxs)("div",{children:["\u6709\u6548\u5269\u4F59\u70B9\u6570\uFF1A",(0,n.jsx)("a",{children:a.searchCount})]})]}),value:"searchMonth"},{title:re("\u83B7\u5BA2\u5E74\u5957\u9910"),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"\u6279\u91CF\u83B7\u53D6\u90AE\u7BB1\u70B9\u6570(1\u5E74\u6709\u6548\u671F)"}),(0,n.jsxs)("div",{children:["\u672A\u751F\u6548\u70B9\u6570\uFF1A",(0,n.jsx)("a",{children:a.futureSearchCount})]})]}),value:"searchYear"},{title:re("\u7FA4\u53D1\u989D\u5EA6"),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"\u6279\u91CF\u53D1\u9001\u90AE\u4EF6\u989D\u5EA6"}),(0,n.jsxs)("div",{children:["\u5269\u4F59\u989D\u5EA6\uFF1A",(0,n.jsx)("a",{children:a.sendCount})]})]}),value:"sendCount"},a.isOrg?null:{title:re("SVIP\u4F1A\u5458"),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"\u62E5\u6709\u66F4\u591A\u7279\u6743"}),a.vip?(0,n.jsxs)("div",{children:["\u6709\u6548\u671F\uFF1A",(0,n.jsx)("a",{children:l()(a.vipTime).format("YYYY\u5E74MM\u6708DD\u65E5")})]}):(0,n.jsx)("div",{children:"\u666E\u901A\u4F1A\u5458"})]}),disabled:a.vipTime-a.now>=10*365*24*3600*1e3,value:"svip"}]})}),(0,n.jsx)(d.Z.Item,{name:"goodsId",label:"\u4EA7\u54C1\u5957\u9910",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u5957\u9910"}],children:(0,n.jsx)(v.Z,{style:{width:"100%"},childStyle:fe,onChange:function(o){return Fe(o)},checkValue:a.goodsId,Cards:a.goodsList.map(function(c){var o=c.id,u=c.name,C=c.price,g=c.oriPrice,f=c.tips,D=c.worth,M=g&&g>C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["\uFFE5",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:C/100}),(0,n.jsx)("span",{style:{paddingLeft:4,color:"#ca963b",fontSize:"20px",textDecoration:"line-through"},children:g/100})]}),(0,n.jsxs)("div",{children:[" ",f||"\u65E0\u8BF4\u660E"]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{textAlign:"center"},children:["\uFFE5"," ",(0,n.jsx)("span",{style:{color:"#f60",fontSize:"26px",fontWeight:700},children:C/100})]}),(0,n.jsxs)("div",{style:{textIndent:10},children:[" ",f||"\u65E0\u8BF4\u660E"]})]});return{title:re(u),description:M,value:o,key:o,extra:D&&(0,n.jsx)(O.Z,{color:"success",children:"\u63A8\u8350"}),onClick:function(){return me(o,C,f)}}})})}),(0,n.jsx)(d.Z.Item,{label:"\u4F7F\u7528\u4F63\u91D1",children:(0,n.jsxs)(Z.Z,{children:[(0,n.jsxs)(H.Z,{checked:a.useCommission,onChange:function(o){return xe(o.target.checked)},children:[" ","\u4F7F\u7528\u8D26\u6237\u4F63\u91D1\u62B5\u6263 (\u5F53\u524D\u8D26\u6237\u4F63\u91D1",(0,n.jsxs)("span",{style:{color:"#ff8a00"},children:["\uFFE5",e()(a.commission/100).format("0,0.00")]}),")"]}),(0,n.jsx)(q.Z,{disabled:!a.useCommission,value:a.payCommission,onChange:je,min:"0.01",max:"10000.00",stringMode:!0,step:.01,size:"small"}),"\u5143"]})}),(0,n.jsx)(d.Z.Item,{name:"payApp",label:"\u4ED8\u6B3E\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u652F\u4ED8\u5E94\u7528"}],children:(0,n.jsx)(v.Z,{style:{width:"100%"},childStyle:fe,onChange:function(o){return p({payApp:o})},checkValue:a.payApp,Cards:[{title:(0,n.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(se.Z,{style:{color:"#52c41a",fontSize:36,marginRight:10}}),(0,n.jsx)("div",{children:"\u5FAE\u4FE1\u652F\u4ED8"})]}),description:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontSize:"24px",color:a.payApp==="wechat"?"#f60":ie.colorText},children:["\uFFE5",e()(a.payYuan).format("0,0.00")]}),(0,n.jsxs)("div",{style:{color:"#999999",fontSize:"10px"},children:[(0,n.jsx)("p",{children:"\u8BF7\u4F7F\u7528\u5FAE\u4FE1\u626B\u4E00\u626B"}),(0,n.jsx)("p",{children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]})]}),value:"wechat"},{title:(0,n.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(m.Z,{style:{color:"#027aff",fontSize:36,marginRight:10}}),(0,n.jsx)("div",{children:"\u652F\u4ED8\u5B9D\u652F\u4ED8"})]}),description:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontSize:"24px",color:a.payApp==="alipay"?"#f60":ie.colorText},children:["\uFFE5",e()(a.payYuan).format("0,0.00")]}),(0,n.jsxs)("div",{style:{color:"#999999",fontSize:"10px"},children:[(0,n.jsx)("p",{children:"\u8BF7\u4F7F\u7528\u652F\u4ED8\u5B9D\u626B\u4E00\u626B"}),(0,n.jsx)("p",{children:"\u626B\u63CF\u4E8C\u7EF4\u7801\u652F\u4ED8\u8BA2\u5355"})]})]}),value:"alipay"}]})}),(0,n.jsx)(d.Z.Item,{wrapperCol:{span:20,offset:4},children:(0,n.jsx)(Q.ZP,{style:{width:"300px",height:"70px",fontSize:"20px"},type:"primary",htmlType:"submit",loading:oe,children:"\u786E\u8BA4\u652F\u4ED8"})})]}),Ee=function(){p({status:""}),te()},be=(0,n.jsx)(P.Fragment,{children:(0,n.jsx)(Q.ZP,{type:"primary",onClick:Ee,children:"\u7EE7\u7EED\u8D2D\u4E70"})}),De=(0,n.jsx)(J.ZP,{status:"success",title:"\u8D2D\u4E70\u6210\u529F",subTitle:"\u8FD4\u56DE\u5373\u53EF\u67E5\u770B",extra:be,style:{marginBottom:16}});return(0,n.jsxs)(L.Z,{pageTitle:"\u5145\u503C\u754C\u9762",pageGroup:"",pageActive:"",children:[(0,n.jsx)(_.Z,{children:a.status==="success"?De:Se}),(0,n.jsx)(S.Z,{visible:a.qrcodeVisible,codeUrl:a.codeUrl,app:a.payApp,id:a.orderId,onCancel:function(){return p({qrcodeVisible:!1})},actionReload:function(){return p({status:"success"})}})]})},ee=k},49871:function(U,V,t){"use strict";t.d(V,{Z:function(){return R}});var W=t(53566),$=t(84875),F=t.n($),i=t(85170),y=t(97618),E=t(99188),P=t(34208),d=t(68141),Y=t(21288);function x(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}var O=t(11802),Z=t(14485);const H=(e,h,l)=>{const r=x(l);return{[`${e.componentCls}-${h}`]:{color:e[`color${l}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`]}}},q=e=>(0,O.j)(e,(h,l)=>{let{textColor:r,lightBorderColor:s,lightColor:S,darkColor:j}=l;return{[`${e.componentCls}-${h}`]:{color:r,background:S,borderColor:s,"&-inverse":{color:e.colorTextLightSolid,background:j,borderColor:j}}}}),Q=e=>{const{paddingXXS:h,lineWidth:l,tagPaddingHorizontal:r,componentCls:s}=e,S=r-l,j=h-l;return{[s]:Object.assign(Object.assign({},(0,Z.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:S,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${s}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${s}-close-icon`]:{marginInlineStart:j,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${s}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${s}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:S}})}};var J=(0,d.Z)("Tag",e=>{const{fontSize:h,lineHeight:l,lineWidth:r,fontSizeIcon:s}=e,S=Math.round(h*l),j=e.fontSizeSM,v=S-r*2,T=e.colorFillAlter,b=e.colorText,B=(0,Y.TS)(e,{tagFontSize:j,tagLineHeight:v,tagDefaultBg:T,tagDefaultColor:b,tagIconSize:s-2*r,tagPaddingHorizontal:8});return[Q(B),q(B),H(B,"success","Success"),H(B,"processing","Info"),H(B,"error","Error"),H(B,"warning","Warning")]}),_=function(e,h){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&h.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)h.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(l[r[s]]=e[r[s]]);return l},m=e=>{var{prefixCls:h,className:l,checked:r,onChange:s,onClick:S}=e,j=_(e,["prefixCls","className","checked","onChange","onClick"]);const{getPrefixCls:v}=i.useContext(y.E_),T=ee=>{s==null||s(!r),S==null||S(ee)},b=v("tag",h),[B,n]=J(b),k=F()(b,{[`${b}-checkable`]:!0,[`${b}-checkable-checked`]:r},l,n);return B(i.createElement("span",Object.assign({},j,{className:k,onClick:T})))},L=function(e,h){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&h.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)h.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(l[r[s]]=e[r[s]]);return l};const A=(e,h)=>{var{prefixCls:l,className:r,rootClassName:s,style:S,children:j,icon:v,color:T,onClose:b,closeIcon:B,closable:n=!1}=e,k=L(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable"]);const{getPrefixCls:ee,direction:he}=i.useContext(y.E_),[ne,G]=i.useState(!0);i.useEffect(()=>{"visible"in k&&G(k.visible)},[k.visible]);const z=(0,E.o2)(T)||(0,E.yT)(T),w=Object.assign({backgroundColor:T&&!z?T:void 0},S),I=ee("tag",l),[K,a]=J(I),p=F()(I,{[`${I}-${T}`]:z,[`${I}-has-color`]:T&&!z,[`${I}-hidden`]:!ne,[`${I}-rtl`]:he==="rtl"},r,s,a),le=oe=>{oe.stopPropagation(),b==null||b(oe),!oe.defaultPrevented&&G(!1)},ie=()=>n?B?i.createElement("span",{className:`${I}-close-icon`,onClick:le},B):i.createElement(W.Z,{className:`${I}-close-icon`,onClick:le}):null,ve=typeof k.onClick=="function"||j&&j.type==="a",te=v||null,ce=te?i.createElement(i.Fragment,null,te,i.createElement("span",null,j)):j,ue=i.createElement("span",Object.assign({},k,{ref:h,className:p,style:w}),ce,ie());return K(ve?i.createElement(P.Z,null,ue):ue)},N=i.forwardRef(A);N.CheckableTag=m;var R=N},9522:function(U,V,t){var W=t(94945);function $(F,i){var y=typeof Symbol!="undefined"&&F[Symbol.iterator]||F["@@iterator"];if(!y){if(Array.isArray(F)||(y=W(F))||i&&F&&typeof F.length=="number"){y&&(F=y);var E=0,P=function(){};return{s:P,n:function(){return E>=F.length?{done:!0}:{done:!1,value:F[E++]}},e:function(Z){throw Z},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,Y=!1,x;return{s:function(){y=y.call(F)},n:function(){var Z=y.next();return d=Z.done,Z},e:function(Z){Y=!0,x=Z},f:function(){try{!d&&y.return!=null&&y.return()}finally{if(Y)throw x}}}}U.exports=$,U.exports.__esModule=!0,U.exports.default=U.exports}}]);
