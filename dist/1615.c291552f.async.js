var zx=Object.defineProperty,Wx=Object.defineProperties;var Ux=Object.getOwnPropertyDescriptors;var xb=Object.getOwnPropertySymbols;var Hx=Object.prototype.hasOwnProperty,jx=Object.prototype.propertyIsEnumerable;var kb=Math.pow,wb=(ut,Ce,f)=>Ce in ut?zx(ut,Ce,{enumerable:!0,configurable:!0,writable:!0,value:f}):ut[Ce]=f,dv=(ut,Ce)=>{for(var f in Ce||(Ce={}))Hx.call(Ce,f)&&wb(ut,f,Ce[f]);if(xb)for(var f of xb(Ce))jx.call(Ce,f)&&wb(ut,f,Ce[f]);return ut},Jg=(ut,Ce)=>Wx(ut,Ux(Ce));var rh=(ut,Ce,f)=>new Promise((O,U)=>{var x=d=>{try{p(f.next(d))}catch(v){U(v)}},m=d=>{try{p(f.throw(d))}catch(v){U(v)}},p=d=>d.done?O(d.value):Promise.resolve(d.value).then(x,m);p((f=f.apply(ut,Ce)).next())});(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[1615],{62998:function(ut,Ce,f){"use strict";f.d(Ce,{$:function(){return nn},AK:function(){return Un},AT:function(){return Sl},BX:function(){return Zc},Cj:function(){return Jt},Cy:function(){return md},Dt:function(){return Mn},Fp:function(){return ml},G6:function(){return Lt},Gg:function(){return oi},Jr:function(){return _i},LW:function(){return bc},Ly:function(){return Zf},MX:function(){return Dn},Me:function(){return kt},Mr:function(){return et},NC:function(){return Kn},Nm:function(){return Fr},Nn:function(){return Xr},P6:function(){return O.ZP},RW:function(){return mi},Rw:function(){return _f},S:function(){return Wt},Su:function(){return Mt},Sy:function(){return Du},TM:function(){return Tr},TT:function(){return ol},UI:function(){return on},W9:function(){return Kr},YU:function(){return Zn},YX:function(){return Qu},Yh:function(){return Hr},Ym:function(){return be},ZQ:function(){return Vn},ZU:function(){return mn},Zb:function(){return kl},Zi:function(){return Ve},_b:function(){return ns},dw:function(){return Ms},e6:function(){return Da},eT:function(){return zo},f4:function(){return ht},gJ:function(){return Ft},hR:function(){return Xe},iC:function(){return Gn},it:function(){return ci},m6:function(){return bn},mV:function(){return Vr},mW:function(){return Ti},oq:function(){return vs},rN:function(){return _t},sk:function(){return St},tq:function(){return Gt},u:function(){return ms},w_:function(){return ou},xT:function(){return Ys},yx:function(){return ar}});var O=f(45869),U=f(26143),x=f(78450),m=f(75782),p=f(40936),d=f(49962),v=f(60790),M=f(34203),D=f(29129),T=f(65782),S=f(64655),g=f(6534),z=f.n(g),E=f(42952),Y=f.n(E),q=f(91600),j=f(24572),le=f(81892),ce=f(31223),se=f.n(ce),ne=f(49544),De=f(20680),we=f(85462),je=f(11997),dt=f(66292),Qe=f.n(dt),lt=f(32222),Te=f.n(lt),Je=f(25328),te=f.n(Je),fe=f(80765),ue=f(45522),ae=f.n(ue),de=f(85386),ve=f.n(de),J=f(31521),X=f.n(J),K=f(67929),ze=f.n(K),Ze=f(874),We=f.n(Ze),ye=f(96889),Ie=f.n(ye),Ue=f(21254),Ye=f.n(Ue),Ae=f(38209),tt=f.n(Ae),it=function(){function at(F){if((0,p.Z)(this,at),this.options={limitHeight:5e3,canvasCache:[],canvasCount:0},this.width=0,this.height=0,this.handleClear=function(t){var a=t.context,i=t.x,s=t.y,h=t.width,w=t.height;a==null||a.clearRect(i,s,h,w)},!F.container)throw new Error("need a cantainer!");this.options=(0,m.Z)((0,m.Z)({},this.options),F),F.container.style["line-height"]="0px"}return(0,d.Z)(at,[{key:"removeCanvas",value:function(){var t=this.options.canvasCache;t==null||t.forEach(function(a){var i;a==null||(i=a.parentElement)===null||i===void 0||i.removeChild(a)}),this.options.canvasCache=[],this.options.canvasCount=0}},{key:"getCanvas",value:function(t){var a=this.options.canvasCache;return t=t>0?t-1:t,a?a[t]:void 0}},{key:"resize",value:function(t,a){if(!(this.width===t&&this.height===a)){this.width=t,this.height=a;var i=this.options,s=i.limitHeight,h=i.canvasCount,w=i.container,I=this.options.canvasCache,B=Math.ceil(a/(s||0));if(B!==h){this.removeCanvas(),I=[];for(var W=0;W<B;W++){var G=document.createElement("canvas");G.style["vertical-align"]="bottom",G.setAttribute("width",t.toString()),W===B-1?G.setAttribute("height",(a%(s||0)).toString()):G.setAttribute("height",(s||0).toString()),w==null||w.appendChild(G),I.push(G)}this.options.canvasCache=I,this.options.canvasCount=I.length}else{var H,he=this.getCanvas(B);if((H=I)===null||H===void 0||H.forEach(function(rt){var bt=rt.getAttribute("width");(!bt||parseInt(bt)!==t)&&rt.setAttribute("width",t.toString())}),he){var ge=he.getAttribute("height"),Oe=a%(s||0);(!ge||parseInt(ge)!==Oe)&&he.setAttribute("height",Oe.toString())}}}}},{key:"handleSingleRect",value:function(t){var a=t.x,i=t.y,s=t.index,h=t.width,w=t.height,I=t.callback,B=this.options.limitHeight,W=this.getCanvas(s);if(W){var G=W.getContext("2d"),H=new DOMRect(a,i-(B||0)*(s-1),h,w);I(Object.assign({},H.toJSON(),{context:G}))}}},{key:"handleFillRect",value:function(t){var a=t.context,i=t.x,s=t.y,h=t.width,w=t.height,I=t.fill,B=t.stroke;!a||(a.fillStyle=I===void 0?"#FFEC3D":I,a.strokeStyle=B===void 0?"#FFEC3D":B,a.fillRect(i,s,h,w))}},{key:"drawRect",value:function(t){var a=this,i=t.x,s=t.y,h=t.width,w=t.height,I=t.fill,B=t.stroke,W=new DOMRect(i,s,h,w);this.handleRect(Object.assign({},W.toJSON(),{callback:function(H){a.handleFillRect(Object.assign({},H,{fill:I,stroke:B}))}}))}},{key:"handleRect",value:function(t){var a=t.x,i=t.y,s=t.width,h=t.height,w=t.callback,I=this.options.limitHeight,B={x:a+s,y:i+h},W=Math.ceil(i/(I||0)),G=Math.ceil(B.y/(I||0)),H=new DOMRect(a,i,s,h),he=H.toJSON();this.handleSingleRect(Object.assign({},he,{index:W,callback:w})),W!==G&&this.handleSingleRect(Object.assign({},he,{index:G,callback:w}))}},{key:"getImageData",value:function(t){var a=t.x,i=t.y,s=t.width,h=t.height,w=this.options.limitHeight,I=Math.ceil(i/(w||0)),B=this.getCanvas(I),W=B==null?void 0:B.getContext("2d");return W==null?void 0:W.getImageData(a,i,s,h)}},{key:"clearRect",value:function(t){var a=t.x,i=t.y,s=t.width,h=t.height,w=new DOMRect(a,i,s,h);this.handleRect(Object.assign({},w.toJSON(),{callback:this.handleClear}))}},{key:"clear",value:function(){var t=this.options.canvasCache;t==null||t.forEach(function(a){var i=a.getContext("2d"),s=Number(a.getAttribute("width")),h=Number(a.getAttribute("height"));i==null||i.clearRect(0,0,s,h)})}},{key:"destroy",value:function(){this.removeCanvas()}}]),at}(),Ve="data-element",et="data-id",wt="root",jt="[".concat(Ve,'="').concat(wt,'"]'),on="ui",bn="[".concat(Ve,'="').concat(on,'"]'),Ft="editable",Mt="[".concat(Ve,'="').concat(Ft,'"]'),_t="data-transient-attributes",Jt="data-transient-element",Me="am-engine",yn="am-engine-mobile",Wt="am-engine-view",xn="anchor",Nn="focus",Cr="cursor",jr="span[".concat(Ve,"=").concat(xn,"],anchor"),ii="span[".concat(Ve,"=").concat(Nn,"],focus"),xi="span[".concat(Ve,"=").concat(Cr,"],cursor"),$i="card",_i="data-card-key",Vr="data-ready-card",Kr="data-card-type",Tr="data-card-value",qt="data-card-element",Zt="data-card-loading",Ee="data-card-editable",pe="div[".concat(_i,"],span[").concat(_i,"]"),oe="div[".concat(Vr,"],span[").concat(Vr,"]"),me="span[".concat(qt,"=left]"),Pe="div[".concat(qt,"=center],span[").concat(qt,"=center]"),nt="span[".concat(qt,"=right]"),ht="trigger-card-id",vt=(typeof navigator!="undefined"?navigator:window.navigator).userAgent.toLowerCase(),St=typeof navigator=="undefined",It=/edge/i.test(vt),Kt=!It&&/chrome/i.test(vt),Tt=/firefox/i.test(vt),Lt=!It&&!Kt&&/safari/i.test(vt),Gt=/mobile/i.test(vt),Yt=/os [\.\_\d]+ like mac os/i.test(vt),Mn=/android/i.test(vt),Dn=!Yt&&/mac os x/i.test(vt),wn=/windows\s*(?:nt)?\s*[\.\_\d]+/i.test(vt),mn=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;F<5&&(F=5);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="",i=0;i<F;i++)a+=t.charAt(Math.floor(Math.random()*t.length));return a},On;(function(at){at.UPPER="upper",at.LOWER="lower"})(On||(On={}));var Rn=function(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:On.LOWER;return~F.indexOf("-")?F.split("-").map(function(a,i){return t==="upper"||i>0?a.charAt(0).toUpperCase()+a.substr(1):t==="lower"&&i===0?a.charAt(0).toLowerCase()+a.substr(1):a}).join(""):F},Kn=function(F){var t=function(s){var h=parseInt(s,10).toString(16).toUpperCase();return h.length>1?h:"0"+h},a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi;return F.replace(a,function(i,s,h,w){return"#"+t(s)+t(h)+t(w)})},jn=function(F){for(var t={},a=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g,i;i=a.exec(F);){var s=(i[1]||i[2]||i[4]||i[6]).toLowerCase(),h=(i[2]?i[3]:i[4]?i[5]:i[7])||"";t[s]=h}return t},tr=new Map,cr=function(F){var t=F.replace(/\s+/g,""),a={};if(!t)return a;var i=tr.get(t);if(i)return Object.assign({},i);var s=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g,h;for(F=F.toLowerCase();h=s.exec(F);){var w=h,I=(0,q.Z)(w,3),B=I[0],W=I[1],G=I[2];(W.endsWith("color")||G.includes("rgb"))&&(G=Kn(G)),a[W.trim()]=G.trim()}return tr.set(t,a),Object.assign({},a)},ar=function(F,t){var a=Rn(t),i=window.getComputedStyle(F,null);return i?i[a]:""},Zn=function(F){return(F||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Un=function(F){return(F||"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},yi=function(F){return F.replace(/\./g,"&dot;")},gi=function(F){return F.replace(/&dot;/g,".")},Xr=function(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";return F&&/^-?\d+(?:\.\d+)?$/.test(F.toString())?F+t:F},Vn=function(F){var t;return F&&(t=/^((-?\d+)(\.\d+)?)/.exec(F))?Math.floor(parseFloat(t[1])*1e4)/1e4:0},ci=function(F){var t="";try{t=encodeURIComponent(JSON.stringify(F||""))}catch(a){}return"data:".concat(t)},mi=function(F){try{return F=F.substr(5),JSON.parse(decodeURIComponent(F))}catch(t){return{}}},oi=function(F){return F.replace(/<anchor\s*\/>/gi,"<span ".concat(Ve,'="').concat(xn,'"></span>')).replace(/<focus\s*\/>/gi,"<span ".concat(Ve,'="').concat(Nn,'"></span>')).replace(/<cursor\s*\/>/gi,"<span ".concat(Ve,'="').concat(Cr,'"></span>')).replace(/(<card\s+[^>]+>).*?<\/card>/gi,function(t,a){var i=jn(a),s=i.type,h=i.name,w=i.value,I=i.editable,B=s==="inline",W=B?"span":"div",G=["<".concat(W)];return G.push(" ".concat(Kr,'="').concat(s||"",'"')),G.push(" ".concat(Vr,'="').concat(h||"",'"')),I!==""&&G.push(" ".concat(Ee,'="').concat(I||"false",'"')),Object.keys(i).forEach(function(H){H.indexOf("data-")===0&&H.indexOf("data-card")!==0&&G.push(" ".concat(H,'="').concat(i[H]||"",'"'))}),w!==void 0&&G.push(" ".concat(Tr,'="').concat(w,'"')),G.push("></".concat(W,">")),G.join("")})},Ar=function(F){return typeof F!="string"||(F=F.toLowerCase(),F.startsWith("data:text/html"))||!F.match(/^\S*$/)?!1:!!(["http:","https:","data:","ftp:"].some(function(t){return F.startsWith(t)})||F.startsWith("./")||F.startsWith("/")||F.indexOf(":")<0)},Fr=function(F){return Ar(F)?F:""},lr=function(F){if(!F)return F;var t=F.replace(/<(anchor|focus|cursor)[^>]*?\/>/gi,"");return/^<p(\s[^>]*?)><br \/><\/p>$/i.test(t)?F.replace(RegExp.$1,""):F},Hr=function(F){var t=F.toLowerCase().split("+");return t=t.map(function(a){return a==="mod"?Dn?"\u2318":"Ctrl":a==="opt"?Dn?"Option":"Alt":a.length>1?a.substr(0,1).toUpperCase()+a.substr(1).toLowerCase():a.toUpperCase()}),t.join("+")},He=function(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(t=+t))return"\u2022";switch(F==null?void 0:F.toLowerCase()){case"disc":return"\u2022";case"circle":return"\u25E6";case"square":return"\u25FC";case"lower-alpha":return String.fromCharCode("a".charCodeAt(0)+t);case"lower-roman":return String.fromCharCode(8559+t);case"decimal":default:return t}},kt=function(F){if(typeof document=="undefined"&&typeof f.g.__amWindow=="undefined")throw"document is not defined,If you are using ssr, you can assign a value to the `__amWindow` global variable.";return F?F.ownerDocument||F.document||F:typeof document=="undefined"?f.g.__amWindow.document:document},Pn=function(F){F instanceof Node||(F=F[0]),F.normalize()},En=function at(F,t){var a=[];if(t&&!t(F))return a;for(var i=F.childNodes,s=0;s<i.length;s++){var h=i[s],w=h.nodeType;w===3?a.push(h):(w===1||w===9||w===11)&&(a=a.concat(at(h,t)))}return a},Qn=function(F){var t;return F.nodeType===kt().ELEMENT_NODE&&F.getAttribute(Ve)===wt?void 0:((t=F.parentElement)!==null&&t!==void 0?t:F.parentNode)||void 0},Gn=function(F){return F.kind==="engine"},Li=function(F){return F.kind==="view"},Yr=function(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",a=new(Y())(t,{html:!0,typographer:!0,linkify:!0});return F.trigger("markdown-it",a),a},Bi=function(F,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=t.renderer,h=t.options,w=!1,I=F.schema.getTags("blocks"),B="",W=[];return a.forEach(function(G,H){var he=G.type,ge=G.tag,Oe=G.children,rt=G.nesting,bt=F.trigger("markdown-it-token",{token:G,markdown:t,callback:function(Bt){B+=Bt}});if(bt===!1){w=!0;return}var Ct="";if(he==="inline"&&Oe?(Ct=s.renderInline(Oe,h,{}),i&&Oe.find(function(Ot){return Ot.type==="image"||Ot.type.endsWith("_inline")||Ot.type.endsWith("_open")})&&(w=!0)):typeof s.rules[he]!="undefined"?Ct=s.rules[he](a,H,h,{},s):Ct=s.renderToken(a,H,h),rt===1)W.push(""),B+=Ct;else if(rt===0)W.length===0?(B+=Ct,ge&&!w&&(w=!0)):Ct&&(W[W.length-1]+=Ct);else if(rt===-1){var Dt;W.length>0&&!W[W.length-1]&&I.includes(ge)&&(W[W.length-1]+="<br />"),B+=(Dt=W[W.length-1])!==null&&Dt!==void 0?Dt:"",W.pop(),W.every(function(Ot){return!Ot})&&(W=[]),B+=Ct,!w&&ge!=="p"&&(w=!0)}}),w&&B?B:null},bi={TAG_NAME:0,ATTRIBUTE:1,ELEMENT:2},Ma="data-uuid",Ya="data-color",Io=function(){function at(){(0,p.Z)(this,at),this.listeners={}}return(0,d.Z)(at,[{key:"on",value:function(t,a,i){this.listeners[t]||(this.listeners[t]=[]),((0,U.Z)(i)!=="object"||!i.once)&&this.listeners[t].push(a)}},{key:"off",value:function(t,a){var i=this.listeners[t];if(!!i){for(var s=0;s<i.length;s++)if(i[s]===a){i.splice(s,1);break}}}},{key:"trigger",value:function(t){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var h=this.listeners[t];if(h){var w=void 0;return h.every(function(I){return w=I.apply(void 0,i),typeof w!="boolean"||w!==!1}),w}}},{key:"destroy",value:function(){var t=this;Object.keys(this.listeners).forEach(function(a){t.listeners[a].forEach(function(i){t.off(a,i)})})}}]),at}(),eo=function(F){return!!F&&F.get!==void 0},Do=function(F){return!!F&&F.entries!==void 0},Ti=function(F){return!!F&&F.nodeType!==void 0},sa=function(F,t){if(F.nodeType!==Node.ELEMENT_NODE||!t)return!1;var a=function(h,w){for(var I,B=(I=kt(h))===null||I===void 0?void 0:I.querySelectorAll(w),W=B?B.length:0;--W>=0&&(B==null?void 0:B.item(W))!==h;);return W>-1},i=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.msMatchesSelector||F.oMatchesSelector||F.matchesSelector||a;return i.call(F,t)},Vs=function(F){return F.nodeName===$i||!!F.getAttribute(Kr)},El=function(F){return F.getAttribute(Kr)==="block"},Zl=function(F){return F.getAttribute(Kr)==="inline"},bo=function(F){return F.getAttribute(Ve)===Ft||F.getAttribute(Ee)==="true"||!!(F!=null&&F.querySelector(Mt))},vl=function(F,t){return F.getAttribute(Ve)===wt&&(!t||F===t)},dc=function(F){return vl(F)||F.getAttribute(Ve)===Ft},As=function(F,t){if(F.nodeType===Node.ELEMENT_NODE&&vl(F,t))return!1;var a=vs(F,jt);return!!a&&(!t||a===t)},Ol=function(F){var t=F.getAttribute(Ve);return!!t&&[xn,Nn,Cr].indexOf(t)>-1},vs=function(F,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(s){return s.parentElement||void 0},i=F||void 0;i;){if(sa(i,t))return i;i=a(i)}return i},Os=new Map;function Qs(at,F){if(!at)return[];if(typeof at=="string"){var t=!1;if(!F||(t=/<[^>]+>/g.test(at))){var a=at.indexOf("<tr")===0,i=at.indexOf("<td")===0;at=(t?at.trim():at).replace(/<!--[^>]*-->/g,"");var s=Os.get(at);if(s){if(a){var h=s.querySelector("tbody");return h?h.cloneNode(!0).childNodes:[]}if(i){var w=s.querySelector("tr");return w?w.cloneNode(!0).childNodes:[]}return s.cloneNode(!0).childNodes}a&&(at="<table><tbody>".concat(at,"</tbody></table>")),i&&(at="<table><tbody><tr>".concat(at,"</tr></tbody></table>"));var I=kt().createElement("div");if(I.innerHTML=at,Os.set(at,I.cloneNode(!0)),a){var B=I.querySelector("tbody");return B?B.childNodes:[]}if(i){var W=I.querySelector("tr");return W?W.childNodes:[]}return I.childNodes}return F.querySelectorAll(at)}if(Do(at)||Array.isArray(at))return at;if(eo(at)){var G=[];return at.each(function(rt){G.push(rt)}),G}if(Ti(at)&&at.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var H=[],he=(0,le.Z)(at.childNodes),ge;try{for(he.s();!(ge=he.n()).done;){var Oe=ge.value;H.push(Oe)}}catch(rt){he.e(rt)}finally{he.f()}return H}return[at]}var Js=function(){function at(F,t){var a=this;(0,p.Z)(this,at),this.events=[],this.document=null,this.context=void 0,this.name="",this.type=void 0,this.window=null,this.display=void 0,this.fragment=void 0,Ti(F)&&(F.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(this.fragment=F),F=[F]),F.forEach(function(w,I){a[I]=w,a.events[I]=new Io});var i=this[0];if(i){this.document=kt(t),this.context=t;var s=i.nodeName,h=i.nodeType;this.name=s.toLowerCase(),this.type=h,this.window=this.document.defaultView||window}}return(0,d.Z)(at,[{key:"length",get:function(){for(var t=0,a;a=this[t];)t++;return t}},{key:"each",value:function(t){for(var a=0,i;(i=this[a])&&t(i,a)!==!1;)a++;return this}},{key:"toArray",value:function(){var t=[];return this.each(function(a){t.push(new at(a))}),t}},{key:"isElement",value:function(){return this.type===Node.ELEMENT_NODE}},{key:"isText",value:function(){return this.type===Node.TEXT_NODE}},{key:"isCard",value:function(){var t=this.get();return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&Vs(t)}},{key:"isBlockCard",value:function(){var t=this.get();return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&El(t)}},{key:"isInlineCard",value:function(){var t=this.get();return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&Zl(t)}},{key:"isEditableCard",value:function(){var t=this.get();return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&bo(t)}},{key:"isRoot",value:function(t){var a,i=this.get();return(i==null?void 0:i.nodeType)===Node.ELEMENT_NODE&&vl(i,t?(a=t[0])!==null&&a!==void 0?a:t:void 0)}},{key:"isEditable",value:function(){var t=this.get();return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&dc(t)}},{key:"inEditor",value:function(t){var a,i=this.get();return!!i&&As(i,t?(a=t[0])!==null&&a!==void 0?a:t:void 0)}},{key:"isCursor",value:function(){var t=this.get();return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&Ol(t)}},{key:"get",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.length===0?null:this[t]}},{key:"eq",value:function(t){return t>-1&&t<this.length?new at(this[t]):void 0}},{key:"index",value:function(){for(var t,a=(t=this.get())===null||t===void 0?void 0:t.previousSibling,i=0;a&&a.nodeType===Node.ELEMENT_NODE;)i++,a=a.previousSibling;return i}},{key:"parent",value:function(){var t,a=this.get(),i=(t=a==null?void 0:a.parentElement)!==null&&t!==void 0?t:a==null?void 0:a.parentNode;return i?new at(i):void 0}},{key:"children",value:function(t){if(this.length===0)return new at([]);var a=this.get().childNodes;if(t){for(var i=[],s=0;s<a.length;s++){var h=a[s];sa(h,t)&&i.push(h)}return new at(i)}return new at(a)}},{key:"first",value:function(){var t;if(this.fragment)return this.eq(0)||null;var a=this.length===0?null:(t=this.get())===null||t===void 0?void 0:t.firstChild;return a?new at(a):null}},{key:"last",value:function(){var t;if(this.fragment)return this.eq(this.length-1)||null;var a=this.length===0?null:(t=this.get())===null||t===void 0?void 0:t.lastChild;return a?new at(a):null}},{key:"prev",value:function(){var t,a=this.length===0?null:(t=this.get())===null||t===void 0?void 0:t.previousSibling;return a?new at(a):null}},{key:"next",value:function(){var t,a=this.length===0?null:(t=this.get())===null||t===void 0?void 0:t.nextSibling;return a?new at(a):null}},{key:"prevElement",value:function(){var t=this.length===0?null:this.get().previousElementSibling;return t?new at(t):null}},{key:"nextElement",value:function(){var t=this.length===0?null:this.get().nextElementSibling;return t?new at(t):null}},{key:"getPath",value:function(t,a,i){t=t||document.body;var s=[];if(this.length>0){var h=this.getIndex(a);if(i){var w=i(h,s,this);w&&(s=w)}else s.unshift(h)}if(this.equal(t))return s;for(var I=this.parent();I&&!I.equal(t);){var B=I.getIndex(a);if(i){var W=i(B,s,I);W&&(s=W)}else s.unshift(B);I=I.parent()}return s}},{key:"contains",value:function(t){var a,i=Ti(t)?t:t.get();if(this.length===0)return!1;if(this.get().nodeType===Node.DOCUMENT_NODE&&((a=i)===null||a===void 0?void 0:a.nodeType)!==Node.DOCUMENT_NODE||i===this[0])return!0;for(;i=((s=(h=i)===null||h===void 0?void 0:h.parentElement)!==null&&s!==void 0?s:(w=i)===null||w===void 0?void 0:w.parentNode)||null;){var s,h,w;if(i===this[0])return!0}return!1}},{key:"find",value:function(t){if(this.length>0&&(this.isElement()||this.fragment)){var a,i=(a=this.fragment?this.fragment:this.get())===null||a===void 0?void 0:a.querySelectorAll(t);return new at(i||[])}return new at([])}},{key:"closest",value:function(t){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(h){var w;return(w=h.parentElement)!==null&&w!==void 0?w:h.parentNode||void 0},i=[],s=this.get()||void 0;s;){if(sa(s,t))return i.push(s),new at(i);s=a(s)}return new at(i)}},{key:"on",value:function(t,a,i){var s=this;return this.each(function(h,w){h.addEventListener(t,a,i),s.events[w]&&s.events[w].on(t,a,i)}),this}},{key:"off",value:function(t,a,i){var s=this;return this.each(function(h,w){h.removeEventListener(t,a,i),s.events[w]&&s.events[w].off(t,a,i)}),this}},{key:"getBoundingClientRect",value:function(t){if(this.length!==0){try{var a=this.get(),i=a.getBoundingClientRect(),s=document.documentElement.clientTop,h=document.documentElement.clientLeft;return{top:i.top-s,bottom:i.bottom-s,left:i.left-h,right:i.right-h}}catch(w){console.error(w)}return t}}},{key:"removeAllEvents",value:function(){var t=this;return this.each(function(a,i){!t.events[i]||Object.keys(t.events[i].listeners).forEach(function(s){for(var h=t.events[i].listeners[s],w=0;w<h.length;w++)t.off(s,h[w]),t.events[i].off(s,h[w]),a.removeEventListener(s,h[w],!1)})}),this}},{key:"attributes",value:function(t,a){if(t===void 0){var i=this.get();if(!i)return{};for(var s={},h=i.attributes,w=h.length;w--;){var I=h[w];s[I.name]=I.value}return s}if((0,U.Z)(t)==="object"){for(var B in t){var W=t[B];this.attributes(B,W)}return this}if(a===void 0){var G=this.get();return this.length>0&&this.isElement()&&(G==null?void 0:G.getAttribute(t))||""}var H=t==="style"&&a==="";return this.each(function(he){he instanceof Element&&(H?he.removeAttribute("style"):he.setAttribute(t,a.toString()))}),this}},{key:"removeAttributes",value:function(t){return this.each(function(a){a instanceof Element&&a.removeAttribute(t)}),this}},{key:"hasClass",value:function(t){if(this.length===0)return!1;var a=this.get();if(!a)return!1;for(var i=0,s=null,h=a.classList||{};s=h[i];){if(s===t)return!0;i++}return!1}},{key:"addClass",value:function(t){return this.each(function(a){a instanceof Element&&a.classList.add(t)}),this}},{key:"removeClass",value:function(t){return this.each(function(a){a instanceof Element&&a.classList.remove(t)}),this}},{key:"css",value:function(t,a){if(t===void 0)return cr(this.attributes("style")||"");if((0,U.Z)(t)==="object"){for(var i in t){var s=t[i];this.css(i,s)}return this}if(a===void 0){if(this.length===0||this.isText())return"";var h=this.get();return h&&(h.style[Rn(t)]||ar(this[0],t))||""}return this.each(function(w){var I=w;I.style[Rn(t)]=a.toString(),I.style.length===0&&I.removeAttribute("style")}),this}},{key:"width",value:function(){var t=this.css("width");if(t==="auto"){var a=this.get();t=a.offsetWidth.toString()}return t&&Vn(t)||0}},{key:"height",value:function(){var t=this.css("height");if(t==="auto"){var a=this.get();t=a.offsetHeight.toString()}return t&&parseFloat(t)||0}},{key:"html",value:function(t){if(t!==void 0){var a=Qs(t);return this.each(function(i){if(i.nodeType===Node.ELEMENT_NODE){for(var s=i.firstChild;s;){var h=s.nextSibling;i.removeChild(s),s=h}a.forEach(function(w){i.appendChild(w.cloneNode(!0))})}}),this}return this.length>0&&this[0]instanceof Element?this[0].innerHTML:""}},{key:"text",value:function(t){var a;return t!==void 0?(this.each(function(i){i.textContent=t}),this):this.length===0?"":((a=this.get())===null||a===void 0?void 0:a.textContent)||""}},{key:"show",value:function(t){return t===void 0&&(t=this.display||""),t==="none"&&(t=""),this.css("display")!=="none"?this:this.css("display",t)}},{key:"hide",value:function(){var t;return this.length===0?this:(this.display=(t=this.get())===null||t===void 0?void 0:t.style.display,this.css("display","none"))}},{key:"remove",value:function(){var t=this;return this.each(function(a,i){var s,h=(s=a.parentElement)!==null&&s!==void 0?s:a.parentNode;!h||(h.removeChild(a),delete t[i])}),this}},{key:"empty",value:function(){return this.each(function(t){for(var a=t.firstChild;a;){var i=a.nextSibling;t.removeChild(a),a=i}}),this}},{key:"equal",value:function(t){return Ti(t)?this.get()===t:eo(t)?this.get()===t.get():!1}},{key:"clone",value:function(t){var a=[];return this.each(function(i){a.push(i.cloneNode(t))}),new at(a)}},{key:"prepend",value:function(t){var a=Qs(t,this.context),i=typeof t=="string"&&/<.+>/.test(t);return this.each(function(s){for(var h=a.length-1;h>=0;h--){var w=i?a[h].cloneNode(!0):a[h];s.firstChild?s.insertBefore(w,s.firstChild):s.appendChild(w)}}),this}},{key:"append",value:function(t){var a=Qs(t,this.context),i=typeof t=="string"&&/<.+>/.test(t);return this.each(function(s){for(var h=0;h<a.length;h++){var w=i?a[h].cloneNode(!0):a[h];typeof t=="string"?s instanceof Element&&s.append(w):s.appendChild(w)}}),this}},{key:"before",value:function(t){var a=Qs(t,this.context),i=typeof t=="string"&&/<.+>/.test(t);return this.each(function(s){var h,w=(h=s.parentElement)!==null&&h!==void 0?h:s.parentNode;!w||a.forEach(function(I){i&&(I=I.cloneNode(!0)),w.insertBefore(I,s),s=I})}),this}},{key:"after",value:function(t){var a=Qs(t,this.context),i=typeof t=="string"&&/<.+>/.test(t);return this.each(function(s){var h,w=(h=s.parentElement)!==null&&h!==void 0?h:s.parentNode;!w||a.forEach(function(I){i&&(I=I.cloneNode(!0)),s.nextSibling?(w.insertBefore(I,s.nextSibling),s=I):w.appendChild(I)})}),this}},{key:"replaceWith",value:function(t){var a=[],i=Qs(t,this.context),s=typeof t=="string"&&/<.+>/.test(t);return this.each(function(h){var w,I=(w=h.parentElement)!==null&&w!==void 0?w:h.parentNode;if(!!I){var B=s?i[0].cloneNode(!0):i[0];try{I.replaceChild(B,h),a.push(B)}catch(W){}}}),new at(a)}},{key:"getRoot",value:function(){return this.closest(jt)}},{key:"traverse",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0,h=arguments.length>4?arguments[4]:void 0,w=function I(B){var W=B.isCard();if(!(W&&(!B.fragment||B.fragment.childNodes.length===1)&&(!i||i==="editable"&&!B.isEditableCard())))for(var G=a?B.first():B.last();G;){var H=a?G.next():G.prev();s&&s(G);var he=t(G);if(he===!1){h&&h(G,H);return}if(he!==!0){var ge=he&&typeof he!="boolean";ge&&(h&&h(G,he),G=he),W=G.isCard(),W?i===!0?(ge&&t(G),I(G)):i==="editable"&&G.isEditableCard()&&function(){var Oe=G.find(Mt);Oe.each(function(rt,bt){var Ct=Oe.eq(bt);Ct&&I(Ct)})}():(ge&&t(G),I(G))}h&&h(G,H),G=H}};t(this),w(this)}},{key:"getChildByPath",value:function(t,a){var i=this.get();if(t.length===0)return i;for(var s=function(B){var W=0,G=(0,le.Z)(i.childNodes),H;try{for(G.s();!(H=G.n()).done;){var he=H.value;if(!(a&&!a(he))){if(W==B)return he;W++}}}catch(ge){G.e(ge)}finally{G.f()}},h=0;t[h]!==void 0;){var w=s(t[h]);if(!w)break;i=w,h++}return i}},{key:"getIndex",value:function(t){var a,i=this[0],s=(a=i.parentElement)!==null&&a!==void 0?a:i.parentNode;if(!s)return 0;var h=0,w=(0,le.Z)(s.childNodes),I;try{for(w.s();!(I=w.n()).done;){var B=I.value;if(!(t&&!t(B))){if(B===this[0])return h;h++}}}catch(W){w.e(W)}finally{w.f()}return-1}},{key:"findParent",value:function(){var t,a,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.closest(jt),s=(t=i[0])!==null&&t!==void 0?t:i,h=(a=s.parentElement)!==null&&a!==void 0?a:s.parentNode;if(this.length===0||!h)return null;for(var w=this[0];(h=(I=w.parentElement)!==null&&I!==void 0?I:w.parentNode)&&h!==s;){var I;w=h}return h?new at(w):null}},{key:"allChildren",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=[];return this.traverse(function(i){a.push(i)},void 0,t),a.shift(),a}},{key:"getViewport",value:function(){var t,a=this.window||{innerHeight:0,innerWidth:0},i=a.innerHeight,s=a.innerWidth,h=this.isText()?(t=this.parent())===null||t===void 0?void 0:t.get():this.get();if(!h)return{top:0,left:0,bottom:0,right:0};var w=h.getBoundingClientRect(),I=w.top,B=w.left,W=w.bottom,G=w.right;return{top:I,left:B,bottom:Math.min(W,i),right:Math.min(G,s)}}},{key:"inViewport",value:function(t){var a,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=null;if(t.type!==Node.ELEMENT_NODE){var w;if(!t.document)return!1;h=t.document.createElement("span");var I=(w=t[0].parentElement)!==null&&w!==void 0?w:t[0].parentNode;t.next()?I==null||I.insertBefore(h,t[0].nextSibling):I==null||I.appendChild(h),t=new at(h)}var B=t.get();if(!B)return!0;var W=B.getBoundingClientRect(),G=W.top,H=W.left,he=W.right,ge=W.bottom,Oe=this.getViewport();return h&&((a=(i=h.parentElement)!==null&&i!==void 0?i:h.parentNode)===null||a===void 0||a.removeChild(h)),s?G>0&&G<=Oe.bottom||ge>0&&ge<=Oe.bottom:G>0&&G>=Oe.top&&H>0&&H>=Oe.left&&ge<=Oe.bottom&&he<=Oe.right}},{key:"scrollIntoView",value:function(t){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest";if(typeof((a=t.document)===null||a===void 0?void 0:a.body.scrollIntoView)=="function"){var s,h,w=null;if(t.type!==Node.ELEMENT_NODE||t.name.toLowerCase()==="br"){var I,B;w=t.document.createElement("span"),w.innerHTML="&nbsp;",(I=(B=t[0].parentElement)!==null&&B!==void 0?B:t[0].parentNode)===null||I===void 0||I.insertBefore(w,t[0]),t=new at(w)}if(!this.inViewport(t)){var W;(W=t.get())===null||W===void 0||W.scrollIntoView({block:i,inline:i})}w&&((s=(h=w.parentElement)!==null&&h!==void 0?h:w.parentNode)===null||s===void 0||s.removeChild(w))}}}]),at}(),nn=function(at,F,t){F===void 0&&(F=kt());var a=Qs(at,F),i=new(t||Js)(a,F||void 0);return Ti(at)&&at.nodeType===window.Node.DOCUMENT_FRAGMENT_NODE&&(i.fragment=at),i},Ku=[{from:function(F,t,a){return!!a[_i]||!!a[Vr]},to:function(F,t,a){var i=a[Tr],s=(0,m.Z)({},a);a=(0,j.Z)({type:a[Kr],name:(a[_i]||a[Vr]).toLowerCase(),editable:a[Ee]},et,a[et]);for(var h in s)h!==Vr&&h.indexOf("data-")===0&&h.indexOf("data-card")!==0&&(a[h]=s[h]);i!==void 0&&(a.value=i);var w=nn("<card />");for(var I in a)w.attributes(I,a[I]);return w}},{from:function(F,t,a){return(F==="div"||F==="section")&&(!a[_i]||!a[Vr])&&a[Ve]!==wt},to:function(F,t,a){var i=nn("<p />");i.css(t);for(var s in a)i.attributes(s,a[s]);return i}},{from:function(F){return[Cr,xn,Nn].includes(F)},to:function(F){return{node:nn("<".concat(F," />")),replace:!0}}}],al,Lo,zl,Po,Ec=[{type:"block",attributes:(0,j.Z)({},et,"*")},{name:"p",type:"block",allowIn:["$root"]},{name:"br",type:"inline",isVoid:!0},{name:xn,type:"inline",isVoid:!0},{name:Nn,type:"inline",isVoid:!0},{name:Cr,type:"inline",isVoid:!0},{name:"span",type:"mark",attributes:(0,j.Z)({},Ve,{required:!0,value:["anchor","cursor","focus"]})},{name:"card",type:"inline",attributes:{name:{required:!0,value:/\w+/},type:{required:!0,value:"inline"},editable:"*",value:"*"}},{name:"span",type:"inline",attributes:(al={},(0,j.Z)(al,_i,{required:!0,value:/\w+/}),(0,j.Z)(al,Kr,{required:!0,value:"inline"}),(0,j.Z)(al,Tr,"*"),(0,j.Z)(al,Ee,"*"),(0,j.Z)(al,"class","*"),(0,j.Z)(al,"contenteditable","*"),al)},{name:"span",type:"inline",attributes:(Lo={},(0,j.Z)(Lo,Vr,{required:!0,value:/\w+/}),(0,j.Z)(Lo,Kr,{required:!0,value:"inline"}),(0,j.Z)(Lo,Tr,"*"),(0,j.Z)(Lo,Ee,"*"),(0,j.Z)(Lo,"class","*"),(0,j.Z)(Lo,"contenteditable","*"),Lo)},{name:"card",type:"block",attributes:{name:{required:!0,value:/\w+/},type:{required:!0,value:"block"},editable:"*",value:"*"}},{name:"div",type:"block",attributes:(zl={},(0,j.Z)(zl,_i,{required:!0,value:/\w+/}),(0,j.Z)(zl,Kr,{required:!0,value:"block"}),(0,j.Z)(zl,Tr,"*"),(0,j.Z)(zl,Ee,"*"),(0,j.Z)(zl,"class","*"),(0,j.Z)(zl,"contenteditable","*"),zl)},{name:"div",type:"block",attributes:(Po={},(0,j.Z)(Po,Vr,{required:!0,value:/\w+/}),(0,j.Z)(Po,Kr,{required:!0,value:"block"}),(0,j.Z)(Po,Tr,"*"),(0,j.Z)(Po,Ee,"*"),(0,j.Z)(Po,"class","*"),(0,j.Z)(Po,"contenteditable","*"),Po)}],Ys="contenteditable",Rc=0,Cu=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Number(Math.random().toString().substring(2,7)+F+Date.now()).toString(36)},Wl=new Map,ol=function(at){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t="";if(typeof at!="string"){var a,i=(a=at[0])!==null&&a!==void 0?a:at;if(i.nodeType===Node.ELEMENT_NODE){var s=i,h=s.localName;t=h.substring(0,1),at=h;for(var w=s.attributes,I=w.length;I--;){var B=w[I];~~[et,"id"].indexOf(B.name)&&(at+="".concat(B.name,'="').concat(B.value,'"'))}}else{var W;at=(W=i.textContent)!==null&&W!==void 0?W:""}}var G=Wl.get(at);if(G)t=G;else{var H=window.btoa(encodeURIComponent(at)).replace(/=/g,""),he=[];["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].forEach(function(bt,Ct){var Dt=H.indexOf(bt);he.push(~Dt?Dt:H.length%Ct?0:1)});var ge=Number(he.join("")).toString(36).replace(/0/g,"");t=t+ge.substr(0,4)+ge.substr(-4),Wl.set(at,t)}var Oe=t;if(F){var rt="".concat(Oe,"-").concat(Cu(Rc));return Rc++,rt}return Oe},pu=function(){function at(F){var t=this;(0,p.Z)(this,at),this.editor=void 0,this.addBrForBlock=function(a){if(!a.isText()){var i=a.get().childNodes,s=0,h=!0,w=!1,I=a.name==="p",B=(0,le.Z)(i),W;try{for(B.s();!(W=B.n()).done;){var G=W.value;if(h&&G.nodeType===Node.TEXT_NODE?h=!1:!I&&!w&&G.nodeType===Node.ELEMENT_NODE&&t.isBlock(G)&&(w=!0),G.nodeType===Node.ELEMENT_NODE&&[xn,Nn,Cr].indexOf(G.getAttribute(Ve)||"")<1&&s++,!h&&s>1)break}}catch(he){B.e(he)}finally{B.f()}if(I&&s===0){var H=document.createElement("br");a.each(function(he){he.appendChild(H.cloneNode())})}!w&&h&&t.isBlock(a)&&(i.length!==1||i[0].nodeName!=="BR")&&t.isEmptyWithTrim(a)&&(a.empty(),a.append(document.createElement("br")))}},this.editor=F}return(0,d.Z)(at,[{key:"isVoid",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.editor.schema,i=typeof t=="string"?t:"";return Ti(t)?i=t.nodeName.toLowerCase():eo(t)&&(i=t.name),a.find(function(s){return s.name===i&&s.isVoid===!0}).length>0}},{key:"isMark",value:function(t){var a,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.editor.schema;return s.getTags("marks").includes(((a=(i=t.nodeName)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:t.name).toLowerCase())&&s.getType(t)==="mark"}},{key:"isInline",value:function(t){var a,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.editor.schema;return s.getTags("inlines").includes((a=(i=t.nodeName)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:t.name)&&s.getType(t)==="inline"}},{key:"isBlock",value:function(t){var a,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.editor.schema;return s.getTags("blocks").includes(((a=(i=t.nodeName)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:t.name).toLowerCase())&&s.getType(t)==="block"}},{key:"isNestedBlock",value:function(t){if(!this.isBlock(t))return!1;var a=t.length?t[0]:t;if(!a)return!1;for(var i=a.firstChild;i;){if(this.isBlock(i))return!1;i=i.nextSibling}return!0}},{key:"isRootBlock",value:function(t,a){var i;return!(!((i=t.parent())===null||i===void 0)&&i.isEditable())||!this.isNestedBlock(t)?!1:(a||this.editor.schema).find(function(s){return s.name===t.name}).every(function(s){if(s.type!=="block")return!1;var h=s.allowIn;return h?h.indexOf("$root")>-1:!0})}},{key:"isEmpty",value:function(t,a){var i,s;if(t.length>0&&t.isElement()){var h,w=t.attributes(),I=(h=t.fragment)!==null&&h!==void 0?h:t.get(),B=Array.from(I.querySelectorAll("".concat(pe,",").concat(oe,",").concat(Mt,",br")));if(w[_i]||w[Vr]||B.some(function(G){return G.hasAttribute(_i)||G.hasAttribute(Vr)})&&!B.some(function(G){return G.getAttribute(Ve)===Ft})||t.name!=="br"&&this.isVoid(t)||B.filter(function(G){return G.localName==="br"}).length>1)return!1}var W=t.isText()?t[0].nodeValue||"":t.text();return W=(i=W)===null||i===void 0?void 0:i.replace(/\u200B/g,""),W=(s=W)===null||s===void 0?void 0:s.replace(/\r\n|\n/,""),W&&a&&(W=W.trim()),W===""}},{key:"isEmptyWithTrim",value:function(t){return this.isEmpty(t,!0)}},{key:"isEmptyWidthChild",value:function(t){if(t.length===0)return!0;if(t.isCard())return!1;if(t.isText())return this.isEmpty(t);var a=t[0].childNodes;if(a.length===0)return!0;for(var i=0;i<a.length;i++){var s=a[i];if(s.nodeType===Node.TEXT_NODE){if(s.data.replace(/\u200b/g,"")!=="")return!1}else if(s.nodeType===Node.ELEMENT_NODE&&(s.nodeName.toLowerCase()==="li"&&!this.editor.list.isEmptyItem(nn(s))||s.hasAttribute(_i)||!this.isEmptyWidthChild(nn(s))))return!1}return!0}},{key:"isList",value:function(t){var a=typeof t=="string"?t:"";return Ti(t)?a=t.nodeName.toLowerCase():eo(t)&&(a=t.name),["ul","ol"].indexOf(a)>-1}},{key:"isCustomize",value:function(t){var a=this.editor.list;switch(t.name){case"li":return t.hasClass(a.CUSTOMZIE_LI_CLASS);case"ul":return t.hasClass(a.CUSTOMZIE_UL_CLASS);default:return!1}}},{key:"unwrap",value:function(t){for(var a=t.first(),i=[];a;){var s=a.next();t.before(a),i.push(a),a=s}return t.remove(),i}},{key:"wrap",value:function(t,a){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this.editor.mark;if(Ti(t)&&(t=nn(t)),a=this.clone(a,!1),t.isText())return a.append(this.clone(t,!1)),t.replaceWith(a);if(s&&this.isMark(a)){var w=this.clone(a,!1,!1);if(t.name===a.name){var I=t.attributes();delete I.style,delete I[et],Object.keys(I).forEach(function(he){if(!a.attributes(he))a.attributes(he,I[he]);else{var ge=a.attributes(he).split(",");ge[he]!==void 0&&ge.indexOf(ge[he])<0&&ge.push(ge[he]),a.attributes(he,ge.join(","))}});var B=t.css();Object.keys(B).forEach(function(he){a.css(he)||a.css(he,B[he])}),a.append(this.clone(t,!0,!1).children())}else a.append(this.clone(t,!0,!1));var W=a.allChildren();return W.forEach(function(he){!he.isText()&&i.isMark(he)&&h.compare(he,w)&&i.unwrap(he)}),t.replaceWith(a)}var G=t.parent(),H=this.clone(t,!1,!1);return t.after(H),a.append(t),G?H.replaceWith(a):a}},{key:"merge",value:function(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t.equal(a)){if(a.isText()){t.append(a),this.removeSide(t);return}var s=this.editor,h=s.block,w=s.mark,I=s.list,B=a,W=this.isList(t),G=this.isList(a.name);if(W&&!G){var H=t.find("li");if(H.length===0)return;t=nn(H[H.length-1])}if(!W&&G){var he=a.find("li");he.length>0&&(a=nn(he[0])),he[1]&&(B=nn(he[0]))}if(this.isCustomize(t)){var ge,Oe,rt=t.first();if(!(!((ge=rt)===null||ge===void 0)&&ge.isCard())){var bt=I.getPlugins(),Ct=I.getPluginNameByNode(t),Dt=bt.find(function(ai){return ai.constructor.pluginName===Ct});Dt!=null&&Dt.cardName&&(I.addCardToCustomize(t,Dt.cardName),rt=t.first())}if(this.isCustomize(a)&&!(!((Oe=rt)===null||Oe===void 0)&&Oe.equal(a))){var Ot=a.first();(Ot==null?void 0:Ot.isCard())&&rt.attributes(_i)===Ot.attributes(_i)&&Ot.remove()}}for(var Bt=t.last(),Nt=a.first(),In=h.findPlugin(t);Nt;){var en,Fn,rr=Nt.next(),Yn=w.findPlugin(Nt);if(In&&Yn&&In.disableMark&&In.disableMark.indexOf(Yn.constructor.pluginName)>-1){var ur=this.unwrap(Nt);ur.forEach(function(ai){t.append(ai)})}else if(Nt.isText()&&/\u200b/.test(Nt.text())){var xr=Nt.parent(),Lr=Nt.prev(),er=Nt.next();if(!xr||!this.isMark(xr)&&(Lr&&!this.isInline(Lr)||er&&!this.isInline(er))){Nt.remove(),Nt=er;continue}}else if(Yn&&((en=Nt.get())===null||en===void 0?void 0:en.childNodes.length)===1){var Rr=Nt.prev();(!Rr||Rr.isText())&&Nt.allChildren().forEach(function(ai){var ra,ea=ai.text();ai.type===kt().TEXT_NODE&&!!ea&&!(!((ra=ai.next())===null||ra===void 0)&&ra.isCursor())&&ai.text(ea.replace(/\u200b/,""))})}Nt.length>0&&!Nt.equal(t)&&!(!((Fn=Nt.parent())===null||Fn===void 0)&&Fn.equal(t))&&t.append(Nt),Nt=rr}if(i&&B.remove(),Bt&&Bt.name==="br")for(var Wi=Bt.next();Wi;){if(Wi.isCursor()){Bt.remove();break}Wi=Wi.next()}this.removeSide(t)}}},{key:"replace",value:function(t,a){for(var i,s,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=this.clone(a,!1,h),I=this.isCustomize(t)&&t.name==="li"&&((i=t.first())===null||i===void 0?void 0:i.isCard())?(s=t.first())===null||s===void 0?void 0:s.next():t.first();I;){var B=I.next();w.append(I),I=B}return t.isText()&&w.append(t.clone()),t.replaceWith(w)}},{key:"insertText",value:function(t,a){var i,s=this.editor;if(!!Gn(s)){var h=s.change,w=a||h.range.toTrusty(),I=kt(w.startContainer);w.collapsed||h.delete(a);var B=I.createTextNode(t);return(i=this.insert(B,w))===null||i===void 0||i.handleBr(),a||h.apply(w),w}}},{key:"insert",value:function(t,a){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(eo(t)){if(t.length===0)throw"Not found node";t=t[0]}var h=this.editor;if(!!Gn(h)){var w=h.change,I=h.block,B=h.schema,W=h.mark;a=a||w.range.get();var G=a.cloneRange().shrinkToTextNode(),H=G.startNode,he=G.startOffset,ge=H.prev(),Oe=H.parent(),rt=H.text()||"",bt=rt.substr(0,he);if(H.isText()&&/\u200b$/.test(bt)&&rt.length>1&&(ge&&!this.isInline(ge)||!ge&&Oe&&!this.isInline(Oe))){var Ct=H.get(),Dt=Ct.splitText(he-1),Ot=Dt.textContent;Ot&&Ot.length>0&&Dt.splitText(1),Dt.remove()}var Bt=Oe==null?void 0:Oe.attributes(qt);if(!Bt&&H.isCard()&&a.setStartAfter(H),Bt&&Oe&&["left","right"].includes(Bt)){var Nt=h.card.find(Oe);Nt&&(Bt==="left"?a.setStartBefore(Nt.root):a.setStartAfter(Nt.root))}if(this.isBlock(t)){var In=a,en=In.commonAncestorNode;en.isText()&&(en=h.block.closest(en));var Fn=null;if(this.isBlock(en)&&this.isEmpty(en))Fn=s?en:void 0;else{var rr=!1;if(I.isFirstOffset(a,"start")&&(rr=!0),Fn=I.split(a),rr){var Yn;Fn=(Yn=Fn)===null||Yn===void 0?void 0:Yn.prev()}}var ur=I.closest(a.startNode.isEditable()?a.cloneRange().shrinkToElementNode().shrinkToTextNode().startNode:a.startNode);if(ur.isRoot()&&!a.startNode.next())ur.append(t);else if(!ur.isCard()&&B.isAllowIn(ur.name,t.nodeName.toLowerCase()))ur.find("br").remove(),ur.append(t);else{for(var xr,Lr=ur.parent();Lr&&this.isBlock(Lr)&&!ur.isEditable()&&!B.isAllowIn(Lr.name,t.nodeName.toLowerCase());)ur=Lr,Lr=ur.parent();var er=B.getCanMergeTags(),Rr=t.nodeName.toLowerCase(),Wi=null;if(Fn&&ur.name===Rr&&er.includes(ur.name)){var ai;ur=Fn;var ra=document.createDocumentFragment(),ea=[],pa=(ai=ur.get())===null||ai===void 0?void 0:ai.nextSibling;t.childNodes.forEach(function(Xi){pa?ea.push(Xi):ea.unshift(Xi)}),ra.append.apply(ra,ea),t=ra,Wi=ra.lastChild}ur.isEditable()&&((xr=ur.get())===null||xr===void 0?void 0:xr.childNodes.length)===0?ur.append(t):(this.isEmptyWidthChild(ur)||I.isLastOffset(a,"start")?(ur.after(t),this.isEmptyWidthChild(ur)&&Fn&&ur.remove()):(ur.before(t),Fn&&this.isEmptyWidthChild(Fn)&&Fn.remove()),Wi&&(t=Wi))}(t instanceof Element||t instanceof DocumentFragment)&&h.nodeId.generate(t)}else{var ro=I.closest(a.startNode.isEditable()?a.cloneRange().shrinkToElementNode().shrinkToTextNode().startNode:a.startNode),io=ro?I.findPlugin(ro):void 0;if(io){var ka=nn(t),To=function(Zi){if(i.isMark(Zi)){var Ui=W.findPlugin(Zi);if(!Ui)return;if(io.disableMark&&io.disableMark.indexOf(Ui.constructor.pluginName)>-1)return!0}return!1};if(ka.allChildren().forEach(function(Xi){To(Xi)&&i.unwrap(Xi)}),To(ka)){var Aa=ka.document.createDocumentFragment();ka.children().each(function(Xi){Aa.appendChild(Xi)}),ka.remove(),t=Aa.childNodes[Aa.childNodes.length-1],a.insertNode(Aa)}else a.insertNode(t);if(ka.length===0)return a}else a.insertNode(t)}return t.nodeType===Node.ELEMENT_NODE&&(t.hasAttribute(Vr)||t.hasAttribute(_i))?a.collapse(!1):a.select(t,!(this.isVoid(t)||t.nodeType===Node.TEXT_NODE)).shrinkToElementNode().collapse(!1)}}},{key:"setAttributes",value:function(t,a){var i=a.style;for(var s in a)if(s!=="style")if(s==="className"){var h=a[s];Array.isArray(h)?h.forEach(function(W){return t.addClass(W)}):t.addClass(h)}else t.attributes(s,a[s].toString());typeof i=="number"?i={}:typeof i=="string"&&(i=cr(i)),i=i||{};var w=Object.keys(i);for(var I in i){var B=i[I];/^0(px|em)?$/.test(B.toString())&&(B=""),t.css(I,B.toString())}return(w.length===0||Object.keys(t.attributes("style")).length===0)&&t.removeAttributes("style"),t}},{key:"removeMinusStyle",value:function(t,a){if(t.isElement()){var i=t.css();if(i[a]){var s=parseInt(i[a]||"0",10)||0;s<0&&t.css(a,"")}}}},{key:"mergeChild",value:function(t){for(var a=this.editor,i=a.schema,s=a.list,h=i.getAllowInTags(),w=t.first();w;){for(var I=w.next();I&&w.name===I.name&&(h.indexOf(w.name)>-1&&!this.isList(w)||this.isList(w)&&s.isSame(w,I));){for(var B=I.next(),W=I.first();W;){var G=W.next();w.append(W),W=G}I.remove(),this.mergeChild(w),I=B}w=I}}},{key:"removeSide",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"br",i=t.first();(i==null?void 0:i.name)===a&&t.children().toArray().filter(function(h){return!h.isCursor()}).length>1&&i.remove();var s=t.last();(s==null?void 0:s.name)===a&&t.children().toArray().filter(function(h){return!h.isCursor()}).length>1&&s.remove()}},{key:"flat",value:function(t){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.editor.block,s=t.first(),h=t.fragment?nn("<p />"):this.clone(t,!1);s;){var w=s.next();if(s.isBlockCard()||this.isNestedBlock(s))i.flat(s,a);else if(this.isBlock(s))s=this.flat(s,a);else{var I=this.clone(h,!1),B=I.name==="li";for(s.before(I);s;){var W,G;w=s.next();var H=s.name==="br"&&!B;if(H&&((W=s.parent())===null||W===void 0?void 0:W.isRoot())&&I.append(s),s.isText()){var he=s.text(),ge=/^((\n|\r)+)/.exec(he),Oe=!1;if(ge&&(he=he.substring(ge[1].length),Oe=!0,he.length===0&&s.remove()),ge=/((\n|\r)+)$/.exec(he),ge){s.text(he.substr(0,ge.index)),I.append(s);break}else Oe&&s.length>0&&s.text(he)}if(s.length>0&&I.append(s),!((G=w)===null||G===void 0)&&G.isText()){var rt=w.text(),bt=/^(\n|\r)+/.exec(rt);if(bt)break}if(H||!w||this.isBlock(w)||w.isBlockCard())break;s=w}this.removeSide(I),i.flat(I,a),this.addBrForBlock(I)}this.addBrForBlock(s),this.removeSide(s),s=w}return t.fragment&&(t=nn(t.fragment)),s=t.first(),s||t.remove(),t}},{key:"normalize",value:function(t){return t=this.flat(t),this.mergeChild(t),t}},{key:"html",value:function(t,a){var i=this;if(a===void 0){var s;return t.length>0&&((s=t.get())===null||s===void 0?void 0:s.innerHTML)||""}return t.each(function(h){h instanceof Element&&(h.innerHTML=a,i.editor.nodeId.generateAll(h))}),t}},{key:"clone",value:function(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=this.editor.nodeId,h=[];return t.each(function(w){var I=w.cloneNode(a),B=nn(I);i||(s.generateAll(B,!0),s.isNeed(B)&&s.generate(B,!0)),h.push(I)}),nn(h)}},{key:"getBatchAppendHTML",value:function(t,a){var i;if(t.length===0)return a;var s=a.startsWith("\\u")||a.startsWith("&#")?nn(a,null):nn(a);return t.forEach(function(h){h=h.clone(!1),h.append(s),s=h}),((i=s.get())===null||i===void 0?void 0:i.outerHTML)||""}},{key:"removeZeroWidthSpace",value:function(t){var a=this;t.traverse(function(i){var s=i[0];if(s.nodeType===Node.TEXT_NODE){var h=s.nodeValue;if((h==null?void 0:h.length)===2){var w=s.nextSibling,I=s.previousSibling;if(!(h.charCodeAt(1)===8203&&w&&w instanceof Element&&[xn,Nn,Cr].indexOf(w.getAttribute(Ve)||"")>=0)){var B=i.parent();if(!(h.charCodeAt(1)===8203&&(!w&&B&&a.isInline(B)||w&&a.isInline(w)))&&!(h.charCodeAt(0)===8203&&(!I&&B&&a.isInline(B)||I&&a.isInline(I)))&&h.charCodeAt(0)===8203){var W,G,H=s.splitText(1);H.previousSibling&&((W=(G=H.parentElement)!==null&&G!==void 0?G:H.parentNode)===null||W===void 0||W.removeChild(H.previousSibling))}}}}})}}]),at}(),Pc=function(){function at(F,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";(0,p.Z)(this,at),this.range=void 0,this.editor=void 0,this.key="",this.anchor=null,this.focus=null,this.editor=F,this.range=t,this.key=a}return(0,d.Z)(at,[{key:"has",value:function(){return!!this.focus&&!!this.anchor}},{key:"create",value:function(){var t=this.range,a=t.commonAncestorNode,i=t.startNode,s=t.endNode;if(!(!a.isEditable()&&!a.inEditor())){var h=a.document;if(!!h){var w=a.closest(jt);if(this.key)w.find('[data-anchor-id="'.concat(this.key,'"]')).remove(),w.find('[data-focus-id="'.concat(this.key,'"]')).remove(),w.find('[data-cursor-id="'.concat(this.key,'"]')).remove();else{var I=w.find(jr);I.each(function(Nt,In){var en=I.eq(In);en&&!en.attributes("data-anchor-id")&&en.remove()});var B=w.find(ii);B.each(function(Nt,In){var en=B.eq(In);en&&!en.attributes("data-focus-id")&&en.remove()});var W=w.find(xi);W.each(function(Nt,In){var en=W.eq(In);en&&!en.attributes("data-cursor-id")&&en.remove()})}var G=i.closest(pe);if(G.length>0){var H=i.closest(me);H.length>0&&this.range.setStartBefore(G);var he=i.closest(nt);he.length>0&&this.range.setStartAfter(G)}if(!i.equal(s)){var ge=s.closest(pe);if(ge.length>0){var Oe=s.closest(me);Oe.length>0&&this.range.setEndBefore(ge);var rt=s.closest(nt);rt.length>0&&this.range.setEndAfter(ge)}}if(this.range.collapsed){var bt=nn(h.createElement("span"));bt.attributes(Ve,Cr),this.key&&bt.attributes("data-cursor-id",this.key),this.range.insertNode(bt),this.anchor=bt,this.focus=bt;return}var Ct=this.range.cloneRange();Ct.collapse(!0);var Dt=nn(h.createElement("span"));Dt.attributes(Ve,xn),this.key&&Dt.attributes("data-anchor-id",this.key),Ct.insertNode(Dt),this.range.setStartAfter(Dt);var Ot=this.range.cloneRange();Ot.collapse(!1);var Bt=nn(h.createElement("span"));Bt.attributes(Ve,Nn),this.key&&Bt.attributes("data-focus-id",this.key),Ot.insertNode(Bt),this.anchor=Dt,this.focus=Bt}}}},{key:"move",value:function(){var t,a;if(!(!this.focus||!this.anchor)){if(this.key){var i,s,h=this.range.commonAncestorNode,w=h.closest(jt);(!this.focus.inEditor()||!(!((i=this.focus.get())===null||i===void 0)&&i.isConnected))&&(this.focus=w.find("[data-".concat(this.focus.attributes(Ve),'-id="').concat(this.key,'"]'))),(!this.anchor.inEditor()||!(!((s=this.anchor.get())===null||s===void 0)&&s.isConnected))&&(this.anchor=w.find("[data-".concat(this.anchor.attributes(Ve),'-id="').concat(this.key,'"]')))}var I=this.editor.node;if(!((t=this.anchor.get())===null||t===void 0)&&t.isConnected||(this.anchor=this.range.commonAncestorNode.find("[".concat(Ve,'="anchor"]'))),!((a=this.focus.get())===null||a===void 0)&&a.isConnected||(this.focus=this.range.commonAncestorNode.find("[".concat(Ve,'="focus"]'))),this.anchor.equal(this.focus)){var B,W=this.anchor,G=W.parent();if(!G)return;I.removeZeroWidthSpace(G),G[0].normalize();var H=!1,he=W.prev(),ge=W.next();if(he&&he.isCard()){var Oe=he.find(nt);Oe.length>0&&(this.range.select(Oe,!0),this.range.collapse(!1),H=!0)}else if(ge&&ge.isCard()){var rt=ge.find(me);rt.length>0&&(this.range.select(rt,!0),this.range.collapse(!1),H=!0)}H||(this.range.setStartBefore(W[0]),this.range.collapse(!0)),It?(G[0].normalize(),W.remove()):(W.remove(),G[0].normalize()),G.name==="p"&&((B=G.get())===null||B===void 0?void 0:B.childNodes.length)===0&&G.append(nn("<br />"));return}var bt=this.anchor.parent();if(bt&&(I.removeZeroWidthSpace(bt),this.anchor.length>0&&this.range.setStartBefore(this.anchor),this.anchor.remove(),bt[0].normalize()),bt=this.focus.parent(),bt){var Ct;if(I.removeZeroWidthSpace(bt),this.focus.length>0&&this.range.setEndBefore(this.focus),this.focus.remove(),bt[0].normalize(),bt.name==="p"&&((Ct=bt.get())===null||Ct===void 0?void 0:Ct.childNodes.length)===0&&bt.append(nn("<br />")),Lt){var Dt=window.getSelection();Dt==null||Dt.removeAllRanges(),Dt==null||Dt.addRange(this.range.base)}}}}},{key:"getNode",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},h=i?t.clone(!0):t;if(!this.focus||!this.anchor)return h;if(a==="left"||a==="center"){var w=a!=="center"?this.anchor:this.focus,I=nn(this.key?"[data-".concat(w.attributes(Ve),'-id="').concat(this.key,'"]'):"[".concat(Ve,"=").concat(w.attributes(Ve),"]"),h.get());this.key||(I=I.toArray().find(function(he){return!he.attributes("data-".concat(w.attributes(Ve),"-id"))}));var B=!1;h.traverse(function(he){if(I&&he.equal(I)){var ge,Oe=he.parent();I.remove(),(Oe==null?void 0:Oe.name)==="p"&&((ge=Oe.get())===null||ge===void 0?void 0:ge.childNodes.length)===0&&Oe.append(nn("<br />")),B=!0;return}B&&s(he)&&(he.attributes(Ve)!==w.attributes(Ve)||w.attributes(Ve)==="cursor")&&he.remove()},!0)}if(a==="right"||a==="center"){var W=a!=="center"?this.focus:this.anchor,G=nn(this.key?"[data-".concat(W.attributes(Ve),'-id="').concat(this.key,'"]'):"[".concat(Ve,"=").concat(W.attributes(Ve),"]"),h.get());this.key||(G=G.toArray().find(function(he){return!he.attributes("data-".concat(W.attributes(Ve),"-id"))}));var H=!1;h.traverse(function(he){if(G&&he.equal(G)){var ge,Oe=he.parent();G.remove(),(Oe==null?void 0:Oe.name)==="p"&&((ge=Oe.get())===null||ge===void 0?void 0:ge.childNodes.length)===0&&Oe.append(nn("<br />")),H=!0;return}H&&s(he)&&(he.attributes(Ve)!==W.attributes(Ve)||W.attributes(Ve)==="cursor")&&he.remove()},!1)}return h}}]),at}();Pc.removeTags=function(at){return at.replace(/<anchor\s*\/>/gi,"").replace(/<focus\s*\/>/gi,"").replace(/<cursor\s*\/>/gi,"")};var Ul=function(F,t,a){var i=Ti(F)?F:F[0];if(i.nodeType===Node.ELEMENT_NODE){var s=i.getAttribute(Ve)||"";if([Cr,xn,Nn].indexOf(s)>-1||!!i.getAttribute(Jt)||s===on)return!0;var h=i.parentElement,w=(h==null?void 0:h.getAttribute(Ve))||"";if(s===wt||w===wt)return!1;var I=Vs(i),B=h==null?void 0:h.getAttribute(Zt);if(B&&h&&(a==null||a.push(nn(h))),!I&&h&&Vs(h)&&!bo(h))return!0;if(t){if(I)return!1;var W=t.find(function(ge){return ge===F[0]});if(W)return W.__card_root&&(a==null||a.push(W.__card_root)),!0}var G=vs(i,"".concat(pe,",").concat(bn),Qn);if(!G||!(G instanceof Element))return!1;if(G.getAttribute(Ve)===on||(G.getAttribute(Zt)&&(a==null||a.push(nn(G))),!I&&Vs(G)&&!bo(G)))return!0;if(!I||bo(i)||!h)return!1;var H=vs(h,pe,Qn);if(!H||!(H instanceof Element))return!1;var he=H.getAttribute(Zt);if(he&&H&&(a==null||a.push(nn(H))),H&&Vs(H)&&!bo(H))return!0}return!1},Bc=function(F,t){var a=Ti(F)?F:F[0];if(vl(a)||Vs(a)&&["id","class","style",Zt,Ee].includes(t))return!0;var i=a.getAttribute(_t);return!!(i==="*"||i&&i.split(",").some(function(s){return s.trim().toLowerCase()===t.toLowerCase()}))},Nl=function(F){for(var t=[],a=0;a<F.length;a++){var i=F[a],s=F[a+1];_a(i,s)?a++:t.push(i)}return t},_a=function(F,t){var a=F,i=F,s=t,h=t,w=F,I=F,B=t,W=t;return!F||!t?!1:a.li&&h.ld?se()(a.li,h.ld)&&se()(F.p,t.p):i.ld&&s.li?se()(i.ld,s.li)&&se()(F.p,t.p):w.si&&W.sd?se()(w.si,W.sd)&&(se()(F.p,t.p)||Wn(F.p,t.p,w.si.length)||Wn(t.p,F.p,w.si.length)):I.sd&&B.si?se()(I.sd,B.si)&&se()(F.p,t.p):!1},Wn=function(F,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(F.length!==t.length)return!1;var i=t.slice();return i[i.length-1]=i[i.length-1]-a,se()(F.slice(),i)},Di=function at(F){var t=document.createDocumentFragment(),a=null,i=0,s=null;for(typeof F[0]=="string"&&(a=F[0],i=1);i<F.length;i++)if(Array.isArray(F[i])){var h=F[i-1];if(h&&h.toString()==="[object Object]"&&Object.keys(h).includes(Vr))continue;var w=at(F[i]);w&&t.appendChild(w)}else if(F[i].toString()==="[object Object]"){if(a){s=document.createElement(a);for(var I in F[i]){var B;(B=s)===null||B===void 0||B.setAttribute(gi(I),Un(F[i][I]))}var W=Object.keys(F[i]);if(W.indexOf(_i)>-1&&W.indexOf(Vr)<0){var G,H;(G=s)===null||G===void 0||G.setAttribute(Vr,F[i][_i]),(H=s)===null||H===void 0||H.removeAttribute(_i)}}}else if(typeof F[i]=="number"||typeof F[i]=="string"){var he=document.createTextNode(F[i].toString());t.appendChild(he)}return!s&&a&&(s=document.createElement(a)),s?(s.appendChild(t),s):t.childNodes[0]},Hi=function(F,t){F instanceof Node||(F=F[0]);var a=F.childNodes;if(a.length!==0)for(var i=0;i<a.length;i++){var s=a.item(i);if(!!s){var h=Ca(s);h&&t.push(h)}}},Ca=function(F){var t;if(F instanceof Node||(F=F[0]),!Ul(F)){var a=F,i=a.nodeValue;if(F instanceof Element){var s=F.attributes;t=[F.nodeName.toLowerCase()];for(var h={},w=0;s&&w<s.length;w++){var I=s[w],B=I.name,W=I.specified,G=I.value;W&&!Bc(F,B)&&(B==="style"&&F instanceof HTMLElement?h.style=Kn(F.style.cssText||G):typeof G=="string"&&(h[B]=G))}return t.push(h),Hi(F,t),t}else if(F instanceof Text)return String(i)}},Qr=function(F,t,a){if(t.length===0)return F;for(var i=F,s=!a,h=0;h<t.length&&i!==void 0;h++)i=i[t[h]],!s&&a&&Array.isArray(i)&&i.length>0&&i[1][et]===a&&(s=!0);return s?i:void 0},yo=function at(F,t){if(!Array.isArray(F)||F.length<1)return null;for(var a=1;a<F.length;a++)if(a===1){var i=F[a];if((0,U.Z)(i)==="object"&&t&&t(i))return{path:[],name:F[0],attributes:i,children:F.slice(a+1)}}else if(Array.isArray(F[a])){var s=at(F[a],t);if(s)return s.path.unshift(a),s}return null},ko=function(F,t){var a=yo(F,function(h){return h["data-card-key"]?t?t(h):!0:!1});if(a){var i=a.attributes,s=a.children;return{attributes:i,rendered:Array.isArray(s)&&Array.isArray(s[2])&&Array.isArray(s[2][2])}}},Da=function(){function at(F,t){var a=this;(0,p.Z)(this,at),this.editor=void 0,this.base=void 0,this.toRange=function(){return a.base},this.collapse=function(i){return a.base.collapse(i),a},this.cloneRange=function(){return at.from(a.editor,a.base.cloneRange())},this.select=function(i,s){return s?a.base.selectNodeContents(eo(i)?i[0]:i):a.base.selectNode(eo(i)?i[0]:i),a},this.getText=function(){var i=a.cloneContents();return i.textContent},this.getClientRect=function(){var i=a.getClientRects().item(0);return i||(i=a.getBoundingClientRect()),i},this.enlargeFromTextNode=function(){var i=function(h,w,I){var B;if(h.nodeType===Node.TEXT_NODE){if(w===0)switch(I){case"start":a.setStartBefore(h);break;case"end":a.setEndBefore(h);break}else if(w===((B=h.nodeValue)===null||B===void 0?void 0:B.length))switch(I){case"start":a.setStartAfter(h);break;case"end":a.setEndAfter(h);break}}};return i(a.startContainer,a.startOffset,"start"),i(a.endContainer,a.endOffset,"end"),a},this.shrinkToTextNode=function(){var i=function(h,w,I){if(h.nodeType===Node.ELEMENT_NODE){var B=h.childNodes;if(B.length!==0){var W,G,H;if(w>0&&(W=B[w-1]),w<B.length&&(G=B[w]),W&&W.nodeType===Node.TEXT_NODE){var he;H=W,w=((he=H.nodeValue)===null||he===void 0?void 0:he.length)||0}if(G&&G.nodeType===Node.TEXT_NODE&&(H=G,w=0),!!H)switch(I){case"start":a.setStart(H,w);break;case"end":a.setEnd(H,w);break}}}};return i(a.startContainer,a.startOffset,"start"),i(a.endContainer,a.endOffset,"end"),a},this.enlargeToElementNode=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=a.enlargeFromTextNode(),w=a.editor.node,I=function(W,G,H){var he,ge=nn(W);if(!(ge.type===Node.TEXT_NODE||!i&&w.isBlock(ge)||ge.isEditable())){var Oe;if(G===0){for(;!ge.prev()&&(Oe=ge.parent(),!(!Oe||!i&&w.isBlock(Oe)||!Oe.inEditor()||Oe.isEditable()||!s&&(!i&&Oe.isElement()||i&&w.isBlock(Oe))));)ge=Oe;H?h.setStartBefore(ge[0]):h.setEndBefore(ge[0])}else if(G===((he=ge.get())===null||he===void 0?void 0:he.childNodes.length)){for(;!ge.next()&&(Oe=ge.parent(),!(!Oe||!i&&w.isBlock(Oe)||!Oe.inEditor()||Oe.isEditable()||!s&&(!i&&Oe.isElement()||i&&w.isBlock(Oe))));)ge=Oe;H?h.setStartAfter(ge[0]):h.setEndAfter(ge[0])}}};return I(h.startContainer,h.startOffset,!0),I(h.endContainer,h.endOffset,!1),a},this.shrinkToElementNode=function(){for(var i=a.editor.node,s,h;a.startContainer.nodeType===Node.ELEMENT_NODE&&(s=a.startContainer.childNodes[a.startOffset])&&(h=nn(s))&&s.nodeType===Node.ELEMENT_NODE&&!h.isCursor()&&!i.isVoid(s)&&(!h.isCard()||h.isEditableCard()||h.find(me).length>0);)a.setStart(s,0);for(;a.endContainer.nodeType===Node.ELEMENT_NODE&&a.endOffset>0&&(s=a.endContainer.childNodes[a.endOffset-1])&&(h=nn(s))&&s.nodeType===Node.ELEMENT_NODE&&!i.isVoid(s)&&!h.isCursor()&&(!h.isCard()||h.isEditableCard()||h.find(nt).length>0);)a.setEnd(s,s.childNodes.length);return a},this.createSelection=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=new Pc(a.editor,a,i);return s.create(),s},this.getSubRanges=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=[];return a.commonAncestorNode.traverse(function(w){if(w.isText()){var I,B=0,W=w.get(),G=((I=W.nodeValue)===null||I===void 0?void 0:I.length)||0,H=a.comparePoint(W,B),he=a.comparePoint(W,G),ge=at.create(a.editor);if(H<0){if(he<0)return;he===0?ge.setOffset(W,a.startOffset,G):ge.setOffset(W,a.startOffset,a.endOffset)}else{if(H!==0||he<0)return;he===0?ge.setOffset(W,B,G):ge.setOffset(W,B,a.endOffset)}h.push(ge)}else if(i&&w.isCard()&&!w.isEditableCard()){var Oe,rt=a.editor.card.find(w);if(!rt||s&&rt.constructor.singleSelectable===!1)return;var bt=rt.getCenter(),Ct=bt.get(),Dt=(Oe=Ct==null?void 0:Ct.parentElement)!==null&&Oe!==void 0?Oe:Ct==null?void 0:Ct.parentNode;if(!Dt||!bt.inEditor())return;var Ot=bt.index(),Bt=w.get(),Nt=a.comparePoint(Dt,Ot),In=a.comparePoint(Dt,Ot+1),en=at.create(a.editor);if(Nt<0){if(In<0)return;In===0?en.setOffset(Bt,a.startOffset,Ot+1):en.setOffset(Bt,a.startOffset,a.endOffset)}else{if(Nt!==0||In<0)return;In===0?en.setOffset(Dt,Ot,Ot+1):en.setOffset(Dt,Ot,a.endOffset)}h.push(en)}}),h.length===0&&h.push(a),h},this.setOffset=function(i,s,h){return eo(i)&&(i=i[0]),a.setStart(i,s),a.setEnd(i,h),a},this.findElements=function(){var i=a.startContainer,s=a.endContainer,h=a.startOffset,w=a.endOffset,I=a.collapsed,B=[];if(i!==s||I===!0||i.nodeType===Node.TEXT_NODE)return B;for(var W=i.childNodes,G=h;G<w;G++)B.push(W[G]);return B},this.inCard=function(){var i=a.startNode.closest(pe);return i&&i.length>0},this.getStartOffsetNode=function(){var i=a.startContainer,s=a.startOffset;return(i.nodeType===Node.ELEMENT_NODE||i.nodeType===Node.DOCUMENT_FRAGMENT_NODE)&&(i.childNodes[s]||i.childNodes[s-1])||i},this.getEndOffsetNode=function(){var i=a.endContainer,s=a.endOffset;return(i.nodeType===Node.ELEMENT_NODE||i.nodeType===Node.DOCUMENT_FRAGMENT_NODE)&&(i.childNodes[s]||i.childNodes[s-1])||i},this.scrollIntoView=function(){var i=a.endNode.get();Gt&&i&&i.scrollIntoView&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},this.scrollRangeIntoView=function(){var i,s=a.getEndOffsetNode(),h=s.nodeType===Node.TEXT_NODE?(i=s.parentElement)!==null&&i!==void 0?i:s.parentNode:s,w=a.collapsed?h.getBoundingClientRect():a.getClientRect(),I=window.innerHeight;(w.bottom>=I||w.bottom<=0)&&h.scrollIntoView({block:"center"})},this.scrollIntoViewIfNeeded=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.editor.container,s=arguments.length>1?arguments[1]:void 0;if(a.collapsed)i.scrollIntoView(nn(a.getEndOffsetNode()));else{var h=a.getStartOffsetNode(),w=a.getEndOffsetNode();nn(h).scrollIntoView(s),nn(w).scrollIntoView(s)}},this.containsCard=function(){var i=a.collapsed,s=a.commonAncestorNode;return!i&&(s.type!==3&&s.find(pe).length>0||s.closest(pe).length>0)},this.handleBr=function(i){var s,h=a.editor,w=h.list,I=h.block.closest(a.commonAncestorNode);I.find("br").each(function(H){var he,ge=nn(H),Oe=ge.prev(),rt=ge.next(),bt=ge.parent();if((!Oe||(bt==null?void 0:bt.hasClass(w.CUSTOMZIE_LI_CLASS))&&(bt==null||(he=bt.first())===null||he===void 0?void 0:he.equal(Oe)))&&rt&&rt.name!=="br"&&!rt.isCursor()||!rt&&Oe&&Oe.name!=="br"){var Ct;if(i&&Oe&&!((bt==null?void 0:bt.hasClass(w.CUSTOMZIE_LI_CLASS))&&(bt==null||(Ct=bt.first())===null||Ct===void 0?void 0:Ct.equal(ge.prev()))))return;ge.remove()}});var B=I.first(),W=I.children();if(!B||W.length===1&&I.hasClass(w.CUSTOMZIE_LI_CLASS)&&(B==null?void 0:B.isCard()))return I.append(nn("<br />")),a;if(W.length===1&&B.isText()&&B.text().replace(/\r\n|\n|\t|\u200b/g,"").length===0)return I.html("<br />"),a;if(W.length===2&&I.hasClass(w.CUSTOMZIE_LI_CLASS)&&(B==null?void 0:B.isCard())&&["cursor","anchor","focus"].includes(((s=I.last())===null||s===void 0?void 0:s.attributes(Ve))||"")){var G;(G=I.first())===null||G===void 0||G.after("<br />")}return a},this.getPrevNode=function(){a.enlargeFromTextNode();var i=a.startNode,s=a.startOffset;if(!i.isText()){var h=i.children();if(h.length!==0)return h.eq(s-1)}},this.getNextNode=function(){a.enlargeFromTextNode();var i=a.endNode,s=a.endOffset;if(!i.isText()){var h=i.children();if(h.length!==0)return h.eq(s)}},this.editor=F,this.base=t}return(0,d.Z)(at,[{key:"collapsed",get:function(){return this.base.collapsed}},{key:"endOffset",get:function(){return this.base.endOffset}},{key:"startOffset",get:function(){return this.base.startOffset}},{key:"startContainer",get:function(){return this.base.startContainer}},{key:"endContainer",get:function(){return this.base.endContainer}},{key:"commonAncestorContainer",get:function(){return this.base.commonAncestorContainer}},{key:"cloneContents",value:function(){return this.base.cloneContents()}},{key:"deleteContents",value:function(){return this.base.deleteContents()}},{key:"extractContents",value:function(){return this.base.extractContents()}},{key:"getBoundingClientRect",value:function(){return this.base.getBoundingClientRect()}},{key:"getClientRects",value:function(){return this.base.getClientRects()}},{key:"insertNode",value:function(t){var a,i;eo(t)&&(t=t[0]);var s=this.startNode;if(!nn(t).isCursor()&&((a=s.get())===null||a===void 0?void 0:a.childNodes.length)===1&&((i=s.first())===null||i===void 0?void 0:i.name)==="br"){var h;(h=s.first())===null||h===void 0||h.remove()}else s.name==="br"&&s.remove();(t.nodeType===Node.TEXT_NODE||t.nodeName==="BR")&&s.isEditable()&&this.shrinkToElementNode().shrinkToTextNode(),(t instanceof Element||t instanceof DocumentFragment)&&this.editor.nodeId.generate(t),this.base.insertNode(t)}},{key:"isPointInRange",value:function(t,a){return eo(t)&&(t=t[0]),this.base.isPointInRange(t,a)}},{key:"comparePoint",value:function(t,a){return eo(t)&&(t=t[0]),this.base.comparePoint(t,a)}},{key:"setEnd",value:function(t,a){return eo(t)&&(t=t[0]),this.base.setEnd(t,a)}},{key:"setEndAfter",value:function(t){if(eo(t)&&(t=t[0]),!!t.parentNode)return this.base.setEndAfter(t)}},{key:"setEndBefore",value:function(t){if(eo(t)&&(t=t[0]),!!t.parentNode)return this.base.setEndBefore(t)}},{key:"setStart",value:function(t,a){return eo(t)&&(t=t[0]),this.base.setStart(t,a)}},{key:"setStartAfter",value:function(t){if(eo(t)&&(t=t[0]),!!t.parentNode)return this.base.setStartAfter(t)}},{key:"setStartBefore",value:function(t){if(eo(t)&&(t=t[0]),!!t.parentNode)return this.base.setStartBefore(t)}},{key:"toString",value:function(){return this.base.toString()}},{key:"startNode",get:function(){return nn(this.base.startContainer)}},{key:"endNode",get:function(){return nn(this.base.endContainer)}},{key:"commonAncestorNode",get:function(){return nn(this.base.commonAncestorContainer)}},{key:"deepCut",value:function(){this.collapsed||this.extractContents();var t=this.startNode;if(!t.isEditable()){var a=t;if(a&&!a.isEditable()){for(var i=a.parent();i&&!i.isEditable();)a=i,i=i.parent();this.setEndAfter(a[0]);var s=this.extractContents();this.insertNode(s),this.collapse(!0)}}}},{key:"equal",value:function(t){return this.startContainer===t.startContainer&&this.startOffset===t.startOffset&&this.endContainer===t.endContainer&&this.endOffset===t.endOffset}},{key:"getRootBlock",value:function(){if(this.startNode.isEditable())return this.startNode.children().eq(this.startOffset);for(var t=this.startNode;((a=t)===null||a===void 0?void 0:a.parent())&&!t.parent().isEditable();){var a;t=t.parent()}return t}},{key:"filterPath",value:function(){var t=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=[];return function(s){var h=nn(s);if(a&&s instanceof HTMLElement&&~["left","right","center","body"].indexOf(s.getAttribute("data-element")||"")){var w=t.editor.card.closest(h);return w&&w.length>0&&i.push(w),!0}return a&&h.isCard()&&i.includes(h)?!0:!Ul(h)}}},{key:"toPath",value:function(){var t=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.editor.container,s=this.cloneRange(),h=s.commonAncestorNode;if(!(!h.isRoot()&&!h.inEditor())){s.shrinkToElementNode().shrinkToTextNode();var w=function(B,W){var G,H=B.attributes(et),he=H?0:-1,ge=B.getPath(i,!((G=B.parent())===null||G===void 0)&&G.isRoot()?void 0:t.filterPath(a),function(Oe,rt,bt){if(Oe===-1)return H="",he=-1,[];H||(H=bt.attributes(et),he=rt.length),rt.unshift(Oe)});return he=ge.length-he,ge.push(W),{path:ge,id:H,bi:he}};return{start:w(s.startNode,s.startOffset),end:w(s.endNode,s.endOffset)}}}}]),at}();Da.create=void 0,Da.from=void 0,Da.fromPath=void 0,Da.create=function(at){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,t=arguments.length>2?arguments[2]:void 0,a;return t?a=F.caretRangeFromPoint(t.x,t.y):a=F.createRange(),Da.from(at,a)},Da.from=function(at){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;if(!Fs(F)){var t=Uo(F)?F:F.getSelection();if(t&&t.rangeCount>0)F=t.getRangeAt(0);else return null}return new Da(at,F)},Da.fromPath=function(at,F){var t,a,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:at.container,h=F.start.path.slice(),w=F.end.path.slice(),I=h.pop(),B=w.pop(),W=function(Ct){for(var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at.container.get(),Ot=Dt,Bt=0;Bt<Ct.length;Bt++){var Nt=Ct[Bt];Nt<0&&(Nt=0);for(var In=void 0,en=Ot.firstChild,Fn=0;en;)if(!(en instanceof Element)||!en.getAttribute(Jt)&&en.getAttribute(Ve)!==on||i&&["left","right"].includes(en.getAttribute(qt)||"")){if(Fn===Nt||!en.nextSibling){In=en;break}Fn++,en=en.nextSibling}else en=en.nextSibling;if(!In)break;Ot=In}return Ot},G=function(Ct,Dt,Ot,Bt){if(Ot!==null){var Nt;if(Bt<0&&(Bt=0),Ot.nodeType===Node.ELEMENT_NODE&&Bt>Ot.childNodes.length&&(Bt=Ot.childNodes.length),Ot.nodeType===Node.TEXT_NODE&&Bt>(((Nt=Ot.nodeValue)===null||Nt===void 0?void 0:Nt.length)||0)){var In;Bt=((In=Ot.nodeValue)===null||In===void 0?void 0:In.length)||0}Dt[Ct](Ot,Bt)}},H=F.start.id?(t=s.get())===null||t===void 0?void 0:t.querySelector("[".concat(et,'="').concat(F.start.id,'"]')):s.get(),he=W(F.start.bi>-1&&H instanceof Element?h.slice(F.start.bi):h,H instanceof Element?H:void 0),ge=F.end.id?(a=s.get())===null||a===void 0?void 0:a.querySelector("[".concat(et,'="').concat(F.end.id,'"]')):s,Oe=W(F.end.bi>-1&&ge instanceof Element?w.slice(F.end.bi):w,ge instanceof Element?ge:void 0),rt=Da.create(at,document);return G("setStart",rt,he,I===void 0?0:I),G("setEnd",rt,Oe,B===void 0?0:B),rt};var Uo=function(F){return F.getRangeAt!==void 0},Fs=function(F){return F.collapsed!==void 0},gs=function(F){return!!F&&F.base!==void 0};function Cl(at,F){F===void 0&&(F={});var t=F.insertAt;if(!(!at||typeof document=="undefined")){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=at:i.appendChild(document.createTextNode(at))}}var Tu=`.data-drop-cursor {
	position: absolute;
	width: 2px;
	background-color: #347EFF;
}

div.data-drag-image {
	background-color: #f9f9f9;
}`;Cl(Tu);var Su=function(){function at(F,t){(0,p.Z)(this,at),this.x=0,this.y=0,this.doc=document,this.range=void 0,this.caretRange=void 0,this.targetCard=void 0,this.caretCard=void 0,this.isCardLeftRange=!1,this.engine=void 0,this.options={className:"data-drop-cursor"},this.engine=F,this.options=(0,m.Z)((0,m.Z)({},this.options),t)}return(0,d.Z)(at,[{key:"getRangeForPoint",value:function(){var t=this.doc,a=this.x,i=this.y;if(t.caretRangeFromPoint!==void 0){var s=Da.create(this.engine,t,{x:a,y:i});if(s)return s}if(event&&event.rangeParent!==void 0){var h=Da.create(this.engine,t);return h.setStart(event.rangeParent,event.rangeOffset),h.collapse(!0),h}}},{key:"getCard",value:function(){return this.targetCard||this.caretCard}},{key:"parseEvent",value:function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer&&(t.dataTransfer.dropEffect="move");var a=this.engine.card;this.x=t.clientX,this.y=t.clientY;var i=nn(t.target||[]);this.doc=i.document||document,this.targetCard=a.find(i),this.caretRange=this.getRangeForPoint(),this.caretCard=this.caretRange?a.find(this.caretRange.commonAncestorContainer):void 0}},{key:"getRange",value:function(){var t=this.caretRange,a=this.doc,i=this.x,s=this.getCard(),h;if(s&&s.root.length>0){h=Da.create(this.engine,a);var w=s.root.getBoundingClientRect()||{left:0,right:0},I=w.left,B=w.right,W=(I+B)/2;h.select(s.root.get()),W<i?(h.collapse(!1),this.isCardLeftRange=!1):(h.collapse(!0),this.isCardLeftRange=!0)}return this.range=h||t,this.range}},{key:"getRect",value:function(){var t,a,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2,s=this.isCardLeftRange,h=this.range,w=this.getCard();if(w&&w.root.length>0&&h){if(s){h.setEnd(h.commonAncestorContainer,h.endOffset+1);var I=h.getBoundingClientRect(),B=I.left,W=I.bottom,G=I.top;return h.setEnd(h.commonAncestorContainer,h.endOffset-1),{x:B-i,y:G,height:W-G}}h.setStart(h.commonAncestorContainer,h.startOffset-1);var H=h.getBoundingClientRect(),he=H.right,ge=H.top,Oe=H.bottom;return h.setStart(h.commonAncestorContainer,h.startOffset+1),{x:he-i,y:ge,height:Oe-ge}}var rt=(t=this.range)===null||t===void 0?void 0:t.getBoundingClientRect();if(((a=rt)===null||a===void 0?void 0:a.height)===0){var bt,Ct=(bt=this.range)===null||bt===void 0?void 0:bt.startContainer;rt=Ct.getBoundingClientRect()}var Dt=rt||{},Ot=Dt.left,Bt=Dt.top,Nt=Dt.bottom;return{x:Ot,y:Bt,height:(Nt||0)-(Bt||0)}}},{key:"getCursor",value:function(){var t=this.options.className;return nn("body > div.".concat(t))}},{key:"removeCursor",value:function(){this.getCursor().remove()}},{key:"setCursor",value:function(){this.removeCursor();var t=this.options.className,a=nn('<div class="'.concat(t,'" />'));nn(document.body).append(a)}}]),at}(),ec=function(){function at(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,p.Z)(this,at),this.events={},this.globalEvents={},this.engine=void 0,this.isComposing=void 0,this.isSelecting=void 0,this.dragoverHelper=void 0,this.options=void 0,this.keydownRange=null,this.engine=F,this.isComposing=!1,this.isSelecting=!1,this.dragoverHelper=new Su(F),this.options=t}return(0,d.Z)(at,[{key:"isCardInput",value:function(t){for(var a=t.target?nn(t.target):null;a;){if(a.isEditable())return!1;if(a.attributes(qt)==="center"||a.attributes(Ve)===on)return!0;var i=a.parent();if(!i)break;a=i}return!1}},{key:"onInput",value:function(t){var a=this,i=this.options.bindInput;if(!(i&&!i())){var s=null;this.onContainer("compositionstart",function(I){if(!a.engine.readonly){a.isCardInput(I)||a.engine.ot.startMutationCache();var B=a.engine,W=B.change,G=B.node,H=B.block,he=B.list,ge=W.range.get().cloneRange().shrinkToTextNode().enlargeToElementNode();if(!ge.collapsed){var Oe=H.closest(ge.startNode),rt=H.closest(ge.endNode);if((G.isCustomize(Oe)||G.isCustomize(rt))&&!Oe.equal(rt)){var bt;(bt=he.backspaceEvent)===null||bt===void 0||bt.trigger(new KeyboardEvent(""))}}a.isComposing=!0}});var h=function(B){if(!a.isComposing){if(Mn&&s){var W=s.first(),G=W==null?void 0:W.next();if(G!=null&&G.isText()){var H=G.text();if(/^\u200b/.test(H)){var he=G.get();he==null||he.splitText(1),he==null||he.remove()}}var ge=a.engine.change.range.get(),Oe=ge.startNode,rt=ge.startOffset;if(ge.collapsed&&(Oe==null?void 0:Oe.isText())){var bt=Oe.text(),Ct=bt.substring(rt);/^\u200b/.test(Ct)&&(Oe.text(bt.substring(0,rt)+Ct.substring(1)),ge.setOffset(Oe,rt,rt),a.engine.change.range.select(ge))}s=null}t(B),a.engine.ot.submitMutationCache()}};this.onContainer("compositionend",function(I){a.engine.readonly||(a.isComposing=!1,setTimeout(function(){a.engine.ot.isCache&&h(I)},40))}),this.onContainer("beforeinput",function(I){if(!a.engine.readonly){var B=a.engine,W=B.change,G=B.card,H=B.node,he=B.block,ge=B.list;if(I.data==="@"&&!a.isCardInput(I)){var Oe=a.engine.trigger("keydown:at",I);Oe===!1&&(a.engine.ot.submitMutationCache(),I.preventDefault())}W.rangePathBeforeCommand||W.cacheRangeBeforeCommand();var rt=W.range.get(),bt=rt.cloneRange().shrinkToTextNode().enlargeToElementNode(),Ct=bt.startNode;if(Lt&&I.inputType==="deleteCompositionText"&&Ct.name==="li"&&Ct.length>0&&!H.isCustomize(Ct)){var Dt=Ct[0].childNodes;Dt.length===1&&Dt[0].nodeName!=="BR"&&(Ct.prepend("<br />"),setTimeout(function(){var er=Ct[0].childNodes;er.length===2&&er[0].nodeName==="BR"&&er[1].nodeName==="BR"&&er[0].remove()},0))}if(Mn&&Ct.name==="li"&&bt.startOffset===1&&H.isCustomize(Ct)&&a.isComposing){var Ot=Ct.first(),Bt=Ot==null?void 0:Ot.next(),Nt=function(){var Rr=nn("\u200B",null);Ot==null||Ot.after(Rr),bt.setOffset(Rr,1,1),W.range.select(bt),s=Ct};if(Bt!=null&&Bt.isText()){var In=Bt.text();/^\u200b/.test(In)||Nt()}else(Bt==null?void 0:Bt.name)==="br"&&Bt.remove(),Nt()}if(bt.collapsed||(bt.commonAncestorNode.attributes(qt)==="body"?G.remove(bt.commonAncestorNode):(bt.startNode.attributes(qt)==="body"&&G.remove(bt.startNode),bt.endNode.attributes(qt)==="body"&&G.remove(bt.endNode))),bt.startNode.isRoot()){var en=bt.getStartOffsetNode();if(en instanceof Element&&Vs(en)&&!en.querySelector(Pe)&&G.remove(en),!bt.collapsed&&bt.endNode.isRoot()){var Fn=bt.getEndOffsetNode();Fn instanceof Element&&Vs(Fn)&&!Fn.querySelector(Pe)&&G.remove(Fn)}}if(!bt.collapsed&&!a.isComposing){var rr=he.closest(bt.startNode),Yn=he.closest(bt.endNode);if((H.isCustomize(rr)||H.isCustomize(Yn))&&!rr.equal(Yn)){var ur;(ur=ge.backspaceEvent)===null||ur===void 0||ur.trigger(new KeyboardEvent("")),H.insertText(I.data||"")}}var xr=I.inputType;a.isComposing&&(!xr||!xr.includes("Composition"))&&a.engine.ot.submitMutationCache();var Lr=["format","history"];xr&&Lr.forEach(function(er){if(xr.indexOf(er)===0){I.preventDefault();var Rr=xr.substring(er.length).toLowerCase();a.engine.command.queryEnabled(Rr)&&a.engine.command.execute(Rr)}})}});var w=null;this.onContainer("input",function(I){var B;if(!a.engine.readonly&&!a.isCardInput(I)){a.engine.isEmpty()?a.engine.showPlaceholder():a.engine.hidePlaceholder();var W=a.engine,G=W.change,H=W.card;if(I.target instanceof Element&&dc(I.target)&&H.active&&H.active.root.isBlockCard()&&!H.active.isEditable&&((B=H.active.root.get())===null||B===void 0?void 0:B.isContentEditable)){var he=G.range.get(),ge=nn("<p><br /></p>");H.active.root.before(ge),H.remove(H.active.root),he.select(ge,!0),G.range.select(he);return}w&&clearTimeout(w),w=setTimeout(function(){h(I)},10)}})}}},{key:"onSelect",value:function(t,a,i){var s=this,h=this.options.bindSelect;h&&!h()||(this.onContainer(Gt?"touchstart":"mousedown",function(w){s.isCardInput(w)||(s.isSelecting=!0,a&&a(w))}),this.onDocument(Gt?"touchend":"mouseup",function(w){!s.isSelecting||(s.isSelecting=!1,window.setTimeout(function(){t(w),i&&i(w)},10))}),this.onContainer("keydown",function(){var w=Da.from(s.engine);s.keydownRange=w}),this.onContainer("keyup",function(w){if(!s.engine.readonly&&!s.isCardInput(w)&&((0,O.ZP)("left",w)||(0,O.ZP)("right",w)||(0,O.ZP)("up",w)||(0,O.ZP)("down",w)||w.key==="Meta"||(0,O.ZP)("shift+left",w)||(0,O.ZP)("shift+right",w)||(0,O.ZP)("shift+up",w)||(0,O.ZP)("shift+down",w)||(0,O.ZP)("ctrl+b",w)||(0,O.ZP)("ctrl+f",w)||(0,O.ZP)("ctrl+n",w)||(0,O.ZP)("ctrl+p",w)||(0,O.ZP)("ctrl+a",w)||(0,O.ZP)("ctrl+e",w)||(0,O.ZP)("home",w)||(0,O.ZP)("end",w))){var I=Da.from(s.engine);if(s.keydownRange&&I&&I.equal(s.keydownRange))return;s.isComposing||t(w)}}))}},{key:"onPaste",value:function(t){var a=this,i=this.options.bindPaste;if(!(i&&!i())){var s=!1;this.onContainer("keydown",function(h){a.engine.readonly||((!(0,O.ZP)("mod",h)||!(0,O.ZP)("shift",h)||!(0,O.ZP)("v",h))&&(s=!1),((0,O.ZP)("mod+shift+v",h)||(0,O.ZP)("mod+alt+shift+v",h))&&(s=!0))}),this.onDocument("paste",function(h){var w=a.engine.change.range.get();if(!!a.engine.container.contains(w.commonAncestorNode)&&!a.engine.readonly&&!a.isCardInput(h)){h.preventDefault();var I=a.engine.clipboard.getData(h),B=s;s=!1,t((0,m.Z)((0,m.Z)({},I),{},{isPasteText:B}))}})}}},{key:"onDrop",value:function(t){var a=this,i=this.options.bindDrop;if(!(i&&!i())){var s,h,w,I=function(W){if(!(!W.target||a.engine.readonly)){W.stopPropagation(),a.dragoverHelper.setCursor();var G=nn(W.target),H=G.attributes("drag-card-trigger");if(s=a.engine.card.find(H||G),s){var he,ge;if((he=s.toolbarModel)===null||he===void 0||he.hideCardToolbar(),h=s.find("img.data-drag-image"),h.length>0)h=a.engine.node.clone(h);else{h=nn('<div class="data-drag-image" />');var Oe=s.root.get();Oe&&h.css({width:Oe.clientWidth+"px",height:Oe.clientHeight+"px"})}h.css({position:"absolute",top:"-99999px",right:"-99999px"}),nn(document.body).append(h),(ge=W.dataTransfer)===null||ge===void 0||ge.setDragImage(h[0],0,0)}}};this.onRoot("dragstart",I),this.onContainer("dragstart",I),this.onContainer("dragover",function(B){if(!a.engine.readonly){var W=a.dragoverHelper,G=W.getCursor();if(G.length!==0){W.parseEvent(B),w=W.getRange();var H=W.getRect();G.css({height:H.height+"px",top:Math.round(window.pageYOffset+(H.y||0))+"px",left:Math.round(window.pageXOffset+(H.x||0))+"px"})}else a.dragoverHelper.setCursor()}}),this.onContainer("dragleave",function(){a.dragoverHelper.removeCursor()}),this.onContainer("dragend",function(){a.dragoverHelper.removeCursor(),h&&(h.remove(),h=void 0)}),this.onContainer("drop",function(B){if(!a.engine.readonly){B.preventDefault(),a.dragoverHelper.removeCursor(),h&&(h.remove(),h=void 0);var W=B.dataTransfer,G=[];try{W&&W.items&&W.items.length>0?Array.from(W.items).forEach(function(he){if(he.kind==="file"){var ge=he.getAsFile();ge&&G.push(ge)}}):W&&W.files&&W.files.length>0&&(G=Array.from(W.files))}catch(he){W&&W.files&&W.files.length>0&&(G=Array.from(W.files))}var H={event:B,range:w,card:s,files:G};t(H),s=void 0}})}}},{key:"onDocument",value:function(t,a,i){this.addEvent("document",t,a,i)}},{key:"onWindow",value:function(t,a,i){this.addEvent("window",t,a,i)}},{key:"onContainer",value:function(t,a,i){this.addEvent("container",t,a,i)}},{key:"onRoot",value:function(t,a,i){this.addEvent("root",t,a,i)}},{key:"addEvent",value:function(t,a,i,s){var h=this;if(this.globalEvents[t]||(this.globalEvents[t]=[]),!this.globalEvents[t].find(function(I){return I.type===a})){var w=function(){for(var B=h.events[t].filter(function(he){return he.type===a}),W,G=0;G<B.length;G++){var H;if(W=(H=B[G]).listener.apply(H,arguments),W===!1)break}return W};switch(t){case"container":this.engine.container.on(a,w);break;case"root":this.engine.root.on(a,w);break;case"document":document.addEventListener(a,w);break;case"window":window.addEventListener(a,w);break}this.globalEvents[t].push({type:a,listener:w})}this.events[t]||(this.events[t]=[]),s!==void 0?this.events[t].splice(s,0,{type:a,listener:i}):this.events[t].push({type:a,listener:i})}},{key:"destroy",value:function(){var t=this;Object.keys(this.globalEvents).forEach(function(a){var i=t.globalEvents[a];i.forEach(function(s){a==="window"?window.removeEventListener(s.type,s.listener):a==="document"?document.removeEventListener(s.type,s.listener):a==="container"?t.engine.container.off(s.type,s.listener):a==="root"&&t.engine.root.off(s.type,s.listener)})})}}]),at}(),Ns=function(){function at(F){(0,p.Z)(this,at),this.source=void 0,this.source=F}return(0,d.Z)(at,[{key:"toHTML",value:function(){var t=Zn(this.source);return t=t.replace(/\n/g,"</p><p>").replace(/<p><\/p>/g,"<p><br /></p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),t.indexOf("</p><p>")>=0&&(t="<p>".concat(t,"</p>")),t}}]),at}(),Ks=function(F){var t="";for(var a in F)if(a!=="style"){var i=Zn(F[a]);t+=" ".concat(a,'="').concat(i,'"')}return t.trim()},Zs=function(F){var t="";for(var a in F){a=a.toLowerCase();var i=Zn(F[a]);/^(padding|margin|text-indent)/.test(a)&&Vn(i)===0||(a.endsWith("color")&&(i=(0,De.Z)(i).toHexString()),t+=" ".concat(a,": ").concat(i,";"))}return t.trim()},ns=function(){function at(F,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if((0,p.Z)(this,at),this.root=void 0,this.editor=void 0,this.isNormalize=!0,this.editor=t,this.isNormalize=i,typeof F=="string"){var s;F=F.replace(/<a\s{0,1000}\/>/gi,"<a></a>"),F=F.replace(/<a(\s[^>]+?)\/>/gi,function(I,B){return"<a".concat(B,"></a>")}),F=(s=F)===null||s===void 0?void 0:s.replace(/<img .*>/gi,function(I){return I.replace(/\son[a-zA-Z]{1,20}=/g,"notallow=")}),F=F.replace(/<p(>|\s+[^>]*>)/gi,"<paragraph$1").replace(/<\/p(>|\s+[^>]*>)/gi,"</paragraph$1"),F=oi(F);var h=new DOMParser().parseFromString(F,"text/html"),w=h.body.innerHTML.replace(/<paragraph(>|\s+[^>]*>)/gi,"<p$1").replace(/<\/paragraph(>|\s+[^>]*>)/gi,"</p$1");this.root=nn("<div>".concat(w,"</div>"))}else eo(F)?this.root=F:this.root=nn(F);a&&a(this.root)}return(0,d.Z)(at,[{key:"convert",value:function(t,a,i){for(var s=t.transform(a),h=[],w=this.editor.node,I=null;s;){var B,W=s,G=W.rule;h.push(G);var H=s.node,he=H.name,ge=H.attributes,Oe=H.style;he!=="card"&&delete ge[et],delete ge.id;var rt=nn("<".concat(he," />"));if(w.setAttributes(rt,(0,m.Z)((0,m.Z)({},ge),{},{style:Oe})),(B=rt.get())===null||B===void 0||B.append.apply(B,(0,ne.Z)(a.get().childNodes)),a.isCard())return a.replaceWith(rt),rt;if(s.replace?(a.replaceWith(rt),a=rt):rt.each(function(bt){var Ct=a.get();Ct&&Ct instanceof Element&&Ct.append(bt)}),(!I||I.length===0)&&(I=rt),w.isBlock(rt,i)){s=t.transform(rt,function(bt){return h.indexOf(bt)<0});continue}s=t.transform(a,function(bt){return h.indexOf(bt)<0})}return I}},{key:"normalize",value:function(t,a,i){var s=this,h=this.editor,w=h.node,I=h.inline;if(!this.isNormalize){if(!i)return;var B=t.find(pe);B.each(function(H,he){var ge=B.eq(he);!ge||s.convert(i,ge,a)});var W=t.find("".concat(xi,",").concat(jr,",").concat(ii));W.each(function(H,he){var ge=W.eq(he);!ge||s.convert(i,ge,a)});return}var G=function(he){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"mark",Oe=he.attributes(),rt=cr(Oe.style||"");if(delete Oe.style,!(Object.keys(Oe).length===0&&Object.keys(rt).length===0)){var bt=Object.keys(Oe).length,Ct=Object.keys(rt).length,Dt=he.clone();a.filter(he,Oe,rt,!0),Dt.removeAttributes(et);var Ot=Object.keys(Oe),Bt=0;Ot.forEach(function(Fn){Oe[Fn]&&(Bt++,Dt.removeAttributes(Fn))});var Nt=0,In=Object.keys(rt);if(In.forEach(function(Fn){rt[Fn]&&(Nt++,Dt.css(Fn,""))}),(Bt===bt&&Nt===Ct||Bt===0&&Nt===0)&&a.getType(Dt)===ge){he.before(Dt);var en=he.children();Dt.append(en.length>0?en:ge==="block"?"<br />":nn("\u200B",null)),he.remove(),he=Dt;return}return Dt.attributes("style").trim()===""&&Dt.removeAttributes("style"),Dt}};t.traverse(function(H){if(!(H[0]===t[0]||["style","script","meta"].includes(H.name))){if(H.isElement()){var he=H.isCard();if(i&&(!a.getType(H)||he)){var ge=s.convert(i,H,a);if(ge)return he?!0:ge}if(he)return;if(w.isMark(H,a)){var Oe=function(){var Nt=[],In=a.getRule(H);if(In){var en=function(){var Fn;Nt.push(In),((Fn=H.get())===null||Fn===void 0?void 0:Fn.childNodes.length)===0&&h.mark.repairCursor(H);var rr=G(H);if(!rr)return{v:{v:void 0}};var Yn=a.getType(rr,function(ra){return ra.name===rr.name&&ra.type==="mark"&&Nt.indexOf(ra)<0});if(!Yn&&i){var ur=s.convert(i,rr,a);if(ur&&ur.length>0){var xr=H.children();return ur.append(xr.length>0?xr:nn("\u200B",null)),H.append(rr.length===0?ur:rr.children()),{v:{v:void 0}}}}for(var Lr=H;Yn==="mark";){for(var er=Lr.children(),Rr=rr;;){var Wi=Rr.children();if(Wi.length>0)Rr=Wi;else break}if(Rr.append(er.length>0?er:nn("\u200B",null)),Lr.append(rr),Lr=rr,rr=G(rr),!rr)break;if(Yn=a.getType(rr,function(ra){return ra.name===rr.name&&ra.type==="mark"&&Nt.indexOf(ra)<0}),!Yn){if(i){var ai=s.convert(i,rr,a);if(ai&&ai.length>0){rr=rr.length>0?rr.children():ai,Yn="mark";continue}}break}if(In=a.getRule(rr),!In)break;Nt.push(In)}}();if((0,U.Z)(en)==="object")return en.v}}();if((0,U.Z)(Oe)==="object")return Oe.v}else if(w.isInline(H))return I.flat(H,a)}else if(H.isText()){var rt=H.text();if(/^\n/.test(rt)||/^\s/.test(rt)){var bt=H.get(),Ct=bt.previousSibling,Dt=bt.nextSibling,Ot=Ct?a.getType(Ct):void 0,Bt=Dt?a.getType(Dt):void 0;if(!Ct&&Dt&&(!Bt||Bt==="block")){H.remove();return}!Dt&&Ct&&(!Ot||Ot==="block")&&H.remove()}}}})}},{key:"traverse",value:function(t){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,h=arguments.length>4?arguments[4]:void 0,w=this.editor.node,I=t.first();I;){if(["style","script","meta"].includes(I.name)){I=I.next();continue}if(I.isElement()){var B=I.name,W=I.attributes();if(W[Ve]===on){I=I.next();continue}var G=cr(W.style||"");if(delete W.style,["left","right"].indexOf(W[qt])>=0){I=I.next();continue}var H=!0,he=void 0;if(a&&W[Ve]!==Ft)if(he=a.getType(I),he===void 0){var ge,Oe;H=!1;var rt=I.parent();if(rt&&w.isBlock(rt,a)&&((ge=rt.get())===null||ge===void 0?void 0:ge.childNodes.length)===1&&((Oe=I.get())===null||Oe===void 0?void 0:Oe.childNodes.length)===0){var bt=nn("<br />");I.before(bt),I.remove(),I=bt,B=bt.name,W={},G={},H=!0}}else a.filter(I,W,G);if(W[qt]!=="center"&&s.onOpen&&H){var Ct=s.onOpen(I,B,W,G);if(Ct===!1){I=I.next();continue}}(B!=="card"&&(!W[_i]||W[Ee]==="true")||h)&&this.traverse(I,a,i,s,h),W[qt]!=="center"&&s.onClose&&H&&s.onClose(I,B,W,G)}else if(I.isText()){var Dt=I[0].nodeValue?Zn(I[0].nodeValue):"";Dt===""&&w.isBlock(I.parent(),a||void 0)&&(I.prev()||(Dt=Dt.replace(/^[ \n]+/,"")),I.next()||(Dt=Dt.replace(/[ \n]+$/,"")));var Ot=I.prev(),Bt=I.next();Ot&&w.isBlock(Ot,a||void 0)&&Bt&&w.isBlock(Bt,a||void 0)&&Dt.trim()===""&&(Dt=Dt.trim()),s.onText&&s.onText(I,Dt)}I=I.next()}}},{key:"toValue",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,h=[],w=this.editor,I=w.node,B=this.root.clone(!0);t&&this.normalize(B,t,a),w.trigger("parse:value-before",B),this.traverse(B,t,a,{onOpen:function(H,he,ge,Oe){var rt;if(w.trigger("parse:value",H,ge,Oe,h)===!1)return!1;if(h.push("<"),h.push(he),Object.keys(ge).length>0&&h.push(" "+Ks(ge)),Object.keys(Oe).length>0){var bt=Zs(Oe);bt!==""&&(h.push(' style="'),h.push(bt),h.push('"'))}I.isVoid(he,t||void 0)&&((rt=H.get())===null||rt===void 0?void 0:rt.childNodes.length)===0?h.push(" />"):h.push(">")},onText:function(H,he){i&&he.length>1&&(he=he.replace(/[\u00a0 ]+/g,function(ge){var Oe=[];ge=ge.replace(/\u00a0/g," ");for(var rt=0;rt<ge.length;rt++)Oe[rt]=rt%2==0?ge[rt]:"\xA0";return Oe.join("")})),h.push(he)},onClose:function(H,he){I.isVoid(he,t||void 0)||h.push("</".concat(he,">"))}}),w.trigger("parse:value-after",h),h.length>0&&/^\n+/g.test(h[0])&&(h[0]=h[0].replace(/^\n+/g,"")),h.length>0&&/\n+$/g.test(h[h.length-1])&&(h[h.length-1]=h[h.length-1].replace(/\n+$/g,""));var W=h.join("");return s?oi(W):W}},{key:"toHTML",value:function(t,a){var i=nn("<div />"),s=this.editor,h=s.container.css();return t&&a?(nn(t).append(this.root).css(h),i.append(a)):i.append(this.root),s.trigger("parse:html-before",this.root),s.trigger("parse:html",i),s.trigger("parse:html-after",i),i.html().replace(/\u200b/g,"")}},{key:"toDOM",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,i=this.toValue(t,a,!1,!0),s=new DOMParser().parseFromString(i,"text/html"),h=s.createDocumentFragment(),w=s.body.childNodes;w.length>0;){var I=w[0];h.appendChild(I)}return h}},{key:"toText",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=this.root.clone(!0),h=[],w=this.editor;return this.traverse(s,null,null,{onOpen:function(B,W,G,H){if(w.trigger("parse:text",B,G,H,h)===!1)return!1;if(W==="br"&&h.push(`
`),i&&B.name==="li"){if(B.hasClass(w.list.CUSTOMZIE_LI_CLASS))return;var he=B.parent(),ge=he==null?void 0:he.css("listStyleType");if((he==null?void 0:he.name)==="ol"){var Oe=he[0].start,rt=Oe||1;h.push("".concat(He(ge,rt),". ")),he.attributes("start",rt+1)}else(he==null?void 0:he.name)==="ul"&&h.push(He(ge)+" ")}},onText:function(B,W){W=Un(W),W=W.replace(/\u00a0/g," "),W=W.replace(/\u200b/g,""),h.push(W)},onClose:function(B,W){var G=w.node;if(W==="p"||G.isBlock(B,t||w.schema)){var H=Array.from(B.get().childNodes);if(H.length===0||H.some(function(he){if(he instanceof Text)return!1;if(he.nodeName==="BR")return!0;var ge=(t||w.schema).getType(he);return!ge||ge==="block"}))return;h.push(`
`)}}},a),h.join("").trim()}}]),at}(),gl=function(){function at(F,t){(0,p.Z)(this,at),this.source=void 0,this.engine=void 0,this.schema=void 0,this.source=F,this.engine=t,this.schema=this.engine.schema.clone()}return(0,d.Z)(at,[{key:"parser",value:function(){var t=this,a=this.engine.conversion.clone();this.engine.trigger("paste:schema",this.schema);var i=new ns(this.source,this.engine,function(s){t.engine.trigger("paste:origin",s)});return i.toDOM(this.schema,a)}},{key:"getDefaultStyle",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.engine.container,a={color:(0,De.Z)(t.css("color")).toHexString(),"background-color":(0,De.Z)(t.css("background-color")).toHexString(),"font-size":t.css("font-size")};return a}},{key:"elementNormalize",value:function(t){var a=this,i=this.getDefaultStyle(),s=this.engine,h=s.inline,w=s.list,I=this.engine.node,B=this.engine.mark,W=this.engine.block,G=[];nn(t).traverse(function(H){var he,ge,Oe,rt=H.parent();if(!(!rt||H.isCard()||H.fragment===t)){if(H.isText()){var bt=H.text();if(/\u200b/.test(bt)){var Ct=!0,Dt=H.next(),Ot=H.prev(),Bt=H.parent();(Bt&&I.isMark(Bt,a.schema)||Bt&&I.isInline(Bt,a.schema)||Dt&&I.isInline(Dt,a.schema)||Ot&&I.isInline(Ot,a.schema))&&(Ct=!1),Ct&&(bt=bt.replace(/\u200b/g,""),H.text(bt))}else if(/^\n(\t)+$/.test(bt)){var Nt;H.remove(),((Nt=rt.get())===null||Nt===void 0?void 0:Nt.childNodes.length)===0&&rt.remove();return}else if(/^\n$/.test(bt)){if(I.isList(rt)){H.remove();return}var In=H.next();In&&I.isBlock(In)&&H.remove()}if(I.isList(rt)){var en=H.next(),Fn=H.prev(),rr=function(ba,vo){if(I.isCustomize(ba)){var Wu=ba.first();if(Wu&&Wu.isCard()){var uu=Wu.attributes(_i)||Wu.attributes(Vr);uu&&w.addCardToCustomize(vo,uu)}}},Yn=null;return(en==null?void 0:en.name)==="li"?(Yn=en.clone(),rr(en,Yn)):(Fn==null?void 0:Fn.name)==="li"?(Yn=Fn.clone(),rr(Fn,Yn)):Yn=nn("<li></li>"),H.before(Yn),Yn.append(H),Yn}return}var ur=H.css();for(var xr in i){var Lr=ur[xr];!Lr||(xr.endsWith("color")&&(Lr=(0,De.Z)(Lr).toHexString()),Lr.toLowerCase()===i[xr].toLowerCase()&&H.css(xr,""))}var er=a.schema.getType(H);if(!er){var Rr=H.first();return I.unwrap(H),Rr}I.removeMinusStyle(H,"text-indent"),I.isList(H)&&H.css("padding-left","");var Wi=H.attributes();for(Wi.style&&Wi.style.trim()===""&&H.removeAttributes("style");H.name==="span"&&I.isEmpty(H);){var ai=H.children();if(ai.length>0)break;if(rt=H.parent(),H.remove(),!rt||(H=rt,rt=H.parent(),!rt))return;er=void 0,Wi=void 0}if(Wi||(Wi=H.attributes()),!Wi[Vr]){var ra=er?er==="block":I.isBlock(H,a.schema),ea=I.isVoid(H,a.schema),pa=I.isBlock(rt,a.schema);if(ra&&Wi["data-type"]!=="p"&&!ea&&!pa&&I.html(H)===""){H.remove();return}if(Wi["data-type"]==="p"&&H.removeAttributes("data-type"),ra&&((he=rt)===null||he===void 0?void 0:he.name)==="p"){var ro;I.unwrap(rt),rt=H.parent(),((ro=rt)===null||ro===void 0?void 0:ro.fragment)===t&&(rt=void 0),pa=rt?I.isBlock(rt,a.schema):!1}var io=rt?I.isList(rt):!1;if(H.name==="li"&&rt&&!io){var ka=nn("<ul />");H.before(ka),ka.append(H);return}if(I.isList(H)&&rt&&I.isList(rt)){var To=[],Aa=[],Xi=!0,Zi=rt.children().toArray(),Ui=rt.clone(),va=function(){var ba,vo;return((ba=(vo=Ui.get())===null||vo===void 0?void 0:vo.childNodes.length)!==null&&ba!==void 0?ba:0)>0?(Xi?To.push(Ui):Aa.push(Ui),Ui=rt.clone(),!0):!1};Zi.forEach(function(uo,ba){if(!!uo){if(Xi&&uo.equal(H)){Zi.length-1===ba?(va(),Aa.push(H)):(ba===0||va(),To.push(H)),Xi=!1;return}if(uo.name==="li"){Ui.append(uo);return}else va();Xi?To.push(uo):Aa.push(uo)}}),va();var Pa=rt.attributes(w.INDENT_KEY)||"0";H.attributes(w.INDENT_KEY,Pa),w.addIndent(H,1);var Sa=rt;return To.forEach(function(uo){var ba,vo=nn(uo);!vo||((ba=vo.get())===null||ba===void 0?void 0:ba.childNodes.length)===0||(Sa.after(vo),Sa=vo)}),Aa.forEach(function(uo){var ba,vo=nn(uo);!vo||((ba=vo.get())===null||ba===void 0?void 0:ba.childNodes.length)===0||(Sa.after(vo),Sa=vo)}),rt.remove(),H||void 0}if(H.name!=="li"&&io){if(H.name==="br"){H.remove();return}var xa=nn("<li />");H.before(xa),xa.append(H);return}if(I.isList(H)&&((ge=rt)===null||ge===void 0?void 0:ge.name)==="li"){var Qo,so,Ho,is,ds,ys,qa=(Qo=rt)===null||Qo===void 0?void 0:Qo.parent();if(!qa){I.unwrap(rt);return}var oa=qa.clone(),Qa=qa.clone(),So=!0,qs=qa.children().toArray();qs.forEach(function(uo){if(!!uo){if(So&&uo.equal(rt)){So=!1;return}So?oa.append(uo):Qa.append(uo)}});var Bl=(so=rt)===null||so===void 0||(Ho=so.parent())===null||Ho===void 0?void 0:Ho.hasClass("data-list"),jc=(is=rt)===null||is===void 0?void 0:is.children(),Ic=null,rd=null;jc.each(function(uo,ba){var vo=jc.eq(ba);if(!(!vo||I.isEmptyWithTrim(vo)&&!I.isVoid(vo))){var Wu=I.isList(vo),uu=oa[oa.length-1];if(Wu){var Dl,Vf=((Dl=nn(uu))===null||Dl===void 0?void 0:Dl.attributes(w.INDENT_KEY))||"0";vo.attributes(w.INDENT_KEY,Vf),w.addIndent(vo,1),oa[oa.length]=vo[0],Ic=null;return}else if(I.isBlock(uo,a.schema)){var wu=oa.length;oa[wu]=vo[0],oa[wu+1]=oa.clone()[0],Ic=null;return}if(!Ic){var Rd;Ic=nn(Bl?'<li class="'.concat(w.CUSTOMZIE_LI_CLASS,'" />'):"<li />");var sh=(Rd=nn(uu))===null||Rd===void 0?void 0:Rd.last();sh?sh==null||sh.after(Ic):nn(uu).append(Ic)}Ic.append(uo),rd||(rd=Ic)}}),(ds=rt)===null||ds===void 0||ds.remove();var su=qa;return oa.each(function(uo){var ba,vo=nn(uo);!vo||((ba=vo.get())===null||ba===void 0?void 0:ba.childNodes.length)===0||(su.after(vo),su=vo)}),Qa.each(function(uo){var ba,vo=nn(uo);!vo||((ba=vo.get())===null||ba===void 0?void 0:ba.childNodes.length)===0||(su.after(vo),su=vo)}),qa.remove(),((ys=rd)===null||ys===void 0?void 0:ys.next())||oa.next()||void 0}if(H.name==="p"&&io){var id=nn("<li />");return I.replace(H,id),id}if(ra&&!ea&&I.html(H).trim()===""&&(I.isRootBlock(H,a.schema)||H.name==="li")&&I.html(H,"<br />"),ra&&((Oe=rt)===null||Oe===void 0?void 0:Oe.name)==="li"){var lu,Bu,Ld=(lu=(Bu=H.get())===null||Bu===void 0?void 0:Bu.childNodes)!==null&&lu!==void 0?lu:[];if(H.name==="p"){var xu=H.next();Ld.length===0&&!xu&&H.append("<br />");var Od=H.first();return xu&&xu.name==="p"&&H.append("<br />"),I.unwrap(H),Od}else{var Yl=rt.parent();if(!Yl)return;for(var Vc=Yl.clone(),Fu=Yl.clone(),Kl=rt.prev();Kl;)Vc.prepend(Kl),Kl=rt.prev();for(var Us=rt.next();Us;)Fu.append(Us),Us=rt.next();for(var Oo=rt.clone(),xo=rt.clone(),_s=H.prev();_s;)Oo.prepend(_s),_s=H.prev();for(var Ml=H.next();Ml;)xo.append(Ml),Ml=H.next();Yl.after(H),Oo.first()&&Vc.append(Oo),xo.first()&&Fu.prepend(xo),Vc.first()&&Yl.before(Vc),Fu.first()&&H.after(Fu),Yl.remove();return}}if(!ra&&I.isInline(H)&&!H.isCard()&&!ea){var zf=H.allChildren().some(function(uo){return I.isVoid(uo,a.schema)});I.isEmptyWithTrim(H)&&!zf?H.remove():h.repairCursor(H)}I.removeSide(H);var Is=rt,ad=function uo(ba){if(Is&&!Is.fragment&&I.isBlock(ba,a.schema)&&I.isBlock(Is,a.schema)&&!a.schema.isAllowIn(Is.name,ba.name)){var vo=ba.children();I.unwrap(ba),vo.each(function(Wu,uu){uo(vo.eq(uu))})}};for(ad(H);H.length>0&&Is&&!Is.fragment&&I.isBlock(H,a.schema)&&!I.isBlock(Is,a.schema);){var cu=H.clone();I.unwrap(H),Is.before(cu),cu.append(Is),H=cu,Is=H.parent()}var ul=I.isMark(H,a.schema);if(H.length>0&&ul){var Zu=W.closest(H);if(!Zu.equal(H)){var Eh,od=B.findPlugin(H),Ch=W.findPlugin(Zu);if(od&&(Ch==null||(Eh=Ch.disableMark)===null||Eh===void 0?void 0:Eh.includes(od.name))){var Wf=H.first();return I.unwrap(H),Wf||void 0}}}if(ul){var Th=B.findPlugin(H),Sf=G.concat();if(Sf.pop(),Th){var ah=Sf.find(function(uo){var ba;return((ba=uo.plugin)===null||ba===void 0?void 0:ba.name)===Th.name&&uo.node.length>0&&!uo.node.equal(H)});if(ah){var Nd;((Nd=ah.node.get())===null||Nd===void 0?void 0:Nd.childNodes.length)===1?I.unwrap(ah.node):I.unwrap(H);return}}}if(Is=rt,H.length>0&&Is&&I.isMark(Is,a.schema)&&ul){var Uf,Hf=B.findPlugin(Is),jh=(Uf=G[G.length-1])===null||Uf===void 0?void 0:Uf.plugin;if(Hf&&jh&&jh.mergeLeval>Hf.mergeLeval){var zu=Is.clone(!1),af=Is.children().toArray(),Af=zu.clone(),jf=zu.clone(),of=!0,oh=-1;if(af.forEach(function(uo,ba){if(uo.equal(H)){var vo=H.children();zu.append(vo),H.append(zu),of=!1,oh=ba}else of?Af.append(uo):jf.append(uo)}),oh>0&&Is.before(Af),oh<af.length-1&&Is.after(jf),oh>-1)return Is.before(H),Is.remove(),G.splice(G.length-2,1),H}}}}},void 0,void 0,function(H){if(I.isMark(H)){var he=B.findPlugin(H);H.is_mark=!0,G.push({plugin:he,node:H})}},function(H){H.is_mark&&G.pop()})}},{key:"normalize",value:function(){var t=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=this.engine.node,s=this.parser();this.elementNormalize(s);var h=this.engine.change.range.get(),w=h.commonAncestorNode,I=this.engine.inline.closest(w);if(w.inEditor()&&!I.isCard()&&i.isInline(I,this.schema))return this.removeElementNodes(nn(s)),s;if(w.inEditor()&&w.isText()&&h.startContainer===h.endContainer){var B=w[0].nodeValue,W=B==null?void 0:B.substr(0,h.startOffset),G=B==null?void 0:B.substr(h.endOffset);if(/\[.*?\]\($/.test(W||"")&&/^\)/.test(G||""))return this.removeElementNodes(nn(s)),s}nn(s).traverse(function(Oe){var rt;if(Oe.fragment!==s){var bt=(rt=Oe.get())===null||rt===void 0?void 0:rt.firstChild;if(Oe.length>0&&Oe[0].parentNode&&t.engine.trigger("paste:each",Oe),Oe.isText()){var Ct=Oe.text();if(/^(\r|\n)+$/.test(Ct)){var Dt,Ot=Oe.prev(),Bt=Oe.next();(Ot&&!i.isBlock(Ot)||Bt&&!i.isBlock(Bt)||Ot&&i.isBlock(Ot)&&Bt&&i.isBlock(Bt)||((Dt=Oe.parent())===null||Dt===void 0?void 0:Dt.name)==="p")&&Oe.remove()}var Nt=/((\n)+)/.exec(Ct);if(Nt&&Nt.index>0&&Nt.index<Ct.length-1){var In=Oe.get().splitText(Nt.index),en=In.splitText(Nt[0].length);Oe.after(In),In.after(en),Oe.text()||Oe.remove()}}else Oe.name==="pre"&&Oe.find(oe).length>0&&i.unwrap(Oe);if(Oe.length===0&&bt)return nn(bt)}}),this.engine.trigger("paste:each-after",nn(s));var H=i.normalize(nn(s));H.fragment&&(s=H.fragment),s.normalize();var he=nn(s),ge=he.find("ul,ol");return ge.each(function(Oe,rt){var bt=ge.eq(rt);bt&&i.isList(bt)&&t.engine.list.addStart(bt)}),this.engine.nodeId.generateAll(nn(s),a),s}},{key:"removeElementNodes",value:function(t){var a=this,i=t.allChildren();i.forEach(function(s){s.isElement()&&a.engine.node.unwrap(s)})}}]),at}(),zo;(function(at){at.INLINE="inline",at.BLOCK="block"})(zo||(zo={}));var ml;(function(at){at.CARD_CHANGE="card_change",at.CLICK="click",at.MOUSE_DOWN="mouse_down"})(ml||(ml={}));var Ms;(function(at){at.NONE="none",at.BACKGROUND="background",at.BORDER="border"})(Ms||(Ms={}));var Hl=(0,je.Z)("lastePasteRange"),Cc=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,Object.defineProperty(this,Hl,{writable:!0,value:void 0}),this.prevSelection=null,this.engine=F}return(0,d.Z)(at,[{key:"repairInput",value:function(t,a){var i=a,s=i.commonAncestorNode,h=this.engine.card.find(s),w=this.engine,I=w.node,B=w.mark,W=w.change;if(h&&h.type===zo.INLINE)if(h.isLeftCursor(s)){var G=s.closest(me),H=G.text().replace(/\u200B/g,"");H&&(H=Zn(H),a.setStartBefore(h.root),a.collapse(!0),I.html(G,"&#8203;"),I.insertText(H,a),W.apply(a))}else if(h.isRightCursor(s)){var he=s.closest(nt),ge=he.text().replace(/\u200B/g,"");if(ge){ge=Zn(ge);var Oe=h.root.next(),rt=h.queryMarks?h.queryMarks(!0):[];if(rt.length>0){var bt=rt[rt.length-1];bt.append(ge);for(var Ct=rt.length-2;Ct>=0;Ct--)bt=rt[Ct].append(bt);h.root.after(bt),a.select(bt,!0).collapse(!1)}else Oe&&(Oe.isText()||I.isMark(Oe))?(a.select(Oe,!0).collapse(!0),I.insertText(ge,a)):(a.setEndAfter(h.root),a.collapse(!1),I.insertText(ge,a));I.html(he,"&#8203;"),W.apply(a)}}else W.range.toTrusty(a);var Dt=a.cloneRange().shrinkToTextNode(),Ot=Dt.startNode,Bt=Dt.startOffset,Nt=Ot.parent();if(Ot.isText()&&Nt&&I.isMark(Nt)){var In=Ot.get(),en=Ot.text(),Fn=t.inputType;if(Bt===en.length&&t.data&&Fn&&Fn.indexOf("insert")===0){for(var rr=Nt,Yn=[];rr&&I.isMark(rr);){var ur,xr,Lr=B.findPlugin(rr);Lr&&!Lr.followStyle&&Yn.push(rr),rr=rr.parent();var er=(ur=rr)===null||ur===void 0?void 0:ur.parent();if(((xr=rr)===null||xr===void 0?void 0:xr.next())&&er&&I.isMark(er))break}var Rr=Ot.next();if(Yn.forEach(function(Zi,Ui){if(Nt.equal(Zi)&&Rr){Yn.splice(Ui,1);return}for(var va=Zi.next(),Pa=Zi;!va&&Pa;){var Sa=Pa.parent();if(Sa&&I.isBlock(Sa))break;va=(Sa==null?void 0:Sa.next())||null,Pa=Sa}for(var xa=va;xa&&!xa.isText();){if(I.isMark(xa)&&B.compare(xa,Zi)){Yn.splice(Ui,1);break}xa=xa.first()}}),Yn.length>0){var Wi=In.splitText(en.length-t.data.length);Wi.remove(),I.isEmpty(Nt)&&Nt.remove(),B.unwrap(Yn.map(function(Zi){return Zi.clone()})),I.insertText(en.substr(en.length-t.data.length)),B.merge(),a=W.range.get().cloneRange().shrinkToTextNode(),Ot=a.startNode,Bt=a.startOffset,In=Ot.get(),en=Ot.text()}}else if(t.data&&Bt===t.data.length&&Fn&&Fn.indexOf("insert")===0){for(var ai=Nt,ra=[];ai&&I.isMark(ai);){var ea,pa,ro=B.findPlugin(ai);ro&&!ro.followStyle&&ra.push(ai),ai=ai.parent();var io=(ea=ai)===null||ea===void 0?void 0:ea.parent();if(((pa=ai)===null||pa===void 0?void 0:pa.prev())&&io&&I.isMark(io))break}var ka=Ot.prev();ra.forEach(function(Zi,Ui){if(Nt.equal(Zi)&&ka){ra.splice(Ui,1);return}for(var va=Zi.prev(),Pa=Zi;!va&&Pa;){var Sa=Pa.parent();if(Sa&&I.isBlock(Sa))break;va=(Sa==null?void 0:Sa.prev())||null,Pa=Sa}for(var xa=va;xa&&!xa.isText();){if(I.isMark(xa)&&B.compare(xa,Zi)){ra.splice(Ui,1);break}xa=xa.last()}}),ra.length>0&&(In.splitText(t.data.length),In.remove(),I.isEmpty(Nt)&&Nt.remove(),B.unwrap(ra.map(function(Zi){return Zi.clone()})),I.insertText(t.data===""?"\xA0":t.data),B.merge(),a=W.range.get().cloneRange().shrinkToTextNode(),Ot=a.startNode,Bt=a.startOffset,In=Ot.get(),en=Ot.text())}en.length>0&&/^\u200B$/g.test(en.substr(0,1))&&(In.splitText(1),In.remove())}var To=Ot.prev();if(Ot.isText()&&To&&I.isMark(To)){var Aa=Ot.get(),Xi=Ot.text();Xi.length>0&&/^\u200B$/g.test(Xi.substr(0,1))&&(Aa.splitText(1),Aa.remove())}}},{key:"handleSelectionChange",value:function(){var t,a,i,s,h=this,w=this.engine,I=w.change,B=w.container,W=w.card;if(!I.isComposing()){var G=B.window,H=G==null?void 0:G.getSelection();if(!(((t=this.prevSelection)===null||t===void 0?void 0:t.anchorNode)===(H==null?void 0:H.anchorNode)&&((a=this.prevSelection)===null||a===void 0?void 0:a.anchorOffset)===(H==null?void 0:H.anchorOffset)&&((i=this.prevSelection)===null||i===void 0?void 0:i.focusNode)===(H==null?void 0:H.focusNode)&&((s=this.prevSelection)===null||s===void 0?void 0:s.focusOffset)===(H==null?void 0:H.focusOffset))&&(this.prevSelection=H?{anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}:null,H&&H.anchorNode)){var he=Da.from(this.engine,H);if(!he.commonAncestorNode.inEditor(B))return;I.onSelect();var ge=he.containsCard()||he.commonAncestorNode.closest(pe).length>0&&he.startNode.closest("".concat(me,",").concat(nt,",").concat(bn)).length===0,Oe=he.collapsed;if(!Oe){var rt=he.startNode,bt=he.endNode,Ct=he.startOffset,Dt=he.endOffset,Ot=rt.isElement()&&!rt.isCard()?rt.children().eq(Ct):rt,Bt=bt.isElement()&&!bt.isCard()?bt.children().eq(Dt-1):bt;Ot&&Bt&&Ot.isCard()&&Ot.equal(Bt)&&(Oe=!0)}W.each(function(Nt){var In=Nt.getCenter();if(In&&In.length>0){var en=H.containsNode?H.containsNode(In[0]):!1;if(!en&&ge&&H.focusNode){var Fn=h.engine.card.find(H.focusNode);Fn&&(Oe=!H.anchorNode||Fn.root.contains(H.anchorNode),Oe&&Nt.root.equal(Fn.root)&&(en=!0)),en&&Oe&&(ge=!1)}var rr=Nt.constructor.autoSelected;Nt.select(en&&(!Oe||rr!==!1))}})}}}},{key:"init",value:function(){var t=this,a=this.engine,i=a.change,s=a.card,h=a.clipboard;i.event.onInput(function(W){var G=i.range.get();t.repairInput(W,G),i.range.select(G),i.onSelect(G),i.change()}),i.event.onDocument("selectionchange",function(){t.handleSelectionChange()}),i.event.onSelect(function(W){var G=i.range.get();G.startNode.closest(jt).length!==0&&(G.collapsed&&G.containsCard()&&i.range.toTrusty(G),i.range.select(G),!(0,O.P6)("shift+left",W)&&!(0,O.P6)("shift+right",W)&&!(0,O.P6)("shift+up",W)&&!(0,O.P6)("shift+down",W)&&s.activate(G.commonAncestorNode),i.onSelect(G))},function(){i.onSelectStart()},function(){i.onSelectEnd()}),i.event.onDocument("mousedown",function(W){if(!!W.target){var G=nn(W.target);if(G.closest("body").length!==0&&!(G.closest(".am-view").length>0)){for(var H=G;H;){var he=H.attributes(Ve);if(he&&[wt,Ft].indexOf(he)<0)return;H=H.parent()}s.activate(G,ml.MOUSE_DOWN,W)}}}),i.event.onDocument("copy",function(W){var G=i.range.get();!t.engine.container.contains(G.commonAncestorNode)||h.write(W)}),i.event.onDocument("cut",function(W){var G=i.range.get();if(!(!t.engine.container.contains(G.commonAncestorNode)||t.engine.readonly)){var H=h.write(W,void 0);H&&(W.stopPropagation(),h.cut(),i.change())}});var w=function(G){i.cacheRangeBeforeCommand();var H=Yr(t.engine,"zero");H.enable(["paragraph","html_inline","newline"]);var he=H.parse(G,{});if(he.length!==0)return Bi(t.engine,H,he)},I=function(){var W=(0,x.Z)(z().mark(function G(H){var he,ge,Oe;return z().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(ge=w(H),ge!==null){bt.next=3;break}return bt.abrupt("return");case 3:if(Oe=function(){t.engine.history.saveOp(),i.cacheRangeBeforeCommand(),t.paste(ge,(0,we.Z)(t,Hl)[Hl],void 0,!1)},((he=t.engine.options.markdown)===null||he===void 0?void 0:he.mode)==="confirm"){bt.next=7;break}return Oe(),bt.abrupt("return");case 7:t.engine.messageConfirm("markdown",t.engine.language.get("checkMarkdown","title")).then(function(){Oe()}).catch(function(Ct){Ct&&t.engine.messageError("markdown",Ct)});case 8:case"end":return bt.stop()}},G)}));return function(H){return W.apply(this,arguments)}}();i.event.onPaste(function(W){var G=W.html,H=W.text,he=W.files,ge=W.isPasteText,Oe="";if(he.length===0)if(ge){var rt="";H?rt=H:G&&(rt=new ns(G,t.engine).toText()),Oe=new Ns(rt).toHTML()}else G&&G.indexOf('<meta name="source" content="aomao" />')>-1||G?Oe=G:H&&(Oe=new Ns(H).toHTML());if(t.engine.trigger("paste:event",W,Oe)!==!1&&he.length===0){i.cacheRangeBeforeCommand(),t.paste(Oe);var bt=t.engine.options.markdown||{};if(bt.mode!==!1)if(!bt.check&&H&&!/^https?:\/\/\S+$/i.test(H.trim())){if(!H)return;if(!G){setTimeout(function(){I(H)},0);return}var Ct=H.split(/\r\n|\n/)||"",Dt=0,Ot=0,Bt=!1,Nt=new DOMParser().parseFromString(G,"text/html"),In=Nt.querySelectorAll("li"),en=[];In.forEach(function(Yn){var ur,xr,Lr=(ur=Yn.textContent)!==null&&ur!==void 0?ur:"";(((xr=Yn.parentElement)===null||xr===void 0?void 0:xr.nodeName)==="OL"||/\d\.\s+/.test(Lr))&&en.push(Lr)});for(var Fn=0;Fn<Ct.length;Fn++){var rr=Ct[Fn];if(!!rr.trim()){if(rr.startsWith("```")){Bt?Bt=!1:(Bt=!0,Ot++,Dt++);continue}Bt||(Dt++,/^(#|\*|-|\+|\[ \]|\[x\]|>){1,}\s+/.test(rr)?Ot++:/^\d\.\s+/.test(rr)?!en.includes(rr)&&!en.includes(rr.replace(/^\d\./,"").trim())&&Ot++:(/^(---|\*\*\*|\+\+\+)/.test(rr)||/(\*|~|\^|_|\`|\]\(https?:\/\/)/.test(rr))&&Ot++)}}Ot>0&&(Dt===0||Ot/Dt>.5)&&setTimeout(function(){I(H)},0)}else bt.check&&bt.check(H!=null?H:"",G!=null?G:"").then(function(Yn){Yn&&I(Yn)})}});var B=function(G){return!G||s.closest(G.commonAncestorContainer)};i.event.onDrop(function(W){var G=W.event,H=W.range,he=W.card,ge=W.files;if(he){if(G.preventDefault(),B(H))return;var Oe=he.constructor,rt=Oe.cardName,bt=he.getValue();t.engine.card.remove(he.root),i.range.select(H),t.engine.card.insert(rt,bt)}if(ge.length>0){if(G.preventDefault(),B(H))return;i.range.select(H),t.engine.trigger("drop:files",ge)}})}},{key:"paste",value:function(t,a,i){var s=this,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,w=arguments.length>4?arguments[4]:void 0,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,B=this.engine.change,W=new gl(t,this.engine).normalize(I);this.engine.trigger("paste:before",W),w?w(W,a,void 0,h):B.insert(W,a,function(G){var H;s.engine.trigger("paste:insert",G);var he=G.cloneRange(),ge=he.endNode,Oe="";ge.isCard()&&((H=ge.get())===null||H===void 0?void 0:H.childNodes.length)===0&&(he.setEndAfter(ge),Oe=ge.attributes(et)),(0,we.Z)(s,Hl)[Hl]=he,G.collapse(!1);var rt=G.startNode.closest("".concat(pe,",").concat(oe));if(rt.length>0){var bt=rt.attributes();(bt[Zt]||bt[Vr])&&G.setStartAfter(rt)}var Ct=G.createSelection();s.engine.card.render(void 0,function(Dt){if(Ct.move(),Oe){var Ot=s.engine.container.find('[data-id="'.concat(Oe,'"]'));Ot.length>0&&(he.setEndAfter(Ot),(0,we.Z)(s,Hl)[Hl]=he)}G.scrollRangeIntoView(),B.range.select(G),i&&i(Dt),s.engine.trigger("paste:after")})},h)}}]),at}(),Rs=(0,je.Z)("lastBlurRange"),bl=(0,je.Z)("otpions"),eu=function(){function at(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,p.Z)(this,at),this.engine=void 0,Object.defineProperty(this,Rs,{writable:!0,value:void 0}),Object.defineProperty(this,bl,{writable:!0,value:void 0}),this.engine=F,(0,we.Z)(this,bl)[bl]=t}return(0,d.Z)(at,[{key:"setLastBlurRange",value:function(t){t!=null&&t.commonAncestorNode.inEditor()?(0,we.Z)(this,Rs)[Rs]=t:(0,we.Z)(this,Rs)[Rs]=void 0}},{key:"toTrusty",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.get(),a=t.commonAncestorNode;!a.isEditable()&&!a.inEditor()&&t.select(this.engine.container,!0).shrinkToElementNode().collapse(!1);var i=t.cloneRange();if(i.collapse(!0),this.setCardRang(i),(!t.startNode.equal(i.startNode)||t.startOffset!==i.startOffset)&&t.setStart(i.startContainer,i.startOffset),i=t.cloneRange(),i.collapse(!1),this.setCardRang(i),(!t.endNode.equal(i.endNode)||t.endOffset!==i.endOffset)&&t.setEnd(i.endContainer,i.endOffset),t.collapsed){i=t.cloneRange(),i.enlargeFromTextNode();var s=nn(i.startContainer),h=i.startOffset;this.engine.node.isInline(s)&&h===0&&t.setStartBefore(s[0]),this.engine.node.isInline(s)&&h===s[0].childNodes.length&&t.setStartAfter(s[0]),t.collapse(!0)}return t}},{key:"setCardRang",value:function(t){var a=this,i=t.startNode,s=t.startOffset,h=this.engine.card,w=h.find(i);if(w){var I,B=w.getCenter().get();if(B&&(!i.isElement()||((I=i[0].parentElement)!==null&&I!==void 0?I:i[0].parentNode)!==w.root[0]||i.attributes(qt))){var W=function(){var H=Da.create(a.engine);return H.select(B,!0),H.comparePoint(i,s)<0};if(w.type==="inline"){t.select(w.root),t.collapse(W());return}W()?h.focusPrevBlock(w,t,!0):h.focusNextBlock(w,t,!0)}}}},{key:"get",value:function(){var t=this.engine.container,a=t.window,i=Da.from(this.engine,a,!1);return i||(i=Da.create(this.engine,a.document).select(t,!0).shrinkToElementNode().collapse(!1)),i}},{key:"select",value:function(t){var a,i,s,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=this.engine,I=w.container,B=w.inline,W=w.node,G=w.change,H=I.window,he=H==null?void 0:H.getSelection();if(!G.isComposing()){if(t.collapsed){var ge,Oe,rt,bt,Ct=t.startNode,Dt=t.startOffset;if((Ct.isElement()&&Dt===1&&((ge=Ct.get())===null||ge===void 0?void 0:ge.childNodes.length)===1||Dt===2&&((Oe=Ct.get())===null||Oe===void 0?void 0:Oe.childNodes.length)===2&&((rt=Ct.first())===null||rt===void 0?void 0:rt.isCard()))&&((bt=Ct.last())===null||bt===void 0?void 0:bt.name)==="br"&&(t.setStart(Ct,Dt-1),t.collapse(!0)),Ct.isText()){var Ot=Ct.parent();(Ot==null?void 0:Ot.attributes(qt))==="right"&&Dt===0?(t.setStart(Ct,1),t.collapse(!0)):(Ot==null?void 0:Ot.attributes(qt))==="left"&&Dt===1&&(t.setStart(Ct,0),t.collapse(!0))}}var Bt=t.cloneRange().shrinkToTextNode(),Nt=Bt.startNode,In=Bt.endNode,en=Bt.startOffset,Fn=Bt.endOffset,rr=Nt.prev(),Yn=In.next();if(rr&&!rr.isCard()&&!W.isVoid(rr)&&W.isInline(rr)){var ur=Nt.text();/^\u200B/g.test(ur)&&en===0&&(t.setStart(In,en+1),t.collapsed&&t.collapse(!0))}if(Yn&&!Yn.isCard()&&!W.isVoid(Yn)&&W.isInline(Yn)){var xr=In.text();/\u200B$/g.test(xr)&&Fn===xr.length&&(t.setEnd(In,Fn-1),t.collapsed&&t.collapse(!1))}var Lr=B.closest(Nt);if(!Lr.isCard()&&W.isInline(Lr)&&!W.isVoid(Lr)){var er,Rr;if(Nt.isText()&&!Nt.prev()&&((er=Nt.parent())===null||er===void 0?void 0:er.equal(Lr))&&en===0){var Wi=Nt.text();/^\u200B/g.test(Wi)&&(t.setStart(Nt,en+1),t.collapsed&&t.collapse(!0))}if(In.isText()&&!In.next()&&((Rr=In.parent())===null||Rr===void 0?void 0:Rr.equal(Lr))){var ai=In.text();Fn===ai.length&&/\u200B$/g.test(ai)&&(t.setEnd(In,Fn-1),t.collapsed&&t.collapse(!1))}}if(Nt=t.startNode,In=t.endNode,Nt.isText()||In.isText()){var ra=t.cloneRange().enlargeFromTextNode();Nt=ra.startNode,In=ra.endNode}var ea=Nt.children();W.isCustomize(Nt)&&en===0&&t.setStart(Nt,1),W.isCustomize(In)&&Fn===0&&t.setEnd(In,1);var pa=this.engine.ot.isStopped();if(Nt.name==="p"&&!pa){if(ea.length===0)Nt.append("<br />");else if(!Tt&&ea.length>1&&ea[ea.length-2].nodeName!=="BR"&&ea[ea.length-1].nodeName==="BR"){var ro=Nt.last();ro==null||ro.remove()}}!t.collapsed&&!pa&&In.name==="p"&&((a=In.get())===null||a===void 0?void 0:a.childNodes.length)===0&&In.append("<br />");var io=Nt.children();if(W.isList(Nt)&&!pa&&(io.length===0||io[0].nodeName==="BR")){var ka=nn("<p><br /></p>");this.engine.nodeId.create(ka),Nt.before(ka),Nt.remove(),Nt=ka}if(Nt.name==="li"&&!pa){var To;if(W.isCustomize(Nt)&&!(!((To=Nt.first())===null||To===void 0)&&To.isCard())){var Aa,Xi,Zi=(Aa=Nt.parent())===null||Aa===void 0?void 0:Aa.children().toArray().find(function(Ho){var is;return(is=Ho.first())===null||is===void 0?void 0:is.isCard()}),Ui=Zi==null||(Xi=Zi.first())===null||Xi===void 0?void 0:Xi.attributes(_i);Ui?this.engine.list.addCardToCustomize(Nt,Ui):this.engine.list.unwrapCustomize(Nt)}if(ea.length===0)Nt.append("<br />");else if(!W.isCustomize(Nt)&&ea.length>1&&ea[ea.length-2].nodeName!=="BR"&&ea[ea.length-1].nodeName==="BR"){var va;(va=Nt.last())===null||va===void 0||va.remove()}else if(W.isCustomize(Nt)&&ea.length===1)Nt.append("<br />");else if(W.isCustomize(Nt)&&ea.length>2&&ea[ea.length-2].nodeName!=="BR"&&ea[ea.length-1].nodeName==="BR"){var Pa;(Pa=Nt.last())===null||Pa===void 0||Pa.remove()}}if(!t.collapsed&&In.name==="li"&&!pa){var Sa=In.children();if(Sa.length===0)In.append("<br />");else if(!W.isCustomize(In)&&Sa.length>1&&Sa[Sa.length-2].nodeName!=="BR"&&Sa[Sa.length-1].nodeName==="BR"){var xa;(xa=Nt.last())===null||xa===void 0||xa.remove()}else if(W.isCustomize(In)&&Sa.length===1)In.append("<br />");else if(W.isCustomize(In)&&Sa.length>2&&Sa[Sa.length-2].nodeName!=="BR"&&Sa[Sa.length-1].nodeName==="BR"){var Qo;(Qo=Nt.last())===null||Qo===void 0||Qo.remove()}}Nt.isEditable()&&!pa&&((i=Nt.get())===null||i===void 0?void 0:i.childNodes.length)===0&&!this.engine.ot.isStopped&&Nt.html("<p><br /></p>"),he&&(t.collapsed||he.rangeCount>0&&!t.equal(he.getRangeAt(0)))&&((s=t.startNode.get())===null||s===void 0?void 0:s.isConnected)&&(he.removeAllRanges(),he.addRange(t.toRange()));var so=(0,we.Z)(this,bl)[bl].onSelect;so&&h&&so(t)}}},{key:"focus",value:function(t){var a,i=this,s=(0,we.Z)(this,Rs)[Rs]||this.get();t!==void 0&&s.select(this.engine.container,!0).shrinkToElementNode().collapse(t),this.select(s);var h=s.commonAncestorNode.closest(Mt);if(h==null||(a=h.get())===null||a===void 0||a.focus(),h.length>0&&!this.engine.container.equal(h)){var w,I=new MouseEvent("mousedown");(w=this.engine.container.get())===null||w===void 0||w.dispatchEvent(I),setTimeout(function(){var B,W=new MouseEvent("mouseup");(B=i.engine.container.get())===null||B===void 0||B.dispatchEvent(W)},0)}}},{key:"blur",value:function(){var t,a,i=this.get();(t=i.commonAncestorNode.closest(Mt).get())===null||t===void 0||t.blur(),(a=this.engine.container.get())===null||a===void 0||a.blur(),this.engine.trigger("blur")}}]),at}(),tu=new WeakMap,Rl=new WeakMap,po=function(){function at(F){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,p.Z)(this,at),this.engine=void 0,this.options=void 0,this.event=void 0,this.valueCached=null,this.onChange=void 0,this.onRealtimeChange=void 0,this.onSelect=void 0,this.onSelectStart=void 0,this.onSelectEnd=void 0,this.onSetValue=void 0,this.rangePathBeforeCommand=void 0,this.marks=[],this.blocks=[],this.inlines=[],this.changeTrigger=[],this.range=void 0,this.nativeEvent=void 0,this.options=a,this.engine=F,this.event=new ec(F,{}),this.onChange=this.options.onChange||function(){},this.onRealtimeChange=this.options.onRealtimeChange||function(){};var i=null;this.onSelect=function(s){var h,w,I,B,W=F.mark,G=F.block,H=F.inline;s=s||t.range.get(),t.marks=W.findMarks(s),t.blocks=G.findBlocks(s),t.inlines=H.findInlines(s),!(((h=i)===null||h===void 0?void 0:h.startContainer)===s.startContainer&&((w=i)===null||w===void 0?void 0:w.startOffset)===s.startOffset&&((I=i)===null||I===void 0?void 0:I.endContainer)===s.endContainer&&((B=i)===null||B===void 0?void 0:B.endOffset)===s.endOffset)&&(i={startContainer:s.startContainer,startOffset:s.startOffset,endContainer:s.endContainer,endOffset:s.endOffset},Rl.get(t.engine)||(Rl.set(t.engine,!0),Promise.resolve().then(function(){Rl.set(t.engine,!1),t.options.onSelect&&t.options.onSelect()})))},this.onSelectStart=function(){t.options.onSelectStart&&t.options.onSelectStart()},this.onSelectEnd=function(){t.options.onSelectEnd&&t.options.onSelectEnd()},this.onSetValue=this.options.onSetValue||function(){},this.range=new eu(F,{onSelect:function(h){t.onSelect(h)}}),this.nativeEvent=new Cc(F)}return(0,d.Z)(at,[{key:"init",value:function(){this.nativeEvent.init()}},{key:"_change",value:function(){if(!this.isComposing()){this.engine.card.gc();var t=this.changeTrigger.length===2?"both":this.changeTrigger[0]==="remote"?"remote":"local";this.onChange(t),this.changeTrigger=[]}}},{key:"change",value:function(t,a){var i=this,s=t?"remote":"local",h=void 0;if(t)a==null||a.forEach(function(he){if(h=he.closest(Mt),h&&h.length>0){var ge=i.engine.card.find(h,!0);ge!=null&&ge.onChange&&(ge==null||ge.onChange(s,h))}});else{var w=this.range.get(),I=w.startNode;if(I.inEditor())h=I.closest(Mt);else{var B=I.closest(bn),W=B.attributes(ht);if(W){var G;h=(G=this.engine.card.find(W))===null||G===void 0?void 0:G.root.closest(Mt)}}if(h&&h.length>0){var H=this.engine.card.find(h,!0);H!=null&&H.onChange&&(H==null||H.onChange(s,h))}else a==null||a.forEach(function(he){if(h=he.closest(Mt),h&&h.length>0){var ge=i.engine.card.find(h,!0);ge!=null&&ge.onChange&&(ge==null||ge.onChange(s,h))}})}this.onRealtimeChange(s),this.changeTrigger.indexOf(s)<0&&this.changeTrigger.push(s),tu.get(this.engine)||(tu.set(this.engine,!0),Promise.resolve().then(function(){tu.set(i.engine,!1),i._change()}))}},{key:"isComposing",value:function(){return this.event.isComposing}},{key:"isSelecting",value:function(){return this.event.isSelecting}},{key:"initValue",value:function(t){var a,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.engine.container,w=h.html(),I="<p><br /></p>";if(!(w===I||(((a=h.get())===null||a===void 0?void 0:a.childNodes.length)||0)>0)){var B=w||I,W=nn(B);((i=W.get())===null||i===void 0?void 0:i.childNodes.length)===0&&W.html("<br />"),h.empty().append(W);var G=t||this.range.get();!t&&s&&(G.select(W,!0).collapse(!1),this.apply(G))}}},{key:"setValue",value:function(t,a,i){var s=this.range.get(),h=this.engine,w=h.schema,I=h.conversion,B=h.container,W=h.history,G=h.mark,H=h.card;if(t==="")this.engine.container.html(t),this.initValue(void 0,!1),i&&i(0);else{var he=new ns(t,this.engine,function(Ct){G.removeEmptyMarks(Ct),Ct.allChildren("editable").forEach(function(Dt){a&&a(Dt)})},!1);B.html(he.toValue(w,I,!1,!0)),H.render(void 0,function(Ct){i&&i(Ct)});var ge=B.find(xi),Oe=new Pc(this.engine,s);ge.length>0&&(Oe.anchor=ge,Oe.focus=ge);var rt=B.find(jr),bt=B.find(ii);rt.length>0&&bt.length>0&&(Oe.anchor=rt,Oe.focus=bt),Oe.anchor&&Oe.focus&&(Oe.move(),this.range.select(s),this.onSelect()),this.onSetValue(),W.clear()}this.change()}},{key:"setHtml",value:function(t,a){var i=this,s=this.engine,h=s.card,w=s.container;this.nativeEvent.paste(t,void 0,a,!0,function(I,B,W,G){w.empty().append(I),h.render(void 0,function(H){i.initValue(void 0,!1),i.engine.trigger("paste:after"),a&&a(H)}),i.change()},!1)}},{key:"setMarkdown",value:function(t,a){var i=this,s=Yr(this.engine,"zero");s.enable(["paragraph","html_inline","newline"]);var h=s.parse(t,{});if(h.length!==0){var w=Bi(this.engine,s,h);w||(w=t);var I=this.engine,B=I.card,W=I.container;this.nativeEvent.paste(w,void 0,a,!0,function(G,H,he,ge){W.empty().append(G),B.render(void 0,function(Oe){i.initValue(void 0,!1),i.engine.trigger("paste:after"),a&&a(Oe)}),i.change()})}}},{key:"getOriginValue",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.engine.container,a=this.engine,i=a.schema,s=a.conversion;return new ns(t.clone(!0),this.engine,void 0,!1).toValue(i,s)}},{key:"getValue",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a;if(t.ignoreCursor||this.isComposing())a=this.getOriginValue();else{var i,s=this.range.get(),h;if(!s.inCard()){var w=s.toPath(!0);if(!w)return this.getOriginValue();s=Da.fromPath(this.engine,w,!0),h=s.createSelection()}a=this.getOriginValue(),(i=h)===null||i===void 0||i.move()}return a}},{key:"cacheRangeBeforeCommand",value:function(){this.rangePathBeforeCommand=this.range.get().toPath()}},{key:"getRangePathBeforeCommand",value:function(){var t=this.rangePathBeforeCommand;return this.rangePathBeforeCommand=void 0,t}},{key:"isEmpty",value:function(){var t=this.engine,a=t.container,i=t.node,s=t.schema,h=s.getAllowInTags(),w=a.children();return w.length===0||w.length===1&&i.isEmpty(a)&&!a.allChildren().some(function(I){return h.includes(I.name)})}},{key:"combinText",value:function(){Pn(this.engine.container)}},{key:"apply",value:function(t){this.combinText();var a=this.engine,i=a.inline,s=a.mark,h=a.nodeId;if(t){var w=t.createSelection("change-apply");i.findInlines(t).forEach(function(I){return i.repairCursor(I)}),s.findMarks(t).forEach(function(I){return s.repairCursor(I)}),w.move(),t.shrinkToTextNode(),this.range.select(t)}this.change(),h.generateAll(this.engine.container)}},{key:"insert",value:function(t,a){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,w=this.engine,I=w.block,B=w.list,W=w.schema,G=w.mark,H=w.inline,he=this.engine.node;a=a||this.range.toTrusty();var ge=I.closest(a.startNode),Oe=I.closest(a.endNode),rt=Oe[0]===ge[0],bt=I.isLastOffset(a,"end"),Ct=W.getCanMergeTags(),Dt=W.getAllowInTags(),Ot=ge.closest(Ct.join(",")),Bt=a.collapsed,Nt=t.childNodes,In=nn(t.firstChild||[]),en=function(){var oa,Qa=nn(t),So=Qa.first(),qs=a.cloneRange().shrinkToElementNode().shrinkToTextNode(),Bl=qs.startNode;if(Bl.inEditor()&&So&&So.name==="p"&&!(So.length===1&&((oa=So.first())===null||oa===void 0?void 0:oa.name)==="br")){if(Bl.name==="p"&&he.isEmptyWidthChild(Bl)){var jc=So.css();Bl.css(jc)}he.unwrap(So)}};if(!Bt)this.delete(a,rt||!bt,h),he.isEmptyWidthChild(a.startNode)&&a.shrinkToElementNode().shrinkToTextNode(),en();else if(en(),a.startNode.isText()){var Fn=H.closest(a.startNode),rr=a.startNode.text();Fn.length===0&&!Fn.equal(a.startNode)&&/^\u200B/.test(rr)&&a.startNode.text(rr.substr(1))}var Yn=void 0,ur=function(oa){Yn&&Yn.node[0].isConnected&&(oa.shrinkToElementNode().setStart(Yn.node,Yn.offset),oa.enlargeToElementNode()),I.merge(oa),B.merge(void 0,oa),G.merge(oa),H.flat(oa),s&&s(oa),i.apply(oa)};if(he.isList(a.startNode)||a.startNode.closest("li").length>0){var xr=a.startNode.children();Yn={node:a.startNode,offset:xr.length===1&&xr[0].nodeName==="BR"?0:a.startOffset},B.insert(t,a),ur(a);return}if(!In[0]){ur(a);return}if(!he.isBlock(In)){if(a.shrinkToElementNode(),Nt.length>0){var Lr=a.startNode.children();Yn={node:a.startNode,offset:Lr.length===1&&Lr[0].nodeName==="BR"?0:a.startOffset}}var er=In.next(),Rr=In,Wi=he.insert(In,a);for(Wi&&(a=Wi);er&&!he.isBlock(er);){a.startContainer.nodeType===Node.TEXT_NODE&&a.enlargeToElementNode().collapse(!1);var ai=er.next();Rr.after(er),Rr=er,er=ai}if(Rr!==In&&a.select(Rr,!0).collapse(!1),Nt.length===0){ur(a);return}}var ra=a.cloneRange().enlargeToElementNode(!0).collapse(!1),ea=ra.startContainer.childNodes[a.startOffset===0?0:a.startOffset-1],pa=ra.startContainer.childNodes[a.startOffset];if(Nt.length!==0){var ro=nn(Nt[Nt.length-1]);if(ro.name==="br"&&(ro.remove(),ro=nn(Nt[Nt.length-1])),!Yn){var io=a.startNode.children();Yn={node:a.startNode,offset:io.length===1&&io[0].nodeName==="BR"?0:a.startOffset}}for(var ka=nn(Nt[0]),To=null,Aa=[];ka&&ka.length>0;){var Xi,Zi;he.removeSide(ka);var Ui=ka.next();if(Ui||(ro=ka),To?To.after(ka):(he.isInline(a.startNode)&&(a.setStartAfter(a.startNode),a.collapse(!0)),he.insert(ka,a,!0),he.isInline(ka)&&(a.setEndAfter(ka),a.collapse(!1))),!((Xi=ka.get())===null||Xi===void 0)&&Xi.isConnected&&Aa.push(ka),!he.isBlock(ka)&&!(Ui!=null&&Ui.isText())?(To&&a.select(ka,!0).collapse(!1),To=null):To=ka,!Ui&&((Zi=ka.get())===null||Zi===void 0?void 0:Zi.isConnected)&&!he.isInline(ka)&&a.select(ka,!0).collapse(!1),Yn&&!Yn.node[0].isConnected){var va=ka.parent();va&&(Yn={node:va,offset:ka.index()})}ka=Ui}Ot[0]&&Aa.forEach(function(qa){Ct.indexOf(qa.name)<0&&qa.closest(Ot.name).length===0&&he.wrap(qa,he.clone(Ot,!1,!1))})}var Pa=function(oa){var Qa=oa.first();if(!Qa||!he.isBlock(Qa))return oa;for(;Dt.indexOf(Qa?Qa.name:"")>-1;)Qa=Qa.first();return Qa},Sa=function(oa){var Qa=oa.last();if(!Qa||!he.isBlock(Qa))return oa;for(;Dt.indexOf(Qa?Qa.name:"")>-1;)Qa=Qa.last();return Qa},xa=function(oa,Qa){if(!(oa.isCard()||In.isCard())){var So=Qa.parent(),qs=oa.parent(),Bl=So&&!So.isEditable()&&qs&&!qs.isEditable()&&So.name===qs.name;return Qa.name==="p"&&Bl||oa.name===Qa.name&&Bl&&!(oa.name==="li"&&!B.isSame(oa.parent(),Qa.parent()))}},Qo=function(oa){for(;!oa.isEditable();){var Qa=oa.parent();if(oa.remove(),!Qa||!he.isEmpty(Qa))break;oa=Qa}},so=function(oa,Qa){if(oa.name===Qa.name&&oa.name==="p"){var So=Qa.attributes();So[et]&&delete So[et],oa.attributes(So)}he.isEmptyWidthChild(oa)&&!he.isEmptyWidthChild(Qa)&&(oa.get().innerHTML=""),he.isCustomize(oa)===he.isCustomize(Qa)&&B.unwrapCustomize(Qa)};if(ea){var Ho=Pa(nn(ea.nextSibling||[])),is=Sa(nn(ea));is.name==="p"&&Ho.name!==is.name&&xa(is,Ho)&&(so(is,Ho),he.merge(is,Ho,!1),Qo(Ho))}if(pa){var ds=Sa(nn(pa.previousSibling||[])),ys=Pa(nn(pa));ds&&xa(ds,ys)&&(he.merge(ds,ys,!1),Qo(ys))}ur(a)}},{key:"paste",value:function(t,a,i){this.nativeEvent.paste(t,a,i,!0)}},{key:"delete",value:function(t,a){var i,s,h,w,I,B,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,G=t||this.range.toTrusty();if(G.collapsed){this.isEmpty()&&this.initValue(G),t||this.apply(G);return}var H=this.engine,he=H.mark,ge=H.inline,Oe=H.card,rt=this.engine.node,bt=this.engine.block,Ct=G.cloneRange();Ct.collapse(!0);var Dt=W?he.findMarks(Ct):[];G.enlargeToElementNode();var Ot=bt.closest(G.cloneRange().shrinkToElementNode().shrinkToTextNode().enlargeToElementNode().startNode);if(!Ot.inEditor()&&!Ot.isRoot()){this.isEmpty()&&this.initValue(G),t||this.apply(G);return}if(Ot.isRoot()){for(var Bt=Ot.children().eq(G.startOffset);!((Nt=Bt)===null||Nt===void 0)&&Nt.isCard();){var Nt,In=Bt.equal(G.endNode)||Bt.contains(G.endNode),en=Bt.next()||void 0,Fn=Oe.find(Bt);if(Fn?Oe.removeNode(Fn):Bt.remove(),In){Bt=void 0;break}Bt=en}if(!Bt){this.isEmpty()&&this.initValue(G),t||this.apply(G);return}Ot=Bt}var rr=G.endNode,Yn=G.endOffset,ur=!bt.closest(G.startNode).equal(bt.closest(rr)),xr=ge.closest(rr);if(xr.length>0&&((i=rr.parent())===null||i===void 0?void 0:i.equal(xr))&&rr.isText()){var Lr=rr.text();Yn===Lr.length-1&&G.setEndAfter(xr)}var er=G.cloneRange().shrinkToElementNode().shrinkToTextNode().getEndOffsetNode();G.extractContents();var Rr=G.startNode;if(Rr.isEditable()&&((s=Rr.get())===null||s===void 0?void 0:s.childNodes.length)===0&&(Rr.html("<p><br /></p>"),this.engine.nodeId.generate(Rr)),Rr=G.shrinkToElementNode().shrinkToTextNode().enlargeToElementNode().startNode,Rr.isCard()&&Rr.find(Pe).length===0&&Oe.remove(Rr),G.collapse(!0),Rr=G.shrinkToElementNode().shrinkToTextNode().enlargeToElementNode().startNode,Ot.isElement()&&!Ot.equal(Rr)&&Ot.get().childNodes.length===0&&Ot.remove(),Rr.isText()||!Ot.inEditor()){this.isEmpty()&&this.initValue(G),t||this.apply(G);return}var Wi=!1;if(ur&&((h=Rr.get())===null||h===void 0?void 0:h.childNodes.length)===0){var ai,ra,ea,pa,ro=G.createSelection();Rr.remove(),((ai=ro.anchor)===null||ai===void 0||(ra=ai.get())===null||ra===void 0?void 0:ra.isConnected)&&((ea=ro.focus)===null||ea===void 0||(pa=ea.get())===null||pa===void 0?void 0:pa.isConnected)&&ro.move(),Wi=!0,Rr=G.startNode}var io=Ot,ka=er&&er.isConnected?Rr:null,To=((w=Rr.get())===null||w===void 0?void 0:w.childNodes.length)===0;if(!To&&Rr.length>0&&Rr.inEditor()){var Aa,Xi;Rr[0].childNodes.length===1&&((Aa=Rr[0].firstChild)===null||Aa===void 0?void 0:Aa.nodeType)===Node.ELEMENT_NODE&&rt.isCustomize(Rr)&&((Xi=Rr.first())===null||Xi===void 0?void 0:Xi.isCard())&&(To=!0)}if(To&&rt.isBlock(Rr)&&Rr.inEditor()){if(rt.isList(Rr))Rr.remove();else{var Zi=rt.getBatchAppendHTML(Dt,"<br />");Rr.isEditable()&&(Zi="<p>".concat(Zi,"</p>")),Rr.append(nn(Zi));var Ui=Rr.find("br"),va=Ui.parent();va&&rt.isMark(va)&&rt.replace(Ui,nn("\u200B",null)),G.select(Rr,!0)}G.shrinkToElementNode().shrinkToTextNode(),G.collapse(!1),this.isEmpty()&&this.initValue(G),t||this.apply(G);return}var Pa=function Qo(so,Ho,is,ds){var ys=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(rt.isBlock(Ho)&&!rt.isVoid(Ho)&&!Ho.isCard()){so.select(Ho,!0),so.collapse(!1);var qa=so.shrinkToElementNode().shrinkToTextNode().createSelection(),oa=is.parent();for(rt.merge(Ho,is);oa&&rt.isBlock(oa)&&rt.isEmpty(oa);)oa.remove(),oa=oa.parent();qa.move(),so.enlargeToElementNode(!0);var Qa=so.getPrevNode(),So=so.getNextNode(),qs=so.startNode;!Qa&&!So&&rt.isBlock(qs)&&(qs.append(nn(rt.getBatchAppendHTML(ds,"<br />"))),so.select(qs.find("br"),!0),so.collapse(!1)),Qa&&So&&!Qa.isCard()&&!So.isCard()&&ys&&Qo(so,Qa,So,ds)}};if(io&&ka&&ka.length>0&&rt.isBlock(io)&&rt.isBlock(ka)&&!io.equal(ka)&&!(!((I=io.parent())===null||I===void 0)&&I.equal(ka))&&ka.inEditor()&&Pa(G,io,ka,Dt,a),Rr.children().each(function(Qo){var so=nn(Qo);!rt.isVoid(so)&&so.isElement()&&rt.html(so)===""&&so.remove(),rt.isInline(so)&&ge.repairCursor(so)}),rt.isList(Rr)&&rt.isEmpty(Rr)&&Rr.remove(),Ct=G.cloneRange().shrinkToTextNode(),Ct.startNode.isText()&&/^\u200B/g.test(Ct.startNode.text())&&Ct.startOffset===0){var Sa=Ct.startNode.prev();Sa&&this.engine.node.isInline(Sa)&&(G.select(Sa,!0),G.collapse(!1))}if(rt.isBlock(Rr)&&((B=Rr.get())===null||B===void 0?void 0:B.childNodes.length)===0&&Rr.html("<br />"),Wi){var xa;rt.isBlock(io)&&((xa=io.get())===null||xa===void 0?void 0:xa.childNodes.length)===0&&io.html("<br />"),io.inEditor()&&G.select(io,!0).collapse(!1)}this.isEmpty()&&this.initValue(G),t||this.apply(G)}},{key:"unwrap",value:function(t){var a=this.engine.block,i=this.range.get();if(t=t||a.closest(i.startNode),!!t.inEditor()){var s=i.createSelection();this.engine.node.unwrap(t),s.move(),this.range.select(i)}}},{key:"mergeAfterDelete",value:function(t){var a,i,s=this.engine,h=s.block,w=s.card,I=s.list,B=s.mark,W=this.engine.node,G=this.range.get();t=t||h.closest(G.startNode);var H=t.children();if(H.length===0){t.append(nn("<br />")),this.apply(G);return}var he=t.first();if(H.length>1&&(he==null?void 0:he.name)==="br"){he==null||he.remove();return}var ge=t.prev();if(!ge){var Oe=t.parent();(Oe==null?void 0:Oe.inEditor())&&!(Oe!=null&&Oe.isEditable())&&this.unwrap(t);return}if(ge.isCard()){(H.length===1&&(he==null?void 0:he.name)==="br"||W.isEmpty(t))&&t.remove();var rt=w.find(ge);if(rt){w.focus(rt);return}}if(W.isVoid(ge)){ge.remove(),this.apply(G);return}if(W.isRootBlock(ge)&&W.isEmpty(ge)){ge.remove(),this.apply(G);return}if(ge.isText()){var bt=nn("<p />");ge.before(bt),bt.append(ge),ge=bt}if(W.isList(ge)&&(ge=ge.last()),H.length===1&&(he==null?void 0:he.name)==="br")he==null||he.remove();else if(ge&&((a=ge.get())===null||a===void 0?void 0:a.childNodes.length)===1&&((i=ge.first())===null||i===void 0?void 0:i.name)==="br"){var Ct;(Ct=ge.first())===null||Ct===void 0||Ct.remove()}if(!ge||ge.isText())this.unwrap(t);else{var Dt=G.createSelection();W.merge(ge,t),Dt.move(),this.range.select(G),B.merge(),I.merge()}}},{key:"destroy",value:function(){this.event.destroy()}}]),at}(),Bo={adjustX:!0,adjustY:!0},ls=[0,0],el={left:{points:["cr","cl"],overflow:Bo,offset:[-4,0],targetOffset:ls},right:{points:["cl","cr"],overflow:Bo,offset:[4,0],targetOffset:ls},top:{points:["bc","tc"],overflow:Bo,offset:[0,-4],targetOffset:ls},bottom:{points:["tc","bc"],overflow:Bo,offset:[0,4],targetOffset:ls},topLeft:{points:["bl","tl"],overflow:Bo,offset:[0,-4],targetOffset:ls},leftTop:{points:["tr","tl"],overflow:Bo,offset:[-4,0],targetOffset:ls},topRight:{points:["br","tr"],overflow:Bo,offset:[0,-4],targetOffset:ls},rightTop:{points:["tl","tr"],overflow:Bo,offset:[4,0],targetOffset:ls},bottomRight:{points:["tr","br"],overflow:Bo,offset:[0,4],targetOffset:ls},rightBottom:{points:["bl","br"],overflow:Bo,offset:[4,0],targetOffset:ls},bottomLeft:{points:["tl","bl"],overflow:Bo,offset:[0,4],targetOffset:ls},leftBottom:{points:["br","bl"],overflow:Bo,offset:[-4,0],targetOffset:ls}},cs=`.data-tooltip {\r
	font-size: 14px;\r
	font-variant: tabular-nums;\r
	line-height: 1.5;\r
	color: rgba(0, 0, 0, 0.65);\r
	-webkit-box-sizing: border-box;\r
	box-sizing: border-box;\r
	margin: 0;\r
	padding: 0;\r
	list-style: none;\r
	position: absolute;\r
	z-index: 1060;\r
	display: block;\r
	visibility: visible;\r
	max-width: 320px;\r
	word-wrap:break-word;\r
    top: 0;\r
}\r
\r
.data-tooltip-hidden {\r
	opacity: 0;\r
	visibility: hidden;\r
	transition: opacity 0.3s ease-in-out;\r
}\r
\r
.data-tooltip-active {\r
	opacity: 1;\r
	visibility: visible;\r
}\r
\r
.data-tooltip-placement-top,.data-tooltip-placement-topLeft,.data-tooltip-placement-topRight {\r
	padding-bottom: 8px;\r
}\r
\r
.data-tooltip-placement-right,.data-tooltip-placement-rightTop,.data-tooltip-placement-rightBottom {\r
	padding-left: 8px;\r
}\r
\r
.data-tooltip-placement-bottom,.data-tooltip-placement-bottomLeft,.data-tooltip-placement-bottomRight {\r
	padding-top: 8px;\r
}\r
\r
.data-tooltip-placement-left,.data-tooltip-placement-leftTop,.data-tooltip-placement-leftBottom {\r
	padding-right: 8px;\r
}\r
\r
.data-tooltip-inner {\r
	padding: 6px 8px;\r
	color: #fff;\r
	text-align: left;\r
	text-decoration: none;\r
	background-color: rgba(0, 0, 0, 0.75);\r
	border-radius: 4px;\r
	-webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r
	word-wrap: break-word;\r
}\r
\r
.data-tooltip-arrow {\r
	position: absolute;\r
	width: 0;\r
	height: 0;\r
	border-color: transparent;\r
	border-style: solid;\r
}\r
\r
.data-tooltip-placement-top .data-tooltip-arrow,.data-tooltip-placement-topLeft .data-tooltip-arrow,.data-tooltip-placement-topRight .data-tooltip-arrow {\r
	bottom: 3px;\r
	border-width: 5px 5px 0;\r
	border-top-color: rgba(0, 0, 0, 0.75);\r
}\r
\r
.data-tooltip-placement-top .data-tooltip-arrow {\r
	left: 50%;\r
	margin-left: -5px;\r
}\r
\r
.data-tooltip-placement-topLeft .data-tooltip-arrow {\r
	left: 16px;\r
}\r
\r
.data-tooltip-placement-topRight .data-tooltip-arrow {\r
	right: 16px;\r
}\r
\r
.data-tooltip-placement-right .data-tooltip-arrow,.data-tooltip-placement-rightTop .data-tooltip-arrow,.data-tooltip-placement-rightBottom .data-tooltip-arrow {\r
	left: 3px;\r
	border-width: 5px 5px 5px 0;\r
	border-right-color: rgba(0, 0, 0, 0.75);\r
}\r
\r
.data-tooltip-placement-right .data-tooltip-arrow {\r
	top: 50%;\r
	margin-top: -5px;\r
}\r
\r
.data-tooltip-placement-rightTop .data-tooltip-arrow {\r
	top: 8px;\r
}\r
\r
.data-tooltip-placement-rightBottom .data-tooltip-arrow {\r
	bottom: 8px;\r
}\r
\r
.data-tooltip-placement-left .data-tooltip-arrow,.data-tooltip-placement-leftTop .data-tooltip-arrow,.data-tooltip-placement-leftBottom .data-tooltip-arrow {\r
	right: 3px;\r
	border-width: 5px 0 5px 5px;\r
	border-left-color: rgba(0, 0, 0, 0.75);\r
}\r
\r
.data-tooltip-placement-left .data-tooltip-arrow {\r
	top: 50%;\r
	margin-top: -5px;\r
}\r
\r
.data-tooltip-placement-leftTop .data-tooltip-arrow {\r
	top: 8px;\r
}\r
\r
.data-tooltip-placement-leftBottom .data-tooltip-arrow {\r
	bottom: 8px;\r
}\r
\r
.data-tooltip-placement-bottom .data-tooltip-arrow,.data-tooltip-placement-bottomLeft .data-tooltip-arrow,.data-tooltip-placement-bottomRight .data-tooltip-arrow {\r
	top: 3px;\r
	border-width: 0 5px 5px;\r
	border-bottom-color: rgba(0, 0, 0, 0.75);\r
}\r
\r
.data-tooltip-placement-bottom .data-tooltip-arrow {\r
	left: 50%;\r
	margin-left: -5px;\r
}\r
\r
.data-tooltip-placement-bottomLeft .data-tooltip-arrow {\r
	left: 16px;\r
}\r
\r
.data-tooltip-placement-bottomRight .data-tooltip-arrow {\r
	right: 16px;\r
}`;Cl(cs);var fc=function(F){return`
    <div `.concat(Ve,'="tooltip" class="data-tooltip data-tooltip-placement-').concat(F.placement,` data-tooltip-hidden" style="transform-origin: 50% 45px 0px;">
        <div class="data-tooltip-content">
            <div class="data-tooltip-arrow"></div>
            <div class="data-tooltip-inner" data-role="tooltip"></div>
        </div>
    </div>`)},ms=function(){function at(){(0,p.Z)(this,at)}return(0,d.Z)(at,null,[{key:"show",value:function(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{placement:"top"};at.hide();var s=nn(fc(i));typeof a=="string"?s.find("[data-role=tooltip]").html(a):s.find("[data-role=tooltip]").append(a);var h=nn(document.body);h.append(s);var w=(0,fe.ZP)(s.get(),t.get(),(0,m.Z)({},el[i.placement])),I=Object.keys(el).find(function(B){var W=el[B].points;return W[0]===w.points[0]&&W[1]===w.points[1]});I!==i.placement&&s.removeClass("data-tooltip-placement-".concat(i.placement)).addClass("data-tooltip-placement-".concat(I)),s.addClass("data-tooltip-active")}},{key:"hide",value:function(){nn("div[".concat(Ve,"=tooltip]")).remove()}}]),at}(),Gu=function(F){return`
    <span class="data-toolbar-item">
        <a class="data-toolbar-btn"`.concat(F.disabled?' disabled="disabled"':""," ").concat(F.link?' href="'+F.link+'" target="_blank"':"",`>
            `).concat(F.content,`
        </a>
    </span>`)},dd=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.options=F,this.root=nn(Gu(F)),F.style&&this.root.attributes("style",F.style),F.class&&this.root.addClass(F.class)}return(0,d.Z)(at,[{key:"getPlacement",value:function(){var t=this.root.closest(".data-toolbar").attributes("data-placement")||"top";return t.startsWith("top")?"top":"bottom"}},{key:"render",value:function(t){var a=this,i=this.options,s=i.title,h=i.didMount,w=i.onClick,I=i.link;t.append(this.root),s&&(this.root.on("mouseenter",function(){var B=a.getPlacement();ms.show(a.root,typeof s=="function"?s():s,{placement:B})}),this.root.on("mouseleave",function(){ms.hide()}),this.root.on("mousedown",function(){ms.hide()})),!I&&w&&this.root.find("a").on("click",function(B){B.preventDefault(),B.stopPropagation(),w(B,a.root)}),h&&h(this.root)}}]),at}(),Au=function(F){var t=!!F.checked;return F.getState&&(t=F.getState()),`
    <div class="data-toolbar-item data-toolbar-dropdown-item data-toolbar-dropdown-switch">
        <span class="data-toolbar-dropdown-item-content"`.concat(F.disabled?' disabled="disabled"':"",">").concat(F.content,`</span>
        <button type="button"`).concat(F.disabled?' disabled="disabled"':"",' role="switch" aria-checked="true" class="switch-btn ').concat(t?" switch-checked":"",`">
            <div class="switch-handle"></div>
            <span class="switch-inner"></span>
        </button>
    </div>`)},ot=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.switch=void 0,this.options=F}return(0,d.Z)(at,[{key:"renderTo",value:function(t){var a=this;this.root=nn(Au(this.options)),this.switch=this.root.find(".switch-btn"),t.append(this.root),this.root.on("mousedown",function(s){return s.preventDefault()});var i=this.options.onClick;this.root.on("click",function(s){s.stopPropagation(),i&&(i(s,a.root),a.updateSwitch())})}},{key:"updateSwitch",value:function(){if(this.options.getState)if(this.options.getState()){var t;(t=this.switch)===null||t===void 0||t.addClass("switch-checked")}else{var a;(a=this.switch)===null||a===void 0||a.removeClass("switch-checked")}}}]),at}(),rn=function(F){return`
    <div class="data-toolbar-item data-toolbar-dropdown-item data-toolbar-dropdown-btn">
        <span class="data-toolbar-dropdown-item-content"`.concat(F.disabled?' disabled="disabled"':"",`>
            `).concat(F.content,`
        </span>
    </div>`)},pn=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.options=F}return(0,d.Z)(at,[{key:"renderTo",value:function(t){var a=this;this.root=nn(rn(this.options)),t.append(this.root);var i=this.options.onClick;i&&this.root.on("click",function(s){return i(s,a.root)})}}]),at}(),_n=function(F){return`
    <span class="data-toolbar-item data-toolbar-item-dropdown">
        <a class="data-toolbar-btn data-toolbar-dropdown"`.concat(F.disabled?' disabled="disabled"':"",">").concat(F.content,`</a>
        <div class="dropdown-container"></div>
    </span>`)},Jr=function(){function at(F){var t=this;(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.dropdown=void 0,this.documentMouseDown=function(a){var i;!t.root||!t.root[0].contains(a.target)&&((i=t.dropdown)===null||i===void 0?void 0:i.hasClass("show"))&&t.hideDropdown()},this.options=F}return(0,d.Z)(at,[{key:"initToggleEvent",value:function(){var t=this,a=this.root.find(".data-toolbar-dropdown");a.on("mousedown",function(i){i.preventDefault(),i.stopPropagation()}),a.on("click",function(i){i.stopPropagation(),t.toggleDropdown()}),document.addEventListener("mousedown",this.documentMouseDown,!0)}},{key:"toggleDropdown",value:function(){var t;!((t=this.dropdown)===null||t===void 0)&&t.hasClass("show")?this.hideDropdown():this.showDropdown()}},{key:"showDropdown",value:function(){var t;(t=this.dropdown)===null||t===void 0||t.addClass("show")}},{key:"hideDropdown",value:function(){var t;(t=this.dropdown)===null||t===void 0||t.removeClass("show")}},{key:"getPlacement",value:function(){var t=this.root.closest(".data-toolbar").attributes("data-placement")||"top";return t.startsWith("top")?"top":"bottom"}},{key:"renderTooltip",value:function(){var t=this,a=this.options.title;a&&(this.root.on("mouseenter",function(){var i=t.getPlacement();ms.show(t.root,typeof a=="function"?a():a,{placement:i})}),this.root.on("mouseleave",function(){ms.hide()}),this.root.on("mousedown",function(){ms.hide()}))}},{key:"renderDropdown",value:function(){var t=this;this.dropdown=this.root.find(".dropdown-container");var a=this.options.items;a.forEach(function(i){switch(i.type){case"switch":return new ot(i).renderTo(t.dropdown);case"button":return new pn(i).renderTo(t.dropdown)}}),this.dropdown.on("click",function(i){i.stopPropagation(),t.hideDropdown()})}},{key:"render",value:function(t){this.root=nn(_n(this.options)),t.append(this.root),this.initToggleEvent(),this.renderTooltip(),this.renderDropdown();var a=this.options.didMount;a&&a(this.root)}},{key:"destroy",value:function(){document.removeEventListener("mousedown",this.documentMouseDown,!0)}}]),at}(),ui=function(F){return`
    <span class="data-toolbar-item data-toolbar-item-input">
        `.concat(F.prefix?"<span class='data-toolbar-input-prefix'>"+Zn(F.prefix)+"</span>":"",'<input data-role="input" placeholder="').concat(Zn(F.placeholder),'" class="data-toolbar-input" type="input" value="').concat(Zn(F.value.toString()),'" />').concat(F.suffix?"<span class='data-toolbar-input-suffix'>"+Zn(F.suffix)+"</span>":"",`
    </span>`)},fi=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.onEnter=void 0,this.onInput=void 0,this.onChange=void 0,this.options=F,this.root=nn(ui(F)),this.onEnter=F.onEnter||function(){},this.onInput=F.onInput||function(){},this.onChange=F.onChange||function(){}}return(0,d.Z)(at,[{key:"find",value:function(t){var a="[data-role=".concat(t,"]");return this.root.find(a)}},{key:"render",value:function(t){var a=this,i=this.options,s=i.value,h=i.didMount,w=this.find("input"),I=w.get();!I||(I.value=(s!==void 0?s:"").toString(),w.on("keydown",function(B){B.stopPropagation(),(0,O.ZP)("enter",B)&&(B.preventDefault(),I.blur(),a.onEnter(I.value))}),w.on("input",function(){a.onInput(I.value)}),w.on("change",function(){setTimeout(function(){a.onChange(I.value)},10)}),t.append(this.root),h&&h(this.root))}}]),at}(),za=function(F){var t=!!F.checked;return F.getState&&(t=F.getState()),`
    <div class="data-toolbar-switch">
        <span class="switch-content"`.concat(F.disabled?' disabled="disabled"':"",">").concat(F.content,`</span>
        <button type="button" role="switch" aria-checked="true" class="switch-btn `).concat(t?" switch-checked":"",'"').concat(F.disabled?' disabled="disabled"':"",`>
            <div class="switch-handle"></div>
            <span class="switch-inner"></span>
        </button>
    </div>`)},Ua=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.switch=void 0,this.options=F,this.root=nn(za(F)),this.switch=this.root.find(".switch-btn"),F.class&&this.root.addClass(F.class)}return(0,d.Z)(at,[{key:"render",value:function(t){var a=this,i=this.options,s=i.didMount,h=i.onClick;t.append(this.root),this.root.on("mousedown",function(w){return w.preventDefault()}),this.root.on("click",function(w){w.stopPropagation(),h&&(h(w,a.root),a.updateSwitch())}),s&&s(this.root)}},{key:"updateSwitch",value:function(){if(this.options.getState)if(this.options.getState()){var t;(t=this.switch)===null||t===void 0||t.addClass("switch-checked")}else{var a;(a=this.switch)===null||a===void 0||a.removeClass("switch-checked")}}}]),at}(),ma=`.data-toolbar {
	position: absolute;
	opacity: 0;
	visibility: hidden;
	width: auto;
	line-height: 26px;
	display: flex;
	flex-direction: row;
	font-size: 14px;
	font-weight: normal;
	text-indent: 0;
	-webkit-user-select: none;
	-moz-user-select: none;
	     user-select: none;
    z-index: 127;
}

.data-toolbar-active {
	opacity: 1;
	visibility: visible;
}

.data-toolbar-block {
	top: auto;
	bottom: -46px;
	left: -1px;
	right: auto;
	height: 40px;
}

.data-toolbar-btn {
	line-height: 26px;
	min-width: 28px;
	display: inline-block;
	text-align: center;
	color: #595959;
	transition: background-color 0.3s ease-in-out;
	cursor: pointer;
}

.data-toolbar-btn-disabled,.data-toolbar-btn-disabled:hover {
	background-color: transparent;
	box-shadow: none;
	cursor: not-allowed;
}

.data-toolbar-group {
	border: 1px solid rgba(226, 226, 226, 0.84);
    border-radius: 4px;
    box-shadow: 0px 2px 4px 0px rgb(225 225 225 / 50%);
    background: #fff;
    position: relative;
    display: inline-flex;
    padding: 5px;
    align-items: center;
}

.data-toolbar-item {
	position: relative;
	display: inline-block;
	line-height: 26px;
	text-align: left;
	color: #595959;
	flex: 0 0 auto;
    font-size: 12px;
    cursor: pointer;
}

.data-toolbar-item:not(.data-toolbar-item-input):hover, .data-toolbar-item.active:not(.data-toolbar-item-input){
    background-color: #f4f4f4;
    border-radius: 2px;
}

.data-toolbar-item > * {
    font-size: 12px !important;
}

.data-toolbar-item[disabled] {
	opacity: 0.5;
	cursor: not-allowed;
}

.data-toolbar-item-split {
	width: 1px;
	height: 16px;
	line-height: 16px;
	margin: 6px 4px;
	border-left: 1px solid #e8e8e8;
	display: inline-block;
}

.data-toolbar-item-dropdown-active {
	opacity: 1;
	visibility: visible;
	transform: translateY(0px);
}

.data-toolbar-item-input {
	display: flex;
    margin: 0 4px;
}

.data-toolbar-item-input .data-toolbar-input {
    width: 46px;
    line-height: 12px;
    font-size: 12px;
    outline: none;
    border: 1px solid #dadada;
    border-radius: 4px;
}

.data-toolbar-item-input .data-toolbar-input::-moz-selection {
    color: inherit;
    background:transparent
}

.data-toolbar-item-input .data-toolbar-input::selection {
    color: inherit;
    background:transparent
}

.data-toolbar-item-input .data-toolbar-input:focus::-moz-selection
{
    color: #fff;
    background: #1890ff;
}

.data-toolbar-item-input .data-toolbar-input:focus::selection
{
    color: #fff;
    background: #1890ff;
}

.data-toolbar-item-dropdown .dropdown-container {
	display: none;
	position: absolute;
	padding: 8px 0;
	top: 100%;
	margin-top: 6px;
	border-radius: 2px;
	background-color: #fff;
	box-shadow: 0 1px 4px -2px rgba(0, 0, 0, 0.13), 0 2px 8px 0 rgba(0, 0, 0, 0.08), 0 8px 16px 4px rgba(0, 0, 0, 0.04);
    z-index: 99999;
}

.data-toolbar-item-dropdown .dropdown-container.show {
	display: block;
}

.data-toolbar-dropdown-item {
	padding: 2px 16px;
	margin: 0;
	white-space: nowrap;
	line-height: 26px;
	color: #404040;
	cursor: pointer;
    display: block;
}

.data-toolbar-dropdown-item:hover {
	background-color: #f5f5f5;
}

.data-toolbar-dropdown-switch {
	display: flex;
	align-items: center;
}

.data-toolbar-dropdown-switch .data-toolbar-dropdown-item-content {
	flex: 1;
    margin-right: 4px;
}

.data-toolbar-dropdown-switch .switch-btn {
    margin: 0;
    padding: 0;
    color: #595959;
    font-size: 14px;
    font-variant: tabular-nums;
    line-height: 1.5;
    list-style: none;
    -webkit-font-feature-settings: "tnum";
    font-feature-settings: "tnum";
    position: relative;
    display: inline-block;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    vertical-align: middle;
    background-color: rgba(0,0,0,.25);
    border: 0;
    border-radius: 100px;
    cursor: pointer;
    -webkit-transition: all .2s;
    transition: all .2s;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    min-width: 28px;
    height: 16px;
    line-height: 16px;
}

.data-toolbar-dropdown-switch .switch-btn.switch-checked {
    background-color: #347EFF
}

.data-toolbar-dropdown-switch .switch-btn .switch-handle {
    top: 2px;
    left: 2px;
    width: 12px;
    height: 12px;
}

.data-toolbar-dropdown-switch .switch-btn .switch-handle, .data-toolbar-dropdown-switch .switch-btn .switch-handle:before {
    position: absolute;
    -webkit-transition: all .2s ease-in-out;
    transition: all .2s ease-in-out;
}

.data-toolbar-dropdown-switch .switch-btn.switch-checked .switch-handle {
    left: calc(100% - 14px);
}

.data-toolbar-dropdown-switch .switch-btn .switch-handle:before {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: #fff;
    border-radius: 9px;
    -webkit-box-shadow: 0 2px 4px 0 rgb(0 35 11 / 20%);
    box-shadow: 0 2px 4px 0 rgb(0 35 11 / 20%);
    content: "";
}

.data-toolbar-dropdown-switch .switch-btn .switch-inner {
    display: block;
    margin: 0 5px 0 18px;
    font-size: 12px;
    color: #fff;
    -webkit-transition: margin .2s;
    transition: margin .2s;
}

.data-toolbar-dropdown-switch .switch-btn.switch-checked .switch-inner {
    margin: 0 18px 0 5px;
}
.data-toolbar-switch {
	display: flex;
	align-items: center;
    padding: 0 4px;
    cursor: pointer;
    width: -webkit-max-content;
    width: -moz-max-content;
    width: max-content;
}

.data-toolbar-switch:hover {
    background-color: #f4f4f4;
    border-radius: 2px;
}

.data-toolbar-switch .switch-content {
	flex: 1;
    margin-right: 4px;
}

.data-toolbar-switch .switch-btn {
    margin: 0;
    padding: 0;
    color: #595959;
    font-size: 14px;
    font-variant: tabular-nums;
    line-height: 1.5;
    list-style: none;
    -webkit-font-feature-settings: "tnum";
    font-feature-settings: "tnum";
    position: relative;
    display: inline-block;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    vertical-align: middle;
    background-color: rgba(0,0,0,.25);
    border: 0;
    border-radius: 100px;
    cursor: pointer;
    -webkit-transition: all .2s;
    transition: all .2s;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    min-width: 28px;
    height: 16px;
    line-height: 16px;
}

.data-toolbar-switch .switch-btn.switch-checked {
    background-color: #347EFF
}

.data-toolbar-switch .switch-btn .switch-handle {
    top: 2px;
    left: 2px;
    width: 12px;
    height: 12px;
}

.data-toolbar-switch .switch-btn .switch-handle, .data-toolbar-switch .switch-btn .switch-handle:before {
    position: absolute;
    -webkit-transition: all .2s ease-in-out;
    transition: all .2s ease-in-out;
}

.data-toolbar-switch .switch-btn.switch-checked .switch-handle {
    left: calc(100% - 14px);
}

.data-toolbar-switch .switch-btn .switch-handle:before {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: #fff;
    border-radius: 9px;
    -webkit-box-shadow: 0 2px 4px 0 rgb(0 35 11 / 20%);
    box-shadow: 0 2px 4px 0 rgb(0 35 11 / 20%);
    content: "";
}

.data-toolbar-switch .switch-btn .switch-inner {
    display: block;
    margin: 0 5px 0 18px;
    font-size: 12px;
    color: #fff;
    -webkit-transition: margin .2s;
    transition: margin .2s;
}

.data-toolbar-switch .switch-btn.switch-checked .switch-inner {
    margin: 0 18px 0 5px;
}`;Cl(ma);var _o=function(){return"<div ".concat(Ve,'="ui" class="data-toolbar data-toolbar-active" ').concat(Ys,'="false"></div>')},$o=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.items=[],this.options=(0,m.Z)({},F),this.root=nn(_o())}return(0,d.Z)(at,[{key:"getPlacement",value:function(){var t=this.root.attributes("data-placement")||"top";return t.startsWith("top")?"top":"bottom"}},{key:"addItems",value:function(t){var a=this;this.options.items.forEach(function(i){var s;if(i.type==="button"&&(s=new dd(i),s.render(t)),i.type==="switch"&&(s=new Ua(i),s.render(t)),i.type==="input"){var h=i;s=new fi(h),s.render(t)}if(i.type==="dropdown"&&(s=new Jr(i),s.render(t)),i.type==="node"){var w=i,I=w.node;I.addClass("data-toolbar-item");var B=w.title;B&&(I.on("mouseenter",function(){var W=a.getPlacement();ms.show(I,typeof B=="function"?B():B,{placement:W})}),I.on("mouseleave",function(){ms.hide()}),I.on("mousedown",function(){ms.hide()})),t.append(I),i.didMount&&i.didMount(I)}s&&a.items.push(s)})}},{key:"find",value:function(t){var a="[data-role=".concat(t,"]");return this.root.find(a)}},{key:"destroy",value:function(){this.root.remove()}},{key:"hide",value:function(){this.root.removeClass("data-toolbar-active")}},{key:"show",value:function(){this.root.addClass("data-toolbar-active")}},{key:"renderGroup",value:function(){return nn('<div class="data-toolbar-group"></div>')}},{key:"render",value:function(t){var a=this.renderGroup();return this.root.append(a),this.addItems(a),t&&t.append(this.root),this.root.addClass("data-toolbar-block"),this.root}},{key:"update",value:function(t){this.options=t,this.root.empty();var a=this.renderGroup();this.root.append(a),this.addItems(a)}}]),at}(),jl="ot-user-background",Yo="ot-user-cursor",sl="ot-user-cursor-card",Ps="ot-card-mask",Tc="ot-user-cursor-trigger",Sc="ot-user-cursor-trigger-active",yl=new Map,ks=new Map,hc=new Map,Td=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.root=void 0,this.hideCursorInfoTimeoutMap=void 0,this.engine=F,this.root=F.root,this.hideCursorInfoTimeoutMap={}}return(0,d.Z)(at,[{key:"destroy",value:function(){var t=(0,le.Z)(yl),a;try{for(t.s();!(a=t.n()).done;){var i=(0,q.Z)(a.value,2),s=i[0],h=i[1];h.remove(),yl.delete(s)}}catch(bt){t.e(bt)}finally{t.f()}var w=(0,le.Z)(ks),I;try{for(w.s();!(I=w.n()).done;){var B=(0,q.Z)(I.value,2),W=B[0],G=B[1];G.remove(),ks.delete(W)}}catch(bt){w.e(bt)}finally{w.f()}var H=(0,le.Z)(hc),he;try{for(H.s();!(he=H.n()).done;){var ge=(0,q.Z)(he.value,2),Oe=ge[0],rt=ge[1];rt.remove(),hc.delete(Oe)}}catch(bt){H.e(bt)}finally{H.f()}}},{key:"getRectWithRange",value:function(t,a){var i,s=a.getClientRect(),h=(i=t.get())===null||i===void 0?void 0:i.getBoundingClientRect();return new DOMRect(s.left-((h==null?void 0:h.left)||0),s.top-((h==null?void 0:h.top)||0),s.right-s.left,s.bottom-s.top)}},{key:"isWrapByRange",value:function(t){var a=t.cloneRange().collapse(!0).getClientRect(),i=t.cloneRange().collapse(!1).getClientRect();return a.bottom!==i.bottom}},{key:"drawSubRang",value:function(t,a,i,s){for(var h=i.startOffset,w=i.startNode,I=i.endNode,B=i.startOffset,W=i.endOffset,G=i.getClientRect().top,H=h;B<W;){i.setStart(i.commonAncestorContainer,B),i.setEnd(i.commonAncestorContainer,B+1);var he=i.getClientRect();if(he.top>G||B===W-1){i.setStart(i.commonAncestorContainer,H),H=B,G=he.top;var ge=this.getRectWithRange(t,i);a.clearRect(ge),a.drawRect((0,m.Z)((0,m.Z)({},ge.toJSON()),s))}B++}i.setStart(w,h),i.setEnd(I,W)}},{key:"drawBackground",value:function(t,a){var i,s,h,w=this,I=this.engine.card,B=a.uuid,W=a.color,G,H=yl.get(B),he=(i=this.engine.scrollNode)!==null&&i!==void 0?i:this.root,ge=function(){if(H&&H.length>0){H.attributes(Ya,W.toString());var en=H[0].__canvas;return H[0].__clear||(en.clear(),H[0].__clear=!0),en}};if(t.collapsed)return ge(),[t];H&&H.length>0?G=ge():(H=nn('<div class="'.concat(jl,'" ').concat(Ma,'="').concat(B,'" ').concat(Ya,'="').concat(W,'" />')),he.append(H),yl.set(B,H),G=new it({container:H.get()}),H[0].__canvas=G),H.get().style.cssText="position: absolute; top: 0; left: 0; transform: translateX(0) translateY(0); will-change: transform; pointer-events: none;",H[0].__range=t.cloneRange();var Oe=((s=he.get())===null||s===void 0?void 0:s.clientWidth)||he.width(),rt=this.root.height();G.resize(Oe,rt),H[0].__clear=!1;var bt=I.find(t.commonAncestorNode,!0);bt&&!bt.isCenter(t.commonAncestorNode)&&(bt=void 0);var Ct=(0,De.Z)(W);Ct.setAlpha(.3);var Dt=Ct.toRgbString(),Ot={fill:Dt},Bt=t.getSubRanges();if(((h=bt)===null||h===void 0?void 0:h.isEditable)&&bt.drawBackground){var Nt=bt.drawBackground(H,t,G);if(Nt===!1)return[t];if(Nt)if(Array.isArray(Nt))Bt=Nt;else return Nt.x<0&&(G.resize(Oe-Nt.x,rt),H.css("transform","translateX(".concat(Nt.x,"px) translateY(0)")),Nt.x=0),G.clearRect(Nt),G.drawRect((0,m.Z)((0,m.Z)({},Nt.toJSON()),Ot)),[t]}else if(bt)return[t];return Bt.forEach(function(In){if(w.isWrapByRange(In))w.drawSubRang(H,G,In,Ot);else{var en=w.getRectWithRange(H,In);G.clearRect(en),G.drawRect(Object.assign({},en.toJSON(),Ot))}}),Bt}},{key:"getNodeRect",value:function(t,a){var i,s=t.parent();if(t.isCard()&&(s==null?void 0:s.hasClass(this.engine.list.CUSTOMZIE_LI_CLASS))&&(s==null||(i=s.first())===null||i===void 0?void 0:i.equal(t))&&t.next()&&(t=t.next()),t.isElement()&&(a=t.get().getBoundingClientRect()),t.isText()){var h=Da.create(this.engine).cloneRange();h.select(t,!0),a=h.getClientRect()}return a}},{key:"getCursorRect",value:function(t){var a,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,h=((a=this.root.get())===null||a===void 0?void 0:a.getBoundingClientRect())||{top:0,left:0};if(gs(t)){var w=t,I=w.startNode;w.shrinkToElementNode();var B=w.getClientRect();if(I.isElement()&&B.height===0){var W=nn(I[0].childNodes[w.startOffset]);W&&W.length>0?B=this.getNodeRect(W,B):(W=I.first(),W&&W.length>0&&(B=this.getNodeRect(W,B)))}var G=B.top-(h.top||0),H=B.left-(h.left||0)-s,he=B.height;return{top:G+"px",left:H+"px",height:he>0?he+"px":-1,elementHeight:B.height||0}}var ge=t,Oe=Vn(ge.css("outline-width")),rt=((i=ge.get())===null||i===void 0?void 0:i.getBoundingClientRect())||{top:0,left:0,height:0},bt=rt.top-h.top-1,Ct=rt.left-h.left;return Oe&&(bt-=Oe+1,Ct-=2),{left:Ct+"px",top:bt+"px",height:0,elementHeight:rt.height||0}}},{key:"setCursorRect",value:function(t,a,i){var s=a.get();if(!!s)if(i.height!==-1){if(s.style.cssText+="top: 0; left: 0; height: ".concat(i.height,"; transform: translateX(").concat(i.left,") translateY(").concat(i.top,"); will-change: transform, height;"),i.height===0){a.addClass(sl);return}a.removeClass(sl)}else a.remove(),ks.delete(t)}},{key:"showCursorInfo",value:function(t,a){var i=a.uuid,s=a.color;this.hideCursorInfoTimeoutMap[i]&&clearTimeout(this.hideCursorInfoTimeoutMap[i]);var h=t.find(".".concat(Tc)),w=t.css("background-color");t.attributes("data-old-background-color",w),h.addClass("".concat(Sc)),t.css("background-color",s),h.css("background-color",s)}},{key:"hideCursorInfo",value:function(t){var a=t.find(".".concat(Tc)),i=t.attributes("data-old-background-color");a.removeClass("".concat(Sc)),t.css("background-color",i),a.css("background-color",i)}},{key:"drawCursor",value:function(t,a,i){var s=this,h=a.uuid,w=a.name,I=a.color,B=this.getCursorRect(t),W=ks.get(h);if(W&&W.length>0)this.setCursorRect(h,W,B);else{var G=`
            <div class="`.concat(Yo,'" ').concat(Ma,'="').concat(h,`">
                <div class="`).concat(Tc,'">').concat(Zn(w||""),`</div>
            </div>`);W=nn(G),ks.set(h,W);var H=W.find(".".concat(Tc));if(B.elementHeight===0){var he=0,ge=function Ct(){he++,B=s.getCursorRect(t),B.elementHeight<20&&he<=50?setTimeout(function(){Ct()},20):s.setCursorRect(h,W,B)};ge()}else this.setCursorRect(h,W,B);W.on("mouseenter",function(){return s.showCursorInfo(W,a)});var Oe=!0;W.on("transitionstart",function(){Oe=!1}),W.on("transitionend",function(){Oe=!0}),W.on("mouseleave",function(){Oe&&s.hideCursorInfo(W)}),W.css("background-color",I),H.css("background-color",I),this.root.append(W)}if(W&&W[0]){W.css("z-index","");var rt=this.engine.card.components.find(function(Ct){return Ct.isMaximize});if(rt){var bt=this.engine.card.closest(gs(t)?t.startNode:t,!0);(!bt||!rt.root.equal(bt))&&W.css("z-index",120)}return W[0].__target=gs(t)?t.toPath(!0):t,i===!1||(this.showCursorInfo(W,a),this.hideCursorInfoTimeoutMap[h]&&clearTimeout(this.hideCursorInfoTimeoutMap[h]),this.hideCursorInfoTimeoutMap[h]=setTimeout(function(){s.hideCursorInfo(W)},2e3)),W}}},{key:"drawCard",value:function(t,a,i){var s,h,w=this,I=this.engine.language,B=((s=this.root.get())===null||s===void 0?void 0:s.getBoundingClientRect())||{left:0,top:0,width:0,height:0},W=((h=t.get())===null||h===void 0?void 0:h.getBoundingClientRect())||{left:0,top:0,width:0,height:0},G="top: 0; left: 0; transform: translateX(".concat(W.left-B.left,"px) translateY(").concat(W.top-B.top,"px); will-change: transform;"),H=hc.get(i.uuid);if(H&&H.length>0){H[0].__node=t[0],H.get().style.cssText=G;return}if(H=nn('<div class="'.concat(Ps,'" ').concat(Ma,'="').concat(i.uuid,'" />')),hc.set(i.uuid,H),H[0].__node=t[0],W.height===0){var he=0,ge=function Oe(){var rt;he++,W=((rt=t.get())===null||rt===void 0?void 0:rt.getBoundingClientRect())||{left:0,top:0,width:0,height:0},W.height<20&&he<=50?setTimeout(function(){Oe()},20):H&&(H.get().style.cssText=G+"height: ".concat(W.height,"px; width: ").concat(W.width,"px;"))};ge()}else H.get().style.cssText=G+"height: ".concat(W.height,"px; width: ").concat(W.width,"px;");H.on("mouseenter",function(){w.showCursorInfo(a,i),ms.show(H,I.get("card","lockAlert").toString(),{placement:"bottomLeft"})}),H.on("mousemove",function(Oe){var rt=nn("div[".concat(Ve,"=tooltip]"));rt.get().style.cssText="left: 0; top: 0; transform: translateX(".concat(Oe.pageX-16,"px) translateY(").concat(Oe.pageY+32,"px); will-change: transform;")}),H.on("mouseleave",function(){w.hideCursorInfo(a),ms.hide()}),H.on("click",function(Oe){Oe.preventDefault(),Oe.stopPropagation()}),H.on("mousedown",function(Oe){Oe.preventDefault(),Oe.stopPropagation()}),this.root.append(H)}},{key:"setCardSelectedByOther",value:function(t,a){var i=a||{},s=i.uuid,h=i.color;if(h){var w=(0,De.Z)(h);w.setAlpha(.3);var I=w.toRgbString(),B;return t.selectedByOther||(B=t.onSelectByOther(!0,{color:h,rgb:I})),t.selectedByOther=s,B}t.selectedByOther&&t.onSelectByOther(!1),t.selectedByOther=!1}},{key:"setCardActivatedByOther",value:function(t,a){if(!t.isEditable){var i=a||{},s=i.uuid,h=i.color;if(h){var w=(0,De.Z)(h);w.setAlpha(.3);var I=w.toRgbString(),B;return t.activatedByOther||(B=t.onActivateByOther(!0,{color:h,rgb:I})),t.activatedByOther=s,B}t.activatedByOther&&t.onActivateByOther(!1),t.activatedByOther=!1}}},{key:"drawRange",value:function(t,a,i){var s=this,h=this.engine.card,w=a.uuid,I=t,B=I.commonAncestorNode,W=h.find(B);W&&!W.isCenter(B)&&(W=void 0);var G=[];if(h.each(function(en){en.isEditable||(!W||!en.root.equal(W.root))&&(en.activatedByOther===w&&s.setCardActivatedByOther(en),G.push(w))}),G.length>0){for(var H=0;H<G.length;H++){var he=G[H],ge=hc.get(he);ge==null||ge.remove(),hc.delete(he)}ms.hide()}if(W&&!W.isEditable){var Oe,rt=this.setCardActivatedByOther(W,a)||W.root;(Oe=ks.get(w))===null||Oe===void 0||Oe.remove(),ks.delete(w);var bt=W.constructor.collab;if(bt===void 0||bt===!0){var Ct=this.drawCursor(rt,a,i);Ct&&this.drawCard(rt,Ct,a),this.drawBackground(t,a)}}else{if(W){var Dt;this.drawBackground(t,a),(Dt=ks.get(w))===null||Dt===void 0||Dt.remove(),ks.delete(w);return}h.each(function(en){var Fn=en.getCenter();if(Fn&&Fn.length>0){if(en.isEditable&&Fn.contains(t.startNode)&&Fn.contains(t.endNode)&&(t.startNode.closest(Mt).length>0||t.endNode.closest(Mt).length>0)){s.setCardSelectedByOther(en);return}t.isPointInRange(Fn.get(),0)?s.setCardSelectedByOther(en,a):en.selectedByOther===w&&s.setCardSelectedByOther(en)}});var Ot=h.getSingleSelectedCard(t);if(Ot){if(Ot.isEditable){var Bt=Ot.getCenter();if(Bt.contains(t.startNode)&&Bt.contains(t.endNode)&&(t.startNode.closest(Mt).length>0||t.endNode.closest(Mt).length>0))return}var Nt=this.setCardSelectedByOther(Ot,a)||Ot.root;this.drawCursor(Nt,a,i)}else{t.shrinkToElementNode();var In=this.drawBackground(t,a);t.collapsed||(In.forEach(function(en){en.collapsed||(t=en)}),t.shrinkToElementNode(),t.collapse(!1)),this.drawCursor(t,a,i)}}}},{key:"updateBackgroundPosition",value:function(){var t=(0,le.Z)(yl.values()),a;try{for(t.s();!(a=t.n()).done;){var i=a.value,s=i.get();if(!!s){var h=s.__range,w=i.attributes(Ma),I=i.attributes(Ya);this.drawBackground(h,{uuid:w,color:I})}}}catch(B){t.e(B)}finally{t.f()}}},{key:"updateCursorPosition",value:function(){var t=(0,le.Z)(ks),a;try{for(t.s();!(a=t.n()).done;){var i=(0,q.Z)(a.value,2),s=i[0],h=i[1],w=h.get();if(!(!w||!(w instanceof HTMLElement))){var I=w.__target;if(!I){h.remove(),ks.delete(s);return}if(I.name||(I=Da.fromPath(this.engine,I,!0)),I.startContainer||I[0].isConnected){var B=this.getCursorRect(I);this.setCursorRect(s,h,B)}else h.remove(),ks.delete(s)}}}catch(W){t.e(W)}finally{t.f()}}},{key:"updateCardPosition",value:function(){var t,a=((t=this.root.get())===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0},i=(0,le.Z)(hc),s;try{for(i.s();!(s=i.n()).done;){var h=(0,q.Z)(s.value,2),w=h[0],I=h[1],B=I.get();if(!(!B||!(B instanceof HTMLElement))){var W=B.__node;if(W!=null&&W.isConnected){var G=W.getBoundingClientRect();B.style.left=G.left-a.left+"px",B.style.top=G.top-a.top+"px"}else{var H,he;(H=(he=B.parentElement)!==null&&he!==void 0?he:B.parentNode)===null||H===void 0||H.removeChild(B),hc.delete(w)}}}}catch(ge){i.e(ge)}finally{i.f()}}},{key:"updatePosition",value:function(){this.updateBackgroundPosition(),this.updateCursorPosition(),this.updateCardPosition()}},{key:"updateBackgroundAlpha",value:function(t){var a=this.getCursorRect(t),i=(0,le.Z)(ks.values()),s;try{for(i.s();!(s=i.n()).done;){var h=s.value,w=h.get();if(!(!w||!(w instanceof HTMLElement))){var I=w.querySelector(".".concat(Tc)),B=w.style.left,W=w.style.top,G=(0,De.Z)(w.style.backgroundColor);a.left===B&&a.top===W?G.setAlpha(.3):G.setAlpha(1);var H=G.toRgbString();w.style.backgroundColor=H,I&&(I.style.backgroundColor=H)}}}catch(he){i.e(he)}finally{i.f()}}},{key:"render",value:function(t,a,i){var s=t.path,h=t.uuid,w=t.active;if(s){var I=Da.fromPath(this.engine,s,!0);this.drawRange(I,a,w||i)}else this.remove(h)}},{key:"remove",value:function(t){var a,i,s,h=this;(a=(i=(s=this.engine.scrollNode)===null||s===void 0?void 0:s.get())!==null&&i!==void 0?i:this.root.get())===null||a===void 0||a.querySelectorAll("[".concat(Ma,'="').concat(t,'"]')).forEach(function(w){var I,B;if(w.classList.contains(Ps)){var W=w.__node,G=W?h.engine.card.find(W):null;G&&!G.isEditable&&G.activatedByOther===t&&h.setCardActivatedByOther(G)}(I=(B=w.parentElement)!==null&&B!==void 0?B:w.parentNode)===null||I===void 0||I.removeChild(w)}),this.engine.card.each(function(w){w.isEditable||w.selectedByOther!==t||h.setCardSelectedByOther(w)})}}]),at}(),Sd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a){var i;return(0,p.Z)(this,t),i=F.call(this),i.engine=void 0,i.rangeColoring=void 0,i.currentRangePath=void 0,i.data=new Map,i.current=null,i.handleResize=function(){i.rangeColoring.updatePosition()},i.handleScroll=function(s){var h,w=(h=i.engine.container.get())===null||h===void 0?void 0:h.childNodes;if(!!w){var I=(0,le.Z)(i.data),B;try{for(I.s();!(B=I.n()).done;){var W,G,H=(0,q.Z)(B.value,2),he=H[0],ge=H[1];if(he!==((W=i.current)===null||W===void 0?void 0:W.uuid)&&!((G=ge.path)===null||G===void 0)&&G.start.id){var Oe=ge.path.start.path[0],rt=w.item(Oe);if(rt&&s.equal(rt)){i.rangeColoring.updatePosition();break}}}}catch(bt){I.e(bt)}finally{I.f()}}},i.handleMouseDown=function(){var s=i.engine.container;s.off("mouseup",i.handleMouseUp),s.off("mousemove",i.emitSelectChange),s.on("mouseup",i.handleMouseUp),s.on("mousemove",i.emitSelectChange)},i.handleMouseUp=function(){var s=i.engine.container;s.off("mouseup",i.handleMouseUp),s.off("mousemove",i.emitSelectChange),setTimeout(function(){i.emitSelectChange()},10)},i.observer=null,i.emitSelectChange=function(){var s,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!i.engine.change.isComposing()){var w=i.engine.change.range.get();(s=i.observer)===null||s===void 0||s.disconnect();var I=i.engine.card.find(w.commonAncestorContainer,!0);if(I!=null&&I.getSelectionNodes){var B=i.getCardResizeRange(I);B&&(w=B.cloneRange(),i.observer=new ResizeObserver(function(){if(B=i.getCardResizeRange(I),B)i.onSelectionChange(B,!0,h);else{var W;(W=i.observer)===null||W===void 0||W.disconnect()}}),i.observer.observe(I.root.get()))}!w.commonAncestorNode.isRoot()&&!w.commonAncestorNode.inEditor()?i.current&&i.removeAttirbute(i.current.uuid):i.onSelectionChange(w,!0,h,!1)}},i.engine=a,i.rangeColoring=new Td(a),a.container.on("keyup",i.emitSelectChange),a.container.on("mousedown",i.handleMouseDown),a.on("scroll",i.handleScroll,{passive:!0}),window.addEventListener("resize",i.handleResize,{passive:!0}),i}return(0,d.Z)(t,[{key:"getCardResizeRange",value:function(i){if(i!=null&&i.getSelectionNodes){var s=i.getSelectionNodes();if(s.length>0){var h,w=Da.create(this.engine);w.setStart(s[0],0);var I=s[s.length-1];return w.setEnd(I,I.isText()?I.text().length:((h=I.get())===null||h===void 0?void 0:h.childNodes.length)||0),w}}return null}},{key:"setCurrent",value:function(i){this.current=i}},{key:"setAttribute",value:function(i,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,I=this.data.get(i.uuid);if(i.force||!se()(I||{},i)){var B;this.data.set(i.uuid,Object.assign({},i,{active:!I})),i.uuid===((B=this.current)===null||B===void 0?void 0:B.uuid)?(h===!0&&this.rangeColoring.updatePosition(),this.emit("change",i)):this.rangeColoring.render(i,s,w)}}},{key:"removeAttirbute",value:function(i){var s;!this.data.has(i)||(this.data.delete(i),i===((s=this.current)===null||s===void 0?void 0:s.uuid)?this.emit("change",{uuid:i,remove:!0}):this.rangeColoring.remove(i))}},{key:"getAttribute",value:function(i){return this.data.get(i)}},{key:"onSelectionChange",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!!this.current){var I=this.engine.card;i=i.cloneRange();var B=I.active;if(B&&!B.isEditable){var W=B.getCenter();if(Ul(B.root)){var G=B.root.prev();G?i.select(G,!0).collapse(!1):(i.setStartBefore(B.root),i.collapse(!0))}else W&&W.length>0&&i.select(W.get(),!0)}if(!B&&!i.collapsed){var H=this.engine.card.find(i.startNode,!0);H&&H.type===zo.BLOCK&&i.setStart(H.getCenter().parent(),1);var he=this.engine.card.find(i.endNode,!0);he&&he.type===zo.BLOCK&&i.setEnd(he.getCenter().parent(),1)}var ge=i.toPath(!0);this.currentRangePath=i.toPath();var Oe=this.getAttribute(this.current.uuid);this.setAttribute(Object.assign({},Oe,{path:ge,uuid:this.current.uuid,force:s}),this.current,h,w),this.rangeColoring.updateBackgroundAlpha(i)}}},{key:"refreshAttributes",value:function(){for(var i=this,s=arguments.length,h=new Array(s),w=0;w<s;w++)h[w]=arguments[w];h.forEach(function(I){var B=i.getAttribute(I.uuid);B&&i.rangeColoring.render(B,I)})}},{key:"destory",value:function(){var i=this.engine.container;i.off("mouseup",this.handleMouseUp),i.off("mousemove",this.emitSelectChange),i.off("keyup",this.emitSelectChange),i.off("mousedown",this.handleMouseDown),this.engine.off("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)}}]),t}(Je.EventEmitter2),Ad=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a){var i;return(0,p.Z)(this,t),i=F.call(this),i.engine=void 0,i.type=null,i.data=void 0,i.engine=a,i.create(),i}return(0,d.Z)(t,[{key:"create",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.engine?Ca(this.engine.container):[];this.data=i}},{key:"apply",value:function(i,s){if(i.length>0)try{this.data=ae().type.apply(this.data,i),s&&s(void 0)}catch(w){var h;s?s(w):(h=this.engine)===null||h===void 0||h.messageError("ot",w)}}},{key:"submitOp",value:function(i,s,h){this.apply(i,h)}},{key:"destroy",value:function(){delete this.data}}]),t}(Je.EventEmitter2),fd=function(){function at(F){var t=this;(0,p.Z)(this,at),this.engine=void 0,this.getElementFromPath=function(a,i){eo(a)&&(a=a[0]);var s=i[0];if(s===bi.ATTRIBUTE)return{startNode:a,startOffset:s,endNode:a,endOffset:s};var h=s-bi.ELEMENT;if(a instanceof Element&&a.hasAttribute(Zt)){var w=t.engine.card,I=w.find(a);I&&(I.getCenter().empty(),w.renderComponent(I))}var B=[];a.childNodes.forEach(function(H){Ul(H)||B.push(H)});var W=B[h],G=i[1];return i.length===1||G===bi.TAG_NAME||G===bi.ATTRIBUTE||W instanceof Text?{startNode:W,startOffset:h,endNode:a,endOffset:G||0}:t.getElementFromPath(W,i.slice(1))},this.engine=F}return(0,d.Z)(at,[{key:"fromRemoteAttr",value:function(t){var a;if(!!t){var i=t.id,s=t.leftText,h=t.rightText,w=(a=this.engine.container.get())===null||a===void 0?void 0:a.querySelector("[".concat(et,'="').concat(i,'"]'));if(!!w){var I=w.textContent||"";if(I==="")return{container:w,offset:0};if(I!=null&&I.startsWith(s)){for(var B=w.firstChild,W=s.length;B&&(B.nodeType!==3||(((G=B.textContent)===null||G===void 0?void 0:G.length)||0)<W);){var G,H;if((((H=B.textContent)===null||H===void 0?void 0:H.length)||0)<W){var he;W-=((he=B.textContent)===null||he===void 0?void 0:he.length)||0,B=B.nextSibling}else B=B.firstChild}return{container:B,offset:W}}if(I!=null&&I.endsWith(h)){for(var ge,Oe,rt=h.length,bt=w.lastChild;bt&&(bt.nodeType!==3||(((Ct=bt.textContent)===null||Ct===void 0?void 0:Ct.length)||0)<rt);){var Ct,Dt;if(((Dt=bt.textContent)===null||Dt===void 0?void 0:Dt.length)||0<rt){var Ot,Bt;rt-=((Ot=bt)===null||Ot===void 0||(Bt=Ot.textContent)===null||Bt===void 0?void 0:Bt.length)||0,bt=bt.previousSibling}else bt=bt.lastChild}return{container:bt,offset:((ge=bt)===null||ge===void 0||(Oe=ge.textContent)===null||Oe===void 0?void 0:Oe.length)||0-rt}}for(var Nt=0;I[Nt]===s[Nt];)Nt++;for(var In=w.firstChild;In&&(In.nodeType!==3||(((en=In.textContent)===null||en===void 0?void 0:en.length)||0)<Nt);){var en,Fn;if(((Fn=In.textContent)===null||Fn===void 0?void 0:Fn.length)||0<Nt){var rr;Nt-=((rr=In.textContent)===null||rr===void 0?void 0:rr.length)||0,In=In.nextSibling}else In=In.firstChild}return{container:In,offset:Nt}}}}},{key:"getSideText",value:function(t,a){var i=this.engine.block.closest(t);if(i.length>0){var s=i.attributes(et),h=Da.create(this.engine),w=Da.create(this.engine);return h.setStart(i[0],0),h.setEnd(t[0],a),w.setStart(t[0],a),w.setEnd(i[0],i[0].childNodes.length),{id:s,leftText:h.toString(),rightText:w.toString()}}}},{key:"setAttribute",value:function(t,a,i,s,h){var w=this.engine.card,I=this.getElementFromPath(t,a),B=I.startNode,W=nn(B);if(W&&W.length>0&&!W.isRoot()){var G;if(i=gi(i),s=Un(s),(G=W.get())===null||G===void 0||G.setAttribute(i,s),W.isCard()){var H=w.find(W);if(!H)return;H.isEditable||w.reRender(H),H.isEditable&&H.onChange&&H.onChange(h?"remote":"local",W)}}return W}},{key:"removeAttribute",value:function(t,a,i){var s=this.getElementFromPath(t,a),h=s.startNode,w=nn(h);if(w.length>0&&!w.isRoot()){var I;(I=w.get())===null||I===void 0||I.removeAttribute(i)}return w}},{key:"insertNode",value:function(t,a,i,s){var h=this.engine,w=this.getElementFromPath(t,a),I=w.startNode,B=w.endNode,W=nn(I),G=nn(B);if(G.length>0&&!W.isRoot()&&(!t.isCard()||t.isEditableCard()&&(W.length===0||W.closest(Mt).isEditable()))){var H=typeof i=="string"?document.createTextNode(i):Di(i);if(W&&W.parent()){var he;(he=G.get())===null||he===void 0||he.insertBefore(H,W.get())}else{var ge;(ge=G.get())===null||ge===void 0||ge.insertBefore(H,null)}var Oe=nn(H);return Oe.isCard()&&Oe.attributes(Zt,s?"remote":"true"),h.card.render(Oe),Oe}}},{key:"deleteNode",value:function(t,a,i){var s=this.engine.card,h=this.getElementFromPath(t,a),w=h.startNode,I=nn(w);if(I.length>0&&!I.isRoot()){var B=I.parent();return I.isCard()?i?s.removeRemote(I):s.remove(I,!1):I.remove(),B!=null&&B.isRoot()?void 0:B}}},{key:"insertText",value:function(t,a,i,s){var h,w=this.getElementFromPath(t,a),I=w.startNode,B=w.endNode,W=nn(I);if(!(I&&!W.isText())){var G=I&&I.nodeValue?I.nodeValue:"",H=G.substring(0,i)+s+G.substring(i);if(I&&((h=I.parentElement)!==null&&h!==void 0?h:I.parentNode)===B)I.nodeValue=H;else if(H){var he,ge=document.createTextNode(H);((he=B.firstChild)===null||he===void 0?void 0:he.nodeName)==="BR"&&B.firstChild.remove(),B.insertBefore(ge,B.firstChild)}return W}}},{key:"deleteText",value:function(t,a,i,s){var h=this.getElementFromPath(t,a),w=h.startNode,I=nn(w);if(!!I.isText()){var B=w&&w.nodeValue?w.nodeValue:"",W=B.substring(0,i)+B.substring(i+s.length);return w.nodeValue=W,I}}},{key:"handleOperation",value:function(t,a){var i=t.p,s,h;if(i.length!==0){var w=this.engine.container;if("id"in t&&t.id&&t.bi&&t.bi>-1){var I=this.engine.container.find("[".concat(et,'="').concat(t.id,'"]'));I.length>0&&I.inEditor()&&(w=I,i=i.slice(t.bi))}return("si"in t||"sd"in t)&&(h=i[i.length-1],i=i.slice(0,-1)),("oi"in t||"od"in t)&&(s=i[i.length-1].toString(),i=i.slice(0,-1)),"oi"in t?this.setAttribute(w,i,s,t.oi,a):"od"in t?this.removeAttribute(w,i,s):"sd"in t?this.deleteText(w,i,h,t.sd):"si"in t?this.insertText(w,i,h,t.si):"ld"in t?this.deleteNode(w,i,a):"li"in t?this.insertNode(w,i,t.li,a):void 0}}},{key:"handleRemoteOperations",value:function(t){var a=this;try{var i=this.getRangeRemotePath(),s=[];return t.forEach(function(h){var w=a.handleOperation(h,!0);w&&s.push(w)}),i&&this.engine.isFocus()&&this.setRangeByRemotePath(i),this.engine.change.change(!0,s),s}catch(h){return this.engine.messageError("ot",h),[]}}},{key:"handleSelfOperations",value:function(t){var a=this,i=[];return t.forEach(function(s){var h=a.handleOperation(s);h&&i.push(h)}),this.engine.change.change(!1,i),i}},{key:"setRangeAfterOp",value:function(t){var a=this.engine,i,s=t.p;("si"in t||"sd"in t)&&(i=s[s.length-1],s=s.slice(0,-1)),("oi"in t||"od"in t)&&(s=s.slice(0,-1));var h=this.engine.container;if("id"in t&&t.id&&t.bi&&t.bi>-1){var w=this.engine.container.find("[".concat(et,'="').concat(t.id,'"]'));w.inEditor()&&(h=w,s=s.slice(t.bi))}var I=this.getElementFromPath(h,s),B=I.startNode,W=I.endNode,G=Da.create(this.engine);if("si"in t||"sd"in t){var H=B.data===""?W:B,he=t,ge=i+(he.si?he.si.length:0);G.setOffset(H,ge,ge),a.change.range.select(G);return}G.select(B||W.lastChild||W,!0).shrinkToElementNode().collapse(!1),a.change.range.select(G)}},{key:"getRangeRemotePath",value:function(){try{var t;if(((t=window.getSelection())===null||t===void 0?void 0:t.rangeCount)===0)return;var a=Da.from(this.engine);if(!a||a.inCard())return;a.startNode.isRoot()&&a.shrinkToElementNode();var i=a.startNode,s=a.startOffset,h=a.endNode,w=a.endOffset;return{start:this.getSideText(i,s),end:this.getSideText(h,w)}}catch(I){this.engine.messageError("ot",I);return}}},{key:"setRangeByRemotePath",value:function(t){try{var a,i=window.getSelection(),s=i?(a=Da.from(this.engine,i))===null||a===void 0?void 0:a.cloneRange():void 0;if(!s)return;var h=t.start,w=t.end,I,B;h&&(I=this.fromRemoteAttr(h)),w&&(B=this.fromRemoteAttr(w)),I&&I.container&&s.setStart(I.container,I.offset),B&&B.container&&s.setEnd(B.container,B.offset),this.engine.change.range.select(s,!1)}catch(W){this.engine.messageError("ot",W)}}},{key:"setRangeByPath",value:function(t){if(t){var a=t.start,i=t.end;if(a&&i){var s=a.path[a.path.length-1],h=i.path[i.path.length-1],w=a.path.slice(),I=i.path.slice();w.pop(),I.pop();var B=this.engine,W=B.container,G=B.change,H=a.id?W.find("[".concat(et,'="').concat(a.id,'"]')).get():W.getChildByPath(w,function(Ot){return!Ul(nn(Ot))});if(!H)return;var he=i.id?W.find("[".concat(et,'="').concat(i.id,'"]')).get():W.getChildByPath(I,function(Ot){return!Ul(nn(Ot))});if(!he)return;var ge=function(Bt,Nt){if(Bt.nodeType===kt().TEXT_NODE){var In=Bt.textContent||"";return In.length<Nt?In.length:Nt}else{var en=Bt.childNodes;return en.length<Nt?en.length:Nt}};try{var Oe=G.range.get();if(H.nodeName==="BR"||this.engine.node.isVoid(H)?Oe.select(H).collapse(!1):(Oe.setStart(H,ge(H,s)),Oe.setEnd(he,ge(he,h))),!Oe.collapsed){var rt=this.engine.card.find(Oe.startNode,!0),bt=this.engine.card.find(Oe.endNode,!0);if(rt&&bt&&(rt==null?void 0:rt.root.equal(bt.root))){var Ct=Oe.startNode.closest(Mt);Ct.length===0&&(Ct=Oe.startNode.find(Mt));var Dt=Oe.endNode.closest(Mt);Dt.length===0&&(Dt=Oe.endNode.find(Mt)),Ct.length>0&&Dt.length>0&&!Ct.equal(Dt)&&Oe.collapse(!0)}}G.range.select(Oe),Oe.scrollRangeIntoView()}catch(Ot){this.engine.messageError("ot",Ot)}}}}}]),at}(),gf=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a,i){var s;return(0,p.Z)(this,t),s=F.call(this),s.engine=void 0,s.doc=void 0,s.dmp=void 0,s.timer=null,s.lineStart=!1,s.handleFirstLineText=function(h,w,I,B,W){var G=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,H=[],he=W[0],ge=typeof he=="string",Oe=h==="root"?"":h,rt=h==="root"?-1:w;if(ge&&B!==he)for(var bt=s.textToOps(I,he,B),Ct=0;Ct<bt.length;Ct++)H.push(Object.assign({},bt[Ct],{id:Oe,bi:rt,nl:G}));for(var Dt=W.length-1;Dt>=(ge?1:0);Dt--){var Ot=W[Dt],Bt=I.concat();Bt[Bt.length-1]=Dt+bi.ELEMENT,H.push({id:Oe,nl:G,bi:rt,p:Bt,ld:Ot})}return ge||H.push({id:Oe,nl:G,bi:rt,p:I,li:B}),H},s.isLoadingCard=function(h){if(h.length>bi.ATTRIBUTE&&!Array.isArray(h[1])&&(0,U.Z)(h[1])==="object"){var w=h[bi.ATTRIBUTE],I=w[_i],B=w[Kr],W=w[et];if(I&&B&&W){var G,H=(G=s.engine.container.get())===null||G===void 0?void 0:G.querySelector("[".concat(et,'="').concat(W,'"]'));if(H!=null&&H.getAttribute(Zt))return!0}}return!1},s.handleChildren=function(h,w,I,B,W){var G=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,H=[],he=h==="root"?"":h,ge=h==="root"?-1:w;if(B.length===0)for(var Oe=0;Oe<W.length;Oe++)H.push({id:h,nl:G,bi:ge,p:I.concat(Oe+bi.ELEMENT),li:W[Oe]});else if(W.length===0)for(var rt=B.length-1;rt>=0;rt--)H.push({id:he,nl:G,bi:ge,p:I.concat(rt+bi.ELEMENT),ld:B[rt]});else if(W.length===1&&typeof W[0]=="string")H.push.apply(H,(0,ne.Z)(s.handleFirstLineText(h,ge,I.concat(bi.ELEMENT),W[0],B,G)));else if(W.every(function(ur){return Array.isArray(ur)?ur[bi.ATTRIBUTE][et]:!1})&&B.every(function(ur){return Array.isArray(ur)?ur[bi.ATTRIBUTE][et]:!1})){for(var bt=function(xr){var Lr=B[xr],er=W.find(function(Rr){return Rr[bi.ATTRIBUTE][et]===Lr[bi.ATTRIBUTE][et]});er||(H.push({id:he,nl:G,bi:ge,p:I.concat(xr+bi.ELEMENT),ld:Lr}),B.splice(xr,1))},Ct=B.length-1;Ct>=0;Ct--)bt(Ct);for(var Dt=function(xr){var Lr=W[xr],er=B.find(function(ra){return ra[bi.ATTRIBUTE][et]===Lr[bi.ATTRIBUTE][et]});if(!er)H.push({id:h,nl:G,bi:ge,p:I.concat(xr+bi.ELEMENT),li:Lr}),B.splice(xr,0,Lr);else if(!se()(Lr,er)){var Rr=Lr[bi.ATTRIBUTE],Wi=er[bi.ATTRIBUTE],ai=I.concat(xr+bi.ELEMENT);H.push.apply(H,(0,ne.Z)(s.handleAttributes(h,ge,ai,Wi,Rr,G))),H.push.apply(H,(0,ne.Z)(s.handleChildren(h,ge,ai,er.slice(bi.ELEMENT),Lr.slice(bi.ELEMENT),G)))}},Ot=0;Ot<W.length;Ot++)Dt(Ot)}else{if(B.length>W.length)for(var Bt=B.length-1;Bt>=W.length;Bt--)H.push({id:he,nl:G,bi:ge,p:I.concat(Bt+bi.ELEMENT),ld:B[Bt]});for(var Nt=0;Nt<W.length;Nt++){var In=W[Nt],en=B[Nt];if(!en)H.push({id:h,nl:G,bi:ge,p:I.concat(Nt+bi.ELEMENT),li:In});else if(!se()(In,en))if(typeof In!="string"&&(0,U.Z)(In)===(0,U.Z)(en)&&In[bi.TAG_NAME]===en[bi.TAG_NAME]){var Fn=In[bi.ATTRIBUTE],rr=en[bi.ATTRIBUTE],Yn=I.concat(Nt+bi.ELEMENT);H.push.apply(H,(0,ne.Z)(s.handleAttributes(h,ge,Yn,rr,Fn,G))),H.push.apply(H,(0,ne.Z)(s.handleChildren(h,ge,Yn,en.slice(bi.ELEMENT),In.slice(bi.ELEMENT),G)))}else H.push({id:he,nl:G,bi:ge,p:I.concat(Nt+bi.ELEMENT),ld:en}),H.push({id:h,nl:G,bi:ge,p:I.concat(Nt+bi.ELEMENT),li:In})}}return H},s.engine=a,s.doc=i.doc,s.dmp=new de.diff_match_patch,s}return(0,d.Z)(t,[{key:"setDoc",value:function(i){this.doc=i}},{key:"textToOps",value:function(i,s,h){var w=[],I=this.dmp.patch_make(s,h);return Object.keys(I).forEach(function(B){var W=I[B];if(W.start1!==null){var G=W.start1;W.diffs.forEach(function(H){var he=(0,q.Z)(H,2),ge=he[0],Oe=he[1];if(ge!==de.DIFF_DELETE)if(ge!==de.DIFF_INSERT)ge===de.DIFF_EQUAL&&(G+=Oe.length);else{var rt=[];w.push({si:Oe,p:rt.concat((0,ne.Z)(i),[G])})}else{var bt=[];w.unshift({sd:Oe,p:bt.concat((0,ne.Z)(i),[G])})}})}}),w}},{key:"handleAttributes",value:function(i,s,h,w,I){var B=this,W=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,G=[],H=i==="root"?"":i,he=i==="root"?-1:s;return Object.keys(I).forEach(function(ge){var Oe=I[ge],rt=[].concat((0,ne.Z)(h),[bi.ATTRIBUTE,ge]);if(!w.hasOwnProperty(ge)&&Oe!==w[ge]){G.push({id:H,nl:W,bi:he,p:rt,oi:Oe});return}var bt=w[ge];if(Oe!==bt){var Ct=W;if(ge===Tr){var Dt=mi(Oe),Ot=B.engine.card.find(Dt.id);(Ot==null?void 0:Ot.writeHistoryOnValueChange)&&Ot.writeHistoryOnValueChange(Dt)===!1&&(Ct=!0)}G.push({id:H,nl:Ct,bi:he,p:rt,od:bt,oi:Oe})}}),Object.keys(w).forEach(function(ge){I.hasOwnProperty(ge)||G.push({id:H,nl:W,bi:he,p:h.concat(bi.ATTRIBUTE,ge),od:w[ge]})}),G}},{key:"handleMutations",value:function(i){var s,h=this,w=[],I=(s=this.doc)===null||s===void 0?void 0:s.data;if(!(!I||i.length===0)){if(I.length===0)w.push(this.engine.container.get());else for(var B=function(ge){var Oe=i[ge];if(!Oe)return"continue";var rt=Oe.type,bt=Oe.target,Ct=bt instanceof Element&&vl(bt);if(rt==="attributes"&&(Oe.attributeName&&Bc(bt,Oe.attributeName)||Ct)||(bt instanceof Text&&(bt=bt.parentElement),!bt||!bt.isConnected||!(bt instanceof Element)||Ul(bt)))return"continue";if(Ct)return w=[bt],"break";if(w.length===0||!w.includes(bt)&&w.every(function(Bt){return!Bt.contains(bt)})){for(var Dt=w.length,Ot=0;Ot<Dt;Ot++)bt.contains(w[Ot])&&(w.splice(Ot,1),Dt--,Ot--);w.push(bt)}},W=0;W<i.length;W++){var G=B(W);if(G!=="continue"&&G==="break")break}if(w.length!==0){var H=[];w.forEach(function(he){H.push.apply(H,(0,ne.Z)(h.diff(he,I)))}),H.length>0&&this.emit("ops",H)}}}},{key:"diff",value:function(i){var s,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:((s=this.doc)===null||s===void 0?void 0:s.data)||[],w=[];if(!i.isConnected)return[];var I=vl(i)?"root":i.getAttribute(et);if(!I){var B=this.engine.block.closest(nn(i),function(Dt){return!!Dt.attributes(et)}).get();if(!(B instanceof Element))return[];i=B,I=i.getAttribute(et)}if(!I)return[];var W=Ca(i);if(!W)return[];var G=I==="root",H=G?h:yo(h,function(Dt){return Dt[et]===I});if(!H)return[];var he=H.path,ge=this.isLoadingCard(W);if(I!=="root"){var Oe=W[bi.ATTRIBUTE],rt=H.attributes;w.push.apply(w,(0,ne.Z)(this.handleAttributes(I,he.length,he,rt,Oe,ge)))}var bt=W.slice(2),Ct=Array.isArray(H)?H.slice(2):H.children;return w.push.apply(w,(0,ne.Z)(this.handleChildren(G?"":I,G?-1:he.length,he!=null?he:[],Ct,bt,ge))),w}}]),t}(Je.EventEmitter2),Tl={childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},mf=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a,i){var s;return(0,p.Z)(this,t),s=F.call(this),s.node=void 0,s.engine=void 0,s.doc=void 0,s.isStopped=void 0,s.observer=void 0,s.producer=void 0,s.isCache=!1,s.cache=[],s.node=a,s.isStopped=!0,s.engine=i.engine,s.doc=i.doc,s.producer=new gf(s.engine,{doc:s.doc}),s.observer=new MutationObserver(function(h){if(s.isCache){var w;(w=s.cache).push.apply(w,(0,ne.Z)(h))}!s.isStopped&&!s.isCache&&s.producer.handleMutations(h)}),s.producer.on("ops",function(h){s.onChange(h)}),s}return(0,d.Z)(t,[{key:"setDoc",value:function(i){this.doc=i,this.producer.setDoc(i)}},{key:"start",value:function(){this.isStopped&&(this.observer.observe(this.node[0],Tl),this.isStopped=!1)}},{key:"stop",value:function(){this.isStopped||(this.observer.disconnect(),this.isStopped=!0)}},{key:"startCache",value:function(){this.isCache||(this.cache=[],this.isCache=!0)}},{key:"submitCache",value:function(){var i=this;this.isCache&&setTimeout(function(){i.engine.change.isComposing()||(i.isCache=!1,i.cache=i.cache.map(function(s){return s.type==="characterData"&&s.target.nodeType===document.TEXT_NODE&&(s["text-data"]=s.target.textContent),s}),i.cache.length>0&&i.producer.handleMutations(i.cache),i.cache=[])},20)}},{key:"destroyCache",value:function(){var i=this;this.isCache&&setTimeout(function(){i.isCache=!1,i.cache=[]},20)}},{key:"getCaches",value:function(){return this.cache}},{key:"onChange",value:function(i){this.isStopped||this.emit("onChange",i)}},{key:"diff",value:function(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.engine.container.get();return this.producer.diff(s,(i=this.doc)===null||i===void 0?void 0:i.data)}}]),t}(Je.EventEmitter2),Ud=`.ot-user-cursor {\r
	position: absolute;\r
	z-index: 125;\r
	width: 2px;\r
}\r
\r
.ot-user-cursor-trigger {\r
	position: absolute;\r
	top: -5px;\r
	left: -2px;\r
	border-radius: 100%;\r
	color: #ffffff;\r
	width: 6px;\r
	height: 6px;\r
	font-size: 0;\r
	overflow: hidden;\r
	transition: all 0.1s linear;\r
}\r
\r
.ot-user-cursor-trigger-active {\r
	top: -17px;\r
	border-radius: 2px;\r
	color: #ffffff;\r
	font-size: 10px;\r
	line-height: 18px;\r
	height: 18px;\r
	width: auto;\r
	padding: 0 3px;\r
	white-space: nowrap;\r
}\r
\r
.ot-card-mask {\r
	position: absolute;\r
	z-index: 10;\r
	background: transparent;\r
	cursor: not-allowed;\r
}\r
\r
.ot-user-background {\r
  z-index: 120;\r
}\r
\r
.ot-user-cursor-card {\r
	position: absolute;\r
}\r
\r
.ot-user-cursor-card .ot-user-cursor-trigger {\r
	display: none;\r
}\r
\r
.ot-user-cursor-card .ot-user-cursor-trigger-active {\r
	position: absolute;\r
	display: block;\r
	top: -19px;\r
	left: 0;\r
	border-radius: 2px;\r
	color: #ffffff;\r
	font-size: 10px;\r
	line-height: 18px;\r
	height: 18px;\r
	width: auto;\r
	padding: 0 3px;\r
	white-space: nowrap;\r
}`;Cl(Ud);var Mu=new WeakMap,nu=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a){var i;return(0,p.Z)(this,t),i=F.call(this),i.engine=void 0,i.members=void 0,i.currentMember=void 0,i.clientId=void 0,i.selection=void 0,i.consumer=void 0,i.mutation=void 0,i.doc=null,i.isRemote=!1,i.debounceRefreshAttributes=void 0,i.colors=["#597EF7","#73D13D","#FF4D4F","#9254DE","#36CFC9","#FFA940","#F759AB","#40A9FF"],i.handleChange=function(s){var h=i.engine.trigger("opsChange",s);h&&(s=h),i.submitOps(s);var w=i.engine,I=w.history,B=w.change;I.handleSelfOps(s.filter(function(W){return W.nl===!0&&W.p[W.p.length-1]===Tr&&I.handleNLCardValue(W),!W.nl&&!W.p.includes(Vr)})),i.engine.trigger("ops",s),s.find(function(W){return("od"in W||"oi"in W)&&W.p.includes(Tr)})&&B.change(!1)},i.engine=a,i.members=[],i.selection=new Sd(a),i.consumer=new fd(a),i.mutation=new mf(a.container,{engine:a}),i.mutation.on("onChange",i.handleChange),i.clientId=mn(8),i.debounceRefreshAttributes=Qe()(function(s){var h;(h=i.selection).refreshAttributes.apply(h,(0,ne.Z)(i.members.filter(function(w){return s.includes(w.uuid)})))},200),i}return(0,d.Z)(t,[{key:"isCache",get:function(){var i,s;return(i=(s=this.mutation)===null||s===void 0?void 0:s.isCache)!==null&&i!==void 0?i:!1}},{key:"initLocal",value:function(){var i;this.doc||(this.stopMutation(),this.doc=new Ad(this.engine),(i=this.mutation)===null||i===void 0||i.setDoc(this.doc),this.engine.readonly||this.startMutation())}},{key:"initRemote",value:function(i,s,h){var w,I=this,B=!this.doc||this.doc.type===null;this.stopMutation(),B||this.doc.destroy(),this.isRemote=!0,this.doc=i,(w=this.mutation)===null||w===void 0||w.setDoc(i),this.syncValue(s),i.on("op",function(W,G){if(I.clientId!==G.toString()){var H=Nl(W);H.length>0&&(I.apply(H),I.engine.history.handleRemoteOps(H))}}),this.selection.removeAllListeners(),this.selection.on("change",function(W){h&&h(W)}),this.engine.readonly||this.startMutation(),B&&this.emit("load")}},{key:"submitOps",value:function(i){var s=this;if(!(!this.doc||i.length===0)){i.forEach(function(I){var B;I.uid=(B=s.currentMember)===null||B===void 0?void 0:B.uuid});var h=new Ad,w=JSON.parse(JSON.stringify(this.doc.data));h.create(w),h.submitOp(i,null,function(I){if(h.destroy(),!!s.doc){if(I){s.engine.messageError("ot","If there is an error in the collaborative structure, the content of the server will be reset, and the current history will also be cleared.",I,i,w),s.engine.history.clear();for(var B=[],W=s.doc.data,G=W.length-1;G>1;G--){var H=W[G];B.push({bi:-1,id:"",ld:H,p:[G],nl:void 0})}for(var he=[],ge=Ca(s.engine.container)||[],Oe=2;Oe<ge.length;Oe++){var rt=ge[Oe];he.push({bi:-1,id:"",li:rt,p:[Oe],nl:void 0})}s.doc.submitOp(B.concat(he),{source:s.clientId}),s.selection.emitSelectChange(!0);return}s.doc.submitOp(i,{source:s.clientId},function(bt){if(bt){var Ct,Dt;s.engine.messageError("ot","SubmitOps Error:",bt,"OPS:",i,"DATA:",(Ct=s.doc)===null||Ct===void 0?void 0:Ct.data),(Dt=s.doc)===null||Dt===void 0||Dt.destroy()}s.selection.emitSelectChange(!0)})}})}}},{key:"diff",value:function(){var i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.engine.container.get();return((i=this.mutation)===null||i===void 0?void 0:i.diff(s))||[]}},{key:"apply",value:function(i){var s=this;this.stopMutation(),this.consumer.handleRemoteOperations(i),this.selection.emitSelectChange();var h=[];i.forEach(function(w){"uid"in w&&h.push(w.uid)}),setTimeout(function(){s.debounceRefreshAttributes(h)},0),this.startMutation()}},{key:"syncValue",value:function(i){var s=this,h=this.doc,w=this.engine;if(!!h){if(h.type&&Array.isArray(h.data)&&h.data.length>2){this.engine.setJsonValue(h.data);return}i&&w.setValue(i),h.on("create",function(){var I=Ca(w.container);h.submitOp([{p:[],oi:I}],{source:s.clientId})})}}},{key:"startMutation",value:function(){this.mutation&&this.mutation.start()}},{key:"stopMutation",value:function(){this.mutation&&this.mutation.stop()}},{key:"isStopped",value:function(){var i,s;return(i=(s=this.mutation)===null||s===void 0?void 0:s.isStopped)!==null&&i!==void 0?i:!1}},{key:"startMutationCache",value:function(){this.mutation&&this.mutation.startCache()}},{key:"submitMutationCache",value:function(){this.mutation&&this.mutation.submitCache()}},{key:"destroyMutationCache",value:function(){this.mutation&&this.mutation.destroyCache()}},{key:"getCaches",value:function(){var i;return((i=this.mutation)===null||i===void 0?void 0:i.getCaches())||[]}},{key:"getColors",value:function(){return this.colors}},{key:"setColors",value:function(i){this.colors=i}},{key:"setMemberColor",value:function(i){var s=i.index||this.members.length+1;s=(s-1)%this.colors.length,i.color=this.colors[s]}},{key:"getMembers",value:function(){return Te()(this.members)}},{key:"setMembers",value:function(i){var s=this;i=Te()(i),i.forEach(function(h){s.setMemberColor(h)}),this.members=i}},{key:"addMember",value:function(i){i=Te()(i),this.setMemberColor(i),this.members.find(function(s){return s.uuid===i.uuid})||this.members.push(i)}},{key:"removeMember",value:function(i){i=Te()(i),i.uuid&&(this.members=this.members.filter(function(s){return s.uuid!==i.uuid}),this.selection.removeAttirbute(i.uuid))}},{key:"setCurrentMember",value:function(i){i=Te()(i),this.setMemberColor(i);var s=this.members.find(function(h){return h.uuid===i.uuid});!s||(this.currentMember=s,this.selection.setCurrent(s))}},{key:"getCurrentMember",value:function(){return this.currentMember}},{key:"renderSelection",value:function(i){var s=this;Mu.get(this.engine)||(Mu.set(this.engine,!0),Promise.resolve().then(function(){Mu.set(s.engine,!1),Array.isArray(i)||(i=[i]),i.forEach(function(h){if(!(s.currentMember&&h.uuid===s.currentMember.uuid)){var w=s.members.find(function(I){return I.uuid===h.uuid});"remove"in h||!w?s.selection.removeAttirbute(h.uuid):s.selection.setAttribute(h,w)}})}))}},{key:"destroy",value:function(){var i,s;this.doc&&this.doc.destroy(),this.selection.destory(),(i=this.mutation)===null||i===void 0||i.off("onChange",this.handleChange),(s=this.mutation)===null||s===void 0||s.destroyCache(),this.stopMutation(),this.mutation=null}}]),t}(Je.EventEmitter2),Vl=(0,je.Z)("selfWaiting"),hd=function(){function at(F){var t=this;(0,p.Z)(this,at),this.actionOps=[],this.engine=void 0,this.currentAction={},this.currentActionIndex=0,this.filterEvents=[],this.selfEvents=[],Object.defineProperty(this,Vl,{writable:!0,value:void 0}),this.lazySave=Qe()(function(){t.saveOp()},200),this.handlePath=function(a,i,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(G){return!Ul(nn(G))},I=t.engine.container.find("[".concat(et,'="').concat(i,'"]'));if(I.length>0&&I.inEditor()){var B,W=I.getPath(t.engine.container,!((B=I.parent())===null||B===void 0)&&B.isRoot()?void 0:w);return(h?W.map(function(G){return G+2}):W).concat(a.slice(s))}return a},this.engine=F}return(0,d.Z)(at,[{key:"reset",value:function(){this.actionOps=[],this.currentAction={},this.currentActionIndex=0}},{key:"onFilter",value:function(t){this.filterEvents.push(t)}},{key:"onSelf",value:function(t){this.selfEvents.push(t)}},{key:"hasUndo",value:function(){return!!this.getUndoOp()}},{key:"hasRedo",value:function(){return!!this.getRedoOp()}},{key:"undo",value:function(){this.saveOp();var t=this.getUndoOp();if(t){var a=!1;this.engine.ot.stopMutation();try{var i=this.engine.ot;i.submitOps(t.ops||[]),i.consumer.handleSelfOperations(t.ops),this.currentActionIndex--,a=!0}catch(s){this.reset(),this.engine.messageError("history-undo",s)}this.engine.isEmpty()&&this.engine.change.initValue(),a&&(this.engine.change.getRangePathBeforeCommand(),this.engine.ot.consumer.setRangeByPath(t.startRangePath),this.engine.change.change(),this.engine.trigger("undo")),this.engine.ot.startMutation()}}},{key:"redo",value:function(){this.saveOp();var t=this.getRedoOp();if(t){var a=!1;this.engine.ot.stopMutation();try{var i=this.engine.ot;i.submitOps(t.ops||[]),i.consumer.handleSelfOperations(t.ops),this.currentActionIndex++,a=!0}catch(s){this.reset(),this.engine.messageError("history-redo",s)}a&&(this.engine.change.getRangePathBeforeCommand(),this.engine.ot.consumer.setRangeByPath(t.rangePath),this.engine.change.change(),this.engine.trigger("redo")),this.engine.ot.startMutation()}}},{key:"clear",value:function(){var t=this;setTimeout(function(){t.reset()},10)}},{key:"saveOp",value:function(){this.currentAction&&this.currentAction.ops&&this.currentAction.ops.length>0&&(this.currentAction.self&&(this.currentAction.rangePath=this.getCurrentRangePath(),this.currentAction.id=mn(8),this.actionOps.splice(this.currentActionIndex),this.actionOps.push(this.currentAction),this.currentActionIndex=this.actionOps.length,this.engine.trigger("historyChange")),this.currentAction={},this.engine.change.getRangePathBeforeCommand())}},{key:"handleSelfOps",value:function(t){var a,i=this;!((a=this.currentAction)===null||a===void 0)&&a.self||this.saveOp();var s=!1;if(t.forEach(function(w){if(s=!0,i.filterEvents.some(function(W){return W(w)})){var I;i.actionOps.length>0&&!w.nl&&((I=i.actionOps[i.actionOps.length-1].ops)===null||I===void 0||I.push(w))}else{i.currentAction.self=!0,i.currentAction.ops||(i.currentAction.ops=[]),i.currentAction.startRangePath||(i.currentAction.startRangePath=i.getRangePathBeforeCommand());var B=i.currentAction.ops[i.currentAction.ops.length-1];B&&_a(w,B)?i.currentAction.ops.pop():i.currentAction.ops.push(w)}}),s){var h=void 0;if(this.selfEvents.some(function(w){return h=w(t),h!==void 0}),(0,we.Z)(this,Vl)[Vl])return;typeof h=="boolean"?h?this.saveOp():this.currentAction={}:(0,U.Z)(h)==="object"?((0,we.Z)(this,Vl)[Vl]=h,h.then(function(w){w?i.saveOp():i.currentAction={}}).finally(function(){return(0,we.Z)(i,Vl)[Vl]=void 0})):h===void 0&&this.lazySave()}}},{key:"handleNLCardValue",value:function(t){var a=t.p[t.p.length-1];if(t.nl===!0&&typeof a=="string"&&a===Tr&&t.oi){var i=t.oi,s=mi(i);this.actionOps.forEach(function(h){var w;(w=h.ops)===null||w===void 0||w.forEach(function(I){if(I.p[I.p.length-1]===Tr&&I.oi){var B=mi(I.oi);s.id===B.id&&(I.oi=s)}else I.li&&ko(I.li,function(W){var G=mi(W[Tr]);return G.id===s.id?(W[Tr]=i,!0):!1})})})}}},{key:"handleRemoteOps",value:function(t){var a=this;this.currentAction.self&&!(0,we.Z)(this,Vl)[Vl]&&this.saveOp();var i=this.engine.change.range.get();this.actionOps.forEach(function(s){var h;if((h=s.ops)===null||h===void 0||h.forEach(function(he){he.id&&he.bi!==void 0&&(he.p=a.handlePath(he.p,he.id,he.bi))}),s.rangePath){var w=s.rangePath,I=w.start,B=w.end;I.id&&I.bi!==void 0&&(I.path=a.handlePath(I.path,I.id,I.bi,!1,i.filterPath(!0))),B.id&&B.bi!==void 0&&(B.path=a.handlePath(B.path,B.id,B.bi,!1,i.filterPath(!0)))}if(s.startRangePath){var W=s.startRangePath,G=W.start,H=W.end;G.id&&G.bi!==void 0&&(G.path=a.handlePath(G.path,G.id,G.bi,!1,i.filterPath(!0))),H.id&&H.bi!==void 0&&(H.path=a.handlePath(H.path,H.id,H.bi,!1,i.filterPath(!0)))}}),t.forEach(function(s){a.currentAction.ops||(a.currentAction.ops=[]);var h=a.currentAction.ops[a.currentAction.ops.length-1];h&&_a(s,h)?a.currentAction.ops.pop():a.currentAction.ops.push(s),a.actionOps.some(function(w,I){var B,W=(B=w.ops)===null||B===void 0?void 0:B.some(function(Oe){return ae().type.canOpAffectPath(s,Oe.p)});if(W){for(var G=[w],H=function(rt){var bt,Ct=a.actionOps[rt],Dt=(bt=Ct.ops)===null||bt===void 0?void 0:bt.some(function(In){var en;return(en=w.ops)===null||en===void 0?void 0:en.some(function(Fn){return ae().type.canOpAffectPath(In,Fn.p)})});if(Dt){var Ot;G.push(Ct);var Bt=rt+1,Nt=a.actionOps[Bt];Nt&&((Ot=Nt.ops)===null||Ot===void 0?void 0:Ot.some(function(In){var en;return(en=Ct.ops)===null||en===void 0?void 0:en.some(function(Fn){return ae().type.canOpAffectPath(In,Fn.p)})}))&&G.push(Nt)}},he=I+1;he<a.actionOps.length;he++)H(he);var ge=a.actionOps.filter(function(Oe){return G.find(function(rt){return rt.id===Oe.id})===void 0});return a.actionOps=ge,a.currentActionIndex=a.actionOps.length,W}return!1})})}},{key:"getUndoOp",value:function(){var t=this.currentActionIndex-1;if(this.actionOps[t]){var a=Te()(this.actionOps[t]),i=X()(this.actionOps,function(h){return h.id==a.id});i!==-1?a=this.actionOps[i]:i=t;var s=ae().type.invert(a.ops||[]);s.forEach(function(h,w){var I=(a.ops||[])[s.length-w-1];h.id=I.id,h.bi=I.bi});try{return{self:!0,ops:s,id:a.id,type:"undo",rangePath:a.rangePath,startRangePath:a.startRangePath}}catch(h){this.engine.messageError("history-undo-op",h)}}}},{key:"getRedoOp",value:function(){var t=this.currentActionIndex;if(this.actionOps[t]){var a=Te()(this.actionOps[t]),i=[];a.type==="undo"?(i=ae().type.invert(a.ops||[]),i.forEach(function(s,h){var w=(a.ops||[])[i.length-h-1];s.id=w.id,s.bi=w.bi})):i=a.ops;try{return{self:!0,ops:i,id:a.id,type:"redo",rangePath:a.rangePath,startRangePath:a.startRangePath}}catch(s){this.engine.messageError("history-redo-op",s)}}}},{key:"getCurrentRangePath",value:function(){var t=this.engine,a=t.ot,i=t.change,s=a.selection.currentRangePath;return s||i.range.get().toPath()}},{key:"getRangePathBeforeCommand",value:function(){return this.engine.change.getRangePathBeforeCommand()||this.getCurrentRangePath()}}]),at}(),Ac=function(){function at(F){var t=this;(0,p.Z)(this,at),this.engine=void 0,this.disabled=!1,this.engine=F,this.engine.container.on("keydown",function(a){return t.trigger(a)})}return(0,d.Z)(at,[{key:"match",value:function(t){var a=this;Object.keys(this.engine.plugin.components).every(function(i){var s=a.engine.plugin.components[i];if(s.hotkey){var h=s.hotkey(t),w=!1,I=[];if(typeof h=="string"&&(0,O.ZP)(h,t)?w=!0:Array.isArray(h)?h.some(function(W){if(typeof W=="string"){if((0,O.ZP)(W,t))return w=!0,I=[],!0}else{var G=W.key,H=W.args;if((0,O.ZP)(G,t))return w=!0,I=Array.isArray(H)?H:[H],!0}return!1}):(0,U.Z)(h)==="object"&&(0,O.ZP)(h.key,t)&&(w=!0,I=Array.isArray(h.args)?h.args:[h.args]),w){var B;return t.preventDefault(),(B=a.engine.command).execute.apply(B,[i].concat((0,ne.Z)(I))),!1}}return!0})}},{key:"trigger",value:function(t){this.disabled||this.match(t)}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"destroy",value:function(){this.engine.container.off("keydown",this.trigger)}}]),at}(),tc=function(){function at(F){(0,p.Z)(this,at),this.type="keydown",this.hotkey="",this.listeners=[],this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"on",value:function(t){this.listeners.push(t)}},{key:"unshiftOn",value:function(t){this.listeners.unshift(t)}},{key:"off",value:function(t){for(var a=0;a<this.listeners.length;a++)if(this.listeners[a]===t){this.listeners.splice(a,1);break}}},{key:"trigger",value:function(t){for(var a=0;a<this.listeners.length;a++){var i=this.listeners[a],s=i(t);if(s===!1)break}}},{key:"destroy",value:function(){this.listeners=[]}}]),at}(),Nf=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey="backspace",a}return(0,d.Z)(t,[{key:"trigger",value:function(i){var s=this.engine,h=s.change,w=s.container,I=h.range.get();if(h.cacheRangeBeforeCommand(),h.isEmpty()){i.preventDefault(),w.empty(),h.initValue();return}var B=I.commonAncestorNode,W=this.engine.card.find(B,!0),G=W!=null&&W.isEditable?W!=null&&W.getSelectionNodes?W.getSelectionNodes():[]:[];if(G.length>0){G.forEach(function(ur){ur.html("<p></br ></p>")}),h.apply(I.cloneRange().select(G[0],!0).collapse(!0));return}var H=I.startNode,he=I.startOffset;if(H.isEditable()){var ge=H[0].childNodes[he-1],Oe=nn(ge);if(Oe.name==="br"){i.preventDefault(),Oe.remove(),h.apply(I);return}}for(var rt=!0,bt=0;bt<this.listeners.length;bt++){var Ct=this.listeners[bt];if(rt=Ct(i),rt===!1)break}if(rt===!1){this.engine.scrollNode&&I.scrollIntoViewIfNeeded(this.engine.container,this.engine.scrollNode);return}if(I.collapsed){var Bt,Nt=void 0;if(this.engine.node.isBlock(H)){var In=H[0].childNodes[he-1];Nt=nn(In)}else H.name==="br"&&(Nt=H);if(((Bt=Nt)===null||Bt===void 0?void 0:Bt.name)==="br"){var en=Nt.prev(),Fn=Nt.next(),rr=Fn==null?void 0:Fn.next(),Yn=en==null?void 0:en.prev();(en==null?void 0:en.name)!=="br"&&(Fn==null?void 0:Fn.name)==="br"&&(rr==null?void 0:rr.name)!=="br"?(i.preventDefault(),Nt.remove(),Fn.remove(),h.apply(I.shrinkToTextNode())):(Fn==null?void 0:Fn.name)!=="br"&&(en==null?void 0:en.name)==="br"&&(Yn==null?void 0:Yn.name)!=="br"&&(i.preventDefault(),Nt.remove(),en.remove(),h.apply(I.shrinkToTextNode()))}}else{i.preventDefault();var Dt=H.prev();(Dt==null?void 0:Dt.name)==="br"&&Dt.remove(),h.delete(I);var Ot=I.startNode.prev();(Ot==null?void 0:Ot.isCard())&&Ot.find(Pe).length===0&&Ot.remove(),h.apply(I),this.engine.scrollNode&&I.scrollIntoViewIfNeeded(this.engine.container,this.engine.scrollNode);return}}}]),t}(tc),qu=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey="delete",a}return(0,d.Z)(t,[{key:"getNext",value:function(i){var s,h=(s=i.parentElement)!==null&&s!==void 0?s:i.parentNode;return nn(i).isEditable()?null:i.nextSibling?i.nextSibling:h===null?null:this.getNext(h)}},{key:"getRange",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(nn(i).isEditable())return null;if(!s){var h=this.getNext(i);if(!h)return null;i=h}for(;i;){var w=nn(i);if(w.attributes(_i)){if(!i.ownerDocument)return null;var I=Da.create(this.engine,i.ownerDocument);return I.setStartAfter(i),I.collapse(!0),I}if(this.engine.node.isBlock(w)){if(!i.ownerDocument)return null;var B=Da.create(this.engine,i.ownerDocument);return B.select(w,!0).collapse(!0),B}if(w.name==="br"){var W,G;if(((W=(G=i.parentElement)!==null&&G!==void 0?G:i.parentNode)===null||W===void 0?void 0:W.childNodes.length)===1||!i.ownerDocument)return null;var H=Da.create(this.engine,i.ownerDocument);return H.setStartAfter(i),H.collapse(!0),H}if(i.nodeType===Node.TEXT_NODE){if(i.data.length===0)return this.getRange(i);if(!i.ownerDocument)return null;var he=Da.create(this.engine,i.ownerDocument);return he.setStart(i,1),he.collapse(!0),he}if(i.childNodes.length===0)return this.getRange(i);i=i.childNodes[0]}return null}},{key:"trigger",value:function(i){var s=this.engine.change;s.cacheRangeBeforeCommand();var h=s.range.get();if(!h.collapsed){i.preventDefault(),s.delete();return}var w=this.engine.card.find(h.startNode),I=!1,B;if(w){if(w.isLeftCursor(h.startNode)){i.preventDefault(),this.engine.card.select(w),s.delete();return}if(!w.isRightCursor(h.startNode))return;B=w.root[0]}else if(h.endContainer.nodeType===Node.TEXT_NODE){if(h.endContainer.data.length>h.endOffset){i.preventDefault();var W=h.cloneRange();W.setEnd(h.endContainer,h.endOffset+1),s.range.select(W),s.delete(),s.range.select(s.range.get().shrinkToTextNode());return}B=h.endContainer}else{if(h.endContainer.nodeType!==Node.ELEMENT_NODE)return;if(h.endContainer.childNodes.length===0)B=h.endContainer;else if(h.endOffset===0){var G;(h.endContainer.childNodes.length!==1||((G=h.endContainer.firstChild)===null||G===void 0?void 0:G.nodeName)!=="BR")&&(I=!0),B=h.endContainer.childNodes[h.endOffset]}else B=h.endContainer.childNodes[h.endOffset-1]}var H=this.getRange(B,I);if(H){i.preventDefault();var he=h.startOffset;he===1&&h.startContainer.childNodes.length===1&&h.startContainer.childNodes[0].nodeName==="BR"&&(he=0),H.setStart(h.startContainer,he),s.range.select(H),s.delete()}for(var ge=0;ge<this.listeners.length;ge++){var Oe=this.listeners[ge],rt=Oe(i);if(rt===!1)break}}}]),t}(tc),Hd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey="enter",a}return(0,d.Z)(t,[{key:"trigger",value:function(i){var s=this.engine.change;s.cacheRangeBeforeCommand();var h=s.range.get(),w=this.engine.block.closest(h.endNode);w.isEditable()&&this.engine.block.wrap("<p />");for(var I=0;I<this.listeners.length;I++){var B=this.listeners[I],W=B(i);if(W===!1)break}this.engine.scrollNode&&this.engine.change.range.get().scrollIntoViewIfNeeded(this.engine.container,this.engine.scrollNode),this.engine.trigger("select")}}]),t}(tc),jd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey="tab",a}return(0,d.Z)(t,[{key:"trigger",value:function(i){var s=this.engine.node;i.preventDefault(),s.insertText("    ")}}]),t}(tc),Vd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey="shift+tab",a}return(0,d.Z)(t)}(tc),pd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey="shift+enter",a}return(0,d.Z)(t,[{key:"trigger",value:function(i){var s=this.engine,h=s.change,w=s.inline,I=s.block;i.preventDefault(),h.cacheRangeBeforeCommand();var B=h.range.get();if(B.startNode.closest("li").length===0){var W;(W=this.engine.typing.getHandleListener("enter","keydown"))===null||W===void 0||W.trigger(i);return}else{var G=nn("<br />");if(w.insert(G,B),I.isLastOffset(B,"end")){var H,he;if((!G.next()||((H=G.next())===null||H===void 0?void 0:H.name)!=="br")&&(!G.prev()||((he=G.prev())===null||he===void 0?void 0:he.name)!=="br")){var ge=G.clone();G.after(ge),B.select(ge).collapse(!1)}}}for(var Oe=0;Oe<this.listeners.length;Oe++){var rt=this.listeners[Oe],bt=rt(i);if(bt===!1)break}h.apply(B),this.engine.scrollNode&&this.engine.change.range.get().scrollIntoViewIfNeeded(this.engine.container,this.engine.scrollNode)}}]),t}(tc),Yd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey=function(w){return w.key===" "},a}return(0,d.Z)(t)}(tc),Rf=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey=function(w){return w.key==="/"||(0,O.ZP)("/",w)||w.keyCode===229&&w.code==="Slash"},a}return(0,d.Z)(t)}(tc),ru=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey="mod+a",a}return(0,d.Z)(t)}(tc),vd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey=function(w){return(0,O.ZP)("left",w)||(0,O.ZP)("shift+left",w)||(0,O.ZP)("ctrl+a",w)||(0,O.ZP)("ctrl+b",w)},a}return(0,d.Z)(t)}(tc),Fc=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keydown",a.hotkey=function(w){return(0,O.ZP)("right",w)||(0,O.ZP)("shift+right",w)||(0,O.ZP)("ctrl+e",w)||(0,O.ZP)("ctrl+f",w)},a}return(0,d.Z)(t)}(tc),Gs=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey=function(w){return(0,O.ZP)("up",w)||(0,O.ZP)("ctrl+p",w)},a}return(0,d.Z)(t)}(tc),Kd=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey=function(w){return(0,O.ZP)("down",w)||(0,O.ZP)("ctrl+n",w)},a}return(0,d.Z)(t)}(tc),Gd=[{name:"default",handle:tc},{name:"enter",handle:Hd,triggerName:"keydown:enter"},{name:"backspace",handle:Nf,triggerName:"keydown:backspace"},{name:"delete",handle:qu,triggerName:"keydown:delete"},{name:"tab",handle:jd,triggerName:"keydown:tab"},{name:"shift-tab",handle:Vd,triggerName:"keydown:shift-tab"},{name:"shift-enter",handle:pd,triggerName:"keydown:shift-enter"},{name:"space",handle:Yd,triggerName:"keydown:space"},{name:"slash",handle:Rf,triggerName:"keydown:slash"},{name:"all",handle:ru,triggerName:"keydown:all"},{name:"left",handle:vd,triggerName:"keydown:left"},{name:"right",handle:Fc,triggerName:"keydown:right"},{name:"up",handle:Gs,triggerName:"keydown:up"},{name:"down",handle:Kd,triggerName:"keydown:down"}],$u=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keyup",a}return(0,d.Z)(t)}(tc),Xu=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey="enter",a}return(0,d.Z)(t)}($u),iu=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.type="keyup",a.hotkey="backspace",a}return(0,d.Z)(t,[{key:"trigger",value:function(i){var s=this.engine.change;if(s.isEmpty()){i.preventDefault();return}for(var h=!0,w=0;w<this.listeners.length;w++){var I=this.listeners[w];if(h=I(i),h===!1)break}}}]),t}($u),Pl=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey="tab",a}return(0,d.Z)(t)}($u),ll=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.hotkey=function(w){return w.key===" "},a}return(0,d.Z)(t)}($u),zs=[{name:"default",handle:$u},{name:"enter",handle:Xu,triggerName:"keyup:enter"},{name:"backspace",handle:iu,triggerName:"keyup:backspace"},{name:"tab",handle:Pl,triggerName:"keyup:tab"},{name:"space",handle:ll,triggerName:"keyup:space"}],qd=function(){function at(F){var t=this;(0,p.Z)(this,at),this.engine=void 0,this.handleListeners=[],this.bindKeydown=function(i){var s=t.engine,h=s.readonly,w=s.card;if(h){(0,O.ZP)("mod+a",i)&&i.preventDefault();return}i.target&&w.find(nn(i.target))||t.trigger("keydown",i)},this.bindKeyup=function(i){var s=t.engine,h=s.readonly,w=s.card;h||i.target&&w.find(nn(i.target))||t.trigger("keyup",i)},this.engine=F,Gd.concat(zs).forEach(function(i){t.addHandleListener(i.name,i.handle,i.triggerName)});var a=F.container;a.on("keydown",this.bindKeydown),a.on("keyup",this.bindKeyup)}return(0,d.Z)(at,[{key:"addHandleListener",value:function(t,a,i,s){this.handleListeners.push({name:t,handle:new a(this.engine),triggerName:i,triggerParams:s})}},{key:"getHandleListener",value:function(t,a){var i;return(i=this.handleListeners.find(function(s){return s.name===t&&s.handle.type===a}))===null||i===void 0?void 0:i.handle}},{key:"removeHandleListener",value:function(t,a){for(var i=0;i<this.handleListeners.length;i++)if(this.handleListeners[i].name===t&&this.handleListeners[i].handle.type===a){this.handleListeners[i].handle.destroy(),this.handleListeners.splice(i,1);break}}},{key:"trigger",value:function(t,a){var i=this,s=this.handleListeners.filter(function(w){var I=w.handle;return I.type===t}).some(function(w){var I=w.name,B=w.handle,W=w.triggerName,G=w.triggerParams;if(I==="default"||!B.hotkey)return!1;if(typeof B.hotkey=="function"?B.hotkey(a):(0,O.ZP)(B.hotkey,a)){var H,he=[a];return typeof G=="function"&&(he=G(i.engine,a)),(!W||(H=i.engine).trigger.apply(H,[W].concat((0,ne.Z)(he)))!==!1)&&B.trigger(a),!0}return!1});if(s===!1&&this.engine.trigger(t+":default",a)!==!1){var h;(h=this.getHandleListener("default",t))===null||h===void 0||h.trigger(a)}}},{key:"destroy",value:function(){var t=this.engine.container;this.handleListeners=[],t.off("keydown",this.bindKeydown),t.off("keyup",this.bindKeyup)}}]),at}(),vu="data-placeholder",$d="am-engine-placeholder",Md=function(){function at(F,t){var a=this;(0,p.Z)(this,at),this.options=void 0,this.node=void 0,this._focused=!1,this._setFocus=function(){a._focused=!0},this._setBlur=function(){a._focused=!1},this.handleClick=function(s){var h=a.options,w=h.engine,I=h.autoAppend,B=h.autoPrepend;if(s.target&&!w.readonly&&Gn(w)){var W,G,H,he=nn(s.target);if(!he.isEditable())return;var ge=nn("<p><br /></p>"),Oe=he.closest("".concat(Mt,",").concat(jt)),rt=Oe.first();rt||w.change.initValue(void 0,!0,he);var bt=Oe.last(),Ct=!1;if(B!==!1&&rt&&s.offsetY<(((W=rt.get())===null||W===void 0?void 0:W.offsetTop)||0)&&!w.node.isEmptyWidthChild(rt)?(Oe.prepend(ge),Ct=!0):I!==!1&&bt&&s.offsetY>(((G=bt.get())===null||G===void 0?void 0:G.offsetTop)||0)+(((H=bt.get())===null||H===void 0?void 0:H.clientHeight)||0)&&!w.node.isEmptyWidthChild(bt)&&(Oe.append(ge),Ct=!0),Ct){var Dt=w.change.range.get();Dt.select(ge,!0).collapse(!1),w.change.apply(Dt)}}},this.handleFocus=function(){var s=a.options.engine;a.triggerFoucs(),!s.ot.isStopped()&&s.isEmpty()&&s.change.initValue()},this.focusTimeout=null,this.triggerFoucs=function(){var s=a.options.engine;a.focusTimeout&&clearTimeout(a.focusTimeout),a.focusTimeout=setTimeout(function(){if(!a._focused){var h=s.change.range.get();(h.commonAncestorNode.isRoot(s.container)||h.commonAncestorNode.inEditor(s.container))&&(s.change.range.setLastBlurRange(),s.trigger("focus"))}},0)},this.onInput=function(s){var h=a.options.engine;if(!h.readonly&&!(s.target&&h.card.find(nn(s.target)))){var w=h.change.range.get();w.handleBr(!0)}},this.onRealtimeChange=function(){var s=a.options.engine;s.isEmpty()?s.showPlaceholder():s.hidePlaceholder()},this.blurTimeout=null,this.docMouseDown=function(s){if(!!s.target){var h=nn(s.target),w=a.options.engine;if(a._focused&&h.closest(bn).length===0&&!h.inEditor(w.container)){a.blurTimeout&&clearTimeout(a.blurTimeout);var I=w.change.range.get();a.blurTimeout=setTimeout(function(){var B=w.change.range.get();B.commonAncestorNode.inEditor(w.container)||(w.change.range.setLastBlurRange(I),w.trigger("blur"))},0)}}},this.node=nn(F),this.options=t,this._init(),this._focused=document.activeElement!==null&&this.node.equal(document.activeElement);var i=t.engine;i.on("blur",this._setBlur),i.on("focus",this._setFocus)}return(0,d.Z)(at,[{key:"_init",value:function(){var t,a=this,i=this.options,s=i.lang,h=i.tabIndex,w=i.className;this.node.attributes((t={},(0,j.Z)(t,Ys,"true"),(0,j.Z)(t,"role","textbox"),(0,j.Z)(t,"autocorrect",s==="en-US"?"on":"off"),(0,j.Z)(t,"autocomplete","off"),(0,j.Z)(t,"spellcheck",s==="en-US"?"true":"false"),(0,j.Z)(t,"data-gramm","false"),t)),h!==void 0&&this.node.attributes("tabindex",h),this.node.hasClass(Me)||this.node.addClass(Me),Gt&&this.node.addClass(yn),w!==void 0&&(Array.isArray(w)?w:w.split(/\s+/)).forEach(function(I){I.trim()!==""&&a.node.addClass(I)})}},{key:"init",value:function(){var t=this.options.engine;this.node.on("input",this.onInput),t.on("realtimeChange",this.onRealtimeChange),this.node.on("click",this.handleClick),document.addEventListener("mousedown",this.docMouseDown),this.node.on(Gt?"touchstart":"mousedown",this.triggerFoucs,{passive:!0}),this.node.on("focus",this.handleFocus)}},{key:"isFocus",value:function(){return this._focused}},{key:"getNode",value:function(){return this.node}},{key:"setReadonly",value:function(t){this.node.attributes(Ys,t?"false":"true")}},{key:"showPlaceholder",value:function(){var t=this.options.placeholder;t&&(this.node.attributes((0,j.Z)({},vu,t)),this.node.addClass($d))}},{key:"hidePlaceholder",value:function(){this.node.removeAttributes(vu),this.node.removeClass($d)}},{key:"destroy",value:function(){var t=this,a=this.options,i=a.className,s=a.engine;s.on("blur",this._setBlur),s.on("focus",this._setFocus),s.off("realtimeChange",this.onRealtimeChange),document.removeEventListener("mousedown",this.docMouseDown),this.node.removeAttributes(Ys),this.node.removeAttributes("role"),this.node.removeAttributes("autocorrect"),this.node.removeAttributes("autocomplete"),this.node.removeAttributes("spellcheck"),this.node.removeAttributes("data-gramm"),this.node.removeAttributes("tabindex"),this.node.removeAttributes(vu),this.options.className&&(Array.isArray(i)?i:(i||"").split(/\s+/)).forEach(function(h){h.trim()!==""&&t.node.removeClass(h)}),s.card.closest(this.node)&&this.node.removeClass(Me),this.node.removeAllEvents()}}]),at}(),gd=function(){function at(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,p.Z)(this,at),this.data={},this.locale="zh-CN",this.locale=F,this.data=t}return(0,d.Z)(at,[{key:"add",value:function(t){this.data=ze()(this.data,t)}},{key:"get",value:function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var s=function h(){for(var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1?arguments[1]:void 0,B=w;B<a.length;B++){var W=I[a[B]];return(0,U.Z)(W)==="object"?h(B+1,W):W||""}return I};return s(0,this.data[this.locale])}}]),at}(),bf={dnd:{title:"Drag to reposition"},copy:{title:"Copy",success:"Copied successfully",error:"Copy error"},delete:{title:"Delete"},copyAnchor:{title:"Copy anchor link"},link:{placeholder:"Please enter a link or anchor and press Enter to confirm",save:"Apply",edit:"Change",delete:"Remove link",open:"Open link",text:"link"},copyContent:{title:"copy content"},maximize:{title:"Maximize",back:"Back to document"},expand:{title:"Embedded preview"},collapse:{title:"Compact display"},card:{lockAlert:"Please wait for the other user to finish editing"},preferences:{title:"Preferences"},download:{title:"Download"},more:{title:"More"},checkMarkdown:{title:"It is detected that the paste content conforms to the Markdown syntax. Do you need to do style conversion?"},searchEmtpy:{title:"No matching card"}},pc={dnd:{title:"\u62D6\u52A8\u8C03\u6574\u4F4D\u7F6E"},copy:{title:"\u590D\u5236",success:"\u590D\u5236\u6210\u529F",error:"\u590D\u5236\u5931\u8D25"},delete:{title:"\u5220\u9664"},copyAnchor:{title:"\u590D\u5236\u951A\u70B9\u94FE\u63A5"},link:{placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u6216\u951A\u70B9\uFF0C\u56DE\u8F66\u786E\u8BA4",save:"\u4FDD\u5B58",edit:"\u7F16\u8F91",delete:"\u53D6\u6D88\u94FE\u63A5",open:"\u6253\u5F00\u94FE\u63A5",text:"\u94FE\u63A5"},copyContent:{title:"\u590D\u5236\u5185\u5BB9"},maximize:{title:"\u6700\u5927\u5316",back:"\u8FD4\u56DE\u6587\u6863"},expand:{title:"\u5D4C\u5165\u9884\u89C8"},collapse:{title:"\u7D27\u51D1\u5C55\u793A"},card:{lockAlert:"\u8BF7\u7B49\u5F85\u5BF9\u65B9\u7F16\u8F91\u5B8C\u6BD5\u540E\uFF0C\u518D\u8FDB\u5165\u7F16\u8F91"},preferences:{title:"\u8BBE\u7F6E"},download:{title:"\u4E0B\u8F7D"},more:{title:"\u66F4\u591A"},checkMarkdown:{title:"\u68C0\u6D4B\u5230\u7C98\u8D34\u5185\u5BB9\u7B26\u5408 Markdown \u8BED\u6CD5\uFF0C\u662F\u5426\u9700\u8981\u8F6C\u6362\uFF1F"},searchEmtpy:{title:"\u65E0\u5339\u914D\u5361\u7247"}},yf={"en-US":bf,"zh-CN":pc},Du=(0,d.Z)(function at(F,t){(0,p.Z)(this,at),this.editor=void 0,this.options=void 0,this.kind="plugin",this.name=this.constructor.pluginName,this.disabled=void 0,this.editor=F,this.options=t||{};var a=this.options.disabled;this.disabled=a});Du.pluginName=void 0;var Qu=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.kind="element",a.sechamCache=void 0,a.tagName=void 0,a.style=void 0,a.attributes=void 0,a.variable=void 0,a}return(0,d.Z)(t,[{key:"init",value:function(){var i=this.editor,s=i.schema,h=i.conversion;s.add(this.schema()),this.conversion&&this.conversion().forEach(function(w){var I=w.from,B=w.to;h.add(I,B)})}},{key:"setStyle",value:function(i){for(var s=this,h=arguments.length,w=new Array(h>1?h-1:0),I=1;I<h;I++)w[I-1]=arguments[I];Ti(i)&&(i=nn(i)),this.style&&Object.keys(this.style).forEach(function(B){var W,G=s.style[B];(0,U.Z)(G)==="object"&&(G=G.value),(W=G.match(/@var\d/g))===null||W===void 0||W.forEach(function(H){var he=parseInt(H.replace("@var",""),10);G=G.replace(new RegExp(H,"gm"),w[he]||"")}),i.css(B,G)})}},{key:"setAttributes",value:function(i){for(var s=this,h=arguments.length,w=new Array(h>1?h-1:0),I=1;I<h;I++)w[I-1]=arguments[I];Ti(i)&&(i=nn(i)),this.attributes&&Object.keys(this.attributes).forEach(function(B){var W,G=s.attributes[B];(0,U.Z)(G)==="object"&&(G=G.value),(W=G.match(/@var\d/g))===null||W===void 0||W.forEach(function(H){var he=parseInt(H.replace("@var",""),10);G=G.replace(new RegExp(H,"gm"),w[he]||"")}),i.attributes(B,G)})}},{key:"getStyle",value:function(i){var s=this;Ti(i)&&(i=nn(i));var h={};return this.style&&this.isSelf(i)&&Object.keys(this.style).forEach(function(w){i=i;var I=w.toLowerCase().indexOf("color")>-1?(0,De.Z)(i.css(w)||"").toHexString():i.css(w),B=s.style[w];(0,U.Z)(B)==="object"&&(I=B.format(I)),I&&(h[w]=I)}),h}},{key:"getAttributes",value:function(i){var s=this;Ti(i)&&(i=nn(i));var h={};return this.attributes&&this.isSelf(i)&&Object.keys(this.attributes).forEach(function(w){var I=i.attributes(w),B=s.attributes[w];(0,U.Z)(B)==="object"&&(I=B.format(I)),I&&(h[w]=I)}),h}},{key:"isSelf",value:function(i){Ti(i)&&(i=nn(i));var s=this.schema();return Array.isArray(s)&&(s=s.find(function(h){var w=h.name;return w===i.name})),s?(Array.isArray(this.tagName)?this.tagName.indexOf(i.name)>-1:i.name===this.tagName)&&this.editor.schema.checkNode(i,s.attributes):!1}},{key:"schema",value:function(){var i=this;if(this.sechamCache)return this.sechamCache;var s={};if(this.attributes&&Object.keys(this.attributes).forEach(function(I){var B,W=i.attributes[I];(0,U.Z)(W)==="object"&&(W=W.value),s[I]=W,(B=W.match(/@var\d/g))===null||B===void 0||B.forEach(function(G){if(!i.variable)throw"Please specify the variable type";s[I]=i.variable[G]})}),this.style){var h={};Object.keys(this.style).forEach(function(I){var B,W=i.style[I];(0,U.Z)(W)==="object"&&(W=W.value),(B=W.match(/@var\d/g))===null||B===void 0||B.forEach(function(G){if(!i.variable)throw"Please specify the variable type";h[I]=i.variable[G]})}),s=(0,m.Z)((0,m.Z)({},s),{},{style:h})}if(this.sechamCache={type:this.kind,attributes:s},typeof this.tagName=="string")this.sechamCache.name=this.tagName.toLowerCase();else if(Array.isArray(this.tagName)){var w=[];this.tagName.forEach(function(I){w.push((0,m.Z)((0,m.Z)({},i.sechamCache),{},{name:I}))}),this.sechamCache=w}return this.sechamCache}},{key:"createElement",value:function(){for(var i=nn("<".concat(this.tagName," />")),s=arguments.length,h=new Array(s),w=0;w<s;w++)h[w]=arguments[w];return this.setStyle.apply(this,[i].concat(h)),this.setAttributes.apply(this,[i].concat(h)),i}}]),t}(Du),Xd=function(F){return F.kind==="element"},Sl=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.kind="block",a.allowIn=void 0,a.disableMark=void 0,a.canMerge=void 0,a}return(0,d.Z)(t,[{key:"schema",value:function(){var i=this,s=(0,M.Z)((0,D.Z)(t.prototype),"schema",this).call(this);return Array.isArray(s)?s.map(function(h){return(0,m.Z)((0,m.Z)({},h),{},{allowIn:i.allowIn})}):(0,m.Z)((0,m.Z)({},s),{},{allowIn:this.allowIn,canMerge:this.canMerge})}}]),t}(Qu),Iu=function(F){return F.kind==="block"},md=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.kind="inline",a.markdown=void 0,a}return(0,d.Z)(t,[{key:"execute",value:function(){var i=this.editor;if(!!Gn(i)){for(var s=nn("<".concat(this.tagName," />")),h=arguments.length,w=new Array(h),I=0;I<h;I++)w[I]=arguments[I];this.setStyle.apply(this,[s].concat(w)),this.setAttributes.apply(this,[s].concat(w));var B=i.inline,W=this.isTrigger?this.isTrigger.apply(this,w):!this.queryState();W?B.wrap(s):B.unwrap()}}},{key:"queryState",value:function(){var i=this,s=this.editor;if(!!Gn(s)){var h=s.change;if(!this.style&&!this.attributes)return h.inlines.some(function(I){return I.name===i.tagName});var w=[];return h.inlines.forEach(function(I){w.push.apply(w,(0,ne.Z)(Object.values(i.getStyle(I)))),w.push.apply(w,(0,ne.Z)(Object.values(i.getAttributes(I))))}),w.length===0?void 0:w}}}]),t}(Qu),Lu=function(F){return F.kind==="inline"},Ou=`.am-engine ol, .am-engine-view ol, .am-engine ul, .am-engine-view ul {
    margin: 0 0 0 3px;
    padding: 0;
    list-style: none;
}

.am-engine ol ul,.am-engine-view ol ul,.am-engine ul ul,.am-engine-view ul ul,.am-engine ol ol,.am-engine-view ol ol,.am-engine ul ol,.am-engine-view ul ol {
	margin-left: 0;
}

.am-engine ol ul li,.am-engine-view ol ul li,.am-engine ul ul li,.am-engine-view ul ul li,.am-engine ol ol li,.am-engine-view ol ol li,.am-engine ul ol li,.am-engine-view ul ol li {
	margin-left: 2em;
}

.am-engine ol ol[data-indent-new="0"],.am-engine-view ol ol[data-indent-new="0"],.am-engine ul ol[data-indent-new="0"],.am-engine-view ul ol[data-indent-new="0"],.am-engine ol ol[data-indent-new="3"],.am-engine-view ol ol[data-indent-new="3"],.am-engine ul ol[data-indent-new="3"],.am-engine-view ul ol[data-indent-new="3"],.am-engine ol ol[data-indent-new="6"],.am-engine-view ol ol[data-indent-new="6"],.am-engine ul ol[data-indent-new="6"],.am-engine-view ul ol[data-indent-new="6"],.am-engine ol ol[data-indent-new="6"],.am-engine ol ol[data-indent-new="9"],.am-engine-view ol ol[data-indent-new="9"],.am-engine ul ol[data-indent-new="9"],.am-engine-view ul ol[data-indent-new="9"],.am-engine ol ol[data-indent-new="12"],.am-engine-view ol ol[data-indent-new="12"],.am-engine ul ol[data-indent-new="12"],.am-engine-view ul ol[data-indent-new="12"],.am-engine ol ol[data-indent-new="15"],.am-engine-view ol ol[data-indent-new="15"],.am-engine ul ol[data-indent-new="15"],.am-engine-view ul ol[data-indent-new="15"],.am-engine ol ol[data-indent-new="18"],.am-engine-view ol ol[data-indent-new="18"],.am-engine ul ol[data-indent-new="18"],.am-engine-view ul ol[data-indent-new="18"] {
	list-style-type: decimal;
}

.am-engine ol ol[data-indent-new="1"],.am-engine-view ol ol[data-indent-new="1"],.am-engine ul ol[data-indent-new="1"],.am-engine-view ul ol[data-indent-new="1"],.am-engine ol ol[data-indent-new="4"],.am-engine-view ol ol[data-indent-new="4"],.am-engine ul ol[data-indent-new="4"],.am-engine-view ul ol[data-indent-new="4"],.am-engine ol ol[data-indent-new="7"],.am-engine-view ol ol[data-indent-new="7"],.am-engine ul ol[data-indent-new="7"],.am-engine-view ul ol[data-indent-new="7"],.am-engine ol ol[data-indent-new="10"],.am-engine-view ol ol[data-indent-new="10"],.am-engine ul ol[data-indent-new="10"],.am-engine-view ul ol[data-indent-new="10"],.am-engine ol ol[data-indent-new="13"],.am-engine-view ol ol[data-indent-new="13"],.am-engine ul ol[data-indent-new="13"],.am-engine-view ul ol[data-indent-new="13"],.am-engine ol ol[data-indent-new="16"],.am-engine-view ol ol[data-indent-new="16"],.am-engine ul ol[data-indent-new="16"],.am-engine-view ul ol[data-indent-new="16"],.am-engine ol ol[data-indent-new="19"],.am-engine-view ol ol[data-indent-new="19"],.am-engine ul ol[data-indent-new="19"],.am-engine-view ul ol[data-indent-new="19"] {
	list-style-type: lower-alpha;
}

.am-engine ol ol[data-indent-new="2"],.am-engine-view ol ol[data-indent-new="2"],.am-engine ul ol[data-indent-new="2"],.am-engine-view ul ol[data-indent-new="2"],.am-engine ol ol[data-indent-new="5"],.am-engine-view ol ol[data-indent-new="5"],.am-engine ul ol[data-indent-new="5"],.am-engine-view ul ol[data-indent-new="5"],.am-engine ol ol[data-indent-new="8"],.am-engine-view ol ol[data-indent-new="8"],.am-engine ul ol[data-indent-new="8"],.am-engine-view ul ol[data-indent-new="8"],.am-engine ol ol[data-indent-new="11"],.am-engine-view ol ol[data-indent-new="11"],.am-engine ul ol[data-indent-new="11"],.am-engine-view ul ol[data-indent-new="11"],.am-engine ol ol[data-indent-new="14"],.am-engine-view ol ol[data-indent-new="14"],.am-engine ul ol[data-indent-new="14"],.am-engine-view ul ol[data-indent-new="14"],.am-engine ol ol[data-indent-new="17"],.am-engine-view ol ol[data-indent-new="17"],.am-engine ul ol[data-indent-new="17"],.am-engine-view ul ol[data-indent-new="17"],.am-engine ol ol[data-indent-new="20"],.am-engine-view ol ol[data-indent-new="20"],.am-engine ul ol[data-indent-new="20"],.am-engine-view ul ol[data-indent-new="20"] {
	list-style-type: lower-roman;
}

.am-engine ol ul[data-indent-new="3"],.am-engine-view ol ul[data-indent-new="3"],.am-engine ul ul[data-indent-new="3"],.am-engine-view ul ul[data-indent-new="3"],.am-engine ol ul[data-indent-new="6"],.am-engine-view ol ul[data-indent-new="6"],.am-engine ul ul[data-indent-new="6"],.am-engine-view ul ul[data-indent-new="6"],.am-engine ol ul[data-indent-new="9"],.am-engine-view ol ul[data-indent-new="9"],.am-engine ul ul[data-indent-new="9"],.am-engine-view ul ul[data-indent-new="9"],.am-engine ol ul[data-indent-new="12"],.am-engine-view ol ul[data-indent-new="12"],.am-engine ul ul[data-indent-new="12"],.am-engine-view ul ul[data-indent-new="12"],.am-engine ol ul[data-indent-new="15"],.am-engine-view ol ul[data-indent-new="15"],.am-engine ul ul[data-indent-new="15"],.am-engine-view ul ul[data-indent-new="15"],.am-engine ol ul[data-indent-new="18"],.am-engine-view ol ul[data-indent-new="18"],.am-engine ul ul[data-indent-new="18"],.am-engine-view ul ul[data-indent-new="18"] {
	list-style-type: disc;
}

.am-engine ol ul[data-indent-new="1"],.am-engine-view ol ul[data-indent-new="1"],.am-engine ul ul[data-indent-new="1"],.am-engine-view ul ul[data-indent-new="1"],.am-engine ol ul[data-indent-new="4"],.am-engine-view ol ul[data-indent-new="4"],.am-engine ul ul[data-indent-new="4"],.am-engine-view ul ul[data-indent-new="4"],.am-engine ol ul[data-indent-new="7"],.am-engine-view ol ul[data-indent-new="7"],.am-engine ul ul[data-indent-new="7"],.am-engine-view ul ul[data-indent-new="7"],.am-engine ol ul[data-indent-new="10"],.am-engine-view ol ul[data-indent-new="10"],.am-engine ul ul[data-indent-new="10"],.am-engine-view ul ul[data-indent-new="10"],.am-engine ol ul[data-indent-new="13"],.am-engine-view ol ul[data-indent-new="13"],.am-engine ul ul[data-indent-new="13"],.am-engine-view ul ul[data-indent-new="13"],.am-engine ol ul[data-indent-new="16"],.am-engine-view ol ul[data-indent-new="16"],.am-engine ul ul[data-indent-new="16"],.am-engine-view ul ul[data-indent-new="16"],.am-engine ol ul[data-indent-new="19"],.am-engine-view ol ul[data-indent-new="19"],.am-engine ul ul[data-indent-new="19"],.am-engine-view ul ul[data-indent-new="19"] {
	list-style-type: circle;
}

.am-engine ol ul[data-indent-new="2"],.am-engine-view ol ul[data-indent-new="2"],.am-engine ul ul[data-indent-new="2"],.am-engine-view ul ul[data-indent-new="2"],.am-engine ol ul[data-indent-new="5"],.am-engine-view ol ul[data-indent-new="5"],.am-engine ul ul[data-indent-new="5"],.am-engine-view ul ul[data-indent-new="5"],.am-engine ol ul[data-indent-new="8"],.am-engine-view ol ul[data-indent-new="8"],.am-engine ul ul[data-indent-new="8"],.am-engine-view ul ul[data-indent-new="8"],.am-engine ol ul[data-indent-new="11"],.am-engine-view ol ul[data-indent-new="11"],.am-engine ul ul[data-indent-new="11"],.am-engine-view ul ul[data-indent-new="11"],.am-engine ol ul[data-indent-new="14"],.am-engine-view ol ul[data-indent-new="14"],.am-engine ul ul[data-indent-new="14"],.am-engine-view ul ul[data-indent-new="14"],.am-engine ol ul[data-indent-new="17"],.am-engine-view ol ul[data-indent-new="17"],.am-engine ul ul[data-indent-new="17"],.am-engine-view ul ul[data-indent-new="17"],.am-engine ol ul[data-indent-new="20"],.am-engine-view ol ul[data-indent-new="20"],.am-engine ul ul[data-indent-new="20"],.am-engine-view ul ul[data-indent-new="20"] {
	list-style-type: square;
}

.am-engine li,.am-engine-view li {
	margin-left: 23px;
    position: relative;
}

.am-engine ol,.am-engine-view ol,.am-engine ol[data-indent="3"],.am-engine-view ol[data-indent="3"],.am-engine ol[data-indent="6"],.am-engine-view ol[data-indent="6"],.am-engine ol[data-indent="9"],.am-engine-view ol[data-indent="9"],.am-engine ol[data-indent="12"],.am-engine-view ol[data-indent="12"],.am-engine ol[data-indent="15"],.am-engine-view ol[data-indent="15"],.am-engine ol[data-indent="18"],.am-engine-view ol[data-indent="18"] {
	list-style-type: decimal;
}

.am-engine ol[data-indent="1"],.am-engine-view ol[data-indent="1"],.am-engine ol[data-indent="4"],.am-engine-view ol[data-indent="4"],.am-engine ol[data-indent="7"],.am-engine-view ol[data-indent="7"],.am-engine ol[data-indent="10"],.am-engine-view ol[data-indent="10"],.am-engine ol[data-indent="13"],.am-engine-view ol[data-indent="13"],.am-engine ol[data-indent="16"],.am-engine-view ol[data-indent="16"],.am-engine ol[data-indent="19"],.am-engine-view ol[data-indent="19"] {
	list-style-type: lower-alpha;
}

.am-engine ol[data-indent="2"],.am-engine-view ol[data-indent="2"],.am-engine ol[data-indent="5"],.am-engine-view ol[data-indent="5"],.am-engine ol[data-indent="8"],.am-engine-view ol[data-indent="8"],.am-engine ol[data-indent="11"],.am-engine-view ol[data-indent="11"],.am-engine ol[data-indent="14"],.am-engine-view ol[data-indent="14"],.am-engine ol[data-indent="17"],.am-engine-view ol[data-indent="17"],.am-engine ol[data-indent="20"],.am-engine-view ol[data-indent="20"] {
	list-style-type: lower-roman;
}

.am-engine ul,.am-engine-view ul,.am-engine ul[data-indent="3"],.am-engine-view ul[data-indent="3"],.am-engine ul[data-indent="6"],.am-engine-view ul[data-indent="6"],.am-engine ul[data-indent="9"],.am-engine-view ul[data-indent="9"],.am-engine ul[data-indent="12"],.am-engine-view ul[data-indent="12"],.am-engine ul[data-indent="15"],.am-engine-view ul[data-indent="15"],.am-engine ul[data-indent="18"],.am-engine-view ul[data-indent="18"] {
	list-style-type: disc;
}

.am-engine ul[data-indent="1"],.am-engine-view ul[data-indent="1"],.am-engine ul[data-indent="4"],.am-engine-view ul[data-indent="4"],.am-engine ul[data-indent="7"],.am-engine-view ul[data-indent="7"],.am-engine ul[data-indent="10"],.am-engine-view ul[data-indent="10"],.am-engine ul[data-indent="13"],.am-engine-view ul[data-indent="13"],.am-engine ul[data-indent="16"],.am-engine-view ul[data-indent="19"],.am-engine ul[data-indent="19"],.am-engine-view ul[data-indent="19"] {
	list-style-type: circle;
}

.am-engine ul[data-indent="2"],.am-engine-view ul[data-indent="2"],.am-engine ul[data-indent="5"],.am-engine-view ul[data-indent="5"],.am-engine ul[data-indent="8"],.am-engine-view ul[data-indent="8"],.am-engine ul[data-indent="11"],.am-engine-view ul[data-indent="11"],.am-engine ul[data-indent="14"],.am-engine-view ul[data-indent="14"],.am-engine ul[data-indent="17"],.am-engine-view ul[data-indent="17"],.am-engine ul[data-indent="20"],.am-engine-view ul[data-indent="20"] {
	list-style-type: square;
}

.am-engine ol[data-indent="1"],.am-engine-view ol[data-indent="1"],.am-engine ul[data-indent="1"],.am-engine-view ul[data-indent="1"] {
	padding-left: 2em;
}

.am-engine ol[data-indent="2"],.am-engine-view ol[data-indent="2"],.am-engine ul[data-indent="2"],.am-engine-view ul[data-indent="2"] {
	padding-left: 4em;
}

.am-engine ol[data-indent="3"],.am-engine-view ol[data-indent="3"],.am-engine ul[data-indent="3"],.am-engine-view ul[data-indent="3"] {
	padding-left: 6em;
}

.am-engine ol[data-indent="4"],.am-engine-view ol[data-indent="4"],.am-engine ul[data-indent="4"],.am-engine-view ul[data-indent="4"] {
	padding-left: 8em;
}

.am-engine ol[data-indent="5"],.am-engine-view ol[data-indent="5"],.am-engine ul[data-indent="5"],.am-engine-view ul[data-indent="5"] {
	padding-left: 10em;
}

.am-engine ol[data-indent="6"],.am-engine-view ol[data-indent="6"],.am-engine ul[data-indent="6"],.am-engine-view ul[data-indent="6"] {
	padding-left: 12em;
}

.am-engine ol[data-indent="7"],.am-engine-view ol[data-indent="7"],.am-engine ul[data-indent="7"],.am-engine-view ul[data-indent="7"] {
	padding-left: 14em;
}

.am-engine ol[data-indent="8"],.am-engine-view ol[data-indent="8"],.am-engine ul[data-indent="8"],.am-engine-view ul[data-indent="8"] {
	padding-left: 16em;
}

.am-engine ol[data-indent="8"],.am-engine-view ol[data-indent="8"],.am-engine ul[data-indent="8"],.am-engine-view ul[data-indent="8"] {
	padding-left: 16em;
}

.am-engine ol[data-indent="9"],.am-engine-view ol[data-indent="9"],.am-engine ul[data-indent="9"],.am-engine-view ul[data-indent="9"] {
	padding-left: 18em;
}

.am-engine ol[data-indent="10"],.am-engine-view ol[data-indent="10"],.am-engine ul[data-indent="10"],.am-engine-view ul[data-indent="10"] {
	padding-left: 20em;
}
.am-engine ol[data-indent="11"],.am-engine-view ol[data-indent="11"],.am-engine ul[data-indent="11"],.am-engine-view ul[data-indent="11"] {
	padding-left: 22em;
}

.am-engine ol[data-indent="12"],.am-engine-view ol[data-indent="12"],.am-engine ul[data-indent="8"],.am-engine-view ul[data-indent="12"] {
	padding-left: 24em;
}

.am-engine ol[data-indent="13"],.am-engine-view ol[data-indent="13"],.am-engine ul[data-indent="13"],.am-engine-view ul[data-indent="13"] {
	padding-left: 26em;
}

.am-engine ol[data-indent="14"],.am-engine-view ol[data-indent="14"],.am-engine ul[data-indent="14"],.am-engine-view ul[data-indent="14"] {
	padding-left: 28em;
}

.am-engine ol[data-indent="15"],.am-engine-view ol[data-indent="15"],.am-engine ul[data-indent="15"],.am-engine-view ul[data-indent="15"] {
	padding-left: 30em;
}
.am-engine ol[data-indent="16"],.am-engine-view ol[data-indent="16"],.am-engine ul[data-indent="16"],.am-engine-view ul[data-indent="16"] {
	padding-left: 32em;
}
.am-engine ol[data-indent="17"],.am-engine-view ol[data-indent="17"],.am-engine ul[data-indent="17"],.am-engine-view ul[data-indent="17"] {
	padding-left: 34em;
}
.am-engine ol[data-indent="18"],.am-engine-view ol[data-indent="18"],.am-engine ul[data-indent="18"],.am-engine-view ul[data-indent="18"] {
	padding-left: 36em;
}
.am-engine ol[data-indent="19"],.am-engine-view ol[data-indent="19"],.am-engine ul[data-indent="19"],.am-engine-view ul[data-indent="19"] {
	padding-left: 38em;
}
.am-engine ol[data-indent="20"],.am-engine-view ol[data-indent="20"],.am-engine ul[data-indent="20"],.am-engine-view ul[data-indent="20"] {
	padding-left: 40em;
}

.am-engine .data-list,.am-engine-view .data-list {
	color: #262626;
	text-indent: 0;
}

.am-engine .data-list-item,.am-engine-view .data-list-item {
    line-height: inherit;
    position: relative;
    list-style: none;
    text-indent: 0;
}
`;Cl(Ou);var Zc=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.cardName=void 0,a.isPasteList=!1,a.canMerge=!0,a.pasteBefore=function(w){var I=a.editor;if(!(!a.cardName||!I)){var B=I.list,W=nn(w),G=W.allChildren();G.forEach(function(H){if(H.name==="li"&&H.hasClass(B.CUSTOMZIE_LI_CLASS)){var he;if(!((he=H.first())===null||he===void 0)&&he.isCard())H.closest("ul").addClass(B.CUSTOMZIE_UL_CLASS);else{H.removeClass(B.CUSTOMZIE_LI_CLASS),H.closest("ul").removeClass(B.CUSTOMZIE_UL_CLASS);return}}}),a.isPasteList=G.some(function(H){return H.name==="li"})}},a.pasteInsert=function(){var w=a.editor;if(!(!a.cardName||!Gn(w))){var I=w.change,B=w.list,W=I.range.get(),G=W.getRootBlock(),H=G==null?void 0:G.next(),he=H==null?void 0:H.find("li.".concat(B.CUSTOMZIE_LI_CLASS));he&&he.length>0&&he.each(function(ge){var Oe=nn(ge);Oe.find("[".concat(_i,"=").concat(a.cardName,"],[").concat(Vr,"=").concat(a.cardName,"]")).length===0&&B.addReadyCardToCustomize(Oe,a.cardName)})}},a.pasteAfter=function(){if(a.isPasteList){var w;(w=a.editor)===null||w===void 0||w.list.merge()}},a}return(0,d.Z)(t,[{key:"init",value:function(){(0,M.Z)((0,D.Z)(t.prototype),"init",this).call(this);var i=this.editor;Gn(i)&&(i.on("paste:before",this.pasteBefore),i.on("paste:insert",this.pasteInsert),i.on("paste:after",this.pasteAfter))}},{key:"queryState",value:function(){var i=this.editor;return Gn(i)?i.list.getPluginNameByNodes(i.change.blocks)===this.constructor.pluginName:!1}},{key:"destroy",value:function(){var i=this.editor;Gn(i)&&(i.off("paste:before",this.pasteBefore),i.off("paste:insert",this.pasteInsert),i.off("paste:after",this.pasteAfter))}}]),t}(Sl),_f=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(){var a;(0,p.Z)(this,t);for(var i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return a=F.call.apply(F,[this].concat(s)),a.kind="mark",a.copyOnEnter=void 0,a.followStyle=!0,a.combineValueByWrap=!1,a.mergeLeval=1,a}return(0,d.Z)(t,[{key:"execute",value:function(){var i=this.editor;if(!!Gn(i)){var s=i.change,h=i.mark,w=this.createElement.apply(this,arguments),I=this.isTrigger?this.isTrigger.apply(this,arguments):!this.queryState();if(I){if(!this.followStyle&&s.range.get().collapsed)return;h.wrap(w)}else h.unwrap(w)}}},{key:"queryState",value:function(){var i=this,s=this.editor;if(!!Gn(s)){var h=s.change;if(!this.style&&!this.attributes)return h.marks.some(function(I){return I.name===i.tagName});var w=[];return h.marks.forEach(function(I){w.push.apply(w,(0,ne.Z)(Object.values(i.getStyle(I)))),w.push.apply(w,(0,ne.Z)(Object.values(i.getAttributes(I))))}),w.length===0?void 0:w}}},{key:"schema",value:function(){var i=(0,M.Z)((0,D.Z)(t.prototype),"schema",this).call(this);return Array.isArray(i)?i.map(function(s){return(0,m.Z)({},s)}):(0,m.Z)({},i)}}]),t}(Qu),xf=function(F){return F.kind==="mark"},Ju=function(){function at(F){(0,p.Z)(this,at),this.data={},this.components={},this.editor=void 0,this.editor=F}return(0,d.Z)(at,[{key:"init",value:function(t,a){var i=this;t.forEach(function(s){i.data[s.pluginName]=s;var h=new s(i.editor,a[s.pluginName]);i.components[s.pluginName]=h,h.init&&h.init()})}},{key:"add",value:function(t,a){this.data[t.pluginName]=t,a=(0,m.Z)({},a);var i=this.editor;if(Gn(i)){var s=new t(i,a);s.init&&s.init(),this.components[t.pluginName]=s}}},{key:"findPlugin",value:function(t){var a=this.components[t];if(!!a)return a}},{key:"findElementPlugin",value:function(t){var a=this.findPlugin(t);if(!!a&&Xd(a))return a}},{key:"findMarkPlugin",value:function(t){var a=this.findPlugin(t);if(!!a&&xf(a))return a}},{key:"findInlinePlugin",value:function(t){var a=this.findPlugin(t);if(!!a&&Lu(a))return a}},{key:"findBlockPlugin",value:function(t){var a=this.findPlugin(t);if(!!a&&Iu(a))return a}},{key:"each",value:function(t){var a=this;Object.keys(this.data).forEach(function(i,s){t&&t(i,a.data[i],s)})}},{key:"destroy",value:function(){var t=this;Object.keys(this.components).forEach(function(a){var i=t.components[a];i.destroy&&i.destroy()})}}]),at}(),Qd=function(){function at(F){(0,p.Z)(this,at),this.editor=void 0,this.editor=F}return(0,d.Z)(at,[{key:"queryEnabled",value:function(t){var a=this.editor,i=a.plugin.components[t];if(!i||i.disabled||(!Gn(a)||a.readonly)&&i.disabled!==!1)return!1;var s=a.card;return s.active?!!((xf(i)||i.kind==="plugin")&&s.active.executeMark||s.active.isEditable):!0}},{key:"queryState",value:function(t){var a=this.editor,i=a.plugin.components[t];if(i&&i.queryState)try{for(var s=arguments.length,h=new Array(s>1?s-1:0),w=1;w<s;w++)h[w-1]=arguments[w];return i.queryState(h)}catch(I){a.messageError("command-query",I)}}},{key:"handleExecuteBefore",value:function(){var t,a=this.editor;if(Gn(a)){t=a.change;var i=t.range.get();if(!i.commonAncestorNode.isRoot()&&!i.commonAncestorNode.inEditor()){var s=i.commonAncestorNode.closest(bn),h=void 0;if(s.length>0){var w=s.attributes(ht);if(w){var I=a.card;h=I.find(w),h&&I.select(h)}}h||a.focus()}t.cacheRangeBeforeCommand()}return t}},{key:"execute",value:function(t){var a=this.editor,i=a.plugin.components[t];if(i&&i.execute){for(var s=this.handleExecuteBefore(),h=arguments.length,w=new Array(h>1?h-1:0),I=1;I<h;I++)w[I-1]=arguments[I];a.trigger.apply(a,["beforeCommandExecute",t].concat(w));try{var B=i.execute.apply(i,w);return s==null||s.combinText(),s==null||s.onSelect(),a.trigger.apply(a,["afterCommandExecute",t].concat(w)),B}catch(W){a.messageError("command-execute",W)}}}},{key:"executeMethod",value:function(t,a){var i=this.editor,s=i.plugin.components[t];if(s&&s[a])try{for(var h=Gn(i)?i.change:null,w=arguments.length,I=new Array(w>2?w-2:0),B=2;B<w;B++)I[B-2]=arguments[B];var W=s[a].apply(s,I);return h==null||h.combinText(),W}catch(G){i.messageError("command-excute-method",G)}}}]),at}(),nc=["blocks","inlines","marks","globals"],Nu=function(){function at(){(0,p.Z)(this,at),this._all=[],this._typeMap={},this._invalidKeys=[],this._tagMap={blocks:[],inlines:[],marks:[]},this.data={blocks:[],inlines:[],marks:[],globals:{}}}return(0,d.Z)(at,[{key:"add",value:function(t){var a=this;t=Te()(t),Array.isArray(t)||(t=[t]),t.forEach(function(B){Jd(B)?(B.attributes&&Object.keys(B.attributes).forEach(function(W){!a.data.globals[B.type]||(W==="style"?Object.keys(B.attributes.style).forEach(function(G){a.data.globals[B.type][W]&&a.data.globals[B.type][W][G]===B.attributes.style[G]&&delete B.attributes.style[G]}):a.data.globals[B.type][W]===B.attributes[W]&&delete B.attributes[W])}),B.type==="block"?a.data.blocks.push(B):B.type==="inline"?a.data.inlines.push(B):B.type==="mark"&&a.data.marks.push(B)):a.data["".concat(B.type,"s")]&&(a.data.globals[B.type]=ze()(Object.assign({},a.data.globals[B.type]),B.attributes))}),this.updateTagMap();var i=function(W){var G=W.attributes||{},H=G.style||{},he=0,ge=0;return Object.keys(G).forEach(function(Oe){var rt=G[Oe];Dd(rt)&&rt.required&&he++}),Object.keys(H).forEach(function(Oe){var rt=H[Oe];Dd(rt)&&rt.required&&ge++}),[he,ge]},s=this.data,h=s.blocks,w=s.marks,I=s.inlines;this._all=[].concat((0,ne.Z)(h),(0,ne.Z)(w),(0,ne.Z)(I)).sort(function(B,W){var G=i(B),H=(0,q.Z)(G,2),he=H[0],ge=H[1],Oe=i(W),rt=(0,q.Z)(Oe,2),bt=rt[0],Ct=rt[1];return he>bt?-1:he===bt?ge===Ct?0:ge>Ct?-1:1:1})}},{key:"updateTagMap",value:function(){var t=this;this._tagMap.marks=[],this.data.marks.forEach(function(a){~~t._tagMap.marks.indexOf(a.name)&&t._tagMap.marks.push(a.name)}),this._tagMap.blocks=[],this.data.blocks.forEach(function(a){~~t._tagMap.blocks.indexOf(a.name)&&t._tagMap.blocks.push(a.name)}),this._tagMap.inlines=[],this.data.inlines.forEach(function(a){~~t._tagMap.inlines.indexOf(a.name)&&t._tagMap.inlines.push(a.name)})}},{key:"getTags",value:function(t){return this._tagMap[t]}},{key:"remove",value:function(t){var a=this._all.findIndex(function(s){return se()(s,t)});a>-1&&this._all.splice(a,1);var i=this.data["".concat(t.type,"s")];i&&(a=i.findIndex(function(s){return se()(s,t)}),a>-1&&i.splice(a,1)),this._typeMap={},this.updateTagMap()}},{key:"clone",value:function(){var t=new at;return t._all=Te()(this._all),t._typeMap=Te()(this._typeMap),t._tagMap=Te()(this._tagMap),t.data=Te()(this.data),t}},{key:"find",value:function(t){var a=this,i=[];return nc.forEach(function(s){if(s!=="globals"){var h=a.data[s].filter(t);i.push.apply(i,(0,ne.Z)(h))}}),i}},{key:"getType",value:function(t,a){var i=Ti(t)?t:t[0];if(!(!i||i.nodeType!==Node.ELEMENT_NODE)){var s=i.getAttribute(et);if(s?s=s.split("-")[0]:s=ol(i,!1),!(i.nodeName!=="CARD"&&~this._invalidKeys.indexOf(s))){var h=this._typeMap[s];if(!!h&&(!a||a(h)))return h.type;var w=this.getRule(i,a);return w?this._typeMap[s]=w:this._invalidKeys.push(s),w==null?void 0:w.type}}}},{key:"getRule",value:function(t,a){var i=this,s=Ti(t)?t:t[0];return a=a||function(h){return h.name===s.localName},this._all.find(function(h){return a(h)&&i.checkNode(s,h.attributes)})}},{key:"checkNode",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Ti(t)?t:t[0];for(var s in a){var h;if(s!=="style"){var w=a;if(!w[s]||!this.checkValue(w,s,(h=i.getAttribute(s))!==null&&h!==void 0?h:void 0))return!1}}var I=cr(i.getAttribute("style")||""),B=a.style||{};for(var W in B)if(!B[W]||!this.checkValue(B,W,I[W]))return!1;return!0}},{key:"checkValue",value:function(t,a,i,s){if(!t[a])return!1;var h=t[a];if(Dd(h)){if(i===void 0)return!h.required;h=h.value}else if(!s||i===void 0)return!0;if(typeof h=="string"&&h.charAt(0)==="@")switch(h){case"@number":h=/^-?\d+(\.\d+)?$/;break;case"@length":h=/^-?\d+(\.\d+)?(\w*|%)$/;break;case"@color":h=/^(rgb(.+?)|#\w{3,6}|\w+)$/i;break;case"@url":h=Ar;break}return typeof h=="string"?h==="*"?!0:a==="class"?(i||"").split(/\s+/).some(function(w){return w.trim()===h}):h===i:Array.isArray(h)?a==="class"?(i||(i="*"),i.split(/\s+/).every(function(w){return w.trim()===""?!0:~h.indexOf(w.trim())})):h.indexOf(i)>-1:(0,U.Z)(h)==="object"&&typeof h.test=="function"?a==="class"?(i||"").split(/\s+/).every(function(w){return w.trim()===""?!0:h.test(w.trim())}):h.test(i||""):typeof h=="function"?h(i):!0}},{key:"filterStyles",value:function(t,a,i){var s=this;Object.keys(t).forEach(function(h){var w;(!(!((w=a.attributes)===null||w===void 0)&&w.style)||!s.checkValue(a.attributes.style,h,t[h],!0))&&(i&&i(h,t[h]),delete t[h])})}},{key:"filterAttributes",value:function(t,a,i){var s=this;Object.keys(t).forEach(function(h){(!a.attributes||!s.checkValue(a.attributes,h,t[h],!0))&&(i&&i(h,t[h]),delete t[h])})}},{key:"filter",value:function(t,a,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,h=this.getRule(t);if(!!h){var w=this.data.globals,I=w[h.type]?h.type:void 0,B=Object.assign({},h,{attributes:ze()({},h.attributes,I?w[I]:{})});this.filterAttributes(a,B,s?function(W){return t.removeAttributes(W)}:void 0),this.filterStyles(i,B,s?function(W){return t.css(W,"")}:void 0)}}},{key:"closest",value:function(t){var a=this,i=t;return this.data.blocks.forEach(function(s){if(s.name===t){var h=s;h.allowIn&&(h.allowIn.forEach(function(w){a.isAllowIn(w,i)&&(i=w)}),i=a.closest(i))}}),i}},{key:"isAllowIn",value:function(t,a){return t==="p"?!1:this.data.blocks.some(function(i){if(i.name===a){var s=i;if(s.allowIn&&s.allowIn.indexOf(t)>-1)return!0}})}},{key:"addAllowIn",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"p",i=this.data.blocks.find(function(s){return s.name===a});i.allowIn||(i.allowIn=[]),~~i.allowIn.indexOf(t)&&i.allowIn.push(t)}},{key:"getAllowInTags",value:function(){var t=[];return this.data.blocks.forEach(function(a){var i=a;i.allowIn&&i.allowIn.forEach(function(s){t.indexOf(s)<0&&t.push(s)})}),t}},{key:"getCanMergeTags",value:function(){var t=[];return this.data.blocks.forEach(function(a){var i=a;i.canMerge===!0&&t.indexOf(i.name)<0&&t.push(i.name)}),t}}]),at}(),Dd=function(F){return F.required!==void 0},Jd=function(F){return!!F.name},Pf=function(){function at(F){(0,p.Z)(this,at),this.editor=void 0,this.data=[],this.editor=F}return(0,d.Z)(at,[{key:"getData",value:function(){return this.data}},{key:"clone",value:function(){var t=Te()(this.data),a=new at(this.editor);return a.data=t,a}},{key:"add",value:function(t,a){this.data.push({from:t,to:a})}},{key:"transform",value:function(t,a){var i=t.name,s=t.attributes(),h=cr(s.style||""),w=!1;delete s.style,t.isCursor()&&(i=s[Ve].toLowerCase(),s={},h={});var I=this.data.find(function(B){if(!(a&&!a(B))){var W=B.from,G=B.to,H=!1;if(typeof W=="string")H=W===i;else if(typeof W=="function")H=W(i,h,s);else{var he=Object.keys(W);H=he.indexOf(i)>=0&&he.some(function(bt){var Ct=W[bt];return Object.keys(Ct.style||{}).every(function(Dt){var Ot=Ct.style[Dt];return!!h[Dt]&&Array.isArray(Ot)?Ot.indexOf(h[Dt])>-1:Ot===h[Dt]})&&Object.keys(Ct.attributes||{}).every(function(Dt){var Ot=Ct.attributes[Dt];return!!h[Dt]&&Array.isArray(Ot)?Ot.indexOf(h[Dt])>-1:Ot===h[Dt]})})}if(H)if(typeof G=="string")i=G,h={},s={};else{var ge=typeof G=="function"?G(i,h,s):G,Oe=ge;if(ge.hasOwnProperty("replace")){var rt=ge;Oe=rt.node,w=rt.replace}i=Oe.name,h=Oe.css(),s=Oe.attributes()}return H}});return I?{rule:I,node:{name:i,style:h,attributes:s},replace:w}:void 0}}]),at}(),au=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"insertNewline",value:function(t,a,i){var s=this.engine.change,h=nn("<p><br /></p>");this.engine.nodeId.generate(h),i?a.root.before(h):a.root.after(h),t.select(h,!0),t.collapse(!1),s.range.select(t)}},{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.card,h=i.range.get(),w=s.find(h.startNode);if(!w)return!0;if(w.type===zo.INLINE){var I=h.startNode.closest(me);I.length>0&&(h.select(w.root),h.collapse(!0),i.range.select(h));var B=h.startNode.closest(nt);B.length>0&&(h.select(w.root),h.collapse(!1),i.range.select(h))}else{var W=h.startNode.closest(me);if(W.length>0){t.preventDefault();var G=w.root.prev();return!G||G.isCard()?(s.focusPrevBlock(w,h,!0),i.range.select(h)):this.insertNewline(h,w,!0),!1}var H=h.startNode.closest(nt);if(H.length>0){t.preventDefault();var he=w.root.next();return!he||he.isCard()?(s.focusNextBlock(w,h,!0),i.range.select(h)):this.insertNewline(h,w,!1),!1}}return!0}}]),at}(),Ka=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"focusPrevBlock",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.engine.change,s=i.range.get();t=t||this.engine.block.closest(s.startNode);var h=t.prev();if(!!h){if(h.isCard()){var w=this.engine.card.find(h);w&&w.focus(s);return}if(this.engine.node.isList(h)&&(h=h.last()),!!h){if(a&&this.engine.node.isEmptyWithTrim(h)){h.remove();return}s.select(h,!0),s.collapse(!1),i.range.select(s.shrinkToTextNode())}}}},{key:"trigger",value:function(t){var a=this.engine.change,i=a.range.get().cloneRange().shrinkToElementNode().shrinkToTextNode();if(!!i.collapsed){var s=this.engine.card.find(i.startNode);if(!s){var h=i.getPrevNode(),w=h==null?void 0:h.parent();if(!t.isDelete&&h&&h.isCard()&&(!w||!this.engine.node.isCustomize(w))){t.preventDefault();var I=i.cloneRange();return I.setStartBefore(h),I.collapse(!0),this.engine.card.remove(h),a.range.select(I.shrinkToTextNode()),I.handleBr(),!1}return!0}if(t.isDelete)return!0;if(s.type===zo.INLINE){var B=i.startNode.closest(me);if(B.length>0){var W=s.root.prev();if(W){var G=this.engine.card.find(W);if(G)return this.engine.card.remove(G.id),i.handleBr(),!1;i.select(s.root).collapse(!0)}else return t.preventDefault(),a.mergeAfterDelete(),!1;a.range.select(i)}var H=i.startNode.closest(nt);if(H.length>0){t.preventDefault();var he=i.cloneRange();return he.setStartBefore(s.root),he.collapse(!0),this.engine.card.remove(s.id),a.range.select(he.shrinkToTextNode()),he.handleBr(),!1}}else{var ge=i.startNode.closest(me);if(ge.length>0){var Oe;return t.preventDefault(),!((Oe=s.root.parent())===null||Oe===void 0)&&Oe.inEditor()?a.unwrap(s.root.parent()):this.focusPrevBlock(s.root,!0),!1}var rt=i.startNode.closest(nt);if(rt.length>0)return t.preventDefault(),this.focusPrevBlock(s.root),this.engine.card.remove(s.id,!1),a.isEmpty()&&a.initValue(),!1}return this.engine.trigger("keydown:backspace",t)!==!1}}}]),at}(),bd=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"inline",value:function(t,a){var i=this.engine.change,s=i.range.get().cloneRange(),h=t.constructor.singleSelectable,w=s.commonAncestorNode.closest(me);if(w.length>0){var I=t.root.prev();return I?(s.setStartBefore(t.root[0]),s.collapse(!0)):t.focus(s,!0),i.range.select(s),!0}var B=s.commonAncestorNode.closest(nt),W=w.length===0&&B.length===0;if(B.length>0||W){if(a.preventDefault(),W){var G;t.select(!1),(G=t.toolbarModel)===null||G===void 0||G.hide(),t.activate(!1)}else if(s.collapsed){var H=this.engine.card.find(s.startNode);if(H&&H.onSelectLeft)return H.onSelectLeft(a)}if(!W&&h!==!1)this.engine.card.select(t,a);else{var he;t.focus(s,!0),t.select(!1),(he=t.toolbarModel)===null||he===void 0||he.hide(),i.range.select(s)}return!1}return!0}},{key:"block",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=w.commonAncestorNode.closest(me);if(I.length>0){var B=t.root.prev();return B?(a.preventDefault(),h.focusPrevBlock(t,w,!1),s.range.select(w),!1):void 0}var W=w.commonAncestorNode.closest(nt),G=I.length===0&&W.length===0;if(G){var H;t.select(!1),(H=t.toolbarModel)===null||H===void 0||H.hide(),t.activate(!1)}if(W.length>0){if(w.collapsed){var he=h.find(w.startNode);if(he&&he.onSelectLeft)return he.onSelectLeft(a)}return a.preventDefault(),h.select(t,a),!1}if(h.getSingleSelectedCard(w)){var ge;return a.preventDefault(),t.focus(w,!0),t.select(!1),(ge=t.toolbarModel)===null||ge===void 0||ge.hide(),s.range.select(w),!1}return!0}},{key:"fincPrevCard",value:function(t){if(!t.collapsed)return null;var a=t.startNode,i=t.startOffset;if(a.isText()&&i===0){var s=a.prevElement();if(s&&s.isCard())return this.engine.card.find(s)}return null}},{key:"trigger",value:function(t){var a=this.engine.change,i=a.range.get(),s=this.engine.card.getSingleCard(i);if(!s){var h=this.fincPrevCard(i);return h?(t.preventDefault(),h.focus(i,!1),a.range.select(i),!1):!0}return(0,O.ZP)("shift+left",t)?!1:s.type===zo.INLINE?this.inline(s,t):this.block(s,t)}}]),at}(),ef=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"inline",value:function(t,a){var i=this.engine.change,s=i.range.get(),h=t.constructor.singleSelectable,w=s.commonAncestorNode.closest(me),I=s.commonAncestorNode.closest(nt),B=w.length===0&&I.length===0;if(w.length>0||B){if(a.preventDefault(),B){var W;t.select(!1),t.activate(!1),(W=t.toolbarModel)===null||W===void 0||W.hide()}else if(s.collapsed){var G=this.engine.card.find(s.startNode);if(G&&G.onSelectRight)return G.onSelectRight(a)}if(!B&&h!==!1)this.engine.card.select(t,a);else{var H;t.focus(s,!1),t.select(!1),(H=t.toolbarModel)===null||H===void 0||H.hide(),i.range.select(s)}return!1}if(I.length>0){var he=t.root.next();he?(s.setEndAfter(t.root[0]),s.collapse(!1)):t.focus(s,!1),i.range.select(s)}return!0}},{key:"block",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=w.commonAncestorNode.closest(me);if(I.length>0){if(w.collapsed){var B=this.engine.card.find(w.startNode);if(B&&B.onSelectRight)return B.onSelectRight(a)}return a.preventDefault(),h.select(t,a),!1}var W=w.commonAncestorNode.closest(nt),G=I.length===0&&W.length===0;if(G){var H;t.select(!1),(H=t.toolbarModel)===null||H===void 0||H.hide(),t.activate(!1)}if(W.length>0){var he=t.root.next();return he?(a.preventDefault(),h.focusNextBlock(t,w,!1),s.range.select(w),!1):void 0}if(this.engine.card.getSingleSelectedCard(w)){var ge;return a.preventDefault(),t.focus(w,!1),t.select(!1),(ge=t.toolbarModel)===null||ge===void 0||ge.hide(),s.range.select(w),!1}return!0}},{key:"fincNextCard",value:function(t){if(!t.collapsed)return null;var a=t.startNode,i=t.startOffset;if(a.isText()){var s=a.text();if(s.length===i){var h=a.nextElement();if(h&&h.isCard())return this.engine.card.find(h)}}return null}},{key:"trigger",value:function(t){var a=this.engine.change,i=a.range.get(),s=this.engine.card.getSingleCard(i);if(!s){var h=this.fincNextCard(i);return h?(t.preventDefault(),h.focus(i,!0),a.range.select(i),!1):!0}if(!(0,O.ZP)("shift+right",t))return s.type===zo.INLINE?this.inline(s,t):this.block(s,t)}}]),at}(),vc=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"inline",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=t.root.prev();if(I)return a.preventDefault(),h.focusPrevBlock(t,w,!1),s.range.select(w),!1}},{key:"block",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=t.root.prev();if(I)return a.preventDefault(),h.focusPrevBlock(t,w,!1),s.range.select(w),!1}},{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.card,h=a.block,w=i.range.get();if(w.collapsed){var I=h.closest(w.startNode),B=I.prev();if(B!=null&&B.isCard()){var W=s.find(B);if(W&&W.onSelectUp)return W.onSelectUp(t)}}var G=s.getSingleCard(w);if(!G)return!0;if(!(0,O.ZP)("shift+up",t))return G.type===zo.INLINE?this.inline(G,t):this.block(G,t)}}]),at}(),wf=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"inline",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=t.root.next();if(I)return a.preventDefault(),h.focusNextBlock(t,w,!1),s.range.select(w),!1}},{key:"block",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=t.root.next();if(I)return a.preventDefault(),h.focusNextBlock(t,w,!1),s.range.select(w),!1}},{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.block,h=a.card,w=i.range.get(),I=h.getSingleCard(w);if(w.collapsed){var B=s.closest(w.startNode),W=B.next();if(W!=null&&W.isCard()){var G=h.find(W);if(G&&G.onSelectDown)return G.onSelectDown(t)}}return!I||(0,O.ZP)("shift+down",t)?!0:I.type===zo.INLINE?this.inline(I,t):this.block(I,t)}}]),at}(),ed=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"block",value:function(t,a){var i=this.engine,s=i.change,h=i.card,w=s.range.get(),I=w.commonAncestorNode.closest(me);if(I.length>0)return!a.metaKey&&!a.ctrlKey&&(h.focusPrevBlock(t,w,!0),s.range.select(w)),!0;var B=w.commonAncestorNode.closest(nt);return B.length>0&&!a.metaKey&&!a.ctrlKey&&(h.focusNextBlock(t,w,!0),s.range.select(w)),!0}},{key:"trigger",value:function(t){var a=this.engine.change,i=a.range.get(),s=this.engine.card.getSingleCard(i);return s&&s.type===zo.BLOCK?this.block(s,t):!0}}]),at}(),kf=`.am-engine .card-selected [data-card-element="center"].data-card-background-selected {
    background: rgba(27, 162, 227, 0.2);
}

.am-engine .card-selected [data-card-element="center"].data-card-border-selected {
    outline: 2px solid #1890FF;
    border-radius: 2px;
}

.am-engine .card-selected [data-card-element="center"].data-card-border-selected::-moz-selection {
    background: transparent;
}

.am-engine .card-selected [data-card-element="center"].data-card-border-selected::selection {
    background: transparent;
}

.am-engine-view [data-card-element="center"] .data-card-loading,.am-engine [data-card-element="center"] .data-card-loading {
    display: inline-block;
    font-style: normal;
    vertical-align: -0.125em;
    text-align: center;
    text-transform: none;
    line-height: 0;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    margin-right: 5px;
    padding: 16px;
    width: 100%;
}

.am-engine-view [data-card-element="center"] .data-card-loading .data-card-spin,.am-engine [data-card-element="center"] .data-card-loading .data-card-spin {
    display: inline-block;
    -webkit-animation: loadingCircle 1s infinite linear;
    animation: loadingCircle 1s infinite linear;
}
`;Cl(kf);var Bf=function(){function at(F){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;(0,p.Z)(this,at),this.classes=void 0,this.components=void 0,this.lazyRender=void 0,this.asyncComponents=[],this.editor=void 0,this.renderTimeout=void 0,this.renderAsyncComponents=(0,x.Z)(z().mark(function i(){var s;return z().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:t.renderTimeout&&clearTimeout(t.renderTimeout),s=t.editor,t.renderTimeout=setTimeout(function(){var I=t.asyncComponents.concat();I.forEach(function(){var B=(0,x.Z)(z().mark(function W(G){var H,he;return z().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:(G.root.length===0||s.root.inViewport(G.root,!0)&&s.trigger("card:async-render-component",G)!==!1)&&(t.asyncComponents.splice(t.asyncComponents.findIndex(function(rt){return rt===G}),1),G.root.length>0&&G.loading&&(G.destroy&&G.destroy(),G.getCenter().empty(),t.renderComponent(G),Gn(s)&&s.readonly&&!s.ot.isRemote&&(!((H=s.ot.doc)===null||H===void 0)&&H.type?s.ot.doc.data=Ca(s.container):(he=s.ot.doc)===null||he===void 0||he.create(Ca(s.container)))));case 1:case"end":return Oe.stop()}},W)}));return function(W){return B.apply(this,arguments)}}())},50);case 3:case"end":return w.stop()}},i)})),this.classes={},this.components=[],this.editor=F,this.lazyRender=a}return(0,d.Z)(at,[{key:"active",get:function(){return this.components.find(function(t){return t.activated})}},{key:"length",get:function(){return this.components.length}},{key:"init",value:function(t){var a=this,i,s,h=this.editor;if(Gn(h)){var w,I,B,W,G,H,he,ge=h.typing,Oe=new au(h);(w=ge.getHandleListener("enter","keydown"))===null||w===void 0||w.on(function(Nt){return Oe.trigger(Nt)});var rt=new Ka(h);(I=ge.getHandleListener("backspace","keydown"))===null||I===void 0||I.on(function(Nt){return rt.trigger(Nt)});var bt=new bd(h);(B=ge.getHandleListener("left","keydown"))===null||B===void 0||B.on(function(Nt){return bt.trigger(Nt)});var Ct=new ef(h);(W=ge.getHandleListener("right","keydown"))===null||W===void 0||W.on(function(Nt){return Ct.trigger(Nt)});var Dt=new vc(h);(G=ge.getHandleListener("up","keydown"))===null||G===void 0||G.on(function(Nt){return Dt.trigger(Nt)});var Ot=new wf(h);(H=ge.getHandleListener("down","keydown"))===null||H===void 0||H.on(function(Nt){return Ot.trigger(Nt)});var Bt=new ed(h);(he=ge.getHandleListener("default","keydown"))===null||he===void 0||he.on(function(Nt){return Bt.trigger(Nt)})}t.forEach(function(Nt){a.classes[Nt.cardName]=Nt}),this.lazyRender&&(window.addEventListener("resize",this.renderAsyncComponents,{passive:!0}),(i=h.scrollNode)===null||i===void 0||(s=i.get())===null||s===void 0||s.addEventListener("scroll",this.renderAsyncComponents,{passive:!0}),window.addEventListener("scroll",this.renderAsyncComponents,{passive:!0}),h.on("card:async-render",this.renderAsyncComponents))}},{key:"add",value:function(t){this.classes[t.cardName]=t}},{key:"each",value:function(t){this.components.every(function(a,i){return!(t&&t(a,i)===!1)})}},{key:"closest",value:function(t,a){if(Ti(t)&&(t=nn(t)),!t.isCard()){var i=t.closest(pe,function(s){var h;if(!(s&&a?nn(s).isRoot():nn(s).isEditable()))return((h=s.parentElement)!==null&&h!==void 0?h:s.parentNode)||void 0});if(!i||i.length===0)return;t=i}return t}},{key:"find",value:function(t,a){if(typeof t!="string"){var i=this.closest(t,a);if(!i)return;t=i}var s=function(I){Ti(I)&&(I=nn(I));var B=I.attributes(Tr);return mi(B)},h=this.components.filter(function(w){return typeof t=="string"?w.id===t:w.root.name!==(Ti(t)?t.nodeName.toString().toLowerCase():t.name)?!1:w.root.equal(t)||w.id===s(t).id});if(h.length!==0)return h[0]}},{key:"findBlock",value:function(t){if(Ti(t)&&(t=nn(t)),!!t.get()){var a=t.parent();if(!!a){var i=this.find(a);if(!!i)return i.type===zo.BLOCK?i:this.findBlock(i.root)}}}},{key:"getSingleCard",value:function(t){var a=this.find(t.commonAncestorNode);return a||(a=this.getSingleSelectedCard(t)),a}},{key:"getSingleSelectedCard",value:function(t){var a=t.findElements(),i=a[0];if(a.length===1&&i){var s=nn(i);if(s.isCard())return this.find(s)}}},{key:"insertNode",value:function(t,a){var i=a.type==="inline",s=this.editor;!t.collapsed&&Gn(s)&&s.change.delete(t),this.gc();var h=s.inline,w=s.block,I=s.node,B=[];if(i){if(Gn(s)&&a.executeMark){B=s.change.marks.map(function(rt){return rt.clone()});var W=s.card.find(t.startNode);if(W!=null&&W.queryMarks){var G;(G=B).push.apply(G,(0,ne.Z)(W.queryMarks()))}}h.insert(a.root,t)}else w.insert(a.root,t,function(rt){for(var bt=rt.parent();bt&&!bt.isEditable();){rt=bt;var Ct=bt.parent();if(Ct&&I.isBlock(Ct))bt=Ct;else break}return rt},!0);this.components.push(a);var H=a.root.parent();!i&&H&&H.inEditor()&&I.isBlock(H)&&w.unwrap(H,t);for(var he=arguments.length,ge=new Array(he>2?he-2:0),Oe=2;Oe<he;Oe++)ge[Oe-2]=arguments[Oe];return this.renderComponent.apply(this,[a].concat(ge)),a.focus(t,!1),a.didInsert&&a.didInsert(),B.forEach(function(rt){a.executeMark(rt,!0)}),a}},{key:"removeNode",value:function(t){t.destroy&&t.destroy(),this.removeComponent(t),t.root.remove()}},{key:"updateNode",value:function(t,a){t.destroy&&t.destroy();var i=t.getCenter();i==null||i.empty(),t.setValue(a);for(var s=arguments.length,h=new Array(s>2?s-2:0),w=2;w<s;w++)h[w-2]=arguments[w];this.renderComponent.apply(this,[t].concat(h)),t.didUpdate&&t.didUpdate()}},{key:"replaceNode",value:function(t,a,i){var s=this.classes[a];if(!s)throw"".concat(a,": This card does not exist");var h=(i==null?void 0:i.type)||s.cardType,w=t.attributes(et),I=oi("<card ".concat(w!=null?w:"".concat(et,'="').concat(w,'"'),' type="').concat(h,'" name="').concat(a,'" value="').concat(ci(i),'"></card>')),B=nn(I);return t.before(B),B.append(t),B}},{key:"activate",value:function(t,a,i){var s=this.editor;if(!(!Gn(s)||s.readonly)){var h=t.getRoot(),w=this.active;if(!h.get()||s.container.equal(h)){var I=this.find(t),B=t.closest(Mt);if(!I&&B.length>0){var W=B.parent();I=W?this.find(W):void 0}var G=I?this.findBlock(I.root):void 0;if(G&&(I=G),I&&I.isCursor(t))if(B.length>0){var H=B.parent();I=H?this.find(H):void 0}else I=void 0;var he=I&&w&&w.root.equal(I.root);if(w&&!he){var ge;(ge=w.toolbarModel)===null||ge===void 0||ge.hide(),w.select(!1),w.activate(!1)}if(I){if(I.activatedByOther)return;if(he)I.isEditable?I.select(!1):a===ml.MOUSE_DOWN&&t.name!=="input"&&I.root.find(".data-drag-image").length===0&&(i==null||i.preventDefault());else{var Oe;I.constructor.singleSelectable!==!1&&(a!==ml.CLICK||Gn(s))&&this.select(I,i),!I.isEditable&&I.constructor.autoSelected!==!1&&I.select(!I.isEditable),I.activate(!0),(Oe=I.toolbarModel)===null||Oe===void 0||Oe.show(i)}s.change.onSelect()}}else if(w){var rt;(rt=w.toolbarModel)===null||rt===void 0||rt.hide(),w.select(!1),w.activate(!1)}}}},{key:"select",value:function(t,a){var i=this.editor;if(!!Gn(i)&&t.constructor.singleSelectable!==!1&&(t.type!==zo.BLOCK||!t.activated)){var s=i.change.range.get().cloneRange();if(s.startNode.closest(Mt).length>0&&(!a||a instanceof MouseEvent&&(!a.target||!this.closest(a.target,!1)))||t.isEditable||t.isMaximize)return;a==null||a.preventDefault();var h=t.root,w=h.parent(),I=w.children().toArray().findIndex(function(B){return B.equal(h)});s.setStart(w,I),s.setEnd(w,I+1),i.change.range.select(s)}}},{key:"focus",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.editor;if(!!Gn(i)){var s=i.change,h=i.container,w=i.scrollNode,I=s.range.get();t.focus(I,a),s.range.select(I),this.activate(I.startNode,ml.MOUSE_DOWN),s.onSelect(),w&&I.scrollIntoViewIfNeeded(h,w)}}},{key:"insert",value:function(t,a){var i=this.editor;if(!Gn(i))throw"Engine not found";for(var s=this.create(t,{value:a}),h=i.change,w=h.range.toTrusty(),I=arguments.length,B=new Array(I>2?I-2:0),W=2;W<I;W++)B[W-2]=arguments[W];var G=this.insertNode.apply(this,[w,s].concat(B));return h.change(),G}},{key:"update",value:function(t,a){var i=this.editor;if(!!Gn(i)){var s=i.change,h=this.find(t);if(h){for(var w=arguments.length,I=new Array(w>2?w-2:0),B=2;B<w;B++)I[B-2]=arguments[B];this.updateNode.apply(this,[h,a].concat(I));var W=s.range.get();h.focus(W,!1),s.change()}}}},{key:"replace",value:function(t,a,i){this.remove(t.root);for(var s=arguments.length,h=new Array(s>3?s-3:0),w=3;w<s;w++)h[w-3]=arguments[w];return this.insert.apply(this,[a,i].concat(h))}},{key:"remove",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this.editor;if(!!Gn(i)){var s=i.change,h=i.list,w=i.node,I=s.range.get(),B=this.find(t);if(!!B){B.type===zo.INLINE?(I.setEndAfter(B.root[0]),I.collapse(!1)):this.focusPrevBlock(B,I,a);var W=B.root.parent();this.removeNode(B),h.addBr(I.startNode),W&&w.isEmpty(W)&&!i.ot.isStopped&&(W.isEditable()?(w.html(W,"<p><br /></p>"),I.select(W,!0),I.shrinkToElementNode(),I.collapse(!1)):(w.html(W,"<br />"),I.select(W,!0),I.collapse(!1))),a?s.apply(I):(s.range.select(I),s.change())}}}},{key:"removeRemote",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.node,s=this.find(t);if(!!s){var h=s.root.parent();this.removeNode(s),h&&i.isEmpty(h)&&!a.ot.isStopped&&(h.isEditable()?i.html(h,"<p><br /></p>"):i.html(h,"<br />"))}}}},{key:"create",value:function(t,a){var i,s=this.classes[t];if(!s)throw"".concat(t,": This card does not exist");var h=(a==null||(i=a.value)===null||i===void 0?void 0:i.type)||s.cardType;if(["inline","block"].indexOf(h)<0)throw"".concat(t,': the type of card must be "inline", "block"');a!=null&&a.root&&a.root.empty();var w=this.editor,I=new s({editor:w,value:a==null?void 0:a.value,root:a==null?void 0:a.root}),B=I.root;B.attributes(Kr,h),B.attributes(_i,t),B.attributes(Zt,"true");var W=h===zo.INLINE?"span":"div",G=nn("<".concat(W," ").concat(I.isEditable?_t+"='*'":"","/>"));G.attributes(qt,"center");var H=nn("<".concat(W," ").concat(qt,'="body" />'));return H.append(G),B.append(H),this.createCursor(I),h===zo.BLOCK&&w.nodeId.generate(I.root),I.init(),I}},{key:"createCursor",value:function(t){var a=this.editor,i=t.constructor,s=i.focus!==void 0?i.focus:Gn(a)&&!a.readonly,h=t.getCenter();h.removeAttributes(Ys);var w=t.root;w.removeAttributes(Ys);var I=t.findByKey("left"),B=t.findByKey("right");s?(h.attributes(Ys,"false"),I||h.before(nn("<span ".concat(qt,'="left" ').concat(Jt,'="true">&#8203;</span>'))),B||h.after(nn("<span ".concat(qt,'="right" ').concat(Jt,'="true">&#8203;</span>')))):(I==null||I.remove(),B==null||B.remove(),w.attributes(Ys,"false"))}},{key:"reRender",value:function(){for(var t=this,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];i.length===0&&(i=this.components),i.forEach(function(h){h.destroy&&h.destroy(),t.createCursor(h),h.init(),t.renderComponent(h)})}},{key:"render",value:function(t,a){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.lazyRender,h=t?t.isCard()?t:t.find("".concat(oe)):this.editor.container.find(oe);this.gc();var w=[],I=[],B=h.toArray();B.forEach(function(H){I.find(function(ge){return ge.equal(H)})||I.push(H);var he=H.find("".concat(pe,",").concat(oe)).toArray();he.forEach(function(ge){if(!ge.equal(H)){var Oe=I.findIndex(function(rt){return rt.equal(ge)});Oe>-1&&I.splice(Oe,1)}})}),I.forEach(function(H){var he=H.attributes(),ge=he[Vr],Oe=he[_i],rt=ge||Oe;if(i.classes[rt]){var bt=he[Tr],Ct;Oe&&(Ct=i.find(H),Ct&&Ct.root.equal(H)&&(Ct.destroy&&Ct.destroy(),i.removeComponent(Ct)),H.attributes(Zt,"true"),he[Zt]="true",H.empty()),Ct=i.create(rt,{value:mi(bt),root:Oe?H:void 0}),Object.keys(he).forEach(function(Dt){(Dt.indexOf("data-")===0&&Dt.indexOf("data-card")!==0||Dt===Zt)&&Ct.root.attributes(Dt,he[Dt])}),ge&&(H.replaceWith(Ct.root),H.remove()),i.components.push(Ct),w.push(Ct),ge&&Ct.root.removeAttributes(Vr)}});var W=!1,G=Gn(this.editor)&&this.editor.ot.isRemote;w.forEach(function(H){if(s&&H.constructor.lazyRender&&(!H.isEditable||!G)){if(H.beforeRender){var he=H.beforeRender(),ge=H.getCenter();he!==void 0&&ge.append(typeof he=="string"?nn(he):he)}W=!0,i.asyncComponents.push(H)}else i.renderComponent(H)}),a&&a(w.length),W&&this.renderAsyncComponents()}},{key:"renderComponent",value:function(t){for(var a=this.editor,i=t.getCenter(),s=arguments.length,h=new Array(s>1?s-1:0),w=1;w<s;w++)h[w-1]=arguments[w];var I=t.render.apply(t,h);if(I!==void 0&&i.append(typeof I=="string"?nn(I):I),t.contenteditable.length>0){var B=!Gn(a)||a.readonly?"false":"true";i.find(t.contenteditable.join(",")).each(function(W){var G=nn(W);G.attributes(Ys)!==B&&G.attributes(Ys,B),G.attributes(Ve)!==Ft&&G.attributes(Ve,Ft),Gn(a)&&a.normalize(G)}),this.render(i)}t.didRender()}},{key:"removeComponent",value:function(t){var a=this;this.each(function(i,s){if(i.root.equal(t.root))return a.components.splice(s,1),!1})}},{key:"gc",value:function(){for(var t=0;t<this.components.length;t++){var a=this.components[t];(!a.root[0]||a.root.closest("body").length===0)&&(a.destroy&&a.destroy(),this.components.splice(t,1),t--)}}},{key:"destroy",value:function(){var t,a;this.gc();var i=this.editor;window.removeEventListener("resize",this.renderAsyncComponents),(t=i.scrollNode)===null||t===void 0||(a=t.get())===null||a===void 0||a.removeEventListener("scroll",this.renderAsyncComponents),window.removeEventListener("scroll",this.renderAsyncComponents),i.off("card:async-render",this.renderAsyncComponents)}},{key:"focusPrevBlock",value:function(t,a,i){var s=this.editor;if(!Gn(s))throw"Engine not initialized";var h;if(t.type==="inline"){var w=s.block.closest(t.root);w.isEditable()?h=t.root.prevElement():h=w.prevElement()}else h=t.root.prevElement();if(i){if(!h||h.attributes(_i)){var I=nn("<p><br /></p>");t.root.before(I),a.select(I,!0),a.collapse(!1),s.nodeId.generate(I);return}}else{if(!h)return;if(h.attributes(_i)){var B;(B=s.card.find(h))===null||B===void 0||B.focus(a,!1);return}}a.select(h,!0).shrinkToElementNode().shrinkToTextNode().collapse(!1)}},{key:"focusNextBlock",value:function(t,a,i){var s=this.editor;if(!Gn(s))throw"Engine not initialized";var h;if(t.type==="inline"){var w=s.block.closest(t.root);w.isEditable()?h=t.root.nextElement():h=w.nextElement()}else h=t.root.nextElement();if(i){if(!h||h.attributes(_i)){var I=nn("<p><br /></p>");t.root.after(I),a.select(I,!0),a.collapse(!1),s.nodeId.generate(I);return}}else{if(!h)return;if(h.attributes(_i)){var B;(B=s.card.find(h))===null||B===void 0||B.focus(a,!0);return}}a.select(h,!0).shrinkToElementNode().shrinkToTextNode().collapse(!0)}}]),at}(),gu=(0,je.Z)("rules"),xh=function(){function at(F){(0,p.Z)(this,at),this.schema=void 0,Object.defineProperty(this,gu,{writable:!0,value:{}}),this.schema=F}return(0,d.Z)(at,[{key:"init",value:function(){(0,we.Z)(this,gu)[gu]=this.getRules()}},{key:"getRules",value:function(){var t={};return this.schema.data.blocks.forEach(function(a){t[a.name]||(t[a.name]=[]),t[a.name].push(a)}),t}},{key:"create",value:function(t){Ti(t)&&(t=nn(t));var a=ol(t);return t.attributes(et,a),a}},{key:"generateAll",value:function(t){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=(0,we.Z)(this,gu)[gu],h=Object.keys(s).join(",");eo(t)&&t.fragment&&(t=t.fragment);var w=Ti(t)?t:t.get();if(!(!w||w.nodeType===Node.TEXT_NODE)){var I=Ti(t)?t:t.get(),B=I==null?void 0:I.querySelectorAll(h),W=function(H){!i&&H.getAttribute(et)||a.generate(H,i)};I instanceof Element&&h.includes(I.nodeName.toLowerCase())&&W(I),B==null||B.forEach(W)}}},{key:"generate",value:function(t){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ti(t)&&(t=nn(t)),!t.isText()){var s=(0,we.Z)(this,gu)[gu],h=s[t.name];if(!(!h||h.length===0||!h.some(function(B){return a.schema.checkNode(t,B.attributes)}))){var w=t.closest("".concat(pe,",").concat(bn),Qn);if(!(w.length>0&&w.attributes(Ve)===on)&&!(!t.isCard()&&w.length>0&&w.isCard()&&!w.isEditableCard())){if(!i){var I=t.attributes(et);if(I)return I}return this.create(t)}}}}},{key:"isNeed",value:function(t){var a=this,i=(0,we.Z)(this,gu)[gu],s=i[t.name];return!(!s||s.length===0||!s.some(function(h){return a.schema.checkNode(t,h.attributes)}))}}]),at}(),Id=function(F){return!!F.dataTransfer},Ds=function(){function at(F){(0,p.Z)(this,at),this.editor=void 0,this.editor=F}return(0,d.Z)(at,[{key:"getData",value:function(t){var a,i=Id(t)?t.dataTransfer:t.clipboardData,s=i==null?void 0:i.getData("text/html"),h=i==null?void 0:i.getData("text"),w=[];try{(i==null?void 0:i.items)&&i.items.length>0?Array.from(i.items).forEach(function(I){var B=I.kind==="file"?I.getAsFile():null;if(B!==null){var W;B.type&&B.type.indexOf("image/png")>-1&&!B.lastModified&&(B=new File([B],"image.png",{type:B.type})),B.ext=(W=h)===null||W===void 0?void 0:W.split(".").pop()}B&&w.push(B)}):(i==null?void 0:i.files)&&i.files.length>0&&(w=Array.from(i.files))}catch(I){(i==null?void 0:i.files)&&i.files.length>0&&(w=Array.from(i.files))}return s===""&&h&&/^.+\.\w+$/.test(h)&&w.length>0?h="":h===""&&s&&/^(<meta.+?>)?<img.+?>$/.test(s)&&w.length>0?s="":(s||h)&&w.length>0&&!(!((a=s)===null||a===void 0)&&a.startsWith("<img"))&&(s||!/^https(s)?:/.test(h||""))&&(w=[]),{html:s,text:h,files:w}}},{key:"write",value:function(t,a){var i,s,h=this.editor.getSelectionData(a);if(!!h){var w=h.html,I=h.text;return t==null||t.preventDefault(),t==null||(i=t.clipboardData)===null||i===void 0||i.setData("text/html",'<meta name="source" content="aomao" />'+w),t==null||(s=t.clipboardData)===null||s===void 0||s.setData("text",I),h}}},{key:"copy",value:function(t){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof t=="string"){var s=/<[^>]+>/g.test(t);return s?We()(t,{format:"text/html",onCopy:function(rt){rt.setData("text/plain",new ns(t,a.editor).toText())}}):We()(t,{format:"text/plain"}),!0}var h=this.editor,w=window.getSelection(),I=w&&Da.from(h,w)||Da.create(h),B=I.cloneRange(),W=nn('<div class="'.concat(Wt,'" ').concat(Ve,'="').concat(wt,'">&#8203;</div>'));W.css({position:"fixed",top:0,clip:"rect(0, 0, 0, 0)"});var G=function(){W.remove(),w==null||w.removeAllRanges(),w==null||w.addRange(B.toRange())};W.on("copy",function(Oe){Oe.stopPropagation(),a.write(Oe,I),G()}),nn(document.body).append(W),W.append(h.node.clone(nn(t),!0)),i&&W.traverse(function(Oe){Oe.equal(W)||h.trigger("copy",Oe)}),W.append(nn("&#8203;",null));var H=W.first(),he=W.last();I.select(W,!0),I.setStartAfter(H),I.setEndBefore(he),w==null||w.removeAllRanges(),w==null||w.addRange(I.toRange());var ge=!1;try{if(ge=document.execCommand("copy"),!ge)throw"Copy failed"}catch(Oe){h.messageError("copy","The copy command was not executed successfully ",Oe),G()}return ge}},{key:"cut",value:function(){var t=this.editor,a=Da.from(t);if(!(!a||!Gn(t))){var i=a.commonAncestorNode,s=t.change;s.cacheRangeBeforeCommand(),s.delete(a);for(var h=t.node.isList(i)?i:i.find("ul,ol"),w=0;w<h.length;w++){var I,B=nn(h[w]),W=B.find("li");W.each(function(G){if(G.innerText===""||Lt&&G.innerText===`
`){var H,he;(H=(he=G.parentElement)!==null&&he!==void 0?he:G.parentNode)===null||H===void 0||H.removeChild(G)}}),((I=B.get())===null||I===void 0?void 0:I.childNodes.length)===0&&B.remove()}s.range.select(a)}}}]),at}(),yd=function at(F,t,a,i){var s=void 0,h=void 0,w=/\[\]$/;if(Array.isArray(t))for(h=0;h<t.length;h++){var I=t[h];a||w.test(F)?i(F,I):at(F+"["+((typeof I=="undefined"?"undefined":(0,U.Z)(I))==="object"?h:"")+"]",I,a,i)}else if(t.toString()==="[object Object]")for(s in t)t.hasOwnProperty(s)&&at(F+"["+s+"]",t[s],a,i);else i(F,t)},Ff=function(F,t){return F+(/\?/.test(F)?"&":"?")+t},mu=function(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=void 0,i=[],s=function(I,B){typeof B=="function"?B=B():B==null&&(B=""),i[i.length]=encodeURIComponent(I)+"="+encodeURIComponent(B)};if(Array.isArray(F))for(var h=0;h<F.length;h++)s(F[h].name,F[h].value);else for(a in F)F.hasOwnProperty(a)&&yd(a,F[a],t,s);return i.join("&").replace(/%20/g,"+")},tf=function(F){return typeof FormData!="undefined"&&F instanceof FormData},wh=/^http/,Ef=/(^\w+):\/\//,tl=/^(20\d|1223)$/,Xo="readyState",Ko="Content-Type",Ws="X-Requested-With",Al="XMLHttpRequest",rc="XDomainRequest",cl={traditional:!1,contentType:"application/x-www-form-urlencoded",requestedWith:Al,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"},dataFilter:function(F){return F}},nf=function(){function at(F){var t;(0,p.Z)(this,at),this.options=void 0,this.headNode=void 0,this.request=void 0,this.isAborted=!1,this.isTimeout=!1,this.timeout=void 0,this.callbackData=void 0,this.callbackPrefix="request_"+new Date,this.uuid=0,this.promise=void 0,this.__resolve=void 0,this.__reject=void 0,typeof F=="string"&&(F={url:F});var a=F,i=a.url;Ie()(i,"//")&&(i=window.location.protocol+i),this.options=(0,m.Z)((0,m.Z)((0,m.Z)({},cl),F),{},{url:i,context:F.context||window,doc:F.doc||kt(),jsonpCallback:F.jsonpCallback||"callback",method:F.method||"GET"}),this.headNode=(t=this.options.doc)===null||t===void 0?void 0:t.getElementsByTagName("head")[0],this.initPromise(),this.init()}return(0,d.Z)(at,[{key:"initPromise",value:function(){var t=this;this.promise=new Promise(function(a,i){t.__resolve=a,t.__reject=i}).catch(function(){})}},{key:"init",value:function(){var t=this,a=function(){var w;t.isTimeout=!0,(w=t.request)===null||w===void 0||w.abort()};this.timeout&&clearTimeout(this.timeout),this.timeout=void 0,this.options.timeout&&(this.timeout=setTimeout(a,this.options.timeout));var i=function(w,I){t.triggerError(w,I)},s=function(w){t.triggerSuccess(w)};this.getRequest(s,i).then(function(h){t.request=h})}},{key:"abort",value:function(){var t;(t=this.request)===null||t===void 0||t.abort()}},{key:"defaultXHR",value:function(){var t=this.options,a=t.context,i=t.crossOrigin;if(!!a)if(i===!0){var s=a[Al]?new a[Al]:null;if(s&&"withCredentials"in s)return s;if(a[rc])return new a[rc];throw new Error("Browser does not support cross-origin requests")}else return a[Al]?new a[Al]:new a.ActiveXObject("Microsoft.XMLHTTP")}},{key:"succeed",value:function(){var t,a,i,s=this.options,h=s.url,w=s.context,I=Ef.exec(h),B=I?I[1]:"";return B||(B=(w==null?void 0:w.location.protocol)||""),wh.test(B)?tl.test(((t=this.request)===null||t===void 0||(a=t.status)===null||a===void 0?void 0:a.toString())||""):!!(!((i=this.request)===null||i===void 0)&&i.response)}},{key:"noop",value:function(){}},{key:"handleReadyState",value:function(t,a){if(this.isAborted)return a("Request is aborted",this.request);if(this.isTimeout)return a("Request is aborted: timeout",this.request);this.request&&this.request[Xo]===4&&(this.request.onreadystatechange=this.noop,this.succeed()?t(this.request):a(this.request.statusText,this.request))}},{key:"setHeaders",value:function(t,a){a.Accept=a.Accept||cl.accept[this.options.type||"*"],!this.options.crossOrigin&&!a[Ws]&&(a[Ws]=cl.requestedWith),!a[Ko]&&!tf(this.options.data)&&(a[Ko]=this.options.contentType||cl.contentType),Object.keys(a).forEach(function(i){t.setRequestHeader(i,a[i])})}},{key:"setCredentials",value:function(t){typeof this.options.withCredentials!="undefined"&&typeof t.withCredentials!="undefined"&&(t.withCredentials=!!this.options.withCredentials)}},{key:"generalCallback",value:function(t){this.callbackData=t}},{key:"getCallbackPrefix",value:function(t){return this.callbackPrefix+"_"+t}},{key:"handleJsonp",value:function(t,a,i){var s=this,h,w=this.options,I=w.jsonpCallback,B=w.jsonpCallbackName,W=w.doc,G=w.context;if(!(!W||!G)){var H=this.uuid++,he=I||"callback",ge=B||this.getCallbackPrefix(H),Oe=new RegExp("((^|\\?|&)"+he+")=([^&]+)"),rt=t.match(Oe),bt=W.createElement("script"),Ct=0,Dt=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return rt?rt[3]==="?"?t=t.replace(Oe,"$1="+ge):ge=rt[3]:t=Ff(t,he+"="+ge),G[ge]=this.generalCallback,bt.type="text/javascript",bt.src=t,bt.async=!0,typeof bt.onreadystatechange!="undefined"&&!Dt&&(bt.htmlFor=bt.id="_request_"+H),bt.onload=bt.onreadystatechange=function(){var Ot;return bt[Xo]&&bt[Xo]!=="complete"&&bt[Xo]!=="loaded"||Ct?!1:(bt.onload=bt.onreadystatechange=null,bt.onclick&&bt.onclick(),a(s.callbackData),s.callbackData=void 0,(Ot=s.headNode)===null||Ot===void 0||Ot.removeChild(bt),Ct=1,!0)},(h=this.headNode)===null||h===void 0||h.appendChild(bt),{abort:function(){var Bt;bt.onload=bt.onreadystatechange=null,i("Request is aborted: timeout"),s.callbackData=void 0,(Bt=s.headNode)===null||Bt===void 0||Bt.removeChild(bt),Ct=1}}}}},{key:"getRequest",value:function(){var F=(0,x.Z)(z().mark(function a(i,s){var h,w,I=this,B,W,G,H,he,ge,Oe,rt,bt,Ct,Dt,Ot,Bt,Nt;return z().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:if(B=((h=this.options.method)===null||h===void 0?void 0:h.toUpperCase())||"GET",W=this.options,G=W.processData,H=W.traditional,he=W.type,ge=W.context,Oe=W.xhr,rt=W.async,bt=W.before,ge){en.next=4;break}return en.abrupt("return",Promise.resolve(void 0));case 4:if(Ct=this.options.url,Dt=this.options.data,typeof Dt!="function"){en.next=10;break}return en.next=9,Dt();case 9:Dt=en.sent;case 10:if((((w=this.options.contentType)===null||w===void 0?void 0:w.indexOf("json"))||-1)>-1&&(0,U.Z)(Dt)==="object"&&!tf(Dt)&&(Dt=JSON.stringify(Dt)),Dt=G!==!1&&Dt&&typeof Dt!="string"&&!tf(Dt)?mu(Dt,H||cl.traditional):Dt||null,Ot=void 0,Bt=!1,(he==="jsonp"||B==="GET")&&Dt&&(Ct=Ff(Ct,Dt),Dt=null),he!=="jsonp"){en.next=17;break}return en.abrupt("return",Promise.resolve(this.handleJsonp(Ct,i,s)));case 17:if(Nt=this.options.headers||{},typeof Nt!="function"){en.next=22;break}return en.next=21,Nt();case 21:Nt=en.sent;case 22:if(Ot=(typeof Oe=="function"?Oe(this.options):Oe)||this.defaultXHR(),Ot){en.next=25;break}return en.abrupt("return");case 25:return Ot.open(B,Ct,rt!==!1),this.setHeaders(Ot,Nt),this.setCredentials(Ot),ge[rc]&&Ot instanceof ge[rc]?(Ot.onload=i,Ot.onerror=function(){s("http error",Ot)},Ot.onprogress=this.noop,Bt=!0):Ot.onreadystatechange=function(){I.handleReadyState(i,s)},bt&&bt(Ot),Bt?setTimeout(function(){var Fn;(Fn=Ot)===null||Fn===void 0||Fn.send(Dt)},200):Ot.send(Dt),en.abrupt("return",Promise.resolve(Ot));case 32:case"end":return en.stop()}},a,this)}));function t(a,i){return F.apply(this,arguments)}return t}()},{key:"getType",value:function(t){if(!!t){if(t.match("json"))return"json";if(t.match("javascript"))return"js";if(t.match("text"))return"html";if(t.match("xml"))return"xml"}}},{key:"triggerSuccess",value:function(t){var a=this.options,i=a.dataFilter,s=a.context,h=a.success;if(!!s){var w=this.options.type,I=(i||cl.dataFilter)(t.responseText,w);w||(w=t&&this.getType(t.getResponseHeader("Content-Type")));var B=w!=="jsonp"?this.request:t;try{B.responseText=I}catch(W){}if(I)switch(w){case"json":try{B=s.JSON.parse(I)}catch(W){return this.triggerError("Could not parse JSON in response",B)}break;case"html":B=I;break;case"xml":B=B.responseXML&&B.responseXML.parseError&&B.responseXML.parseError.errorCode&&B.responseXML.parseError.reason?null:B.responseXML;break}h&&h(B),this.triggerComplete(B),this.__resolve&&this.__resolve(B)}}},{key:"triggerError",value:function(t,a){var i=this.options.error,s=new Error(t);s.xhr=a,i&&i(s),this.triggerComplete(s),this.__reject&&this.__reject(s)}},{key:"triggerComplete",value:function(t){var a=this.options.complete;this.timeout&&clearTimeout(this.timeout),this.timeout=void 0,a&&a(t)}},{key:"retry",value:function(){this.initPromise(),this.init()}},{key:"then",value:function(t,a){var i;return(i=this.promise)===null||i===void 0?void 0:i.then(t,a)}},{key:"always",value:function(t){var a;return(a=this.promise)===null||a===void 0?void 0:a.then(t,t)}},{key:"fail",value:function(t){var a;return(a=this.promise)===null||a===void 0?void 0:a.then(void 0,t)}},{key:"catch",value:function(t){return this.fail(t)}}]),at}();nf.setup=function(at){Object.keys(at).forEach(function(F){cl[F]&&(cl[F]=at[F])})};var _l={"image/jpeg":["jpeg","jpg","jpe"],"image/png":["png"],"image/gif":["gif"],"image/vnd.wap.wbmp":["wbmp"],"image/tiff":["tiff","tiff"],"image/vnd.adobe.photoshop":["psd"],"image/svg+xml":["svg","svgz"],"text/jsx":["jsx"],"text/less":["less"],"text/css":["css"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/csv":["cvs"],"text/xml":["xml"],"text/x-vcard":["vcf"],"text/x-vcalendar":["vcs"],"text/markdown":["md"],"text/plain":["txt"],"text/richtext":["rtx"],"text/rtf":["rtf"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js"],"text/yaml":["yaml","yml"],"audio/mp3":["mp3"],"audio/mp4":["mp4","mp4a"],"video/mp4":["mp4"],"audio/mpeg":["mpeg","mp2","mp3"],"audio/ogg":["oga"],"audio/wav":["wav"],"audio/wave":["wav"],"audio/webm":["weba"],"video/x-msvideo":["avi"],"video/quicktime":["mov","qt"],"video/ogg":["ogv"],"video/x-sgi-movie":["movie"],"application/rss+xml":["rss"],"application/json":["json"],"application/zip":["zip"],"application/gzip":["gzip"],"application/pdf":["pdf"],"application/postscript":["ai","eps","ps"],"application/msword":["doc","dot"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.ms-fontobject":["eot"],"application/vnd.android.package-archive":["apk"],"application/x-apple-diskimage":["dmg"],"application/x-iwork-keynote-sffkey":["key"],"application/x-iwork-pages-sffpages":["pages"],"application/x-iwork-keynote-sffnumbers":["numbers"],"application/x-iwork-numbers-sffnumbers":["numbers"]},be=function(F){if(typeof F=="string"){var t;return(t=F.split(".").pop())!==null&&t!==void 0?t:""}var a=_l[F.type]?_l[F.type][0]:"";if(!a&&"name"in F){var i;a=(i=F.name.split(".").pop())!==null&&i!==void 0?i:""}return a},Xe=function(F){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wn?2:10,a={exponent:2,round:1};return F<1024&&(a.exponent=-1,a.round=0),F<1048576&&(a.exponent=1,a.round=0),Ye()(F,(0,m.Z)({base:t},a))},gt=function(){function at(F){(0,p.Z)(this,at),this.options=void 0,this.uploadingFiles=[],this.options=F}return(0,d.Z)(at,[{key:"createUid",value:function(t){return Date.now()+"-"+t}},{key:"request",value:function(){var F=(0,x.Z)(z().mark(function a(i,s){var h,w;return z().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:h=0;case 1:if(!(h<i.length)){B.next=12;break}return w=i[h],w.uid||(w.uid=this.createUid(h)),B.next=6,this.handleBefore(w,i);case 6:if(B.t0=B.sent,B.t0!==!1){B.next=9;break}i.splice(h,1);case 9:h++,B.next=1;break;case 12:this.upload(i,s);case 13:case"end":return B.stop()}},a,this)}));function t(a,i){return F.apply(this,arguments)}return t}()},{key:"upload",value:function(){var F=(0,x.Z)(z().mark(function a(i){var s=this,h,w=arguments;return z().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:h=w.length>1&&w[1]!==void 0?w[1]:"file",i.forEach(function(){var W=(0,x.Z)(z().mark(function G(H){var he,ge,Oe,rt,bt,Ct,Dt,Ot,Bt,Nt,In,en,Fn,rr,Yn;return z().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:if(he=new FormData,ge=s.options,Oe=ge.url,rt=ge.onUploading,bt=ge.onSuccess,Ct=ge.onError,Dt=ge.withCredentials,Ot=ge.crossOrigin,Bt=ge.headers,Nt=s.options.data,typeof Nt!="function"){xr.next=7;break}return xr.next=6,Nt();case 6:Nt=xr.sent;case 7:if(Nt)if(tf(Nt)){In=(0,le.Z)(Nt);try{for(In.s();!(en=In.n()).done;)Fn=(0,q.Z)(en.value,2),rr=Fn[0],Yn=Fn[1],he.append(rr,Yn)}catch(Lr){In.e(Lr)}finally{In.f()}}else Object.keys(Nt).forEach(function(Lr){he.append(Lr,Nt[Lr])});return H.data&&Object.keys(H.data).forEach(function(Lr){he.append(Lr,H.data[Lr])}),he.append(h,H,H.name),xr.next=12,new nf({xhr:function(){var er=new window.XMLHttpRequest;return er.upload.addEventListener("progress",function(Rr){Rr.lengthComputable&&rt&&rt(H,{percent:parseInt((Rr.loaded/Rr.total*100).toString(),10)})},!1),er},url:Oe,data:he,contentType:s.options.contentType,type:s.options.type||"json",withCredentials:Dt,crossOrigin:Ot,headers:Bt,success:function(er){bt&&bt(er,H)},error:function(er){Ct&&Ct(er,H)},method:"POST",processData:!0});case 12:case"end":return xr.stop()}},G)}));return function(G){return W.apply(this,arguments)}}());case 2:case"end":return B.stop()}},a)}));function t(a){return F.apply(this,arguments)}return t}()},{key:"handleBefore",value:function(){var F=(0,x.Z)(z().mark(function a(i,s){var h=this,w,I,B,W,G,H;return z().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(w=i.type,I=i.uid,B=i.name,W=i.size,G=be(i),H=this.options.onBefore,ge.t0=H,!ge.t0){ge.next=9;break}return ge.next=7,H(i);case 7:ge.t1=ge.sent,ge.t0=ge.t1===!1;case 9:if(!ge.t0){ge.next=11;break}return ge.abrupt("return",!1);case 11:return ge.abrupt("return",new Promise(function(Oe,rt){var bt=new FileReader;bt.addEventListener("load",function(){h.uploadingFiles[I]={uid:I,src:bt.result,name:B,size:W,type:w,ext:G},s.every(function(Ct){return!!h.uploadingFiles[Ct.uid]})?Promise.all((0,ne.Z)(s.map(function(Ct){return new Promise(function(){var Dt=(0,x.Z)(z().mark(function Ot(Bt){return z().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(!h.options.onReady){In.next=3;break}return In.next=3,h.options.onReady(h.uploadingFiles[Ct.uid],Ct);case 3:Bt(!0);case 4:case"end":return In.stop()}},Ot)}));return function(Ot){return Dt.apply(this,arguments)}}())}))).then(function(){Oe(!0)}):Oe(!0)},!1),bt.addEventListener("error",function(){rt(!1)}),bt.readAsDataURL(i)}));case 12:case"end":return ge.stop()}},a,this)}));function t(a,i){return F.apply(this,arguments)}return t}()}]),at}(),qe=function(){function at(){(0,p.Z)(this,at)}return(0,d.Z)(at,[{key:"ajax",value:function(t){return new nf(t)}},{key:"upload",value:function(t,a,i){return new gt(t).request(a,i)}},{key:"getFiles",value:function(t){var a=t||{},i=a.event,s=a.accept,h=a.multiple;s=s||"*",h===!1?h=1:(h===void 0||h===!0)&&(h=100);var w=document.createElement("input");w.type="file",w.accept=s,w.style.display="none",w.multiple=h>1;var I=function B(){w.remove(),document.removeEventListener("mousedown",B)};return new Promise(function(B){var W=function G(){for(var H,he=[],ge=(H=w.files)!==null&&H!==void 0?H:[],Oe=Math.min(ge.length,h),rt=0;rt<Oe;rt++)he.push(ge[rt]);w.removeEventListener("change",G),I(),B(he)};w.addEventListener("change",W),document.body.appendChild(w),i||(i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0));try{if(w.dispatchEvent)w.dispatchEvent(i);else if(w.fireEvent)w.fireEvent(i);else throw"";document.addEventListener("mousedown",I)}catch(G){w.removeEventListener("change",W),I(),B([])}})}}]),at}(),Ht=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t,a){var i=this.engine,s=i.change,h=i.command,w=i.list,I=i.node,B=s.range.get(),W=this.engine.block;if(B.collapsed){var G=W.closest(B.startNode);if(G.name==="li"&&w.isFirst(B))return t.isDelete||(t.preventDefault(),h.execute(w.getPluginNameByNode(G))),!1}else{var H=B.startNode,he=B.endNode,ge=W.closest(H),Oe=W.closest(he);if(ge.name==="li"||Oe.name==="li"){t.preventDefault();var rt=B.cloneRange(),bt=H.first(),Ct=H.isCard()?H:bt;if(Ct!=null&&Ct.isCard()&&w.isEmptyItem(ge)){var Dt,Ot=ge.parent();ge.remove(),Ot&&I.isCustomize(Ot)&&((Dt=Ot.get())===null||Dt===void 0?void 0:Dt.childNodes.length)===0&&Ot.remove()}var Bt=ge.name==="li"?ge.parent():null,Nt=Oe.name==="li"?Oe.parent():null;if(ge.name==="li"&&w.isFirst(B)&&rt.setStartBefore(ge),Oe.name==="li"&&W.isLastOffset(B,"end")&&rt.setEndAfter(Oe),s.delete(rt,a),ge.inEditor()&&!ge.equal(Oe)&&Oe.inEditor()&&Oe.name==="li"){rt.shrinkToElementNode().shrinkToTextNode();var In=rt.createSelection();ge.append(Oe.children()),Oe.remove(),In.move()}if(ge.name==="li"){var en;I.isCustomize(ge)&&((en=ge.get())===null||en===void 0?void 0:en.childNodes.length)===0&&ge.remove()}var Fn=function(er){if(I.isList(er)){var Rr,Wi=((Rr=er.get())===null||Rr===void 0?void 0:Rr.childNodes)||[];if(Wi.length==0)er.remove();else if(Wi.length===1){var ai=er.first();ai!=null&&ai.isCursor()&&(er.after(ai),er.remove())}}};return Bt&&Bt.length>0&&I.isList(Bt)&&Fn(Bt),Nt&&Nt.length>0&&I.isList(Nt)&&Fn(Nt),w.addBr(ge),ge.equal(Oe)||w.addBr(Oe),B.setStart(rt.startContainer,rt.startOffset),B.collapse(!0),w.merge(),s.isEmpty()&&s.initValue(B),s.apply(B),!1}}if(!!W.isFirstOffset(B,"start")){var rr=W.closest(B.startNode);if(I.isList(rr)){var Yn=rr.first();if(!Yn||Yn.isText())return t.preventDefault(),s.mergeAfterDelete(rr),!1;rr=Yn,B.setStart(rr[0],0),B.collapse(!0),s.range.select(B)}if(rr.name==="li"){var ur;if(I.isCustomize(rr))return;t.preventDefault();var xr=rr.closest("ul");return!((ur=rr.parent())===null||ur===void 0)&&ur.isEditable()?(s.mergeAfterDelete(rr),!1):(xr.length>0?h.execute(w.getPluginNameByNode(xr)):s.unwrap(rr),!1)}return!0}}}]),at}(),dn=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.backspace=void 0,this.engine=F,this.backspace=new Ht(F)}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.command,h=a.list,w=i.range.get();w.shrinkToElementNode();var I=this.engine.block.closest(w.startNode),B=this.engine.block.closest(w.endNode);if(I.name==="li"||B.name==="li"){w.collapsed||(this.backspace.trigger(t,I.name!==B.name),w=i.range.get()),t.preventDefault();var W=h.getPluginNameByNode(I);if(h.isLast(w)&&h.isFirst(w))s.execute(W);else{this.engine.block.split(),w=i.range.get();var G=this.engine.block.closest(w.endNode),H=h.getPlugins().find(function(Oe){return W===Oe.constructor.pluginName});if(!H)return;if(H.cardName){var he=G.prev();he&&(h.addCardToCustomize(he,H.cardName),h.addBr(he)),h.addCardToCustomize(G,H.cardName),h.addBr(G);var ge=G.next();ge&&(h.addCardToCustomize(ge,H.cardName),h.addBr(ge))}h.merge(void 0,w),h.addBr(w.startNode.closest("ul")),w.setStart(G,this.engine.node.isCustomize(G)?1:0),w.collapse(!0).shrinkToTextNode(),i.apply(w)}return w.scrollIntoView(),!1}return!0}}]),at}(),fn=function(){function at(F){(0,p.Z)(this,at),this.editor=void 0,this.CUSTOMZIE_UL_CLASS="data-list",this.CUSTOMZIE_LI_CLASS="data-list-item",this.INDENT_KEY="data-indent",this.STYLE_POSITION_NAME="list-style-position",this.STYLE_POSITION_VALUE="inside",this.backspaceEvent=void 0,this.editor=F}return(0,d.Z)(at,[{key:"init",value:function(){var t=this,a=this.editor;if(Gn(a)){var i,s,h=new dn(a);(i=a.typing.getHandleListener("enter","keydown"))===null||i===void 0||i.on(function(w){return h.trigger(w)}),this.backspaceEvent=new Ht(a),(s=a.typing.getHandleListener("backspace","keydown"))===null||s===void 0||s.on(function(w){var I;return(I=t.backspaceEvent)===null||I===void 0?void 0:I.trigger(w)})}}},{key:"isEmptyItem",value:function(t){var a=t.children().toArray().filter(function(s){return!s.isCursor()}),i=this.editor.node;return t.name==="li"&&(i.isEmpty(t)||(a.length===1?i.isCustomize(t)&&a[0].isCard()||a[0].name==="br":a.length===2&&i.isCustomize(t)&&!!a[0].isCard()&&a[1].name==="br"))}},{key:"isSame",value:function(t,a){if(t.name!==a.name)return!1;var i=this.editor.node;if(i.isCustomize(t)!==i.isCustomize(a))return!1;var s=parseInt(t.attributes(this.INDENT_KEY),10)||0,h=parseInt(a.attributes(this.INDENT_KEY),10)||0;return s===h}},{key:"isSpecifiedType",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ul",i=arguments.length>2?arguments[2]:void 0,s=this.editor.node,h=!0;return t.forEach(function(w){var I;if(!(["li","p"].indexOf(w.name)===-1&&(w.name===a||w.find(a).length>0)))switch(w.name){case"li":if(i){var B,W,G=w.first();!((B=G)===null||B===void 0)&&B.isCursor()&&(G=G.next()),h=h&&s.isCustomize(w)&&(((W=G)===null||W===void 0?void 0:W.attributes(_i))||"")===i}else h=h&&!s.isCustomize(w);break;case"p":w.parent()&&((I=w.parent())===null||I===void 0?void 0:I.name)!=="li"&&(h=!1);break;default:h=!1;break}}),h}},{key:"getPlugins",value:function(){var t=[],a=this.editor.plugin;return Object.keys(a.components).forEach(function(i){var s=a.components[i];s.isCurrent&&t.push(s)}),t}},{key:"getPluginNameByNode",value:function(t){var a=this,i=t.name,s=function(w){var I="";return a.getPlugins().some(function(B){if(B.isCurrent(w))return I=B.constructor.pluginName,!0}),I};return this.editor.node.isCustomize(t)?s(t):i==="li"&&t.parent()?s(t.parent()):""}},{key:"getPluginNameByNodes",value:function(t){for(var a="",i=0;i<t.length;i++){var s=t[i],h=s.parent(),w="";switch(s.name){case"li":case"ul":case"ol":w=this.getPluginNameByNode(t[i]);break;case"p":if(h&&h.name==="li")w=this.getPluginNameByNode(h);else return"";break;default:if(this.editor.node.isBlock(s)&&s.find("ul,ol").length>0)break;return""}if(a&&w&&a!==w)return"";a=w}return a}},{key:"unwrapCustomize",value:function(t){var a=this.editor.node;if(a.isCustomize(t))switch(t.name){case"li":if(a.isCustomize(t)){var i=t.first();i!=null&&i.isCard()&&i.remove()}return t.removeAttributes("class"),t;case"ul":return t.removeAttributes("class"),t;default:return t}return t}},{key:"unwrap",value:function(t){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nn("<p />"),s=0,h=this.editor,w=h.node,I=h.schema,B=I.data.globals.block||{},W=B.style||{};t.forEach(function(G){if(a.unwrapCustomize(G),w.isList(G)&&(s=parseInt(G.attributes(a.INDENT_KEY),10)||0,w.unwrap(G)),G.name==="li"){var H=w.clone(i,!1,!1);s!==0&&H.css("text-indent",s*2+"em"),G.removeAttributes(a.INDENT_KEY);var he=G.attributes();Object.keys(he).forEach(function(Oe){Oe!==et&&Oe!=="id"&&B[Oe]&&H.attributes(Oe,he[Oe])});var ge=G.css();ge["text-align"]&&a.addAlign(H,ge["text-align"]),delete ge["text-align"],ge[a.STYLE_POSITION_NAME]="",Object.keys(ge).forEach(function(Oe){W[Oe]||(ge[Oe]="")}),H.css(ge),w.replace(G,H)}})}},{key:"normalize",value:function(t){var a=this.editor;if(!Gn(a))return[];var i=a.change,s=a.block,h=a.node;t=t||i.range.get();var w=s.getBlocks(t),I=[];w.forEach(function(W,G){var H=W.parent();if(W.name==="p"){if((H==null?void 0:H.name)==="li"){G===0&&I.push(H),h.unwrap(W);return}if(H&&["ul","ol"].indexOf(H.name)>-1){W=h.replace(W,nn("<li />")),I.push(W);return}}if(W.name==="li"&&(H==null?void 0:H.name)==="li"){G===0&&I.push(H),h.unwrap(W);return}if(["ul","ol"].indexOf(W.name)>-1&&(H==null?void 0:H.name)==="li"){h.unwrap(W);return}I.push(W)});var B=t.endNode.closest("li");return I.some(function(W){return W[0]===B[0]})||I.push(B),I}},{key:"split",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.change,s=a.node,h=t||i.range.toTrusty(),w=this.normalize(t);if(w.length>0&&(w[0].name==="li"||w[w.length-1].name==="li")){var I=h.createSelection(),B=w[0],W=w[w.length-1],G=[],H=[],he,ge;if(B.prev()){he=B.parent();for(var Oe=0;w[Oe]&&w[Oe].name==="li";)G.push(w[Oe]),Oe+=1}if(W.next()){ge=W.parent();for(var rt=W.next();rt&&rt.name==="li";)H.push(rt),rt=rt.next()}var bt;H.length>0&&ge&&(bt=s.clone(ge,!1,!1),H.forEach(function(Ot){var Bt;(Bt=bt)===null||Bt===void 0||Bt.append(Ot[0])}),ge.after(bt));var Ct;if(G.length>0&&he&&(Ct=s.clone(he,!1,!1),G.forEach(function(Ot){var Bt;(Bt=Ct)===null||Bt===void 0||Bt.append(Ot[0])}),he.after(Ct)),he&&ge&&ge.equal(he)&&he.name==="ol"){var Dt=(parseInt(he.attributes("start"),10)||1)+he.find("li").length;bt.attributes("start",Dt)}I.move()}t||i.apply(h)}}},{key:"merge",value:function(t,a){var i=this,s=this.editor;if(!!Gn(s)){var h=s.change,w=s.block,I=s.node,B=s.schema,W=B.getCanMergeTags();if(W.length!==0){var G=a||h.range.toTrusty(),H=G.cloneRange(),he=t?void 0:H.shrinkToElementNode().createSelection();t=t||w.getBlocks(G);var ge=!1;if(t.forEach(function(rt){if(rt=rt.closest("ul,ol"),!(!I.isList(rt)||W.indexOf(rt.name)===-1)){var bt=rt.prev(),Ct=rt.next();bt&&i.isSame(bt,rt)&&(I.merge(bt,rt),rt=bt,ge=!0),Ct&&i.isSame(Ct,rt)&&(I.merge(rt,Ct),ge=!0)}}),ge&&(t=w.getBlocks(G),t.length>0)){var Oe=t[0].closest("ul,ol");this.addStart(Oe)}he==null||he.move(),!a&&he!==void 0&&h.apply(H)}}}},{key:"addStart",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.change,s=a.node;if(!t){var h=a.block.getBlocks(i.range.get());if(h.length===0)return;t=h[0].closest("ul,ol")}if(!(!t||!s.isList(t))){for(var w=parseInt(t.attributes(this.INDENT_KEY),10)||0,I=[],B=w,W=t.prev();W&&s.isList(W);){if(W.name==="ol"){var G=parseInt(W.attributes(this.INDENT_KEY),10)||0,H=parseInt(W.attributes("start"),10)||1,he=W.find("li").length;if(G===0){I[G]=H+he;break}G<=B&&(B=G,I[G]=I[G]||H+he)}else B=parseInt(W.attributes(this.INDENT_KEY),10)||0;W=W.prev()}for(var ge=t;ge;){if(s.isList(ge)){var Oe=parseInt(ge.attributes(this.INDENT_KEY),10)||0,rt=parseInt(ge.attributes("start"),10),bt=ge.find("li").length;if(ge.name==="ol"){var Ct=I[Oe];Oe>0?(Ct=Ct||1,Ct>1?ge.attributes("start",Ct):ge.removeAttributes("start"),I[Oe]=Ct+bt):Ct&&Ct!==rt?(Ct>1?ge.attributes("start",Ct):ge.removeAttributes("start"),I[Oe]=Ct+bt):(I[Oe]=(rt||1)+bt,I=I.slice(0,Oe+1))}}else I=[];var Dt=ge.next();if(!Dt)break;ge=Dt}}}}},{key:"addIndent",value:function(t,a,i){if(this.editor.node.isList(t)){var s=this.getIndent(t);a=s+(a<0?-1:1),i&&a>i&&(a=i),a<1?t.removeAttributes(this.INDENT_KEY):t.attributes(this.INDENT_KEY,a)}}},{key:"getIndent",value:function(t){return this.editor.node.isList(t)&&parseInt(t.attributes(this.INDENT_KEY),10)||0}},{key:"addAlign",value:function(t,a){if(t.name==="li")if(a&&a!=="left")["center","right"].indexOf(a)>-1&&t.css((0,j.Z)({},this.STYLE_POSITION_NAME,this.STYLE_POSITION_VALUE)),t.css({"text-align":a});else{var i;t.css((i={},(0,j.Z)(i,this.STYLE_POSITION_NAME,""),(0,j.Z)(i,"text-align",""),i))}}},{key:"addCardToCustomize",value:function(t,a,i){var s,h;if(Ti(t)&&(t=nn(t)),t.name==="li"){var w=t.first();if(!((w==null?void 0:w.isBlockCard())||(w==null?void 0:w.isCard())&&w.attributes(_i)===a)){var I=this.editor,B=I.card,W=B.create(a,{value:i}),G=Da.create(I),H=nn("<br />");if(((s=(h=t.get())===null||h===void 0?void 0:h.childNodes.length)!==null&&s!==void 0?s:0)>0){var he;(he=t.first())===null||he===void 0||he.before(H)}else t.append(H);G.select(H,!0),B.insertNode(G,W);var ge=t.last();return(ge==null?void 0:ge.name)==="br"&&ge.remove(),W}}}},{key:"addReadyCardToCustomize",value:function(t,a,i){if(Ti(t)&&(t=nn(t)),t.name==="li"){var s=t.first();if(!((s==null?void 0:s.isBlockCard())||(s==null?void 0:s.isCard())&&s.attributes(_i)===a)){var h=nn("<span />");return t.prepend(h),this.editor.card.replaceNode(h,a,i),h}}}},{key:"addBr",value:function(t){var a=this,i=this.editor.node;if(i.isList(t))t.find("li").each(function(B){a.addBr(nn(B))});else if(i.isCustomize(t)){for(var s=t.last();!((h=s)===null||h===void 0)&&h.isCursor();){var h;s=s.prev()}if(s){var w=t.children();if(w.length===1&&s.isCard()){t.append(nn("<br />"));return}if(w.length>2&&s.name==="br"){var I;((I=s.prev())===null||I===void 0?void 0:I.name)!=="br"&&s.remove();return}for(;s;){if(s.equal(t.first())&&(s.isCard()||s.text()==="")){t.append(nn("<br />"));return}if(s.type===Node.TEXT_NODE){if(s.text()!=="")return;s=s.prev()}else if(s.type===Node.ELEMENT_NODE){if(!i.isMark(s)||s.text()!=="")return;s=t.prev()}else s=s.prev()}}else t.append(nn("<br />"))}}},{key:"insert",value:function(t,a){var i,s,h,w=this,I=this.editor;if(!(!Gn(I)||t.childNodes.length===0)){var B=I.change,W=I.node,G=I.block,H=a||B.range.toTrusty();H.collapsed||B.delete(H,!0,!0);var he=H.cloneRange().shrinkToElementNode(),ge=he.startNode,Oe=he.startOffset,rt=ge;if(W.isList(ge)&&(rt=ge.children().eq(Oe)),rt=(i=rt)===null||i===void 0?void 0:i.closest("li",function(xo){return W.isBlock(xo)&&xo.nodeName!=="LI"?void 0:xo.parentElement||void 0}),!(((s=rt)===null||s===void 0?void 0:s.length)===0||((h=rt)===null||h===void 0?void 0:h.name)!=="li")){H.shrinkToElementNode().shrinkToTextNode(),G.split(H);var bt=H.createSelection("list-insert");this.split(H);var Ct=function(_s){G.merge(_s),w.merge(void 0,_s),bt==null||bt.move(),a||B.apply(_s)},Dt=nn(t).toArray().some(function(xo){return W.isBlock(xo)})?nn(t.childNodes[0]):nn("<p></p>").append(nn(t)),Ot=H.startNode.closest("ul,ol");if(!Ot||!W.isList(Ot)){Ct(H);return}var Bt=H.startNode.closest("li");if(W.isCustomize(Ot)){var Nt,In,en=(Nt=Ot.prev())===null||Nt===void 0||(In=Nt.first())===null||In===void 0?void 0:In.first();if(en){var Fn=I.card.find(en);Fn&&this.addCardToCustomize(Bt,Fn.name,Fn.getValue())}}var rr=!W.isList(Dt)||this.isSame(Ot,Dt);if(rr){for(var Yn,ur;W.isBlock(Dt);){var xr=Dt.first();if(xr&&W.isBlock(xr)){Dt=xr;continue}break}var Lr=(Yn=Bt.parent())===null||Yn===void 0||(ur=Yn.prev())===null||ur===void 0?void 0:ur.last();if((Lr==null?void 0:Lr.name)==="li"){var er=Lr==null?void 0:Lr.children();if(er==null||er.each(function(xo,_s){var Ml;xo.nodeName==="BR"&&((Ml=er.eq(_s))===null||Ml===void 0||Ml.remove())}),W.isCustomize(Dt)){var Rr;(Rr=Dt.first())===null||Rr===void 0||Rr.remove()}if(Dt.isBlockCard()){var Wi;(Wi=Lr.parent())===null||Wi===void 0||Wi.after(Dt)}else Lr==null||Lr.append(W.isBlock(Dt)?Dt.children():Dt),Lr&&this.addBr(Lr),W.isBlock(Dt)&&Dt.remove()}}else{var ai,ra,ea=(ai=Bt.parent())===null||ai===void 0||(ra=ai.prev())===null||ra===void 0?void 0:ra.last();if(ea&&(W.isEmpty(ea)||this.isEmptyItem(ea))){var pa,ro,io;ea.remove(),((pa=ea.parent())===null||pa===void 0||(ro=pa.get())===null||ro===void 0?void 0:ro.childNodes.length)===0&&((io=ea.parent())===null||io===void 0||io.remove())}}if(t.childNodes.length===0||t.childNodes.length===1&&W.isList(t.childNodes[0])&&t.childNodes[0].childNodes.length===0){var ka=Bt.parent();if(Dt.isBlockCard()){if(ka){var Zi;this.isEmptyItem(Bt)&&((Zi=ka.get())===null||Zi===void 0?void 0:Zi.childNodes.length)===1&&ka.remove();var Ui=[ka],va=Dt.prev();va&&W.isList(va)&&Ui.push(va),this.merge(Ui)}}else{var To,Aa;if(W.isCustomize(Bt)){var Xi;(Xi=Bt.first())===null||Xi===void 0||Xi.remove()}Bt.find("br").remove(),ka==null||(To=ka.prev())===null||To===void 0||(Aa=To.last())===null||Aa===void 0||Aa.append(Bt.children()),ka==null||ka.remove()}Ct(H);return}var Pa=H.startNode.closest("li").parent();if(!Pa){Ct(H);return}for(var Sa=t.childNodes.length,xa=nn(t.childNodes[Sa-1]),Qo=(!W.isList(xa)||this.isSame(Ot,xa))&&!xa.isBlockCard(),so=!1,Ho=0;Ho<t.childNodes.length;Ho++){var is=nn(t.childNodes[Ho]);if(W.isList(t.childNodes[Ho])&&!this.isSame(Ot,is)||is.isBlockCard()){so=!0;break}}for(var ds=Pa.prev(),ys=ds?[ds]:[],qa=0;qa<(Qo&&!so?Sa-1:Sa);qa++){var oa=nn(t.childNodes[0]);if(W.isList(oa)){var Qa;if(((Qa=oa.get())===null||Qa===void 0?void 0:Qa.childNodes.length)===0){oa.remove();continue}Pa.before(oa),ys.push(oa)}else{if(so){Pa==null||Pa.before(oa);continue}if(W.isBlock(oa)&&oa.allChildren().forEach(function(xo){xo.type!==kt().TEXT_NODE&&W.isBlock(xo)&&W.unwrap(xo)}),W.isCustomize(Pa)){var So,qs=(So=Pa.first())===null||So===void 0?void 0:So.first();if(qs&&qs.isCard()){var Bl=qs.attributes(_i)||qs.attributes("name"),jc=this.toCustomize(oa,Bl);jc&&(Array.isArray(jc)?jc:[jc]).forEach(function(xo){Pa==null||Pa.before(xo)})}}else{var Ic=this.toNormal(oa,Pa.name);(Array.isArray(Ic)?Ic:[Ic]).forEach(function(xo){I.node.isList(xo)&&(Pa==null||Pa.before(xo))})}}}if(ys.length>0&&this.merge(ys),!rr&&W.isEmptyWidthChild(Pa)&&Pa.remove(),t.childNodes.length===0){if(W.isEmpty(Bt)||this.isEmptyItem(Bt)){var rd,su,id,lu,Bu=(rd=Bt.parent())===null||rd===void 0?void 0:rd.prev();Bt.find("br").remove(),W.isCustomize(Bt)&&((su=Bt.first())===null||su===void 0||su.remove()),Bu&&W.isList(Bu)?(id=Bu.last())===null||id===void 0||id.append(Bt.children()):Bu&&Bu.append(Bt.children()),(lu=Bt.parent())===null||lu===void 0||lu.remove()}Ct(H);return}for(;W.isBlock(xa);){var Ld=xa.last();if(Ld&&W.isBlock(Ld)){xa=Ld;continue}break}var xu=Bt;if(xu){var Od;if(!(!((Od=xa.parent())===null||Od===void 0)&&Od.fragment))for(var Yl=xu,Vc=xa.prev();Vc&&Vc.length>0;){var Fu=Vc.prev();Yl.before(Vc),Yl=Vc,Vc=Fu}if(xa.name==="br")xa.remove();else{var Kl=xa.children();if(Kl.each(function(xo,_s){var Ml;xo.nodeName==="BR"&&((Ml=Kl.eq(_s))===null||Ml===void 0||Ml.remove())}),W.isCustomize(xu)){var Us;if(W.isCustomize(xa)){var Oo=xa.first();Oo!=null&&Oo.isCard()&&Oo.remove()}(Us=xu.first())===null||Us===void 0||Us.after(W.isBlock(xa)?xa.children():xa)}else xu.prepend(W.isBlock(xa)?xa.children():xa);this.addBr(xu),W.isBlock(xa)&&xa.remove()}}Ct(H)}}}},{key:"blockToItem",value:function(t,a,i,s){var h=nn("<li></li>"),w=this.editor,I=w.node,B=w.schema;if(!I.isList(a))return a;var W=Vn(t.css("text-indent"))/2,G=B.data.globals.block||{},H=t.attributes();Object.keys(H).forEach(function(Oe){Oe!==et&&Oe!=="id"&&G.name&&h.attributes(Oe,H[Oe])});var he=G.style||{},ge=t.css();return ge["text-align"]&&this.addAlign(h,ge["text-align"]),delete ge["text-align"],delete ge[this.STYLE_POSITION_NAME],Object.keys(ge).forEach(function(Oe){he[Oe]||delete ge[Oe]}),h.css(ge),t=I.replace(t,h),i&&(t.addClass(this.CUSTOMZIE_LI_CLASS),this.addCardToCustomize(t,i,s)),W&&a.attributes(this.INDENT_KEY,W),I.wrap(t,a)}},{key:"toCustomize",value:function(t,a,i){var s=this,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"ul",w=this.editor.node;if(Array.isArray(t)){var I=[];return t.forEach(function(G){w.isCustomize(G)&&s.unwrapCustomize(G),I=I.concat(s.toCustomize(G,a,i,h))}),I}else{var B=nn("<".concat(h,' class="').concat(this.CUSTOMZIE_UL_CLASS,'"/>'));switch(t.name){case"li":return t.addClass(this.CUSTOMZIE_LI_CLASS),this.addCardToCustomize(t,a,i),t;case"ul":case"ol":return B.attributes(t.attributes()),t=w.replace(t,B),t;default:if(t.name==="p"||w.isNestedBlock(t)&&!t.isBlockCard()){var W;if(((W=t.parent())===null||W===void 0?void 0:W.name)==="li")return w.unwrap(t),t;t=this.blockToItem(t,B,a,i)}return t}}}},{key:"toNormal",value:function(t){var a=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ul",s=arguments.length>2?arguments[2]:void 0,h=this.editor.node;if(Array.isArray(t)){var w=[];return t.forEach(function(W){var G=a.toNormal(W,i,s);w=w.concat(G)}),w}else{this.unwrapCustomize(t);var I=nn("<".concat(i," />"));switch(t.name){case"li":case i:return t;case"ol":case"ul":return I.attributes(t.attributes()),I.name==="ul"&&I.removeAttributes("start"),t=h.replace(t,I),t;default:if(t.name==="p"||h.isNestedBlock(t)&&!t.isBlockCard()){var B;if(((B=t.parent())===null||B===void 0?void 0:B.name)==="li")return h.unwrap(t),t;t=this.blockToItem(t,I),s&&t.attributes("start",s)}return t}}}},{key:"isFirst",value:function(t){var a=t.startNode,i=t.startOffset,s=t.cloneRange(),h=a.name==="li"?a:a.closest("li");if(!h[0])return!1;s.select(h,!0),s.setEnd(a[0],i);var w=s.cloneContents();if(!w.firstChild)return!0;var I=nn(w.firstChild),B=nn(w.lastChild||[]);if(w.childNodes.length===1&&I.name==="br"||w.childNodes.length===1&&h.hasClass(this.CUSTOMZIE_LI_CLASS)&&I.isCard())return!0;var W=this.editor.node;if(w.childNodes.length===2&&h.hasClass(this.CUSTOMZIE_LI_CLASS)&&I.isCard()&&W.isEmpty(B))return!0;var G=nn("<div />");return G.append(w),W.isEmpty(G)}},{key:"isLast",value:function(t){var a=t.endNode,i=t.endOffset,s=t.cloneRange(),h=a.name==="li"?a:a.closest("li");if(!h[0])return!1;s.select(h,!0),s.setStart(a,i);var w=s.cloneContents();if(!w.firstChild)return!0;var I=nn(w.firstChild),B=nn(w.lastChild||[]);if(w.childNodes.length===1&&I.name==="br"||w.childNodes.length===1&&h.hasClass(this.CUSTOMZIE_LI_CLASS)&&I.isCard())return!0;var W=this.editor.node;if(w.childNodes.length===2&&h.hasClass(this.CUSTOMZIE_LI_CLASS)&&I.isCard()&&W.isEmpty(B))return!0;var G=nn("<div />");return G.append(w),W.isEmpty(G)}}]),at}(),Jn=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.node,h=a.block,w=i.range.get(),I=w.cloneRange().shrinkToTextNode(),B=I.collapsed,W=I.endNode,G=I.startNode,H=I.startOffset,he=I.endOffset;if(B){var ge=h.closest(G);if(ge.length>0&&s.isEmpty(ge))return}if(W.type===Node.TEXT_NODE||G.type===Node.TEXT_NODE){if(!B){var Oe=W.parent();if(Oe&&W.type===Node.TEXT_NODE&&s.isMark(Oe)){var rt=W.text(),bt=rt.substr(he);if(!/^\u200b$/.test(bt))return!0;w.setEnd(W,he+1)}return!0}var Ct=G.parent();if(Ct&&G.type===Node.TEXT_NODE&&s.isMark(Ct)){if(H<1)return!0;var Dt=G.text(),Ot=Dt.substr(H-1,1);if(!/^\u200b$/.test(Ot))return!0;if(H===1){var Bt=Ct.prev();if(Bt&&!s.isEmpty(Bt)){var Nt=w.cloneRange().select(Bt,!0).shrinkToTextNode().collapse(!1),In=Nt.startNode,en=Nt.startOffset;w.setStart(In,en-1)}else if(!Bt&&s.isEmpty(Ct)){var Fn=Ct.parent(),rr=Ct.getIndex();Ct.remove(),Fn&&w.setStart(Fn,rr<=0?0:rr-1)}}else w.setStart(G,H-1);return!0}if(Ct=G.prev()||void 0,Ct&&G.type===Node.TEXT_NODE&&s.isMark(Ct)){var Yn=G.text(),ur=Yn.substr(H-1,1);if(!/^\u200b$/.test(ur))return!0;if(H===1){var xr=w.cloneRange().select(Ct,!0).shrinkToTextNode().collapse(!1),Lr=xr.startNode,er=xr.startOffset;w.setStart(Lr,er-1)}else w.setStart(G,H>0?H-1:0)}}return!0}}]),at}(),br=function(){function at(F){var t=this;(0,p.Z)(this,at),this.editor=void 0,this.pluginCaches=new Map,this.findSameParent=function(a,i){var s=t.editor.node;if(s.isMark(a)){var h=void 0;if(t.compare(a,i,!0))return!0;if(h=a.parent())return t.findSameParent(h,i)}return!1},this.editor=F}return(0,d.Z)(at,[{key:"init",value:function(){var t=this,a=this.editor;if(Gn(a)){var i,s=new Jn(a);(i=a.typing.getHandleListener("backspace","keydown"))===null||i===void 0||i.on(function(h){return s.trigger(h)}),a.on("keydown:space",function(h){return t.triggerMarkdown(h)}),a.on("keydown:enter",function(h){return t.triggerMarkdown(h)})}}},{key:"triggerMarkdown",value:function(t){var a,i=this.editor;if(!(!Gn(i)||((a=i.options.markdown)===null||a===void 0?void 0:a.mode)===!1)){var s=i.change,h=s.range.get();if(!(!h.collapsed||s.isComposing())){var w=h.cloneRange().shrinkToTextNode(),I=w.startNode,B=w.startOffset,W=I.type===Node.TEXT_NODE?I:I.children().eq(B-1);if(!!W){var G=h.toPath(),H=W.type===Node.TEXT_NODE?W.text().substr(0,B):W.text(),he=Yr(i,"zero"),ge=he.renderer,Oe=he.options,rt=he.parseInline(H,{});if(rt.length!==0){var bt=!1,Ct="";if(rt.forEach(function(In){var en="",Fn=In.children||[];Fn.forEach(function(rr,Yn){var ur=rr.type,xr=i.trigger("markdown-it-token",{token:In,markdown:he,callback:function(er){en+=er}});if(xr===!1){bt=!0;return}!bt&&ur!=="text"&&(bt=!0),typeof ge.rules[ur]!="undefined"?en+=ge.rules[ur](Fn,Yn,Oe,{},ge):en+=ge.renderToken(Fn,Yn,Oe)}),Ct+=en}),bt){var Dt=i.node;t.preventDefault(),h.setStart(W[0],0),h.setEnd(W[0],B),s.paste(Ct,h),s.rangePathBeforeCommand=G,h.collapse(!1),h.enlargeToElementNode();var Ot=nn(Ct),Bt=Ot.last(),Nt=Ot.eq(Ot.length-1);(Dt.isMark(Ot)||Bt&&Dt.isMark(Bt)||Nt&&Dt.isMark(Nt))&&Dt.insertText("\xA0",h),s.range.select(h)}return!bt}}}}}},{key:"findPlugin",value:function(t){var a=this.editor,i=a.node,s=a.plugin,h=a.schema;if(!(t.length===0||!i.isMark(t))){var w=t.get().cloneNode(),I=w.outerHTML,B=this.pluginCaches.get(I);if(B)return B;for(var W in s.components){var G=s.components[W];if(xf(G)&&t.name===G.tagName){var H=G.schema();if(Array.isArray(H)?H.find(function(he){return h.checkNode(t,he.attributes)}):h.checkNode(t,H.attributes))return this.pluginCaches.set(I,G),G}}return B}}},{key:"closest",value:function(t){for(var a=this.editor.node,i=t.parent();i&&!i.isEditable()&&!a.isBlock(i);){if(a.isMark(i))return i;var s=i.parent();if(!s)break;i=s}return t}},{key:"closestNotMark",value:function(t){for(;(this.editor.node.isMark(t)||t.isText())&&!t.isEditable();){var a=t.parent();if(!a)break;t=a}return t}},{key:"compare",value:function(t,a,i){if(t.name!==a.name)return!1;var s=t.attributes();delete s.style,delete s[et];var h=a.attributes();delete h.style,delete h[et];var w=t.css(),I=a.css();delete s.class,delete h.class;var B=t.get().className.trim(),W=a.get().className.trim(),G=B!==""?B.split(/\s+/):[],H=W!==""?W.split(/\s+/):[],he=this.editor.schema,ge=he.find(function(rt){return rt.name===t.name}),Oe=function(bt){for(var Ct=0;Ct<ge.length;Ct++){var Dt=ge[Ct];if(Dt.attributes&&he.checkValue(Dt.attributes,"class",bt.join(" ").trim()))return Dt.attributes.class.toString()}return bt.join(" ").trim()};return i||(G=G.length>0?[Oe(G)]:[],H=H.length>0?[Oe(H)]:[]),!(Object.keys(s).length!==Object.keys(h).length||!Object.keys(s).every(function(rt){return i?s[rt]===h[rt]:!!h[rt]})||Object.keys(w).length!==Object.keys(I).length||!Object.keys(w).every(function(rt){return i?w[rt]===I[rt]:!!I[rt]})||G.length!==H.length||!G.every(function(rt){return H.indexOf(rt)!==-1}))}},{key:"contain",value:function(t,a){var i=a.attributes(),s=i.style||{};delete i.style;var h=t.attributes(),w=h.style||{};return delete h.style,Object.keys(i).every(function(I){return!!h[I]})&&Object.keys(s).every(function(I){return!w[I]})}},{key:"unwrapEmptyMarks",value:function(t,a){var i=this.editor.node,s=t.allChildren();s.forEach(function(h){if(i.isEmpty(h)&&i.isMark(h)&&(!a||a(h))){var w=h.children();w.length===1&&w.isText()?h.remove():i.unwrap(h)}})}},{key:"splitOnCollapsed",value:function(t,a,i){var s=this;if(!!t.collapsed){t.enlargeFromTextNode(),t.shrinkToElementNode();var h=t.startNode,w=h.parent(),I=h.isCard()?h:h.closest(pe),B=this.editor.node;if((I.length===0||I.attributes(Kr)!=="inline")&&(B.isMark(h)||w&&B.isMark(w))){var W,G,H=this.closestNotMark(h),he=t.createSelection(),ge=he.getNode(H,"left"),Oe=void 0,rt=void 0,bt=[];if(i){Ti(i)&&(i=nn(i));var Ct=i.getPath(H.get()),Dt=H.clone(!0);bt=Ct.slice(1),rt=nn(Dt.getChildByPath(Ct.slice(0,1))),Oe=he.getNode(Dt,"right",!1)}else Oe=he.getNode(H,"right");this.unwrapEmptyMarks(ge,function(Aa){return!Aa.isCursor()}),this.unwrapEmptyMarks(Oe,function(Aa){a&&!Array.isArray(a)&&(a=[a]);var Xi=!a||a.length===0||!Aa.isCard()&&a.some(function(Zi){return s.compare(Aa,Zi)});return Xi});var Ot=H.children();Ot.each(function(Aa,Xi){var Zi=Ot.eq(Xi);Zi!=null&&Zi.isCard()||Zi==null||Zi.remove()});var Bt=void 0,Nt=function(Xi){Xi.each(function(Zi,Ui){var va=Xi.eq(Ui);if(va!=null&&va.isCard()){Bt=Bt?Bt.next():H.first(),Bt&&(Xi[Ui]=Bt[0]);return}Bt?(Bt.after(Zi),Bt=va):(Bt=va,H.prepend(Zi))})},In=ge.children(),en=In.toArray();Nt(In);var Fn=Oe.children(),rr=Fn.toArray();rt&&(i=(W=rr.find(function(Aa){return Aa.equal(rt)}))===null||W===void 0?void 0:W.getChildByPath(bt)),Nt(Fn),rr=Fn.toArray();var Yn=nn("\u200B",null);if(en.length===1&&en[0].name==="br"&&(en[0].remove(),en.splice(0,1)),rr.length===1&&rr[0].name==="br"&&(rr[0].remove(),rr.splice(0,1)),rr.filter(function(Aa){return!Aa.isCursor()}).length>0){for(var ur=rr[0],xr=0;xr<rr.length-1&&(ur=rr[xr],!!ur.isCursor());xr++);if(B.isEmpty(ur)){for(var Lr=ur.first();Lr&&!Lr.isText();)ur=Lr,Lr=Lr.first();ur.isText()?ur.before(Yn):ur.prepend(Yn)}else{var er=B.isMark(h)?h:h.parent(),Rr=Yn;a&&!Array.isArray(a)&&(a=[a]);for(var Wi=function(){var Xi=er.clone();if(!a.some(function(Ui){return s.compare(Xi,Ui)})){var Zi=Yn.equal(Rr);Rr=B.wrap(Rr,Xi),Zi&&(Yn=Rr.first())}er=er.parent()};a&&a.length>0&&er&&B.isMark(er);)Wi();ur.before(Rr)}t.select(Yn).collapse(!1)}else if(en.filter(function(Aa){return!Aa.isCursor()}).length>0){var ai=en[en.length-1];ai.after(Yn),t.select(Yn).collapse(!1)}else t.select(H,!0).collapse(!0);var ra=!1;H.children().each(function(Aa){var Xi=nn(Aa);if(Xi.isText()){var Zi=Aa.textContent,Ui=(Zi==null?void 0:Zi.replace(/\u200b+/g,"\u200B"))||"";if(Zi!==Ui&&(Aa.textContent=Ui),ra){var va=Xi.next(),Pa=Xi.parent();(!va&&Pa&&!B.isInline(Pa)||va&&!B.isInline(va))&&Ui.startsWith("\u200B")?(Ui=Ui.substring(1),Ui?Aa.textContent=Ui:Xi.remove()):ra=!1}Ui.endsWith("\u200B")&&(ra=!0)}else ra=!1});var ea=B;if((G=Yn[0].parentElement)!==null&&G!==void 0?G:Yn[0].parentNode){var pa=Yn[0],ro=null,io=0,ka=function(Xi,Zi){for(var Ui=function(So){return Zi?So.previousSibling:So.nextSibling};Xi;){if(Xi.nodeType!==pa.nodeType)return;var va=Ui(Xi);if(Xi.textContent===ro){var Pa,Sa=(Pa=Xi.parentElement)!==null&&Pa!==void 0?Pa:Xi.parentNode;if(va&&ea.isInline(va)||!va&&Sa&&ea.isInline(Sa))break;Sa==null||Sa.removeChild(Xi),Xi=va}else{var xa,Qo;if(Zi)for(;ro&&((so=Xi.textContent)===null||so===void 0?void 0:so.endsWith(ro));){var so,Ho,is=(Ho=Xi.parentElement)!==null&&Ho!==void 0?Ho:Xi.parentNode;if(va&&ea.isInline(va)||!va&&is&&ea.isInline(is))break;Xi.textContent=Xi.textContent.substring(0,Xi.textContent.length-io)}else for(;ro&&((ds=Xi.textContent)===null||ds===void 0?void 0:ds.startsWith(ro));){var ds,ys,qa=(ys=Xi.parentElement)!==null&&ys!==void 0?ys:Xi.parentNode;if(va&&ea.isInline(va)||!va&&qa&&ea.isInline(qa))break;Xi.textContent=Xi.textContent.substring(ro.length)}if(((xa=Xi.textContent)===null||xa===void 0?void 0:xa.length)!==0)return;var oa=(Qo=Xi.parentElement)!==null&&Qo!==void 0?Qo:Xi.parentNode;oa==null||oa.removeChild(Xi),Xi=va}}};if(pa.nodeType===Node.TEXT_NODE){var To=pa.textContent;ro=To,io=ro.length,ka(pa.previousSibling,!0),ka(pa.nextSibling,!1)}}}return i}}},{key:"splitOnExpanded",value:function(t,a){if(!t.collapsed){t.enlargeToElementNode(),t.shrinkToElementNode();var i=t.startNode,s=t.endNode,h=i.isCard()?i:i.closest(pe),w=s.isCard()?s:s.closest(pe);if(!(h.length>0&&h.attributes(Kr)==="inline"||w.length>0&&w.attributes(Kr)==="inline")){var I=this.closestNotMark(i),B=this.closestNotMark(s);if(!I.equal(B)){var W=t.cloneRange();W.collapse(!0);var G=t.cloneRange();G.collapse(!1);var H=void 0,he=W.startOffset,ge=G.endOffset;I.contains(B)?(H=this.splitOnCollapsed(W,a,G.endNode),t.setStart(W.startContainer,W.startOffset),H&&G.setOffset(H,ge,ge),this.splitOnCollapsed(G,a),t.setEnd(G.startContainer,G.startOffset)):(H=this.splitOnCollapsed(G,a,W.startNode),t.setEnd(G.startContainer,G.startOffset),H&&W.setOffset(H,he,he),this.splitOnCollapsed(W,a),t.setStart(W.startContainer,W.startOffset));return}var Oe=this.editor.node,rt=i.parent(),bt=Oe.isMark(i)||rt&&Oe.isMark(rt),Ct=s.parent(),Dt=Oe.isMark(s)||Ct&&Oe.isMark(Ct);if(!bt&&!Dt)return;var Ot=t.commonAncestorNode;Ot.isText()&&(Ot=Ot.parent());var Bt=this.closestNotMark(Ot),Nt=t.createSelection(),In=Nt.getNode(Bt,"left"),en=Nt.getNode(Bt),Fn=Nt.getNode(Bt,"right");this.unwrapEmptyMarks(In),this.unwrapEmptyMarks(Fn);var rr=Bt.children();rr.each(function(Wi,ai){var ra=rr.eq(ai);ra!=null&&ra.isCard()||ra==null||ra.remove()});var Yn=void 0,ur=function(ai){ai.each(function(ra,ea){var pa=ai.eq(ea);if(pa!=null&&pa.isCard()){Yn=Yn?Yn.next():Bt.first(),Yn&&(ai[ea]=Yn[0]);return}Yn?(Yn.after(ra),Yn=pa):(Yn=pa,Bt.prepend(ra))})},xr=In.children();ur(xr);var Lr=en.children(),er=Lr.toArray();ur(Lr);var Rr=Fn.children();ur(Rr),t.setStartBefore(er[0][0]),t.setEndAfter(er[er.length-1][0])}}}},{key:"split",value:function(t,a){var i=this.editor;if(!!Gn(i)){var s=i.change,h=t||s.range.toTrusty(),w=kt(h.startContainer),I=h.collapsed;if((typeof a=="string"||!Array.isArray(a)&&a&&Ti(a))&&(a=nn(a,w)),I)this.splitOnCollapsed(h,a);else{var B=h.createSelection("mark-split");this.splitOnExpanded(h,a),B.move()}t||s.apply(h)}}},{key:"wrapByNode",value:function(t,a){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.findPlugin(a),h=arguments.length>3?arguments[3]:void 0,w=this.editor.node;if(w.isMark(t)){var I;((I=t.get())===null||I===void 0?void 0:I.childNodes.length)===0&&t.html("&#8203;");for(var B=t,W=B.children().toArray(),G=this.findPlugin(B),H=!1;w.isMark(B)&&W.filter(function(er){return!er.isCursor()}).length===1&&s&&G&&s.mergeLeval<=G.mergeLeval;){var he=W.find(function(er){return!er.isCursor()});if(w.isMark(he))B=he,W=B.children().toArray();else if(he.isText())B=he;else break;if(s.name===G.name){H=!0;break}G=this.findPlugin(B)}w.removeZeroWidthSpace(B);var ge=B.parent();if(B.isText()||H){for(var Oe=!1;ge&&w.isMark(ge);){if(this.compare(ge.clone(),a,!0)){Oe=!0;break}else if(ge.children().toArray().filter(function(er){return!er.isCursor()}).length===1){var rt=this.findPlugin(ge);if(s&&s===rt&&s.combineValueByWrap===!0){w.wrap(ge,a,!0),Oe=!0;break}else if(s&&s===rt){w.unwrap(ge),Oe=!1;break}}ge=ge.parent()}if(Oe)return!1}var bt=B.allChildren();return bt.forEach(function(er){if(er.type!==kt().TEXT_NODE&&w.isMark(er)){var Rr=i.findPlugin(er);Rr===s&&!(s!=null&&s.combineValueByWrap)&&w.unwrap(er)}}),w.wrap(B,a)}else if(t.name==="br"){var Ct=t.parent();if(Ct&&w.isBlock(Ct)){var Dt=a.clone(!0);return Dt.html("&#8203;"),w.replace(t,Dt),Dt}}else if(t.isCard()){var Ot=this.editor.card.find(t);if(Ot&&Ot.executeMark)return Ot.executeMark(a,!0)}else if(t.isText()&&!w.isEmpty(t)){w.removeZeroWidthSpace(t);for(var Bt=t.parent(),Nt=!1;Bt&&w.isMark(Bt);){if(this.compare(Bt.clone(),a,!0)){Nt=!0;break}else if(Bt.children().toArray().filter(function(er){return!er.isCursor()}).length===1||h&&h.equal(Bt)){var In=this.findPlugin(Bt);if(s&&s===In&&s.combineValueByWrap===!0){w.wrap(Bt,a,!0),Nt=!0;break}else if(s&&s===In){var en=w.unwrap(Bt),Fn=en.find(function(er){return!er.isCursor()&&w.isMark(er)});Fn?Bt=Fn:en.length>0&&(Bt=en[0].parent()),Nt=!1;break}}var rr=Bt.parent();if(rr&&w.isMark(Bt))Bt=rr;else break}if(Nt)return!1;for(var Yn=t.parent(),ur=Yn?this.findPlugin(Yn):void 0,xr=!1,Lr=function(){xr=!0;var Rr=Yn.children().toArray(),Wi=Yn.clone();Rr.forEach(function(ai){ai.isCursor()||ai.type===3&&/^\u200b$/.test(ai.text()||"")||(t.equal(ai)||ai.contains(t)?t=w.wrap(w.replace(t,Wi),a):(ai=w.wrap(ai,Wi),w.wrap(ai,a)))}),w.unwrap(Yn),Yn=i.closest(t)};Yn&&w.isMark(Yn)&&s&&ur&&s.mergeLeval>ur.mergeLeval;)Lr();return xr||w.wrap(t,a),t}}},{key:"wrap",value:function(t,a){var i=this,s=this.editor,h=Gn(s)?s.change:void 0;if(!(!a&&!h)){var w=s.node,I=a||h.range.toTrusty(),B=kt(I.startContainer);if(typeof t=="string"||Ti(t)?t=nn(t,B):t=t,!!w.isMark(t)){var W=I.commonAncestorNode;W.type===Node.TEXT_NODE&&(W=W.parent());var G=s.card.find(W,!0),H=G==null?void 0:G.isEditable,he=H?G!=null&&G.getSelectionNodes?G.getSelectionNodes():[]:[W];he.length===0&&(H=!1,he.push(W));var ge=w,Oe=this.findPlugin(t);if(I.collapsed&&(!H||!(G!=null&&G.getSelectionNodes)||he.length===1)){t.children().toArray().filter(function(Lr){return!Lr.isCursor()}).length===0&&t.append(B.createTextNode("\u200B"));var rt=I.shrinkToTextNode(),bt=rt.startNode,Ct=bt.parent(),Dt=[],Ot=!1;if(bt.isText()){for(var Bt=!1;Ct&&ge.isMark(Ct);){var Nt;if(this.compare(Ct.clone(),t,!0)){Bt=!0;break}var In=this.findPlugin(Ct);if(((Nt=Ct.get())===null||Nt===void 0?void 0:Nt.childNodes.length)===1){if(Oe&&Oe===In&&Oe.combineValueByWrap===!0){ge.wrap(Ct,t,!0),Bt=!0;break}else if(Oe&&Oe===In){if(this.split(I),I.collapsed)for(var en=Ct.parent();en&&ge.isMark(en);)t=ge.wrap(t,en),en=en.parent();Bt=!1;break}}Oe&&(!In||Oe.mergeLeval>In.mergeLeval)?Dt.push(Ct.clone(!1)):!Ot&&Dt.length>0&&(Dt.push(t.clone(!1)),Ot=!0),Ct=Ct.parent()}if(Bt)return}if(Dt.length>0){var Fn=Dt[0];Fn.append(t.children());for(var rr=1;rr<Dt.length;rr++)Fn=ge.wrap(Fn,Dt[rr]);t=Ot?Fn:ge.wrap(Fn,t),this.split(I)}ge.insert(t,I),this.merge(I),I.handleBr(),a||h==null||h.apply(I);return}H||(this.split(I),W=I.commonAncestorNode,W.type===Node.TEXT_NODE&&(W=W.parent()),he[0]=W);var Yn=H?void 0:I.createSelection();if(Yn&&!Yn.anchor&&!Yn.focus){a||h==null||h.apply(I);return}var ur=!!H;if(he.forEach(function(Lr){Lr.traverse(function(er){if(t=t,H||!er.equal(Yn==null?void 0:Yn.anchor)){if(ur){if(!H&&er.equal(Yn==null?void 0:Yn.focus))return ur=!1,!1;var Rr=ge.isMark(er),Wi=i.wrapByNode(er,t,Oe,Lr);if(Wi&&typeof Wi!="boolean"&&Rr){var ai;if(!H&&(Yn==null?void 0:Yn.focus)&&Wi.find('[data-element="'.concat(Yn.focus.attributes(Ve),'"]')).equal(Yn.focus))return ur=!1,!1;if((Yn==null?void 0:Yn.focus)&&((ai=Wi.next())===null||ai===void 0?void 0:ai.equal(Yn.focus)))return ur=!1,!1}if(typeof Wi!="undefined")return!0}}else ur=!0},!0,"editable")}),Yn==null||Yn.move(),H){var xr=[];he.forEach(function(Lr){Lr.allChildren().forEach(function(er){er.isElement()&&w.isMark(er)&&xr.push(er)})}),this.mergeMarks(xr)}else this.merge(I);a||h==null||h.apply(I)}}}},{key:"mergeMarks",value:function(t){var a=this,i=this.editor.node;t.forEach(function(s){var h=s.prev(),w=s.next(),I=s.parent();if(I&&a.findSameParent(I,s)){i.unwrap(s);return}h&&a.compare(h,s,!0)&&(i.merge(h,s),s=h),w&&a.compare(w,s,!0)&&i.merge(s,w);var B=[],W=s.children();W.each(function(G,H){var he=W.eq(H);he&&!he.isCursor()&&i.isMark(he)&&B.push(he)}),B.length>0&&a.mergeMarks(B)})}},{key:"merge",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.change,s=t||i.range.toTrusty(),h=this.findMarks(s);if(h.length!==0){var w=s.shrinkToElementNode().createSelection();this.mergeMarks(h),w.move(),s.handleBr(),t||i.apply(s)}}}},{key:"unwrapByNodes",value:function(t,a){var i=this,s=this.editor,h=s.node;t.forEach(function(w){a=a,!a||!w.isCard()&&(Array.isArray(a)?a:[a]).some(function(I){return i.compare(w,I)})?h.unwrap(w):a?(Array.isArray(a)?a:[a]).forEach(function(I){var B,W=I.css();Object.keys(W).forEach(function(H){w.css(H,"")});var G=(B=I.get())===null||B===void 0?void 0:B.className.split(/\s+/);G&&function(){for(var H=s.schema,he=H.find(function(rt){return rt.name===w.name}),ge=function(bt){var Ct=he[bt];G.forEach(function(Dt){Dt=Dt.trim(),Dt!==""&&Ct.attributes&&H.checkValue(Ct.attributes,"class",Dt)&&w.removeClass(Dt)})},Oe=0;Oe<he.length;Oe++)ge(Oe)}()}):(w.removeAttributes("class"),w.removeAttributes("style"))})}},{key:"unwrap",value:function(t,a){var i=this.editor;if(!!Gn(i)){var s=i.change,h=i.node,w=a||s.range.toTrusty(),I=kt(w.startContainer)||document;t!==void 0&&!Array.isArray(t)&&(typeof t=="string"||Ti(t))&&(t=nn(t,I));var B=w.commonAncestorNode;B.type===Node.TEXT_NODE&&(B=B.parent());var W=i.card.find(B,!0),G=W==null?void 0:W.isEditable,H=G?W!=null&&W.getSelectionNodes?W.getSelectionNodes():[]:[B];if(H.length===0&&(G=!1,H.push(B)),G||(this.split(w,w.collapsed?t:void 0),B=w.commonAncestorNode,B.type===Node.TEXT_NODE&&(B=B.parent()),H[0]=B),w.collapsed&&(!G||!(W!=null&&W.getSelectionNodes)||H.length===1)){a||s.apply(w);return}var he=G?void 0:w.createSelection("mark-unwrap");if(he&&!he.has()){this.merge(w),a||s.apply(w);return}var ge=[],Oe=!!G;if(H.forEach(function(bt){bt.traverse(function(Ct){if(!(!G&&(Ct.isText()||!(he!=null&&he.anchor)))){if(G||(he==null?void 0:he.anchor)&&!Ct.equal(he.anchor)){if(Oe&&(G||!Ct.equal(he==null?void 0:he.focus))){if(h.isMark(Ct)&&!Ct.isCard()&&(G||w.isPointInRange(Ct,0)))ge.push(Ct);else if(Ct.isCard()){var Dt=i.card.find(Ct);Dt&&Dt.executeMark&&(Array.isArray(t)?t:[t]).forEach(function(In){Dt.executeMark(In,!1)})}}}else if(!G&&(Oe=!0,(he==null?void 0:he.anchor)&&Ct.equal(he.anchor)&&!he.anchor.prev()))for(var Ot=he.anchor.parent();Ot&&!Ot.isCard()&&h.isMark(Ot);){var Bt,Nt;if(ge.push(Ot),Ot=Ot.parent(),Ot&&((Bt=(Nt=Ot.get())===null||Nt===void 0?void 0:Nt.childNodes.length)!==null&&Bt!==void 0?Bt:0)>1)break}}},!0,"editable")}),this.unwrapByNodes(ge,t),he==null||he.move(),G){var rt=[];H.forEach(function(bt){bt.allChildren().forEach(function(Ct){Ct.isElement()&&h.isMark(Ct)&&rt.push(Ct)})}),this.mergeMarks(rt)}else this.merge(w);a||s.apply(w)}}},{key:"insert",value:function(t,a){var i,s=this.editor;if(!!Gn(s)){var h=s.change,w=s.node,I=a||h.range.toTrusty();if(typeof t=="string"||Ti(t)){var B=kt(I.startContainer);t=nn(t,B)}I.collapsed||h.delete(I),(i=w.insert(t,I))===null||i===void 0||i.handleBr().select(t).collapse(!1),a||h.apply(I)}}},{key:"findMarks",value:function(t){var a=this.editor,i=t.cloneRange();if(i.startNode.isRoot()&&i.shrinkToElementNode(),!i.startNode.inEditor()||a.card.find(i.startNode))return[];var s=a.node,h=function(ur,xr){var Lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!!xr.collapsed){var er=xr.startNode,Rr=xr.startOffset,Wi=er.findParent();if(!!Wi){var ai=xr.cloneRange();if(ai.select(Wi,!0),Lr){ai.setEnd(er,Rr),ai.enlargeFromTextNode(),ai.enlargeToElementNode(!0);var ra=er.get().childNodes,ea=ai.endNode,pa=ai.endOffset,ro=ea.get().childNodes,io=ro.item(pa),ka=ra.item(Rr)||ra.item(Rr-1);if(!ur&&ea.type===Node.ELEMENT_NODE&&io&&s.isBlock(io)&&(er.type!==Node.ELEMENT_NODE||!!ka&&!s.isBlock(ka)))return;ai.select(Wi,!0),ai.setStart(ea,pa),ai.shrinkToElementNode(),ai.shrinkToTextNode(),xr.setStart(ai.startContainer,ai.startOffset),xr.collapse(!0)}else{ai.setStart(er,Rr),ai.enlargeFromTextNode(),ai.enlargeToElementNode(!0);var To=er.get().childNodes,Aa=ai.startNode,Xi=ai.startOffset,Zi=Aa.get().childNodes,Ui=Zi.item(Xi),va=To.item(Rr)||To.item(Rr-1);if(!ur&&Aa.type===Node.ELEMENT_NODE&&Ui&&s.isBlock(Ui)&&(er.type!==Node.ELEMENT_NODE||va&&!s.isBlock(va)))return;ai.select(Wi,!0),ai.setEnd(Aa,Xi),ai.shrinkToElementNode(),ai.shrinkToTextNode(),xr.setEnd(ai.endContainer,ai.endOffset),xr.collapse(!1)}}}};if(!i.collapsed){var w=i.cloneRange(),I=i.cloneRange();w.collapse(!0),I.collapse(!1),h(!0,w,!0),h(!0,I),i.setStart(w.startContainer,w.startOffset),i.setEnd(I.startContainer,I.startOffset)}h(!1,i);var B=i.startContainer,W=i.startOffset,G=i.endContainer,H=i.endOffset,he=B,ge=G;B.nodeType===Node.ELEMENT_NODE&&B.childNodes[W]&&(he=B.childNodes[W]||B),G.nodeType===Node.ELEMENT_NODE&&H>0&&G.childNodes[H-1]&&(ge=G.childNodes[H-1]||B),i.collapsed&&(he=ge);var Oe=function(ur,xr){ur.push(xr)},rt=s,bt=function(ur){for(var xr=[];ur&&!(ur.type===Node.ELEMENT_NODE&&ur.isEditable());){if(rt.isMark(ur)&&!ur.attributes(_i)&&!ur.attributes(qt))xr.push(ur);else if(ur.isCard()){var Lr=a.card.find(ur);Lr!=null&&Lr.queryMarks&&xr.push.apply(xr,(0,ne.Z)(Lr.queryMarks()))}var er=ur.parent();if(!er)break;ur=er}return xr},Ct=bt(nn(he)),Dt=i.commonAncestorNode,Ot=a.card.find(Dt,!0),Bt=Ot==null?void 0:Ot.isEditable,Nt=Bt?Ot!=null&&Ot.getSelectionNodes?Ot.getSelectionNodes():[]:[Dt];if(Nt.length===0&&(Bt=!1,Nt.push(Dt)),(!i.collapsed||Bt)&&(bt(nn(ge)).forEach(function(Yn){return Oe(Ct,Yn)}),B!==G||Bt)){var In=!1,en=!1;Nt.forEach(function(Yn){Yn.traverse(function(ur){if(en)return!1;if(ur[0]!==B){if(In){if(ur[0]===G)return en=!0,!1;if(rt.isMark(ur)&&!ur.attributes(_i)&&!ur.attributes(qt))Oe(Ct,ur);else if(ur.isCard()){var xr=a.card.find(ur);xr!=null&&xr.queryMarks&&xr.queryMarks().forEach(function(Lr){Oe(Ct,Lr)})}}}else In=!0},!0,"editable")})}for(var Fn=0;Fn<Ct.length;Fn++)for(var rr=Fn+1;rr<Ct.length;rr++)Ct[Fn][0]==Ct[rr][0]&&(Ct.splice(rr,1),rr--);return Ct}},{key:"removeEmptyMarks",value:function(t,a){if(!(t.length===0||t.isEditable()||t.isCard()||t.attributes(Ve))){var i=this.editor.node;if(!t.attributes(Ve)){var s,h,w=t.parent();if(((s=t.get())===null||s===void 0?void 0:s.childNodes.length)===1&&((h=t.first())===null||h===void 0?void 0:h.attributes(Ve))){i.isMark(t)?(t.before(t.first()),t.remove(),w&&this.removeEmptyMarks(w,!0)):a&&i.isBlock(t)&&t.prepend("<br />");return}var I=i.html(t);(I===""||I==="\u200B")&&(i.isMark(t)?(t.remove(),w&&this.removeEmptyMarks(w,!0)):a&&i.isBlock(t)&&i.html(t,"<br />"))}}}},{key:"repairCursor",value:function(t){var a=this.editor.node;t=Ti(t)?nn(t):t;var i=a.isMark(t);if(i&&!t.isCursor()){var s=t.children();s.each(function(G,H){var he,ge=s.eq(H);if((ge==null?void 0:ge.isText())&&!(!((he=ge.next())===null||he===void 0)&&he.isCursor())){var Oe=ge.text();if(Oe.length===1&&/\u200b/.test(Oe)){ge.remove();return}ge.text(Oe.replace(/\u200b/g,""))}});var h=t.children().toArray().filter(function(G){return!G.isCursor()});h.length<2&&(h.length===0||h.length===1&&h[0].isText()&&h[0].text().length===0)&&(h.length>0&&h[0].remove(),t.prepend(nn("\u200B",null)));var w=t.next(),I=w==null?void 0:w.next();w&&I&&w.isText()&&/^\u200b$/g.test(w.text())&&!a.isInline(I)&&w.remove();var B=t.prev(),W=B==null?void 0:B.prev();B&&W&&B.isText()&&/^\u200b$/g.test(B.text())&&!a.isInline(W)&&B.remove()}}}]),at}(),Or=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.mark,h=a.inline,w=a.node,I=i.range.get(),B=I.cloneRange().shrinkToTextNode(),W=B.collapsed,G=B.endNode,H=B.startNode,he=B.startOffset;if(G.type===Node.TEXT_NODE||H.type===Node.TEXT_NODE){if(!W){var ge=h.closest(G);if(w.isInline(ge)&&!ge.isCard()&&w.isEmpty(ge)){if(he>1)return!0;var Oe=G.prev(),rt=G.parent();if(rt&&w.isInline(rt)){if(Oe)return!0;var bt=G.text(),Ct=bt.substr(0,he);if(!/^\u200b$/.test(Ct))return!0;var Dt=ge.next(),Ot=Dt==null?void 0:Dt.text();if(Dt&&Dt.isText()&&Ot&&/^\u200b/.test(Ot))return I.setEnd(Dt,1),!1}}return w.isInline(ge)&&!ge.isCard()&&setTimeout(function(){h.repairCursor(ge)},100),!0}var Bt=h.closest(H);if(w.isInline(Bt)){if(Bt.isCard()||he>1)return!0;var Nt=H.prev(),In=H.parent();if(In&&w.isInline(In)){if(Nt)return!0;var en=H.text(),Fn=en.substr(0,he);if(!/\u200b$/.test(Fn))return!0}else if(he===0){for(;!Nt&&In&&!w.isInline(In);){var rr;Nt=In.prev(),In=(rr=In)===null||rr===void 0?void 0:rr.parent()}if(Nt&&!Nt.isText()||Nt&&!/\u200b$/.test(Nt.text()))return!0}else return!0;var Yn=Bt.prev(),ur=Yn==null?void 0:Yn.text();if(Yn&&Yn.isText()&&ur&&/\u200b$/.test(ur)){if(I.setStart(Yn,ur.length-1),w.isEmpty(Bt)){var xr=Bt.next(),Lr=xr==null?void 0:xr.text();xr&&xr.isText()&&Lr&&/^\u200b/.test(Lr)&&I.setEnd(xr,1)}else I.collapse(!0);return i.range.select(I),!1}return!0}else{var er=H.prev(),Rr=H.parent(),Wi=void 0;if(er){if(w.isInline(er)&&!er.isCard()){var ai=H.text(),ra=ai.substr(0,he);if(!/^\u200b$/.test(ra))return!0;Wi=er}}else if(he===0){for(;!er&&Rr&&!w.isBlock(Rr);){var ea;er=Rr.prev(),Rr=(ea=Rr)===null||ea===void 0?void 0:ea.parent()}if(er&&!er.isText())return!0;if(er){if(!/^\u200b$/.test(er.text()))return!0;if(er=er.prev(),er&&w.isInline(er))Wi=er;else return!0}}else return!0;if(Wi){var pa=Wi.last(),ro=pa==null?void 0:pa.text();if(pa&&pa.isText()&&ro&&/\u200b$/.test(ro))return t.preventDefault(),I.setStart(pa,ro.length-1),I.collapse(!0),i.range.select(I),!1}}}return!0}}]),at}(),Gr=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.inline,h=a.node,w=i.range.get().cloneRange().shrinkToTextNode(),I=w.startNode,B=w.startOffset,W=this.engine.card.getSingleCard(w);if(!W&&I.type===Node.TEXT_NODE){var G=s.closest(I);if(h.isInline(G)){if(G.isCard())return;if(B>1)return!0;var H=I.prev(),he=I.parent();if(he&&h.isInline(he)){if(H)return!0;var ge=I.text(),Oe=ge.substr(0,B);if(!/^\u200b$/.test(Oe))return!0}else if(B===0){for(;!H&&he&&!h.isInline(he);){var rt;H=he.prev(),he=(rt=he)===null||rt===void 0?void 0:rt.parent()}if(H&&!H.isText()||H&&!/^\u200b$/.test(H.text()))return!0}else return!0;var bt=G.prev(),Ct=bt==null?void 0:bt.text();if(bt&&bt.isText()&&Ct&&/\u200b$/.test(Ct)){t.preventDefault();var Dt=w.cloneRange(),Ot=Dt.collapsed;return w.setStart(bt,Ct.length-1),Ot&&w.collapse(!0),i.range.select(w),!1}return!0}else{var Bt=I.prev(),Nt=I.parent(),In=void 0;if(Bt){if(h.isInline(Bt)&&!Bt.isCard()){var en=I.text(),Fn=en.substr(0,B);if(!/^\u200b$/.test(Fn))return!0;In=Bt}}else if(B===0){for(;!Bt&&Nt&&!h.isBlock(Nt);){var rr;Bt=Nt.prev(),Nt=(rr=Nt)===null||rr===void 0?void 0:rr.parent()}if(Bt&&!Bt.isText())return!0;if(Bt){if(!/^\u200b$/.test(Bt.text()))return!0;if(Bt=Bt.prev(),Bt&&h.isInline(Bt))In=Bt;else return!0}}else return!0;if(In){t.preventDefault();var Yn=In.last(),ur=Yn==null?void 0:Yn.text();if(Yn&&Yn.isText()&&ur&&/\u200b$/.test(ur)){var xr=w.cloneRange(),Lr=xr.collapsed;return w.setStart(Yn,ur.length-1),Lr&&!(0,O.ZP)("shift+left",t)&&w.collapse(!0),i.range.select(w),!1}}}}return!0}}]),at}(),Fi=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.inline,h=a.node,w=i.range.get().cloneRange().shrinkToTextNode(),I=w.endNode,B=w.endOffset,W=this.engine.card.getSingleCard(w);if(!W&&I.type===Node.TEXT_NODE){var G=s.closest(I),H=I.text();if(h.isInline(G)){if(G.isCard())return;if(B<H.length-1)return!0;var he=I.next(),ge=I.parent();if(ge&&h.isInline(ge)){if(he)return!0;var Oe=H.substr(B);if(!/^\u200b$/.test(Oe))return!0}else if(B===H.length||B===H.length-1){for(;!he&&ge&&!h.isInline(ge);){var rt;he=ge.next(),ge=(rt=ge)===null||rt===void 0?void 0:rt.parent()}if(he&&!he.isText())return!0;if(he){if(!/^\u200b$/.test(he.text()))return!0;if(B===H.length-1){t.preventDefault();var bt=w.cloneRange(),Ct=bt.collapsed;return w.setEnd(he,0),Ct&&w.collapse(!1),i.range.select(w),!1}}}else return!0;var Dt=G.next(),Ot=Dt==null?void 0:Dt.text();if(Dt&&Dt.isText()&&Ot&&/^\u200b/.test(Ot)){t.preventDefault();var Bt=w.cloneRange(),Nt=Bt.collapsed;return w.setEnd(Dt,1),Nt&&w.collapse(!1),i.range.select(w),!1}return!0}else{var In=I.next(),en=I.parent(),Fn=void 0;if(In){if(h.isInline(In)&&!In.isCard()){var rr=H.substr(B);if(!/^\u200b$/.test(rr))return!0;Fn=In}}else if(B===H.length){for(;!In&&en&&!h.isBlock(en);){var Yn;In=en.next(),en=(Yn=en)===null||Yn===void 0?void 0:Yn.parent()}if(In&&!In.isText())return!0;if(In){if(!/^\u200b$/.test(In.text()))return!0;if(In=In.next(),In&&h.isInline(In))Fn=In;else return!0}}else return!0;if(Fn){t.preventDefault();var ur=Fn.first(),xr=ur==null?void 0:ur.text();if(ur&&ur.isText()&&xr&&/^\u200b/.test(xr)){var Lr=w.cloneRange(),er=Lr.collapsed;return w.setEnd(ur,1),er&&!(0,O.ZP)("shift+right",t)&&w.collapse(!1),i.range.select(w),!1}}}}return!0}}]),at}(),Ga=function(){function at(F){(0,p.Z)(this,at),this.editor=void 0,this.editor=F}return(0,d.Z)(at,[{key:"init",value:function(){var t=this.editor;if(Gn(t)){var a,i,s,h=t.typing,w=t.event,I=new Or(t);(a=h.getHandleListener("backspace","keydown"))===null||a===void 0||a.on(function(G){return I.trigger(G)});var B=new Gr(t);(i=h.getHandleListener("left","keydown"))===null||i===void 0||i.on(function(G){return B.trigger(G)});var W=new Fi(t);(s=h.getHandleListener("right","keydown"))===null||s===void 0||s.on(function(G){return W.trigger(G)})}}},{key:"repairRange",value:function(t){var a=this.editor,i=a.change,s=a.node;t=t||i.range.get();var h=t,w=h.startNode,I=h.startOffset,B=h.endNode,W=h.endOffset,G=h.collapsed;if(G)return t;var H=this.closest(w);if(H&&s.isInline(H)&&I<=1){for(var he=!0,ge=w;ge&&!ge.equal(H);){if(ge.prev()){he=!1;break}ge=ge.parent()}if(he){var Oe=H.prev(),rt=(Oe==null?void 0:Oe.text())||"";Oe&&Oe.isText()&&/\u200B$/g.test(rt)&&t.setStart(Oe,rt.length-1)}}var bt=this.closest(B),Ct=bt.last();if(bt&&s.isInline(bt)&&Ct&&B.equal(Ct)&&W>=Ct.text().length-1){for(var Dt=!0,Ot=w;Ot&&!Ot.equal(bt);){if(Ot.next()){Dt=!1;break}Ot=Ot.parent()}if(Dt){var Bt=bt.next(),Nt=(Bt==null?void 0:Bt.text())||"";Bt&&Bt.isText()&&/^\u200B/g.test(Nt)&&t.setEnd(Bt,1)}}return t}},{key:"closest",value:function(t){for(var a=this.editor.node,i=t.parent();i&&!i.isEditable()&&!a.isBlock(i);){if(a.isInline(i))return i;var s=i.parent();if(!s)break;i=s}return t}},{key:"closestNotInline",value:function(t){for(var a=this.editor.node;(a.isInline(t)||a.isMark(t)||t.isText())&&!t.isEditable();){var i=t.parent();if(!i)break;t=i}return t}},{key:"wrap",value:function(t,a){var i=this,s=this.editor;if(!!Gn(s)){var h=s.change,w=s.mark,I=s.node,B=a||h.range.toTrusty(),W=kt(B.startContainer);if(typeof t=="string"||Ti(t)?t=nn(t,W):t=t,!!I.isInline(t)){if(B.collapsed){this.insert(t,B),a||h.apply(B);return}w.split(B),this.split(B);var G=B.commonAncestorNode;if(G.type===Node.TEXT_NODE||I.isMark(G))for(G=G.parent();I.isMark(G);)G=G.parent();var H=B.enlargeToElementNode().createSelection();if(!H.has()){a||h.apply(B);return}var he=!1,ge=I.clone(t,!1),Oe=[];G.traverse(function(en){if(en.equal(H.anchor)){he=!0;return}else{if(he){if(en.equal(H.focus))return he=!1,!1;if(I.isInline(en))if(en.isCard())Oe.push(en);else{var Fn=en.children();I.unwrap(en),en=Fn}if(I.isMark(en)&&!en.isCard()||en.isText())return I.isEmpty(en)?(en.remove(),!0):(ge.parent()||en.before(ge),ge.append(en),i.repairCursor(ge),Oe.push(ge),!0);ge[0].childNodes.length!==0&&!!ge.parent()&&(ge=I.clone(ge,!1,!1))}return}});var rt=H.anchor,bt=H.focus,Ct=rt==null?void 0:rt.parent();if(Ct&&I.isRootBlock(Ct)&&!rt.prev()&&!rt.next()&&rt.after("<br />"),!rt.equal(bt)){var Dt=bt==null?void 0:bt.parent();Dt&&I.isRootBlock(Dt)&&!bt.prev()&&!bt.next()&&bt.before("<br />")}if(H.move(),Oe.length>0){var Ot=Oe[0];if(!Ot.isCard()){var Bt=Ot.first();B.setStart(Bt,1)}var Nt=Oe[Oe.length-1];if(!Nt.isCard()){var In=Nt.last();B.setEnd(In,In.text().length-1)}}a||h.apply(B)}}}},{key:"unwrap",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.change,s=a.mark,h=!t||!gs(t)?i.range.toTrusty():t;this.repairRange(h),s.split(h);var w=t&&!gs(t)?[t]:this.findInlines(h),I=h.createSelection();w.forEach(function(B){var W,G,H,he,ge=B.prev();ge&&ge.isCursor()&&(ge=ge.prev());var Oe=B.next();Oe&&Oe.isCursor()&&(Oe=Oe.prev());var rt=B.first();rt&&rt.isCursor()&&(rt=rt.next());var bt=((W=ge)===null||W===void 0?void 0:W.text())||"",Ct=((G=Oe)===null||G===void 0?void 0:G.text())||"",Dt=((H=rt)===null||H===void 0?void 0:H.text())||"";ge&&ge.isText()&&/\u200B$/g.test(bt)&&(/^\u200B$/g.test(bt)?ge.remove():ge.text(bt.substr(0,bt.length-1))),Oe&&Oe.isText()&&/^\u200B/g.test(Ct)&&(/^\u200B$/g.test(Ct)?Oe.remove():Oe.text(Ct.substr(1))),rt&&rt.isText()&&/^\u200B/g.test(Dt)&&(/^\u200B$/g.test(Dt)||rt.get().splitText(1),rt.remove());var Ot=B.last();Ot&&Ot.isCursor()&&(Ot=Ot.prev());var Bt=((he=Ot)===null||he===void 0?void 0:he.text())||"";Ot&&Ot.isText()&&/\u200B$/g.test(Bt)&&(/^\u200B$/g.test(Bt)?Ot.remove():Ot.get().splitText(Bt.length-1).remove()),a.node.unwrap(B)}),I.move(),s.merge(h),t||i.apply(h)}}},{key:"insert",value:function(t,a){var i,s,h=this.editor;if(!!Gn(h)){var w=h.change,I=h.node,B=h.mark,W=a||w.range.toTrusty(),G=kt(W.startContainer);if((typeof t=="string"||Ti(t))&&(t=nn(t,G)),!!I.isInline(t)){W.collapsed||w.delete(W),B.split(W),this.split(W),(i=I.insert(t,W))===null||i===void 0||i.select(t).collapse(!1),t.name!=="br"&&W.handleBr();var H=((s=t.get())===null||s===void 0?void 0:s.childNodes.length)!==0;if(this.repairCursor(t),!t.isCard()&&!I.isVoid(t))if(H){var he=t.next();W.setStart(he,1),W.setEnd(he,1)}else{var ge=t.last(),Oe=ge.text();W.setStart(ge,Oe.length-1),W.setEnd(ge,Oe.length-1)}a||w.apply(W)}}}},{key:"unwrapEmptyInlines",value:function(t,a){var i=this.editor.node,s=t.allChildren();s.forEach(function(h){i.isEmpty(h)&&i.isInline(h)&&(!a||a(h))&&i.unwrap(h)})}},{key:"splitOnCollapsed",value:function(t,a){var i=this;if(!!t.collapsed){t.enlargeFromTextNode(),t.shrinkToElementNode();var s=t.startNode,h=s.parent(),w=this.editor.node,I=s.isCard()?s:s.closest(pe);if((I.length===0||I.attributes(Kr)!=="inline")&&(w.isInline(s)||h&&w.isInline(h))){var B,W=this.closestNotInline(s),G=t.createSelection(),H=G.getNode(W,"left"),he=void 0,ge=void 0,Oe=[];if(a){Ti(a)&&(a=nn(a));var rt=a.getPath(W.get()),bt=W.clone(!0);Oe=rt.slice(1),ge=nn(bt.getChildByPath(rt.slice(0,1))),he=G.getNode(bt,"right",!1)}else he=G.getNode(W,"right");this.unwrapEmptyInlines(H),this.unwrapEmptyInlines(he);var Ct=W.children();Ct.each(function(xr,Lr){var er;if(!(!((er=Ct.eq(Lr))===null||er===void 0)&&er.isCard())){var Rr;(Rr=Ct.eq(Lr))===null||Rr===void 0||Rr.remove()}});var Dt=void 0,Ot=function(Lr){Lr.each(function(er,Rr){var Wi=Lr.eq(Rr);if(Wi!=null&&Wi.isCard()){Dt=Dt?Dt.next():W.first(),Dt&&(Lr[Rr]=Dt[0]);return}Dt?(Dt.after(er),Dt=Wi):(Dt=Wi,W.prepend(er))})},Bt=H.children(),Nt=Bt.toArray();Ot(Bt);var In=he.children(),en=In.toArray();if(ge&&(a=(B=en.find(function(xr){return xr.equal(ge)}))===null||B===void 0?void 0:B.getChildByPath(Oe)),Ot(In),en=In.toArray(),Nt.length===1&&Nt[0].name==="br"&&(Nt[0].remove(),Nt.splice(0,1)),en.length===1&&en[0].name==="br"&&(en[0].remove(),en.splice(0,1)),en.filter(function(xr){return!xr.isCursor()}).length>0){for(var Fn=en[0],rr=0;rr<en.length-1&&(Fn=en[rr],!!Fn.isCursor());rr++);t.setStartBefore(Fn),t.collapse(!0)}else if(Nt.filter(function(xr){return!xr.isCursor()}).length>0){for(var Yn=Nt[Nt.length-1],ur=Nt.length-1;ur>=0&&(Yn=Nt[ur],!!Yn.isCursor());ur--);t.setStartAfter(Yn),t.collapse(!0)}else t.select(W,!0).collapse(!0);W.traverse(function(xr){w.isInline(xr)&&i.repairCursor(xr)})}return t.enlargeToElementNode(!w.isBlock(t.startNode),!1),a}}},{key:"splitOnExpanded",value:function(t){var a=this;if(!t.collapsed){t.enlargeToElementNode(),t.shrinkToElementNode();var i=t.startNode,s=t.endNode,h=i.isCard()?i:i.closest(pe),w=s.isCard()?s:s.closest(pe);if(!(h.length>0&&h.attributes(Kr)==="inline"||w.length>0&&w.attributes(Kr)==="inline")){var I=this.closestNotInline(i),B=this.closestNotInline(s);if(!I.equal(B)){var W=t.cloneRange();W.collapse(!0);var G=t.cloneRange();G.collapse(!1);var H=void 0,he=W.startOffset,ge=G.endOffset;I.contains(B)?(H=this.splitOnCollapsed(W,G.endNode),t.setStart(W.startContainer,W.startOffset),H&&G.setOffset(H,ge,ge),this.splitOnCollapsed(G),t.setEnd(G.startContainer,G.startOffset)):(H=this.splitOnCollapsed(G,W.startNode),t.setEnd(G.startContainer,G.startOffset),H&&W.setOffset(H,he,he),this.splitOnCollapsed(W),t.setStart(W.startContainer,W.startOffset));return}var Oe=this.editor.node,rt=i.parent(),bt=Oe.isInline(i)||rt&&Oe.isInline(rt),Ct=s.parent(),Dt=Oe.isInline(s)||Ct&&Oe.isInline(Ct);if(!bt&&!Dt)return;var Ot=t.commonAncestorNode;Ot.isText()&&(Ot=Ot.parent());var Bt=this.closestNotInline(Ot),Nt=t.createSelection(),In=Nt.getNode(Bt,"left"),en=Nt.getNode(Bt),Fn=Nt.getNode(Bt,"right");this.unwrapEmptyInlines(In),this.unwrapEmptyInlines(Fn);var rr=Bt.children();rr.each(function(er,Rr){var Wi;if(!(!((Wi=rr.eq(Rr))===null||Wi===void 0)&&Wi.isCard())){var ai;(ai=rr.eq(Rr))===null||ai===void 0||ai.remove()}});var Yn=void 0,ur=function(Rr){Rr.each(function(Wi,ai){var ra;if(!((ra=Rr.eq(ai))===null||ra===void 0)&&ra.isCard()){Yn=Yn?Yn.next():Bt.first(),Yn&&(Rr[ai]=Yn[0]);return}Yn?(Yn.after(Wi),Yn=Rr.eq(ai)):(Yn=Rr.eq(ai),Bt.prepend(Wi))})};ur(In.children());var xr=en.children(),Lr=xr.toArray();ur(xr),ur(Fn.children()),Bt.traverse(function(er){Oe.isInline(er)&&a.repairCursor(er)}),t.setStartBefore(Lr[0][0]),t.setEndAfter(Lr[Lr.length-1][0])}}}},{key:"split",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.change,s=t||i.range.toTrusty();s.collapsed?this.splitOnCollapsed(s):this.splitOnExpanded(s),t||i.apply(s)}}},{key:"findInlines",value:function(t){var a=this.editor,i=t.cloneRange();if(i.startNode.isRoot()&&i.shrinkToElementNode(),!i.startNode.inEditor()||a.card.find(i.startNode))return[];var s=a.node,h=function(Fn,rr){var Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!!rr.collapsed){var ur=rr.startNode,xr=rr.startOffset,Lr=ur.findParent();if(!!Lr){var er=rr.cloneRange();if(er.select(Lr,!0),Yn){er.setEnd(ur,xr),er.enlargeFromTextNode(),er.enlargeToElementNode(!0);var Rr=ur.children(),Wi=er.endNode,ai=er.endOffset,ra=Wi.children(),ea=ra.eq(ai),pa=Rr.eq(xr)||Rr.eq(xr-1);if(!Fn&&Wi.type===Node.ELEMENT_NODE&&ea&&s.isBlock(ea)&&(ur.type!==Node.ELEMENT_NODE||!!pa&&!s.isBlock(pa)))return;er.select(Lr,!0),er.setStart(Wi,ai),er.shrinkToElementNode(),er.shrinkToTextNode(),rr.setStart(er.startContainer,er.startOffset),rr.collapse(!0)}else{er.setStart(ur,xr),er.enlargeFromTextNode(),er.enlargeToElementNode(!0);var ro=ur.children(),io=er.startNode,ka=er.startOffset,To=io.children(),Aa=To.eq(ka),Xi=ro.eq(xr)||ro.eq(xr-1);if(!Fn&&io.type===Node.ELEMENT_NODE&&Aa&&s.isBlock(Aa)&&(ur.type!==Node.ELEMENT_NODE||Xi&&!s.isBlock(Xi)))return;er.select(Lr,!0),er.setEnd(io,ka),er.shrinkToElementNode(),er.shrinkToTextNode(),rr.setEnd(er.endContainer,er.endOffset),rr.collapse(!1)}}}};if(!i.collapsed){var w=i.cloneRange(),I=i.cloneRange();w.collapse(!0),I.collapse(!1),h(!0,w,!0),h(!0,I),i.setStart(w.startContainer,w.startOffset),i.setEnd(I.startContainer,I.startOffset)}h(!1,i);var B=i.startContainer,W=i.startOffset,G=i.endContainer,H=i.endOffset,he=B,ge=G;B.nodeType===Node.ELEMENT_NODE&&B.childNodes[W]&&(he=B.childNodes[W]||B),G.nodeType===Node.ELEMENT_NODE&&H>0&&G.childNodes[H-1]&&(ge=G.childNodes[H-1]||B),i.collapsed&&(he=ge);var Oe=function(Fn,rr){Fn.some(function(Yn){return Yn[0]===rr[0]})||Fn.push(rr)},rt=function(Fn){for(var rr=[];Fn&&!Fn.isEditable();){s.isInline(Fn)&&rr.push(Fn);var Yn=Fn.parent();if(!Yn)break;Fn=Yn}return rr},bt=rt(nn(he)),Ct=i.commonAncestorNode,Dt=a.card.find(Ct,!0),Ot=Dt==null?void 0:Dt.isEditable,Bt=Ot?Dt!=null&&Dt.getSelectionNodes?Dt.getSelectionNodes():[]:[Ct];if(Bt.length===0&&(Ot=!1,Bt.push(Ct)),(!i.collapsed||Ot)&&(rt(nn(ge)).forEach(function(en){return Oe(bt,en)}),B!==G||Ot)){var Nt=!1,In=!1;Bt.forEach(function(en){en.traverse(function(Fn){if(In)return!1;if(Fn.equal(B))Nt=!0;else if(Nt){if(Fn.equal(G))return In=!0,!1;s.isInline(Fn)&&!Fn.attributes(_i)&&!Fn.attributes(qt)&&Oe(bt,Fn)}})})}return bt}},{key:"repairCursor",value:function(t){var a,i,s=this.editor.node;if(Ti(t)&&(t=nn(t)),!s.isInline(t)||t.closest(pe).attributes(Ee)==="false"||s.isVoid(t)||t.isCard()){var h=t.prev(),w=h!=null&&h.isText()?h.text():void 0;if(w&&/\u200b$/.test(w)){var I=h==null?void 0:h.prev();(!I||!s.isInline(I))&&(w.length===1?h==null||h.remove():h==null||h.text(w.slice(0,-1)))}var B=t.next(),W=B!=null&&B.isText()?B.text():void 0;if(W&&/^\u200b/.test(W)){var G=B==null?void 0:B.next();(!G||!s.isInline(G))&&(W.length===1?B==null||B.remove():B==null||B.text(W.slice(1)))}return}var H=t.children();H.each(function(Oe,rt){var bt=H.eq(rt);if(bt!=null&&bt.isText()){var Ct=bt.text();if(Ct.length===1&&/\u200b/.test(Ct)){bt.remove();return}bt.text(Ct.replace(/\u200b/g,""))}}),this.repairBoth(t);var he=t.first();!((a=he)===null||a===void 0)&&a.isCursor()&&(he=he.next()),(!he||he.type!==Node.TEXT_NODE||!/^\u200B/g.test(he.text()))&&(he?he.isText()?he.text("\u200B"+he.text()):he.before(nn("\u200B",null)):t.append(nn("\u200B",null)));var ge=t.last();!((i=ge)===null||i===void 0)&&i.isCursor()&&(ge=ge.prev()),ge&&(/^\u200B$/g.test(t.text())||ge.type!==Node.TEXT_NODE||!/\u200B$/g.test(ge.text()))&&(ge.isText()?ge.text(ge.text()+"\u200B"):ge.after(nn("\u200B",null)))}},{key:"repairBoth",value:function(t){var a,i=this.editor.node;Ti(t)&&(t=nn(t));var s=t.get();if(((a=s==null?void 0:s.parentElement)!==null&&a!==void 0?a:s==null?void 0:s.parentNode)&&!i.isVoid(t)){var h=nn("\u200B",null),w=t.prev(),I=w==null?void 0:w.prev(),B=(w==null?void 0:w.text())||"";!w||!w.isText()||!/\u200B$/g.test(B)||I&&i.isInline(I)&&!/\u200B.*\u200B$/g.test(B)?w&&w.isText()?w.text(B+"\u200B"):t.before(i.clone(h,!0,!1)):w&&w.isText()&&/\u200B\u200B$/g.test(B)&&I&&!i.isInline(I)&&w.text(B.substr(0,B.length-1));var W=t.next(),G=(W==null?void 0:W.text())||"",H=W==null?void 0:W.next();!W||!W.isText()||!/^\u200B/g.test(G)||H&&i.isInline(H)&&!/^\u200B\u200B/g.test(G)?W&&W.isText()?W.text("\u200B"+W.text()):(t.after(i.clone(h,!0,!1)),(W==null?void 0:W.name)==="br"&&W.remove()):W&&W.isText()&&/\u200B\u200B$/g.test(G)&&H&&!i.isInline(H)&&W.text(G.substr(0,G.length-1))}}},{key:"flat",value:function(t,a){var i=this,s=this.editor;if(gs(t)){var h=t.cloneRange().shrinkToElementNode().createSelection(),w=this.findInlines(t),I=[];w.forEach(function(ge){if(!ge.isCard()){var Oe=i.flat(ge);Oe&&I.push(Oe)}}),h.move();var B=s.node;I.forEach(function(ge){var Oe,rt,bt=(Oe=ge.prev())===null||Oe===void 0?void 0:Oe.prev(),Ct=(rt=ge.next())===null||rt===void 0?void 0:rt.next();bt&&B.isMark(bt)&&bt.get().childNodes.length===0&&bt.remove(),Ct&&B.isMark(Ct)&&Ct.get().childNodes.length===0&&Ct.remove()});return}if(!t.isCard()){var W=s.node,G=s.mark;if(W.isInline(t,a)&&t.name!=="br"){var H=this.closest(t);if(!H.equal(t)&&W.isInline(H,a))W.unwrap(t);else{var he=function(){for(var ge=G.closest(t),Oe=t,rt=function(){var Ct=ge.clone(),Dt=t.clone(),Ot=ge.children();Ot.each(function(Bt){if(!(Bt.nodeType===3&&/^\u200b$/.test(Bt.textContent||""))){var Nt=nn(Bt);Oe.equal(Nt)||Nt.contains(Oe)?(Oe=W.wrap(W.replace(Oe,Ct),Dt),i.repairBoth(Oe)):W.wrap(Nt,Ct)}}),W.unwrap(ge),ge=G.closest(Oe)};ge&&!ge.equal(t)&&W.isMark(ge,a);)rt();return{v:Oe}}();if((0,U.Z)(he)==="object")return he.v}}}}}]),at}(),Ra=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.node,h=a.list,w=i.range.get().shrinkToElementNode().shrinkToTextNode(),I=this.engine.block,B=I.closest(w.endNode),W=B.parent();if(W&&W.inEditor()&&s.isBlock(W)){var G;if(W.name==="li"&&B.name==="p"){var H,he;((H=B.get())===null||H===void 0?void 0:H.childNodes.length)===1&&((he=B.first())===null||he===void 0?void 0:he.name)==="br"&&B.first().remove();var ge=w.createSelection();i.unwrap(B),ge.move(),B=I.closest(w.endNode)}if(w.collapsed&&(w.startContainer.childNodes.length===1&&((G=w.startContainer.firstChild)===null||G===void 0?void 0:G.nodeName)==="BR"||I.isLastOffset(w,"end")&&I.isFirstOffset(w,"end")))return t.preventDefault(),["li"].indexOf(W.name)>=0?(I.unwrap("<".concat(W.name," />")),I.setBlocks("<".concat(W.name," />"))):(I.unwrap("<".concat(W.name," />")),I.setBlocks("<p />")),!1}if(s.isBlock(B)&&(!W||!s.isList(W))&&!B.isCard())return t.preventDefault(),I.insertOrSplit(w,B),!1;if(B.name!=="li")return!0}}]),at}(),oo=function(){function at(F){(0,p.Z)(this,at),this.engine=void 0,this.engine=F}return(0,d.Z)(at,[{key:"trigger",value:function(t){var a=this.engine,i=a.change,s=a.node,h=a.block,w=a.card,I=i.range.get();if(!!I.collapsed){var B=I.getPrevNode();if(B&&s.isBlock(B)&&s.isEmptyWithTrim(B)){t.preventDefault();var W=B.parent();return B.remove(),W&&this.engine.node.isEmpty(W)&&(W.isEditable()?(this.engine.node.html(W,"<p><br /></p>"),I.select(W,!0).shrinkToElementNode().collapse(!1)):(this.engine.node.html(W,"<br />"),I.select(W,!0).collapse(!1)),i.apply(I)),!1}var G=!!w.closest(I.startNode);if(!G&&!h.isFirstOffset(I,"start")){var H=I.cloneRange().shrinkToElementNode().shrinkToTextNode();H.startContainer.nodeType===Node.TEXT_NODE&&function(ge){var Oe=ge,rt=Oe.commonAncestorContainer,bt=Oe.commonAncestorNode,Ct=bt.parent(),Dt=Ct==null?void 0:Ct.attributes();if(ge.collapsed&&ge.startOffset===1&&ge.startContainer===rt&&rt.nodeType===Node.TEXT_NODE&&(!Dt||!["left","right"].includes(Dt[qt]))){var Ot,Bt,Nt,In;if(ge=ge.cloneRange(),(((Ot=(Nt=rt.parentElement)!==null&&Nt!==void 0?Nt:rt.parentNode)===null||Ot===void 0||(Bt=Ot.childNodes)===null||Bt===void 0?void 0:Bt.length)||0)<=1&&((In=rt.textContent)===null||In===void 0?void 0:In.length)===1){var en=ge,Fn=en.startNode,rr=en.startOffset,Yn=Fn.parent();if(Yn&&s.isMark(Yn)&&rr>0){var ur=Fn.text(),xr=ur.substr(rr-1,1);if(/^\u200b$/.test(xr))if(rr===1){var Lr=Yn.prev();if(Lr&&!s.isEmpty(Lr)){var er=ge.cloneRange().select(Lr,!0).shrinkToTextNode().collapse(!1),Rr=er.startNode,Wi=er.startOffset;ge.setStart(Rr,Wi-1)}}else ge.setStart(Fn,rr-1)}return ge.collapsed&&ge.select(rt,!0),i.delete(ge,!0),i.apply(ge),!0}}return!1}(H)&&(t.preventDefault(),t.isDelete=!0,i.change());return}var he=h.closest(I.startNode);return!G&&s.isRootBlock(he)?(t.preventDefault(),s.isEmpty(he)&&he.html("<br />"),i.mergeAfterDelete(he),i.change(!1),!1):!0}}}]),at}(),nl=function(){function at(F){(0,p.Z)(this,at),this.editor=void 0,this.pluginCaches=new Map,this.editor=F}return(0,d.Z)(at,[{key:"init",value:function(){var t=this,a=this.editor;if(Gn(a)){var i,s,h=a.typing,w=a.event,I=new Ra(a);(i=h.getHandleListener("enter","keydown"))===null||i===void 0||i.on(function(W){return I.trigger(W)});var B=new oo(a);(s=h.getHandleListener("backspace","keydown"))===null||s===void 0||s.on(function(W){return B.trigger(W)}),w.on("keyup:space",function(W){return t.triggerMarkdown(W)}),w.on("keydown:enter",function(W){return t.triggerMarkdown(W)})}}},{key:"triggerMarkdown",value:function(t){var a,i=this.editor;if(!(!Gn(i)||((a=i.options.markdown)===null||a===void 0?void 0:a.mode)===!1)){var s=i.change,h=s.range.get();if(!(!h.collapsed||s.isComposing())){var w=h.startNode,I=h.startOffset,B=w.type===Node.TEXT_NODE?w:w.children().eq(I-1);if(!!B){var W=this.closest(B);if(!!i.node.isRootBlock(W)){var G=B.text().trimEnd();if(G.replace(/\s|\t|\n|\r\n|\u200b/g,"")!==""){var H=h.toPath(),he=Yr(i,"zero"),ge=he.parse(G,{});if(ge.length!==0){var Oe=Bi(i,he,ge,!1);if(Oe){var rt=W.children();t.preventDefault(),h.select(W,!0),s.paste(Oe,h);var bt=this.closest(h.startNode);return!bt.isRoot()&&!bt.isCard()&&rt.each(function(Ct,Dt){Dt>0&&bt.append(Ct)}),s.rangePathBeforeCommand=H,s.range.select(h),!1}return!0}}}}}}}},{key:"findPlugin",value:function(t){var a=this.editor,i=a.node,s=a.schema,h=a.plugin;if(!(t.length===0||!i.isBlock(t))){var w=t.get().cloneNode(),I=w.outerHTML,B=this.pluginCaches.get(I);if(B)return B;for(var W in h.components){var G=h.components[W];if(Iu(G)&&(!G.tagName||typeof G.tagName=="string"?t.name===G.tagName:G.tagName.indexOf(t.name)>-1)){var H=G.schema();if(Array.isArray(H)?H.find(function(he){return s.checkNode(t,he.attributes)}):s.checkNode(t,H.attributes))return this.pluginCaches.set(I,G),G}}return B}}},{key:"findTop",value:function(t,a){var i=this.editor,s=i.schema,h=i.node,w=i.list,I=s.closest(t.name),B=s.closest(a.name);if(I===parent.name||B===a.name)return a;if(s.isAllowIn(t.name,a.name))return t;if(h.isList(t)&&h.isList(a)){var W=parseInt(a.attributes(w.INDENT_KEY),10)||0,G=parseInt(t.attributes(w.INDENT_KEY),10)||0;a.attributes(w.INDENT_KEY,G?G+1:W+1)}return a}},{key:"closest",value:function(t){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=t;t;){if((t.isEditable()||this.editor.node.isBlock(t))&&a(t))return t;var s=t.parent();if(!s)break;t=s}return i}},{key:"wrap",value:function(t,a){var i=this,s,h=this.editor;if(!!Gn(h)){var w=h.change,I=h.node,B=h.schema,W=h.list,G=h.mark,H=a||w.range.toTrusty(),he=kt(H.startContainer);if(typeof t=="string"||Ti(t)?t=nn(t,he):t=t,!!I.isBlock(t)){var ge=this.getBlocks(H),Oe=this.findPlugin(t);if(ge=ge.map(function(Dt){var Ot;if(!Dt||Dt.isCard())return null;for(var Bt=t,Nt=(Ot=Dt)===null||Ot===void 0?void 0:Ot.parent();Nt&&!Nt.isEditable();){Dt=Nt;var In=Nt.parent();if(In&&I.isBlock(In))Nt=In;else break}return B.isAllowIn(Bt.name,Dt.name)?Dt:i.findPlugin(Dt)===Oe?Dt.children():null}).filter(function(Dt){return Dt!==null}),ge.length===0){var rt=this.closest(H.startNode);if(rt.isCard()||rt.isEditable()||!B.isAllowIn(t.name,rt.name))return;var bt=H.createSelection();rt.children().each(function(Dt){t.append(Dt)}),rt.append(t),bt.move();return}var Ct=H.createSelection();(s=ge[0])===null||s===void 0||s.before(t),ge.forEach(function(Dt){Dt&&(Oe&&Dt.allChildren().forEach(function(Ot){if(I.isMark(Ot)){var Bt,Nt=G.findPlugin(Ot);if(!Nt)return;!((Bt=Oe.disableMark)===null||Bt===void 0)&&Bt.indexOf(Nt.constructor.pluginName)&&I.unwrap(Ot)}}),t.append(Dt))}),Ct.move(),this.merge(H),W.merge(void 0,H),a||w.apply(H)}}}},{key:"unwrap",value:function(t,a){var i=this.editor;if(!!Gn(i)){var s=i.change,h=i.node,w=a||s.range.toTrusty(),I=kt(w.startContainer);if(typeof t=="string"||Ti(t)?t=nn(t,I):t=t,!!h.isBlock(t)){var B=this.getSiblings(w,t);if(B.length!==0){var W=B[0].node.parent();if(!!(W!=null&&W.inEditor())){var G=B.some(function(Dt){return Dt.position==="left"}),H=B.some(function(Dt){return Dt.position==="right"}),he=void 0;if(G){var ge=W;he=h.clone(ge,!1,!1),ge.before(he)}var Oe=void 0;if(H){var rt=B[B.length-1].node.parent();rt&&(Oe=h.clone(rt,!1,!1),rt==null||rt.after(Oe))}var bt=w.createSelection(),Ct=h;B.forEach(function(Dt){var Ot=Dt.position,Bt=Dt.node,Nt=Bt.parent();if(Ot==="left"){var In;(In=he)===null||In===void 0||In.append(Bt)}if(Ot==="center"){var en;(Nt==null?void 0:Nt.name)===((en=t)===null||en===void 0?void 0:en.name)&&(Nt==null?void 0:Nt.inEditor())&&Ct.unwrap(Nt)}if(Ot==="right"){var Fn;(Fn=Oe)===null||Fn===void 0||Fn.append(Bt)}}),he&&he.name==="ol"&&Oe&&Oe.name==="ol"&&Oe.attributes("start",(parseInt(he.attributes("start"),10)||1)+he.find("li").length),bt.move(),a||s.apply(w)}}}}}},{key:"getSiblings",value:function(t,a){var i=this,s=[],h=this.editor.node;if(!h.isBlock(a))return s;for(var w=function(ge,Oe){for(var rt=i.closest(ge);rt;){var bt=rt.parent();if(!bt||!rt.inEditor()||rt.text().trim()!==bt.text().trim()||bt.name===Oe)break;rt=bt}return rt},I=w(t.startNode,a.name),B=w(t.endNode,a.name),W=I.parent(),G="left",H=W==null?void 0:W.first();H;){if(H=nn(H),!h.isBlock(H)||!H.inEditor())return s;H[0]===I[0]&&(G="center"),s.push({position:G,node:H}),H[0]===B[0]&&(G="right"),H=H.next()}return s}},{key:"split",value:function(t){var a,i,s=this.editor;if(!!Gn(s)){var h=s.change,w=s.mark,I=s.nodeId,B=t||h.range.toTrusty();B.collapsed||h.delete(B);var W=this.closest(B.startNode);if(!(!W.isEditable()&&!W.inEditor())){if(W.isEditable()){var G=B.getStartOffsetNode();G&&B.select(G,!0).shrinkToElementNode().collapse(!1),t||h.apply(B);return}var H=B.cloneRange();H.shrinkToElementNode().shrinkToTextNode().collapse(!0);var he=w.findMarks(H).filter(function(bt){var Ct=s.mark.findPlugin(bt);return(Ct==null?void 0:Ct.copyOnEnter)!==!1&&(Ct==null?void 0:Ct.followStyle)!==!1}),ge=this.getBlockByRange({block:W[0],range:B,isLeft:!1,keepDataId:!0}),Oe=s.node;ge.traverse(function(bt){!Oe.isVoid(bt)&&(Oe.isInline(bt)||Oe.isMark(bt))&&Oe.isEmpty(bt)&&bt.remove()},!0);var rt=function(Ct){return Oe.isBlock(Ct)&&(Ct.childNodes.length===0||Ct.innerText==="")};return rt(W[0])&&!rt(ge[0])?I.generate(W,!0):I.generate(ge,!0),W.after(ge),Oe.isEmpty(W)&&Oe.html(W,Oe.getBatchAppendHTML(he,he.length>0?"&#8203;":"<br />")),Oe.isEmpty(ge)&&Oe.html(ge,Oe.getBatchAppendHTML(he,he.length>0?"&#8203;":"<br />")),W.children().each(function(bt){Oe.isInline(bt)&&s.inline.repairCursor(bt)}),ge.children().each(function(bt){Oe.isInline(bt)&&s.inline.repairCursor(bt)}),B.select(ge,!0).shrinkToElementNode(),((a=ge.get())===null||a===void 0?void 0:a.childNodes.length)===1&&((i=ge.first())===null||i===void 0?void 0:i.name)==="br"?B.collapse(!1):B.collapse(!0),t||h.apply(B),ge}}}},{key:"insert",value:function(t,a,i){var s,h,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,I=this.editor;if(!!Gn(I)){var B=I.change,W=I.node,G=I.list,H=I.inline,he=a||B.range.toTrusty(),ge=kt(he.startContainer);if(typeof t=="string"||Ti(t)?t=nn(t,ge):t=t,!!W.isBlock(t)){he.collapsed||B.delete(he);var Oe=this.closest(he.startNode);if(!Oe.isEditable()&&!Oe.inEditor()){a||B.apply(he);return}if(Oe.isEditable()){W.insert(t,he,w),he.collapse(!1),a||B.apply(he);return}if(W.isList(he.startNode)||he.startNode.closest("li").length>0){var rt=ge.createDocumentFragment();rt.appendChild(t[0]),G.insert(rt,he),a||B.apply(he);return}((s=Oe.get())===null||s===void 0?void 0:s.childNodes.length)===1&&((h=Oe.first())===null||h===void 0?void 0:h.name)==="br"&&he.select(Oe,!0).collapse(!1);var bt=he.enlargeToElementNode().createSelection();if(!bt.has()){a||B.apply(he);return}Oe=i?i(Oe):Oe;var Ct=bt.getNode(Oe,"left");Ct.traverse(function(Fn){Fn.equal(Ct)||W.isBlock(Fn)&&(W.isEmpty(Fn)||G.isEmptyItem(Fn))&&Fn.remove()});var Dt=bt.getNode(Oe,"right",!0,function(Fn){if(Fn.isCard()){var rr=Fn.parent();if(rr&&W.isCustomize(rr))return!1}return!0}),Ot=Oe.children();if(W.isEmpty(Oe)||Ot.each(function(Fn,rr){var Yn=Ot.eq(rr);if(!(Yn!=null&&Yn.isCard())){var ur;(ur=Ot.eq(rr))===null||ur===void 0||ur.remove()}}),Dt.traverse(function(Fn){!Fn.equal(Dt)||(W.isBlock(Fn)&&(W.isEmpty(Fn)||G.isEmptyItem(Fn))?Fn.remove():W.isList(Fn)&&G.addBr(Fn))}),Dt.length>0&&!W.isEmpty(Dt)&&!G.isEmptyItem(Dt)){var Bt=Dt.clone(!1);I.nodeId.generate(Bt,!0);var Nt=Dt.children();Nt.each(function(Fn,rr){var Yn;if(!((Yn=Nt.eq(rr))===null||Yn===void 0)&&Yn.isCard()){var ur=I.card.find(Fn);ur&&Bt.append(ur.root)}else Bt.append(Fn)}),Dt=Bt,Oe.after(Bt)}if(Ct.length>0&&!W.isEmpty(Ct)&&!G.isEmptyItem(Ct)){var In=void 0,en=function(rr){rr.each(function(Yn,ur){var xr=rr.eq(ur);if(xr&&W.isInline(xr)&&H.repairCursor(xr),xr!=null&&xr.isCard()){In=In?In.next():Oe.first(),In&&(rr[ur]=In[0]);return}In?(In.after(Yn),In=xr):(In=xr,Oe.prepend(Yn))})};en(Ct.children())}Oe&&Oe.length>0&&(he.select(Oe,!0),he.collapse(!1)),bt.focus&&bt.focus.remove(),bt.anchor&&bt.anchor.remove(),W.insert(t,he,w),a||B.apply(he)}}}},{key:"setBlocks",value:function(t,a){var i=this,s=this.editor;if(!!Gn(s)){var h=s.node,w=s.schema,I=s.mark,B=s.change,W=a||B.range.toTrusty(),G=kt(W.startContainer),H=null,he={};typeof t=="string"?(H=nn(t,G),he=H.attributes(),he.style=H.css()):he=t;var ge=this.getBlocks(W),Oe=W.startNode;if(Oe.isEditable()&&ge.length===0){if(Oe.isCard()||Oe.isEditable())return;var rt=H||nn("<p></p>");if(!w.isAllowIn(rt.name,Oe.name))return;h.setAttributes(rt,he);var bt=W.createSelection();Oe.children().each(function(en){rt.append(en)});var Ct=w.data.globals.block||{},Dt=Oe.attributes();Object.keys(Dt).forEach(function(en){en!==et&&en!=="id"&&Ct.name&&rt.attributes(en,Dt[en])});var Ot=Ct.style||{},Bt=Oe.css();Object.keys(Bt).forEach(function(en){Ot[en]||delete Bt[en]}),rt.css(Bt),Oe.append(rt),bt.move(),a||B.apply(W);return}var Nt=H?this.findPlugin(H):void 0,In=W.createSelection();ge.forEach(function(en){if(!en.attributes(_i)){if(H){var Fn=w.data.globals.block||{},rr=en.attributes();Object.keys(rr).forEach(function(er){if(er!==et&&er!=="id"&&Fn.name){var Rr;(Rr=H)===null||Rr===void 0||Rr.attributes(er,rr[er])}});var Yn=Fn.style||{},ur=en.css();Object.keys(ur).forEach(function(er){Yn[er]||delete ur[er]}),H.css(ur)}if(!H||i.findPlugin(en)===Nt&&en.name===H.name){H&&(he=H.attributes()),h.setAttributes(en,he);return}if(!(H.name!=="p"&&w.isAllowIn(en.name,H.name))){Nt&&en.allChildren().forEach(function(er){if(h.isMark(er)){var Rr=I.findPlugin(er);if(!Rr)return;Nt.disableMark&&Nt.disableMark.indexOf(Rr.constructor.pluginName)>-1&&h.unwrap(er)}});var xr=h.replace(en,H),Lr=xr.parent();Lr&&!Lr.isEditable()&&!w.isAllowIn(Lr.name,xr.name)&&h.unwrap(Lr)}}}),In.move(),a||B.apply(W)}}},{key:"merge",value:function(t){var a=this.editor;if(!!Gn(a)){var i=a.change,s=a.schema,h=t||i.range.toTrusty(),w=this.getBlocks(h);if(w.length!==0){var I=w[0].closest(jt),B=s.getCanMergeTags();if(B.length!==0){var W=I.find(B.join(","));if(W.length>0){for(var G=h.createSelection(),H=W.next();H&&B.indexOf(H.name)>0;){var he=H.prev(),ge=H.attributes(),Oe=he==null?void 0:he.attributes();H.name===(he==null?void 0:he.name)&&ge.class===(Oe?Oe.class:void 0)&&Object.keys(ge).join(",")===Object.keys(Oe||{}).join(",")&&a.node.merge(he,H),H=H.next()}G.move()}t||i.apply(h)}}}}},{key:"findBlocks",value:function(t){var a,i=this.editor;if(t=t.cloneRange(),t.startNode.isRoot()&&t.shrinkToElementNode(),!t.startNode.inEditor()||((a=i.card.find(t.startNode))===null||a===void 0?void 0:a.type)===zo.BLOCK)return[];var s=t.startContainer,h=t.startOffset,w=t.endContainer,I=t.endOffset,B=s,W=w;s.nodeType===Node.ELEMENT_NODE&&s.childNodes[h]&&(B=s.childNodes[h]||s),w.nodeType===Node.ELEMENT_NODE&&I>0&&w.childNodes[I-1]&&(W=w.childNodes[I-1]||s),t.collapsed&&(B=W);var G=function(Ot,Bt,Nt){Ot.some(function(In){return In[0]===Bt[0]})||(Nt?Ot.unshift(Bt):Ot.push(Bt))},H=function(Ot){for(var Bt=[];Ot&&!Ot.isEditable();){i.node.isBlock(Ot)&&Bt.push(Ot);var Nt=Ot.parent();if(!Nt)break;Ot=Nt}return Bt},he=this.getBlocks(t);H(nn(B)).forEach(function(Dt){return G(he,Dt,!0)});var ge=t,Oe=ge.commonAncestorNode,rt=i.card.find(Oe,!0),bt=rt==null?void 0:rt.isEditable,Ct=bt?rt!=null&&rt.getSelectionNodes?rt.getSelectionNodes():[]:[];return Ct.length===0&&(bt=!1),(!t.collapsed||bt)&&(H(nn(W)).forEach(function(Dt){return G(he,Dt)}),Ct.forEach(function(Dt){Dt.traverse(function(Ot){Ot.isElement()&&!Ot.isCard()&&i.node.isBlock(Ot)&&G(he,Ot)},!0,"editable")})),he}},{key:"isFirstOffset",value:function(t,a){var i=t,s=i.startNode,h=i.endNode,w=i.startOffset,I=i.endOffset,B=a==="start"?s:h,W=a==="start"?w:I;t=t.cloneRange();var G=this.closest(B);t.select(G,!0),t.setEnd(B[0],W);var H=this.editor;H.node.isBlock(B)||t.enlargeToElementNode();var he=t.cloneContents();if(!he.firstChild)return!0;var ge=H.node;if(he.childNodes.length===1&&nn(he.firstChild).name==="br")return!0;var Oe=nn("<div />");return Oe.append(he),ge.isEmpty(Oe)}},{key:"isLastOffset",value:function(t,a){var i=t,s=i.startNode,h=i.endNode,w=i.startOffset,I=i.endOffset,B=a==="start"?s:h,W=a==="start"?w:I;t=t.cloneRange();var G=this.closest(B);t.select(G,!0),t.setStart(B,W);var H=this.editor.node;H.isBlock(B)||t.enlargeToElementNode();var he=t.cloneContents();if(!he.firstChild)return!0;var ge=nn("<div />");return ge.append(he),0>=ge.find("br").length&&H.isEmpty(ge)}},{key:"getBlocks",value:function(t){t=t.cloneRange(),t.shrinkToElementNode(),t.shrinkToTextNode();var a=this.editor,i=a.node,s=this.closest(t.startNode);t.startNode.isRoot()&&(s=nn(t.getStartOffsetNode()));var h=this.closest(t.endNode);t.endNode.isRoot()&&(h=nn(t.getEndOffsetNode()));var w=this.closest(t.commonAncestorNode),I=[],B=!1,W=t,G=W.commonAncestorNode,H=a.card.find(G,!0),he=H==null?void 0:H.isEditable,ge=he?H!=null&&H.getSelectionNodes?H.getSelectionNodes():[]:[w];return ge.length===0&&(he=!1,ge.push(w)),ge.forEach(function(Oe){Oe.traverse(function(rt){var bt=nn(rt);if(bt.equal(s)&&(B=!0),(B||he)&&a.node.isBlock(bt)&&!bt.isCard()&&bt.inEditor()&&I.push(bt),bt.equal(h))return B=!1,!1},!0,"editable")}),I.length>1&&this.isFirstOffset(t,"end")&&!i.isEmpty(h)&&I.pop(),I}},{key:"getBlockByRange",value:function(t){var a=t.block,i=t.range,s=t.isLeft,h=t.clone,w=h===void 0?!1:h,I=t.keepDataId,B=I===void 0?!1:I;Ti(a)&&(a=nn(a));var W=this.editor,G=Da.create(W,a.document);s?(G.select(a,!0),G.setEnd(i.startContainer,i.startOffset)):(G.select(a,!0),G.setStart(i.endContainer,i.endOffset));var H=w?G.cloneContents():G.extractContents(),he=B?a.clone(!1):W.node.clone(a,!1,!1);return he.append(H),w&&he.find(pe).each(function(ge){var Oe=nn(ge),rt=Oe.attributes(_i);Oe.attributes(Vr,rt),Oe.removeAttributes(_i)}),he}},{key:"getLeftText",value:function(t,a){var i=this.editor;if(!Gn(i))return"";a=a||i.change.range.get();var s=this.getBlockByRange({block:t,range:a,isLeft:!0,clone:!0});return s.text().replace(/\u200B/g,"")}},{key:"removeLeftText",value:function(t,a){var i=this.editor;if(!!Gn(i)){a=a||i.change.range.get(),Ti(t)&&(t=nn(t)),a.createSelection();var s=t.find(xi),h=!1;t.traverse(function(w){var I=nn(w);if(I.equal(s)){s.remove(),h=!0;return}h&&I.isText()&&I.remove()},!1)}}},{key:"flat",value:function(t,a){var i=this.editor;if(!!Gn(i))for(var s=i.schema,h=i.node,w=s.getCanMergeTags(),I=t.parent(),B=a.fragment?a[0].parentNode:a.get();I&&B&&I.get()!==B&&I.inEditor();){if(t.isCard())I.before(t);else if(h.isList(I)&&t.name==="li"||w.indexOf(I.name)>-1&&h.isBlock(t)&&I.name!==t.name){var W=h.clone(I,!1,!1);W.append(t),t=W,I.before(t)}else t=h.replace(t,h.clone(this.findTop(I,t),!1,!1)),I.before(t);I.first()||I.remove(),I=t.parent()}}},{key:"insertEmptyBlock",value:function(t,a){var i=this.editor;if(!!Gn(i)){var s=i.change,h=s.blocks,w=s.marks,I=i.node;if(this.insert(a),h[0]){var B=h[0].css();a.css(B)}var W=a.find("br");w.forEach(function(H){var he=i.mark.findPlugin(H);H=I.clone(H,!1,!1),(he==null?void 0:he.copyOnEnter)!==!1&&(he==null?void 0:he.followStyle)!==!1&&(H=I.clone(H,!1,!1),W.before(H),H.append(W),W=H)}),W=a.find("br");var G=W.parent();G&&I.isMark(G)&&(W=I.replace(W,nn("\u200B",null))),t.select(W).shrinkToTextNode(),t.collapse(!1),t.scrollIntoView(),s.range.select(t)}}},{key:"insertOrSplit",value:function(t,a){var i,s,h,w=t.cloneRange();if(w.enlargeFromTextNode(),this.isLastOffset(t,"end")||w.endNode.type===Node.ELEMENT_NODE&&(((i=a.get())===null||i===void 0?void 0:i.childNodes.length)||0)>0&&w.endContainer.childNodes[w.endOffset]===((s=a.last())===null||s===void 0?void 0:s.get())&&((h=a.first())===null||h===void 0?void 0:h.name)==="br"){var I=nn("<p><br /></p>");if(a.name==="p"){var B=a.attributes();Object.keys(B).forEach(function(W){W!==et&&I.attributes(W,B[W])})}this.insertEmptyBlock(t,I)}else this.split()}}]),at}(),xl=(0,je.Z)("_scrollNode"),ih=function(){function at(F,t){var a=this;(0,p.Z)(this,at),this.kind="editor",this.options={lang:"zh-CN",locale:{},plugins:[],cards:[],config:{},iconFonts:"url('//at.alicdn.com/t/font_1456030_lnqmc6a6ca.woff2?t=1638071536645') format('woff2'), url('//at.alicdn.com/t/font_1456030_lnqmc6a6ca.woff?t=1638071536645') format('woff'), url('//at.alicdn.com/t/font_1456030_lnqmc6a6ca.ttf?t=1638071536645') format('truetype')"},this.container=void 0,this.language=void 0,this.root=void 0,this.card=void 0,this.plugin=void 0,this.node=void 0,this.nodeId=void 0,this.list=void 0,this.mark=void 0,this.inline=void 0,this.block=void 0,this.event=void 0,this.schema=void 0,this.conversion=void 0,this.command=void 0,this.clipboard=void 0,this.request=void 0,Object.defineProperty(this,xl,{writable:!0,value:null}),this.options=(0,m.Z)((0,m.Z)({},this.options),t);var i=this.options.iconFonts,s=document.querySelector("#am-iconfont");if(!s&&i!==!1){s=document.createElement("style"),s.setAttribute("type","text/css"),s.setAttribute("id","am-iconfont");var h='@font-face { font-family: "data-icon";';Array.isArray(i)&&(i=i.map(function(I){return"url('".concat(I.url,"') format('").concat(I.format,"')")}).join(",")),h+="src: ".concat(i,";}"),s.innerHTML=h,document.head.appendChild(s)}this.container=nn(F),this.container.attributes(Ve,wt),this.language=new gd(this.options.lang||"zh-CN",ze()(yf,t==null?void 0:t.locale)),this.event=new Io,this.command=new Qd(this),this.schema=new Nu,this.schema.add(Ec),this.conversion=new Pf(this),Ku.forEach(function(I){return a.conversion.add(I.from,I.to)}),this.card=new Bf(this,this.options.lazyRender),this.clipboard=new Ds(this),this.request=new qe,this.plugin=new Ju(this),this.node=new pu(this),this.nodeId=new xh(this.schema),this.list=new fn(this),this.mark=new br(this),this.inline=new Ga(this),this.block=new nl(this),this.root=nn(this.options.root||this.container.parent()||document.body);var w=this.root.css("position");(!w||w==="static")&&this.root.css("position","relative")}return(0,d.Z)(at,[{key:"scrollNode",get:function(){if((0,we.Z)(this,xl)[xl])return(0,we.Z)(this,xl)[xl];for(var t=this.options.scrollNode,a=t?typeof t=="function"?t():t:null,i=["auto","scroll"],s=this.container.parent();!a&&s&&s.length>0&&s.name!=="body";)if(i.includes(s.css("overflow"))||i.includes(s.css("overflow-y"))){a=s.get();break}else s=s.parent();return a===null&&(a=document.documentElement),(0,we.Z)(this,xl)[xl]=a?nn(a):null,(0,we.Z)(this,xl)[xl]}},{key:"init",value:function(){this.mark.init(),this.inline.init(),this.block.init(),this.list.init();var t=this.options,a=t.plugins,i=t.cards,s=t.config;this.card.init(i!=null?i:[]);var h=typeof s=="function"?s(this):s!=null?s:{};this.plugin.init(a!=null?a:[],h),this.nodeId.init()}},{key:"setScrollNode",value:function(t){(0,we.Z)(this,xl)[xl]=t?nn(t):null}},{key:"on",value:function(t,a,i){return this.event.on(t,a,i),this}},{key:"off",value:function(t,a){return this.event.off(t,a),this}},{key:"trigger",value:function(t){for(var a,i=arguments.length,s=new Array(i>1?i-1:0),h=1;h<i;h++)s[h-1]=arguments[h];return(a=this.event).trigger.apply(a,[t].concat(s))}},{key:"messageSuccess",value:function(t,a){for(var i,s=arguments.length,h=new Array(s>2?s-2:0),w=2;w<s;w++)h[w-2]=arguments[w];(i=console).log.apply(i,[t,"success:".concat(a)].concat(h))}},{key:"messageError",value:function(t,a){for(var i,s=arguments.length,h=new Array(s>2?s-2:0),w=2;w<s;w++)h[w-2]=arguments[w];(i=console).error.apply(i,[t,"error:".concat(a)].concat(h))}},{key:"messageConfirm",value:function(t,a){for(var i,s=arguments.length,h=new Array(s>2?s-2:0),w=2;w<s;w++)h[w-2]=arguments[w];return(i=console).log.apply(i,[t,"confirm:".concat(a)].concat(h)),Promise.reject(!1)}},{key:"getSelectionData",value:function(t){var a,i,s=this;if(t||(t=(a=Da.from(this))!==null&&a!==void 0?a:void 0),!!t){t=t.cloneRange();var h=t.startNode.closest("[".concat(_i,"]"),function(Zi){var Ui;return nn(Zi).isEditable()?void 0:((Ui=Zi.parentElement)!==null&&Ui!==void 0?Ui:Zi.parentNode)||void 0});if(h.length>0&&!t.collapsed&&t.endOffset===0&&(t.endContainer.previousSibling&&t.setEndAfter(t.endContainer.previousSibling),!t.collapsed&&t.endOffset>0&&t.endContainer.childNodes[t.endOffset-1]===h[0])){var w=t.startNode.closest("[".concat(qt,'="center"]'),function(Zi){var Ui;return nn(Zi).isEditable()?void 0:((Ui=Zi.parentElement)!==null&&Ui!==void 0?Ui:Zi.parentNode)||void 0});w.length>0?t.setEnd(w[0],w[0].childNodes.length):t.setEnd(h[0],h[0].childNodes.length)}var I=t.commonAncestorNode;if(h=I.closest("[".concat(_i,"]"),function(Zi){var Ui;return nn(Zi).isEditable()?void 0:((Ui=Zi.parentElement)!==null&&Ui!==void 0?Ui:Zi.parentNode)||void 0}),h.length>0){var B=I.closest("[".concat(qt,'="center"]'),function(Zi){var Ui;return nn(Zi).isEditable()?void 0:((Ui=Zi.parentElement)!==null&&Ui!==void 0?Ui:Zi.parentNode)||void 0});B.length===0&&(t.select(h),I=t.commonAncestorNode)}if(!(!I.inEditor()&&!I.isRoot())&&!t.collapsed){var W=function(Ui){if(Ui.length===0)return{};for(var va=Ui.length-1;va>0;va--){var Pa=Ui[va];Pa.appendChild(Ui[va-1])}return{inner:Ui[0],outter:Ui[Ui.length-1]}};if(h=I.closest("[".concat(_i,"]"),function(Zi){var Ui;return((Ui=Zi.parentElement)!==null&&Ui!==void 0?Ui:Zi.parentNode)||void 0}),h.length>0){var G=this.card.find(h);if(G&&G.getSelectionNodes){var H=G.getSelectionNodes();if(H.length>0){var he=W(H.map(function(Zi){return Zi[0]})),ge=he.inner,Oe=he.outter,rt=H.map(function(Zi){return Zi.html()}).join(""),bt=new ns("<div>".concat(rt,"</div>"),this);rt=bt.toHTML(ge,Oe);var Ct=new ns(rt,this).toText(this.schema,!0);return{html:rt,text:Ct}}}else if(!(G!=null&&G.isEditable))return}var Dt=this.node,Ot=this.list,Bt,Nt=t.startNode.closest("li");if(Nt&&Dt.isCustomize(Nt)){var In=t.endNode.closest("li");if(!Nt.equal(In)||Ot.isLast(t)&&Ot.isFirst(t))if(Ot.isFirst(t)){var en=Nt.parent(),Fn=Nt.getIndex();en&&t.setStart(en,Fn<0?0:Fn)}else{var rr,Yn,ur=Nt.parent(),xr=t.createSelection(),Lr=xr.getNode(Nt,"center",!0);if((rr=xr.anchor)===null||rr===void 0||rr.remove(),(Yn=xr.focus)===null||Yn===void 0||Yn.remove(),Gn(this)&&this.change.combinText(),Lr.length>0){var er=!1;Lr.each(function(Zi,Ui){var va=Lr.eq(Ui);if(!er&&(va==null?void 0:va.name)==="li"){er=!0;return}er&&(va==null||va.remove())});var Rr=Nt.first(),Wi=Rr?this.card.find(Rr):void 0;Wi&&(Bt=Lr,this.list.addCardToCustomize(Bt,Wi.name,Wi.getValue()),ur&&Dt.wrap(Bt,ur==null?void 0:ur.clone()))}}}var ai=t.enlargeToElementNode(!0).cloneContents(),ra=[];if(I.isText()&&ai.childNodes.length===1&&((i=ai.firstChild)===null||i===void 0?void 0:i.nodeType)===Node.TEXT_NODE)for(var ea=I.parent();ea&&(Dt.isMark(ea)||Dt.isInline(ea));)ra.push(ea.clone(!1).get()),ea=ea.parent();ai.querySelectorAll("li").forEach(function(Zi){var Ui,va,Pa=nn(Zi),Sa=Pa.attributes(et);if(!!Sa){var xa=(Ui=s.container.get())===null||Ui===void 0?void 0:Ui.querySelector("[".concat(et,"=").concat(Sa,"]"));Dt.isCustomize(Pa)&&!(!((va=Pa.first())===null||va===void 0)&&va.isCard())&&(xa==null?void 0:xa.firstChild)&&Pa.prepend(Dt.clone(nn(xa.firstChild),!0,!1));var Qo=xa==null?void 0:xa.parentElement;Qo=Qo?nn(Qo.cloneNode(!1)):null;var so=Zi.parentElement;xa&&Qo&&Dt.isList(Qo)&&(!so||!Dt.isList(so))&&(Qo.name==="ol"&&Qo.removeAttributes("start"),Dt.wrap(Zi,Qo))}});var pa=W(ra),ro=pa.inner,io=pa.outter,ka=[];ai.childNodes.forEach(function(Zi){var Ui=nn(Zi);(Dt.isList(Ui)||Ui.name==="li")&&ka.push(Ui)}),this.nodeId.generateAll(nn(ai),!0),this.list.merge(ka);var To=new ns(ai,this),Aa=To.toHTML(ro,io),Xi=new ns(Aa,this).toText(this.schema,!0);return{html:Aa,text:Xi}}}}},{key:"destroy",value:function(){this.container.removeAttributes(Ve),this.event.destroy(),this.plugin.destroy(),this.card.destroy(),this.container.empty()}}]),at}(),zc=`  .data-icon {
    font-family: "data-icon" !important;
    font-size: 16px;
    font-style: normal;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .data-icon-block-image:before {
    content: "\\ea20";
  }

  .data-icon-inline-image:before {
    content: "\\e601";
  }

  .data-icon-no-border:before {
    content: "\\e608";
  }

  .data-icon-line-height:before {
    content: "\\e697";
  }

  .data-icon-text:before {
    content: "\\e600";
  }

  .data-icon-comment:before {
    content: "\\e73e";
  }

  .data-icon-huanyuan:before {
    content: "\\e60a";
  }

  .data-icon-label:before {
    content: "\\e714";
  }

  .data-icon-video:before {
    content: "\\e741";
  }

  .data-icon-table:before {
    content: "\\e6a8";
  }

  .data-icon-h:before {
    content: "\\e7a0";
  }

  .data-icon-collapse-subtree:before {
    content: "\\e754";
  }

  .data-icon-expand-subtree:before {
    content: "\\e792";
  }

  .data-icon-sub-node:before {
    content: "\\e78e";
  }

  .data-icon-sister-node:before {
    content: "\\e784";
  }

  .data-icon-sup:before {
    content: "\\e790";
  }

  .data-icon-sub:before {
    content: "\\e75a";
  }

  .data-icon-maximize:before {
    content: "\\e752";
  }

  .data-icon-codeblock:before {
    content: "\\e709";
  }

  .data-icon-emoji:before {
    content: "\\e73a";
  }

  .data-icon-h4:before {
    content: "\\e759";
  }

  .data-icon-h1:before {
    content: "\\e75b";
  }

  .data-icon-h5:before {
    content: "\\e75c";
  }

  .data-icon-h2:before {
    content: "\\e75d";
  }

  .data-icon-h3:before {
    content: "\\e760";
  }

  .data-icon-h6:before {
    content: "\\e761";
  }

  .data-icon-liuchengtu:before {
    content: "\\e61c";
  }

  .data-icon-website:before {
    content: "\\e694";
  }

  .data-icon-preferences:before {
    content: "\\e788";
  }

  .data-icon-hr:before {
    content: "\\e76a";
  }

  .data-icon-task-list:before {
    content: "\\e79f";
  }

  .data-icon-unordered-list:before {
    content: "\\e777";
  }

  .data-icon-ordered-list:before {
    content: "\\e795";
  }

  .data-icon-arrow-left:before {
    content: "\\e748";
  }

  .data-icon-arrow-up:before {
    content: "\\e769";
  }

  .data-icon-arrow-right:before {
    content: "\\e779";
  }

  .data-icon-arrow-down:before {
    content: "\\e79a";
  }

  .data-icon-moremark:before {
    content: "\\e772";
  }

  .data-icon-clean:before {
    content: "\\e74d";
  }

  .data-icon-paintformat:before {
    content: "\\e756";
  }

  .data-icon-lock:before {
    content: "\\e768";
  }

  .data-icon-loading:before {
    content: "\\e76b";
  }

  .data-icon-unlock:before {
    content: "\\e796";
  }

  .data-icon-collapse:before {
    content: "\\e79e";
  }

  .data-icon-align-bottom:before {
    content: "\\e72b";
  }

  .data-icon-attachment:before {
    content: "\\e72c";
  }

  .data-icon-bold:before {
    content: "\\e72d";
  }

  .data-icon-border-color:before {
    content: "\\e72e";
  }

  .data-icon-border-all:before {
    content: "\\e72f";
  }

  .data-icon-border-inner:before {
    content: "\\e730";
  }

  .data-icon-border-left:before {
    content: "\\e731";
  }

  .data-icon-border-bottom:before {
    content: "\\e732";
  }

  .data-icon-border-none:before {
    content: "\\e733";
  }

  .data-icon-box:before {
    content: "\\e734";
  }

  .data-icon-border-outer:before {
    content: "\\e735";
  }

  .data-icon-border-right:before {
    content: "\\e736";
  }

  .data-icon-clear:before {
    content: "\\e737";
  }

  .data-icon-close:before {
    content: "\\e738";
  }

  .data-icon-code-example:before {
    content: "\\e739";
  }

  .data-icon-clip:before {
    content: "\\e73b";
  }

  .data-icon-border-up:before {
    content: "\\e73c";
  }

  .data-icon-code:before {
    content: "\\e73d";
  }

  .data-icon-command:before {
    content: "\\e73f";
  }

  .data-icon-compact-display:before {
    content: "\\e740";
  }

  .data-icon-copy:before {
    content: "\\e742";
  }

  .data-icon-download:before {
    content: "\\e743";
  }

  .data-icon-deletecolumn:before {
    content: "\\e744";
  }

  .data-icon-cut:before {
    content: "\\e745";
  }

  .data-icon-decreasedecimalplace:before {
    content: "\\e746";
  }

  .data-icon-drag:before {
    content: "\\e747";
  }

  .data-icon-delete:before {
    content: "\\e749";
  }

  .data-icon-drag-circle:before {
    content: "\\e74a";
  }

  .data-icon-deleterow:before {
    content: "\\e74b";
  }

  .data-icon-edit:before {
    content: "\\e74c";
  }

  .data-icon-filter:before {
    content: "\\e74e";
  }

  .data-icon-expand:before {
    content: "\\e74f";
  }

  .data-icon-error:before {
    content: "\\e750";
  }

  .data-icon-freezerowcoloum:before {
    content: "\\e751";
  }

  .data-icon-freezefirstrow:before {
    content: "\\e753";
  }

  .data-icon-freezzecolumn:before {
    content: "\\e755";
  }

  .data-icon-border-style:before {
    content: "\\e757";
  }

  .data-icon-gotolink:before {
    content: "\\e758";
  }

  .data-icon-increasedecimalplace:before {
    content: "\\e75e";
  }

  .data-icon-insertrowbelow:before {
    content: "\\e75f";
  }

  .data-icon-image:before {
    content: "\\e762";
  }

  .data-icon-italic:before {
    content: "\\e763";
  }

  .data-icon-indent:before {
    content: "\\e764";
  }

  .data-icon-insertrowabove:before {
    content: "\\e765";
  }

  .data-icon-insertrowright:before {
    content: "\\e766";
  }

  .data-icon-left-circle-fill:before {
    content: "\\e767";
  }

  .data-icon-link:before {
    content: "\\e76c";
  }

  .data-icon-keyboard:before {
    content: "\\e76d";
  }

  .data-icon-more:before {
    content: "\\e76e";
  }

  .data-icon-merge-cells:before {
    content: "\\e76f";
  }

  .data-icon-outdent:before {
    content: "\\e770";
  }

  .data-icon-mention:before {
    content: "\\e771";
  }

  .data-icon-plus:before {
    content: "\\e773";
  }

  .data-icon-minus-circle-o:before {
    content: "\\e774";
  }

  .data-icon-highlight:before {
    content: "\\e775";
  }

  .data-icon-paste:before {
    content: "\\e776";
  }

  .data-icon-insertrowleft:before {
    content: "\\e778";
  }

  .data-icon-quote:before {
    content: "\\e77a";
  }

  .data-icon-plus-circle-o:before {
    content: "\\e77b";
  }

  .data-icon-right-circle-fill:before {
    content: "\\e77c";
  }

  .data-icon-question-circle-o:before {
    content: "\\e77d";
  }

  .data-icon-preview:before {
    content: "\\e77e";
  }

  .data-icon-reload:before {
    content: "\\e77f";
  }

  .data-icon-rotate-left:before {
    content: "\\e780";
  }

  .data-icon-math:before {
    content: "\\e781";
  }

  .data-icon-overflow:before {
    content: "\\e782";
  }

  .data-icon-redo:before {
    content: "\\e783";
  }

  .data-icon-searchreplace:before {
    content: "\\e785";
  }

  .data-icon-save:before {
    content: "\\e786";
  }

  .data-icon-singleselect:before {
    content: "\\e787";
  }

  .data-icon-rotate-right:before {
    content: "\\e789";
  }

  .data-icon-sort-ascending:before {
    content: "\\e78a";
  }

  .data-icon-sort-descending:before {
    content: "\\e78b";
  }

  .data-icon-toc:before {
    content: "\\e78c";
  }

  .data-icon-solit-cells:before {
    content: "\\e78d";
  }

  .data-icon-translate:before {
    content: "\\e78f";
  }

  .data-icon-successful:before {
    content: "\\e791";
  }

  .data-icon-strikethrough:before {
    content: "\\e793";
  }

  .data-icon-undo:before {
    content: "\\e794";
  }

  .data-icon-underline:before {
    content: "\\e797";
  }

  .data-icon-unlink:before {
    content: "\\e798";
  }

  .data-icon-wrap:before {
    content: "\\e799";
  }

  .data-icon-upload:before {
    content: "\\e79b";
  }

  .data-icon-zoom-out:before {
    content: "\\e79c";
  }

  .data-icon-zoom-in:before {
    content: "\\e79d";
  }

  .data-icon-align-center:before {
    content: "\\e725";
  }

  .data-icon-align-justify:before {
    content: "\\e726";
  }

  .data-icon-align-left:before {
    content: "\\e727";
  }

  .data-icon-align-top:before {
    content: "\\e728";
  }

  .data-icon-align-right:before {
    content: "\\e729";
  }

  .data-icon-align-middle:before {
    content: "\\e72a";
  }

.data-anticon {
    display: inline-block;
    font-style: normal;
    vertical-align: -0.125em;
    text-align: center;
    text-transform: none;
    line-height: 0;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
}

.data-anticon svg {
    display: inline-block;
}

@-webkit-keyframes loadingCircle {
    100% {
      transform: rotate(360deg);
    }
}
@keyframes loadingCircle {
    100% {
      transform: rotate(360deg);
    }
}

.data-anticon .data-anticon-spin {
    display: inline-block;
    -webkit-animation: loadingCircle 1s infinite linear;
    animation: loadingCircle 1s infinite linear;
}

.data-anticon > * {
    line-height: 1;
}

.am-engine {
    position: relative;
    background-color: #FFFFFF;
}

.am-engine.am-engine-placeholder:before {
  content: attr(data-placeholder);
  pointer-events: none;
  position: absolute;
  color: #bbbfc4;
  height: 0;
}

.am-engine ::-moz-selection {
    background: rgba(180, 213, 254, 0.5) !important;
    color: inherit!important;
}

.am-engine ::selection {
    background: rgba(180, 213, 254, 0.5) !important;
    color: inherit!important;
}

.am-engine , .am-engine-view {
    font-family: 'Chinese Quote', 'Segoe UI', Roboto, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif, 'Apple Color Emoji';
	word-wrap: break-word;
	outline-style: none;
	white-space: pre-wrap;
    -webkit-user-select: auto;
       -moz-user-select: auto;
            user-select: auto;
    font-size: 14px;
    line-height: 1.74;
    color: #262626;
    letter-spacing: .05em;
    /* pt / px \u6362\u7B97\u8868\uFF1Ahttps://websemantics.uk/articles/font-size-conversion/ */
}

.am-engine > *:first-child,.am-engine-view > *:first-child {
	margin-top: 0 !important;
}

.am-engine p , .am-engine-view p {
    white-space: normal;
    margin: 0;
    line-height: 1.74;
}

.am-engine [contenteditable="true"],.am-engine-view [contenteditable="true"] {
	outline-style: none;
}

.am-engine .selection-transparent::-moz-selection,.am-engine-view .selection-transparent::-moz-selection {
	background: transparent;
}

.am-engine .selection-transparent::selection,.am-engine-view .selection-transparent::selection {
	background: transparent;
}
/*---------------------------\u5361\u7247 begin-----------------------*/

.am-engine [data-card-type], .am-engine-view [data-card-type] {
    white-space: normal;
}
.am-engine span[data-card-type="inline"],.am-engine-view span[data-card-type="inline"] {
	display: inline-block;
	text-indent: 0;
	vertical-align: baseline;
	white-space: initial;
}

.am-engine span[data-card-type="inline"] span[data-card-element],.am-engine-view span[data-card-type="inline"] span[data-card-element] {
	display: inline-block;
}

.am-engine span[data-card-type="inline"] span[data-card-element="center"],.am-engine-view span[data-card-type="inline"] span[data-card-element="center"] {
	vertical-align: bottom;
  border-radius: 2px;
}

.am-engine span[data-card-type="inline"] span[data-card-element="left"],
.am-engine-view span[data-card-type="inline"] span[data-card-element="left"],
.am-engine span[data-card-type="inline"] span[data-card-element="right"],.am-engine-view span[data-card-type="inline"] span[data-card-element="right"] {
	text-align: left;
	-webkit-user-select: text;
	   -moz-user-select: text;
	        user-select: text;
  min-width: 1px;
  background: transparent;
  bottom: 0;
}

.am-engine span[data-card-type="inline"] span[data-card-element="left"],
.am-engine-view span[data-card-type="inline"] span[data-card-element="left"] {
  left: -1px;
}

.am-engine span[data-card-type="inline"] span[data-card-element="right"],.am-engine-view span[data-card-type="inline"] span[data-card-element="right"] {
  right: -1px;
}

.am-engine span[data-card-type="inline"] span[data-card-element="left"]::-moz-selection,
.am-engine-view span[data-card-type="inline"] span[data-card-element="left"]::-moz-selection,
.am-engine span[data-card-type="inline"] span[data-card-element="right"]::-moz-selection,.am-engine-view span[data-card-type="inline"] span[data-card-element="right"]::-moz-selection {
  background: transparent !important;
}

.am-engine span[data-card-type="inline"] span[data-card-element="left"]::selection,
.am-engine-view span[data-card-type="inline"] span[data-card-element="left"]::selection,
.am-engine span[data-card-type="inline"] span[data-card-element="right"]::selection,.am-engine-view span[data-card-type="inline"] span[data-card-element="right"]::selection {
  background: transparent !important;
}

.am-engine div[data-card-type="block"],.am-engine-view div[data-card-type="block"],.am-engine span[data-card-type="inline"].data-card-block,.am-engine-view span[data-card-type="inline"].data-card-block {
	display: block;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"],.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"],.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"],.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"],.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"],.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"],.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"],.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"] {
	bottom: 0;
	position: absolute;
	width: 2px;
	overflow: hidden;
	outline: none;
	text-align: left;
	text-indent: 0;
	-webkit-box-flex: 0;
	flex: 0 0 auto;
	-webkit-user-select: text;
	-moz-user-select: text;
	     user-select: text;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"],.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"],.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"],.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"] {
	left: -2px;
	text-align: left;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"],.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"],.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"],.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"] {
	right: -2px;
	text-align: right;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"]::-moz-selection,
.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"]::-moz-selection,
.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"]::-moz-selection,
.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"]::-moz-selection {
  background: transparent !important;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"]::selection,
.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="left"]::selection,
.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"]::selection,
.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="left"]::selection {
  background: transparent !important;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"]::-moz-selection,
.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"]::-moz-selection,
.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"]::-moz-selection,
.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"]::-moz-selection {
	background: transparent !important;
}

.am-engine div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"]::selection,
.am-engine-view div[data-card-type="block"] > div[data-card-element="body"] > span[data-card-element="right"]::selection,
.am-engine span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"]::selection,
.am-engine-view span[data-card-type="inline"].data-card-block > div[data-card-element="body"] > span[data-card-element="right"]::selection {
	background: transparent !important;
}

.am-engine span[data-card-element="body"],.am-engine-view span[data-card-element="body"],.am-engine div[data-card-element="body"],.am-engine-view div[data-card-element="body"] {
	position: relative;
}

.am-engine span[data-card-element="body"] [data-card-element="center"],.am-engine-view span[data-card-element="body"] [data-card-element="center"],.am-engine div[data-card-element="body"] [data-card-element="center"],.am-engine-view div[data-card-element="body"] [data-card-element="center"] {
	-webkit-user-select: text;
	-moz-user-select: text;
	     user-select: text;
}
.am-engine span[data-card-element="body"] [data-element="editable"],.am-engine div[data-card-element="body"] [data-element="editable"]
{
    cursor: text;
}
/*---------------------------\u5361\u7247 end-----------------------*/
`;Cl(zc);var us=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a,i){var s;(0,p.Z)(this,t),s=F.call(this,a,i),s._readonly=!1,s._container=void 0,s.kind="engine",s.typing=void 0,s.ot=void 0,s.change=void 0,s.history=void 0,s.hotkey=void 0,s.options=(0,m.Z)((0,m.Z)({},s.options),i),s.history=new hd((0,v.Z)(s)),s._container=new Md(s.container,{engine:(0,v.Z)(s),lang:s.options.lang,className:s.options.className,tabIndex:s.options.tabIndex,placeholder:s.options.placeholder,autoPrepend:s.options.autoPrepend,autoAppend:s.options.autoAppend}),s.root=nn(s.options.root||s.container.parent()||kt().body);var h=s.root.css("position");return(!h||h==="static")&&s.root.css("position","relative"),s._container.init(),s.change=new po((0,v.Z)(s),{onChange:function(I){return s.trigger("change",I)},onSelect:function(){return s.trigger("select")},onSelectStart:function(){return s.trigger("selectStart")},onSelectEnd:function(){return s.trigger("selectEnd")},onRealtimeChange:function(I){s.trigger("realtimeChange",I)},onSetValue:function(){return s.trigger("afterSetValue")}}),s.change.init(),s.typing=new qd((0,v.Z)(s)),s._readonly=s.options.readonly===void 0?!1:s.options.readonly,s._container.setReadonly(s._readonly),s.hotkey=new Ac((0,v.Z)(s)),s.init(),s.ot=new nu((0,v.Z)(s)),s.isEmpty()&&s._container.showPlaceholder(),s.ot.initLocal(),s}return(0,d.Z)(t,[{key:"readonly",get:function(){return this._readonly},set:function(i){this.readonly!==i&&(i?(this.hotkey.disable(),this._container.setReadonly(!0),this.ot.stopMutation()):(this.hotkey.enable(),this._container.setReadonly(!1),this.ot.startMutation()),this._readonly=i,this.card.reRender(),this.trigger("readonly",i))}},{key:"isFocus",value:function(){return this._container.isFocus()}},{key:"isEmpty",value:function(){return this.change.isEmpty()}},{key:"focus",value:function(i){this.change.range.focus(i)}},{key:"blur",value:function(){this.change.range.blur()}},{key:"getValue",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=this.change.getValue({ignoreCursor:i});return i?Pc.removeTags(s):s}},{key:"getValueAsync",value:function(){var a=(0,x.Z)(z().mark(function s(){var h=this,w,I,B=arguments;return z().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return w=B.length>0&&B[0]!==void 0?B[0]:!1,I=B.length>1?B[1]:void 0,G.abrupt("return",new Promise(function(){var H=(0,x.Z)(z().mark(function he(ge,Oe){var rt,bt,Ct;return z().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:rt=z().mark(function Bt(Nt){var In,en;return z().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:return In=h.plugin.components[Nt],rr.next=3,new Promise(function(Yn){In.waiting?In.waiting(I).then(function(){return Yn(!0)}).catch(Yn):Yn(!0)});case 3:if(en=rr.sent,(0,U.Z)(en)!=="object"){rr.next=7;break}return Oe(en),rr.abrupt("return",{v:void 0});case 7:case"end":return rr.stop()}},Bt)}),Ot.t0=z().keys(h.plugin.components);case 2:if((Ot.t1=Ot.t0()).done){Ot.next=10;break}return bt=Ot.t1.value,Ot.delegateYield(rt(bt),"t2",5);case 5:if(Ct=Ot.t2,(0,U.Z)(Ct)!=="object"){Ot.next=8;break}return Ot.abrupt("return",Ct.v);case 8:Ot.next=2;break;case 10:ge(h.getValue(w));case 11:case"end":return Ot.stop()}},he)}));return function(he,ge){return H.apply(this,arguments)}}()));case 3:case"end":return G.stop()}},s)}));function i(){return a.apply(this,arguments)}return i}()},{key:"getHtml",value:function(){var i=nn(this.container[0].cloneNode(!0));return i.removeAttributes(Ys),i.removeAttributes("tabindex"),i.removeAttributes("autocorrect"),i.removeAttributes("autocomplete"),i.removeAttributes("spellcheck"),i.removeAttributes("data-gramm"),i.removeAttributes(vu),i.removeClass($d),i.removeAttributes("role"),new ns(i,this).toHTML()}},{key:"initDocOnReadonly",value:function(){if(this.readonly&&!this.ot.isRemote){var i;if(!((i=this.ot.doc)===null||i===void 0)&&i.type)this.ot.doc.data=Ca(this.container);else{var s;(s=this.ot.doc)===null||s===void 0||s.create(Ca(this.container))}}}},{key:"setValue",value:function(i,s){return i=this.trigger("beforeSetValue",i)||i,this.change.setValue(i,void 0,s),this.normalize(),this.nodeId.generateAll(this.container),this.initDocOnReadonly(),this}},{key:"setHtml",value:function(i,s){var h=this;return this.change.setHtml(i,function(w){h.normalize(),h.container.allChildren("editable").forEach(function(I){h.node.isInline(I)?h.inline.repairCursor(I):h.node.isMark(I)&&h.mark.repairCursor(I)}),s&&s(w)}),this.nodeId.generateAll(this.container),this.initDocOnReadonly(),this}},{key:"setMarkdown",value:function(i,s){var h=this;return this.change.setMarkdown(i,function(w){h.normalize(),h.container.allChildren("editable").forEach(function(I){h.node.isInline(I)?h.inline.repairCursor(I):h.node.isMark(I)&&h.mark.repairCursor(I)}),s&&s(w)}),this.nodeId.generateAll(this.container),this.initDocOnReadonly(),this}},{key:"setJsonValue",value:function(i,s){var h=nn(Di(i)),w=this.node.html(h);return this.change.setValue(w,void 0,s),this.normalize(),this.nodeId.generateAll(this.container),this.initDocOnReadonly(),this}},{key:"getJsonValue",value:function(){return Ca(this.container)}},{key:"getText",value:function(i){return new ns(this.container,this).toText(this.schema,i)}},{key:"normalize",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.container,h=nn("<p />"),w=s.children();w.each(function(I,B){var W=w.eq(B);!W||(i.node.isBlock(W)?(h.get().childNodes.length>0&&W.before(h),h=nn("<p />")):W.isCursor()||h.append(W))}),h.get().childNodes.length>0&&s.append(h),w=s.children(),w.each(function(I,B){var W=w.eq(B);if(!!W&&(i.node.removeMinusStyle(W,"text-indent"),i.node.isRootBlock(W))){var G=W.get().childNodes.length;if(G===0)W.append(nn("<br />"));else{var H=W.first();G===1&&(H==null?void 0:H.name)==="span"&&[Cr,xn,Nn].indexOf(H.attributes(Ve))>=0&&W.prepend(nn("<br />"))}}})}},{key:"showPlaceholder",value:function(){this._container.showPlaceholder()}},{key:"hidePlaceholder",value:function(){this._container.hidePlaceholder()}},{key:"destroy",value:function(){this._container.destroy(),this.change.destroy(),this.hotkey.destroy(),this.typing.destroy(),this.ot&&this.ot.destroy(),(0,M.Z)((0,D.Z)(t.prototype),"destroy",this).call(this)}}]),t}(ih),Mc=`.card-maximize-header {\r
    position: fixed !important;\r
    top: 0;\r
    right: 0;\r
    left: 0;\r
    z-index: 9999;\r
    height: 56px;\r
    background: #fff;\r
    border-bottom: 1px solid #e8e8e8;\r
    width: 100%;\r
}\r
\r
.card-maximize-header .header-crumb {\r
    float: left;\r
    line-height: 32px;\r
    display: flex;\r
    height: 100%;\r
    align-items: center;\r
    -webkit-box-align: center;\r
    -ms-flex-align: center;\r
}\r
\r
.card-maximize-header .header-crumb a\r
{\r
    color: #595959 !important;\r
    font-size: 14px;\r
    cursor: pointer;\r
}\r
\r
.card-maximize-header .header-crumb .split {\r
    display: inline-block;\r
    vertical-align: middle;\r
    padding: 0 15px;\r
    font-size: 20px;\r
    padding-right: 8px;\r
    font-weight: 200;\r
    margin: 0 8px;\r
}\r
\r
.card-maximize-header .header-crumb .split + a {\r
    display: inline-block;\r
    vertical-align: middle;\r
}\r
\r
.card-maximize-header .header-crumb .split + a:hover {\r
	color: #8C8C8C;\r
}\r
\r
.data-card-block-max > [data-card-element="body"] > [data-card-element="center"], .data-card-block-max > [data-card-element="body"] > [data-card-element="center"].data-card-background-selected {\r
    top: 96px;\r
    background: #fafafa !important;\r
    position: fixed!important;\r
    right: 0;\r
    bottom: 0;\r
    left: 0;\r
    z-index: 124;\r
    overflow: auto;\r
    padding: 20px;\r
}\r
\r
.am-engine-mobile .data-card-block-max > [data-card-element="body"] > [data-card-element="center"],.am-engine-view .data-card-block-max > [data-card-element="body"] > [data-card-element="center"] {\r
    top:56px;\r
}`;Cl(Mc);var Wc=function(){function at(F,t){(0,p.Z)(this,at),this.card=void 0,this.node=void 0,this.editor=void 0,this.editor=F,this.card=t}return(0,d.Z)(at,[{key:"restore",value:function(){this.card.root.removeClass("data-card-block-max"),this.node&&(this.node.remove(),this.node=void 0);var t=this.editor;Gn(t)&&(t.trigger("card:minimize",this.card),t.history.reset())}},{key:"maximize",value:function(){var t=this;if(!this.node){var a=this.editor,i=a.language,s=i.get("maximize","back").toString(),h=nn('<div class="card-maximize-header" '.concat(Jt,'="true" ').concat(Ve,'="').concat(on,`">
            <div class="header-crumb">
                <a class="split">
                    <span class="data-icon data-icon-arrow-left"></span>
                </a>
                <a>`).concat(s,`</a>
            </div>
        </div>`));h.on("click",function(B){B.stopPropagation()}),this.card.root.addClass("data-card-block-max");var w=h.find(".header-crumb");w.on("click",function(){t.card.minimize()});var I=this.card.findByKey("body");I==null||I.prepend(h),Gn(a)&&(a.trigger("card:maximize",this.card),a.history.reset()),this.node=h}}}]),at}(),Uc=`.data-card-resize {
    position: absolute;
    bottom: -3px;
    right: 0px;
    left: 0px;
    margin: 0 auto;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
}

.data-card-resize-btn{
    background: #d9dbdd;
    border-radius: 3px;
    height: 6px;
    padding: 0 50px;
    display: block;
}

.data-card-resize-btn svg {
    display: block;
    color: #999;
}

.data-card-resize-btn:hover {
    cursor: row-resize;
}`;Cl(Uc);var _d=function(){function at(F,t){var a=this;(0,p.Z)(this,at),this.editor=void 0,this.card=void 0,this.point=void 0,this.options={},this.component=void 0,this.start=!1,this.touchStart=function(i){i.preventDefault(),i.cancelBubble=!0,a.point={x:i.targetTouches[0].clientX,y:i.targetTouches[0].clientY};var s=a.options.dragStart;s&&s(a.point)},this.dragStart=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0,a.point={x:i.clientX,y:i.clientY};var s=a.options.dragStart;s&&s(a.point)},this.dragMove=function(i){if(a.point){var s=a.options.dragMove;s&&s(i.clientY-a.point.y)}},this.touchMove=function(i){if(i.preventDefault(),a.point){var s=a.options.dragMove;s&&s(i.targetTouches[0].clientY-a.point.y)}},this.dragEnd=function(i){a.point=void 0;var s=a.options.dragEnd;s&&s()},this.editor=F,this.card=t}return(0,d.Z)(at,[{key:"create",value:function(t){this.options=t;var a=nn('<div class="data-card-resize" '.concat(Ve,'="').concat(on,'" draggable="true"><span class="data-card-resize-btn"><svg viewBox="0 0 3413 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="8px" height="6px"><path d="M341.333333 341.333333h2730.666667a170.666667 170.666667 0 0 0 0-341.333333H341.333333a170.666667 170.666667 0 1 0 0 341.333333zM341.333333 1024h2730.666667a170.666667 170.666667 0 0 0 0-341.333333H341.333333a170.666667 170.666667 0 0 0 0 341.333333z"></path></svg></span></div>'));Gt?(a.on("touchstart",this.touchStart),a.on("touchmove",this.touchMove),a.on("touchend",this.dragEnd),a.on("touchcancel",this.dragEnd)):(a.on("dragstart",this.dragStart),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd)),a.on("click",function(i){i.stopPropagation()}),this.component=a}},{key:"render",value:function(){var t=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.card.root,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:80;this.start=!1;var s=0,h=0,w=this.card;this.create({dragStart:function(){s=a.height(),t.start=!0,w.onActivate(!1)},dragMove:function(G){t.start&&(h=s+G,h=h<i?i:h,a.css("height","".concat(h,"px")))},dragEnd:function(){t.start&&(w.setValue({height:a.height()}),t.start=!1,w.onActivate(!0))}});var I=this.component;if(!!I){w.activated||I.hide(),a.append(I);var B=w.getValue()||{};B.height&&a.css("height","".concat(B.height,"px"))}}},{key:"show",value:function(){var t;(t=this.component)===null||t===void 0||t.show()}},{key:"hide",value:function(){var t;this.start||(t=this.component)===null||t===void 0||t.hide()}},{key:"destroy",value:function(){var t=this.component;if(Gt){if(!t)return;t.off("touchstart",this.touchStart),t.off("touchmove",this.touchMove),t.off("touchend",this.dragEnd),t.off("touchcancel",this.dragEnd)}else t==null||t.off("dragstart",this.dragStart),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd);t==null||t.remove()}}]),at}(),rl=(0,je.Z)("editor"),Hc=(0,je.Z)("container"),bu=(0,je.Z)("target"),Ru=(0,je.Z)("align"),gc=(0,je.Z)("offset"),td=(0,je.Z)("root"),ic=(0,je.Z)("onUpdate"),Dc=(0,je.Z)("updateTimeout"),Pu=(0,je.Z)("observer"),Zf=function(){function at(F){var t=this;(0,p.Z)(this,at),Object.defineProperty(this,rl,{writable:!0,value:void 0}),Object.defineProperty(this,Hc,{writable:!0,value:void 0}),Object.defineProperty(this,bu,{writable:!0,value:void 0}),Object.defineProperty(this,Ru,{writable:!0,value:"bottomLeft"}),Object.defineProperty(this,gc,{writable:!0,value:[0,0]}),Object.defineProperty(this,td,{writable:!0,value:void 0}),Object.defineProperty(this,ic,{writable:!0,value:void 0}),Object.defineProperty(this,Dc,{writable:!0,value:void 0}),Object.defineProperty(this,Pu,{writable:!0,value:void 0}),this.updateListener=function(){(0,we.Z)(t,Dc)[Dc]&&clearTimeout((0,we.Z)(t,Dc)[Dc]),(0,we.Z)(t,Dc)[Dc]=setTimeout(function(){t.update()},50)},this.update=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!(!(0,we.Z)(t,Hc)[Hc]||(0,we.Z)(t,Hc)[Hc].length===0||!(0,we.Z)(t,bu)[bu]||(0,we.Z)(t,bu)[bu].length===0)){var i=(0,fe.ZP)((0,we.Z)(t,Hc)[Hc].get(),(0,we.Z)(t,bu)[bu].get(),(0,m.Z)((0,m.Z)({},el[(0,we.Z)(t,Ru)[Ru]]),{},{targetOffset:(0,we.Z)(t,gc)[gc]}));if((0,we.Z)(t,ic)[ic]&&a){var s=Object.keys(el).find(function(h){var w=el[h].points;return w[0]===i.points[0]&&w[1]===i.points[1]});(0,we.Z)(t,Hc)[Hc].attributes("data-placement",s),(0,we.Z)(t,ic)[ic]((0,m.Z)((0,m.Z)({},i),{},{align:s}))}}},(0,we.Z)(this,rl)[rl]=F}return(0,d.Z)(at,[{key:"bind",value:function(t,a){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,we.Z)(this,Ru)[Ru],h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(0,we.Z)(this,gc)[gc],w=arguments.length>4?arguments[4]:void 0;if((0,we.Z)(this,Hc)[Hc]=t,(0,we.Z)(this,bu)[bu]=a,(0,we.Z)(this,Ru)[Ru]=s,(0,we.Z)(this,gc)[gc]=h,(0,we.Z)(this,td)[td]=nn('<div style="position: absolute; top: 0px; left: 0px; width: 100%;"></div>'),(0,we.Z)(this,td)[td].append((0,we.Z)(this,Hc)[Hc]),(0,we.Z)(this,rl)[rl].root.append((0,we.Z)(this,td)[td]),(0,we.Z)(this,ic)[ic]=w,Gt||window.addEventListener("scroll",this.updateListener,{passive:!0}),window.addEventListener("resize",this.updateListener),Gn((0,we.Z)(this,rl)[rl])&&!Gt){var I;(I=(0,we.Z)(this,rl)[rl].scrollNode)===null||I===void 0||I.on("scroll",this.updateListener,{passive:!0})}if(a&&a.length>0){var B={width:a.width(),height:a.height()};typeof ResizeObserver!="undefined"&&((0,we.Z)(this,Pu)[Pu]=new ResizeObserver(function(){var W=a.width(),G=a.height();W===B.width&&G===B.height||(B={width:W,height:G},i.updateListener())}),(0,we.Z)(this,Pu)[Pu].observe(a.get()))}this.update()}},{key:"setOffset",value:function(t){(0,we.Z)(this,gc)[gc]=t}},{key:"destroy",value:function(){var t,a;if((0,we.Z)(this,ic)[ic]=void 0,Gt||window.removeEventListener("scroll",this.updateListener),window.removeEventListener("resize",this.updateListener),Gn((0,we.Z)(this,rl)[rl])&&!Gt){var i;(i=(0,we.Z)(this,rl)[rl].scrollNode)===null||i===void 0||i.off("scroll",this.updateListener)}(t=(0,we.Z)(this,Pu)[Pu])===null||t===void 0||t.disconnect(),(a=(0,we.Z)(this,td)[td])===null||a===void 0||a.remove()}}]),at}(),Cf=`.data-card-dnd {
    position: absolute;
    top: 0;
    left: -21px;
    right: auto;
    bottom: auto;
    width: 18px;
    height: 24px;
    line-height: 24px;
    font-size: 14px;
    font-weight: normal;
    display: none;
    opacity: 0;
    z-index: 125;
    transition: all 0.3s ease-in-out;
    background: rgba(255, 255, 255, 0.9);
}

.data-card-dnd-active {
    display: block;
    opacity: 1;
    cursor: pointer;
}

.data-card-dnd:hover {
	background: #f4f4f4;
	color: #595959;
}

.data-card-dnd-trigger {
    width: 18px;
    height: 24px;
    text-align: center;
    color: #BFBFBF;
    font-size: 16px;
    border-radius: 2px 2px;
    cursor: move;
    cursor: grab;
    cursor: -moz-grab;
    cursor: -webkit-grab;
}

.am-engine-view .data-toolbar-active {
	min-width: 200px;
}

.data-card-toolbar.data-toolbar-block {
	top: -48px;
	bottom: auto;
	display: none;
}

.data-card-toolbar.data-card-toolbar-active {
	display: block;
}

.data-card-toolbar.data-toolbar-active {
	display: block;
}`;Cl(Cf);var nd=function(F){return["button","input","dropdown","node","switch"].indexOf(F.type)===-1},ac=(0,je.Z)("hideTimeout"),yu=(0,je.Z)("showTimeout"),_u=(0,je.Z)("defaultAlign"),wl=(0,je.Z)("dndNode"),kh=function(){function at(F,t){var a=this;(0,p.Z)(this,at),this.card=void 0,this.toolbar=void 0,this.editor=void 0,this.offset=void 0,this.position=void 0,this.dndPosition=void 0,Object.defineProperty(this,ac,{writable:!0,value:null}),Object.defineProperty(this,yu,{writable:!0,value:null}),Object.defineProperty(this,_u,{writable:!0,value:"topLeft"}),Object.defineProperty(this,wl,{writable:!0,value:null}),this.clearHide=function(){(0,we.Z)(a,ac)[ac]&&clearTimeout((0,we.Z)(a,ac)[ac]),(0,we.Z)(a,ac)[ac]=null},this.clearShow=function(){(0,we.Z)(a,yu)[yu]&&clearTimeout((0,we.Z)(a,yu)[yu]),(0,we.Z)(a,yu)[yu]=null},this.enterHide=function(){a.clearShow(),(0,we.Z)(a,ac)[ac]=setTimeout(function(){var i,s;a.hide(),(0,we.Z)(a,ac)[ac]=null;var h=a.toolbar;h==null||(i=h.root)===null||i===void 0||i.off("mouseenter",a.clearHide),h==null||(s=h.root)===null||s===void 0||s.off("mouseleave",a.enterHide)},200)},this.enterShow=function(){a.clearHide(),(0,we.Z)(a,yu)[yu]=setTimeout(function(){var i,s;(0,we.Z)(a,yu)[yu]=null,a.show();var h=a.toolbar;h==null||(i=h.root)===null||i===void 0||i.on("mouseenter",a.clearHide),h==null||(s=h.root)===null||s===void 0||s.on("mouseleave",a.enterHide)},200)},this.editor=F,this.card=t,this.position=new Zf(F),this.dndPosition=new Zf(F),this.unbindEnterShow(),(!Gn(F)||F.readonly)&&this.bindEnterShow()}return(0,d.Z)(at,[{key:"setDefaultAlign",value:function(t){(0,we.Z)(this,_u)[_u]=t}},{key:"bindEnterShow",value:function(){this.card.root.on("mouseenter",this.enterShow),this.card.root.on("mouseleave",this.enterHide)}},{key:"unbindEnterShow",value:function(){this.card.root.off("mouseenter",this.enterShow),this.card.root.off("mouseleave",this.enterHide)}},{key:"setOffset",value:function(t){this.offset=t}},{key:"getContainer",value:function(){var t;return(t=this.toolbar)===null||t===void 0?void 0:t.root}},{key:"getDefaultItem",value:function(t){var a=this,i=this.editor,s=i.language,h=i.clipboard,w=i.card;switch(t.type){case"separator":return{key:"separator",type:"node",node:t.node||nn('<span class="data-toolbar-item-split"></span>')};case"copy":return{key:"copy",type:"button",content:t.content||'<span class="data-icon data-icon-copy"></span>',title:t.title||s.get("copy","title"),onClick:function(B,W){if(t.onClick){t.onClick(B,W);return}var G=h.copy(a.card.root[0],!0);G?i.messageSuccess("copy",s.get("copy","success")):i.messageError("copy",s.get("copy","error"))}};case"delete":return{key:"delete",type:"button",content:t.content||'<span class="data-icon data-icon-delete"></span>',title:t.title||s.get("delete","title").toString(),onClick:function(B,W){if(t.onClick){t.onClick(B,W);return}w.remove(a.card.root)}};case"maximize":return{key:"maximize",type:"button",content:t.content||'<span class="data-icon data-icon-maximize"></span>',title:t.title||s.get("maximize","title").toString(),onClick:function(B,W){if(t.onClick){t.onClick(B,W);return}a.card.maximize()}};case"more":return{key:"more",type:"dropdown",content:t.content||'<span class="data-icon data-icon-more"></span>',title:t.title||s.get("more","title").toString(),items:t.items}}}},{key:"getItems",value:function(){var t=this;if(!this.card.toolbar)return[[],[]];var a=this.card.toolbar(),i=[];return a.forEach(function(s){if(nd(s))switch(s.type){case"dnd":break;default:var h=t.getDefaultItem(s);h&&i.push(h)}else i.push(s)}),[i,a]}},{key:"create",value:function(){this.hide();var t=this.getItems(),a=(0,q.Z)(t,2),i=a[0],s=a[1];if(i.length>0){var h=s.find(function(H){return nd(H)&&H.type==="dnd"});if(h&&!Gt&&h.type==="dnd"){var w=this.editor,I=w.root,B=w.language,W=this.createDnd(h.content||'<span class="data-icon data-icon-drag"></span>',h.title||B.get("dnd","title").toString());I.append(W),(0,we.Z)(this,wl)[wl]=W}var G=new $o({items:i});G.root.addClass("data-card-toolbar"),G.root.attributes(ht,this.card.id),G.render(nn(document.body)),G.hide(),this.toolbar=G}}},{key:"update",value:function(){var t,a=this.getItems(),i=(0,q.Z)(a,1),s=i[0];(t=this.toolbar)===null||t===void 0||t.update({items:s})}},{key:"hide",value:function(){var t;(t=(0,we.Z)(this,wl)[wl])===null||t===void 0||t.remove(),this.dndPosition.destroy(),this.hideCardToolbar()}},{key:"show",value:function(t){this.showCardToolbar(t)}},{key:"hideCardToolbar",value:function(){var t;(t=this.toolbar)===null||t===void 0||t.destroy(),this.position.destroy()}},{key:"showDnd",value:function(){var t=this;!(0,we.Z)(this,wl)[wl]||(0,we.Z)(this,wl)[wl].length!==0&&(this.card.isMaximize?(0,we.Z)(this,wl)[wl].removeClass("data-card-dnd-active"):(0,we.Z)(this,wl)[wl].length>0&&((0,we.Z)(this,wl)[wl].addClass("data-card-dnd-active"),setTimeout(function(){t.dndPosition.bind((0,we.Z)(t,wl)[wl],t.card.root,"leftTop",t.offset)})))}},{key:"showCardToolbar",value:function(t){var a=this;this.create();var i=this.getContainer();if(i&&i.length>0){this.showDnd();var s=this.card;i.addClass("data-toolbar-active"),i.attributes("toolbar-trigger-key",s.constructor.cardName),this.toolbar&&this.toolbar.show();var h=(0,we.Z)(this,_u)[_u],w=this.position;setTimeout(function(){w.bind(i,s.isMaximize?s.getCenter().first():s.root,(0,we.Z)(a,_u)[_u],a.offset,function(I){a.offset&&a.offset.length===4&&I.align==="bottomLeft"&&I.align!==h?(w.setOffset([a.offset[2],a.offset[3]]),h=I.align,w.update(!1)):a.offset&&I.align===(0,we.Z)(a,_u)[_u]&&I.align!==h&&(w.setOffset(a.offset),h=I.align,w.update(!1)),h=I.align})},10)}}},{key:"createDnd",value:function(t,a){var i=this,s=nn("<div ".concat(Ve,'="').concat(on,'" class="data-card-dnd" draggable="true" dnd-trigger-key="').concat(this.card.constructor.cardName,'" drag-card-trigger="').concat(this.card.id,'" ').concat(Ys,`="false">
                <div class="data-card-dnd-trigger">
                    `).concat(t,`
                </div>
            </div>`));return s.on("mouseenter",function(){ms.show(s,a)}),s.on("mouseleave",function(){ms.hide()}),s.on("mousedown",function(h){h.stopPropagation(),ms.hide(),i.hideCardToolbar()}),s.on("mouseup",function(){i.showCardToolbar()}),s}},{key:"destroy",value:function(){this.unbindEnterShow(),this.dndPosition.destroy(),this.position.destroy()}}]),at}(),kl=function(){function at(F){var t,a=F.editor,i=F.value,s=F.root;(0,p.Z)(this,at),this.editor=void 0,this.root=void 0,this.toolbarModel=void 0,this.resizeModel=void 0,this.activatedByOther=!1,this.selectedByOther=!1,this.contenteditable=[],this.defaultMaximize=void 0,this.isMaximize=!1,this._id=void 0,this.resize=void 0,this.editor=a;var h=((t=i)===null||t===void 0?void 0:t.type)||this.constructor.cardType,w=h==="inline"?"span":"div";this.root=s||nn("<".concat(w," />")),typeof i=="string"&&(i=mi(i)),i=i||{},i.id=this.getId(i.id),this._id=i.id,i.type=h,this.setValue(i),this.defaultMaximize=new Wc(a,this)}return(0,d.Z)(at,[{key:"isEditable",get:function(){return this.contenteditable.length>0}},{key:"activated",get:function(){return this.root.hasClass("card-activated")}},{key:"setActivated",value:function(t){t?this.root.addClass("card-activated"):this.root.removeClass("card-activated")}},{key:"selected",get:function(){return this.root.hasClass("card-selected")}},{key:"setSelected",value:function(t){t?this.root.addClass("card-selected"):this.root.removeClass("card-selected")}},{key:"id",get:function(){if(this._id)return this._id;var t=this.root.attributes(Tr);if(!t)return{};var a=mi(t);return(0,U.Z)(a)==="object"&&(a==null?void 0:a.id)||""}},{key:"name",get:function(){return this.root.attributes(_i)}},{key:"type",get:function(){var t=this.root.attributes(Kr);if(!t){var a=this.root.attributes(Tr),i=mi(a||"{}");t=(i==null?void 0:i.type)||this.constructor.cardType}return t},set:function(t){if(!(!this.name||t===this.type)){var a=this.editor.card,i=this.root.attributes(Tr),s=mi(i||"{}"),h=a.replace(this,this.name,(0,m.Z)((0,m.Z)({},s),{},{type:t}));a.render(h.root),h.activate(!1),a.activate(h.root)}}},{key:"loading",get:function(){return!!this.root.attributes(Zt)}},{key:"init",value:function(){this.root.attributes(Ee,this.isEditable?"true":"false");var t=this.toolbarModel;t==null||t.hide(),t==null||t.destroy();var a=this.editor;this.toolbar&&(this.toolbarModel=new kh(a,this)),this.resize&&(this.resizeModel=new _d(a,this))}},{key:"getId",value:function(t){var a=[];if(this.editor.card.each(function(s){a.push(s.id)}),t&&a.indexOf(t)<0)return t;for(var i=mn();a.indexOf(i)>=0;)i=mn();return i}},{key:"setValue",value:function(t){if(t!=null){var a=this.root.attributes(Tr),i=mi(a||"{}");i!=null&&i.id&&delete t.id,t=(0,m.Z)((0,m.Z)({},i),t),t.type&&(i==null?void 0:i.type)!==t.type&&(this.type=t.type),this.root.attributes(Tr,ci(t))}}},{key:"getValue",value:function(){var t=this.root.attributes(Tr);return t?mi(t):{}}},{key:"find",value:function(t){return this.root.find(t)}},{key:"findByKey",value:function(t){var a=this.root.first()||nn([]);if(t==="body"||a.length===0)return a;var i=a.children(),s=["left","center","right"].indexOf(t);if(s>-1)return i.toArray().find(function(I){return I.attributes(qt)===t});var h=this.type===zo.BLOCK?"div":"span",w=this.find("".concat(h,"[").concat(qt,"=").concat(t,"]"));return w.name===h&&w.attributes(qt)===t?w:void 0}},{key:"activate",value:function(t){t?this.activated||(this.setActivated(t),this.onActivate(t)):this.activated&&(this.setActivated(t),this.onActivate(!1))}},{key:"select",value:function(t){!Gn(this.editor)||this.activatedByOther||(t?!this.selected&&!this.isMaximize&&(this.setSelected(t),this.onSelect(t)):this.selected&&(this.setSelected(t),this.onSelect(!1)))}},{key:"getCenter",value:function(){var t=this.findByKey("center");return t||nn([])}},{key:"isCenter",value:function(t){var a,i=t.closest(this.type===zo.BLOCK?"div[".concat(qt,"=center]"):"span[".concat(qt,"=center]"));return i.length>0&&!!(!((a=this.findByKey("center"))===null||a===void 0)&&a.equal(i))}},{key:"isCursor",value:function(t){return this.isLeftCursor(t)||this.isRightCursor(t)}},{key:"isLeftCursor",value:function(t){var a;if(t.isElement()&&t.attributes(qt)!=="left")return!1;var i=t.closest(me);return i.length>0&&!!(!((a=this.findByKey("left"))===null||a===void 0)&&a.equal(i))}},{key:"isRightCursor",value:function(t){var a;if(t.isElement()&&t.attributes(qt)!=="right")return!1;var i=t.closest(nt);return i.length>0&&!!(!((a=this.findByKey("right"))===null||a===void 0)&&a.equal(i))}},{key:"focus",value:function(t,a){var i=this.findByKey("left"),s=this.findByKey("right");if(!(!i||i.length===0||!s||s.length===0)){var h=a?i:s;t.select(h,!0).shrinkToTextNode();var w=h.first();!w||(t.setStart(w,a?0:1),t.collapse(!0),Gn(this.editor)&&this.editor.change.range.select(t),this.onFocus&&this.onFocus())}}},{key:"maximize",value:function(){var t;this.isMaximize=!0,this.defaultMaximize.maximize(),(t=this.toolbarModel)===null||t===void 0||t.show()}},{key:"minimize",value:function(){var t;this.isMaximize=!1,this.defaultMaximize.restore(),(t=this.toolbarModel)===null||t===void 0||t.show()}},{key:"onSelect",value:function(t){var a=this.constructor.selectStyleType;if(a!==Ms.NONE){var i="data-card-".concat(a,"-selected"),s=this.getCenter();t?s.addClass(i):s.removeClass(i)}}},{key:"onSelectByOther",value:function(t,a){var i=this.getCenter(),s=this.constructor.selectStyleType;s===Ms.BACKGROUND?i.css("background-color",t?a.rgb:""):i.css("outline",t?"2px solid "+a.color:"");var h="card-selected-other";return t?this.root.addClass(h):this.root.removeClass(h),i}},{key:"onActivate",value:function(t){var a,i;!this.resize||(t?(a=this.resizeModel)===null||a===void 0||a.show():(i=this.resizeModel)===null||i===void 0||i.hide())}},{key:"onActivateByOther",value:function(t,a){return this.onSelectByOther(t,a)}},{key:"initToolbar",value:function(){if(this.toolbar)this.toolbarModel||(this.toolbarModel=new kh(this.editor,this)),this.activated&&this.toolbarModel.show();else{var t,a;(t=this.toolbarModel)===null||t===void 0||t.hide(),(a=this.toolbarModel)===null||a===void 0||a.destroy(),this.toolbarModel=void 0}}},{key:"initResize",value:function(){if(this.resize){this.resizeModel||(this.resizeModel=new _d(this.editor,this));var t=typeof this.resize=="function"?this.resize():this.findByKey("body");if(t&&t.length>0){var a;(a=this.resizeModel)===null||a===void 0||a.render(t)}}}},{key:"didUpdate",value:function(){this.initResize(),this.initToolbar()}},{key:"beforeRender",value:function(){var t=this.getCenter(),a=nn("<".concat(this.type===zo.BLOCK?"div":"span",' class="').concat(Zt,'" ').concat(Ve,'="').concat(on,'" />'));a.append('<svg viewBox="0 0 1024 1024" class="data-card-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"> <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg>'),t.empty().append(a)}},{key:"didRender",value:function(){var t=this;this.loading&&(this.find(".".concat(Zt)).remove(),setTimeout(function(){t.root.removeAttributes(Zt)},200)),this.initResize(),this.initToolbar(),this.isEditable&&this.editor.nodeId.generateAll(this.getCenter().get())}},{key:"destroy",value:function(){var t,a,i,s;(t=this.toolbarModel)===null||t===void 0||t.hide(),(a=this.toolbarModel)===null||a===void 0||a.destroy(),this.toolbarModel=void 0,(i=this.resizeModel)===null||i===void 0||i.hide(),(s=this.resizeModel)===null||s===void 0||s.destroy(),this.resizeModel=void 0}}]),at}();kl.cardName=void 0,kl.cardType=void 0,kl.autoActivate=void 0,kl.autoSelected=!0,kl.singleSelectable=void 0,kl.collab=!0,kl.focus=void 0,kl.selectStyleType=Ms.BORDER,kl.lazyRender=!1;var Tf=null,rf=`.data-scrollable::-webkit-scrollbar {\r
    display: none;\r
    overflow: hidden;\r
  }\r
  .data-scrollable.scroll-x {\r
    padding-bottom: 10px;\r
    overflow-x: hidden;\r
  }\r
  \r
  .data-scrollable.scroll-y {\r
    padding-right: 10px;\r
    overflow-y: hidden;\r
  }\r
\r
  .data-scrollable:hover .data-scrollbar {\r
    display: block;\r
  }\r
  .data-scrollable.scrolling {\r
    -webkit-user-select: none;\r
       -moz-user-select: none;\r
        -ms-user-select: none;\r
            user-select: none;\r
  }\r
  .data-scrollable.scrolling .data-scrollbar {\r
    display: block;\r
  }\r
  .data-scrollable .data-scrollbar {\r
    display: none;\r
    position: absolute;\r
    cursor: default;\r
    transition: opacity 0.3s ease-in-out;\r
  }\r
  .data-scrollable .data-scrollbar .data-scrollbar-trigger {\r
    position: absolute;\r
    background: #c1c1c1;\r
    border-radius: 10px;\r
    cursor: pointer;\r
  }\r
  .data-scrollable .data-scrollbar .data-scrollbar-trigger:hover {\r
    background: #888;\r
  }\r
  .data-scrollable .data-scrollbar.data-scrollbar-x {\r
    height: 8px;\r
    bottom: 0px;\r
  }\r
  .data-scrollable .data-scrollbar.data-scrollbar-x .data-scrollbar-trigger {\r
    height: 8px;\r
    min-width: 60px;\r
  }\r
  .data-scrollable .data-scrollbar.data-scrollbar-y {\r
    top: 0;\r
    width: 8px;\r
    height: 100%;\r
    right: 0px;\r
  }\r
  .data-scrollable .data-scrollbar.data-scrollbar-y .data-scrollbar-trigger {\r
    width: 8px;\r
    min-height: 60px;\r
  }\r
  .data-scrollable .scrollbar-shadow-left {\r
    position: absolute;\r
    z-index: 10;\r
    left: 0;\r
    top: 0;\r
    bottom: 0;\r
    width: 4px;\r
    opacity: 0.8;\r
    background: linear-gradient(270deg, rgba(99, 114, 130, 0) 0, rgba(99, 114, 130, 0.16));\r
    background: -webkit-linear-gradient(right, rgba(99, 114, 130, 0), rgba(99, 114, 130, 0.16));\r
    pointer-events: none;\r
  }\r
  .data-scrollable .scrollbar-shadow-right {\r
    position: absolute;\r
    z-index: 10;\r
    left: 0;\r
    top: 0;\r
    bottom: 0;\r
    width: 4px;\r
    opacity: 0.8;\r
    background: linear-gradient(90deg, rgba(99, 114, 130, 0) 0, rgba(99, 114, 130, 0.16));\r
    background: -webkit-linear-gradient(left, rgba(99, 114, 130, 0), rgba(99, 114, 130, 0.16));\r
    pointer-events: none;\r
  }`;Cl(rf);var xd=(0,je.Z)("observer"),mc=(0,je.Z)("reverse"),bs=(0,je.Z)("content"),rs=(0,je.Z)("enableScroll"),Oa=(0,je.Z)("scroll"),Wo=(0,je.Z)("isScrolling"),bc=function(at){(0,T.Z)(t,at);var F=(0,S.Z)(t);function t(a){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,I=arguments.length>4?arguments[4]:void 0;return(0,p.Z)(this,t),i=F.call(this),i.container=void 0,i.x=void 0,i.y=void 0,i.shadow=void 0,i.scrollBarX=void 0,i.slideX=void 0,i.slideXDragging=void 0,i.scrollBarY=void 0,i.slideY=void 0,i.slideYDragging=void 0,i.shadowLeft=void 0,i.shadowRight=void 0,i.oWidth=0,i.oHeight=0,i.sWidth=0,i.sHeight=0,i.xWidth=0,i.yHeight=0,Object.defineProperty((0,v.Z)(i),xd,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(i),mc,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(i),bs,{writable:!0,value:void 0}),i.shadowTimer=void 0,Object.defineProperty((0,v.Z)(i),rs,{writable:!0,value:!0}),Object.defineProperty((0,v.Z)(i),Oa,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(i),Wo,{writable:!0,value:!1}),i.refresh=function(){var B=i.container.get();if(B){var W,G,H=function(){setTimeout(function(){(0,we.Z)((0,v.Z)(i),Wo)[Wo]=!1},0)},he=B.scrollTop,ge=(W=(0,we.Z)((0,v.Z)(i),bs)[bs])===null||W===void 0?void 0:W.get(),Oe=Vn(i.container.css("padding-left")),rt=Vn(i.container.css("padding-right")),bt=Vn(i.container.css("padding-top")),Ct=Vn(i.container.css("padding-bottom")),Dt=ge?(0,we.Z)((0,v.Z)(i),bs)[bs].width()+Oe+rt:B.scrollWidth,Ot=ge?(0,we.Z)((0,v.Z)(i),bs)[bs].height()+bt+Ct:B.scrollHeight;if(i.oWidth=i.getWidth(),i.oHeight=i.container.height()-Vn(i.container.css("border-top-width"))-Vn(i.container.css("border-bottom-width")),i.sWidth=Dt,i.sHeight=Ot,i.xWidth=Math.floor(i.oWidth*i.oWidth/Dt),i.yHeight=Math.floor(i.oHeight*i.oHeight/Ot),i.x){var Bt,Nt,In,en;(Bt=i.slideX)===null||Bt===void 0||Bt.css("width",i.xWidth+"px");var Fn=Math.round(i.oWidth)-Oe-rt===i.sWidth||ge&&Math.round((0,we.Z)((0,v.Z)(i),bs)[bs].width())<=Math.round(i.oWidth-Oe-rt)?"none":"block";(Nt=i.slideX)===null||Nt===void 0||Nt.css("display",Fn),i.emit("display",Fn),(In=i.shadowLeft)===null||In===void 0||In.css("display",Fn),(en=i.shadowRight)===null||en===void 0||en.css("display",Fn)}if(i.y){var rr,Yn;(rr=i.slideY)===null||rr===void 0||rr.css("height",i.yHeight+"px");var ur=Math.round(i.oHeight)-bt-Ct===i.sHeight||ge&&Math.round((0,we.Z)((0,v.Z)(i),bs)[bs].height())<=Math.round(i.oHeight-bt-Ct)?"none":"block";(Yn=i.slideY)===null||Yn===void 0||Yn.css("display",ur),i.emit("display",ur)}if(i.x&&ge&&B.scrollWidth-Oe-rt>(0,we.Z)((0,v.Z)(i),bs)[bs].width()){(0,we.Z)((0,v.Z)(i),Wo)[Wo]=!0;var xr=B.scrollWidth-Oe-rt-(0,we.Z)((0,v.Z)(i),bs)[bs].width();if((0,we.Z)((0,v.Z)(i),Oa)[Oa]){var Lr=(0,we.Z)((0,v.Z)(i),Oa)[Oa],er=Lr.onScrollX,Rr=Lr.getScrollLeft;if(xr=Rr?Rr(-0)+B.scrollLeft-xr:B.scrollLeft-xr,xr<0&&(xr=0),er){var Wi=er(xr);Wi>0?B.scrollLeft=Wi:B.scrollLeft=0}i.scroll({left:xr})}else B.scrollLeft-=xr,H();return}if(i.y&&ge&&B.scrollHeight-bt-Ct!==(0,we.Z)((0,v.Z)(i),bs)[bs].height()){(0,we.Z)((0,v.Z)(i),Wo)[Wo]=!0,B.scrollTop-=B.scrollHeight-bt-Ct-(0,we.Z)((0,v.Z)(i),bs)[bs].height(),H();return}var ai=!((G=(0,we.Z)((0,v.Z)(i),Oa)[Oa])===null||G===void 0)&&G.getScrollLeft?(0,we.Z)((0,v.Z)(i),Oa)[Oa].getScrollLeft(B.scrollLeft):B.scrollLeft;if((0,we.Z)((0,v.Z)(i),Oa)[Oa]){var ra=(0,we.Z)((0,v.Z)(i),Oa)[Oa].onScrollX;if(ra){(0,we.Z)((0,v.Z)(i),Wo)[Wo]=!0;var ea=ra(ai);ea>0?B.scrollLeft=ea:B.scrollLeft=0,H()}i.scroll({left:ai})}else i.reRenderX(ai);i.reRenderY(he)}},i.scroll=function(B){var W=0,G=0;if(!(0,we.Z)((0,v.Z)(i),Oa)[Oa]&&B instanceof Event){var H=B.target,he=H.scrollTop,ge=H.scrollLeft;W=he,G=ge}else if(B instanceof Event){if((0,we.Z)((0,v.Z)(i),Wo)[Wo])return;i.refresh();return}else{if(B.top===void 0){var Oe;B.top=((Oe=i.container.get())===null||Oe===void 0?void 0:Oe.scrollTop)||0}if(B.left===void 0){var rt;B.left=((rt=i.container.get())===null||rt===void 0?void 0:rt.scrollLeft)||0}W=B.top,G=B.left}i.reRenderX(G),i.reRenderY(W)},i.wheelXScroll=tt()(function(B){var W,G;B.preventDefault();var H=(Dn?B.wheelDeltaX:B.wheelDelta/120||-B.detail)>0?"up":"down",he=i.container.get();if(!!he){var ge=i.container.width(),Oe=!((W=(0,we.Z)((0,v.Z)(i),Oa)[Oa])===null||W===void 0)&&W.getOffsetWidth?(0,we.Z)((0,v.Z)(i),Oa)[Oa].getOffsetWidth(ge):ge,rt=Math.max(Oe/(Dn?20-Math.abs(B.wheelDelta):8),20),bt=(!((G=(0,we.Z)((0,v.Z)(i),Oa)[Oa])===null||G===void 0)&&G.getScrollLeft?(0,we.Z)((0,v.Z)(i),Oa)[Oa].getScrollLeft(he.scrollLeft):he.scrollLeft)+(H==="up"?-rt:rt);if(bt=H==="up"?Math.max(0,bt):Math.min(bt,i.sWidth-i.oWidth),(0,we.Z)((0,v.Z)(i),Oa)[Oa]){var Ct=(0,we.Z)((0,v.Z)(i),Oa)[Oa].onScrollX;if(Ct){var Dt=Ct(bt);Dt>0?he.scrollLeft=Dt:he.scrollLeft=0}i.scroll({left:bt})}else he.scrollLeft=bt}},Dn?50:0,{trailing:!0}),i.wheelYScroll=tt()(function(B){B.preventDefault();var W=(Dn?B.wheelDeltaX:B.wheelDelta/120||-B.detail)>0?"up":"down",G=i.container.get();if(!!G){var H=i.container.height(),he=Math.max(H/(Dn?20-Math.abs(B.wheelDelta):8),20),ge=G.scrollTop+(W==="up"?-he:he);ge=W==="up"?Math.max(0,ge):Math.min(ge,i.sHeight-i.oHeight),G.scrollTop=ge}},Dn?100:0,{trailing:!0}),i.bindWheelScroll=function(B){if(!!(0,we.Z)((0,v.Z)(i),rs)[rs]){var W=i.x&&B.wheelDeltaX!==B.wheelDeltaY&&Math.abs(B.wheelDeltaX)>Math.abs(B.wheelDeltaY);W?i.slideX&&i.slideX.css("display")!=="none"&&i.wheelXScroll(B):i.y&&B.wheelDeltaY!==0&&i.slideY&&i.slideY.css("display")!=="none"&&i.wheelYScroll(B)}},i.bindContainerTouchX=function(B){!B.target||!(0,we.Z)((0,v.Z)(i),rs)[rs]||nn(B.target).hasClass("data-scrollbar-trigger")||((0,we.Z)((0,v.Z)(i),mc)[mc]=!0,i.scrollXStart(B))},i.bindContainerTouchY=function(B){!B.target||!(0,we.Z)((0,v.Z)(i),rs)[rs]||nn(B.target).hasClass("data-scrollbar-trigger")||((0,we.Z)((0,v.Z)(i),mc)[mc]=!0,i.scrollYStart(B))},i.getEventClientOffset=function(B){return B instanceof MouseEvent?{x:B.clientX,y:B.clientY}:{x:B.touches[0].clientX,y:B.touches[0].clientY}},i.scrollX=function(B){if(i.slideXDragging){var W,G=i.slideXDragging,H=G.point,he=G.position,ge=i.getEventClientOffset(B),Oe=(0,we.Z)((0,v.Z)(i),mc)[mc]?he-(ge.x-H):he+(ge.x-H);Oe=Math.max(0,Math.min(Oe,i.oWidth-i.xWidth)),(W=i.slideX)===null||W===void 0||W.css("left",Oe+"px");var rt=Oe/(i.oWidth-i.xWidth);rt=Math.min(1,rt);var bt=i.container.get(),Ct=(i.sWidth-i.oWidth)*rt;if((0,we.Z)((0,v.Z)(i),Oa)[Oa]){var Dt=(0,we.Z)((0,v.Z)(i),Oa)[Oa].onScrollX;if(Dt){var Ot=Dt(Ct);Ot>0?bt.scrollLeft=Ot:bt.scrollLeft=0}i.scroll({left:Ct})}else bt.scrollLeft=Ct}},i.scrollY=function(B){if(i.slideYDragging){var W,G=i.slideYDragging,H=G.point,he=G.position,ge=i.getEventClientOffset(B),Oe=(0,we.Z)((0,v.Z)(i),mc)[mc]?he-(ge.y-H):he+(ge.y-H);Oe=Math.max(0,Math.min(Oe,i.oHeight-i.yHeight)),(W=i.slideY)===null||W===void 0||W.css("top",Oe+"px");var rt=Oe/(i.oHeight-i.yHeight);rt=Math.min(1,rt),i.container.get().scrollTop=(i.sHeight-i.oHeight)*rt}},i.scrollXEnd=function(){i.slideXDragging=void 0,(0,we.Z)((0,v.Z)(i),mc)[mc]=!1,document.body.removeEventListener(Gt?"touchmove":"mousemove",i.scrollX),document.body.removeEventListener(Gt?"touchend":"mouseup",i.scrollXEnd),i.container.removeClass("scrolling")},i.scrollYEnd=function(){i.slideYDragging=void 0,document.body.removeEventListener(Gt?"touchmove":"mousemove",i.scrollY),document.body.removeEventListener(Gt?"touchend":"mouseup",i.scrollYEnd),i.container.removeClass("scrolling")},i.scrollXStart=function(B){var W,G=i.getEventClientOffset(B);i.container.addClass("scrolling"),i.slideXDragging={point:G.x,position:parseInt(((W=i.slideX)===null||W===void 0?void 0:W.css("left"))||"0")},document.body.addEventListener(Gt?"touchmove":"mousemove",i.scrollX,{passive:!0}),document.body.addEventListener(Gt?"touchend":"mouseup",i.scrollXEnd,{passive:!0})},i.scrollYStart=function(B){var W,G=i.getEventClientOffset(B);i.container.addClass("scrolling"),i.slideYDragging={point:G.y,position:parseInt(((W=i.slideY)===null||W===void 0?void 0:W.css("top"))||"0")},document.body.addEventListener(Gt?"touchmove":"mousemove",i.scrollY,{passive:!0}),document.body.addEventListener(Gt?"touchend":"mouseup",i.scrollYEnd,{passive:!0})},i.bindXScrollEvent=function(){if(i.x){var B;(B=i.slideX)===null||B===void 0||B.on(Gt?"touchstart":"mousedown",i.scrollXStart,{passive:!0})}},i.bindYScrollEvent=function(){if(i.y){var B;(B=i.slideY)===null||B===void 0||B.on(Gt?"touchstart":"mousedown",i.scrollYStart,{passive:!0})}},i.reRenderShadow=function(B){if(i.shadow){var W,G=i.container.get();if(G){var H;(H=i.shadowLeft)===null||H===void 0||H.css("left",((0,we.Z)((0,v.Z)(i),Oa)[Oa]?G.scrollLeft:B)+"px")}(W=i.shadowRight)===null||W===void 0||W.css("left",B+i.oWidth-4+"px")}},i.reRenderX=function(B){if(i.x){var W,G,H;(W=i.scrollBarX)===null||W===void 0||W.css("left",B+"px");var he=i.sWidth-i.oWidth,ge=he<=0?0:B/he;ge=Math.min(1,ge),(G=i.slideX)===null||G===void 0||G.css("left",(i.oWidth-i.xWidth)*ge+"px"),i.emit("change",{x:B,y:Vn(((H=i.scrollBarY)===null||H===void 0?void 0:H.css("top"))||"0")}),i.oWidth=i.getWidth(),i.reRenderShadow(B)}},i.reRenderY=function(B){if(i.y){var W,G,H;(W=i.scrollBarY)===null||W===void 0||W.css("top",B+"px");var he=i.sHeight-i.oHeight,ge=he<=0?0:B/he;ge=Math.min(1,ge),(G=i.slideY)===null||G===void 0||G.css("top",(i.oHeight-i.yHeight)*ge+"px"),i.emit("change",{x:Vn(((H=i.scrollBarX)===null||H===void 0?void 0:H.css("left"))||"0"),y:B})}},i.container=Ti(a)?nn(a):a,i.x=s,i.y=h,i.shadow=w,(0,we.Z)((0,v.Z)(i),Oa)[Oa]=I,i.init(),i}return(0,d.Z)(t,[{key:"setContentNode",value:function(i){(0,we.Z)(this,bs)[bs]=i&&(Ti(i)?nn(i):i)}},{key:"init",value:function(){var i=this.container.children(),s=!1;i.each(function(h){!s&&nn(h).hasClass("data-scrollbar")&&(s=!0)}),s||(this.container.css("position","relative"),this.container.addClass("data-scrollable"),this.x&&(this.scrollBarX=nn("<div ".concat(Ve,'="').concat(on,'" class="data-scrollbar data-scrollbar-x"><div class="data-scrollbar-trigger"></div></div>')),this.slideX=this.scrollBarX.find(".data-scrollbar-trigger"),this.container.append(this.scrollBarX),this.container.addClass("scroll-x")),this.y&&(this.scrollBarY=nn("<div ".concat(Ve,'="').concat(on,'" class="data-scrollbar data-scrollbar-y"><div class="data-scrollbar-trigger"></div></div>')),this.slideY=this.scrollBarY.find(".data-scrollbar-trigger"),this.container.append(this.scrollBarY),this.container.addClass("scroll-y")),this.shadow&&(this.shadowLeft=nn("<div ".concat(Ve,'="').concat(on,'" class="scrollbar-shadow-left"></div>')),this.shadowRight=nn("<div ".concat(Ve,'="').concat(on,'" class="scrollbar-shadow-right"></div>')),this.container.append(this.shadowLeft),this.container.append(this.shadowRight)),this.refresh(),this.bindEvents())}},{key:"getWidth",value:function(){var i,s=this.container.get();if(!s)return 0;var h=this.container.width(),w=!((i=(0,we.Z)(this,Oa)[Oa])===null||i===void 0)&&i.getOffsetWidth?(0,we.Z)(this,Oa)[Oa].getOffsetWidth(h):h;return w}},{key:"enableScroll",value:function(){(0,we.Z)(this,rs)[rs]=!0}},{key:"disableScroll",value:function(){(0,we.Z)(this,rs)[rs]=!1}},{key:"bindEvents",value:function(){Gt?(this.x&&this.container.on("touchstart",this.bindContainerTouchX,{passive:!0}),this.y&&this.container.on("touchstart",this.bindContainerTouchY,{passive:!0})):this.container.on(Tt?"DOMMouseScroll":"mousewheel",this.bindWheelScroll),this.container.on("scroll",this.scroll,{passive:!0});var i=this.container.get();!i||(window.addEventListener("resize",this.refresh),this.bindXScrollEvent(),this.bindYScrollEvent())}},{key:"destroy",value:function(){var i,s,h;if((i=this.slideX)===null||i===void 0||i.off(Gt?"touchstart":"mousedown",this.scrollXStart),(s=this.slideY)===null||s===void 0||s.off(Gt?"touchstart":"mousedown",this.scrollYStart),Gt?(this.x&&this.container.off("touchstart",this.bindContainerTouchX),this.y&&this.container.off("touchstart",this.bindContainerTouchY)):this.container.off(Tt?"DOMMouseScroll":"mousewheel",this.bindWheelScroll),this.container.off("scroll",this.scroll),this.container.removeClass("data-scrollable"),this.x){var w;(w=this.scrollBarX)===null||w===void 0||w.remove(),this.container.removeClass("scroll-x")}if(this.y){var I;(I=this.scrollBarY)===null||I===void 0||I.remove(),this.container.removeClass("scroll-y")}if(this.shadow){var B,W;(B=this.shadowLeft)===null||B===void 0||B.remove(),(W=this.shadowRight)===null||W===void 0||W.remove()}(h=(0,we.Z)(this,xd)[xd])===null||h===void 0||h.disconnect(),window.removeEventListener("resize",this.refresh),window.removeEventListener("scroll",this.refresh)}}]),t}(Je.EventEmitter2),oc=`.data-resizer {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    bottom: 0px;
    right: 0;
    z-index: 1;
    outline: 2px solid #1890FF;
    max-width: initial !important;
}
.data-resizer img {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    cursor: pointer;
    width: 100%;
    height: 100%;
    opacity: 0.3;
}
.data-resizer-holder {
    position: absolute;
    width: 14px;
    height: 14px;
    border: 2px solid #fff;
    border-radius: 50%;
    background: #1890FF;
    display: inline-block;
}
.data-resizer-holder-right-top {
    top: -6px;
    right: -6px;
    cursor: nesw-resize;
}
.data-resizer-holder-right-bottom {
    bottom: -6px;
    right: -6px;
    cursor: nwse-resize;
}
.data-resizer-holder-left-bottom {
    bottom: -6px;
    left: -6px;
    cursor: nesw-resize;
}
.data-resizer-holder-left-top {
    left: -6px;
    top: -6px;
    cursor: nwse-resize;
}

.data-resizer-number {
    position: absolute;
    display: inline-block;
    line-height: 24px;
    padding: 0 4px;
    font-size: 12px;
    border-radius: 3px 3px;
    background: rgba(0, 0, 0, 0.86);
    color: rgba(255, 255, 255, 0.96);
    font-family: 'Lucida Console', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out;
    transform: scale(0.8);
}

.data-resizer-number-right-top {
    top: 0px;
    right: -6px;
    transform: translateX(100%) scale(0.8);
}

.data-resizer-number-right-bottom {
    right: -6px;
    bottom: 0px;
    transform: translateX(100%) scale(0.8);
}

.data-resizer-number-left-bottom {
    left: -6px;
    bottom: 0px;
    transform: translateX(-100%) scale(0.8);
}

.data-resizer-number-left-top {
    left: -6px;
    top: 0px;
    transform: translateX(-100%) scale(0.8);
}

.data-resizer-number-active {
    opacity: 1;
    visibility: visible;
}`;Cl(oc);var ou=function(){function at(F){var t=this,a;(0,p.Z)(this,at),this.options=void 0,this.root=void 0,this.image=void 0,this.resizerNumber=void 0,this.point={x:0,y:0},this.position=void 0,this.size=void 0,this.maxWidth=void 0,this.resizing=!1,this.onMouseMove=function(w){w.preventDefault(),w.stopPropagation();var I=window.TouchEvent&&w instanceof TouchEvent?w.touches[0]:w,B=I.clientX,W=I.clientY;if(B!==t.point.x||W!==t.point.y){var G=t.point.x-B,H=t.point.y-W;t.updateSize(G,H)}t.resizing=!0},this.onMouseUp=function(w){var I;w.preventDefault(),w.stopPropagation();var B=t.root.get();if(!!B){var W=B.clientWidth,G=B.clientHeight;t.size={width:W,height:G},t.resizerNumber.removeClass("data-resizer-number-".concat(t.position)),t.resizerNumber.removeClass("data-resizer-number-active"),t.position=void 0,t.resizing=!1,t.root.removeClass("data-resizing"),document.removeEventListener(Gt?"touchmove":"mousemove",t.onMouseMove),document.removeEventListener(Gt?"touchend":"mouseup",t.onMouseUp);var H=t.options.onChange;H&&H(t.size),(I=t.image)===null||I===void 0||I.hide()}},this.options=F,this.root=nn(this.renderTemplate(F.imgUrl)),F.imgUrl&&(this.image=this.root.find("img")),(a=this.image)===null||a===void 0||a.hide(),this.resizerNumber=this.root.find(".data-resizer-number");var i=this.options,s=i.width,h=i.height;this.size={width:s,height:h},this.maxWidth=this.options.maxWidth}return(0,d.Z)(at,[{key:"renderTemplate",value:function(t){return`
			<span class="data-resizer">
				`.concat(t?'<img src="'.concat(t,'">'):"",`
				<span class="data-resizer-holder data-resizer-holder-right-top"></span>
				<span class="data-resizer-holder data-resizer-holder-right-bottom"></span>
				<span class="data-resizer-holder data-resizer-holder-left-bottom"></span>
				<span class="data-resizer-holder data-resizer-holder-left-top"></span>
				<span class="data-resizer-number"></span>
			</span>`)}},{key:"onMouseDown",value:function(t,a){var i;this.resizing||(t.preventDefault(),t.stopPropagation(),this.root.css("top",["right-top","left-top"].indexOf(a)>-1?"auto":0),this.root.css("left",["left-top","left-bottom"].indexOf(a)>-1?"auto":0),this.root.css("bottom",["right-bottom","left-bottom"].indexOf(a)>-1?"auto":0),this.root.css("right",["right-top","right-bottom"].indexOf(a)>-1?"auto":0),this.point={x:window.TouchEvent&&t instanceof TouchEvent?t.touches[0].clientX:t.clientX,y:window.TouchEvent&&t instanceof TouchEvent?t.touches[0].clientY:t.clientY},this.position=a,this.resizing=!0,this.root.addClass("data-resizing"),this.resizerNumber.addClass("data-resizer-number-".concat(this.position)),this.resizerNumber.addClass("data-resizer-number-active"),(i=this.image)===null||i===void 0||i.show(),document.addEventListener(Gt?"touchmove":"mousemove",this.onMouseMove),document.addEventListener(Gt?"touchend":"mouseup",this.onMouseUp))}},{key:"updateSize",value:function(t,a){["right-top","right-bottom"].indexOf(this.position||"")>-1?t=this.size.width-t:t=this.size.width+t,this.setSize(t,a)}},{key:"setSize",value:function(t,a){t<24&&(t=24);var i=this.options.rate;t>this.maxWidth&&(t=this.maxWidth),a=t*i,a<24&&(a=24,t=a/i),t=Math.round(t),a=Math.round(a),this.root.css({width:t+"px",height:a+"px"}),this.resizerNumber.html("".concat(t,"\xB7").concat(a))}},{key:"on",value:function(t,a){this.root.on(t,a)}},{key:"off",value:function(t,a){this.root.off(t,a)}},{key:"render",value:function(){var t=this,a=this.options,i=a.width,s=a.height;return this.setSize(i,s),this.root.find(".data-resizer-holder-right-top").on(Gt?"touchstart":"mousedown",function(h){return t.onMouseDown(h,"right-top")}),this.root.find(".data-resizer-holder-right-bottom").on(Gt?"touchstart":"mousedown",function(h){return t.onMouseDown(h,"right-bottom")}),this.root.find(".data-resizer-holder-left-bottom").on(Gt?"touchstart":"mousedown",function(h){return t.onMouseDown(h,"left-bottom")}),this.root.find(".data-resizer-holder-left-top").on(Gt?"touchstart":"mousedown",function(h){return t.onMouseDown(h,"left-top")}),this.root}},{key:"destroy",value:function(){this.root.remove(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}}]),at}();Ce.ZP=us},95102:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M="keydown:backspace",D=function(T){(0,p.Z)(g,T);var S=(0,d.Z)(g);function g(){var z;(0,O.Z)(this,g);for(var E=arguments.length,Y=new Array(E),q=0;q<E;q++)Y[q]=arguments[q];return z=S.call.apply(S,[this].concat(Y)),z.kind="block",z.style={"text-align":"@var0","list-style-position":"@var1"},z.variable={"@var0":["center","right","justify"],"@var1":["outside","inside"]},z.onBackspace=function(j){var le=z.editor;if(!!(0,v.iC)(le)){var ce=le.change,se=le.block,ne=ce.range.get();if(!(se.isLastOffset(ne,"end")||!se.isFirstOffset(ne,"start")||ce.blocks.length>1)){var De=le.command,we=z.queryState();if(we==="center")return j.preventDefault(),De.execute(z.constructor.pluginName,"left"),!1;if(we==="right")return j.preventDefault(),De.execute(z.constructor.pluginName,"center"),!1}}},z}return(0,U.Z)(g,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(g.prototype),"init",this).call(this),this.editor.on(M,this.onBackspace)}},{key:"execute",value:function(E){var Y=this.editor;if(!(!(0,v.iC)(Y)||Y.readonly)){var q=Y.change,j=Y.block;j.setBlocks({style:{"text-align":!E||["left"].indexOf(E)>-1?"":E}}),q.blocks.forEach(function(le){le.name==="li"&&Y.list.addAlign(le,E)})}}},{key:"queryState",value:function(){var E=this.editor;if(!!(0,v.iC)(E)){var Y=E.change,q=E.schema,j=Y.blocks;if(j.length!==0){var le=j[0],ce=q.getAllowInTags();ce.indexOf(le.name)>-1&&(le=j[1]||le.first()||le);var se=le.css("text-align");return se==="start"&&(se="left"),se==="end"&&(se="right"),se}}}},{key:"hotkey",value:function(){var E,Y,q,j,le=((E=this.options.hotkey)===null||E===void 0?void 0:E.left)||"mod+shift+l",ce=((Y=this.options.hotkey)===null||Y===void 0?void 0:Y.center)||"mod+shift+c",se=((q=this.options.hotkey)===null||q===void 0?void 0:q.right)||"mod+shift+r",ne=((j=this.options.hotkey)===null||j===void 0?void 0:j.justify)||"mod+shift+j";return[{key:le,args:"left"},{key:ce,args:"center"},{key:se,args:"right"},{key:ne,args:"justify"}]}},{key:"destroy",value:function(){this.editor.off(M,this.onBackspace)}}],[{key:"pluginName",get:function(){return"alignment"}}]),g}(v.YX);Ce.Z=D},39691:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=function(D){(0,p.Z)(S,D);var T=(0,d.Z)(S);function S(){var g;(0,O.Z)(this,S);for(var z=arguments.length,E=new Array(z),Y=0;Y<z;Y++)E[Y]=arguments[Y];return g=T.call.apply(T,[this].concat(E)),g.mergeLeval=2,g.tagName="span",g.style={"background-color":"@var0"},g.variable={"@var0":{required:!0,value:"@color"}},g}return(0,U.Z)(S,[{key:"schema",value:function(){var z=(0,x.Z)((0,m.Z)(S.prototype),"schema",this).call(this);return z.attributes.style.background="@color",z}},{key:"conversion",value:function(){var z=this;return[{from:function(Y,q){return Y===z.tagName&&!!q.background},to:function(Y,q,j){var le=(0,v.$)("<".concat(Y," />")),ce=q.background;return delete q.background,q["background-color"]=ce,le.css(q),Object.keys(j).forEach(function(se){le.attributes(se,j[se])}),le}}]}},{key:"isTrigger",value:function(z,E){return E===void 0||z!==E}},{key:"hotkey",value:function(){return this.options.hotkey||[]}}],[{key:"pluginName",get:function(){return"backcolor"}}]),S}(v.Rw);Ce.Z=M},66547:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M="markdown-it",D=function(T){(0,p.Z)(g,T);var S=(0,d.Z)(g);function g(){var z;(0,O.Z)(this,g);for(var E=arguments.length,Y=new Array(E),q=0;q<E;q++)Y[q]=arguments[q];return z=S.call.apply(S,[this].concat(Y)),z.tagName="strong",z.markdownIt=function(j){z.options.markdown!==!1&&j.enable("emphasis")},z}return(0,U.Z)(g,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(g.prototype),"init",this).call(this);var E=this.editor;(0,v.iC)(E)&&E.on(M,this.markdownIt)}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+b"}},{key:"conversion",value:function(){return[{from:{span:{style:{"font-weight":["bold","700"]}}},to:this.tagName},{from:"b",to:this.tagName}]}},{key:"destroy",value:function(){this.editor.off(M,this.markdownIt)}}],[{key:"pluginName",get:function(){return"bold"}}]),g}(v.Rw);Ce.Z=D},5681:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998);function M(z,E){E===void 0&&(E={});var Y=E.insertAt;if(!(!z||typeof document=="undefined")){var q=document.head||document.getElementsByTagName("head")[0],j=document.createElement("style");j.type="text/css",Y==="top"&&q.firstChild?q.insertBefore(j,q.firstChild):q.appendChild(j),j.styleSheet?j.styleSheet.cssText=z:j.appendChild(document.createTextNode(z))}}var D=`.am-engine code, .am-engine-view code {
    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
    font-size: inherit;
    background-color: rgba(0, 0, 0, 0.06);
    padding: 0 2px;
    border-radius: 6px;
    line-height: inherit;
    word-wrap: break-word;
    text-indent: 0;
}`;M(D);var T="parse:html",S="markdown-it",g=function(z){(0,p.Z)(Y,z);var E=(0,d.Z)(Y);function Y(){var q;(0,O.Z)(this,Y);for(var j=arguments.length,le=new Array(j),ce=0;ce<j;ce++)le[ce]=arguments[ce];return q=E.call.apply(E,[this].concat(le)),q.tagName="code",q.markdownIt=function(se){q.options.markdown!==!1&&se.enable("backticks")},q.parseHtml=function(se){se.find(q.tagName).css({"font-family":"monospace","font-size":"inherit","background-color":"rgba(0,0,0,.06)",padding:"0 2px","border-radius":"6px","line-height":"inherit","overflow-wrap":"break-word","text-indent":"0"})},q}return(0,U.Z)(Y,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(Y.prototype),"init",this).call(this);var j=this.editor;j.on(T,this.parseHtml),(0,v.iC)(j)&&j.on(S,this.markdownIt)}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+e"}},{key:"destroy",value:function(){var j=this.editor;j.off(T,this.parseHtml),j.off(S,this.markdownIt)}}],[{key:"pluginName",get:function(){return"code"}}]),Y}(v.Cy);Ce.Z=g},78834:function(ut,Ce,f){"use strict";f.d(Ce,{P:function(){return tr}});var O=f(24572),U=f(40936),x=f(49962),m=f(65782),p=f(64655),d=f(62998),v=f(60790),M=f(34203),D=f(29129),T=f(85462),S=f(11997),g=f(75782),z=f(13187),E=f.n(z),Y=f(66292),q=f.n(Y),j=f(15286),le=f(85170),ce=f(43520),se=f(86809),ne=f.n(se),De=f(64617),we=f.n(De),je=f(48220),dt=f.n(je),Qe=f(76942),lt=f.n(Qe),Te=f(94079),Je=f.n(Te),te=f(3728),fe=f.n(te),ue=f(25209),ae=f.n(ue),de=f(49672),ve=f.n(de),J=f(63156),X=f.n(J),K=f(13440),ze=f.n(K),Ze=f(36096),We=f.n(Ze),ye=f(13838),Ie=f.n(ye),Ue=f(1049),Ye=f.n(Ue),Ae=f(79294),tt=f.n(Ae),it=f(65798),Ve=f.n(it),et=f(25325),wt=f.n(et),jt=f(20905),on=f.n(jt),bn=f(7876),Ft=f.n(bn),Mt=f(11012),_t=f.n(Mt),Jt=f(87907),Me=f.n(Jt),yn=f(16358),Wt=f.n(yn),xn=f(28733),Nn=f.n(xn),Cr=f(16859),jr=f.n(Cr),ii=f(46002),xi=f.n(ii),$i=f(5592),_i=f.n($i),Vr=f(88089),Kr=f.n(Vr),Tr=f(80861),qt=f.n(Tr),Zt=f(65973),Ee=f.n(Zt),pe=f(63776),oe=f.n(pe),me=f(58977),Pe=f.n(me),nt=f(36941),ht=f.n(nt),vt=f(95368),St=f.n(vt),It=f(60530),Kt=f.n(It),Tt=f(4703),Lt=["c","cpp","csharp","erlang","go","groovy","java","kotlin","makefile","objectivec","perl","python","rust","swift","vbnet"],Gt={header:"color: blue;font-weight: bold;",quote:"color: #090;",negative:"color: #d44;",positive:"color: #292;",strong:"font-weight: bold;",em:"font-style: italic;",link:"text-decoration: underline;color: #00c;",strikethrough:"text-decoration: line-through;",keyword:"color: #d73a49;",atom:"color: #905;",number:"color: #005cc5;",def:"color: #005cc5;",variable:"","variable-2":"color: #005cc5;","variable-3":"color: #22863a;",type:"color: #22863a;",comment:"color: #6a737d;",string:"color: #690","string-2":"color: #690;",meta:"color: #1f7f9a;",qualifier:"color: #555;",builtin:"color: #6f42c1;",bracket:"color: #997;",tag:"color: #22863a;",attribute:"color: #6f42c1;",hr:"color: #999;",error:"color: #f00;",invalidchar:"color: #f00;",operator:"color: #d73a49;",property:"color: #005cc5;"},Yt=function(){function mi(oi,Ar){(0,U.Z)(this,mi),this.editor=void 0,this.options=void 0,this.styleMap=void 0,this.codeMirror=void 0,this.mode="plain",this.container=void 0,this.editor=oi,this.options=Ar,this.styleMap=(0,g.Z)((0,g.Z)({},Gt),Ar.styleMap),this.container=Ar.container||(0,d.$)(this.renderTemplate())}return(0,x.Z)(mi,[{key:"renderTemplate",value:function(){return'<div class="data-codeblock-container"><div class="data-codeblock-content"></div></div>'}},{key:"getConfig",value:function(Ar,Fr){var lr=this.codeMirror,Hr=lr?lr.getOption("indentUnit"):Lt.indexOf(Fr||"")>-1?4:2,He=Ar?Ar.match(/^ {2,4}(?=[^\s])/gm):null;He&&(Hr=He.reduce(function(Pn,En){return Math.min(Pn,En.length)},1/0));var kt=this.editor;return{tabSize:Hr,indentUnit:Hr,scrollbarStyle:"simple",readOnly:!(0,d.iC)(kt)||kt.readonly,viewportMargin:1/0}}},{key:"getSyntax",value:function(Ar){return this.options.synatxMap[Ar]||Ar}},{key:"create",value:function(Ar,Fr,lr){var Hr=this;this.mode=Ar;var He=this.getSyntax(Ar),kt=this.container,Pn=E()(kt.find(".data-codeblock-content").get(),(0,g.Z)((0,g.Z)({value:Fr,mode:He,lineNumbers:!0,lineWrapping:!1,autofocus:!1,dragDrop:!1},this.getConfig(Fr,He)),lr));return Pn.on("focus",function(){var En=Hr.options.onFocus;En&&En()}),Pn.on("keydown",function(En,Qn){((0,d.P6)("mod+z",Qn)||(0,d.P6)("mod+y",Qn)||(0,d.P6)("mod+shift+z",Qn))&&Qn.stopPropagation();var Gn=En.lineCount(),Li=En.getCursor(),Yr=Li.line,Bi=Li.ch,bi=Hr.options,Ma=bi.onUpFocus,Ya=bi.onDownFocus,Io=bi.onLeftFocus,eo=bi.onRightFocus,Do=En.getLine(Yr);if(Yr===Gn-1&&Bi===Do.length){if((0,d.P6)("down",Qn)||(0,d.P6)("ctrl+n",Qn)){Ya&&Ya(Qn);return}else if((0,d.P6)("right",Qn)||(0,d.P6)("shift+right",Qn)||(0,d.P6)("ctrl+e",Qn)||(0,d.P6)("ctrl+f",Qn)){eo&&eo(Qn);return}}Yr===0&&Bi===0&&((0,d.P6)("up",Qn)||(0,d.P6)("ctrl+p",Qn)?Ma&&Ma(Qn):((0,d.P6)("left",Qn)||(0,d.P6)("shift+left",Qn)||(0,d.P6)("ctrl+b",Qn)||(0,d.P6)("ctrl+a",Qn))&&Io&&Io(Qn))}),Pn.on("blur",function(){var En=Hr.options.onBlur;En&&En()}),d.tq?Pn.on("touchstart",function(En,Qn){var Gn=Hr.options.onMouseDown;Gn&&Gn(Qn)}):Pn.on("mousedown",function(En,Qn){var Gn=Hr.options.onMouseDown;Qn.button===2&&Qn.stopPropagation(),Gn&&Gn(Qn)}),Pn.on("change",q()(function(){!(0,d.iC)(Hr.editor)||Hr.save()},50)),Pn.setOption("extraKeys",{Enter:function(Qn){var Gn=Hr.getConfig(Qn.getValue());Object.keys(Gn).forEach(function(Li){return Qn.setOption(Li,Gn[Li])}),Qn.execCommand("newlineAndIndent")}}),kt.on("mousedown",function(En){Pn!=null&&Pn.hasFocus()||setTimeout(function(){Pn==null||Pn.focus()},0)}),this.codeMirror=Pn,this.codeMirror}},{key:"setAutoWrap",value:function(Ar){var Fr;(Fr=this.codeMirror)===null||Fr===void 0||Fr.setOption("lineWrapping",Ar)}},{key:"update",value:function(Ar,Fr){var lr=this.codeMirror;this.mode=Ar,Fr!==void 0&&(lr==null||lr.setValue(Fr));var Hr=this.editor;lr==null||lr.setOption("mode",this.getSyntax(Ar)),lr==null||lr.setOption("readOnly",!!(!(0,d.iC)(Hr)||Hr.readonly)),this.save()}},{key:"render",value:function(Ar,Fr,lr){var Hr=this.container.find(".data-codeblock-content");Ar=this.getSyntax(Ar);var He=(0,d.$)('<div style="font-family: monospace;font-size: 13px; line-height: 21px; color: #595959; direction: ltr; height: auto; overflow: hidden;background: transparent;"><pre style="color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);" /></div>');Hr.append(He);var kt=He.find("pre")[0];this.runMode(Fr||"",Ar,kt,(0,g.Z)((0,g.Z)({},this.getConfig(Fr,Ar)),lr))}},{key:"save",value:function(){var Ar=this.editor,Fr=this.codeMirror;if(!(!(0,d.iC)(Ar)||!Fr)&&!Ar.change.isComposing()){var lr=Fr.getValue(),Hr=this.options.onSave;Hr&&Hr(this.mode,lr)}}},{key:"focus",value:function(){var Ar=this.codeMirror;!Ar||Ar.focus()}},{key:"select",value:function(){var Ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Fr=this.codeMirror;if(!!Fr)if(Fr.focus(),Ar)Fr.setSelection({line:0,ch:0});else{var lr=Fr.lineCount()-1,Hr=Fr.getLine(lr);Fr.setSelection({line:lr,ch:Hr.length})}}},{key:"toHtml",value:function(Ar,Fr){var lr=this,Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",He=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;He=He||E().defaults.tabSize;for(var kt="",Pn="",En=0;;){var Qn=Fr.indexOf("	",En);if(Qn===-1){Pn+=Fr.slice(En),Ar+=Fr.length-En;break}else{Ar+=Qn-En,Pn+=Fr.slice(En,Qn);var Gn=He-Ar%He;Ar+=Gn;for(var Li=0;Li<Gn;++Li)Pn+=" ";En=Qn+1}}if(Hr){var Yr="";Hr.split(" ").forEach(function(bi){var Ma;Yr+=(Ma=lr.styleMap[bi])!==null&&Ma!==void 0?Ma:""});var Bi="<span ".concat(Yr?'style="'.concat(Yr,'"'):"",">").concat((0,d.YU)(Pn),"</span>");kt+=Bi}else kt+=Pn;return kt}},{key:"runMode",value:function(Ar,Fr,lr,Hr){var He=E().getMode(E().defaults,Fr),kt=Hr&&Hr.tabSize||E().defaults.tabSize,Pn=lr,En=0;Pn.innerHTML="";for(var Qn="",Gn=E().splitLines(Ar),Li=Hr&&Hr.state||E().startState(He),Yr=0,Bi=Gn.length;Yr<Bi;++Yr){Yr&&(Qn+="<br />",En=0);var bi=new(E()).StringStream(Gn[Yr]);for(!bi.string&&He.blankLine&&He.blankLine(Li);!bi.eol();){var Ma=He.token?He.token(bi,Li):"";Qn+=this.toHtml(En,bi.current(),Ma||"",kt),bi.start=bi.pos}}Pn.innerHTML=Qn}},{key:"destroy",value:function(){this.container.remove()}}]),mi}(),Mn=function(oi){var Ar=oi.defaultValue,Fr=oi.container,lr=oi.onSelect,Hr=oi.modeDatas,He=function(Pn,En){Pn=Pn.toLowerCase();var Qn=En.key||"",Gn=En.name||"";return Gn=Gn.toLowerCase(),Qn.includes(Pn)||Gn.includes(Pn)};return le.createElement(ce.Z,{showSearch:!0,size:"small",bordered:!1,style:{minWidth:128},defaultValue:Ar,getPopupContainer:Fr?function(){return Fr}:void 0,onSelect:lr,filterOption:He},Hr.map(function(kt){return le.createElement(ce.Z.Option,{name:kt.name,value:kt.value,key:kt.value},kt.name)}))},Dn=function(mi,oi,Ar,Fr){j.render(le.createElement(Mn,{container:mi,defaultValue:Ar,onSelect:Fr,modeDatas:oi}),mi)},wn=[{value:"plain",syntax:"simplemode",name:"Plain Text"},{value:"bash",syntax:"shell",name:"Bash"},{value:"basic",syntax:"vbscript",name:"Basic"},{value:"c",syntax:"text/x-csrc",name:"C"},{value:"cpp",syntax:"text/x-c++src",alias:["c++"],name:"C++"},{value:"csharp",syntax:"text/x-csharp",alias:["c#"],name:"C#"},{value:"css",syntax:"css",name:"CSS"},{value:"dart",syntax:"dart",name:"Dart"},{value:"diff",syntax:"diff",name:"Diff"},{value:"dockerfile",syntax:"dockerfile",name:"Dockerfile"},{value:"erlang",syntax:"erlang",name:"Erlang"},{value:"git",syntax:"shell",name:"Git"},{value:"go",syntax:"go",alias:["golang"],name:"Go"},{value:"graphql",syntax:"simplemode",name:"GraphQL"},{value:"groovy",syntax:"groovy",name:"Groovy"},{value:"html",syntax:"htmlmixed",name:"HTML",alias:["html5"]},{value:"http",syntax:"http",name:"HTTP"},{value:"java",syntax:"text/x-java",name:"Java"},{value:"javascript",syntax:"text/javascript",name:"JavaScript",alias:["js"]},{value:"json",syntax:"application/json",name:"JSON"},{value:"jsx",syntax:"jsx",name:"JSX"},{value:"katex",syntax:"simplemode",name:"KaTeX"},{value:"kotlin",syntax:"text/x-kotlin",name:"Kotlin"},{value:"less",syntax:"css",name:"Less"},{value:"makefile",syntax:"cmake",name:"Makefile"},{value:"markdown",syntax:"markdown",name:"Markdown"},{value:"matlab",syntax:"octave",name:"MATLAB"},{value:"nginx",syntax:"nginx",name:"Nginx"},{value:"objectivec",syntax:"text/x-objectivec",name:"Objective-C"},{value:"pascal",syntax:"pascal",name:"Pascal"},{value:"perl",syntax:"perl",name:"Perl"},{value:"php",syntax:"php",name:"PHP"},{value:"powershell",syntax:"powershell",name:"PowerShell"},{value:"protobuf",syntax:"protobuf",name:"Protobuf"},{value:"python",syntax:"python",name:"Python",alias:["py"]},{value:"r",syntax:"r",name:"R"},{value:"ruby",syntax:"ruby",name:"Ruby"},{value:"rust",syntax:"rust",name:"Rust"},{value:"scala",syntax:"text/x-scala",name:"Scala"},{value:"shell",syntax:"shell",name:"Shell"},{value:"sql",syntax:"text/x-sql",name:"SQL"},{value:"swift",syntax:"swift",name:"Swift"},{value:"typescript",syntax:"text/typescript",name:"TypeScript",alias:["ts"]},{value:"vbnet",syntax:"vb",name:"VB.net"},{value:"velocity",syntax:"velocity",name:"Velocity"},{value:"xml",syntax:"xml",name:"XML"},{value:"yaml",syntax:"yaml",name:"YAML"}];function mn(mi,oi){oi===void 0&&(oi={});var Ar=oi.insertAt;if(!(!mi||typeof document=="undefined")){var Fr=document.head||document.getElementsByTagName("head")[0],lr=document.createElement("style");lr.type="text/css",Ar==="top"&&Fr.firstChild?Fr.insertBefore(lr,Fr.firstChild):Fr.appendChild(lr),lr.styleSheet?lr.styleSheet.cssText=mi:lr.appendChild(document.createTextNode(mi))}}var On=`.data-codeblock-container {\r
    position: relative;\r
    padding: 0;\r
    overflow: visible;\r
    border: 1px solid #e8e8e8;\r
    border-radius: 2px 2px;\r
    text-indent: 0;\r
}\r
\r
.data-codeblock-container .am-embed-toolbar-item {\r
    float: right;\r
    line-height: 32px;\r
}\r
\r
.data-codeblock-content {\r
     background: #f9f9f9;\r
     overflow: auto;\r
}\r
\r
.am-engine .CodeMirror,\r
.am-engine-view .CodeMirror {\r
     font-family: monospace;\r
     font-size: 13px;\r
     line-height: 21px;\r
     color: #595959;\r
     direction: ltr;\r
     height: auto;\r
     overflow: hidden;\r
     background: transparent;\r
}\r
\r
.am-engine .CodeMirror-lines,\r
.am-engine-view .CodeMirror-lines {\r
     padding: 8px 0;\r
}\r
\r
.am-engine .CodeMirror-scrollbar-filler,\r
.am-engine-view .CodeMirror-scrollbar-filler,\r
.am-engine .CodeMirror-gutter-filler,\r
.am-engine-view .CodeMirror-gutter-filler {\r
     background-color: white;\r
    \r
    /* The little square between H and V scrollbars */\r
    \r
}\r
\r
.am-engine .CodeMirror-gutters,\r
.am-engine-view .CodeMirror-gutters {\r
     border: 0;\r
     white-space: nowrap;\r
     padding: 0 8px;\r
     background-color: unset;\r
    \r
}\r
\r
.am-engine .CodeMirror-linenumber,\r
.am-engine-view .CodeMirror-linenumber {\r
     padding: 0;\r
     min-width: 20px;\r
     text-align: right;\r
     color: #BFBFBF;\r
     white-space: nowrap;\r
    \r
}\r
\r
.am-engine .CodeMirror-guttermarker,\r
.am-engine-view .CodeMirror-guttermarker {\r
     color: black;\r
    \r
}\r
\r
.am-engine .CodeMirror-guttermarker-subtle,\r
.am-engine-view .CodeMirror-guttermarker-subtle {\r
     color: #999;\r
    \r
}\r
\r
.am-engine .CodeMirror-cursor,\r
.am-engine-view .CodeMirror-cursor {\r
     border-left: 1px solid black;\r
     border-right: none;\r
     width: 0;\r
    \r
}\r
\r
.am-engine .CodeMirror div.CodeMirror-secondarycursor,\r
.am-engine-view .CodeMirror div.CodeMirror-secondarycursor {\r
     border-left: 1px solid silver;\r
    \r
}\r
\r
.am-engine .cm-fat-cursor .CodeMirror-cursor,\r
.am-engine-view .cm-fat-cursor .CodeMirror-cursor {\r
     width: auto;\r
     border: 0 !important;\r
     background: #7e7;\r
    \r
}\r
\r
.am-engine .cm-fat-cursor div.CodeMirror-cursors,\r
.am-engine-view .cm-fat-cursor div.CodeMirror-cursors {\r
     z-index: 1;\r
    \r
}\r
\r
.am-engine .cm-fat-cursor-mark,\r
.am-engine-view .cm-fat-cursor-mark {\r
     background-color: rgba(20, 255, 20, 0.5);\r
     -webkit-animation: blink 1.06s steps(1) infinite;\r
     animation: blink 1.06s steps(1) infinite;\r
    \r
}\r
\r
.am-engine .cm-animate-fat-cursor,\r
.am-engine-view .cm-animate-fat-cursor {\r
     width: auto;\r
     border: 0;\r
     -webkit-animation: blink 1.06s steps(1) infinite;\r
     animation: blink 1.06s steps(1) infinite;\r
     background-color: #7e7;\r
    \r
}\r
\r
@-webkit-keyframes blink {\r
     50% {\r
         background-color: transparent;\r
        \r
    }\r
\r
    \r
}\r
\r
@keyframes blink {\r
     50% {\r
         background-color: transparent;\r
        \r
    }\r
\r
    \r
}\r
\r
.am-engine .cm-tab,\r
.am-engine-view .cm-tab {\r
     display: inline-block;\r
     text-decoration: inherit;\r
    \r
}\r
\r
.am-engine .CodeMirror-rulers,\r
.am-engine-view .CodeMirror-rulers {\r
     position: absolute;\r
     left: 0;\r
     right: 0;\r
     top: -50px;\r
     bottom: -20px;\r
     overflow: hidden;\r
    \r
}\r
\r
.am-engine .CodeMirror-ruler,\r
.am-engine-view .CodeMirror-ruler {\r
     border-left: 1px solid #ccc;\r
     top: 0;\r
     bottom: 0;\r
     position: absolute;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-header,\r
.am-engine-view .cm-s-default .cm-header {\r
     color: blue;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-quote,\r
.am-engine-view .cm-s-default .cm-quote {\r
     color: #090;\r
    \r
}\r
\r
.am-engine .cm-negative,\r
.am-engine-view .cm-negative {\r
     color: #d44;\r
    \r
}\r
\r
.am-engine .cm-positive,\r
.am-engine-view .cm-positive {\r
     color: #292;\r
    \r
}\r
\r
.am-engine .cm-header,\r
.am-engine-view .cm-header,\r
.am-engine .cm-strong,\r
.am-engine-view .cm-strong {\r
     font-weight: bold;\r
    \r
}\r
\r
.am-engine .cm-em,\r
.am-engine-view .cm-em {\r
     font-style: italic;\r
    \r
}\r
\r
.am-engine .cm-link,\r
.am-engine-view .cm-link {\r
     text-decoration: underline;\r
    \r
}\r
\r
.am-engine .cm-strikethrough,\r
.am-engine-view .cm-strikethrough {\r
     text-decoration: line-through;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-keyword,\r
.am-engine-view .cm-s-default .cm-keyword {\r
     color: #d73a49;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-atom,\r
.am-engine-view .cm-s-default .cm-atom {\r
     color: #905;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-number,\r
.am-engine-view .cm-s-default .cm-number {\r
     color: #005cc5;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-def,\r
.am-engine-view .cm-s-default .cm-def {\r
     color: #005cc5;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-variable-2,\r
.am-engine-view .cm-s-default .cm-variable-2 {\r
     color: #005cc5;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-variable-3,\r
.am-engine-view .cm-s-default .cm-variable-3,\r
.am-engine .cm-s-default .cm-type,\r
.am-engine-view .cm-s-default .cm-type {\r
     color: #22863a;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-comment,\r
.am-engine-view .cm-s-default .cm-comment {\r
     color: #6a737d;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-string,\r
.am-engine-view .cm-s-default .cm-string {\r
     color: #690;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-string-2,\r
.am-engine-view .cm-s-default .cm-string-2 {\r
     color: #690;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-meta,\r
.am-engine-view .cm-s-default .cm-meta {\r
     color: #1f7f9a;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-qualifier,\r
.am-engine-view .cm-s-default .cm-qualifier {\r
     color: #555;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-builtin,\r
.am-engine-view .cm-s-default .cm-builtin {\r
     color: #6f42c1;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-bracket,\r
.am-engine-view .cm-s-default .cm-bracket {\r
     color: #997;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-tag,\r
.am-engine-view .cm-s-default .cm-tag {\r
     color: #22863a;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-attribute,\r
.am-engine-view .cm-s-default .cm-attribute {\r
     color: #6f42c1;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-hr,\r
.am-engine-view .cm-s-default .cm-hr {\r
     color: #999;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-link,\r
.am-engine-view .cm-s-default .cm-link {\r
     color: #00c;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-error,\r
.am-engine-view .cm-s-default .cm-error {\r
     color: #f00;\r
    \r
}\r
\r
.am-engine .cm-invalidchar,\r
.am-engine-view .cm-invalidchar {\r
     color: #f00;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-operator,\r
.am-engine-view .cm-s-default .cm-operator {\r
     color: #d73a49;\r
    \r
}\r
\r
.am-engine .cm-s-default .cm-property,\r
.am-engine-view .cm-s-default .cm-property {\r
     color: #005cc5;\r
    \r
}\r
\r
.am-engine .CodeMirror-composing,\r
.am-engine-view .CodeMirror-composing {\r
     border-bottom: 2px solid;\r
    \r
}\r
\r
.am-engine div.CodeMirror span.CodeMirror-matchingbracket,\r
.am-engine-view div.CodeMirror span.CodeMirror-matchingbracket {\r
     color: #0b0;\r
    \r
}\r
\r
.am-engine div.CodeMirror span.CodeMirror-nonmatchingbracket,\r
.am-engine-view div.CodeMirror span.CodeMirror-nonmatchingbracket {\r
     color: #a22;\r
    \r
}\r
\r
.am-engine .CodeMirror-matchingtag,\r
.am-engine-view .CodeMirror-matchingtag {\r
     background: rgba(255, 150, 0, 0.3);\r
    \r
}\r
\r
.am-engine .CodeMirror-activeline-background,\r
.am-engine-view .CodeMirror-activeline-background {\r
     background: transparent;\r
    \r
}\r
\r
.am-engine .CodeMirror-scroll,\r
.am-engine-view .CodeMirror-scroll {\r
     overflow: scroll !important;\r
    \r
    /* Things will break if this is overridden */\r
    \r
    /* 30px is the magic margin used to hide the element's real scrollbars */\r
    \r
    /* See overflow: hidden in .CodeMirror */\r
     margin-bottom: -50px;\r
     margin-right: -50px;\r
     padding-bottom: 50px;\r
     outline: none;\r
    \r
    /* Prevent dragging from highlighting the element */\r
     position: relative;\r
     z-index: 0;\r
    \r
}\r
\r
.am-engine .CodeMirror-sizer,\r
.am-engine-view .CodeMirror-sizer {\r
     position: relative;\r
     border-right: 50px solid transparent;\r
     min-height: auto !important;\r
    \r
}\r
\r
.am-engine .CodeMirror-vscrollbar,\r
.am-engine-view .CodeMirror-vscrollbar,\r
.am-engine .CodeMirror-hscrollbar,\r
.am-engine-view .CodeMirror-hscrollbar,\r
.am-engine .CodeMirror-scrollbar-filler,\r
.am-engine-view .CodeMirror-scrollbar-filler,\r
.am-engine .CodeMirror-gutter-filler,\r
.am-engine-view .CodeMirror-gutter-filler {\r
     position: absolute;\r
     z-index: 6;\r
     display: none;\r
    \r
}\r
\r
.am-engine .CodeMirror-vscrollbar,\r
.am-engine-view .CodeMirror-vscrollbar {\r
     right: 0;\r
     top: 0;\r
     overflow-x: hidden;\r
     overflow-y: scroll;\r
     display: none;\r
    \r
}\r
\r
.am-engine .CodeMirror-hscrollbar,\r
.am-engine-view .CodeMirror-hscrollbar {\r
     bottom: 0;\r
     left: 0;\r
     overflow-y: hidden;\r
     overflow-x: scroll;\r
     display: none;\r
    \r
}\r
\r
.am-engine .CodeMirror-scrollbar-filler,\r
.am-engine-view .CodeMirror-scrollbar-filler {\r
     right: 0;\r
     bottom: 0;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-filler,\r
.am-engine-view .CodeMirror-gutter-filler {\r
     left: 0;\r
     bottom: 0;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutters,\r
.am-engine-view .CodeMirror-gutters {\r
     position: absolute;\r
     left: 0;\r
     top: 0;\r
     min-height: 100%;\r
     background: #f9f9f9;\r
     z-index: 3;\r
}\r
\r
.am-engine .CodeMirror-gutter,\r
.am-engine-view .CodeMirror-gutter {\r
     white-space: normal;\r
     height: 100%;\r
     display: inline-block;\r
     vertical-align: top;\r
     margin-bottom: -30px;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-wrapper,\r
.am-engine-view .CodeMirror-gutter-wrapper {\r
     position: absolute;\r
     z-index: 4;\r
     background: none !important;\r
     border: none !important;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-background,\r
.am-engine-view .CodeMirror-gutter-background {\r
     position: absolute;\r
     top: 0;\r
     bottom: 0;\r
     z-index: 4;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-elt,\r
.am-engine-view .CodeMirror-gutter-elt {\r
     position: absolute;\r
     cursor: default;\r
     z-index: 4;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-wrapper ::-moz-selection,\r
.am-engine-view .CodeMirror-gutter-wrapper ::-moz-selection {\r
     background-color: transparent;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-wrapper ::selection,\r
.am-engine-view .CodeMirror-gutter-wrapper ::selection {\r
     background-color: transparent;\r
    \r
}\r
\r
.am-engine .CodeMirror-gutter-wrapper ::-moz-selection,\r
.am-engine-view .CodeMirror-gutter-wrapper ::-moz-selection {\r
     background-color: transparent;\r
    \r
}\r
\r
.am-engine .CodeMirror-lines,\r
.am-engine-view .CodeMirror-lines {\r
     cursor: text;\r
     min-height: 40px;\r
    \r
    /* prevents collapsing before first draw */\r
    \r
}\r
\r
.am-engine .CodeMirror pre,\r
.am-engine-view .CodeMirror pre {\r
    \r
    /* Reset some styles that the rest of the page might have set */\r
     border-radius: 0;\r
     border-width: 0;\r
     background: transparent;\r
     font-family: inherit;\r
     font-size: inherit;\r
     margin: 0;\r
     white-space: pre;\r
     word-wrap: normal;\r
     line-height: inherit;\r
     color: inherit;\r
     z-index: 2;\r
     position: relative;\r
     overflow: visible;\r
     -webkit-tap-highlight-color: transparent;\r
     font-variant-ligatures: contextual;\r
    \r
}\r
\r
.am-engine .CodeMirror-wrap pre,\r
.am-engine-view .CodeMirror-wrap pre {\r
     word-wrap: break-word;\r
     white-space: pre-wrap;\r
     word-break: normal;\r
    \r
}\r
\r
.am-engine .CodeMirror-linebackground,\r
.am-engine-view .CodeMirror-linebackground {\r
     position: absolute;\r
     left: 0;\r
     right: 0;\r
     top: 0;\r
     bottom: 0;\r
     z-index: 0;\r
    \r
}\r
\r
.am-engine .CodeMirror-linewidget,\r
.am-engine-view .CodeMirror-linewidget {\r
     position: relative;\r
     z-index: 2;\r
     padding: 0.1px;\r
    \r
    /* Force widget margins to stay inside of the container */\r
    \r
}\r
\r
.am-engine .CodeMirror-rtl pre,\r
.am-engine-view .CodeMirror-rtl pre {\r
     direction: rtl;\r
    \r
}\r
\r
.am-engine .CodeMirror-code,\r
.am-engine-view .CodeMirror-code {\r
     outline: none;\r
    \r
}\r
\r
.am-engine .CodeMirror-scroll,\r
.am-engine-view .CodeMirror-scroll,\r
.am-engine .CodeMirror-sizer,\r
.am-engine-view .CodeMirror-sizer,\r
.am-engine .CodeMirror-gutter,\r
.am-engine-view .CodeMirror-gutter,\r
.am-engine .CodeMirror-gutters,\r
.am-engine-view .CodeMirror-gutters,\r
.am-engine .CodeMirror-linenumber,\r
.am-engine-view .CodeMirror-linenumber {\r
     box-sizing: content-box;\r
    \r
}\r
\r
.am-engine .CodeMirror-simplescroll-horizontal, .am-engine-view .CodeMirror-simplescroll-horizontal {\r
     bottom: 4px;\r
     cursor: pointer;\r
}\r
\r
.am-engine .CodeMirror-measure,\r
.am-engine-view .CodeMirror-measure {\r
     position: absolute;\r
     width: 100%;\r
     height: 0;\r
     overflow: hidden;\r
     visibility: hidden;\r
    \r
}\r
\r
.am-engine .CodeMirror-cursor,\r
.am-engine-view .CodeMirror-cursor {\r
     position: absolute;\r
     pointer-events: none;\r
    \r
}\r
\r
.am-engine .CodeMirror-measure pre,\r
.am-engine-view .CodeMirror-measure pre {\r
     position: static;\r
    \r
}\r
\r
.am-engine div.CodeMirror-cursors,\r
.am-engine-view div.CodeMirror-cursors {\r
     visibility: hidden;\r
     position: relative;\r
     z-index: 3;\r
    \r
}\r
\r
.am-engine div.CodeMirror-dragcursors,\r
.am-engine-view div.CodeMirror-dragcursors {\r
     visibility: visible;\r
    \r
}\r
\r
.am-engine .CodeMirror-focused div.CodeMirror-cursors,\r
.am-engine-view .CodeMirror-focused div.CodeMirror-cursors {\r
     visibility: visible;\r
    \r
}\r
\r
.am-engine .CodeMirror-selected,\r
.am-engine-view .CodeMirror-selected {\r
     background: #e8e8e8;\r
    \r
}\r
\r
.am-engine .CodeMirror-focused .CodeMirror-selected,\r
.am-engine-view .CodeMirror-focused .CodeMirror-selected {\r
     background: #b3d7fd;\r
    \r
}\r
\r
.am-engine .CodeMirror-crosshair,\r
.am-engine-view .CodeMirror-crosshair {\r
     cursor: crosshair;\r
    \r
}\r
\r
.am-engine .CodeMirror-line::-moz-selection,\r
.am-engine-view .CodeMirror-line::-moz-selection,\r
.am-engine .CodeMirror-line>span::-moz-selection,\r
.am-engine-view .CodeMirror-line>span::-moz-selection,\r
.am-engine .CodeMirror-line>span>span::-moz-selection,\r
.am-engine-view .CodeMirror-line>span>span::-moz-selection {\r
     background: #b3d7fd;\r
    \r
}\r
\r
.am-engine .CodeMirror-line::selection,\r
.am-engine-view .CodeMirror-line::selection,\r
.am-engine .CodeMirror-line>span::selection,\r
.am-engine-view .CodeMirror-line>span::selection,\r
.am-engine .CodeMirror-line>span>span::selection,\r
.am-engine-view .CodeMirror-line>span>span::selection {\r
     background: #b3d7fd;\r
    \r
}\r
\r
.am-engine .CodeMirror-line::-moz-selection,\r
.am-engine-view .CodeMirror-line::-moz-selection,\r
.am-engine .CodeMirror-line>span::-moz-selection,\r
.am-engine-view .CodeMirror-line>span::-moz-selection,\r
.am-engine .CodeMirror-line>span>span::-moz-selection,\r
.am-engine-view .CodeMirror-line>span>span::-moz-selection {\r
     background: #b3d7fd;\r
    \r
}\r
\r
.am-engine .cm-searching,\r
.am-engine-view .cm-searching {\r
     background-color: #ffa;\r
     background-color: rgba(255, 255, 0, 0.4);\r
    \r
}\r
\r
.am-engine .cm-force-border,\r
.am-engine-view .cm-force-border {\r
     padding-right: 0.1px;\r
    \r
}\r
\r
@media print {\r
\r
    /* .am-engine,\r
     .am-engine-view { */\r
        \r
        /* Hide the cursor when printing */\r
        \r
    /* } */\r
\r
     .am-engine .CodeMirror div.CodeMirror-cursors,\r
     .am-engine-view .CodeMirror div.CodeMirror-cursors {\r
         visibility: hidden;\r
        \r
    }\r
\r
    \r
}\r
\r
.am-engine .cm-tab-wrap-hack:after,\r
.am-engine-view .cm-tab-wrap-hack:after {\r
     content: '';\r
    \r
}\r
\r
.am-engine span.CodeMirror-selectedtext,\r
.am-engine-view span.CodeMirror-selectedtext {\r
     background: none;\r
    \r
}\r
\r
.am-engine-view .data-codeblock-container {\r
     margin: 5px 0;\r
    \r
}\r
\r
.am-content-editor .am-engine .data-codeblock-container .CodeMirror-lines {\r
    min-height: 40px;\r
}`;mn(On);var Rn=(0,S.Z)("modeNameMap"),Kn=(0,S.Z)("modeSynatxMap"),jn=(0,S.Z)("viewAutoWrap"),tr=function(mi){(0,m.Z)(Ar,mi);var oi=(0,p.Z)(Ar);function Ar(){var Fr;(0,U.Z)(this,Ar);for(var lr=arguments.length,Hr=new Array(lr),He=0;He<lr;He++)Hr[He]=arguments[He];return Fr=oi.call.apply(oi,[this].concat(Hr)),Fr.mirror=void 0,Fr.resize=function(){var kt;return(kt=Fr.codeEditor)===null||kt===void 0?void 0:kt.container.find(".data-codeblock-content")},Fr.codeEditor=void 0,Object.defineProperty((0,v.Z)(Fr),Rn,{writable:!0,value:{}}),Object.defineProperty((0,v.Z)(Fr),Kn,{writable:!0,value:{}}),Object.defineProperty((0,v.Z)(Fr),jn,{writable:!0,value:void 0}),Fr}return(0,x.Z)(Ar,[{key:"init",value:function(){var lr=this;if(!d.sk&&((0,M.Z)((0,D.Z)(Ar.prototype),"init",this).call(this),!this.codeEditor)){wn.forEach(function(He){(0,T.Z)(lr,Rn)[Rn][He.value]=He.name,(0,T.Z)(lr,Kn)[Kn][He.value]=He.syntax,He.alias&&He.alias.forEach(function(kt){(0,T.Z)(lr,Rn)[Rn][kt]=He.name,(0,T.Z)(lr,Kn)[Kn][kt]=He.syntax})});var Hr=this.editor;this.codeEditor=new Yt(Hr,{synatxMap:(0,T.Z)(this,Kn)[Kn],onSave:function(kt,Pn){var En=lr.getValue();kt===(En==null?void 0:En.mode)&&Pn===En.code||lr.setValue({mode:kt,code:Pn})},onMouseDown:function(kt){lr.activated||Hr.card.activate(lr.root,d.Fp.MOUSE_DOWN)},onUpFocus:function(kt){var Pn;if(!!(0,d.iC)(Hr)){kt.preventDefault();var En=Hr.change,Qn=Hr.card,Gn=En.range.get().cloneRange(),Li=lr.root.prev(),Yr=Li?Qn.find(Li):void 0;if(Yr!=null&&Yr.onSelectUp)Yr.onSelectUp(kt);else if(Li)Qn.focusPrevBlock(lr,Gn,!1),En.range.select(Gn);else{lr.focus(Gn,!0),En.range.select(Gn);return}lr.activate(!1),(Pn=lr.toolbarModel)===null||Pn===void 0||Pn.hide()}},onDownFocus:function(kt){var Pn;if(!!(0,d.iC)(Hr)){kt.preventDefault();var En=Hr.change,Qn=Hr.card,Gn=En.range.get().cloneRange(),Li=lr.root.next(),Yr=Li?Qn.find(Li):void 0;if(Yr!=null&&Yr.onSelectDown)Yr.onSelectDown(kt);else if(Li)Qn.focusNextBlock(lr,Gn,!1),En.range.select(Gn);else{lr.focus(Gn,!1),En.range.select(Gn);return}lr.activate(!1),(Pn=lr.toolbarModel)===null||Pn===void 0||Pn.hide()}},onLeftFocus:function(kt){var Pn;if(!!(0,d.iC)(Hr)){kt.preventDefault();var En=Hr.change,Qn=En.range.get().cloneRange();lr.focus(Qn,!0),En.range.select(Qn),lr.activate(!1),(Pn=lr.toolbarModel)===null||Pn===void 0||Pn.hide()}},onRightFocus:function(kt){var Pn;if(!!(0,d.iC)(Hr)){kt.preventDefault();var En=Hr.change,Qn=En.range.get().cloneRange();lr.focus(Qn,!1),En.range.select(Qn),lr.activate(!1),(Pn=lr.toolbarModel)===null||Pn===void 0||Pn.hide()}}})}}},{key:"toolbar",value:function(){var lr=this,Hr,He=this.editor,kt=function(){return lr.loading?[]:!(0,d.iC)(He)||He.readonly?[{key:"copy",type:"copy"},{key:"autoWrap",type:"switch",content:He.language.get(Ar.cardName,"autoWrap"),getState:function(){if((0,T.Z)(lr,jn)[jn]===void 0){var Gn;(0,T.Z)(lr,jn)[jn]=!!(!((Gn=lr.getValue())===null||Gn===void 0)&&Gn.autoWrap)}return(0,T.Z)(lr,jn)[jn]},onClick:function(){var Gn,Li=!(0,T.Z)(lr,jn)[jn];(0,T.Z)(lr,jn)[jn]=Li,(Gn=lr.codeEditor)===null||Gn===void 0||Gn.setAutoWrap(Li)}}]:[{key:"dnd",type:"dnd"},{key:"copy",type:"copy"},{key:"delete",type:"delete"},{key:"select",type:"node",node:(0,d.$)("<div />"),didMount:function(Gn){setTimeout(function(){Dn(Gn.get(),lr.constructor.getModes(),(0,T.Z)(lr,Rn)[Rn][lr.codeEditor.mode]||lr.codeEditor.mode||"plain",function(Li){var Yr;(Yr=lr.codeEditor)===null||Yr===void 0||Yr.update(Li),setTimeout(function(){var Bi;(Bi=lr.codeEditor)===null||Bi===void 0||Bi.focus()},10)})},100)}},{key:"autoWrap",type:"switch",content:He.language.get(Ar.cardName,"autoWrap"),getState:function(){var Gn;return!!(!((Gn=lr.getValue())===null||Gn===void 0)&&Gn.autoWrap)},onClick:function(){var Gn,Li=lr.getValue(),Yr=!(Li!=null&&Li.autoWrap);lr.setValue({autoWrap:Yr}),(Gn=lr.codeEditor)===null||Gn===void 0||Gn.setAutoWrap(Yr)}}]},Pn=(Hr=He.plugin.findPlugin("codeblock"))===null||Hr===void 0?void 0:Hr.options;return Pn!=null&&Pn.cardToolbars?Pn.cardToolbars(kt(),this.editor):kt()}},{key:"focusEditor",value:function(){var lr;(lr=this.codeEditor)===null||lr===void 0||lr.focus(),this.editor.card.activate(this.root)}},{key:"onSelectLeft",value:function(lr){var Hr;!this.codeEditor||(lr.preventDefault(),this.codeEditor.select(!1),this.activate(!0),(Hr=this.toolbarModel)===null||Hr===void 0||Hr.show())}},{key:"onSelectRight",value:function(lr){var Hr;!this.codeEditor||(lr.preventDefault(),this.codeEditor.select(!0),this.activate(!0),(Hr=this.toolbarModel)===null||Hr===void 0||Hr.show())}},{key:"onSelectDown",value:function(lr){var Hr;!this.codeEditor||(lr.preventDefault(),this.codeEditor.select(!0),this.activate(!0),(Hr=this.toolbarModel)===null||Hr===void 0||Hr.show())}},{key:"onSelectUp",value:function(lr){var Hr;!this.codeEditor||(lr.preventDefault(),this.codeEditor.select(!1),this.activate(!0),(Hr=this.toolbarModel)===null||Hr===void 0||Hr.show())}},{key:"render",value:function(){if(!!this.codeEditor){this.codeEditor.container.inEditor()||(this.codeEditor.container=(0,d.$)(this.codeEditor.renderTemplate()),this.mirror=void 0,this.getCenter().empty().append(this.codeEditor.container));var lr=this.getValue(),Hr=(lr==null?void 0:lr.mode)||"plain",He=(lr==null?void 0:lr.code)||"";if((0,d.iC)(this.editor)){var kt;if(this.mirror){this.codeEditor.update(Hr,He),this.codeEditor.setAutoWrap(!!(lr!=null&&lr.autoWrap));return}this.mirror=(kt=this.codeEditor)===null||kt===void 0?void 0:kt.create(Hr,He,{lineWrapping:!!(lr!=null&&lr.autoWrap)})}else{var Pn;(Pn=this.codeEditor)===null||Pn===void 0||Pn.create(Hr,He,{lineWrapping:!!(lr!=null&&lr.autoWrap)})}}}}],[{key:"cardName",get:function(){return"codeblock"}},{key:"cardType",get:function(){return d.eT.BLOCK}},{key:"autoSelected",get:function(){return!1}},{key:"singleSelectable",get:function(){return!1}},{key:"lazyRender",get:function(){return!0}},{key:"getModes",value:function(){return wn}}]),Ar}(d.Zb),cr={codeblock:{autoWrap:"Auto Wrap"}},ar={codeblock:{autoWrap:"\u81EA\u52A8\u6362\u884C"}},Zn={"en-US":cr,"zh-CN":ar},Un="data-syntax",yi="parse:html",gi="paste:schema",Xr="paste:each",Vn="markdown-it",ci=function(mi){(0,m.Z)(Ar,mi);var oi=(0,p.Z)(Ar);function Ar(){var Fr;(0,U.Z)(this,Ar);for(var lr=arguments.length,Hr=new Array(lr),He=0;He<lr;He++)Hr[He]=arguments[He];return Fr=oi.call.apply(oi,[this].concat(Hr)),Fr.markdownIt=function(kt){Fr.options.markdown!==!1&&(kt.enable("code"),kt.enable("fence"))},Fr.pasteSchema=function(kt){var Pn,En,Qn;kt.add([{type:"block",name:"pre",attributes:(Pn={},(0,O.Z)(Pn,Un,"*"),(0,O.Z)(Pn,"class","*"),(0,O.Z)(Pn,"language","*"),(0,O.Z)(Pn,"auto-wrap","*"),Pn)},{type:"block",name:"code",attributes:(En={},(0,O.Z)(En,Un,{required:!0,value:"*"}),(0,O.Z)(En,"auto-wrap","*"),En)},{type:"block",name:"code",attributes:{language:{required:!0,value:"*"}}},{type:"block",name:"code",attributes:{class:{required:!0,value:function(Li){return Li.includes("language")}}},allowIn:["pre","$root"]},{type:"block",name:"div",attributes:(Qn={},(0,O.Z)(Qn,Un,{required:!0,value:"*"}),(0,O.Z)(Qn,"auto-wrap","*"),Qn)}])},Fr.pasteHtml=function(kt){var Pn,En=Fr.editor;if(!(!(0,d.iC)(En)||kt.isText())){if(((Pn=kt.get())===null||Pn===void 0?void 0:Pn.hasAttribute(Un))||kt.name==="pre"){var Qn=kt.attributes(Un);if(!Qn){var Gn=function(bi){var Ma,Ya=bi==null||(Ma=bi.get())===null||Ma===void 0?void 0:Ma.classList;if(!!Ya)for(var Io=0;Io<Ya.length;Io++){var eo=Ya.item(Io);if(eo&&eo.startsWith("language-")){var Do=eo.split("-");return Do.shift(),Do.join("-")}}};kt.name==="pre"&&(Qn=kt.attributes("language"),Qn||(Qn=Gn(kt)));var Li=kt.find("code");!Qn&&Li.length>0&&(Qn=Li.attributes(Un)||Li.attributes("language"),Qn||(Qn=Gn(Li)))}var Yr=new d._b(kt,En).toText(void 0,void 0,!1);return Yr=(0,d.AK)(Yr.replace(/\u200b/g,"")),Yr.endsWith(`
`)&&(Yr=Yr.slice(0,-1)),En.card.replaceNode(kt,"codeblock",{mode:Qn||"plain",code:Yr,autoWrap:kt.attributes("auto-wrap")==="true"}),kt.remove(),!1}return!0}},Fr.parseHtml=function(kt,Pn){var En=[],Qn={};tr.getModes().forEach(function(bi){Qn[bi.value]=bi.syntax});var Gn=Fr.editor,Li=new Yt(Gn,{synatxMap:Qn,styleMap:Fr.options.styleMap}),Yr="data-codeblock-content",Bi=Li.container.find(".".concat(Yr));return Bi.css({border:"1px solid #e8e8e8",padding:"8px"}),Bi.addClass(d.S),Bi.css("background","#f9f9f9"),kt.find("[".concat(d.Jr,'="').concat(tr.cardName,'"],[').concat(d.mV,'="').concat(tr.cardName,'"]')).each(function(bi){var Ma=(0,d.$)(bi),Ya=Gn.card.find(Ma),Io=(Ya==null?void 0:Ya.getValue())||(0,d.RW)(Ma.attributes(d.TM));if(Io){Ma.empty(),Bi.empty(),Li.render(Io.mode||"plain",Io.code||"");var eo=Bi.clone(!0);Ma.append(eo),Ma.removeAttributes(d.Jr),Ma.removeAttributes(d.W9),Ma.removeAttributes(d.TM),Ma.attributes(Un,Io.mode||"plain"),Ma.attributes("auto-wrap",Io.autoWrap?"true":"false"),eo.removeClass(d.S).removeClass(Yr);var Do=Ma;Pn&&(Do=Pn(Ma,Io),Ma.replaceWith(Do)),En.push(Do)}else Ma.remove()}),Li.destroy(),En},Fr}return(0,x.Z)(Ar,[{key:"init",value:function(){var lr=this.editor;lr.language.add(Zn),lr.on(yi,this.parseHtml),lr.on(gi,this.pasteSchema),lr.on(Xr,this.pasteHtml),(0,d.iC)(lr)&&lr.on(Vn,this.markdownIt)}},{key:"execute",value:function(lr,Hr){var He=this.editor;if(!!(0,d.iC)(He)){var kt=He.card;if(!Hr){var Pn=He.getSelectionData();Pn&&(Hr=Pn.text)}var En=kt.insert(tr.cardName,{mode:lr,code:Hr});setTimeout(function(){En.focusEditor()},200)}}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"destroy",value:function(){var lr=this.editor;lr.off(yi,this.parseHtml),lr.off(gi,this.pasteSchema),lr.off(Xr,this.pasteHtml),(0,d.iC)(lr)&&lr.off(Vn,this.markdownIt)}}],[{key:"pluginName",get:function(){return"codeblock"}}]),Ar}(d.Sy);Ce.Z=ci},87803:function(ut,Ce,f){"use strict";f.d(Ce,{m:function(){return q}});var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=f(75782),v=f(60790),M=f(34203),D=f(29129),T=f(85462),S=f(11997);function g(je,dt){dt===void 0&&(dt={});var Qe=dt.insertAt;if(!(!je||typeof document=="undefined")){var lt=document.head||document.getElementsByTagName("head")[0],Te=document.createElement("style");Te.type="text/css",Qe==="top"&&lt.firstChild?lt.insertBefore(Te,lt.firstChild):lt.appendChild(Te),Te.styleSheet?Te.styleSheet.cssText=je:Te.appendChild(document.createTextNode(je))}}var z=`.data-embed-form {
    position: relative;
    border-radius: 2px;
    border: 1px solid #e8e8e8;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 8px;
}

.data-embed-icon {
   flex: 1 0;
}

.data-embed-editor {
   flex: 1 0;
}

.data-embed-input {
    border: 0;
    height: 32px;
    line-height: 32px;
    font-size: 14px;
    outline: none;
    width: 100%;
}

.data-embed-button {
   margin-left: 12px;
}

.data-embed-ui-button {
    line-height: 1.499;
    display: inline-block;
    font-weight: 400;
    text-align: center;
    cursor: pointer;
    white-space: nowrap;
    padding: 0 15px;
    font-size: 14px;
    border-radius: 4px;
    height: 30px;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    transition: all .3s cubic-bezier(.645,.045,.355,1);
    position: relative;
    box-shadow: 0 2px 0 rgba(0,0,0,.015);
    color: rgba(0,0,0,.65);
    background-color: #fff;
    color: #fff;
    background-color: #347eff;
    border: 1px solid #347eff;
    text-shadow: 0 -1px 0 rgba(0,0,0,.12);
    outline: 0
}

.data-embed-ui-button:hover {
    background-color: #466fb6;
    border-color: #466fb6
}

.data-embed-collapse, .data-embed-header {
    background: #fafafa;
    position: relative;
    border-radius: 2px;
    border: 1px solid #e8e8e8;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 8px;
}

.data-embed-collapse a, .data-embed-header a {
    color: rgba(0,0,0,.65);
}

.data-embed-collapse a:hover, .data-embed-header a:hover {
    color: #347eff;
}

.data-embed-title {
    flex: 1 0;
    margin: 0 8px;
}

.data-embed .data-embed-spin {
    display: inline-block;
    -webkit-animation: loadingCircle 1s infinite linear;
    animation: loadingCircle 1s infinite linear;
}
.data-embed .data-embed-mask {
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    height: 100%;
    z-index: 3;
    display: block;
    transition: all .3s cubic-bezier(.3,1.2,.2,1)
}

.data-embed .data-embed-mask:hover {
    cursor: pointer
}

.data-embed-content-bg {
    width: 80px;
    height: 80px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -40px;
    margin-left: -40px;
    text-align: center;
    line-height: 80px;
    color: #666;
    font-size: 36px;
    z-index: 1;
    visibility: visible;
    opacity: 1;
    transition: all .3s linear;
    -webkit-animation: loading .8s linear infinite;
            animation: loading .8s linear infinite
}

.data-embed-header {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

.data-embed-body {
    border: 1px solid #e8e8e8;
    border-top: 0;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.data-embed-body iframe {
    padding: 0;
    margin: 0;
    width: 100%;
    height: 100%;
    position: relative;
    z-index: 2;
}`;g(z);var E=(0,S.Z)("mask"),Y=(0,S.Z)("iframe"),q=function(je){(0,x.Z)(Qe,je);var dt=(0,m.Z)(Qe);function Qe(){var lt,Te;(0,O.Z)(this,Qe);for(var Je=arguments.length,te=new Array(Je),fe=0;fe<Je;fe++)te[fe]=arguments[fe];return Te=dt.call.apply(dt,[this].concat(te)),Te.renderBefore=void 0,Object.defineProperty((0,v.Z)(Te),E,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(Te),Y,{writable:!0,value:void 0}),Te.resize=function(){var ue,ae=Te.getValue();if(!!(ae!=null&&ae.isResize))return(ue=(0,T.Z)((0,v.Z)(Te),Y)[Y])===null||ue===void 0?void 0:ue.parent()},Te.handleSubmit=function(){var ue,ae=Te.editor,de=ae.language.get("embed"),ve=Te.getCenter(),J=(0,p.Nm)(((ue=ve.find('[data-role="url"]').get())===null||ue===void 0?void 0:ue.value)||"");if(J){var X={url:J,title:J,ico:'<span class="data-icon data-icon-website"></span>',isResize:!0};if(Te.renderBefore){var K=Te.renderBefore(J);X=(0,d.Z)((0,d.Z)({},X),K)}Te.setValue(X),Te.render(),(0,M.Z)((lt=(0,v.Z)(Te),(0,D.Z)(Qe.prototype)),"didRender",lt).call(lt)}else ae.messageError("embed",de.addressInvalid)},Te}return(0,U.Z)(Qe,[{key:"onActivate",value:function(Te){var Je,te;(0,M.Z)((0,D.Z)(Qe.prototype),"onActivate",this).call(this,Te),Te?(Je=(0,T.Z)(this,E)[E])===null||Je===void 0||Je.hide():(0,p.iC)(this.editor)&&((te=(0,T.Z)(this,E)[E])===null||te===void 0||te.show())}},{key:"collapse",value:function(){var Te=this.getValue();Te!=null&&Te.collapsed||(this.setValue({collapsed:!0}),this.render(),(0,M.Z)((0,D.Z)(Qe.prototype),"didRender",this).call(this))}},{key:"expand",value:function(){var Te=this.getValue();!(Te!=null&&Te.collapsed)||(this.setValue({collapsed:!1}),this.render(),(0,M.Z)((0,D.Z)(Qe.prototype),"didRender",this).call(this))}},{key:"toolbar",value:function(){var Te=this,Je,te=this.editor,fe=function(){if((0,p.iC)(te)){var de=[],ve=Te.getValue();return ve!=null&&ve.url&&de.push({key:"expand",type:"button",content:'<span class="data-icon data-icon-expand" />',title:te.language.get("embed","expand"),onClick:function(){return Te.expand()}},{key:"collapse",type:"button",content:'<span class="data-icon data-icon-compact-display" />',title:te.language.get("embed","collapse"),onClick:function(){return Te.collapse()}}),te.readonly||de.unshift({key:"dnd",type:"dnd"},{key:"copy",type:"copy"},{key:"delete",type:"delete"},{key:"separator",type:"separator"}),de}return[]},ue=(Je=te.plugin.findPlugin("embed"))===null||Je===void 0?void 0:Je.options;return ue!=null&&ue.cardToolbars?ue.cardToolbars(fe(),this.editor):fe()}},{key:"handleInputKeydown",value:function(Te){(0,p.P6)("enter",Te)&&this.handleSubmit()}},{key:"renderEdit",value:function(Te){var Je=this,te=this.editor.language.get("embed"),fe=(0,p.$)(`<div class="data-embed data-embed-active">
                <div class="data-embed-form">
                    <span class="data-embed-editor">
                        <input data-role="url" placeholder="`.concat(Te||te.placeholder,`" spellcheck="false" class="data-embed-input" value="" autocomplete="off"/>
                    </span>
                    <span class="data-embed-button">
                        <button type="button" class="data-embed-ui-button" data-role="submit">
                            <span>`).concat(te.submit,`</span>
                        </button>
                    </span>
                </div>
            </div>`)),ue=fe.find('[data-role="url"]');ue.on("keydown",function(de){return Je.handleInputKeydown(de)});var ae=fe.find('[data-role="submit"]');return ae.on("click",this.handleSubmit),fe}},{key:"renderCollapse",value:function(){var Te=this.getValue(),Je=(Te==null?void 0:Te.url)||"",te=`<div class="data-embed data-embed-collapse">
            <span class="data-embed-ico">`.concat(Te==null?void 0:Te.ico,`</span>
            <span class="data-embed-title"><a target="_blank" href="`).concat(Je,'">').concat((0,p.YU)((Te==null?void 0:Te.title)||""),`</a></span>
            <a target="_blank" class="data-icon data-icon-preview" href="`).concat(Je,`" />
        </div>
        `);return(0,p.$)(te)}},{key:"renderExpand",value:function(){var Te=this.getValue(),Je=(Te==null?void 0:Te.url)||"",te=(Te==null?void 0:Te.height)||"auto",fe=(0,p.$)(`
            <div class="data-embed data-embed-expand">
                <div class="data-embed-header">
                    `.concat(Te==null?void 0:Te.ico,`
                    <span class="data-embed-title"><a target="_blank" href="`).concat(Je,'">').concat((0,p.YU)((Te==null?void 0:Te.title)||""),`</a></span>
                    <a target="_blank" class="data-icon data-icon-preview" href="`).concat(Je,`"></a>
                </div>
                <div class="data-embed-body" style="height:`).concat(te).concat(te==="auto"?"":"px",`">
                    <div class="data-embed-content-bg">
                        <svg viewBox="0 0 1024 1024" class="data-embed-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"> <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg>
                    </div>
                    <iframe frameborder="0" allowfullscreen="true"></iframe>
                    <div class="data-embed-mask"></div>
                </div>
            </div>
        `)),ue=fe.find("iframe");return ue.on("load",function(){fe.find(".data-embed-content-bg").hide()}),(0,T.Z)(this,E)[E]=fe.find(".data-embed-mask"),this.activated&&(0,T.Z)(this,E)[E].hide(),Te!=null&&Te.height&&ue.attributes("data-height",Te.height),ue.attributes("src",Je),(0,T.Z)(this,Y)[Y]=ue,fe}},{key:"render",value:function(Te){this.renderBefore=Te;var Je=this.getValue(),te=(Je==null?void 0:Je.url)||"",fe=this.getCenter();if(fe.empty(),!te||!Je){fe.append(this.renderEdit());return}Je.collapsed?fe.append(this.renderCollapse()):fe.append(this.renderExpand())}}],[{key:"cardName",get:function(){return"embed"}},{key:"cardType",get:function(){return p.eT.BLOCK}},{key:"lazyRender",get:function(){return!0}},{key:"singleSelectable",get:function(){return!1}},{key:"autoSelected",get:function(){return!1}}]),Qe}(p.Zb),j={embed:{placeholder:"Please paste the link here",submit:"submit",addressInvalid:"Link error, please check and re-enter",validUrl:"Illegal link, can't be embedded",canNotShowCard:"Card cannot be displayed",expand:"Expand",collapse:"Collapse"}},le={embed:{placeholder:"\u8BF7\u5728\u6B64\u7C98\u8D34\u94FE\u63A5",submit:"\u786E\u5B9A",addressInvalid:"\u94FE\u63A5\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u65B0\u8F93\u5165",validUrl:"\u975E\u6CD5\u94FE\u63A5\uFF0C\u65E0\u6CD5\u5D4C\u5165",canNotShowCard:"Card\u65E0\u6CD5\u5C55\u793A",expand:"\u5D4C\u5165\u9884\u89C8",collapse:"\u7D27\u51D1\u5C55\u793A"}},ce={"en-US":j,"zh-CN":le},se="parse:html",ne="paste:schema",De="paste:each",we=function(je){(0,x.Z)(Qe,je);var dt=(0,m.Z)(Qe);function Qe(){var lt;(0,O.Z)(this,Qe);for(var Te=arguments.length,Je=new Array(Te),te=0;te<Te;te++)Je[te]=arguments[te];return lt=dt.call.apply(dt,[this].concat(Je)),lt.pasteSchema=function(fe){fe.add({type:"block",name:"div",attributes:{"data-type":{required:!0,value:q.cardName},"data-value":"*"}})},lt.pasteHtml=function(fe){var ue=lt.editor;if(!!(0,p.iC)(ue)){if(fe.isElement()){var ae=fe.attributes(),de=ae["data-type"];if(de&&de===q.cardName){var ve=ae["data-value"],J=(0,p.RW)(ve);return J.url?(ue.card.replaceNode(fe,q.cardName,J),fe.remove(),!1):void 0}}return!0}},lt.parseHtml=function(fe,ue){var ae=[];return fe.find("[".concat(p.Jr,'="').concat(q.cardName,'"],[').concat(p.mV,'="').concat(q.cardName,'"]')).each(function(de){var ve=(0,p.$)(de),J=lt.editor.card.find(ve),X=(J==null?void 0:J.getValue())||(0,p.RW)(ve.attributes(p.TM));if(X&&X.url){var K=(0,p.$)('<iframe frameborder="0" allowfullscreen="true" style="height: '.concat(X==null?void 0:X.height,'px;width: 100%;margin:0;padding:0;"></iframe>'));ve.empty();var ze=(X==null?void 0:X.url)||"",Ze=(0,p.$)(`<div style="background: #fafafa;border-bottom-left-radius: 0; border-bottom-right-radius: 0;position: relative;border-radius: 2px;border: 1px solid #e8e8e8;display: flex;justify-content: space-between;align-items: center;padding: 4px 8px;">
               		<span style="flex: 1 0;;margin: 0 8px;"><a target="_blank" href="`.concat(ze,'">').concat((0,p.YU)(X.title||""),`</a></span>
                </div>`)),We=(0,p.$)('<div data-type="'.concat(q.cardName,'" data-value="').concat((0,p.it)(X),'"></span>'));K.attributes("src",ze),We.append(Ze);var ye=(0,p.$)('<div style="border: 1px solid #e8e8e8; border-top: 0; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px;"></div>');ye.append(K),X.collapsed||We.append(ye),ue&&(We=ue(We,X)),ve.replaceWith(We),ae.push(We)}else ve.remove()}),ae},lt}return(0,U.Z)(Qe,[{key:"init",value:function(){var Te=this.editor;Te.language.add(ce),Te.on(se,this.parseHtml),Te.on(ne,this.pasteSchema),Te.on(De,this.pasteHtml)}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"execute",value:function(){var Te=this.options.renderBefore,Je=this.editor.card,te=Je.insert(q.cardName,{url:(arguments.length<=0?void 0:arguments[0])||"",ico:arguments.length<=1?void 0:arguments[1],title:arguments.length<=2?void 0:arguments[2],collapsed:arguments.length<=3?void 0:arguments[3],isResize:arguments.length<=4?void 0:arguments[4]},Te);Je.activate(te.root)}},{key:"destroy",value:function(){var Te=this.editor;Te.off(se,this.parseHtml),Te.off(ne,this.pasteSchema),Te.off(De,this.pasteHtml)}}],[{key:"pluginName",get:function(){return"embed"}}]),Qe}(p.Sy);Ce.Z=we},95230:function(ut,Ce,f){"use strict";f.d(Ce,{Pw:function(){return q},bA:function(){return se}});var O=f(78450),U=f(40936),x=f(49962),m=f(65782),p=f(64655),d=f(6534),v=f.n(d),M=f(62998),D=f(60790),T=f(34203),S=f(29129),g=f(26143),z=f(75782);function E(Te,Je){Je===void 0&&(Je={});var te=Je.insertAt;if(!(!Te||typeof document=="undefined")){var fe=document.head||document.getElementsByTagName("head")[0],ue=document.createElement("style");ue.type="text/css",te==="top"&&fe.firstChild?fe.insertBefore(ue,fe.firstChild):fe.appendChild(ue),ue.styleSheet?ue.styleSheet.cssText=Te:ue.appendChild(document.createTextNode(Te))}}var Y=`.data-file {\r
    display: flex;\r
    height: 24px;\r
    line-height: 24px;\r
    cursor: pointer;\r
    white-space: nowrap;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
  }\r
  .data-file .data-file-icon {\r
    flex: auto;\r
    width: 24px;\r
    height: 24px;\r
    font-size: 16px;\r
    text-align: center;\r
  }\r
  .data-file .data-file-title {\r
    flex: auto;\r
    font-size: 14px;\r
    margin-right: 4px;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
  }\r
  .data-file .data-file-size {\r
    flex: auto;\r
    font-size: 12px;\r
  }\r
  .data-file-done {\r
    color: #096DD9;\r
  }\r
  .data-file-uploading,\r
  .data-file-error {\r
    color: #595959;\r
  }\r
  .data-file-uploading .data-file-size,\r
  .data-file-error .data-file-size {\r
    color: #8C8C8C;\r
  }\r
  .data-file-error {\r
    padding: 2px 4px;\r
    background: #f5f5f5;\r
    display: flex;\r
    border-radius: 4px;\r
    max-width: 200px;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
    white-space: nowrap;\r
    font-size: 12px;\r
    align-items: center;\r
    -webkit-user-select: none;\r
       -moz-user-select: none;\r
            user-select: none;\r
    cursor: pointer;\r
}\r
\r
.am-engine [data-card-key="file"].card-selected [data-card-element=center].data-card-background-selected {\r
    border-radius: 4px;\r
}\r
\r
.data-file-error .data-icon {\r
    font-size: 12px;\r
}\r
\r
.data-file-error .data-icon-error {\r
    color: red;\r
    margin-right: 8px;\r
}\r
\r
.data-file-error .data-icon-copy {\r
    margin-left: 8px;\r
    cursor: pointer;\r
}`;E(Y);var q=function(Te){(0,m.Z)(te,Te);var Je=(0,p.Z)(te);function te(){var fe,ue;(0,U.Z)(this,te);for(var ae=arguments.length,de=new Array(ae),ve=0;ve<ae;ve++)de[ve]=arguments[ve];return ue=Je.call.apply(Je,[this].concat(de)),ue.container=void 0,ue.getMaxWidth=function(){var J,X=ue.editor.block.closest(ue.root),K=ue.root.find(".data-file-size");return X.get().clientWidth-36-((K==null||(J=K.get())===null||J===void 0?void 0:J.clientWidth)||0)},ue.onWindowResize=function(){ue.updateMaxWidth()},ue.updateMaxWidth=function(){var J=ue.getMaxWidth();ue.root.find(".data-file-title").css("max-width",Math.max(J,0)+"px")},ue.onBeforeRender=function(J,X){var K=ue.editor.plugin.findPlugin("file");if(K){var ze=K.options||{},Ze=ze.onBeforeRender;if(Ze)return Ze(J,X,ue.editor)}return X},ue.destroy=function(){(0,T.Z)((fe=(0,D.Z)(ue),(0,S.Z)(te.prototype)),"destroy",fe).call(fe),ue.container=void 0,window.removeEventListener("resize",ue.onWindowResize),ue.editor.off("editor:resize",ue.onWindowResize)},ue}return(0,x.Z)(te,[{key:"getLocales",value:function(){return this.editor.language.get("file")}},{key:"toolbar",value:function(){var ue,ae,de=this,ve=this.editor,J=(ue=(ae=ve.plugin.findPlugin("file"))===null||ae===void 0?void 0:ae.options)!==null&&ue!==void 0?ue:{},X=function(){var ze=[],Ze=de.getValue();if(!Ze)return ze;var We=Ze.status,ye=Ze.preview,Ie=Ze.download,Ue=de.getLocales();if(We==="done"){if(ye){var Ye=function(){J.onPreview&&J.onPreview(ye,Ze)};ze.push({key:"preview",type:"button",content:'<span class="data-icon data-icon-preview" />',title:Ue.preview,link:J.onPreview?void 0:(0,M.Nm)(de.onBeforeRender("preview",ye)),onClick:J.onPreview?Ye:void 0})}if(Ie){var Ae=function(){J.onDownload&&J.onDownload(Ie,Ze)};ze.push({key:"download",type:"button",content:'<span class="data-icon data-icon-download" />',title:Ue.download,link:J.onDownload?void 0:(0,M.Nm)(de.onBeforeRender("download",Ie)),onClick:J.onDownload?Ae:void 0})}!(!(0,M.iC)(ve)||ve.readonly)&&ze.length>0&&ze.push({key:"separator",type:"separator"})}return!(0,M.iC)(ve)||ve.readonly||ze.push({key:"delete",type:"delete"}),ze};return J!=null&&J.cardToolbars?J.cardToolbars(X(),this.editor):X()}},{key:"renderTemplate",value:function(ue){var ae=ue.name,de=ue.status,ve=ue.message,J=ue.percent,X=ue.size,K=this.getLocales();if(de==="error")return'<span class="data-file-error"><span class="data-icon data-icon-error"></span>'.concat(ve||K.loadError,'<span class="data-icon data-icon-copy"></span></span>');var ze='<span class="data-icon data-icon-attachment"></span>';de==="uploading"&&(ze=`<i class="data-anticon">
                        <svg viewBox="0 0 1024 1024" class="data-anticon-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true">
                            <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path>
                        </svg>
                    </i>
                    `);var Ze="",We=X?(0,M.hR)(X):"";We&&(Ze='<span class="data-file-size">('.concat((0,M.YU)(We),")</span>"));var ye="";return de==="uploading"&&(ye='<span class="percent">'.concat(J||0,"%</span>")),`
        <a class="data-file data-file-`.concat(de,`">
            <span class="data-file-icon">`).concat(ze,`</span>
            `).concat(ye,`
            <span class="data-file-title">`).concat((0,M.YU)(ae),`</span>
            `).concat(Ze,`
        </a>
        `)}},{key:"bindErrorEvent",value:function(ue){var ae=this,de=this.editor,ve=ue.find(".data-icon-copy");ve.on("mouseenter",function(){M.u.show(ve,de.language.get("image","errorMessageCopy").toString())}),ve.on("mouseleave",function(){M.u.hide()}),ve.on("click",function(J){var X;J.stopPropagation(),J.preventDefault(),M.u.hide(),de.clipboard.copy(((X=ae.getValue())===null||X===void 0?void 0:X.message)||"Error message"),de.messageSuccess("copy",de.language.get("copy","success").toString())})}},{key:"setProgressPercent",value:function(ue){var ae;(ae=this.container)===null||ae===void 0||ae.find(".percent").html("".concat(ue,"%")),this.setValue({percent:ue})}},{key:"onActivate",value:function(ue){var ae,de;ue?(ae=this.container)===null||ae===void 0||ae.addClass("data-file-active"):(de=this.container)===null||de===void 0||de.removeClass("data-file-active")}},{key:"writeHistoryOnValueChange",value:function(){if(this.loading)return!1}},{key:"render",value:function(){var ue,ae=this.getValue();if(!!ae){!this.container||this.container.length===0?(this.container=(0,M.$)(this.renderTemplate(ae)),this.getCenter().empty().append(this.container)):this.container=this.getCenter().first();var de=this.editor;(0,M.iC)(de)?this.container.attributes("draggable","true"):this.renderView(),ae.status==="error"&&this.bindErrorEvent(this.root),(ue=this.container)===null||ue===void 0||ue.find(".percent").html("".concat(ae.percent,"%")),this.updateMaxWidth(),window.addEventListener("resize",this.onWindowResize),de.on("editor:resize",this.onWindowResize)}}},{key:"renderView",value:function(){var ue,ae,de=this.getValue(),ve=(ue=(ae=this.editor.plugin.findPlugin("file"))===null||ae===void 0?void 0:ae.options)!==null&&ue!==void 0?ue:{},J=(0,M.Nm)(this.onBeforeRender("download",de.download||""));if(ve.onDownload){var X;(X=this.container)===null||X===void 0||X.on("click",function(){ve.onDownload(J,de)})}else{var K,ze;(K=this.container)===null||K===void 0||K.attributes("target","_blank"),(ze=this.container)===null||ze===void 0||ze.attributes("href",J)}}},{key:"didUpdate",value:function(){var ue,ae,de,ve=this.getValue();ve.status==="done"&&(0,T.Z)((0,S.Z)(te.prototype),"didUpdate",this).call(this),(ue=this.toolbarModel)===null||ue===void 0||(ae=ue.getContainer())===null||ae===void 0||ae.remove(),(de=this.toolbarModel)===null||de===void 0||de.create()}}],[{key:"cardName",get:function(){return"file"}},{key:"cardType",get:function(){return M.eT.INLINE}},{key:"selectStyleType",get:function(){return M.dw.BACKGROUND}},{key:"autoSelected",get:function(){return!1}},{key:"collab",get:function(){return!1}}]),te}(M.Zb),j="drop:files",le="paste:event",ce="paste:each",se=function(Te){(0,m.Z)(te,Te);var Je=(0,p.Z)(te);function te(){var fe;(0,U.Z)(this,te);for(var ue=arguments.length,ae=new Array(ue),de=0;de<ue;de++)ae[de]=arguments[de];return fe=Je.call.apply(Je,[this].concat(ae)),fe.cardComponents={},fe.extensionNames={"*":"*"},fe.dropFiles=function(ve){var J=fe.editor;if(!!(0,M.iC)(J)&&(ve=ve.filter(function(X){return fe.isFile(X)}),ve.length!==0))return J.command.execute("file-uploader",ve),!1},fe.pasteFiles=function(ve){var J=ve.files,X=fe.editor;if(!!(0,M.iC)(X)&&(J=J.filter(function(K){return fe.isFile(K)}),J.length!==0))return X.command.execute("file-uploader",J.filter(function(K){return fe.isFile(K)}),J),!1},fe.pasteEach=function(ve){if(ve.isCard()&&ve.attributes(M.mV)){if(ve.attributes(M.mV)!=="file")return;var J=(0,M.RW)(ve.attributes(M.TM));if(!J||!J.url){ve.remove();return}J.status==="uploading"&&(J.percent=0,ve.attributes(M.TM,(0,M.it)((0,z.Z)((0,z.Z)({},J),{},{status:"done"}))));return}},fe}return(0,x.Z)(te,[{key:"init",value:function(){var ue,ae,de,ve=this.editor;(0,M.iC)(ve)&&(ve.on(j,this.dropFiles),ve.on(le,this.pasteFiles),ve.on(ce,this.pasteEach));var J=((ue=this.options)===null||ue===void 0?void 0:ue.accept)||((ae=this.options)===null||ae===void 0||(de=ae.file)===null||de===void 0?void 0:de.accept);if(typeof J=="string"&&(J=J.split(",")),Array.isArray(J)){var X=[];(J||[]).forEach(function(K){K=K.trim();var ze=K.split(".").pop();ze&&X.push(ze)}),X.length>0&&(this.extensionNames=X)}else(0,g.Z)(J)==="object"&&(this.extensionNames=J)}},{key:"isFile",value:function(ue){var ae,de=(ae=(0,M.Ym)(ue))!==null&&ae!==void 0?ae:"",ve=Array.isArray(this.extensionNames)?this.extensionNames:Object.keys(this.extensionNames);return ve.indexOf("*")>=0||ve.indexOf(de)>=0}},{key:"execute",value:function(){var fe=(0,O.Z)(v().mark(function ae(de){var ve=this,J,X,K,ze,Ze,We,ye,Ie,Ue,Ye,Ae,tt,it,Ve,et,wt,jt;return v().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(J=this.editor,(0,M.iC)(J)){bn.next=3;break}return bn.abrupt("return");case 3:if(X=J.request,K=J.card,ze=J.language,Ze=this.options,We=Ze.action,ye=Ze.type,Ie=Ze.contentType,Ue=Ze.multiple,Ye=Ze.crossOrigin,Ae=Ze.withCredentials,tt=Ze.headers,it=Ze.name,Ve=this.options.data,typeof Ve!="function"){bn.next=10;break}return bn.next=9,Ve();case 9:Ve=bn.sent;case 10:if(et=this.options.parse,wt=this.options.limitSize||5242880,Array.isArray(de)){bn.next=17;break}return jt=Array.isArray(this.extensionNames)?"."+this.extensionNames.join(",."):Object.values(this.extensionNames).join(","),bn.next=16,X.getFiles({event:de,accept:M.Dt?"*":jt.length>0?jt:"",multiple:Ue});case 16:de=bn.sent;case 17:if(de.length!==0){bn.next=19;break}return bn.abrupt("return");case 19:return X.upload({url:We,data:Ve,type:ye,contentType:Ie,crossOrigin:Ye,withCredentials:Ae,headers:tt,onBefore:function(Mt){return Mt.size>wt?(J.messageError("upload-limit",ze.get("file","uploadLimitError").toString().replace("$size",(wt/1024/1024).toFixed(0)+"M")),!1):!0},onReady:function(Mt){if(!(!(0,M.iC)(J)||!!ve.cardComponents[Mt.uid])){var _t=K.insert("file",{status:"uploading",name:Mt.name,size:Mt.size});ve.cardComponents[Mt.uid]=_t}},onUploading:function(Mt,_t){var Jt=_t.percent,Me=ve.cardComponents[Mt.uid||""];!Me||Me.setProgressPercent(Jt)},onSuccess:function(Mt,_t){var Jt=ve.cardComponents[_t.uid||""];if(!!Jt){var Me=Mt.url||Mt.data&&Mt.data.url,yn=Mt.preview||Mt.data&&Mt.data.preview,Wt=Mt.download||Mt.data&&Mt.data.download,xn={result:!0,data:{status:"done",url:Me,preview:yn,download:Wt}};if(et){var Nn=et(Mt);if(Nn.result){var Cr=xn.data;typeof Nn.data=="string"?xn.data=(0,z.Z)((0,z.Z)({},Cr),{},{url:Nn.data}):(Cr.url=Nn.data.url,Nn.data.status!==void 0&&(Cr=(0,z.Z)((0,z.Z)({},Cr),{},{status:Nn.data.status})),Nn.data.preview!==void 0&&(Cr=(0,z.Z)((0,z.Z)({},Cr),{},{preview:Nn.data.preview})),Nn.data.download!==void 0&&(Cr=(0,z.Z)((0,z.Z)({},Cr),{},{download:Nn.data.download})),xn.data=(0,z.Z)({},Cr))}else xn={result:!1,data:Nn.data.toString()}}else Me||(xn={result:!1,data:Mt.data});if(!xn.result)K.update(Jt.id,{status:"error",message:typeof xn.data=="string"?xn.data:ze.get("file","uploadError")});else{var jr=typeof xn.data=="string"?{url:xn.data}:(0,z.Z)({},xn.data);J.card.update(Jt.id,jr)}delete ve.cardComponents[_t.uid||""]}},onError:function(Mt,_t){var Jt=ve.cardComponents[_t.uid||""];!Jt||(K.update(Jt.id,{status:"error",message:Mt.message||ze.get("file","uploadError")}),delete ve.cardComponents[_t.uid||""])}},de,it),bn.abrupt("return");case 21:case"end":return bn.stop()}},ae,this)}));function ue(ae){return fe.apply(this,arguments)}return ue}()},{key:"destroy",value:function(){var ue=this.editor;(0,M.iC)(ue)&&(ue.off(j,this.dropFiles),ue.off(le,this.pasteFiles),ue.off(ce,this.pasteEach))}}],[{key:"pluginName",get:function(){return"file-uploader"}}]),te}(M.Sy),ne={file:{errorMessageCopy:"Copy error message",loadError:"The file failed to load!",uploadError:"The picture failed to upload!",uploadLimitError:"Upload file size is limited to $size",download:"Download",preview:"Preview"}},De={file:{errorMessageCopy:"\u590D\u5236\u9519\u8BEF\u4FE1\u606F",loadError:"\u6587\u4EF6\u52A0\u8F7D\u5931\u8D25\uFF01",uploadError:"\u4E0A\u4F20\u6587\u4EF6\u5931\u8D25\uFF01",uploadLimitError:"\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\u9650\u5236\u4E3A $size",download:"\u4E0B\u8F7D",preview:"\u9884\u89C8"}},we={"en-US":ne,"zh-CN":De},je="parse:html",dt="paste:schema",Qe="paste:each",lt=function(Te){(0,m.Z)(te,Te);var Je=(0,p.Z)(te);function te(){var fe;(0,U.Z)(this,te);for(var ue=arguments.length,ae=new Array(ue),de=0;de<ue;de++)ae[de]=arguments[de];return fe=Je.call.apply(Je,[this].concat(ae)),fe.pasteSchema=function(ve){ve.add({type:"inline",name:"span",attributes:{"data-type":{required:!0,value:q.cardName},"data-value":"*"}})},fe.pasteHtml=function(ve){var J=fe.editor;if(!!(0,M.iC)(J)){if(ve.isElement()){var X=ve.attributes("data-type");if(X===q.cardName){var K=ve.attributes("data-value"),ze=(0,M.RW)(K);return ze.url?(J.card.replaceNode(ve,q.cardName,ze),ve.remove(),!1):void 0}}return!0}},fe.parseHtml=function(ve,J){var X=[];return ve.find("[".concat(M.Jr,'="').concat(q.cardName,'"],[').concat(M.mV,'="').concat(q.cardName,'"')).each(function(K){var ze=(0,M.$)(K),Ze=fe.editor.card.find(ze),We=(Ze==null?void 0:Ze.getValue())||(0,M.RW)(ze.attributes(M.TM));if((We==null?void 0:We.url)&&We.status==="done"){var ye='<span data-type="'.concat(q.cardName,'" data-value="').concat((0,M.it)(We),'"><a target="_blank" href="').concat(We.url,'" style="word-wrap: break-word;color: #096DD9;touch-action: manipulation;background-color: rgba(0,0,0,0);text-decoration: none;outline: none;cursor: pointer;transition: color .3s;"><span style="font-size: 14px;">\u{1F4CE}</span>').concat(We.name,"</a></span>");ze.empty();var Ie=(0,M.$)(ye);J&&(Ie=J(Ie,We)),ze.replaceWith(Ie),X.push(Ie)}else ze.remove()}),X},fe}return(0,x.Z)(te,[{key:"init",value:function(){var ue=this.editor;ue.language.add(we),ue.on(je,this.parseHtml),ue.on(Qe,this.pasteHtml),ue.on(dt,this.pasteSchema)}},{key:"execute",value:function(ue,ae,de,ve,J,X){var K={status:ue,url:ae,name:de||ae,size:ve,preview:J,download:X};ue==="error"&&(K.url="",K.message=ae),this.editor.card.insert("file",K)}},{key:"waiting",value:function(){var fe=(0,O.Z)(v().mark(function ae(de){var ve=this,J,X,K,ze;return v().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return J=this.editor.card,X=function(Ie){var Ue;return Ie.root.inEditor()&&Ie.name===q.cardName&&((Ue=Ie.getValue())===null||Ue===void 0?void 0:Ue.status)==="uploading"},K=function(){return J.components.find(X)},ze=function(Ie){var Ue=6e4;return new Promise(function(Ye,Ae){if(de){var tt=de(ve.name,Ie);if(tt===!1)return Ae({name:ve.name,card:Ie});typeof tt=="number"&&(Ue=tt)}var it=new Date().getTime(),Ve=new Date().getTime(),et=function wt(){if(Ve-it>=Ue)return Ye();setTimeout(function(){X(Ie)?wt():Ye()},10)};et()})},We.abrupt("return",new Promise(function(){var ye=(0,O.Z)(v().mark(function Ie(Ue,Ye){var Ae,tt;return v().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:Ae=K(),tt=function et(wt){ze(wt).then(function(){var jt=K();jt?et(jt):Ue()}).catch(Ye)},Ae?tt(Ae):Ue();case 3:case"end":return Ve.stop()}},Ie)}));return function(Ie,Ue){return ye.apply(this,arguments)}}()));case 5:case"end":return We.stop()}},ae,this)}));function ue(ae){return fe.apply(this,arguments)}return ue}()},{key:"destroy",value:function(){var ue=this.editor;ue.off(je,this.parseHtml),ue.off(Qe,this.pasteHtml),ue.off(dt,this.pasteSchema)}}],[{key:"pluginName",get:function(){return"file"}}]),te}(M.Sy);Ce.ZP=lt},80222:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=function(v){(0,x.Z)(D,v);var M=(0,m.Z)(D);function D(){var T;(0,O.Z)(this,D);for(var S=arguments.length,g=new Array(S),z=0;z<S;z++)g[z]=arguments[z];return T=M.call.apply(M,[this].concat(g)),T.mergeLeval=3,T.tagName="span",T.style={color:"@var0"},T.variable={"@var0":{required:!0,value:"@color"}},T}return(0,U.Z)(D,[{key:"isTrigger",value:function(S,g){return g===void 0||S!==g}},{key:"hotkey",value:function(){return this.options.hotkey||[]}}],[{key:"pluginName",get:function(){return"fontcolor"}}]),D}(p.Rw);Ce.Z=d},37433:function(ut,Ce,f){"use strict";var O=f(24572),U=f(40936),x=f(49962),m=f(60790),p=f(34203),d=f(29129),v=f(65782),M=f(64655),D=f(85462),T=f(11997),S=f(62998),g="paste:each",z=(0,T.Z)("styleName"),E=function(Y){(0,v.Z)(j,Y);var q=(0,M.Z)(j);function j(){var le;(0,U.Z)(this,j);for(var ce=arguments.length,se=new Array(ce),ne=0;ne<ce;ne++)se[ne]=arguments[ne];return le=q.call.apply(q,[this].concat(se)),le.tagName="span",Object.defineProperty((0,m.Z)(le),z,{writable:!0,value:"font-family"}),le.style=(0,O.Z)({},(0,D.Z)((0,m.Z)(le),z)[z],"@var0"),le.variable={"@var0":{required:!0,value:"*"}},le.pasteEach=function(De){if(De.name===le.tagName){var we=De.css(),je=we[(0,D.Z)((0,m.Z)(le),z)[z]];if(!je)return;var dt=le.options.filter;if(dt){var Qe=dt(je);Qe===!1?De.css((0,D.Z)((0,m.Z)(le),z)[z],""):typeof Qe=="string"&&De.css((0,D.Z)((0,m.Z)(le),z)[z],Qe)}else De.css((0,D.Z)((0,m.Z)(le),z)[z],"");var lt=le.editor.node;lt.isMark(De)||lt.unwrap(De)}},le}return(0,x.Z)(j,[{key:"init",value:function(){(0,p.Z)((0,d.Z)(j.prototype),"init",this).call(this);var ce=this.editor;(0,S.iC)(ce)&&ce.on(g,this.pasteEach)}},{key:"isTrigger",value:function(ce){var se=this.queryState();return se?!!ce:!0}},{key:"execute",value:function(ce){var se=this.editor;if(!!(0,S.iC)(se)){var ne=se.change,De=se.mark,we=(0,S.$)("<".concat(this.tagName," />")),je=this.queryState();if(ce&&(!je||ce!==je[0])){if(this.setStyle(we,ce),!this.followStyle&&ne.range.get().collapsed)return;De.wrap(we);return}je&&(this.setStyle(we,je[0]),De.unwrap(we))}}},{key:"hotkey",value:function(){return this.options.hotkey||[]}},{key:"destroy",value:function(){var ce=this.editor;(0,S.iC)(ce)&&ce.off(g,this.pasteEach)}}],[{key:"pluginName",get:function(){return"fontfamily"}}]),j}(S.Rw);Ce.Z=E},88698:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(60790),m=f(34203),p=f(29129),d=f(65782),v=f(64655),M=f(85462),D=f(11997),T=f(62998),S="paste:each",g=(0,D.Z)("styleName"),z=function(E){(0,d.Z)(q,E);var Y=(0,v.Z)(q);function q(){var j;(0,O.Z)(this,q);for(var le=arguments.length,ce=new Array(le),se=0;se<le;se++)ce[se]=arguments[se];return j=Y.call.apply(Y,[this].concat(ce)),j.mergeLeval=4,j.tagName="span",j.style={"font-size":"@var0"},j.variable={"@var0":{required:!0,value:/[\d\.]+(pt|px)$/}},Object.defineProperty((0,x.Z)(j),g,{writable:!0,value:"font-size"}),j.defaultSize=j.options.defaultSize||j.editor.container.css("font-size")||"14px",j.pasteEach=function(ne){if(ne.name===j.tagName){var De=ne.css((0,M.Z)((0,x.Z)(j),g)[g]);if(!De)return;var we=j.convertToPX(De);if(De.endsWith("pt")&&ne.css((0,M.Z)((0,x.Z)(j),g)[g],we),we!==j.defaultSize){var je=j.options.filter;if(je){var dt=je(we);dt===!1?ne.css((0,M.Z)((0,x.Z)(j),g)[g],""):typeof dt=="string"&&ne.css((0,M.Z)((0,x.Z)(j),g)[g],dt)}else ne.css((0,M.Z)((0,x.Z)(j),g)[g],"");var Qe=j.editor.node;Qe.isMark(ne)||Qe.unwrap(ne)}}},j}return(0,U.Z)(q,[{key:"init",value:function(){(0,m.Z)((0,p.Z)(q.prototype),"init",this).call(this);var le=this.editor;(0,T.iC)(le)&&le.on(S,this.pasteEach),this.options.defaultSize&&le.container.css("font-size",this.defaultSize)}},{key:"isTrigger",value:function(le){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.defaultSize;return le!==ce}},{key:"hotkey",value:function(){return this.options.hotkey||[]}},{key:"convertToPX",value:function(le){var ce=/([\d\.]+)(pt|px)$/i.exec(le);return ce&&ce[2]==="pt"?String(Math.round(parseInt(ce[1],10)*96/72))+"px":le}},{key:"destroy",value:function(){var le=this.editor;(0,T.iC)(le)&&le.off(S,this.pasteEach)}}],[{key:"pluginName",get:function(){return"fontsize"}}]),q}(T.Rw);Ce.Z=z},71509:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=null;function D(g,z){z===void 0&&(z={});var E=z.insertAt;if(!(!g||typeof document=="undefined")){var Y=document.head||document.getElementsByTagName("head")[0],q=document.createElement("style");q.type="text/css",E==="top"&&Y.firstChild?Y.insertBefore(q,Y.firstChild):Y.appendChild(q),q.styleSheet?q.styleSheet.cssText=g:q.appendChild(document.createTextNode(g))}}var T=`.data-anchor-button {\r
	position: absolute;\r
	width: 24px;\r
	height: 24px;\r
	line-height: 24px;\r
	text-align: center;\r
	font-size: 14px;\r
	display: block;\r
	background: rgba(255, 255, 255, 0.9);\r
	color: #BFBFBF;\r
	border-radius: 2px 2px;\r
	cursor: pointer;\r
	-webkit-user-select: none;\r
	-moz-user-select: none;\r
	-ms-user-select: none;\r
	user-select: none;\r
	opacity: 0;\r
	visibility: hidden;\r
	-webkit-transition: opacity 0.3s ease-in-out;\r
	transition: opacity 0.3s ease-in-out;\r
}\r
\r
.data-anchor-button.data-anchor-button-active {\r
	opacity: 1;\r
	visibility: visible;\r
}\r
\r
.data-anchor-button .data-icon {\r
	width: 18px;\r
}\r
\r
.data-anchor-button:hover {\r
	background: #f4f4f4;\r
	color: #595959;\r
}\r
\r
.am-engine-view h1,.am-engine-view h2,.am-engine-view h3,.am-engine-view h4,.am-engine-view h5,.am-engine-view h6 {\r
    position: relative;\r
}\r
\r
.am-engine-view h1 .data-anchor-button,.am-engine-view h2 .data-anchor-button,.am-engine-view h3 .data-anchor-button,.am-engine-view h4 .data-anchor-button,.am-engine-view h5 .data-anchor-button,.am-engine-view h6 .data-anchor-button{\r
    position: absolute;\r
    left: -24px;\r
    display: none;\r
}\r
\r
.am-engine-view h1:hover .data-anchor-button,.am-engine-view h2:hover .data-anchor-button,.am-engine-view h3:hover .data-anchor-button,.am-engine-view h4:hover .data-anchor-button,.am-engine-view h5:hover .data-anchor-button,.am-engine-view h6:hover .data-anchor-button {\r
    display: inline-block;\r
    opacity: 1;\r
    visibility: visible;\r
}\r
\r
.am-engine-view h1 , .am-engine h1,.am-engine-view h2 , .am-engine h2,.am-engine-view h3 , .am-engine h3,.am-engine-view h4 , .am-engine h4,.am-engine-view h5 , .am-engine h5,.am-engine-view h6 , .am-engine h6 {\r
    margin: 0;\r
    word-spacing: 1px;\r
    color: #262626;\r
    font-weight: bold;\r
    padding:0;\r
}\r
\r
.am-engine-view h1 , .am-engine h1 {\r
    font-size: 28px;\r
    line-height: 36px;\r
    padding: 7px 0;\r
}\r
\r
.am-engine-view h2 , .am-engine h2 {\r
    font-size: 24px;\r
    line-height: 32px;\r
    padding: 7px 0;\r
}\r
\r
.am-engine-view h3 , .am-engine h3 {\r
    font-size: 20px;\r
    line-height: 28px;\r
    padding: 7px 0;\r
}\r
\r
.am-engine-view h4 , .am-engine h4 {\r
    font-size: 16px;\r
    line-height: 24px;\r
    padding: 7px 0;\r
}\r
\r
.am-engine-view h5 , .am-engine h5 {\r
    font-size: 14px;\r
    line-height: 24px;\r
    padding: 7px 0;\r
}\r
\r
.am-engine-view h6 , .am-engine h6 {\r
    font-size: 14px;\r
    line-height: 24px;\r
    padding: 7px 0;\r
    font-weight: normal;\r
}`;D(T);var S=function(g){(0,p.Z)(E,g);var z=(0,d.Z)(E);function E(){var Y;(0,O.Z)(this,E);for(var q=arguments.length,j=new Array(q),le=0;le<q;le++)j[le]=arguments[le];return Y=z.call.apply(z,[this].concat(j)),Y.attributes={id:"@var0"},Y.variable={"@var0":/^[\w\.\-]+$/},Y.tagName=["h1","h2","h3","h4","h5","h6"].filter(function(ce){return!Y.options.enableTypes||Y.options.enableTypes.indexOf(ce)>-1}),Y.allowIn=["blockquote","$root"],Y.disableMark=Y.options.disableMark||["fontsize","bold"],Y.closureRef={current:{block:null}},Y.onRender=function(ce){var se=Y.editor,ne=se.language,De=(0,v.$)(ce);Y.tagName.length!==0&&De.find(Y.tagName.join(",")).each(function(we){var je=(0,v.$)(we),dt=je.attributes("id");if(dt){je.find(".data-anchor-button").remove(),v.u.hide();var Qe=(0,v.$)('<a class="data-anchor-button" '.concat(v.Zi,'="').concat(v.UI,'"><span class="data-icon data-icon-').concat(je.name,'"></span></a>'));je.height()!==24&&Qe.css({top:(je.height()-24)/2+"px"}),Qe.on("mouseenter",function(){v.u.show(Qe,ne.get("copyAnchor","title").toString())}),Qe.on("mouseleave",function(){v.u.hide()}),Qe.on("click",function(lt){lt.preventDefault(),lt.stopPropagation();var Te=Y.options.anchorCopy?Y.options.anchorCopy(dt):window.location.href+"/"+dt;se.clipboard.copy(Te)?se.messageSuccess("copy",ne.get("copy","success").toString()):se.messageError("copy",ne.get("copy","error").toString())}),je.prepend(Qe)}})},Y.updateId=function(){Y.tagName.length!==0&&Y.editor.container.find(Y.tagName.join(",")).each(function(ce){var se,ne=(0,v.$)(ce);if(!(!((se=ne.parent())===null||se===void 0)&&se.isEditable())){ne.removeAttributes("id");return}var De=ne.attributes("id");(!De||(0,v.$)('[id="'.concat(De,'"]')).length>1)&&(De=ne.attributes(v.Mr)||(0,v.TT)(ne),ne.attributes("id",De))})},Y.realtimeChange=function(){Y.updateId(),Y.showAnchor()},Y.updateAnchorPosition=function(){var ce,se=Y.editor;if(!!(0,v.iC)(se)){var ne=se.change,De=se.root,we=De.find(".data-anchor-button");if(we.length!==0){var je=ne.range.get(),dt=je.startNode.closest("h1,h2,h3,h4,h5,h6");if(dt.length===0){we.remove(),v.u.hide();return}var Qe=((ce=De.get())===null||ce===void 0?void 0:ce.getBoundingClientRect())||{left:0,top:0},lt=dt.get().getBoundingClientRect(),Te=Math.round(lt.left-Qe.left-we.get().clientWidth-1),Je=Math.round(lt.top-Qe.top+lt.height/2-we.get().clientHeight/2);we.css({top:"".concat(Je,"px"),left:"".concat(Te,"px")})}}},Y.showAnchor=function(){var ce,se,ne=Y.editor;if(!(!(0,v.iC)(ne)||Y.tagName.length===0||Y.options.showAnchor===!1)){var De=ne.change,we=ne.root,je=ne.clipboard,dt=ne.language,Qe=ne.card,lt=De.range.get(),Te=we.find(".data-anchor-button"),Je=lt.startNode.closest(Y.tagName.join(","));if(Y.closureRef.current.block=Je,(Je.length===0||Te.length>0&&Te.find(".data-icon-".concat(Je.name)).length===0||!ne.isFocus())&&(Te.remove(),v.u.hide()),!(Je.length===0||Qe.closest(Je,!0)||!ne.isFocus())&&!!(!((ce=Je.parent())===null||ce===void 0)&&ce.isEditable())){if(Te.find(".data-icon-".concat(Je.name)).length>0){Y.updateAnchorPosition();return}Te=(0,v.$)('<span class="data-anchor-button" '.concat(v.Zi,'="').concat(v.UI,'"><span class="data-icon data-icon-').concat(Je.name,'"></span></span>')),we.append(Te);var te=((se=we.get())===null||se===void 0?void 0:se.getBoundingClientRect())||{left:0,top:0},fe=Je.get().getBoundingClientRect(),ue=Math.round(fe.left-te.left-Te.get().clientWidth-1),ae=Math.round(fe.top-te.top+fe.height/2-Te.get().clientHeight/2);Te.css({top:"".concat(ae,"px"),left:"".concat(ue,"px")}),Te.addClass("data-anchor-button-active"),Te.on("mouseenter",function(){v.u.show(Te,dt.get("copyAnchor","title").toString())}),Te.on("mouseleave",function(){v.u.hide()}),Te.on("click",function(de){if(de.preventDefault(),de.stopPropagation(),!!Y.closureRef.current.block){var ve=Y.closureRef.current.block.attributes("id"),J=Y.options.anchorCopy?Y.options.anchorCopy(ve):window.location.href+"/"+ve;je.copy(J)?ne.messageSuccess("copy",dt.get("copy","success").toString()):ne.messageError("copy",dt.get("copy","error").toString())}})}}},Y.markdownIt=function(ce){Y.options.markdown!==!1&&ce.enable("heading")},Y.onBackspace=function(ce){var se,ne=Y.editor;if(!!(0,v.iC)(ne)){var De=ne.change,we=ne.node,je=De.range.get();if(!!je.collapsed){var dt=ne.block;if(!!dt.isFirstOffset(je,"start")){var Qe=dt.closest(je.startNode);if(Y.tagName.indexOf(Qe.name)>-1&&we.isEmptyWithTrim(Qe)&&((se=Qe.parent())===null||se===void 0?void 0:se.isEditable()))return ce.preventDefault(),dt.setBlocks("<p />"),!1;var lt=Qe.parent();if(Y.tagName.indexOf(Qe.name)>-1&&(!lt||!we.isBlock(lt)))return ce.preventDefault(),De.mergeAfterDelete(Qe),!1}}}},Y}return(0,U.Z)(E,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(E.prototype),"init",this).call(this);var q=this.editor;if((0,v.iC)(q))q.on("keydown:backspace",this.onBackspace),q.on("markdown-it",this.markdownIt),q.on("setValue",this.updateId),q.on("realtimeChange",this.realtimeChange),q.on("select",this.showAnchor),q.on("blur",this.showAnchor),window.addEventListener("resize",this.updateAnchorPosition);else{if(this.options.showAnchor===!1)return;q.on("render",this.onRender)}}},{key:"execute",value:function(q){var j=this.editor;if(!!(0,v.iC)(j)){(!q||q===this.queryState())&&(q="p");var le=this.options.enableTypes;if(!(q!=="p"&&le&&le.indexOf(q)<0)){var ce=j.list,se=j.block;ce.split(),se.setBlocks("<".concat(q," />"))}}}},{key:"queryState",value:function(){var q=this.editor;if(!!(0,v.iC)(q)){var j=q.change,le=j.blocks;if(le.length===0)return"";var ce=this.tagName.find(function(se){return le.some(function(ne){return ne.name===se})});return ce||""}}},{key:"hotkey",value:function(){var q,j,le,ce,se,ne,De=((q=this.options.hotkey)===null||q===void 0?void 0:q.h1)||"mod+opt+1",we=((j=this.options.hotkey)===null||j===void 0?void 0:j.h2)||"mod+opt+2",je=((le=this.options.hotkey)===null||le===void 0?void 0:le.h3)||"mod+opt+3",dt=((ce=this.options.hotkey)===null||ce===void 0?void 0:ce.h4)||"mod+opt+4",Qe=((se=this.options.hotkey)===null||se===void 0?void 0:se.h5)||"mod+opt+5",lt=((ne=this.options.hotkey)===null||ne===void 0?void 0:ne.h6)||"mod+opt+6",Te=this.options.enableTypes;return[{key:De,args:"h1"},{key:we,args:"h2"},{key:je,args:"h3"},{key:dt,args:"h4"},{key:Qe,args:"h5"},{key:lt,args:"h6"}].filter(function(Je){return!Te||Te.indexOf(Je.key)>-1})}},{key:"destroy",value:function(){var q=this.editor;(0,v.iC)(q)?(q.off("keydown:backspace",this.onBackspace),q.off("markdown-it",this.markdownIt),q.off("setValue",this.updateId),q.off("realtimeChange",this.realtimeChange),q.off("select",this.showAnchor),q.off("blur",this.showAnchor),window.removeEventListener("resize",this.updateAnchorPosition)):q.off("render",this.onRender)}}],[{key:"pluginName",get:function(){return"heading"}}]),E}(v.AT);Ce.Z=S},40688:function(ut,Ce,f){"use strict";f.d(Ce,{D:function(){return T}});var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=f(34203),v=f(29129);function M(q,j){j===void 0&&(j={});var le=j.insertAt;if(!(!q||typeof document=="undefined")){var ce=document.head||document.getElementsByTagName("head")[0],se=document.createElement("style");se.type="text/css",le==="top"&&ce.firstChild?ce.insertBefore(se,ce.firstChild):ce.appendChild(se),se.styleSheet?se.styleSheet.cssText=q:se.appendChild(document.createTextNode(q))}}var D=`.am-engine .card-hr,.am-engine-view .card-hr {\r
    border: 1px solid transparent;\r
    padding: 18px 0;\r
    border-radius: 2px 2px;\r
}\r
\r
.am-engine .card-hr hr,.am-engine-view .card-hr hr {\r
    box-sizing: border-box;\r
    position: absolute;\r
    top: 50%;\r
    left: 0;\r
    margin-top: -1px;\r
    width: 100%;\r
    height: 2px;\r
    background-color: #e8e8e8;\r
    padding: 0;\r
    border: 1px solid transparent;\r
}\r
\r
.am-engine .card-hr:hover , .am-engine .card-hr.hr-activated {\r
    background-color: #f4f4f4;\r
}`;M(D);var T=function(q){(0,x.Z)(le,q);var j=(0,m.Z)(le);function le(){return(0,O.Z)(this,le),j.apply(this,arguments)}return(0,U.Z)(le,[{key:"toolbar",value:function(){var se,ne=this.editor,De=function(){return!(0,p.iC)(ne)||ne.readonly?[]:[{key:"dnd",type:"dnd"},{key:"copy",type:"copy"},{key:"delete",type:"delete"}]},we=(se=ne.plugin.findPlugin("hr"))===null||se===void 0?void 0:se.options;return we!=null&&we.cardToolbars?we.cardToolbars(De(),this.editor):De()}},{key:"onActivate",value:function(se){(0,d.Z)((0,v.Z)(le.prototype),"onActivate",this).call(this,se);var ne="hr-activated",De=this.getCenter();se?De.addClass(ne):De.removeClass(ne)}},{key:"onSelectByOther",value:function(se,ne){(0,d.Z)((0,v.Z)(le.prototype),"onSelectByOther",this).call(this,se,ne),this.getCenter().find("hr").css("background-color",se?ne.rgb:"")}},{key:"onActivateByOther",value:function(se,ne){this.onSelectByOther(se,ne)}},{key:"render",value:function(){return this.getCenter().addClass("card-hr"),"<hr />"}}],[{key:"cardName",get:function(){return"hr"}},{key:"cardType",get:function(){return p.eT.BLOCK}},{key:"autoActivate",get:function(){return!1}},{key:"selectStyleType",get:function(){return p.dw.BACKGROUND}}]),le}(p.Zb),S="parse:html",g="paste:schema",z="paste:each",E="markdown-it",Y=function(q){(0,x.Z)(le,q);var j=(0,m.Z)(le);function le(){var ce;(0,O.Z)(this,le);for(var se=arguments.length,ne=new Array(se),De=0;De<se;De++)ne[De]=arguments[De];return ce=j.call.apply(j,[this].concat(ne)),ce.markdownIt=function(we){ce.options.markdown!==!1&&we.enable("hr")},ce.pasteSchema=function(we){we.add([{type:"block",name:"hr",isVoid:!0}])},ce.pasteHtml=function(we){var je=ce.editor;if(!!(0,p.iC)(je))return we.name==="hr"?(je.card.replaceNode(we,T.cardName),!1):!0},ce.parseHtml=function(we,je){var dt=[];return we.find("[".concat(p.Jr,"=").concat(T.cardName,"]")).each(function(Qe){var lt=(0,p.$)(Qe),Te=lt.find("hr");if(Te.css({"background-color":"#e8e8e8",border:"1px solid transparent",margin:"18px 0"}),je){var Je=ce.editor.card.find(lt),te=(Je==null?void 0:Je.getValue())||(0,p.RW)(lt.attributes(p.TM));Te=je(Te,te)}lt.replaceWith(Te),dt.push(Te)}),dt},ce}return(0,U.Z)(le,[{key:"init",value:function(){var se=this.editor;se.on(S,this.parseHtml),se.on(g,this.pasteSchema),se.on(z,this.pasteHtml),(0,p.iC)(se)&&se.on(E,this.markdownIt)}},{key:"execute",value:function(){var se=this.editor;if(!!(0,p.iC)(se)){var ne=se.card;ne.insert(T.cardName)}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+e"}},{key:"destroy",value:function(){var se=this.editor;se.off(S,this.parseHtml),se.off(g,this.pasteSchema),se.off(z,this.pasteHtml),(0,p.iC)(se)&&se.off(E,this.markdownIt)}}],[{key:"pluginName",get:function(){return"hr"}}]),le}(p.Sy);Ce.Z=Y},87816:function(ut,Ce,f){"use strict";f.d(Ce,{cu:function(){return Je},wA:function(){return J},ZP:function(){return ye}});var O=f(78450),U=f(40936),x=f(49962),m=f(65782),p=f(64655),d=f(6534),v=f.n(d),M=f(62998),D=f(75782),T=f(49544),S=f(34203),g=f(29129),z=f(60790),E=f(25328),Y=f(37280),q=f.n(Y),j=f(72097),le=f.n(j),ce=f(24572),se=f(26143),ne=function(){function Ie(Ue,Ye){(0,U.Z)(this,Ie),this.pswp=void 0,this.editor=void 0,this.prevStatus="default",this.nextStatus="default",this.zoomInStatus="default",this.zoomOutStatus="default",this.originSizeStatus="default",this.bestSizeStatus="default",this.editor=Ue,this.pswp=Ye}return(0,x.Z)(Ie,[{key:"init",value:function(){var Ye=this;this.pswp.on("afterzoom",function(){Ye.afterZoom()}),this.pswp.on("afterchange",function(){Ye.afterChange()}),this.pswp.on("resize",function(){setTimeout(function(){Ye.afterChange(),Ye.afterZoom()},333)}),this.render()}},{key:"renderTemplate",value:function(){var Ye=this,Ae=(0,M.$)(`
        <div class="data-pswp-tool-bar">
            <div class="pswp-toolbar-content"></div>
        </div>
        `),tt=Ae.find(".pswp-toolbar-content"),it=this.editor.language.get("image");return tt.append(this.renderBtn("arrow-left",it.prev,this.prevStatus,function(){Ye.prevStatus!=="disable"&&Ye.pswp.prev()})),tt.append('<span class="data-pswp-counter"></span>'),tt.append(this.renderBtn("arrow-right",it.next,this.nextStatus,function(){Ye.nextStatus!=="disable"&&Ye.pswp.next()})),tt.append('<span class="separation"></span>'),tt.append(this.renderBtn("zoom-in",it.zoomIn,this.zoomInStatus,function(){Ye.zoomInStatus!=="disable"&&Ye.pswp.zoomIn()})),tt.append(this.renderBtn("zoom-out",it.zoomOut,this.zoomOutStatus,function(){Ye.zoomOutStatus!=="disable"&&Ye.pswp.zoomOut()})),tt.append(this.renderBtn("origin-size",it.originSize,this.originSizeStatus,function(){Ye.originSizeStatus!=="disable"&&Ye.pswp.zoomToOriginSize()})),tt.append(this.renderBtn("best-size",it.bestSize,this.bestSizeStatus,function(){Ye.bestSizeStatus!=="disable"&&Ye.pswp.zoomToBestSize()})),Ae}},{key:"afterZoom",value:function(){var Ye=this.pswp.getCurrentZoomLevel(),Ae=this.pswp.getInitialZoomLevel(),tt="default";Ye===Ae&&(tt="activated"),Ae===1&&(tt="disable"),this.zoomOutStatus=Ye===.05?"disable":"default",this.zoomInStatus=Ye===5?"disable":"default",this.originSizeStatus=Ye===1?"activated":"default",this.bestSizeStatus=tt,this.render()}},{key:"afterChange",value:function(){var Ye=this.pswp.getCount();this.nextStatus=Ye===1?"disable":"default",this.prevStatus=Ye===1?"disable":"default",this.render()}},{key:"renderBtn",value:function(Ye,Ae,tt,it){var Ve=(0,M.$)('<span class="data-pswp-'.concat(Ye," btn ").concat(tt,'"></span>'));return Ve.on("mouseenter",function(){M.u.show(Ve,Ae)}),Ve.on("mouseleave",function(){M.u.hide()}),Ve.on("mousedown",function(et){et.stopPropagation(),M.u.hide()}),Ve.on("click",it),Ve}},{key:"render",value:function(){this.pswp.barUI.empty(),this.pswp.barUI.append(this.renderTemplate())}}]),Ie}();function De(Ie,Ue){Ue===void 0&&(Ue={});var Ye=Ue.insertAt;if(!(!Ie||typeof document=="undefined")){var Ae=document.head||document.getElementsByTagName("head")[0],tt=document.createElement("style");tt.type="text/css",Ye==="top"&&Ae.firstChild?Ae.insertBefore(tt,Ae.firstChild):Ae.appendChild(tt),tt.styleSheet?tt.styleSheet.cssText=Ie:tt.appendChild(document.createTextNode(Ie))}}var we=`.pswp .data-pswp-tool-bar {\r
    position: absolute;\r
    top: initial;\r
    margin: 0 auto;\r
    bottom: 20px;\r
    vertical-align: middle;\r
    height: 54px;\r
    width: 100%;\r
    text-align: center;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .separation {\r
    width: 1px;\r
    margin: 0px 10px;\r
    display: inline-block;\r
    height: 20px;\r
    border: 0.5px solid #383838;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn {\r
    color: #f8f9fa;\r
    display: inline-block;\r
    width: 32px;\r
    height: 32px;\r
    padding: 6px;\r
    margin: 0 6px;\r
    border: 1px solid #383838;\r
    border-radius: 2px;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn::before {\r
    width: 20px;\r
    height: 20px;\r
    margin: 0 auto;\r
    content: ' ';\r
    display: inline-block;\r
    background-repeat: no-repeat;\r
    opacity: 0.65;\r
    background-position: -1px -1px;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-arrow-left {\r
    padding: 8px;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-arrow-right {\r
    padding: 8px;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-arrow-left::before {\r
    width: 16px;\r
    height: 16px;\r
    background-size: 16px 16px;\r
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5sZWZ0LWNpcmNsZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJsZWZ0LWNpcmNsZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImxlZnQiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTQuMTQwNjI1LDQuMjYzNjcxODggTDE0LjE0MDYyNSwyLjc1MzkwNjI1IEMxNC4xNDA2MjUsMi42MjMwNDY4OCAxMy45OTAyMzQ0LDIuNTUwNzgxMjUgMTMuODg4NjcxOSwyLjYzMDg1OTM3IEw1LjA4Mzk4NDM4LDkuNTA3ODEyNSBDNC43NjM2NzE4OCw5Ljc1NzgxMjUgNC43NjM2NzE4OCwxMC4yNDAyMzQ0IDUuMDgzOTg0MzgsMTAuNDkwMjM0NCBMMTMuODg4NjcxOSwxNy4zNjcxODc1IEMxMy45OTIxODc1LDE3LjQ0NzI2NTYgMTQuMTQwNjI1LDE3LjM3NSAxNC4xNDA2MjUsMTcuMjQ0MTQwNiBMMTQuMTQwNjI1LDE1LjczNDM3NSBDMTQuMTQwNjI1LDE1LjYzODY3MTkgMTQuMDk1NzAzMSwxNS41NDY4NzUgMTQuMDIxNDg0NCwxNS40ODgyODEzIEw2Ljk5MDIzNDM4LDEwIEwxNC4wMjE0ODQ0LDQuNTA5NzY1NjMgQzE0LjA5NTcwMzEsNC40NTExNzE4OCAxNC4xNDA2MjUsNC4zNTkzNzUgMTQuMTQwNjI1LDQuMjYzNjcxODggWiIgaWQ9Iui3r+W+hCIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-arrow-right::before {\r
    width: 16px;\r
    height: 16px;\r
    background-size: 16px 16px;\r
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5yaWdodC1jaXJjbGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0icmlnaHQtY2lyY2xlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0icmlnaHQiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTQuOTU1MDc4MSw5LjUwNzgxMjUgTDYuMTUwMzkwNjIsMi42MzA4NTkzNyBDNi4wNDY4NzUsMi41NTA3ODEyNSA1Ljg5ODQzNzUsMi42MjMwNDY4NyA1Ljg5ODQzNzUsMi43NTM5MDYyNSBMNS44OTg0Mzc1LDQuMjYzNjcxODggQzUuODk4NDM3NSw0LjM1OTM3NSA1Ljk0MzM1OTM4LDQuNDUxMTcxODggNi4wMTc1NzgxMiw0LjUwOTc2NTYyIEwxMy4wNDg4MjgxLDEwIEw2LjAxNzU3ODEyLDE1LjQ5MDIzNDQgQzUuOTQxNDA2MjUsMTUuNTQ4ODI4MSA1Ljg5ODQzNzUsMTUuNjQwNjI1IDUuODk4NDM3NSwxNS43MzYzMjgxIEw1Ljg5ODQzNzUsMTcuMjQ2MDkzOCBDNS44OTg0Mzc1LDE3LjM3Njk1MzEgNi4wNDg4MjgxMiwxNy40NDkyMTg4IDYuMTUwMzkwNjIsMTcuMzY5MTQwNiBMMTQuOTU1MDc4MSwxMC40OTIxODc1IEMxNS4yNzUzOTA2LDEwLjI0MjE4NzUgMTUuMjc1MzkwNiw5Ljc1NzgxMjUgMTQuOTU1MDc4MSw5LjUwNzgxMjUgWiIgaWQ9Iui3r+W+hCIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-zoom-in::before {\r
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjEgKDc4MTM2KSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT56b29tIGluPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Inpvb20taW4iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTIuNDQxNDA2Myw4LjY1MjM0Mzc1IEwxMC4xMzY3MTg4LDguNjUyMzQzNzUgTDEwLjEzNjcxODgsNi4wMzUxNTYyNSBDMTAuMTM2NzE4OCw1Ljk0OTIxODc1IDEwLjA2NjQwNjMsNS44Nzg5MDYyNSA5Ljk4MDQ2ODc1LDUuODc4OTA2MjUgTDguODA4NTkzNzUsNS44Nzg5MDYyNSBDOC43MjI2NTYyNSw1Ljg3ODkwNjI1IDguNjUyMzQzNzUsNS45NDkyMTg3NSA4LjY1MjM0Mzc1LDYuMDM1MTU2MjUgTDguNjUyMzQzNzUsOC42NTIzNDM3NSBMNi4zNDc2NTYyNSw4LjY1MjM0Mzc1IEM2LjI2MTcxODc1LDguNjUyMzQzNzUgNi4xOTE0MDYyNSw4LjcyMjY1NjI1IDYuMTkxNDA2MjUsOC44MDg1OTM3NSBMNi4xOTE0MDYyNSw5Ljk4MDQ2ODc1IEM2LjE5MTQwNjI1LDEwLjA2NjQwNjMgNi4yNjE3MTg3NSwxMC4xMzY3MTg4IDYuMzQ3NjU2MjUsMTAuMTM2NzE4OCBMOC42NTIzNDM3NSwxMC4xMzY3MTg4IEw4LjY1MjM0Mzc1LDEyLjc1MzkwNjMgQzguNjUyMzQzNzUsMTIuODM5ODQzNyA4LjcyMjY1NjI1LDEyLjkxMDE1NjMgOC44MDg1OTM3NSwxMi45MTAxNTYzIEw5Ljk4MDQ2ODc1LDEyLjkxMDE1NjMgQzEwLjA2NjQwNjMsMTIuOTEwMTU2MyAxMC4xMzY3MTg4LDEyLjgzOTg0MzcgMTAuMTM2NzE4OCwxMi43NTM5MDYzIEwxMC4xMzY3MTg4LDEwLjEzNjcxODggTDEyLjQ0MTQwNjMsMTAuMTM2NzE4OCBDMTIuNTI3MzQzNywxMC4xMzY3MTg4IDEyLjU5NzY1NjMsMTAuMDY2NDA2MyAxMi41OTc2NTYzLDkuOTgwNDY4NzUgTDEyLjU5NzY1NjMsOC44MDg1OTM3NSBDMTIuNTk3NjU2Myw4LjcyMjY1NjI1IDEyLjUyNzM0MzcsOC42NTIzNDM3NSAxMi40NDE0MDYzLDguNjUyMzQzNzUgWiBNMTcuOTg4MjgxMywxNi45MzM1OTM4IEwxNS4xMzY3MTg4LDE0LjA4MjAzMTMgQzE3LjUyMTQ4NDQsMTEuMTczODI4MSAxNy4zNTU0Njg4LDYuODY1MjM0MzggMTQuNjI4OTA2Myw0LjE0MDYyNSBDMTEuNzM4MjgxMywxLjI0ODA0Njg4IDcuMDQyOTY4NzUsMS4yNDgwNDY4OCA0LjE0MDYyNSw0LjE0MDYyNSBDMS4yNDgwNDY4OCw3LjA0Mjk2ODc1IDEuMjQ4MDQ2ODgsMTEuNzM4MjgxMyA0LjE0MDYyNSwxNC42Mjg5MDYzIEM2Ljg2NTIzNDM4LDE3LjM1NTQ2ODggMTEuMTczODI4MSwxNy41MjE0ODQ0IDE0LjA4MjAzMTMsMTUuMTM2NzE4OCBMMTYuOTMzNTkzOCwxNy45ODgyODEzIEMxNi45OTYwOTM4LDE4LjA0Mjk2ODggMTcuMDk1NzAzMSwxOC4wNDI5Njg4IDE3LjE0ODQzNzUsMTcuOTg4MjgxMyBMMTcuOTg4MjgxMywxNy4xNDg0Mzc1IEMxOC4wNDI5Njg4LDE3LjA5NTcwMzEgMTguMDQyOTY4OCwxNi45OTYwOTM4IDE3Ljk4ODI4MTMsMTYuOTMzNTkzOCBaIE0xMy41OTM3NSwxMy41OTM3NSBDMTEuMjczNDM3NSwxNS45MTIxMDk0IDcuNTE1NjI1LDE1LjkxMjEwOTQgNS4xOTUzMTI1LDEzLjU5Mzc1IEMyLjg3Njk1MzEzLDExLjI3MzQzNzUgMi44NzY5NTMxMyw3LjUxNTYyNSA1LjE5NTMxMjUsNS4xOTUzMTI1IEM3LjUxNTYyNSwyLjg3Njk1MzEzIDExLjI3MzQzNzUsMi44NzY5NTMxMyAxMy41OTM3NSw1LjE5NTMxMjUgQzE1LjkxMjEwOTQsNy41MTU2MjUgMTUuOTEyMTA5NCwxMS4yNzM0Mzc1IDEzLjU5Mzc1LDEzLjU5Mzc1IFoiIGlkPSLlvaLnirYiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-zoom-out::before {\r
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjEgKDc4MTM2KSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT56b29tIG91dDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJ6b29tLW91dCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40NDE0MDYzLDguNjUyMzQzNzUgTDYuMzQ3NjU2MjUsOC42NTIzNDM3NSBDNi4yNjE3MTg3NSw4LjY1MjM0Mzc1IDYuMTkxNDA2MjUsOC43MjI2NTYyNSA2LjE5MTQwNjI1LDguODA4NTkzNzUgTDYuMTkxNDA2MjUsOS45ODA0Njg3NSBDNi4xOTE0MDYyNSwxMC4wNjY0MDYzIDYuMjYxNzE4NzUsMTAuMTM2NzE4OCA2LjM0NzY1NjI1LDEwLjEzNjcxODggTDEyLjQ0MTQwNjMsMTAuMTM2NzE4OCBDMTIuNTI3MzQzNywxMC4xMzY3MTg4IDEyLjU5NzY1NjMsMTAuMDY2NDA2MyAxMi41OTc2NTYzLDkuOTgwNDY4NzUgTDEyLjU5NzY1NjMsOC44MDg1OTM3NSBDMTIuNTk3NjU2Myw4LjcyMjY1NjI1IDEyLjUyNzM0MzcsOC42NTIzNDM3NSAxMi40NDE0MDYzLDguNjUyMzQzNzUgWiBNMTcuOTg4MjgxMywxNi45MzM1OTM4IEwxNS4xMzY3MTg4LDE0LjA4MjAzMTMgQzE3LjUyMTQ4NDQsMTEuMTczODI4MSAxNy4zNTU0Njg4LDYuODY1MjM0MzggMTQuNjI4OTA2Myw0LjE0MDYyNSBDMTEuNzM4MjgxMywxLjI0ODA0Njg4IDcuMDQyOTY4NzUsMS4yNDgwNDY4OCA0LjE0MDYyNSw0LjE0MDYyNSBDMS4yNDgwNDY4OCw3LjA0Mjk2ODc1IDEuMjQ4MDQ2ODgsMTEuNzM4MjgxMyA0LjE0MDYyNSwxNC42Mjg5MDYzIEM2Ljg2NTIzNDM4LDE3LjM1NTQ2ODggMTEuMTczODI4MSwxNy41MjE0ODQ0IDE0LjA4MjAzMTMsMTUuMTM2NzE4OCBMMTYuOTMzNTkzOCwxNy45ODgyODEzIEMxNi45OTYwOTM4LDE4LjA0Mjk2ODggMTcuMDk1NzAzMSwxOC4wNDI5Njg4IDE3LjE0ODQzNzUsMTcuOTg4MjgxMyBMMTcuOTg4MjgxMywxNy4xNDg0Mzc1IEMxOC4wNDI5Njg4LDE3LjA5NTcwMzEgMTguMDQyOTY4OCwxNi45OTYwOTM4IDE3Ljk4ODI4MTMsMTYuOTMzNTkzOCBaIE0xMy41OTM3NSwxMy41OTM3NSBDMTEuMjczNDM3NSwxNS45MTIxMDk0IDcuNTE1NjI1LDE1LjkxMjEwOTQgNS4xOTUzMTI1LDEzLjU5Mzc1IEMyLjg3Njk1MzEzLDExLjI3MzQzNzUgMi44NzY5NTMxMyw3LjUxNTYyNSA1LjE5NTMxMjUsNS4xOTUzMTI1IEM3LjUxNTYyNSwyLjg3Njk1MzEzIDExLjI3MzQzNzUsMi44NzY5NTMxMyAxMy41OTM3NSw1LjE5NTMxMjUgQzE1LjkxMjEwOTQsNy41MTU2MjUgMTUuOTEyMTA5NCwxMS4yNzM0Mzc1IDEzLjU5Mzc1LDEzLjU5Mzc1IFoiIGlkPSLlvaLnirYiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-origin-size::before {\r
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjEgKDc4MTM2KSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5hY3R1YWwgc2l6ZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJhY3R1YWwtc2l6ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iue8lue7hC0yIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjwvcmVjdD4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNNS45Mzc1LDE1LjM5MDYyNSBMNC4xMTY3NzYzMiwxNS4zOTA2MjUgTDQuMTE2Nzc2MzIsNy40NDU3MDk3NSBMMS44NzUsNy40NDU3MDk3NSBMMS44NzUsNi40MjA3NTQ5NCBDMi42NjcxNzc2LDYuNDE3MjcwNjUgMy4zMDI5MzEwOCw2LjI2Mzg2MzM2IDMuNzc5NjI2MzcsNS45NTM5MDU1MyBDNC4yMzAwNDk4Miw1LjY2MTAzMDIxIDQuNTI4ODg0MSw1LjIwODg0ODQxIDQuNjc2MDQ5NzgsNC42MDkzNzUgTDUuOTM3NSw0LjYwOTM3NSBMNS45Mzc1LDE1LjM5MDYyNSBaIE05LjY4NzUsNy41MzkwNjI1IEwxMS40MDYyNSw3LjUzOTA2MjUgTDExLjQwNjI1LDkuNTcwMzEyNSBMOS42ODc1LDkuNTcwMzEyNSBMOS42ODc1LDcuNTM5MDYyNSBaIE05LjY4NzUsMTMuMzU5Mzc1IEwxMS40MDYyNSwxMy4zNTkzNzUgTDExLjQwNjI1LDE1LjM5MDYyNSBMOS42ODc1LDE1LjM5MDYyNSBMOS42ODc1LDEzLjM1OTM3NSBaIE0xNy41LDE1LjM5MDYyNSBMMTcuNSw0LjYwOTM3NSBMMTYuMjM4NTQ5OCw0LjYwOTM3NSBDMTYuMDkxMzg0MSw1LjIwODg0ODQxIDE1Ljc5MjU0OTgsNS42NjEwMzAyMSAxNS4zNDIxMjY0LDUuOTUzOTA1NTMgQzE0Ljg2NTQzMTEsNi4yNjM4NjMzNiAxNC4yMjk2Nzc2LDYuNDE3MjcwNjUgMTMuNDM3NSw2LjQyMDc1NDk0IEwxMy40Mzc1LDcuNDQ1NzA5NzUgTDE1LjY3OTI3NjMsNy40NDU3MDk3NSBMMTUuNjc5Mjc2MywxNS4zOTA2MjUgTDE3LjUsMTUuMzkwNjI1IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .data-pswp-best-size::before {\r
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5maXQgc2NyZWVuPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImZpdC1zY3JlZW4iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJhcnJhd3NhbHQiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTYuNjk5MjE4OCwzLjEyNjk1MzEyIEwxMy4wMDM5MDYzLDMuNTg1OTM3NSBDMTIuODc1LDMuNjAxNTYyNSAxMi44MjIyNjU2LDMuNzU3ODEyNSAxMi45MTIxMDk0LDMuODQ5NjA5MzcgTDEzLjk4MDQ2ODgsNC45MTc5Njg3NSBMMTAuOTgyNDIxOSw3LjkxNjAxNTYyIEMxMC45MjE4NzUsNy45NzY1NjI1IDEwLjkyMTg3NSw4LjA3NjE3MTg3IDEwLjk4MjQyMTksOC4xMzY3MTg3NSBMMTEuODYzMjgxMyw5LjAxNzU3ODEyIEMxMS45MjM4MjgxLDkuMDc4MTI1IDEyLjAyMzQzNzUsOS4wNzgxMjUgMTIuMDgzOTg0NCw5LjAxNzU3ODEyIEwxNS4wODM5ODQ0LDYuMDE3NTc4MTIgTDE2LjE1MjM0MzgsNy4wODU5Mzc1IEMxNi4yNDQxNDA2LDcuMTc3NzM0MzcgMTYuNDAwMzkwNiw3LjEyMzA0Njg3IDE2LjQxNjAxNTYsNi45OTQxNDA2MiBMMTYuODczMDQ2OSwzLjMwMDc4MTI1IEMxNi44ODY3MTg4LDMuMTk5MjE4NzUgMTYuODAwNzgxMywzLjExMzI4MTI1IDE2LjY5OTIxODgsMy4xMjY5NTMxMiBaIE04LjEzNjcxODc1LDEwLjk4MjQyMTkgQzguMDc2MTcxODgsMTAuOTIxODc1IDcuOTc2NTYyNSwxMC45MjE4NzUgNy45MTYwMTU2MywxMC45ODI0MjE5IEw0LjkxNzk2ODc1LDEzLjk4MjQyMTkgTDMuODQ5NjA5MzgsMTIuOTE0MDYyNSBDMy43NTc4MTI1LDEyLjgyMjI2NTYgMy42MDE1NjI1LDEyLjg3Njk1MzEgMy41ODU5Mzc1LDEzLjAwNTg1OTQgTDMuMTI2OTUzMTMsMTYuNjk5MjE4OCBDMy4xMTUyMzQzOCwxNi44MDA3ODEyIDMuMTk5MjE4NzUsMTYuODg0NzY1NiAzLjMwMDc4MTI1LDE2Ljg3MzA0NjkgTDYuOTk2MDkzNzUsMTYuNDE0MDYyNSBDNy4xMjUsMTYuMzk4NDM3NSA3LjE3NzczNDM4LDE2LjI0MjE4NzUgNy4wODc4OTA2MywxNi4xNTAzOTA2IEw2LjAxOTUzMTI1LDE1LjA4MjAzMTIgTDkuMDE5NTMxMjUsMTIuMDgyMDMxMiBDOS4wODAwNzgxMywxMi4wMjE0ODQ0IDkuMDgwMDc4MTMsMTEuOTIxODc1IDkuMDE5NTMxMjUsMTEuODYxMzI4MSBMOC4xMzY3MTg3NSwxMC45ODI0MjE5IEw4LjEzNjcxODc1LDEwLjk4MjQyMTkgWiIgaWQ9IuW9oueKtiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn:not(.disable):hover {\r
    cursor: pointer;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn:not(.disable):hover::before {\r
    opacity: 1;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn.disable {\r
    background: none;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn.activated {\r
    background: #454545;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn.activated::before {\r
    opacity: 1;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .btn.disable::before {\r
    opacity: 0.25;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .disable:hover {\r
    cursor: not-allowed;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .pswp-toolbar-content {\r
    display: inline-block;\r
    width: auto;\r
    background: #252525;\r
    border-radius: 4px;\r
    padding: 12px;\r
   \r
}\r
\r
.pswp .data-pswp-tool-bar .pswp-toolbar-content .data-pswp-counter {\r
    -webkit-user-select: none;\r
    -moz-user-select: none;\r
    -ms-user-select: none;\r
    user-select: none;\r
    display: inline-block;\r
    font-size: 16px;\r
    vertical-align: top;\r
    line-height: 34px;\r
    color: #DEDEDE;\r
    margin: 0 2px;\r
   \r
}\r
\r
.pswp.data-pswp-mobile .data-pswp-tool-bar {\r
    display: none;\r
   \r
}\r
\r
.pswp__ui {\r
   -webkit-font-smoothing: auto;\r
   visibility: visible;\r
   opacity: 1;\r
   z-index: 1550;\r
}\r
\r
.pswp__button {\r
   width: 44px;\r
   height: 44px;\r
   position: relative;\r
   background: none;\r
   cursor: pointer;\r
   overflow: visible;\r
   display: block;\r
   border: 0;\r
   padding: 0;\r
   margin: 0;\r
   float: right;\r
   opacity: 0.75;\r
   -webkit-transition: opacity 0.2s;\r
   transition: opacity 0.2s;\r
   box-shadow: none;\r
}\r
\r
.pswp-fade-out {\r
   opacity: 0;\r
   -webkit-animation: fadeOut 0.333s;\r
           animation: fadeOut 0.333s;\r
}\r
\r
.pswp .data-pswp-button-close {\r
   margin: 32px;\r
   margin-right: 0px;\r
   width: 40px;\r
   height: 40px;\r
   z-index: 999999;\r
   position: relative;\r
   background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSIwIDAgNDAgNDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5jbG9zZS1kZWZhdWx0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Iuafpeeci+WbvueJh+S8mOWMljQuMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IueUu+advyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ4LjAwMDAwMCwgLTczNS4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9ImNsb3NlLWRlZmF1bHQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4LjAwMDAwMCwgNzM1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iIzFBMUExQSIgb3BhY2l0eT0iMC4zNSIgeD0iMCIgeT0iMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iNCI+PC9yZWN0PgogICAgICAgICAgICAgICAgPGcgaWQ9ImNsb3NlIiBvcGFjaXR5PSIwLjY1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy4yMTQwNjI1LDEyIEwxOS4zNjY0MDYyLDQuNjY2NDA2MjUgQzE5LjQ2OTUzMTIsNC41NDQ1MzEyNSAxOS4zODI4MTI1LDQuMzU5Mzc1IDE5LjIyMzQzNzUsNC4zNTkzNzUgTDE3LjM1MzEyNSw0LjM1OTM3NSBDMTcuMjQyOTY4Nyw0LjM1OTM3NSAxNy4xMzc1LDQuNDA4NTkzNzUgMTcuMDY0ODQzNyw0LjQ5Mjk2ODc1IEwxMS45OTA2MjUsMTAuNTQyMTg3NSBMNi45MTY0MDYyNSw0LjQ5Mjk2ODc1IEM2Ljg0NjA5Mzc1LDQuNDA4NTkzNzUgNi43NDA2MjUsNC4zNTkzNzUgNi42MjgxMjUsNC4zNTkzNzUgTDQuNzU3ODEyNSw0LjM1OTM3NSBDNC41OTg0Mzc1LDQuMzU5Mzc1IDQuNTExNzE4NzUsNC41NDQ1MzEyNSA0LjYxNDg0Mzc1LDQuNjY2NDA2MjUgTDEwLjc2NzE4NzUsMTIgTDQuNjE0ODQzNzUsMTkuMzMzNTkzNyBDNC41MTE3MTg3NSwxOS40NTU0Njg4IDQuNTk4NDM3NSwxOS42NDA2MjUgNC43NTc4MTI1LDE5LjY0MDYyNSBMNi42MjgxMjUsMTkuNjQwNjI1IEM2LjczODI4MTI1LDE5LjY0MDYyNSA2Ljg0Mzc1LDE5LjU5MTQwNjIgNi45MTY0MDYyNSwxOS41MDcwMzEyIEwxMS45OTA2MjUsMTMuNDU3ODEyNSBMMTcuMDY0ODQzNywxOS41MDcwMzEyIEMxNy4xMzUxNTYyLDE5LjU5MTQwNjIgMTcuMjQwNjI1LDE5LjY0MDYyNSAxNy4zNTMxMjUsMTkuNjQwNjI1IEwxOS4yMjM0Mzc1LDE5LjY0MDYyNSBDMTkuMzgyODEyNSwxOS42NDA2MjUgMTkuNDY5NTMxMiwxOS40NTU0Njg4IDE5LjM2NjQwNjIsMTkuMzMzNTkzNyBMMTMuMjE0MDYyNSwxMiBaIiBpZD0i6Lev5b6EIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');\r
}\r
\r
`;De(we);var je=function(Ie){(0,m.Z)(Ye,Ie);var Ue=(0,p.Z)(Ye);function Ye(Ae,tt){var it;return(0,U.Z)(this,Ye),it=Ue.call(this),it.editor=void 0,it.options=void 0,it.timeouts=[],it.pswpUI=void 0,it.zoom=void 0,it.isDestroy=!0,it.zoomUI=void 0,it.root=void 0,it.barUI=void 0,it.closeUI=void 0,it.reset=function(){it.root.removeClass(M.tq?"data-pswp-mobile":"data-pswp-pc"),it.root.addClass(M.tq?"data-pswp-mobile":"data-pswp-pc"),it.unbindKeyboardEvnet(),it.unbindControllerFadeInAndOut(),M.tq||(it.bindKeyboardEvnet(),it.bindControllerFadeInAndOut())},it.onBarMouseEnter=function(){it.removeFadeOut(it.barUI,"barFadeInAndOut"),it.removeFadeOut(it.closeUI,"closeFadeInAndOut")},it.onBarMouseLeave=function(){it.fadeOut(it.barUI,"barFadeInAndOut"),it.fadeOut(it.closeUI,"closeFadeInAndOut")},it.onCloseMouseEnter=function(){it.removeFadeOut(it.barUI,"barFadeInAndOut"),it.removeFadeOut(it.closeUI,"closeFadeInAndOut")},it.onCloseMouseLeave=function(){it.fadeOut(it.barUI,"barFadeInAndOut"),it.fadeOut(it.closeUI,"closeFadeInAndOut")},it.onKeyboardEvent=function(Ve){(Ve.metaKey||Ve.ctrlKey)&&Ve.keyCode===187&&(Ve.preventDefault(),it.zoomIn()),(0,M.P6)("mod+-",Ve)&&(Ve.preventDefault(),it.zoomOut())},it.close=function(){var Ve;(Ve=it.pswpUI)===null||Ve===void 0||Ve.close()},it.editor=Ae,it.options=(0,D.Z)({shareEl:!1,fullscreenEl:!1,zoomEl:!1,history:!1,closeOnScroll:!1,preloaderEl:!1,captionEl:!1,counterEl:!1,clickToCloseNonZoomable:!1,showAnimationDuration:0,hideAnimationDuration:0,closeOnVerticalDrag:M.tq,tapToClose:!0,bgOpacity:.8,barsSize:{top:44,bottom:80}},tt),it.isDestroy=!0,it.root=it.renderTemplate(),it.barUI=it.root.find(".data-pswp-custom-top-bar"),it.closeUI=it.root.find(".data-pswp-button-close"),(0,M.$)(document.body).append(it.root),it.zoomUI=new ne(Ae,(0,z.Z)(it)),it.zoomUI.render(),it.reset(),it.bindClickEvent(),window.addEventListener("resize",it.reset),it}return(0,x.Z)(Ye,[{key:"renderTemplate",value:function(){var tt=(0,M.$)(`
        <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="pswp__bg"></div>
            <div class="pswp__scroll-wrap">
                <div class="pswp__container">
                    <div class="pswp__item"></div>
                    <div class="pswp__item"></div>
                    <div class="pswp__item"></div>
                </div>
                <div class="pswp__ui pswp__ui--hidden">
                    <button type="button" class="pswp__button data-pswp-button-close" title="Close (Esc)"></button>
                    <div class="data-pswp-custom-top-bar"></div>
                </div>
            </div>
        </div>`);return tt}},{key:"bindControllerFadeInAndOut",value:function(){this.barUI.on("mouseenter",this.onBarMouseEnter),this.barUI.on("mouseleave",this.onBarMouseLeave),this.closeUI.on("mouseenter",this.onCloseMouseEnter),this.closeUI.on("mouseleave",this.onCloseMouseLeave)}},{key:"unbindControllerFadeInAndOut",value:function(){this.barUI.off("mouseenter",this.onBarMouseEnter),this.barUI.off("mouseleave",this.onBarMouseLeave),this.closeUI.off("mouseenter",this.onCloseMouseEnter),this.closeUI.off("mouseleave",this.onCloseMouseLeave)}},{key:"removeFadeOut",value:function(tt,it){this.timeouts[it]&&clearTimeout(this.timeouts[it]),tt.removeClass("pswp-fade-out")}},{key:"fadeOut",value:function(tt,it){this.timeouts[it]&&clearTimeout(this.timeouts[it]),this.timeouts[it]=setTimeout(function(){tt.addClass("pswp-fade-out")},3e3)}},{key:"bindClickEvent",value:function(){var tt=this,it=function(et){var wt=window.TouchEvent&&et instanceof TouchEvent?(0,M.$)(et.touches[0].target):(0,M.$)(et.target||[]);wt.hasClass("pswp__img")&&setTimeout(function(){tt.zoom=void 0,tt.afterZoom()},366),(wt.hasClass("pswp__bg")||wt.hasClass("data-pswp-tool-bar"))&&tt.close()};this.root.on("click",it),this.closeUI.on("click",this.close)}},{key:"prev",value:function(){var tt;(tt=this.pswpUI)===null||tt===void 0||tt.prev()}},{key:"next",value:function(){var tt;(tt=this.pswpUI)===null||tt===void 0||tt.next()}},{key:"renderCounter",value:function(){var tt,it;this.barUI.find(".data-pswp-counter").html("".concat((((tt=this.pswpUI)===null||tt===void 0?void 0:tt.getCurrentIndex())||0)+1," / ").concat(((it=this.pswpUI)===null||it===void 0?void 0:it.items.length)||""))}},{key:"getCurrentZoomLevel",value:function(){return this.zoom&&+this.zoom.toFixed(2)||this.pswpUI&&+this.pswpUI.getZoomLevel().toFixed(2)||0}},{key:"zoomTo",value:function(tt){!this.pswpUI||(this.pswpUI.zoomTo(tt,{x:this.pswpUI.viewportSize.x/2,y:this.pswpUI.viewportSize.y/2},100),this.zoom=tt,this.afterZoom())}},{key:"zoomIn",value:function(){var tt=this.getCurrentZoomLevel(),it=(tt||0)+.2;tt!==5&&(it>5&&(it=5),this.zoomTo(it))}},{key:"zoomOut",value:function(){var tt=this.getCurrentZoomLevel();if(tt!==.05&&tt!==void 0){var it=tt-.2;.05>it&&(it=.05),this.zoomTo(it)}}},{key:"bindKeyboardEvnet",value:function(){this.root.on("keydown",this.onKeyboardEvent)}},{key:"unbindKeyboardEvnet",value:function(){this.root.off("keydown",this.onKeyboardEvent)}},{key:"zoomToOriginSize",value:function(){this.zoomTo(1)}},{key:"zoomToBestSize",value:function(){var tt=this.getInitialZoomLevel();!tt||this.zoomTo(tt)}},{key:"updateCursor",value:function(){var tt=this.root,it=this.getCurrentZoomLevel(),Ve=this.getInitialZoomLevel();it===1?tt.addClass("pswp--zoomed-in"):Ve===Ve&&tt.removeClass("pswp--zoomed-in")}},{key:"getInitialZoomLevel",value:function(){var tt;return this.pswpUI?+(((tt=this.pswpUI.currItem.initialZoomLevel)===null||tt===void 0?void 0:tt.toFixed(2))||0):0}},{key:"afterZoom",value:function(){this.updateCursor(),this.emit("afterzoom")}},{key:"getCount",value:function(){var tt;return((tt=this.pswpUI)===null||tt===void 0?void 0:tt.items.length)||0}},{key:"afterChange",value:function(){var tt=this;if(!M.tq){var it=this.getInitialZoomLevel();this.renderCounter(),this.zoom=it,setTimeout(function(){tt.afterZoom()},100),this.emit("afterchange"),this.zoom=this.getInitialZoomLevel()}this.setWhiteBackground()}},{key:"bindPswpEvent",value:function(){var tt,it=this,Ve,et,wt;(tt=this.pswpUI)===null||tt===void 0||tt.listen("afterChange",function(){it.afterChange()}),(Ve=this.pswpUI)===null||Ve===void 0||Ve.listen("destroy",function(){it.isDestroy=!0}),(et=this.pswpUI)===null||et===void 0||et.listen("resize",function(){it.emit("resize")}),(wt=this.pswpUI)===null||wt===void 0||wt.listen("imageLoadComplete",function(){it.setWhiteBackground()})}},{key:"setWhiteBackground",value:function(){this.root.find(".pswp__img").each(function(tt){var it=tt;it.complete?(it.style.background="white",it.style["box-shadow"]="0 0 10px rgba(0, 0, 0, 0.5)"):it.onload=function(){it.style.background="white",it.style["box-shadow"]="0 0 10px rgba(0, 0, 0, 0.5)"}})}},{key:"open",value:function(tt,it){if(this.isDestroy===!0){var Ve=this.root,et=new(q())(this.root.get(),le(),tt,(0,D.Z)({index:it},this.options));et.items=tt,et.init(),this.pswpUI=et,this.isDestroy=!1,M.tq||(this.barUI.removeClass("pswp-fade-out"),this.fadeOut(this.barUI,"barFadeInAndOut"),this.closeUI.removeClass("pswp-fade-out"),this.fadeOut(this.closeUI,"closeFadeInAndOut")),Ve.removeClass("pswp-fade-in"),Ve.addClass("pswp-fade-in"),this.afterChange(),this.bindPswpEvent()}}},{key:"destroy",value:function(){window.removeEventListener("resize",this.reset),this.close()}}]),Ye}(E.EventEmitter2),dt=`.am-engine [data-card-key="image"].card-selected [data-card-element="center"].data-card-border-selected {\r
    outline: none;\r
}\r
\r
.am-engine [data-card-key="image"].card-selected [data-card-element="center"].data-card-border-selected .data-image-disable-resize {\r
    outline: 2px solid #1890FF;\r
}\r
\r
.data-image {\r
    position: relative;\r
    display: inline-block;\r
    font-size: 14px;\r
    text-align: left;\r
    border-radius: 3px 3px;\r
    line-height: 24px;\r
    text-indent: 0;\r
    -webkit-user-select: none;\r
    -moz-user-select: none;\r
        -ms-user-select: none;\r
            user-select: none;\r
}\r
\r
.data-image-blcok {\r
    display: flex;\r
    margin: 0 auto;\r
    width: -webkit-max-content;\r
    width: -moz-max-content;\r
    width: max-content;\r
}\r
\r
.data-image-blcok.data-image-disable-resize {\r
    width: 100%;\r
    display: block;\r
}\r
\r
.data-image-detail {\r
  display: inline-block;\r
}\r
\r
.data-image-blcok .data-image-detail {\r
    display: block;\r
}\r
\r
.data-image-meta {\r
    position: relative;\r
    color: #595959;\r
    line-height: 0;\r
}\r
\r
.data-image-progress {\r
    padding-left: 8px;\r
    color: rgba(255, 255, 255, 0.9);\r
}\r
\r
.data-image-progress .data-anticon {\r
    color: rgba(255, 255, 255, 0.9);\r
    line-height: 24px;\r
    margin-right: 10px;\r
}\r
\r
.data-image-maximize {\r
    position: absolute;\r
    z-index: 2;\r
    right: 10px;\r
    top: 10px;\r
    background-color: rgba(0, 0, 0, 0.65);\r
    width: 20px;\r
    height: 20px;\r
    text-align: center;\r
    font-size: 16px;\r
    color: #fff;\r
    line-height: 20px;\r
    border-radius: 4px;\r
    box-shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.08);\r
    cursor: pointer;\r
}\r
\r
.data-image-maximize .data-icon-maximize {\r
    margin-left: 1px;\r
}\r
\r
.data-image-loading , .data-image-loaded {\r
    display: inline-block;\r
    border-radius: 0 0;\r
    padding: 0 0;\r
    background: transparent;\r
    border-color: transparent;\r
}\r
\r
.data-image-blcok .data-image-loading, .data-image-blcok .data-image-loaded {\r
    display: block;\r
}\r
\r
.data-image-loading .data-image-meta, .data-image-loaded .data-image-meta {\r
    display: inline-block;\r
}\r
\r
.data-image-blcok .data-image-loading .data-image-meta, .data-image-blcok .data-image-loaded .data-image-meta {\r
    display: block;\r
}\r
\r
.data-image-loading .data-image-meta img,.data-image-loaded .data-image-meta img {\r
    border-radius: 2px 2px;\r
    display: inline-block;\r
    width: 100%;\r
    opacity: 0.6;\r
    text-align: left;\r
    cursor: pointer;\r
    transition: opacity 0.3s ease-in-out, box-shadow 0.3s ease-in-out;\r
}\r
\r
.data-image-blcok .data-image-loading .data-image-meta img, .data-image-blcok .data-image-loaded .data-image-meta img {\r
    display: block;\r
}\r
\r
.data-image-loading .data-image-meta img , .data-image-blcok .data-image-loading .data-image-meta img {\r
    display: none;\r
}\r
\r
.data-image-loading  .data-image-meta .data-image-progress,.data-image-loaded .data-image-meta .data-image-progress {\r
    font-family: 'Lucida Console', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\r
    position: absolute;\r
    bottom: 8px;\r
    right: 8px;\r
    font-size: 12px;\r
    line-height: 24px;\r
    color: rgba(255, 255, 255, 0.9);\r
    padding: 0px 6px;\r
    border-radius: 2px 2px;\r
    background: rgba(0, 0, 0, 0.8);\r
    white-space: nowrap;\r
}\r
\r
.data-image-loaded .data-image-meta img {\r
    opacity: 1;\r
}\r
\r
.data-image-error {\r
    padding: 2px 4px;\r
    background: #f5f5f5;\r
    display: flex;\r
    border-radius: 4px;\r
    max-width: 200px;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
    white-space: nowrap;\r
    font-size: 12px;\r
    align-items: center;\r
    -webkit-user-select: none;\r
       -moz-user-select: none;\r
            user-select: none;\r
}\r
\r
.data-image-error .data-icon {\r
    font-size: 12px;\r
}\r
\r
.data-image-error .data-icon-error {\r
    color: red;\r
    margin-right: 8px;\r
}\r
\r
.data-image-error .data-icon-copy {\r
    margin-left: 8px;\r
    cursor: pointer;\r
}\r
\r
.am-engine [data-card-key="image"].card-selected [data-card-element=center].data-card-background-selected {\r
    border-radius: 4px;\r
}\r
\r
.data-image-bg {\r
    display: none;\r
    border-radius: 2px;\r
    opacity: 0.6;\r
    background-size:100% 100%;\r
    background-color: #FAFAFA;\r
    background-repeat: no-repeat;\r
    background-position: center;\r
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjhweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjggMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5pbWFnZS1maWxs5aSH5Lu9PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Iuafpeeci+WbvueJh+S8mOWMljQuMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWKoOi9veWbvueJhyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU3Mi4wMDAwMDAsIC01MDYuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJpbWFnZS1maWxs5aSH5Lu9IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NzAuMDAwMDAwLCA1MDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOSw1IEwzLDUgQzIuNDQ2ODc1LDUgMiw1LjQ0Njg3NSAyLDYgTDIsMjYgQzIsMjYuNTUzMTI1IDIuNDQ2ODc1LDI3IDMsMjcgTDI5LDI3IEMyOS41NTMxMjUsMjcgMzAsMjYuNTUzMTI1IDMwLDI2IEwzMCw2IEMzMCw1LjQ0Njg3NSAyOS41NTMxMjUsNSAyOSw1IFogTTEwLjU2MjUsOS41IEMxMS42NjU2MjUsOS41IDEyLjU2MjUsMTAuMzk2ODc1IDEyLjU2MjUsMTEuNSBDMTIuNTYyNSwxMi42MDMxMjUgMTEuNjY1NjI1LDEzLjUgMTAuNTYyNSwxMy41IEM5LjQ1OTM3NSwxMy41IDguNTYyNSwxMi42MDMxMjUgOC41NjI1LDExLjUgQzguNTYyNSwxMC4zOTY4NzUgOS40NTkzNzUsOS41IDEwLjU2MjUsOS41IFogTTI2LjYyMTg3NSwyMy4xNTkzNzUgQzI2LjU3ODEyNSwyMy4xOTY4NzUgMjYuNTE4NzUsMjMuMjE4NzUgMjYuNDU5Mzc1LDIzLjIxODc1IEw1LjUzNzUsMjMuMjE4NzUgQzUuNCwyMy4yMTg3NSA1LjI4NzUsMjMuMTA2MjUgNS4yODc1LDIyLjk2ODc1IEM1LjI4NzUsMjIuOTA5Mzc1IDUuMzA5Mzc1LDIyLjg1MzEyNSA1LjM0Njg3NSwyMi44MDYyNSBMMTAuNjY4NzUsMTYuNDkzNzUgQzEwLjc1NjI1LDE2LjM4NzUgMTAuOTE1NjI1LDE2LjM3NSAxMS4wMjE4NzUsMTYuNDYyNSBDMTEuMDMxMjUsMTYuNDcxODc1IDExLjA0Mzc1LDE2LjQ4MTI1IDExLjA1MzEyNSwxNi40OTM3NSBMMTQuMTU5Mzc1LDIwLjE4MTI1IEwxOS4xLDE0LjMyMTg3NSBDMTkuMTg3NSwxNC4yMTU2MjUgMTkuMzQ2ODc1LDE0LjIwMzEyNSAxOS40NTMxMjUsMTQuMjkwNjI1IEMxOS40NjI1LDE0LjMgMTkuNDc1LDE0LjMwOTM3NSAxOS40ODQzNzUsMTQuMzIxODc1IEwyNi42NTkzNzUsMjIuODA5Mzc1IEMyNi43NDA2MjUsMjIuOTEyNSAyNi43MjgxMjUsMjMuMDcxODc1IDI2LjYyMTg3NSwyMy4xNTkzNzUgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjRThFOEU4Ij48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\r
}\r
\r
.data-image-loading .data-image-bg {\r
    display: inline-block;\r
}\r
\r
.data-image-blcok .data-image-loading .data-image-bg {\r
    display: block;\r
}\r
\r
.data-image-loading .data-image-maximize {\r
    display: none;\r
}`;De(dt);var Qe=window.devicePixelRatio,lt=void 0,Te=function(){function Ie(Ue,Ye){var Ae=this;(0,U.Z)(this,Ie),this.editor=void 0,this.options=void 0,this.root=void 0,this.progress=void 0,this.image=void 0,this.detail=void 0,this.meta=void 0,this.maximize=void 0,this.bg=void 0,this.resizer=void 0,this.pswp=void 0,this.src=void 0,this.status=void 0,this.size=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.rate=1,this.isLoad=!1,this.message=void 0,this.onWindowResize=function(){if(!!(0,M.iC)(Ae.editor)){Ae.maxWidth=Ae.getMaxWidth(),Ae.resetSize();var tt=Ae.image.get();if(!!tt){var it=tt.clientWidth,Ve=tt.clientHeight;Ae.resizer&&(Ae.resizer.maxWidth=Ae.maxWidth,Ae.resizer.setSize(it,Ve))}}},this.getSrc=function(){var tt=Ae.options.onBeforeRender;return tt&&Ae.status!=="error"?tt(Ae.status,Ae.src,Ae.editor):Ae.src},this.openZoom=function(tt){tt.preventDefault(),tt.stopPropagation();var it=Ae.editor,Ve=[],et=it.card.closest(Ae.root),wt=0;it.container.find('[data-card-key="image"]').toArray().filter(function(jt){return jt.find("img").length>0}).forEach(function(jt,on){var bn=it.card.find(jt),Ft=bn==null?void 0:bn.getValue();if(!(!bn||!Ft)){var Mt=bn.getCenter().find("img"),_t=parseInt(Mt.css("width")),Jt=parseInt(Mt.css("height")),Me=Ft.size,yn=Me?Me.naturalWidth||Ae.size.naturalWidth:_t*Qe,Wt=Me?Me.naturalHeight||Ae.size.naturalHeight:Jt*Qe,xn=Ft.src,Nn=Ae.options.onBeforeRender;Nn&&(xn=Nn("done",xn,Ae.editor));var Cr=Mt.attributes("src");Ve.push({src:xn,msrc:Cr,w:yn,h:Wt}),et!=null&&et.equal(jt)&&(wt=on)}}),Ae.pswp.open(Ve,wt)},this.focus=function(){!(0,M.iC)(Ae.editor)||(Ae.root.addClass("data-image-active"),Ae.status==="done"&&(Ae.destroyEditor(),Ae.renderEditor()))},this.blur=function(){!(0,M.iC)(Ae.editor)||(Ae.root.removeClass("data-image-active"),Ae.status==="done"&&Ae.destroyEditor())},this.editor=Ue,this.options=Ye,this.src=this.options.src,this.size=this.options.size||{width:0,height:0,naturalHeight:0,naturalWidth:0},this.maxHeight=this.options.maxHeight,this.status=this.options.status,this.root=(0,M.$)(this.renderTemplate()),this.progress=this.root.find(".data-image-progress"),this.image=this.root.find("img"),this.detail=this.root.find(".data-image-detail"),this.meta=this.root.find(".data-image-meta"),this.maximize=this.root.find(".data-image-maximize"),this.bg=this.root.find(".data-image-bg"),this.maxWidth=this.getMaxWidth(),this.pswp=lt||new je(Ue),this.message=this.options.message,lt=this.pswp}return(0,x.Z)(Ie,[{key:"renderTemplate",value:function(Ye){var Ae=this.options,tt=Ae.link,it=Ae.percent,Ve=Ae.className,et=Ae.onBeforeRender;if(this.status==="error")return'<span class="data-image-error" style="max-width:'.concat(this.maxWidth,'px"><span class="data-icon data-icon-error"></span>').concat(Ye||this.options.message,'<span class="data-icon data-icon-copy"></span></span>');var wt=et?et(this.status,this.options.src,this.editor):this.options.src,jt=`<span class="data-image-progress">
                            <i class="data-anticon">
                                <svg viewBox="0 0 1024 1024" class="data-anticon-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true">
                                    <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path>
                                </svg>
                            </i>
                            <span class="percent">`.concat(it||0,`%</span>
                        </span>`),on=(0,M.YU)(this.options.alt||""),bn=on?' alt="'.concat(on,'" title="').concat(on,'" '):"",Ft='<img src="'.concat((0,M.Nm)(wt),'" class="').concat(Ve||"",' data-drag-image" ').concat(bn,"/>");if(tt&&!(0,M.iC)(this.editor)){var Mt=tt.target||"_blank";Ft='<a href="'.concat((0,M.Nm)(tt.href),'" target="').concat(Mt,'">').concat(Ft,"</a>")}var _t='<span class="data-image-maximize" style="display: none;"><span class="data-icon data-icon-maximize"></span></span>';return`
        <span class="data-image">
            <span class="data-image-content data-image-loading">
                <span class="data-image-detail">
                    <span class="data-image-meta">
                        `.concat(Ft,`
                        `).concat(jt,`
						<span class="data-image-bg"></span>
                        `).concat(_t,`
                    </span>
                </span>
            </span>
        </span>`)}},{key:"bindErrorEvent",value:function(Ye){var Ae=this,tt=this.editor,it=Ye.find(".data-icon-copy");it.on("mouseenter",function(){M.u.show(it,tt.language.get("image","errorMessageCopy").toString())}),it.on("mouseleave",function(){M.u.hide()}),it.on("click",function(Ve){Ve.stopPropagation(),Ve.preventDefault(),M.u.hide(),tt.clipboard.copy(Ae.message||Ae.options.message||"Error message"),tt.messageSuccess("copy",tt.language.get("copy","success").toString())})}},{key:"setProgressPercent",value:function(Ye){this.progress.find(".percent").html("".concat(Ye,"%"))}},{key:"imageLoadCallback",value:function(){var Ye=this.editor,Ae=Ye.card.closest(this.root);if(!(!Ae||this.status==="uploading")){if(this.status==="done"){var tt=this.root.find(".data-image-content");tt.addClass("data-image-loaded"),tt.removeClass("data-image-loading")}var it=this.image.get();if(!!it){var Ve=it.naturalWidth,et=it.naturalHeight;this.rate=et/Ve,this.size.naturalWidth=Ve,this.size.naturalHeight=et,this.size.width||(this.size.width=Ve),this.size.height||(this.size.height=et),this.resetSize(),this.image.css("visibility","visible"),this.detail.css("height",""),this.detail.css("width","");var wt=this.options.onChange;(0,M.iC)(Ye)&&wt&&wt(this.size,!0),window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize),Ye.off("editor:resize",this.onWindowResize),Ye.on("editor:resize",this.onWindowResize),this.resizer&&this.resizer.setSize(it.clientWidth,it.clientHeight),this.isLoad=!0,this.options.onLoad&&this.options.onLoad()}}}},{key:"imageLoadError",value:function(){if(this.status!=="uploading"){this.status="error";var Ye=this.options.container;Ye.empty(),Ye.append(this.renderTemplate(this.editor.language.get("image","loadError").toString())),this.detail.css("width",""),this.detail.css("height",""),this.bindErrorEvent(Ye);var Ae=this.options.onError;Ae&&Ae(),this.isLoad=!0}}},{key:"getMaxWidth",value:function(){var Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.root,Ae=this.editor.block.closest(Ye).get();return Ae?Ae.clientWidth-6:0}},{key:"resetSize",value:function(){this.meta.css({"background-color":"",width:""}),this.image.css({width:""});var Ye=this.image.get();if(!!Ye){var Ae=this.size,tt=Ae.width,it=Ae.height;if(!it)it=Math.round(this.rate*tt);else if(!tt)tt=Math.round(it/this.rate);else if(tt&&it)it=Math.round(this.rate*tt),this.size.height=it;else{var Ve=Ye.clientWidth,et=Ye.clientHeight;tt=Ve,it=et;var wt=this.size,jt=wt.naturalWidth,on=wt.naturalHeight;this.isSvg()&&jt&&on&&(tt=jt,it=on)}tt>this.maxWidth&&(tt=this.maxWidth,it=Math.round(tt*this.rate)),this.options.enableResizer===!1?this.image.css("width",""):this.image.css("width","".concat(tt,"px"))}}},{key:"changeSize",value:function(Ye,Ae){Ye<24&&(Ye=24,Ae=Ye*this.rate),Ye>this.maxWidth&&(Ye=this.maxWidth,Ae=Ye*this.rate),Ae<24&&(Ae=24,Ye=Ae/this.rate),Ye=Math.round(Ye),Ae=Math.round(Ae),this.size.width=Ye,this.size.height=Ae,this.image.css({width:"".concat(Ye,"px")});var tt=this.options.onChange;tt&&tt(this.size),this.destroyEditor(),this.renderEditor()}},{key:"changeUrl",value:function(Ye){this.src!==Ye&&(this.src=Ye,this.isLoad=!1,this.image.attributes("src",this.getSrc()))}},{key:"isSvg",value:function(){return this.src.split("?")[0].endsWith(".svg")||this.src.startsWith("data:image/svg+xml")}},{key:"closeZoom",value:function(){var Ye;(Ye=this.pswp)===null||Ye===void 0||Ye.close()}},{key:"renderEditor",value:function(){var Ye=this,Ae=this.image.get();if(!!Ae){var tt=Ae.clientWidth,it=Ae.clientHeight;if(!(!tt||!it)){var Ve=this.editor;if(this.maxWidth=this.getMaxWidth(),this.rate=it/tt,!(M.tq||!(0,M.iC)(Ve)||Ve.readonly)&&this.options.enableResizer!==!1){var et=new M.w_({imgUrl:this.getSrc(),width:tt,height:it,rate:this.rate,maxWidth:this.maxWidth,onChange:function(on){var bn=on.width,Ft=on.height;return Ye.changeSize(bn,Ft)}}),wt=et.render();this.root.find(".data-image-detail").append(wt),this.resizer=et,this.resizer.on("dblclick",this.openZoom)}}}}},{key:"destroyEditor",value:function(){var Ye,Ae;(Ye=this.resizer)===null||Ye===void 0||Ye.off("dblclick",this.openZoom),(Ae=this.resizer)===null||Ae===void 0||Ae.destroy()}},{key:"destroy",value:function(){window.removeEventListener("resize",this.onWindowResize),this.editor.off("editor:resize",this.onWindowResize),this.destroyEditor(),this.image.off("click",this.openZoom),this.image.off("dblclick",this.openZoom),this.maximize.off("click",this.openZoom)}},{key:"render",value:function(Ye){var Ae=this,tt=this.options,it=tt.container,Ve=tt.display,et=tt.enableResizer;Ve===M.eT.BLOCK&&this.root.addClass("data-image-blcok");var wt=this.editor;if(et===!1&&this.root.addClass("data-image-disable-resize"),this.status==="error"&&(0,M.iC)(wt)){this.root=(0,M.$)(this.renderTemplate(this.message||wt.language.get("image","uploadError"))),this.bindErrorEvent(this.root),it.empty().append(this.root),this.progress.remove();return}if(this.status==="uploading"?(this.progress.show(),it.empty().append(this.root)):this.progress.remove(),this.status==="done"&&this.isLoad){var jt=this.root.find(".data-image-content");jt.addClass("data-image-loaded"),jt.removeClass("data-image-loading")}this.status==="done"&&!this.isLoad&&(this.root.inEditor()||it.empty().append(this.root)),this.maxWidth=this.getMaxWidth();var on=this.size,bn=on.width,Ft=on.height;if(bn&&Ft||!this.src){if(bn>this.maxWidth?(bn=this.maxWidth,Ft=Math.round(bn*Ft/this.size.width)):!this.src&&!bn&&!Ft&&(bn=this.maxWidth,Ft=this.maxWidth/2),this.src){this.options.enableResizer===!1?this.image.css({width:"100%"}):this.image.css({width:bn+"px"});var Mt=this.options.onChange;bn>0&&Ft>0&&(this.size=(0,D.Z)((0,D.Z)({},this.size),{},{width:bn,height:Ft}),Mt&&Mt(this.size))}this.options.enableResizer===!1?this.bg.css({width:"100%"}):this.bg.css({width:bn+"px",height:Ft+"px"}),Ye&&this.bg.css("background-image","url(".concat(Ye,")"))}if(this.image.on("load",function(){return Ae.imageLoadCallback()}),this.image.on("error",function(){return Ae.imageLoadError()}),M.tq||(this.root.on("mouseenter",function(){Ae.maximize.show()}),this.root.on("mouseleave",function(){Ae.maximize.hide()})),!(0,M.iC)(wt)||wt.readonly){var _t=this.image.closest("a");_t.length===0&&this.image.on("click",this.openZoom)}this.maximize.on("click",this.openZoom),((0,M.iC)(wt)||!this.root.inEditor())&&this.image.on("dblclick",this.openZoom)}}]),Ie}(),Je=function(Ie){(0,m.Z)(Ye,Ie);var Ue=(0,p.Z)(Ye);function Ye(){var Ae;(0,U.Z)(this,Ye);for(var tt=arguments.length,it=new Array(tt),Ve=0;Ve<tt;Ve++)it[Ve]=arguments[Ve];return Ae=Ue.call.apply(Ue,[this].concat(it)),Ae.image=void 0,Ae.widthInput=void 0,Ae.heightInput=void 0,Ae.isLocalError=void 0,Ae}return(0,x.Z)(Ye,[{key:"setProgressPercent",value:function(tt){var it;(it=this.image)===null||it===void 0||it.setProgressPercent(tt),this.setValue({percent:tt})}},{key:"setSize",value:function(tt,it){if(!(!tt.width||!tt.height)){var Ve=this.getValue();(!it||!Ve.size||!Ve.size.height||!Ve.size.width||!Ve.size.naturalWidth||!Ve.size.naturalHeight)&&this.setValue({size:tt}),this.widthInput&&(this.widthInput.get().value=tt.width.toString()),this.heightInput&&(this.heightInput.get().value=tt.height.toString())}}},{key:"onInputChange",value:function(tt,it){var Ve,et=this.getValue();if(typeof tt=="string"){if(!/^[1-9]+(\d+)?$/.test(tt)&&this.widthInput){var wt,jt;tt=(et==null||(wt=et.size)===null||wt===void 0?void 0:wt.width)||(et==null||(jt=et.size)===null||jt===void 0?void 0:jt.naturalWidth)||0,this.widthInput.get().value=tt.toString()}tt=parseInt(tt.toString(),10)}if(typeof it=="string"){if(!/^[1-9]+(\d+)?$/.test(it)&&this.heightInput){var on,bn;it=(et==null||(on=et.size)===null||on===void 0?void 0:on.height)||(et==null||(bn=et.size)===null||bn===void 0?void 0:bn.naturalHeight)||0,this.heightInput.get().value=it.toString()}it=parseInt(it.toString(),10)}(Ve=this.image)===null||Ve===void 0||Ve.changeSize(parseInt(tt.toString(),10),it)}},{key:"toolbar",value:function(){var tt=this,it,Ve=this.editor,et=function(){var on,bn,Ft,Mt,_t,Jt,Me;if(!(0,M.iC)(Ve)||Ve.readonly)return[];var yn=Ve.language,Wt=tt.getValue();if(tt.isLocalError===!0||((on=Wt)===null||on===void 0?void 0:on.status)!=="done")return[{key:"delete",type:"delete"}];var xn=[{key:"copy",type:"copy"},{key:"delete",type:"delete"}];if(M.tq)return xn;var Nn=[{key:"width",type:"input",placeholder:yn.get("image","toolbbarWidthTitle").toString(),prefix:"W:",value:((bn=Wt)===null||bn===void 0||(Ft=bn.size)===null||Ft===void 0?void 0:Ft.width)||0,didMount:function(xi){tt.widthInput=xi.find("input[type=input]")},onChange:function(xi){var $i,_i=Math.round(parseInt(xi,10)*((($i=tt.image)===null||$i===void 0?void 0:$i.rate)||1));tt.onInputChange(xi,_i)}},{key:"height",type:"input",placeholder:yn.get("image","toolbbarHeightTitle").toString(),prefix:"H:",value:((Mt=Wt)===null||Mt===void 0||(_t=Mt.size)===null||_t===void 0?void 0:_t.height)||0,didMount:function(xi){tt.heightInput=xi.find("input[type=input]")},onChange:function(xi){var $i,_i=Math.round(parseInt(xi,10)/((($i=tt.image)===null||$i===void 0?void 0:$i.rate)||1));tt.onInputChange(_i,xi)}},{key:"resize",type:"button",content:'<span class="data-icon data-icon-huanyuan"></span>',title:yn.get("image","toolbarReductionTitle"),onClick:function(){var xi,$i,_i,Vr;Wt=tt.getValue(),tt.onInputChange(((xi=Wt)===null||xi===void 0||($i=xi.size)===null||$i===void 0?void 0:$i.naturalWidth)||0,((_i=Wt)===null||_i===void 0||(Vr=_i.size)===null||Vr===void 0?void 0:Vr.naturalHeight)||0)}}],Cr=[{key:"block",type:"button",content:'<span class="data-icon data-icon-block-image"></span>',title:yn.get("image","displayBlockTitle"),onClick:function(){tt.type=M.eT.BLOCK}},{key:"inline",type:"button",content:'<span class="data-icon data-icon-inline-image"></span>',title:yn.get("image","displayInlineTitle"),onClick:function(){tt.type=M.eT.INLINE}}],jr=Ve.plugin.findPlugin("image");return xn.concat([].concat((0,T.Z)((jr==null||(Jt=jr.options)===null||Jt===void 0?void 0:Jt.enableResizer)===!1?[]:Nn),(0,T.Z)((jr==null||(Me=jr.options)===null||Me===void 0?void 0:Me.enableTypeSwitch)===!1?[]:Cr)))},wt=(it=Ve.plugin.findPlugin("image"))===null||it===void 0?void 0:it.options;return wt!=null&&wt.cardToolbars?wt.cardToolbars(et(),this.editor):et()}},{key:"onActivate",value:function(tt){var it,Ve;(0,S.Z)((0,g.Z)(Ye.prototype),"onActivate",this).call(this,tt),tt&&!this.selectedByOther?(it=this.image)===null||it===void 0||it.focus():(Ve=this.image)===null||Ve===void 0||Ve.blur()}},{key:"onSelectByOther",value:function(tt,it){var Ve,et,wt;(Ve=this.image)===null||Ve===void 0||(et=Ve.root)===null||et===void 0||et.css("outline",tt?"2px solid "+it.color:"");var jt="card-selected-other";return tt?this.root.addClass(jt):this.root.removeClass(jt),(wt=this.image)===null||wt===void 0?void 0:wt.root}},{key:"writeHistoryOnValueChange",value:function(){if(this.loading)return!1}},{key:"render",value:function(tt){var it=this,Ve=this.getValue();if(!!Ve){var et=this.editor;if(!this.image||this.image.root.length===0){var wt,jt,on=et.plugin.findPlugin("image");this.image=new Te(et,{root:this.root,container:this.getCenter(),status:Ve.status||"done",src:Ve.src,size:Ve.size,alt:Ve.alt,link:Ve.link,display:this.type,percent:Ve.percent,message:Ve.message,enableResizer:on==null||(wt=on.options)===null||wt===void 0?void 0:wt.enableResizer,onBeforeRender:function(Jt,Me){var yn=et.plugin.findPlugin("image");if(yn){var Wt=yn.options||{},xn=Wt.onBeforeRender;if(xn)return xn(Jt,Me,it.editor)}return Me},onChange:function(Jt,Me){(0,M.iC)(et)&&!et.readonly&&Jt&&it.setSize(Jt,Me)},onError:function(){it.isLocalError=!0,it.didUpdate()},onLoad:function(){var Jt,Me,yn,Wt;if(((Jt=it.image)===null||Jt===void 0?void 0:Jt.size)&&(!(!((Me=Ve.size)===null||Me===void 0)&&Me.naturalHeight)||!(!((yn=Ve.size)===null||yn===void 0)&&yn.naturalWidth))){var xn=it.image.size,Nn=xn.naturalHeight,Cr=xn.naturalWidth;it.setSize((0,D.Z)((0,D.Z)({},Ve.size),{},{naturalHeight:Nn,naturalWidth:Cr}),!0)}it.activated&&((Wt=it.image)===null||Wt===void 0||Wt.focus())},maxHeight:on==null||(jt=on.options)===null||jt===void 0?void 0:jt.maxHeight})}else{var bn,Ft,Mt;this.image.changeUrl(Ve.src),this.image.status=Ve.status||"done",this.image.message=Ve.message,this.image.size.width=((bn=Ve.size)===null||bn===void 0?void 0:bn.width)||0,this.image.size.height=((Ft=Ve.size)===null||Ft===void 0?void 0:Ft.height)||0,Ve.percent&&this.image.setProgressPercent(Ve.percent),(Mt=this.image.resizer)===null||Mt===void 0||Mt.destroy()}this.image.render(tt)}}},{key:"didUpdate",value:function(){var tt,it,Ve,et;(0,S.Z)((0,g.Z)(Ye.prototype),"didUpdate",this).call(this),(tt=this.toolbarModel)===null||tt===void 0||(it=tt.getContainer())===null||it===void 0||it.remove(),(Ve=this.toolbarModel)===null||Ve===void 0||Ve.create(),(et=this.toolbarModel)===null||et===void 0||et.setDefaultAlign("top")}},{key:"didRender",value:function(){var tt,it=this.getValue();it.status==="done"&&(0,S.Z)((0,g.Z)(Ye.prototype),"didRender",this).call(this),(tt=this.toolbarModel)===null||tt===void 0||tt.setDefaultAlign("top")}}],[{key:"cardName",get:function(){return"image"}},{key:"cardType",get:function(){return M.eT.INLINE}},{key:"collab",get:function(){return!1}}]),Ye}(M.Zb),te="drop:files",fe="paste:event",ue="paste:schema",ae="paste:each",de="paste:after",ve="markdown-it",J=function(Ie){(0,m.Z)(Ye,Ie);var Ue=(0,p.Z)(Ye);function Ye(){var Ae;(0,U.Z)(this,Ye);for(var tt=arguments.length,it=new Array(tt),Ve=0;Ve<tt;Ve++)it[Ve]=arguments[Ve];return Ae=Ue.call.apply(Ue,[this].concat(it)),Ae.cardComponents={},Ae.loadCounts={},Ae.extensionNames={svg:"image/svg+xml",png:"image/png",bmp:"image/bmp",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tif:"image/tiff",tiff:"image/tiff",emf:"image/emf",webp:"image/webp"},Ae.dropFiles=function(et){var wt=Ae.editor;if(!!(0,M.iC)(wt)&&(et=et.filter(function(jt){return Ae.isImage(jt)}),et.length!==0))return wt.command.execute("image-uploader",et),!1},Ae.pasteSchema=function(et){et.add({type:"inline",name:"img",isVoid:!0,attributes:{src:{required:!0,value:"@url"},width:"@number",height:"@number",style:{"max-width":"@length","max-height":"@length",width:"@length",height:"@length"},alt:"*",title:"*","data-type":"*","data-size":"@number","data-width":"@number","data-height":"@number"}})},Ae.pasteFiles=function(et){var wt=et.files,jt=Ae.editor;if(!!(0,M.iC)(jt)&&(wt=wt.filter(function(on){return Ae.isImage(on)}),wt.length!==0))return jt.command.execute("image-uploader",wt),!1},Ae.pasteEach=function(et){var wt=Ae.editor,jt=Ae.options.isRemote;if(et.isCard()&&et.attributes(M.mV)){if(et.attributes(M.mV)!=="image")return;var on=(0,M.RW)(et.attributes(M.TM));if(!on||!on.src){et.remove();return}jt&&jt(on.src)?(on.status="uploading",on.percent=0,wt.card.replaceNode(et,"image",on)):on.status==="uploading"&&(on.percent=0,et.attributes(M.TM,(0,M.it)((0,D.Z)((0,D.Z)({},on),{},{status:"done"}))));return}if(et.name==="img"){var bn=et.attributes(),Ft=bn.src||bn["data-src"],Mt=bn.alt;if(!Ft){et.remove();return}var _t=wt.plugin.findPlugin("image"),Jt=bn.width,Me=bn.height,yn=Jt||et.css("width"),Wt=Me||et.css("height"),xn=bn["data-type"]||(_t==null?void 0:_t.options.defaultType),Nn=M.eT.INLINE;if(xn==="block"){var Cr=et.parent();Cr&&Cr.name==="p"&&wt.node.unwrap(Cr),Nn=M.eT.BLOCK}wt.card.replaceNode(et,"image",{type:Nn,src:Ft,status:jt&&jt(Ft)||/^data:image\//i.test(Ft)?"uploading":"done",alt:Mt,percent:0,size:{width:(0,M.ZQ)(yn),height:(0,M.ZQ)(Wt)}}),et.remove()}},Ae.pasteAfter=function(){var et=Ae.editor;et.container.find("[data-card-key=image]").each(function(wt,jt){var on=et.card.find(wt);if(!(!on||!(0,M.iC)(et))){var bn=on.getValue();if(!((bn==null?void 0:bn.status)!=="uploading"||Object.keys(Ae.cardComponents).find(function(Wt){return Ae.cardComponents[Wt].id===on.id}))){var Ft=bn.src;if(/^data:image\//i.test(Ft)){var Mt=Ae.dataURIToFile(Ft),_t=(0,M.Ym)(Mt),Jt=_t?"image.".concat(_t):"image",Me=new globalThis.File([Mt],Jt);Me.uid=new Date().getTime()+"-"+(0,M.ZU)(),et.command.execute("image-uploader",[Me]),Ae.cardComponents[Me.uid]=on;return}var yn=Ae.options.isRemote;yn&&yn(Ft)&&Ae.uploadAddress(Ft,on)}}})},Ae.markdownIt=function(et){Ae.options.markdown!==!1&&(et.enable("image"),et.enable("reference"))},Ae}return(0,x.Z)(Ye,[{key:"init",value:function(){var tt=this.editor;(0,M.iC)(this.editor)&&(tt.on(te,this.dropFiles),tt.on(fe,this.pasteFiles),tt.on(ue,this.pasteSchema),tt.on(ae,this.pasteEach),tt.on(de,this.pasteAfter),tt.on(ve,this.markdownIt));var it=this.options.file||{},Ve=it.accept;if(typeof Ve=="string"&&(Ve=Ve.split(",")),Array.isArray(Ve)){var et=[];(Ve||[]).forEach(function(wt){wt=wt.trim();var jt=wt.split(".").pop();jt&&et.push(jt)}),et.length>0&&(this.extensionNames=et)}else(0,se.Z)(Ve)==="object"&&(this.extensionNames=Ve)}},{key:"isImage",value:function(tt){var it=(0,M.Ym)(tt),Ve=Array.isArray(this.extensionNames)?this.extensionNames:Object.keys(this.extensionNames);return Ve.indexOf("*")>=0||Ve.indexOf(it)>=0}},{key:"dataURIToFile",value:function(tt){var it;tt.split(",")[0].indexOf("base64")>=0?it=atob(tt.split(",")[1]):it=unescape(tt.split(",")[1]);for(var Ve=tt.split(",")[0].split(":")[1].split(";")[0],et=new Uint8Array(it.length),wt=0;wt<it.length;wt++)et[wt]=it.charCodeAt(wt);return new Blob([et],{type:Ve})}},{key:"getUrl",value:function(tt){var it=this.editor.plugin.components.image;if(it){var Ve=it.options||{},et=Ve.onBeforeRender;if(et)return et(tt.status,tt.src,this.editor)}return tt.src}},{key:"loadImage",value:function(tt,it){var Ve=this;this.loadCounts[tt]||(this.loadCounts[tt]=1);var et=new Image,wt=this.editor;et.src=this.getUrl(it),et.onload=function(){delete Ve.loadCounts[tt],wt.card.update(tt,it)},et.onerror=function(){Ve.loadCounts[tt]<=3?setTimeout(function(){Ve.loadCounts[tt]++,Ve.loadImage(tt,it)},500):(delete Ve.loadCounts[tt],it.status="error",it.message=wt.language.get("image","loadError"),wt.card.update(tt,it))}}},{key:"execute",value:function(){var Ae=(0,O.Z)(v().mark(function it(Ve){var et=this,wt,jt,on,bn,Ft,Mt,_t,Jt,Me,yn,Wt,xn,Nn,Cr,jr,ii,xi;return v().wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:if(wt=this.editor,(0,M.iC)(wt)){_i.next=3;break}return _i.abrupt("return");case 3:if(jt=wt.request,on=wt.card,bn=wt.language,Ft=this.options.file,Mt=Ft.action,_t=Ft.data,Jt=Ft.type,Me=Ft.contentType,yn=Ft.multiple,Wt=Ft.crossOrigin,xn=Ft.withCredentials,Nn=Ft.headers,Cr=Ft.name,jr=this.options.parse,ii=this.options.file.limitSize||5242880,!(!Array.isArray(Ve)&&typeof Ve!="string")){_i.next=14;break}return xi=Array.isArray(this.extensionNames)?"."+this.extensionNames.join(",."):Object.values(this.extensionNames).join(","),_i.next=11,jt.getFiles({event:Ve,accept:M.Dt?"image/*":xi.length>0?xi:"",multiple:yn});case 11:Ve=_i.sent,_i.next=17;break;case 14:if(typeof Ve!="string"){_i.next=17;break}return this.insertRemote(Ve),_i.abrupt("return");case 17:if(Ve.length!==0){_i.next=19;break}return _i.abrupt("return");case 19:return jt.upload({url:Mt,crossOrigin:Wt,withCredentials:xn,headers:Nn,data:_t,type:Jt,contentType:Me,onBefore:function(Kr){return Kr.size>ii?(wt.messageError("upload-limit",bn.get("image","uploadLimitError").toString().replace("$size",(ii/1024/1024).toFixed(0)+"M")),!1):!0},onReady:function(Kr){if(!(!(0,M.iC)(wt)||!!et.cardComponents[Kr.uid])){var Tr=Kr.src||"",qt=typeof Tr!="string"?window.btoa(String.fromCharCode.apply(String,(0,T.Z)(new Uint8Array(Tr)))):Tr,Zt=function(pe){var oe,me=wt.plugin.findPlugin("image"),Pe=on.insert("image",(0,D.Z)((0,D.Z)({},pe),{},{status:"uploading",type:pe.type||(me==null||(oe=me.options)===null||oe===void 0?void 0:oe.defaultType)}),qt);et.cardComponents[Kr.uid]=Pe};return new Promise(function(Ee){var pe=new Image;pe.src=qt;var oe=wt.plugin.findPlugin("image");pe.onload=function(){var me,Pe=pe.naturalWidth,nt=pe.naturalHeight,ht=pe.height,vt=pe.width,St=vt,It=ht,Kt=oe==null||(me=oe.options)===null||me===void 0?void 0:me.maxHeight;Kt&&nt>Pe&&ht>Kt&&(It=Kt,St=Pe*(Kt/nt)),Zt({src:"",size:{width:St,height:It,naturalHeight:pe.naturalHeight,naturalWidth:pe.naturalWidth}}),Ee()},pe.onerror=function(){Zt({src:"",status:"error"}),Ee()}})}},onUploading:function(Kr,Tr){var qt=Tr.percent,Zt=et.cardComponents[Kr.uid||""];!Zt||Zt.setProgressPercent(qt)},onSuccess:function(Kr,Tr){var qt=et.cardComponents[Tr.uid||""];if(!!qt){var Zt=Kr.url||Kr.data&&Kr.data.url||Kr.src||Kr.data&&Kr.data.src,Ee=jr?jr(Kr):Zt?{result:!0,data:Zt}:{result:!1};Ee.result?Zt=Ee.data:on.update(qt.id,{status:"error",message:Ee.data||bn.get("image","uploadError")});var pe={status:"done"};Zt&&(pe.src=Zt,et.loadImage(qt.id,pe)),delete et.cardComponents[Tr.uid||""]}},onError:function(Kr,Tr){var qt=et.cardComponents[Tr.uid||""];!qt||(on.update(qt.id,{status:"error",message:Kr.message||bn.get("image","uploadError")}),delete et.cardComponents[Tr.uid||""])}},Ve,Cr),_i.abrupt("return");case 21:case"end":return _i.stop()}},it,this)}));function tt(it){return Ae.apply(this,arguments)}return tt}()},{key:"uploadAddress",value:function(){var Ae=(0,O.Z)(v().mark(function it(Ve,et){var wt=this,jt,on,bn,Ft,Mt,_t,Jt,Me,yn,Wt,xn,Nn;return v().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:if(jt=this.editor,(0,M.iC)(jt)){jr.next=3;break}return jr.abrupt("return");case 3:on=this.options.remote,bn=on.action,Ft=on.type,Mt=on.contentType,_t=on.crossOrigin,Jt=on.withCredentials,Me=on.headers,yn=on.name,Wt=on.data,xn=this.options.parse,Nn=yn||"url",jt.request.ajax({url:bn,method:"POST",contentType:Mt||"application/json",type:Ft===void 0?"json":Ft,crossOrigin:_t,withCredentials:Jt,headers:Me,data:typeof Wt=="function"?(0,O.Z)(v().mark(function ii(){var xi;return v().wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:return _i.next=2,Wt();case 2:return xi=_i.sent,_i.abrupt("return",(0,D.Z)((0,D.Z)({},xi),{},(0,ce.Z)({},Nn,Ve)));case 4:case"end":return _i.stop()}},ii)})):(0,D.Z)((0,D.Z)({},Wt),{},(0,ce.Z)({},Nn,Ve)),success:function(xi){var $i=xi.url||xi.data&&xi.data.url||xi.src||xi.data&&xi.data.src,_i=xn?xn(xi):$i?{result:!0,data:$i}:{result:!1};_i.result?$i=_i.data:jt.card.update(et.id,{status:"error",message:_i.data||jt.language.get("image","uploadError")});var Vr={status:"done"};$i&&(Vr.src=$i,wt.loadImage(et.id,Vr))},error:function(xi){jt.card.update(et.id,{status:"error",message:xi.message||jt.language.get("image","uploadError")})}});case 7:case"end":return jr.stop()}},it,this)}));function tt(it,Ve){return Ae.apply(this,arguments)}return tt}()},{key:"insertRemote",value:function(tt,it){var Ve=this.editor,et=Ve.plugin.findPlugin("image"),wt={src:tt,alt:it,status:"uploading",type:(et==null?void 0:et.options.defaultType)||M.eT.INLINE},jt=this.options.isRemote;if(jt&&jt(tt)){var on=Ve.card.insert("image",wt);this.uploadAddress(tt,on);return}wt.status="done",Ve.card.insert("image",wt)}},{key:"destroy",value:function(){var tt=this.editor;(0,M.iC)(tt)&&(tt.off(te,this.dropFiles),tt.off(fe,this.pasteFiles),tt.off(ue,this.pasteSchema),tt.off(ae,this.pasteEach),tt.off(de,this.pasteAfter),tt.off(ve,this.markdownIt))}}],[{key:"pluginName",get:function(){return"image-uploader"}}]),Ye}(M.Sy),X={image:{next:"Next",prev:"Previous",zoomIn:"Zoom In",zoomOut:"Zoom Out",originSize:"Origin Size",bestSize:"Best Size",errorMessageCopy:"Copy error message",loadError:"The picture failed to load!",uploadError:"The picture failed to upload!",uploadLimitError:"Upload image size is limited to $size",toolbarReductionTitle:"Reduction size",toolbarWidthTitle:"Width",toolbarHeightTitle:"Height",displayBlockTitle:"Block",displayInlineTitle:"In line"}},K={image:{next:"\u4E0B\u4E00\u5F20",prev:"\u4E0A\u4E00\u5F20",zoomIn:"\u653E\u5927",zoomOut:"\u7F29\u5C0F",originSize:"\u5B9E\u9645\u5C3A\u5BF8",bestSize:"\u9002\u5E94\u5C4F\u5E55",errorMessageCopy:"\u590D\u5236\u9519\u8BEF\u4FE1\u606F",loadError:"\u56FE\u7247\u52A0\u8F7D\u5931\u8D25\uFF01",uploadError:"\u4E0A\u4F20\u56FE\u7247\u5931\u8D25\uFF01",uploadLimitError:"\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u9650\u5236\u4E3A $size",toolbarReductionTitle:"\u8FD8\u539F",toolbarWidthTitle:"\u5BBD\u5EA6",toolbarHeightTitle:"\u5BBD\u5EA6",displayBlockTitle:"\u72EC\u5360\u4E00\u884C",displayInlineTitle:"\u5D4C\u5165\u884C\u5185"}},ze={"en-US":X,"zh-CN":K},Ze="parse:html",We=function(Ie){(0,m.Z)(Ye,Ie);var Ue=(0,p.Z)(Ye);function Ye(){var Ae;(0,U.Z)(this,Ye);for(var tt=arguments.length,it=new Array(tt),Ve=0;Ve<tt;Ve++)it[Ve]=arguments[Ve];return Ae=Ue.call.apply(Ue,[this].concat(it)),Ae.parseHtml=function(et,wt){var jt=[],on=Ae.editor;return et.find("[".concat(M.Jr,'="').concat(Je.cardName,'"],[').concat(M.mV,'="').concat(Je.cardName,'"]')).each(function(bn){var Ft=(0,M.$)(bn),Mt=on.card.find(Ft),_t=(Mt==null?void 0:Mt.getValue())||(0,M.RW)(Ft.attributes(M.TM));if((_t==null?void 0:_t.src)&&_t.status==="done"){var Jt=Ft.find(".data-image-meta img"),Me=Jt.length>0?Jt.clone(!0):(0,M.$)("<img />");Ft.empty();var yn=_t.src,Wt=Ae.options.onBeforeRender;Wt&&(yn=Wt(_t.status,_t.src,Ae.editor));var xn=Ft.attributes(M.W9);Me.attributes("src",yn),Me.css("visibility","visible");var Nn=_t.size;Nn!=null&&Nn.width&&Me.css("width","".concat(Nn.width,"px")),Nn!=null&&Nn.height&&Me.css("height","".concat(Nn.height,"px")),Me.removeAttributes("class"),Me.attributes("data-type",xn),wt&&(Me=wt(Me,_t)),xn===M.eT.BLOCK&&(Me=on.node.wrap(Me,(0,M.$)('<p style="text-align:center;"></p>'))),Ft.replaceWith(Me),jt.push(Me)}else Ft.remove()}),jt},Ae}return(0,x.Z)(Ye,[{key:"init",value:function(){var tt=this.editor;tt.language.add(ze),tt.on(Ze,this.parseHtml)}},{key:"execute",value:function(tt,it,Ve){var et={status:tt,src:it,alt:Ve};tt==="error"&&(et.src="",et.message=it),this.editor.card.insert("image",et)}},{key:"waiting",value:function(){var Ae=(0,O.Z)(v().mark(function it(Ve){var et=this,wt,jt,on,bn;return v().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return wt=this.editor.card,jt=function(Jt){var Me;return Jt.root.inEditor()&&Jt.name===Je.cardName&&((Me=Jt.getValue())===null||Me===void 0?void 0:Me.status)==="uploading"},on=function(){return wt.components.find(jt)},bn=function(Jt){var Me=6e4;return new Promise(function(yn,Wt){if(Ve){var xn=Ve(et.constructor.pluginName,Jt);if(xn===!1)return Wt({name:et.constructor.pluginName,card:Jt});typeof xn=="number"&&(Me=xn)}var Nn=new Date().getTime(),Cr=new Date().getTime(),jr=function ii(){if(Cr-Nn>=Me)return yn();setTimeout(function(){jt(Jt)?ii():yn()},10)};jr()})},Mt.abrupt("return",new Promise(function(){var _t=(0,O.Z)(v().mark(function Jt(Me,yn){var Wt,xn;return v().wrap(function(Cr){for(;;)switch(Cr.prev=Cr.next){case 0:Wt=on(),xn=function jr(ii){bn(ii).then(function(){var xi=on();xi?jr(xi):Me()}).catch(yn)},Wt?xn(Wt):Me();case 3:case"end":return Cr.stop()}},Jt)}));return function(Jt,Me){return _t.apply(this,arguments)}}()));case 5:case"end":return Mt.stop()}},it,this)}));function tt(it){return Ae.apply(this,arguments)}return tt}()},{key:"destroy",value:function(){this.editor.off(Ze,this.parseHtml)}}],[{key:"pluginName",get:function(){return"image"}}]),Ye}(M.Sy),ye=We},61784:function(ut,Ce,f){"use strict";var O=f(24572),U=f(40936),x=f(49962),m=f(65782),p=f(64655),d=f(62998),v="text-indent",M="keydown:backspace",D="keydown:tab",T="keydown:shift-tab",S="paste:each",g=function(z){(0,m.Z)(Y,z);var E=(0,p.Z)(Y);function Y(){var q;(0,U.Z)(this,Y);for(var j=arguments.length,le=new Array(j),ce=0;ce<j;ce++)le[ce]=arguments[ce];return q=E.call.apply(E,[this].concat(le)),q.onBackspace=function(se){var ne=q.editor;if(!!(0,d.iC)(ne)){var De=ne.change,we=ne.list,je=ne.node,dt=ne.block,Qe=De.range.get(),lt=dt.closest(Qe.startNode);if(!!je.isBlock(lt)){var Te=lt.parent(),Je=De.blocks;if(Te&&je.isBlock(Te)&&(Je=Je.filter(function(te){return!te.equal(Te)})),lt.name==="li"){if(Qe.collapsed&&!we.isFirst(Qe))return;if(!Qe.collapsed)return}else{if((Qe.collapsed&&dt.isLastOffset(Qe,"end")||!dt.isFirstOffset(Qe,"start"))&&!je.isEmptyWidthChild(lt)||Je.length>1)return;if(!Qe.collapsed)return}if(q.queryState())return se.preventDefault(),ne.command.execute(q.constructor.pluginName,"out"),!1}}},q.onTab=function(se){var ne=q.editor;if(!!(0,d.iC)(ne)){var De=ne.change,we=ne.list,je=ne.block,dt=De.range.get();if(dt.collapsed&&we.isFirst(dt))return se.preventDefault(),ne.command.execute(q.constructor.pluginName,"in"),!1;if(!dt.collapsed||je.isFirstOffset(dt,"start"))return se.preventDefault(),ne.command.execute(q.constructor.pluginName,"in",!0),!1}},q.onShiftTab=function(se){var ne=q.editor;if(!!(0,d.iC)(ne))return se.preventDefault(),ne.command.execute(q.constructor.pluginName,"out"),!1},q.pasteEach=function(se){var ne=q.editor;if(se.isElement()&&!se.isCard()&&ne.node.isBlock(se)){var De=se.css(),we=De[v];if(!!we&&we.endsWith("pt")){var je=q.convertToPX(we);if(je){var dt=q.options.maxPadding||50,Qe=(0,d.ZQ)(je),lt=se.width();lt=lt===0?ne.root.width():lt;var Te=se.css("font-size");Te=!Te||Te.endsWith("em")?ne.root.css("font-size"):Te,Te.endsWith("em")&&(Te=(0,d.$)(document.body).css("font-size")),Te.endsWith("px")||(Te="16px");var Je=lt>0?lt/(0,d.ZQ)(Te):dt;Qe=Math.min(je.endsWith("px")?Qe/(0,d.ZQ)(Te):Qe,dt,Je),Qe<=0?se.css(v,""):se.css(v,(0,d.Nn)(Qe>0?Qe:0,"em"))}}}},q}return(0,x.Z)(Y,[{key:"init",value:function(){var j=this.editor;j.schema.add(this.schema()),this.conversion().forEach(function(le){var ce=le.from,se=le.to;j.conversion.add(ce,se)}),j.on(M,this.onBackspace),j.on(D,this.onTab),j.on(T,this.onShiftTab),(0,d.iC)(j)&&j.on(S,this.pasteEach)}},{key:"execute",value:function(){var j=this,le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"in",ce=this.editor;if(!!(0,d.iC)(ce)){var se=ce.change,ne=ce.list,De=ce.block;ne.split();var we=se.range.get(),je=De.findBlocks(we);if(!!je){var dt=this.options.maxPadding||50;je.forEach(function(Qe){j.addPadding(Qe,le==="in"?2:-2,dt)}),ne.merge()}}}},{key:"queryState",value:function(){var j=this.editor;if(!!(0,d.iC)(j)){var le=j.change,ce=j.list,se=j.node,ne=le.range.get();if(!ne.startNode.inEditor())return 0;var De=j.block.closest(ne.startNode);return De.name==="li"?ce.getIndent(De.closest("ul,ol")):se.isRootBlock(De)||se.isNestedBlock(De)?(0,d.ZQ)(De.css(v)):0}}},{key:"addPadding",value:function(j,le,ce){var se=this.editor,ne=se.list,De=se.node;if(j.name!=="li"){if(De.isList(j))ne.addIndent(j,le,ce);else if(De.isRootBlock(j)||De.isNestedBlock(j))if(le>0)if((0,d.ZQ)(j.css(v))){var we=j.css(v),je=(0,d.ZQ)(we)+le,dt=j.width();dt=dt===0?se.root.width():dt;var Qe=j.css("font-size");Qe=!Qe||Qe.endsWith("em")?se.root.css("font-size"):Qe,Qe.endsWith("em")&&(Qe=(0,d.$)(document.body).css("font-size")),Qe.endsWith("px")||(Qe="16px");var lt=dt>0?dt/(0,d.ZQ)(Qe):ce;je=Math.min(we.endsWith("px")?je/(0,d.ZQ)(Qe):je,ce,lt),je<=0?j.css(v,""):j.css(v,(0,d.Nn)(je>0?je:0,"em"))}else j.css(v,"".concat(le,"em"));else{var Te=j.css(v),Je=(0,d.ZQ)(Te)+le;Je<=0?j.css(v,""):j.css(v,(0,d.Nn)(Je>0?Je:0,"em"))}}}},{key:"hotkey",value:function(){var j,le,ce=((j=this.options.hotkey)===null||j===void 0?void 0:j.in)||"mod+]",se=((le=this.options.hotkey)===null||le===void 0?void 0:le.out)||"mod+[";return[{key:ce,args:"in"},{key:se,args:"out"}]}},{key:"schema",value:function(){return{type:"block",attributes:{style:(0,O.Z)({},v,"@length")}}}},{key:"conversion",value:function(){var j=this;return[{from:function(ce,se,ne){return!!se["padding-left"]||!!ne[v]},to:function(ce,se,ne){var De=(0,d.$)("<".concat(ce," />")),we=se["padding-left"]||ne[v];if(we.endsWith("pt")&&(we=j.convertToPX(we)),we.endsWith("px")){var je=se["font-size"];je=!je||je.endsWith("em")?j.editor.root.css("font-size"):je,je.endsWith("em")&&(je=(0,d.$)(document.body).css("font-size")),je.endsWith("px")||(je="16px");var dt=(0,d.ZQ)(we)/(0,d.ZQ)(je);se[v]="".concat(dt,"em")}else we.endsWith("em")&&(se[v]=we);return delete se["padding-left"],delete ne[v],De.css(se),Object.keys(ne).forEach(function(Qe){De.attributes(Qe,ne[Qe])}),De}}]}},{key:"convertToPX",value:function(j){var le=/([\d\.]+)(pt|px)$/i.exec(j);return le&&le[2]==="pt"?String(Math.round(parseInt(le[1],10)*96/72))+"px":j}},{key:"destroy",value:function(){var j=this.editor;j.off(M,this.onBackspace),j.off(D,this.onTab),j.off(T,this.onShiftTab),(0,d.iC)(j)&&j.off(S,this.pasteEach)}}],[{key:"pluginName",get:function(){return"indent"}}]),Y}(d.Sy);Ce.Z=g},91727:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M="markdown-it",D=function(T){(0,p.Z)(g,T);var S=(0,d.Z)(g);function g(){var z;(0,O.Z)(this,g);for(var E=arguments.length,Y=new Array(E),q=0;q<E;q++)Y[q]=arguments[q];return z=S.call.apply(S,[this].concat(Y)),z.tagName="em",z.markdownIt=function(j){z.options.markdown!==!1&&j.enable("emphasis")},z}return(0,U.Z)(g,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(g.prototype),"init",this).call(this);var E=this.editor;(0,v.iC)(E)&&E.on(M,this.markdownIt)}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+i"}},{key:"conversion",value:function(){return[{from:{span:{style:{"font-style":"italic"}}},to:this.tagName},{from:"i",to:this.tagName}]}},{key:"destroy",value:function(){this.editor.off(M,this.markdownIt)}}],[{key:"pluginName",get:function(){return"italic"}}]),g}(v.Rw);Ce.Z=D},19654:function(ut,Ce,f){"use strict";f.d(Ce,{Q:function(){return dt}});var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=f(75782),v=f(60790),M=f(34203),D=f(29129),T=f(85462),S=f(11997),g=f(85170),z=f(15286),E=f(91600),Y=f(24885),q=f.n(Y),j={"en-US":{lightblock:{theme:"theme",borderColor:"border color",backgroundColor:"background color",random:"random"}},"zh-CN":{lightblock:{theme:"\u4E3B\u9898",borderColor:"\u8FB9\u6846\u989C\u8272",backgroundColor:"\u80CC\u666F\u989C\u8272",random:"\u968F\u673A"}}};function le(Te,Je){Je===void 0&&(Je={});var te=Je.insertAt;if(!(!Te||typeof document=="undefined")){var fe=document.head||document.getElementsByTagName("head")[0],ue=document.createElement("style");ue.type="text/css",te==="top"&&fe.firstChild?fe.insertBefore(ue,fe.firstChild):fe.appendChild(ue),ue.styleSheet?ue.styleSheet.cssText=Te:ue.appendChild(document.createTextNode(Te))}}var ce=`.lightblock-container {
	display: flex;
	padding: 12px 16px;
	border: 1px solid transparent;
	border-radius: 4px;
}
.lightblock-icon {
	width: 24px;
	height: 24px;
	font-size: 14px;
	margin-right: 8px;
}

.lightblock-editor-container {
	flex: 1;
	max-width: calc(100% - 36px);
}

.lightblock-icon-theme {
	width: 28px;
	height: 28px;
	display: flex;
	align-items: center;
	justify-content: center;
	position: relative;
}
.lightblock-icon-theme:hover path{
	fill: #40a9ff;
}
.lightblock-theme-contain {
	display: none;
	position: absolute;
	bottom: 0px;
	left: 50%;
	transform: translate(-50%, 100%);
	padding-top: 8px;
}
.lightblock-theme-content {
	flex-direction: column;
	position: relative;
	background: #fff;
	box-shadow: 0 2px 10px rgb(0 0 0 / 12%);
	padding: 12px 16px;
	border-radius: 4px;
}
.lightblock-icon-theme:hover .lightblock-theme-contain {
	display: block;
}
.lightblock-theme-random {
	position: absolute;
	top: 12px;
	right: 12px;
	color:#3370ff;
	font-size: 12px;
	height: 20px;
	line-height: 20px;
	cursor: pointer;
}
.lightblock-theme-random span {
	font-size: 12px;
}
.lightblock-theme-title {
	padding-bottom: 4px;
	color: #888;
	border-bottom: 1px solid #eee;
}
.lightblock-theme-box {
	display: flex;
}
.lightblock-theme-box-item {
	width: 24px;
	height: 24px;
	margin-right: 4px;
	border-radius: 4px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin: 8px 2px;
	cursor: pointer;
}
.lightblock-theme-box-item.active {
	border: 2px solid #3370ff;
}
.lightblock-theme-box-item:hover {
	border: 2px solid rgb(51, 112, 255, 0.5);
}
.lightblock-theme-box-item span {
	display: inline-block;
	width: 20px;
	height: 20px;
	border-radius: 2px;
	filter: brightness(1)
}
`;le(ce);var se={border:["#eff0f1","#fbbfbc","#fed4a4","#fff67a","#b7edb1","#bacefd","#cdb2fa"],background:["#f2f3f5","#fef1f1","#fff5eb","#fefff0","#f0fbef","#f0f4ff","#f6f1fe"]};function ne(Te){var Je=Te.value,te=Te.language,fe=Te.onChange,ue=(0,g.useRef)(null),ae=se.border,de=se.background,ve=Je.borderColor,J=Je.backgroundColor,X=(0,g.useState)(ve),K=(0,E.Z)(X,2),ze=K[0],Ze=K[1],We=(0,g.useState)(J),ye=(0,E.Z)(We,2),Ie=ye[0],Ue=ye[1],Ye=function(){var Ve=Math.floor(Math.random()*ae.length),et=ae[Ve],wt=de[Ve];Ze(et),Ue(wt),fe&&fe({background:wt,border:et})},Ae=function(Ve,et,wt){var jt={border:ze,background:Ie};Ve==="border"&&wt!==void 0&&(Ze(et),Ue(de[wt]),jt.border=et,jt.background=de[wt]),Ve==="background"&&(Ue(et),jt.background=et),fe&&fe(jt)},tt=(0,g.useMemo)(function(){return g.createElement("div",{className:"lightblock-theme-content",ref:ue},g.createElement("div",{className:"lightblock-theme-random",onClick:Ye},g.createElement("span",{className:"data-icon icon-reload"},"\uE77F"),te.random),g.createElement("div",{className:"lightblock-theme-title"},te.borderColor),g.createElement("div",{className:"lightblock-theme-box"},ae.map(function(it,Ve){return g.createElement("span",{key:it,className:"lightblock-theme-box-item  ".concat(ze===it?"active":""),onClick:function(){Ae("border",it,Ve)}},g.createElement("span",{style:{background:it}}))})),g.createElement("div",{style:{height:"8px"}}),g.createElement("div",{className:"lightblock-theme-title"},te.backgroundColor),g.createElement("div",{className:"lightblock-theme-box"},de.map(function(it){return g.createElement("span",{key:it,className:"lightblock-theme-box-item ".concat(Ie===it?"active":""),onClick:function(){Ae("background",it)}},g.createElement("span",{style:{background:it}}))})))},[ze,Ie]);return g.createElement("span",{className:"lightblock-icon-theme"},g.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1777",width:"16",height:"16"},g.createElement("path",{d:"M515.100444 911.758222c-161.393778 0-260.494222-23.495111-302.990222-71.793778-22.442667-25.486222-21.333333-49.521778-20.48-56.291555 0.455111-6.030222 15.530667-189.923556 28.216889-275.655111-4.608-3.128889-14.392889-7.054222-20.053333-9.329778a229.831111 229.831111 0 0 1-13.880889-5.888c-18.716444-8.789333-57.571556-28.046222-57.571556-28.046222-48.298667-22.186667-76.942222-50.403556-83.996444-83.399111-5.660444-26.424889 3.982222-49.180444 14.876444-61.696 1.308444-1.479111 2.702222-2.872889 4.181334-4.124445l227.072-193.735111a39.907556 39.907556 0 0 1 63.800889 17.607111c24.888889 73.699556 97.024 84.736 137.841777 84.736 10.865778 0 17.777778-0.853333 17.834667-0.881778 3.441778-0.426667 7.111111-0.426667 10.552889 0.028445 0 0 6.769778 0.824889 17.265778 0.824889 40.021333 0 110.791111-10.979556 135.253333-84.565334a39.964444 39.964444 0 0 1 64.085333-17.607111l223.800889 193.735111c1.479111 1.28 2.872889 2.673778 4.124445 4.152889 10.780444 12.515556 20.280889 35.299556 14.592 61.639111-7.054222 32.824889-35.299556 60.984889-83.939556 83.626667 0 0.028444-37.489778 18.887111-55.694222 27.562667-4.096 1.934222-8.760889 3.868444-13.710222 5.888-5.518222 2.247111-15.104 6.144-19.598223 9.244444 12.572444 86.471111 27.392 269.880889 28.017778 277.703111 0.682667 5.006222 1.735111 29.184-20.878222 54.812445-42.325333 48.099556-140.032 71.452444-298.723556 71.452444z m-243.541333-125.354666c6.712889 7.936 48.952889 45.425778 243.541333 45.425777 192.227556 0 233.187556-37.575111 239.530667-45.312-2.986667-35.925333-16.384-195.242667-27.249778-268.686222-9.102222-61.582222 47.530667-84.593778 68.835556-93.240889 3.413333-1.393778 6.656-2.673778 9.472-4.010666 17.92-8.533333 55.096889-27.249778 55.153778-27.278223 24.462222-11.434667 34.474667-20.565333 38.4-25.287111l-175.36-151.779555c-52.792889 78.193778-144.355556 87.808-186.083556 87.808-9.927111 0-17.834667-0.540444-22.698667-0.967111a255.601778 255.601778 0 0 1-22.983111 0.967111c-42.325333 0-135.253333-9.671111-188.643555-88.291556l-178.488889 152.291556c4.067556 4.750222 14.108444 13.710222 37.831111 24.604444 1.137778 0.540444 38.855111 19.285333 57.059556 27.818667 2.872889 1.336889 6.172444 2.645333 9.642666 4.039111 21.589333 8.647111 78.904889 31.601778 69.660445 93.411555-11.178667 74.24-24.945778 236.344889-27.619556 268.487112z",fill:"#595959","p-id":"1778"})),g.createElement("div",{className:"lightblock-theme-contain"},tt))}var De=`<span class="lightblock-icon-theme">
<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1777" width="16" height="16">
<path d="M515.100444 911.758222c-161.393778 0-260.494222-23.495111-302.990222-71.793778-22.442667-25.486222-21.333333-49.521778-20.48-56.291555 0.455111-6.030222 15.530667-189.923556 28.216889-275.655111-4.608-3.128889-14.392889-7.054222-20.053333-9.329778a229.831111 229.831111 0 0 1-13.880889-5.888c-18.716444-8.789333-57.571556-28.046222-57.571556-28.046222-48.298667-22.186667-76.942222-50.403556-83.996444-83.399111-5.660444-26.424889 3.982222-49.180444 14.876444-61.696 1.308444-1.479111 2.702222-2.872889 4.181334-4.124445l227.072-193.735111a39.907556 39.907556 0 0 1 63.800889 17.607111c24.888889 73.699556 97.024 84.736 137.841777 84.736 10.865778 0 17.777778-0.853333 17.834667-0.881778 3.441778-0.426667 7.111111-0.426667 10.552889 0.028445 0 0 6.769778 0.824889 17.265778 0.824889 40.021333 0 110.791111-10.979556 135.253333-84.565334a39.964444 39.964444 0 0 1 64.085333-17.607111l223.800889 193.735111c1.479111 1.28 2.872889 2.673778 4.124445 4.152889 10.780444 12.515556 20.280889 35.299556 14.592 61.639111-7.054222 32.824889-35.299556 60.984889-83.939556 83.626667 0 0.028444-37.489778 18.887111-55.694222 27.562667-4.096 1.934222-8.760889 3.868444-13.710222 5.888-5.518222 2.247111-15.104 6.144-19.598223 9.244444 12.572444 86.471111 27.392 269.880889 28.017778 277.703111 0.682667 5.006222 1.735111 29.184-20.878222 54.812445-42.325333 48.099556-140.032 71.452444-298.723556 71.452444z m-243.541333-125.354666c6.712889 7.936 48.952889 45.425778 243.541333 45.425777 192.227556 0 233.187556-37.575111 239.530667-45.312-2.986667-35.925333-16.384-195.242667-27.249778-268.686222-9.102222-61.582222 47.530667-84.593778 68.835556-93.240889 3.413333-1.393778 6.656-2.673778 9.472-4.010666 17.92-8.533333 55.096889-27.249778 55.153778-27.278223 24.462222-11.434667 34.474667-20.565333 38.4-25.287111l-175.36-151.779555c-52.792889 78.193778-144.355556 87.808-186.083556 87.808-9.927111 0-17.834667-0.540444-22.698667-0.967111a255.601778 255.601778 0 0 1-22.983111 0.967111c-42.325333 0-135.253333-9.671111-188.643555-88.291556l-178.488889 152.291556c4.067556 4.750222 14.108444 13.710222 37.831111 24.604444 1.137778 0.540444 38.855111 19.285333 57.059556 27.818667 2.872889 1.336889 6.172444 2.645333 9.642666 4.039111 21.589333 8.647111 78.904889 31.601778 69.660445 93.411555-11.178667 74.24-24.945778 236.344889-27.619556 268.487112z" fill="#595959" p-id="1778"></path>
</svg>
</span>`,we=(0,S.Z)("container"),je=(0,S.Z)("changeTimeout"),dt=function(Te){(0,x.Z)(te,Te);var Je=(0,m.Z)(te);function te(){var fe;(0,O.Z)(this,te);for(var ue=arguments.length,ae=new Array(ue),de=0;de<ue;de++)ae[de]=arguments[de];return fe=Je.call.apply(Je,[this].concat(ae)),fe.contenteditable=["div.lightblock-editor-container"],Object.defineProperty((0,v.Z)(fe),we,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(fe),je,{writable:!0,value:void 0}),fe.updateColor=function(){var ve,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe.getValue();(ve=(0,T.Z)((0,v.Z)(fe),we)[we])===null||ve===void 0||ve.css({borderColor:J.borderColor,backgroundColor:J.backgroundColor})},fe.onChange=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"local",J=fe.editor;(0,p.iC)(J)&&ve==="local"&&J.ot.isStopped()||((0,T.Z)((0,v.Z)(fe),je)[je]&&clearTimeout((0,T.Z)((0,v.Z)(fe),je)[je]),(0,T.Z)((0,v.Z)(fe),je)[je]=setTimeout(function(){var X=fe.getValue();fe.updateColor(X),ve==="local"&&(0,p.iC)(J)&&X&&fe.setValue(X)},50))},fe}return(0,U.Z)(te,[{key:"toolbar",value:function(){var ue=this;if(!(0,p.iC)(this.editor)||this.editor.readonly)return[];var ae=this.getValue(),de=this.editor.language.get("lightblock");return[{type:"dnd"},{type:"copy"},{type:"node",title:de.theme,node:(0,p.$)(De),didMount:function(J){J!=null&&J.get()&&z.render(g.createElement(ne,{language:de,value:ae,onChange:function(K){ue.setValue((0,d.Z)((0,d.Z)({},ae),{},{backgroundColor:K.background,borderColor:K.border})),ue.updateColor()}}),J==null?void 0:J.get())}},{type:"separator"},{type:"delete"}]}},{key:"getValue",value:function(){var ue,ae=(0,M.Z)((0,D.Z)(te.prototype),"getValue",this).call(this),de=(ue=(0,T.Z)(this,we)[we])===null||ue===void 0?void 0:ue.find(this.contenteditable.join(","));if(!de)return ae;var ve=this.editor,J=ve.schema,X=ve.conversion,K=(0,p.$)("<div></div>");K.append(de.clone(!0).children());var ze=new p._b(K,ve),Ze=ze.toValue(J,X,!1,!1);return(0,p.iC)(ve)?(0,d.Z)((0,d.Z)({},ae),{},{html:Ze}):(0,d.Z)((0,d.Z)({},ae),{},{html:Ze})}},{key:"render",value:function(ue){var ae=this,de=this.getValue(),ve=de.borderColor,J=de.backgroundColor,X=de.html?new p._b(de.html,this.editor).toValue():"<br />";return(0,T.Z)(this,we)[we]=(0,p.$)('<div class="lightblock-container" style="border-color: '.concat(ve,";background-color:").concat(J,`;">
				<div class="lightblock-icon">
					<svg
						viewBox="0 0 1024 1024"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg"
						p-id="13148"
						width="24"
						height="24"
					>
						<path
							d="M833.5 330.5C833.5 153 689.6 7.6 512 7.6S190.5 153 190.5 330.5c0 70.3 37.3 161 97.2 227.9 59.4 66.3 103.5 177.9 103.5 266.9v34.9h241.6v-34.6c0-89 44.1-200.4 103.2-266.9 60.1-67.6 97.5-166.4 97.5-228.2z"
							fill="#FFC807"
							p-id="13149"
						></path>
						<path
							d="M636.5 790.6l-193.9-268L596.4 202l199.2 266.4c-17.4 36.4-39.3 67.4-63.9 95.2C685.3 621 664.1 671.1 644 741l-7.5 49.6z"
							fill="#FFB300"
							p-id="13150"
						></path>
						<path
							d="M499.5 378.3h-82.7c-12.6 0-21.4-12.7-16.8-24.5l59.2-153c2.7-6.9 9.4-11.5 16.8-11.5h105c13.6 0 22.3 14.5 15.9 26.5l-81.5 153c-3.2 5.8-9.3 9.5-15.9 9.5z"
							fill="#FFF8E1"
							p-id="13151"
						></path>
						<path
							d="M466.2 518.3l160-171c12-12.8 2.9-33.7-14.6-33.7h-105c-8.7 0-16.4 5.6-19.1 13.9l-55 171c-6.6 20.4 19.1 35.5 33.7 19.8z"
							fill="#FFF8E1"
							p-id="13152"
						></path>
						<path
							d="M593.6 1016.4H430.4c-5.7 0-10.9-3.7-14-9.8l-22.2-44.2h235.6l-22.2 44.2c-3.1 6.1-8.3 9.8-14 9.8z"
							fill="#455A64"
							p-id="13153"
						></path>
						<path
							d="M625.7 980.4H398.3c-22.1 0-40.1-17.9-40.1-40.1V776.7c0-22.1 17.9-40.1 40.1-40.1h227.5c22.1 0 40.1 17.9 40.1 40.1v163.7c-0.1 22.1-18 40-40.2 40z"
							fill="#ECEFF1"
							p-id="13154"
						></path>
						<path
							d="M539.8 808.6H359v-36h180.8c9.9 0 18 8.1 18 18 0 10-8.1 18-18 18zM359 840.1h306v36H359zM665 943.6H494.8c-9.9 0-18-8.1-18-18s8.1-18 18-18H665v36z"
							fill="#CFD8DC"
							p-id="13155"
						></path>
					</svg>
				</div>
				<div class="lightblock-editor-container">`).concat(X,`</div>
			</div>`)),ue&&setTimeout(function(){var K,ze,Ze,We;(K=(0,T.Z)(ae,we)[we])===null||K===void 0||(ze=K.find(".lightblock-editor-container"))===null||ze===void 0||(Ze=ze.get())===null||Ze===void 0||(We=Ze.focus)===null||We===void 0||We.call(Ze)},0),(0,T.Z)(this,we)[we]}},{key:"didRender",value:function(){(0,M.Z)((0,D.Z)(te.prototype),"didRender",this).call(this),this.updateColor()}}],[{key:"cardName",get:function(){return"lightblock"}},{key:"cardType",get:function(){return p.eT.BLOCK}},{key:"autoSelected",get:function(){return!1}},{key:"singleSelectable",get:function(){return!1}}]),te}(p.Zb);function Qe(Te){var Je={borderColor:"#fed4a4",backgroundColor:"#fff5eb",text:"light-block"};Te.use(q(),"tip",{render:function(fe,ue){return fe[ue].nesting===1?'<div data-type="lightblock" data-value="'.concat((0,p.it)(Je),'">'):"</div>"}})}var lt=function(Te){(0,x.Z)(te,Te);var Je=(0,m.Z)(te);function te(){var fe;(0,O.Z)(this,te);for(var ue=arguments.length,ae=new Array(ue),de=0;de<ue;de++)ae[de]=arguments[de];return fe=Je.call.apply(Je,[this].concat(ae)),fe.markdownIt=function(ve){fe.options.markdown!==!1&&Qe(ve)},fe.pasteSchema=function(ve){ve.add({type:"block",name:"div",attributes:{"data-type":{required:!0,value:dt.cardName},"data-value":"*"}})},fe.pasteHtml=function(ve){var J=fe.editor,X=dt.cardName;if(!(!(0,p.iC)(J)||J.readonly)){if(ve.isElement()){var K=ve.attributes("data-type");if(K===X){var ze=ve.attributes("data-value"),Ze=(0,p.RW)(ze);return J.card.replaceNode(ve,X,Ze),ve.remove(),!1}}return!0}},fe.parseHtml=function(ve){var J=dt.cardName;ve.find("[".concat(p.Jr,'="').concat(J,'"],[').concat(p.mV,'="').concat(J,'"]')).each(function(X){var K=(0,p.$)(X),ze=fe.editor.card.find(K),Ze=ze==null?void 0:ze.getValue();if(Ze){K.empty();var We=fe.renderHtml(Ze,J);K.replaceWith(We)}else K.remove()})},fe.renderHtml=function(ve,J){var X=new p._b(ve.html||ve.text,fe.editor).toHTML();return(0,p.$)('<div data-type="'.concat(J,'" data-value="').concat((0,p.it)(ve),'">').concat(X,"</div>"))},fe}return(0,U.Z)(te,[{key:"init",value:function(){var ue=this.editor;ue.language.add(j),ue.on("parse:html",this.parseHtml),ue.on("paste:schema",this.pasteSchema),ue.on("paste:each",this.pasteHtml),(0,p.iC)(ue)&&ue.on("markdown-it",this.markdownIt)}},{key:"execute",value:function(){var ue=this.editor;if(!(!(0,p.iC)(ue)||ue.readonly)){var ae=ue.card;ae.insert(dt.cardName,{borderColor:"#fed4a4",backgroundColor:"#fff5eb",text:"light-block"},!0)}}},{key:"destroy",value:function(){var ue=this.editor;ue.off("parse:html",this.parseHtml),ue.off("paste:schema",this.pasteSchema),ue.off("paste:each",this.pasteHtml)}}],[{key:"pluginName",get:function(){return"lightblock"}}]),te}(p.Sy);Ce.Z=lt},98842:function(ut,Ce,f){"use strict";var O=f(24572),U=f(40936),x=f(49962),m=f(60790),p=f(65782),d=f(64655),v=f(85462),M=f(11997),D=f(62998),T="paste:each",S=(0,M.Z)("styleName"),g=function(z){(0,p.Z)(Y,z);var E=(0,d.Z)(Y);function Y(){var q;(0,U.Z)(this,Y);for(var j=arguments.length,le=new Array(j),ce=0;ce<j;ce++)le[ce]=arguments[ce];return q=E.call.apply(E,[this].concat(le)),Object.defineProperty((0,m.Z)(q),S,{writable:!0,value:"line-height"}),q.pasteEach=function(se){var ne=q.editor;if(!se.isCard()&&ne.node.isBlock(se)){var De=se.css((0,v.Z)((0,m.Z)(q),S)[S]);if(!De)return;var we=q.convertToPX(De);De.endsWith("pt")&&se.css((0,v.Z)((0,m.Z)(q),S)[S],we);var je=q.options.filter;if(je){var dt=je(we);dt===!1?se.css((0,v.Z)((0,m.Z)(q),S)[S],""):typeof dt=="string"&&se.css((0,v.Z)((0,m.Z)(q),S)[S],dt)}else se.css((0,v.Z)((0,m.Z)(q),S)[S],"");var Qe=ne.node;Qe.isBlock(se)||Qe.unwrap(se)}},q}return(0,x.Z)(Y,[{key:"init",value:function(){var j=this.editor;j.schema.add(this.schema()),(0,D.iC)(j)&&j.on(T,this.pasteEach)}},{key:"execute",value:function(j){var le=this,ce=this.editor;if(!!(0,D.iC)(ce)){j==="default"&&(j="");var se=ce.change,ne=ce.block,De=se.range.get(),we=ne.findBlocks(De);!we||we.forEach(function(je){le.addLineHeight(je,j)})}}},{key:"queryState",value:function(){var j=this,le=this.editor;if(!!(0,D.iC)(le)){var ce=le.change,se=le.node,ne=ce.range.get();if(!ne.startNode.inEditor())return["default"];var De=ce.blocks,we=[];return De.forEach(function(je){if(se.isNestedBlock(je)){var dt,Qe=((dt=je.get())===null||dt===void 0?void 0:dt.style.lineHeight)||"";if(!Qe)return;var lt=j.convertToPX(Qe),Te=j.options.filter;if(Te){var Je=Te(lt);if(Je===!1)return;typeof Je=="string"?we.push(Je):we.push(lt)}}}),we.length===0?["default"]:we}}},{key:"addLineHeight",value:function(j,le){var ce=this.editor.node;!ce.isNestedBlock(j)||j.css((0,v.Z)(this,S)[S],le||"")}},{key:"schema",value:function(){return{type:"block",attributes:{style:(0,O.Z)({},(0,v.Z)(this,S)[S],"@length")}}}},{key:"convertToPX",value:function(j){var le=/([\d\.]+)(pt|px)$/i.exec(j);return le&&le[2]==="pt"?String(Math.round(parseInt(le[1],10)*96/72))+"px":j}},{key:"destroy",value:function(){this.editor.off(T,this.pasteEach)}}],[{key:"pluginName",get:function(){return"line-height"}}]),Y}(D.Sy);Ce.Z=g},16539:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=f(78450),D=f(85462),T=f(11997),S=f(6534),g=f.n(S),z=f(85170),E=f(15286),Y=f(41721),q=f(91600),j=f(2800),le=f(16798),ce=f(64823),se=f(6771),ne=function(J){var X=J.language,K=J.defaultLink,ze=J.defaultText,Ze=J.className,We=J.onLoad,ye=J.onOk,Ie=(0,z.useState)(ze||""),Ue=(0,q.Z)(Ie,2),Ye=Ue[0],Ae=Ue[1],tt=(0,z.useState)(K||""),it=(0,q.Z)(tt,2),Ve=it[0],et=it[1],wt=(0,z.useRef)(null);return(0,z.useEffect)(function(){var jt;(jt=wt.current)===null||jt===void 0||jt.focus(),We&&wt.current&&We(wt.current)},[wt]),z.createElement("div",{"data-element":"ui",className:(0,ce.Z)("data-link-editor",Ze)},z.createElement("p",null,X.get("link","text").toString()),z.createElement("p",null,z.createElement(j.Z,{className:"data-link-input",value:Ye,placeholder:X.get("link","text_placeholder").toString(),onChange:function(on){Ae(on.target.value)}})),z.createElement("p",null,X.get("link","link").toString()),z.createElement("p",null,z.createElement(j.Z,{ref:wt,className:"data-link-input",value:Ve,placeholder:X.get("link","link_placeholder").toString(),onChange:function(on){et(on.target.value)}})),z.createElement("p",null,z.createElement(le.ZP,{className:"data-link-button",onClick:function(){return ye(Ye,Ve)},disabled:Ve.trim()===""},X.get("link","ok_button").toString())))},De=function(J){var X=J.language,K=J.readonly,ze=J.href,Ze=J.onEdit,We=J.onRemove,ye=function(){var Ye=z.createElement("a",{className:"data-icon data-icon-edit",onClick:Ze});return v.tq?Ye:z.createElement(se.Z,{title:X.get("link","link_edit").toString()},Ye)},Ie=function(){var Ye=z.createElement("a",{className:"data-icon data-icon-unlink",onClick:We});return v.tq?Ye:z.createElement(se.Z,{title:X.get("link","link_remove").toString()},Ye)};return z.createElement("div",{className:(0,ce.Z)("data-link-preview"),"data-element":"ui"},z.createElement(se.Z,{title:X.get("link","link_open").toString()},z.createElement("a",{className:"data-icon data-icon-link data-link-preview-open",href:ze,target:"_blank"},ze)),!K&&z.createElement("div",{className:"data-link-op"},ye(),Ie()))},we=(0,T.Z)("position"),je=function(){function ve(J,X){var K=this;(0,O.Z)(this,ve),this.engine=void 0,this.root=void 0,this.target=void 0,this.options=void 0,this.mouseInContainer=!1,Object.defineProperty(this,we,{writable:!0,value:void 0}),this.engine=J;var ze=this.engine.change;this.options=X,(0,D.Z)(this,we)[we]=new v.Ly(this.engine),ze.event.onWindow("mousedown",function(Ze){if(!!Ze.target){var We=(0,v.$)(Ze.target),ye=We.closest(".data-link-container");K.mouseInContainer=ye&&ye.length>0,!We.inEditor()&&!K.mouseInContainer&&K.hide()}})}return(0,U.Z)(ve,[{key:"create",value:function(){var X;if(!!this.target){var K=(0,v.$)(".data-link-container");K.length===0&&(K=(0,v.$)("<div ".concat(v.Zi,'="').concat(v.UI,'" class="data-link-container').concat(v.tq?" data-link-container-mobile":"",'"></div>'))),this.root=K;var ze=(X=this.target.get())===null||X===void 0?void 0:X.getBoundingClientRect();!ze||this.root.css({top:"".concat(window.pageYOffset+ze.bottom+4,"px"),left:"".concat(window.pageXOffset,"px"),position:"absolute","z-index":125})}}},{key:"onOk",value:function(){var J=(0,M.Z)(g().mark(function K(ze,Ze){var We,ye,Ie,Ue,Ye,Ae,tt,it,Ve,et,wt;return g().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(this.target){on.next=2;break}return on.abrupt("return");case 2:if(We=this.engine.change,ye=We.range.get(),We.rangePathBeforeCommand||(ye.startNode.inEditor()||(ye.select(this.target,!0),We.range.select(ye)),We.cacheRangeBeforeCommand()),Ie=this.options||{},Ue=Ie.onConfirm,!Ue){on.next=12;break}return on.next=9,Ue(ze,Ze);case 9:Ye=on.sent,ze=Ye.text,Ze=Ye.link;case 12:if(this.target.attributes("href",Ze),ze=ze.trim()===""?Ze:ze,Ae=this.target.text(),Ae===ze){on.next=45;break}if(it=this.target.children(),!(it.length<3)){on.next=21;break}this.target.text(ze),on.next=45;break;case 21:if(!(it.length===3&&((tt=it.eq(1))===null||tt===void 0?void 0:tt.isText()))){on.next=25;break}this.target.text(ze),on.next=45;break;case 25:if(it.length!==3){on.next=44;break}Ve=it.eq(1);case 27:if(!Ve){on.next=42;break}if(wt=Ve.children(),!(wt.length>1||wt.length===0)){on.next=34;break}return Ve.text(ze),on.abrupt("break",42);case 34:if(!(!((et=wt.eq(0))===null||et===void 0)&&et.isText())){on.next=39;break}return Ve.text(ze),on.abrupt("break",42);case 39:Ve=wt;case 40:on.next=27;break;case 42:on.next=45;break;case 44:this.target.text(ze);case 45:this.engine.inline.repairCursor(this.target),ye.setStart(this.target.next(),1),ye.setEnd(this.target.next(),1),We.apply(ye),this.mouseInContainer=!1,this.hide();case 51:case"end":return on.stop()}},K,this)}));function X(K,ze){return J.apply(this,arguments)}return X}()},{key:"editor",value:function(X,K){var ze=this;return z.createElement(ne,{language:this.engine.language,defaultText:X,defaultLink:K,onLoad:function(){ze.mouseInContainer=!0},onOk:function(We,ye){return ze.onOk(We,ye)}})}},{key:"preview",value:function(X){var K=this;return z.createElement(De,{language:this.engine.language,readonly:this.engine.readonly,onEdit:function(){!K.target||(K.mouseInContainer=!1,K.hide(void 0,!1),K.show(K.target,!0))},onRemove:function(){if(!!K.target){var Ze=K.engine,We=Ze.change,ye=Ze.inline,Ie=We.range.get();Ie.select(K.target,!0),ye.repairRange(Ie),We.range.select(Ie),We.cacheRangeBeforeCommand(),ye.unwrap(),K.mouseInContainer=!1,K.target=void 0,K.hide()}},href:X})}},{key:"show",value:function(X,K){var ze,Ze,We,ye=this;if(!(((ze=this.target)===null||ze===void 0?void 0:ze.equal(X))&&!!(!((Ze=this.root)===null||Ze===void 0||(We=Ze.parent())===null||We===void 0)&&We.length))){this.target=X,this.create();var Ie=X.text().replace(/\u200B/g,""),Ue=X.attributes("href"),Ye=this.root.get();E.render(z.createElement(Y.ZP,{autoInsertSpaceInButton:!1},(!Ue||K)&&!this.engine.readonly?this.editor(Ie,Ue):this.preview(Ue)),Ye,function(){var Ae,tt;!ye.root||!ye.target||((Ae=(0,D.Z)(ye,we)[we])===null||Ae===void 0||Ae.destroy(),(tt=(0,D.Z)(ye,we)[we])===null||tt===void 0||tt.bind(ye.root,ye.target))})}}},{key:"hide",value:function(X,K){var ze;if(!(X&&this.target&&X.equal(this.target))){var Ze=(ze=this.root)===null||ze===void 0?void 0:ze.get();if(Ze&&!this.mouseInContainer){var We;if(E.unmountComponentAtNode(Ze),(We=(0,D.Z)(this,we)[we])===null||We===void 0||We.destroy(),this.root=void 0,this.target&&!this.target.attributes("href")){var ye=this.engine,Ie=ye.change,Ue=ye.inline,Ye=Ie.range.get();Ye.select(this.target,!0),Ue.unwrap(Ye),Ie.apply(Ye.collapse(!0))}K!==!1&&(this.target=void 0)}}}}]),ve}(),dt={link:{text:"Text",link:"Link",text_placeholder:"Description text",link_placeholder:"Link address",link_open:"Open link",link_edit:"Edit link",link_remove:"Remove link",ok_button:"OK"}},Qe={link:{text:"\u6587\u672C",link:"\u94FE\u63A5",text_placeholder:"\u63CF\u8FF0\u6587\u672C",link_placeholder:"\u94FE\u63A5\u5730\u5740",link_open:"\u6253\u5F00\u94FE\u63A5",link_edit:"\u7F16\u8F91\u94FE\u63A5",link_remove:"\u79FB\u9664\u94FE\u63A5",ok_button:"\u786E\u5B9A"}},lt={"en-US":dt,"zh-CN":Qe};function Te(ve,J){J===void 0&&(J={});var X=J.insertAt;if(!(!ve||typeof document=="undefined")){var K=document.head||document.getElementsByTagName("head")[0],ze=document.createElement("style");ze.type="text/css",X==="top"&&K.firstChild?K.insertBefore(ze,K.firstChild):K.appendChild(ze),ze.styleSheet?ze.styleSheet.cssText=ve:ze.appendChild(document.createTextNode(ve))}}var Je=`.data-link-container {\r
    max-width: 398px;\r
    display: inline-block;\r
    border: 1px solid #E8E8E8;\r
    border-radius: 4px;\r
    box-shadow: rgba(221, 221, 221, 0.5) 0px 1px 3px;\r
    background: white;\r
}\r
\r
.data-link-container-mobile {\r
    max-width: calc(100vw - 20px);;\r
}\r
\r
.data-link-container .data-link-editor {\r
    min-width: 365px;\r
    padding: 16px 12px;\r
    padding-bottom: 4px;\r
}\r
\r
.data-link-container-mobile .data-link-editor {\r
    min-width: calc(100vw - 40px);\r
    padding: 8px 6px;\r
}\r
\r
.data-link-container p {\r
    margin-top: 0;\r
    margin-bottom: 14px;\r
}\r
\r
.data-link-container .itellyou-icon {\r
    color: #8590A6;\r
    font-size: 16px;\r
}\r
.data-link-preview {\r
    line-height: 16px;\r
    padding: 6px 8px;\r
    vertical-align: middle;\r
    white-space: nowrap;\r
    display: flex;\r
    justify-content:space-between;\r
}\r
.data-link-preview > * {\r
    display: block;\r
}\r
\r
.data-link-preview a {\r
    display: inline-block;\r
    color: #595959;\r
    margin: 0px 0px 0px 8px;\r
    padding: 4px;\r
}\r
.data-link-preview a:hover {\r
    background: #F4F4F4;\r
    cursor: pointer;\r
}\r
.data-link-preview a.data-link-preview-open {\r
    color: #1890FF;\r
    max-width: 292px;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
    white-space: nowrap;\r
    text-decoration: none;\r
    font-size: 14px;\r
    letter-spacing: 1.2px;\r
    vertical-align: middle;\r
    margin: 0;\r
}\r
.data-link-container-mobile .data-link-preview a.data-link-preview-open {\r
    max-width: 70%;\r
}\r
.data-link-preview a.data-link-preview-open::before\r
{\r
    vertical-align: middle;\r
    margin-right: 2px;\r
}\r
\r
.data-link-preview a.data-link-preview-open:hover{\r
    background: transparent;\r
}`;Te(Je);var te="paste:each",fe="markdown-it",ue="parse:html",ae="select",de=function(ve){(0,p.Z)(X,ve);var J=(0,d.Z)(X);function X(){var K;(0,O.Z)(this,X);for(var ze=arguments.length,Ze=new Array(ze),We=0;We<ze;We++)Ze[We]=arguments[We];return K=J.call.apply(J,[this].concat(Ze)),K.toolbar=void 0,K.attributes={target:"@var0",href:"@var1"},K.variable={"@var0":["_blank","_parent","_top","_self"],"@var1":{required:!0,value:"*"}},K.tagName="a",K.handleClick=function(ye){if(!!ye.target){var Ie=K.options.onLinkClick;if(!!Ie){var Ue=(0,v.$)(ye.target).closest("".concat(K.tagName));Ue.name===K.tagName&&Ie(ye,Ue.attributes("href"))}}},K.bindQuery=function(){K.query()},K.query=function(){var ye,Ie=K.editor;if(!!(0,v.iC)(Ie)){var Ue=Ie.change,Ye=Ue.inlines.find(function(Ve){return K.isSelf(Ve)});if((ye=K.toolbar)===null||ye===void 0||ye.hide(Ye),Ye&&Ye.length>0&&!Ye.isCard()){var Ae=Ue.range.get();if(Ae.collapsed||Ye.contains(Ae.startNode)&&Ye.contains(Ae.endNode)){var tt;return(tt=K.toolbar)===null||tt===void 0||tt.show(Ye),!0}else{var it;(it=K.toolbar)===null||it===void 0||it.hide()}}return!1}},K.markdownIt=function(ye){K.options.markdown!==!1&&(ye.enable("link"),ye.enable("linkify"))},K.pasteHtml=function(ye){if(ye.isText()){var Ie=ye.text(),Ue=K.editor,Ye=Ue.node,Ae=Ue.inline;if(/^https?:\/\/\S+$/.test(Ie.toLowerCase().trim())&&Ae.closest(ye).equal(ye)){var tt=Ye.wrap(ye,(0,v.$)("<".concat(K.tagName,' target="_blank" href="').concat(decodeURI(Ie).trim().replace(/\u200b/g,""),'"></a>')));return Ae.repairCursor(tt),!1}}else if(ye.name==="a"){var it=ye.attributes("href");ye.attributes("target","_blank"),ye.attributes("href",decodeURI(it).trim().replace(/\u200b/g,""))}return!0},K.parseHtml=function(ye){ye.find(K.tagName).css({"font-size":"inherit",padding:"0 2px","line-height":"inherit","overflow-wrap":"break-word","text-indent":"0"})},K}return(0,U.Z)(X,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(X.prototype),"init",this).call(this);var ze=this.editor;(0,v.iC)(ze)&&(this.options.enableToolbar!==!1&&(this.toolbar=new je(ze,{onConfirm:this.options.onConfirm})),ze.container.on("click",this.handleClick),ze.on(fe,this.markdownIt),ze.on(te,this.pasteHtml)),ze.on(ue,this.parseHtml),ze.on(ae,this.bindQuery),ze.language.add(lt)}},{key:"hotkey",value:function(){return this.options.hotkey||{key:"mod+k",args:["_blank"]}}},{key:"execute",value:function(){var ze=this,Ze=this.editor;if(!!(0,v.iC)(Ze)){var We=Ze.inline,ye=Ze.change;if(this.queryState()){var et=ye.inlines.find(function(wt){return ze.isSelf(wt)});et&&et.length>0&&We.unwrap(et)}else{for(var Ie=(0,v.$)("<".concat(this.tagName," />")),Ue=arguments.length,Ye=new Array(Ue),Ae=0;Ae<Ue;Ae++)Ye[Ae]=arguments[Ae];this.setStyle.apply(this,[Ie].concat(Ye)),this.setAttributes.apply(this,[Ie].concat(Ye));var tt=Ye.length>2?Ye[2]:"";tt?(Ie.text(tt),We.insert(Ie)):We.wrap(Ie);var it=ye.range.get();if(!it.collapsed&&ye.inlines.length>0){var Ve;(Ve=this.toolbar)===null||Ve===void 0||Ve.show(ye.inlines[0])}}}}},{key:"queryState",value:function(){return this.query()}},{key:"destroy",value:function(){var ze=this.editor;ze.container.off("click",this.handleClick),ze.off(te,this.pasteHtml),ze.off(ue,this.parseHtml),ze.off(ae,this.bindQuery),ze.off(fe,this.markdownIt)}}],[{key:"pluginName",get:function(){return"link"}}]),X}(v.Cy);Ce.Z=de},48434:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=f(86150),D=f.n(M);function T(E,Y){Y===void 0&&(Y={});var q=Y.insertAt;if(!(!E||typeof document=="undefined")){var j=document.head||document.getElementsByTagName("head")[0],le=document.createElement("style");le.type="text/css",q==="top"&&j.firstChild?j.insertBefore(le,j.firstChild):j.appendChild(le),le.styleSheet?le.styleSheet.cssText=E:le.appendChild(document.createTextNode(E))}}var S=`.am-engine mark,\r
.am-engine-view mark {\r
    padding: 0;\r
    background: #ff0;\r
}`;T(S);var g="markdown-it",z=function(E){(0,p.Z)(q,E);var Y=(0,d.Z)(q);function q(){var j;(0,O.Z)(this,q);for(var le=arguments.length,ce=new Array(le),se=0;se<le;se++)ce[se]=arguments[se];return j=Y.call.apply(Y,[this].concat(ce)),j.tagName="mark",j.markdownIt=function(ne){j.options.markdown!==!1&&(ne.use(D()),ne.enable("mark"))},j}return(0,U.Z)(q,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(q.prototype),"init",this).call(this);var le=this.editor;(0,v.iC)(le)&&le.on(g,this.markdownIt)}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"destroy",value:function(){this.editor.off(g,this.markdownIt)}}],[{key:"pluginName",get:function(){return"mark"}}]),q}(v.Rw);Ce.Z=z},63363:function(ut,Ce,f){"use strict";f.d(Ce,{Q:function(){return De}});var O=f(75782),U=f(78450),x=f(40936),m=f(49962),p=f(60790),d=f(65782),v=f(64655),M=f(85462),D=f(11997),T=f(6534),S=f.n(T),g=f(62998),z=f(34203),E=f(29129),Y=f(66292),q=f.n(Y),j=function(ue){return ue.language.get("math")},le=function(){function fe(ue,ae){(0,x.Z)(this,fe),this.editor=void 0,this.options=void 0,this.container=void 0,this.editor=ue,this.options=ae}return(0,m.Z)(fe,[{key:"focus",value:function(){var ae,de;(ae=this.container)===null||ae===void 0||(de=ae.find("textarea").get())===null||de===void 0||de.focus()}},{key:"render",value:function(ae,de){this.destroy(),this.container=(0,g.$)('<div class="data-card-math-editor'.concat(g.tq?" data-card-math-editor-mobile":"",'" ').concat(g.Zi,'="').concat(g.UI,'" ').concat(g.f4,'="').concat(ae,'"></div>'));var ve=j(this.editor),J=this.options,X=J.onBlur,K=J.onFocus,ze=J.onChange,Ze=J.onOk,We=J.tips,ye=(0,g.$)("<textarea>".concat(de||"","</textarea>"));ye.on("focus",function(){K&&K()}),ye.on("blur",function(){X&&X()}),ye.on("input",function(Ae){ze&&ze(Ae.target.value)}),ye.on("mousedown",function(){var Ae;(Ae=ye.get())===null||Ae===void 0||Ae.focus()}),ye.on("keydown",function(Ae){Ze&&(0,g.P6)("mod+enter",Ae)&&Ze(Ae)}),this.container.append(ye);var Ie=(0,g.$)('<div class="data-math-editor-toolbar"></div>');We&&Ie.append((0,g.$)('<div class="data-math-editor-toolbar-tips">'.concat(We,"</div>")));var Ue=(0,g.$)('<div class="data-math-editor-toolbar-button"><a class="data-embed-toolbar-btn">'.concat(ve.ok,"</div>")),Ye=Ue.find("a");return Ye.on("mouseenter",function(){g.u.show(Ye,ve.buttonTips)}),Ye.on("mouseleave",function(){g.u.hide()}),Ye.on("mousedown",function(){g.u.hide()}),Ze&&Ye.on("click",Ze),Ie.append(Ue),this.container.append(Ie),this.container}},{key:"destroy",value:function(){var ae;(ae=this.container)===null||ae===void 0||ae.remove();var de=this.options.onDestroy;de&&de()}}]),fe}();function ce(fe,ue){ue===void 0&&(ue={});var ae=ue.insertAt;if(!(!fe||typeof document=="undefined")){var de=document.head||document.getElementsByTagName("head")[0],ve=document.createElement("style");ve.type="text/css",ae==="top"&&de.firstChild?de.insertBefore(ve,de.firstChild):de.appendChild(ve),ve.styleSheet?ve.styleSheet.cssText=fe:ve.appendChild(document.createTextNode(fe))}}var se=`\r
.am-engine .data-math-content-tmp,\r
.am-engine-view .data-math-content-tmp {\r
    padding: 0 6px;\r
    border-radius: 3px 3px;\r
    height: 100%;\r
    color: rgba(0, 0, 0, 0.25);\r
    display: inline-block;\r
    white-space:nowrap;\r
  }\r
  .am-engine span[data-card-key="math"]:not(.card-selected) .data-math-content-tmp {\r
    background: #f5f5f5;\r
  }\r
  .am-engine-view span[data-card-key="math"] .data-math-content-tmp {\r
    background: #f5f5f5;\r
  }\r
\r
.am-engine span[data-card-key="math"] [data-card-element="center"] {\r
    max-width: calc(100% - 2px);\r
}\r
  .am-engine span[data-card-key="math"] .data-math-container {\r
    display: inline-block;\r
    cursor: pointer;\r
    border: 2px solid transparent; \r
  }\r
  .am-engine span[data-card-key="math"] ::-moz-selection {\r
    background: transparent !important;\r
}\r
  .am-engine span[data-card-key="math"] ::selection {\r
    background: transparent !important;\r
}\r
 .data-card-math-editor {\r
    outline: none;\r
    width: 420px;\r
    border-radius: 3px 3px;\r
    position: absolute;\r
    border: 1px solid #e8e8e8;\r
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);\r
    z-index: 125;\r
    text-indent: 0;\r
  }\r
.data-card-math-editor-mobile {\r
    width: calc(100vw - 40px);\r
}\r
  .data-card-math-editor textarea {\r
    width: 100%;\r
    border: none;\r
    min-width: 400px;\r
    min-height: 88px;\r
    padding: 6px 6px;\r
    line-height: 24px;\r
    color: #595959;\r
    outline: none;\r
    font-family: 'Lucida Console', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\r
    vertical-align: bottom;\r
    font-size: 14px;\r
    font-weight: 400;\r
  }\r
\r
  .data-card-math-editor-mobile textarea{\r
    min-width:auto;\r
  }\r
  .data-card-math-editor .data-math-editor-toolbar {\r
    position: relative;\r
    background: #f9f9f9;\r
    border-top: 1px solid #e8e8e8;\r
    padding: 2px 8px;\r
    text-align: left;\r
    text-indent: 0;\r
    display: flex;\r
    justify-content: space-between;\r
  }\r
\r
  .data-card-math-editor .data-math-editor-toolbar .data-math-editor-toolbar-tips a {\r
    font-size: 12px;\r
    color: #8c8c8c;\r
    vertical-align: middle;\r
  }\r
\r
  .data-card-math-editor .data-math-editor-toolbar .data-math-editor-toolbar-tips a:hover {\r
      color: #595959;\r
  }\r
\r
  .data-card-math-editor .data-math-editor-toolbar .data-math-editor-toolbar-tips .data-icon {\r
    vertical-align: middle;\r
    margin-right: 4px;\r
    color: #8c8c8c;\r
  }\r
  .data-card-math-editor .data-math-editor-toolbar .data-math-editor-toolbar-button .data-embed-toolbar-btn {\r
    font-size: 14px;\r
    display: block;\r
  }\r
\r
  .am-engine span[data-card-key="math"].card-selected [data-card-element="center"].data-card-border-selected {\r
    outline: none;\r
  }\r
\r
  .am-engine span[data-card-key="math"] .data-card-border-selected .data-math-container {\r
    border: 2px solid #1890FF;\r
    border-radius: 4px;\r
}`;ce(se);var ne=(0,D.Z)("position"),De=function(fe){(0,d.Z)(ae,fe);var ue=(0,v.Z)(ae);function ae(){var de;(0,x.Z)(this,ae);for(var ve=arguments.length,J=new Array(ve),X=0;X<ve;X++)J[X]=arguments[X];return de=ue.call.apply(ue,[this].concat(J)),Object.defineProperty((0,p.Z)(de),ne,{writable:!0,value:void 0}),de.container=void 0,de.editorContainer=void 0,de.mathEditor=void 0,de.isSaving=!1,de.queryMath=q()(function(K){return de.renderMath(K)},300),de.onWindowResize=function(){de.updateMaxWidth()},de.updateMaxWidth=function(){var K,ze,Ze=de.getMaxWidth();(K=de.container)===null||K===void 0||(ze=K.find("img"))===null||ze===void 0||ze.css("max-width",Math.max(Ze,0)+"px")},de}return(0,m.Z)(ae,[{key:"init",value:function(){var ve=this;(0,z.Z)((0,E.Z)(ae.prototype),"init",this).call(this);var J=this.editor,X=j(J).tips,K=J.card;(0,M.Z)(this,ne)[ne]||((0,M.Z)(this,ne)[ne]=new g.Ly(J)),!this.mathEditor&&(this.mathEditor=new le(J,{tips:'<a class="tips-text" href="'.concat(X.href,'" target="_blank"><span class="data-icon data-icon-question-circle-o"></span>').concat(X.text,"</a>"),onFocus:function(){var Ze;(Ze=ve.editorContainer)===null||Ze===void 0||Ze.addClass("textarea-focus")},onBlur:function(){var Ze;(Ze=ve.editorContainer)===null||Ze===void 0||Ze.removeClass("textarea-focus")},onChange:this.queryMath,onOk:function(Ze){Ze.stopPropagation(),Ze.preventDefault(),K.activate((0,g.$)(document.body)),K.focus(ve)},onDestroy:function(){var Ze;(Ze=(0,M.Z)(ve,ne)[ne])===null||Ze===void 0||Ze.destroy()}}))}},{key:"query",value:function(ve,J,X){var K=this.editor.command;K.executeMethod("math","action","query",this.id,ve,J,X)}},{key:"getMaxWidth",value:function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root,J=this.editor,X=J.block.closest(ve).get();if(!X)return 0;var K=window.getComputedStyle(X),ze=parseInt(K.width)-parseInt(K["padding-left"])-parseInt(K["padding-right"]);return(0,g.iC)(J)?ze-2:ze}},{key:"focusTextarea",value:function(){var ve;(ve=this.mathEditor)===null||ve===void 0||ve.focus()}},{key:"onActivate",value:function(ve){var J,X=this.editor;(0,z.Z)((0,E.Z)(ae.prototype),"onActivate",this).call(this,ve),!(!(0,g.iC)(X)||X.readonly)&&(ve?this.renderEditor():(J=this.mathEditor)===null||J===void 0||J.destroy())}},{key:"toolbar",value:function(){var ve,J=(ve=this.editor.plugin.findPlugin("math"))===null||ve===void 0?void 0:ve.options;return J!=null&&J.cardToolbars?J.cardToolbars([],this.editor):[]}},{key:"renderPureText",value:function(ve){var J,X,K=this.getMaxWidth();(J=this.container)===null||J===void 0||J.html('<span class="data-math-content-tmp" style="max-width: '.concat(K,'px">').concat(ve,"</span>")),(X=(0,M.Z)(this,ne)[ne])===null||X===void 0||X.update()}},{key:"renderMath",value:function(ve){var J=this;this.isSaving=!0,this.query(ve,function(X){var K=new Image;K.src=X,K.onload=function(){var ze,Ze;J.renderImage((0,g.$)(K)),(ze=J.container)===null||ze===void 0||ze.empty(),(Ze=J.container)===null||Ze===void 0||Ze.append(K)},J.setValue({url:X,code:ve}),J.isSaving=!1},function(){J.renderPureText(ve),J.setValue({url:"",code:ve}),J.isSaving=!1})}},{key:"renderImage",value:function(ve){var J,X=this.getMaxWidth(),K=ve.get(),ze=K.naturalWidth,Ze=K.naturalHeight,We=parseInt("".concat(14/17.4*ze)),ye=parseInt("".concat(14/17.4*Ze));ve.css("width","".concat(We,"px")),ve.css("height","".concat(ye,"px")),ve.css("max-width","".concat(X,"px")),(J=(0,M.Z)(this,ne)[ne])===null||J===void 0||J.update()}},{key:"renderView",value:function(){var ve=this,J=this.editor,X=this.getValue(),K=j(J),ze=X||{url:"",code:""},Ze=ze.url,We=ze.code;if(this.container||(this.container=(0,g.$)('<span class="data-math-container"></span>'),this.getCenter().empty().append(this.container)),Ze){var ye=this.container.find("img");ye.length===0?(ye=(0,g.$)('<img src="'.concat(Ze,'" />')),this.container.empty().append(ye)):ye.attributes("src",Ze),ye.on("load",function(){ve.renderImage(ye)}),ye.on("error",function(){ve.renderMath(We)})}else We?(0,g.iC)(J)?this.renderMath(We):this.renderPureText(We):this.renderPureText(K.placeholder);(!(0,g.iC)(J)||J.readonly)&&(this.container.css("cursor","pointer"),this.container.attributes("draggable","true"),this.container.css("user-select","none"))}},{key:"renderEditor",value:function(){var ve;if(!!this.mathEditor){var J=this.getValue();!J||!J.id||(this.editorContainer=this.mathEditor.render(J.id,J.code),this.container&&((ve=(0,M.Z)(this,ne)[ne])===null||ve===void 0||ve.bind(this.editorContainer,this.container)))}}},{key:"render",value:function(){this.renderView()}},{key:"didRender",value:function(){(0,z.Z)((0,E.Z)(ae.prototype),"didRender",this).call(this),window.addEventListener("resize",this.onWindowResize),this.editor.on("editor:resize",this.onWindowResize)}},{key:"destroy",value:function(){var ve;(0,z.Z)((0,E.Z)(ae.prototype),"destroy",this).call(this),(ve=this.mathEditor)===null||ve===void 0||ve.destroy(),window.removeEventListener("resize",this.onWindowResize),this.editor.off("editor:resize",this.onWindowResize)}}],[{key:"cardName",get:function(){return"math"}},{key:"cardType",get:function(){return g.eT.INLINE}},{key:"autoSelected",get:function(){return!1}}]),ae}(g.Zb),we={math:{errorMessageCopy:"Copy error message",getError:"Failed to get svg code",placeholder:"Add Tex formula",ok:"Ok",buttonTips:"".concat(g.MX?"\u2318":"Ctrl"," + Enter"),tips:{text:"Understand LaTeX syntax",href:"https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference"}}},je={math:{errorMessageCopy:"\u590D\u5236\u9519\u8BEF\u4FE1\u606F",getError:"\u83B7\u53D6svg\u4EE3\u7801\u5931\u8D25",placeholder:"\u6DFB\u52A0 Tex \u516C\u5F0F",ok:"\u786E\u5B9A",buttonTips:"".concat(g.MX?"\u2318":"Ctrl"," + Enter"),tips:{text:"\u4E86\u89E3 LaTeX \u8BED\u6CD5",href:"https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference"}}},dt={"en-US":we,"zh-CN":je},Qe="parse:html",lt="paste:schema",Te="paste:each",Je=(0,D.Z)("request"),te=function(fe){(0,d.Z)(ae,fe);var ue=(0,v.Z)(ae);function ae(){var de;(0,x.Z)(this,ae);for(var ve=arguments.length,J=new Array(ve),X=0;X<ve;X++)J[X]=arguments[X];return de=ue.call.apply(ue,[this].concat(J)),Object.defineProperty((0,p.Z)(de),Je,{writable:!0,value:{}}),de.pasteSchema=function(K){K.add({type:"inline",name:"span",attributes:{"data-type":{required:!0,value:De.cardName},"data-value":"*"}})},de.pasteHtml=function(K){var ze=de.editor;if(!!(0,g.iC)(ze)){if(K.isElement()){var Ze=K.attributes(),We=Ze["data-type"];if(We&&We===De.cardName){var ye=Ze["data-value"],Ie=(0,g.RW)(ye);return Ie.url?(ze.card.replaceNode(K,De.cardName,Ie),K.remove(),!1):void 0}}return!0}},de.parseHtml=function(K,ze){var Ze=[];return K.find("[".concat(g.Jr,'="').concat(De.cardName,'"],[').concat(g.mV,'="').concat(De.cardName,'"]')).each(function(We){var ye=(0,g.$)(We),Ie=de.editor.card.find(ye),Ue=(Ie==null?void 0:Ie.getValue())||(0,g.RW)(ye.attributes(g.TM));if(Ue){var Ye=(0,g.$)("<img />");ye.empty(),Ye.attributes("src",Ue.url),Ye.css("visibility","visible"),Ye.css("vertical-align","middle");var Ae=(0,g.$)('<span data-type="'.concat(De.cardName,'" data-value="').concat((0,g.it)(Ue),'"></span>'));ze&&(Ye=ze(Ye,Ue)),Ae.append(Ye),ye.replaceWith(Ae),Ze.push(Ae)}else ye.remove()}),Ze},de}return(0,m.Z)(ae,[{key:"init",value:function(){var ve=this.editor;ve.language.add(dt),ve.on(Qe,this.parseHtml),ve.on(Te,this.pasteHtml),ve.on(lt,this.pasteSchema)}},{key:"execute",value:function(){var ve=this.editor.card,J=ve.insert(De.cardName,{code:(arguments.length<=0?void 0:arguments[0])||"",url:(arguments.length<=1?void 0:arguments[1])||""});ve.activate(J.root),window.setTimeout(function(){J.focusTextarea()},10)}},{key:"action",value:function(ve){switch(ve){case"query":for(var J=arguments.length,X=new Array(J>1?J-1:0),K=1;K<J;K++)X[K-1]=arguments[K];var ze=X[0],Ze=X[1],We=X[2],ye=X[3];return this.query(ze,Ze,We,ye)}}},{key:"query",value:function(ve,J,X,K){var ze,Ze=this,We=this.editor,ye=We.request,Ie=We.language,Ue=this.options,Ye=Ue.action,Ae=Ue.type,tt=Ue.contentType,it=Ue.parse,Ve=Ue.headers,et=this.options.data;(ze=(0,M.Z)(this,Je)[Je][ve])===null||ze===void 0||ze.abort(),(0,M.Z)(this,Je)[Je][ve]=ye.ajax({url:Ye,method:"POST",contentType:tt||"application/json",type:Ae===void 0?"json":Ae,headers:Ve,data:typeof et=="function"?(0,U.Z)(S().mark(function wt(){var jt;return S().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:return bn.next=2,et();case 2:return jt=bn.sent,bn.abrupt("return",(0,O.Z)((0,O.Z)({},jt),{},{content:J}));case 4:case"end":return bn.stop()}},wt)})):(0,O.Z)((0,O.Z)({},et),{},{content:J}),success:function(jt){var on=jt.url||jt.data&&jt.data.url,bn=it?it(jt):on?{result:!0,data:on}:{result:!1};if(bn.result){var Ft=bn.data.indexOf("http")===0||bn.data.indexOf("/")===0,Mt=bn.data;Ft||(Mt=Ze.exConvertToPx(bn.data),Mt=(Mt.indexOf("data:")<0?"data:image/svg+xml,":"")+encodeURIComponent(Mt).replace(/'/g,"%27").replace(/"/g,"%22")),X(Mt)}else K(bn.data)},error:function(jt){K(jt.message||Ie.get("image","uploadError"))}})}},{key:"exConvertToPx",value:function(ve){var J=/width="([\d\.]+ex)"/,X=J.exec(ve),K=X?X[1]:null,ze=/height="([\d\.]+ex)"/,Ze=ze.exec(ve),We=Ze?Ze[1]:null;if(K){var ye=parseFloat(K.substring(0,K.length-2))*9;ve=ve.replace('width="'.concat(K,'"'),'width="'.concat(ye,'px"'))}if(We){var Ie=parseFloat(We.substring(0,We.length-2))*9;ve=ve.replace('height="'.concat(We,'"'),'height="'.concat(Ie,'px"'))}return ve}},{key:"waiting",value:function(){var de=(0,U.Z)(S().mark(function J(X){var K=this,ze,Ze,We,ye;return S().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return ze=this.editor.card,Ze=function(Ae){return Ae.root.inEditor()&&Ae.name===De.cardName&&Ae.isSaving},We=function(){return ze.components.find(Ze)},ye=function(Ae){var tt=6e4;return new Promise(function(it,Ve){if(X){var et=X(K.constructor.pluginName,Ae);if(et===!1)return Ve({name:K.constructor.pluginName,card:Ae});typeof et=="number"&&(tt=et)}var wt=new Date().getTime(),jt=new Date().getTime(),on=function bn(){if(jt-wt>=tt)return it();setTimeout(function(){Ze(Ae)?bn():it()},10)};on()})},Ue.abrupt("return",new Promise(function(){var Ye=(0,U.Z)(S().mark(function Ae(tt,it){var Ve,et;return S().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:Ve=We(),et=function on(bn){ye(bn).then(function(){var Ft=We();Ft?on(Ft):tt()}).catch(it)},Ve?et(Ve):tt();case 3:case"end":return jt.stop()}},Ae)}));return function(Ae,tt){return Ye.apply(this,arguments)}}()));case 5:case"end":return Ue.stop()}},J,this)}));function ve(J){return de.apply(this,arguments)}return ve}()},{key:"destroy",value:function(){var ve=this.editor;ve.off(Qe,this.parseHtml),ve.off(Te,this.pasteHtml),ve.off(lt,this.pasteSchema)}}],[{key:"pluginName",get:function(){return"math"}}]),ae}(g.Sy);Ce.Z=te},75634:function(ut,Ce,f){"use strict";f.d(Ce,{Q:function(){return Je}});var O=f(75782),U=f(68901),x=f(40936),m=f(49962),p=f(65782),d=f(64655),v=f(62998),M=f(60790),D=f(34203),T=f(29129),S=f(85462),g=f(11997),z=f(41925),E=f.n(z),Y=(0,g.Z)("position"),q=function(){function Ze(We,ye){var Ie=this;(0,x.Z)(this,Ze),this.engine=void 0,this.root=void 0,this.target=void 0,this.otpions=void 0,this.SCOPE_NAME="data-mention-component",Object.defineProperty(this,Y,{writable:!0,value:void 0}),this.renderEmpty=function(){return'<div class="data-mention-item"><span class="data-mention-item-text">Empty Data</span></div>'},this.getPluginOptions=function(){var Ue=Ie.engine.plugin.findPlugin("mention");return Ue==null?void 0:Ue.options},this.handlePreventDefault=function(Ue){var Ye;if(((Ye=Ie.root)===null||Ye===void 0?void 0:Ye.closest("body").length)!==0)return Ue.preventDefault(),!1},this.bindItem=function(Ue,Ye){var Ae=Ie.otpions.onSelect;Ue.addClass("data-mention-item");var tt=Ye.key,it=Ye.name;return tt?Ue.attributes({"data-key":(0,v.YU)(tt)}):Ue.removeAttributes("data-key"),Ue.attributes({"data-name":(0,v.YU)(it)}),Ue.removeAllEvents(),Ue.on("click",function(Ve){!tt||(Ve.stopPropagation(),Ve.preventDefault(),Ae&&Ae(Ve,Ye))},{once:!0}),Ue.on("mouseenter",function(){var Ve;!tt||((Ve=Ie.root)===null||Ve===void 0||Ve.find(".data-mention-item-active").removeClass("data-mention-item-active"),Ue.addClass("data-mention-item-active"))}),Ue},this.otpions=ye,this.engine=We,(0,S.Z)(this,Y)[Y]=new v.Ly(this.engine)}return(0,m.Z)(Ze,[{key:"select",value:function(ye){var Ie,Ue,Ye;(Ie=this.root)===null||Ie===void 0||Ie.find(".data-mention-item-active").removeClass("data-mention-item-active"),(Ue=this.root)===null||Ue===void 0||(Ye=Ue.find(".data-mention-item").eq(ye))===null||Ye===void 0||Ye.addClass("data-mention-item-active")}},{key:"scroll",value:function(ye){var Ie;if(!!this.root){var Ue=this.root.find(".data-mention-item").toArray();if(Ue.length!==0){var Ye=Ue.find(function(tt){return tt.hasClass("data-mention-item-active")})||Ue[0],Ae=Ye;for(Ye=ye==="up"?Ye.prev():Ye.next();Ye||(Ye=ye==="up"?Ue[Ue.length-1]:Ue[0]),!(!!Ye.attributes("data-key")||Ae.equal(Ye));)Ye=ye==="up"?Ye.prev():Ye.next();if(!Ye||!Ye.attributes("data-key")){this.select(-1);return}this.select(Ue.findIndex(function(tt){return tt.equal(Ye)})),(Ie=Ye.get())===null||Ie===void 0||Ie.scrollIntoView({block:"nearest"})}}}},{key:"unbindEvents",value:function(){var ye;(0,z.deleteScope)(this.SCOPE_NAME),(0,z.unbind)("enter",this.SCOPE_NAME),(0,z.unbind)("up",this.SCOPE_NAME),(0,z.unbind)("down",this.SCOPE_NAME),(0,z.unbind)("esc",this.SCOPE_NAME),this.engine.off("keydown:enter",this.handlePreventDefault),(ye=(0,S.Z)(this,Y)[Y])===null||ye===void 0||ye.destroy()}},{key:"bindEvents",value:function(){var ye=this,Ie;this.unbindEvents(),(0,z.setScope)(this.SCOPE_NAME),E()("enter",this.SCOPE_NAME,function(Ue){var Ye,Ae,tt;if(((Ye=ye.root)===null||Ye===void 0?void 0:Ye.closest("body").length)!==0){Ue.preventDefault(),Ue.stopImmediatePropagation();var it=(Ae=ye.root)===null||Ae===void 0?void 0:Ae.find(".data-mention-item-active");it==null||(tt=it.get())===null||tt===void 0||tt.click()}}),E()("up",this.SCOPE_NAME,function(Ue){var Ye;((Ye=ye.root)===null||Ye===void 0?void 0:Ye.closest("body").length)!==0&&(Ue.preventDefault(),ye.scroll("up"))}),E()("down",this.SCOPE_NAME,function(Ue){var Ye;((Ye=ye.root)===null||Ye===void 0?void 0:Ye.closest("body").length)!==0&&(Ue.preventDefault(),ye.scroll("down"))}),E()("esc",this.SCOPE_NAME,function(Ue){Ue.preventDefault(),ye.unbindEvents();var Ye=ye.otpions.onCancel;Ye&&Ye()}),this.engine.on("keydown:enter",this.handlePreventDefault),!(!this.root||!this.target||this.target.length===0)&&((Ie=(0,S.Z)(this,Y)[Y])===null||Ie===void 0||Ie.bind(this.root,this.target))}},{key:"remove",value:function(){!this.root||this.root.length===0||(this.unbindEvents(),this.root.remove(),this.root=void 0)}},{key:"renderTemplate",value:function(ye){var Ie=ye.name,Ue=ye.avatar;return`<div class="data-mention-item">
            `.concat(Ue?'<span class="data-mention-item-avatar"><img src="'.concat(Ue,'" /></span>'):"",`
            <span class="data-mention-item-text">`).concat((0,v.AK)(Ie),`</span>
        </div>`)}},{key:"getBody",value:function(){var ye;return(ye=this.root)===null||ye===void 0?void 0:ye.find(".data-mention-component-body")}},{key:"createRoot",value:function(){this.root=(0,v.$)('<div class="data-mention-component-list" '.concat(v.Zi,'="').concat(v.UI,'"><div class="data-mention-component-body"></div></div>'))}},{key:"renderRootEmpty",value:function(){var ye,Ie=this.getBody(),Ue=Ie==null?void 0:Ie.children();if(Ie&&Ie.length>0&&((Ue==null?void 0:Ue.length)===0||(Ue==null?void 0:Ue.length)===1&&((ye=Ue.eq(0))===null||ye===void 0?void 0:ye.hasClass("data-scrollbar")))){var Ye;(Ye=this.root)===null||Ye===void 0||Ye.addClass("data-mention-component-empty")}else{var Ae;(Ae=this.root)===null||Ae===void 0||Ae.removeClass("data-mention-component-empty")}}},{key:"render",value:function(ye,Ie){var Ue=this;if(this.root||this.createRoot(),!!this.root){this.target=ye;var Ye=this.getBody(),Ae=null,tt=this.getPluginOptions();if(typeof Ie=="boolean"&&Ie===!0){var it;Ae=tt!=null&&tt.onLoading?tt.onLoading(this.root):this.engine.trigger("mention:loading",this.root),Ye=this.getBody(),Ae&&((it=Ye)===null||it===void 0||it.empty().append(Ae))}else if(Ie.filter(function(jt){return!!jt.key}).length===0){var Ve,et=this.engine.trigger("mention:empty",this.root)||(tt!=null&&tt.onEmpty?tt==null?void 0:tt.onEmpty(this.root):this.renderEmpty(this.root));Ye=this.getBody(),et&&((Ve=Ye)===null||Ve===void 0||Ve.empty().append(et))}else if((tt==null?void 0:tt.onRender)||(Ae=this.engine.trigger("mention:render",this.root,Ie,this.bindItem))){(tt!=null&&tt.onRender?tt.onRender(this.root,Ie,this.bindItem):Ae).then(function(jt){var on=Ue.getBody();jt&&(on==null||on.empty().append(jt)),Ue.select(0),Ue.bindEvents()}),this.renderRootEmpty();return}else{var wt;(!Ye||Ye.length===0)&&(this.createRoot(),Ye=this.getBody()),(wt=Ye)===null||wt===void 0||wt.empty(),Ie.forEach(function(jt){var on,bn=Ue.engine.trigger("mention:render-item",jt,Ue.root),Ft=bn||(tt!=null&&tt.onRenderItem?tt.onRenderItem(jt,Ue.root):Ue.renderTemplate(jt));!Ft||(on=Ye)===null||on===void 0||on.append(Ue.bindItem((0,v.$)(Ft),jt))}),this.select(0)}this.renderRootEmpty(),this.bindEvents()}}}]),Ze}();function j(Ze,We){We===void 0&&(We={});var ye=We.insertAt;if(!(!Ze||typeof document=="undefined")){var Ie=document.head||document.getElementsByTagName("head")[0],Ue=document.createElement("style");Ue.type="text/css",ye==="top"&&Ie.firstChild?Ie.insertBefore(Ue,Ie.firstChild):Ie.appendChild(Ue),Ue.styleSheet?Ue.styleSheet.cssText=Ze:Ue.appendChild(document.createTextNode(Ze))}}var le=`.am-engine .data-mention-component, .am-engine-view .data-mention-component {
    color: #1890ff !important;
    cursor: pointer;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    display: inline-block;
    vertical-align: top;
}

.am-engine [data-card-key="mention"].card-selected [data-card-element="center"].data-card-border-selected {
    outline: 0 none;
}

.am-engine [data-card-key="mention"].card-activated ::-moz-selection {
    background: transparent !important;
}

.am-engine [data-card-key="mention"].card-activated ::selection {
    background: transparent !important;
}

.data-mention-component-list {
    position: absolute;
    font-size: 12px;
    background: #ffffff;
    border: 1px solid #e8e8e8;
    border-radius: 3px 3px;
    box-shadow: 0 2px 10px rgb(0 0 0 / 12%);
    transition: all 0.25s cubic-bezier(0.3, 1.2, 0.2, 1);
    z-index: 999;
    overflow: hidden;
    padding: 5px 0;
    max-width: 250px;
}

.data-mention-component-empty {
    padding: 0;
    box-shadow: none;
    border: none;
}

.data-mention-component-body {
    max-height: calc(40vh);
    overflow-y: auto;
}

.data-mention-component-placeholder {
    color: rgba(0,0,0,0.25);
    pointer-events: none;
    min-width: 78px;
}

.data-mention-item {
    display: flex;
    cursor: pointer;
    padding: 4px 16px;
    min-width: 160px;
    align-items: center;
}

.data-mention-item .data-mention-item-text {
    display: block;
    text-align: left;
    margin-left: 8px;
    color: #595959;
    line-height: 24px;
    font-size: 14px;
    font-weight: normal;
}

.data-mention-item.data-mention-item-active {
    background-color: #f4f4f4;
}

.data-mention-item-avatar img {
    max-width: 38px;
}

.data-mention-component-body.data-scrollable.scroll-y {
    padding-right: 0 !important;
}

.data-mention-hover-layout {
  position: absolute;
  font-size: 12px;
  background: #ffffff;
  border: 1px solid #e8e8e8;
  border-radius: 3px 3px;
  box-shadow: 0 2px 10px rgb(0 0 0 / 12%);
  transition: all 0.25s cubic-bezier(0.3, 1.2, 0.2, 1);
  z-index: 999;
}
`;j(le);var ce=["id","key","name","marks","type"],se=["id","key","name"],ne=(0,g.Z)("container"),De=(0,g.Z)("keyword"),we=(0,g.Z)("placeholder"),je=(0,g.Z)("position"),dt=(0,g.Z)("showTimeout"),Qe=(0,g.Z)("hideTimeout"),lt=(0,g.Z)("enterLayout"),Te=(0,g.Z)("request"),Je=function(Ze){(0,p.Z)(ye,Ze);var We=(0,d.Z)(ye);function ye(){var Ie;(0,x.Z)(this,ye);for(var Ue=arguments.length,Ye=new Array(Ue),Ae=0;Ae<Ue;Ae++)Ye[Ae]=arguments[Ae];return Ie=We.call.apply(We,[this].concat(Ye)),Ie.component=void 0,Object.defineProperty((0,M.Z)(Ie),ne,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),De,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),we,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),je,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),dt,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),Qe,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),lt,{writable:!0,value:void 0}),Object.defineProperty((0,M.Z)(Ie),Te,{writable:!0,value:void 0}),Ie.getMaxWidth=function(){var tt=Ie.editor.block.closest(Ie.root);return tt.get().clientWidth-4},Ie.onWindowResize=function(){Ie.updateMaxWidth()},Ie.updateMaxWidth=function(){var tt,it=Ie.getMaxWidth();(tt=(0,S.Z)((0,M.Z)(Ie),ne)[ne])===null||tt===void 0||tt.css("max-width",Math.max(it,0)+"px")},Ie.getPluginOptions=function(){var tt=Ie.editor.plugin.findPlugin("mention");return tt==null?void 0:tt.options},Ie.search=function(tt){var it=Ie.getPluginOptions(),Ve=Ie.editor;if(it&&it.onSearch)return it.onSearch(tt);var et=Ve.trigger("mention:search",tt);if(et!==void 0)return et;var wt=Ve.request;return new Promise(function(jt){if(it!=null&&it.action){var on,bn=it.type,Ft=it.contentType,Mt=it.parse,_t=it.headers;(on=(0,S.Z)((0,M.Z)(Ie),Te)[Te])===null||on===void 0||on.abort(),(0,S.Z)((0,M.Z)(Ie),Te)[Te]=wt.ajax({url:it.action,contentType:Ft||"",type:bn===void 0?"json":bn,data:{keyword:tt},headers:_t,success:function(Me){var yn=Mt?Mt(Me):Me,Wt=yn.result,xn=yn.data;!Wt||jt(xn)},method:"GET"})}else jt([])})},Ie.hideEnter=function(){(0,S.Z)((0,M.Z)(Ie),Qe)[Qe]=setTimeout(function(){var tt,it;(tt=(0,S.Z)((0,M.Z)(Ie),je)[je])===null||tt===void 0||tt.destroy(),(it=(0,S.Z)((0,M.Z)(Ie),lt)[lt])===null||it===void 0||it.remove()},200)},Ie.showEnter=function(){var tt=Ie.getPluginOptions();if(!(!(0,S.Z)((0,M.Z)(Ie),ne)[ne]||!(tt!=null&&tt.onMouseEnter))){var it=Ie.getValue();if(!!(it!=null&&it.name)){var Ve=it.id,et=it.key,wt=it.name,jt=it.marks,on=it.type,bn=(0,U.Z)(it,ce);(0,S.Z)((0,M.Z)(Ie),Qe)[Qe]&&clearTimeout((0,S.Z)((0,M.Z)(Ie),Qe)[Qe]),(0,S.Z)((0,M.Z)(Ie),dt)[dt]&&clearTimeout((0,S.Z)((0,M.Z)(Ie),dt)[dt]),!((0,S.Z)((0,M.Z)(Ie),lt)[lt]&&(0,S.Z)((0,M.Z)(Ie),lt)[lt].length>0)&&((0,S.Z)((0,M.Z)(Ie),dt)[dt]=setTimeout(function(){!(0,S.Z)((0,M.Z)(Ie),ne)[ne]||((0,S.Z)((0,M.Z)(Ie),lt)[lt]=(0,v.$)('<div class="data-mention-hover-layout" '.concat(v.Zi,'="').concat(v.UI,'"></div>')),(0,S.Z)((0,M.Z)(Ie),lt)[lt].on("mouseenter",function(){(0,S.Z)((0,M.Z)(Ie),Qe)[Qe]&&clearTimeout((0,S.Z)((0,M.Z)(Ie),Qe)[Qe])}),(0,S.Z)((0,M.Z)(Ie),lt)[lt].on("mouseleave",Ie.hideEnter),Ie.editor.trigger("mention:enter",(0,S.Z)((0,M.Z)(Ie),lt)[lt],(0,O.Z)({key:(0,v.AK)(et||""),name:(0,v.AK)(wt)},bn)),tt.onMouseEnter((0,S.Z)((0,M.Z)(Ie),lt)[lt],(0,O.Z)({key:(0,v.AK)(et||""),name:(0,v.AK)(wt)},bn)),setTimeout(function(){var Ft;(Ft=(0,S.Z)((0,M.Z)(Ie),je)[je])===null||Ft===void 0||Ft.bind((0,S.Z)((0,M.Z)(Ie),lt)[lt],(0,S.Z)((0,M.Z)(Ie),ne)[ne])},10))},200))}}},Ie}return(0,m.Z)(ye,[{key:"init",value:function(){var Ue=this,Ye=this.editor;if((0,S.Z)(this,je)[je]||((0,S.Z)(this,je)[je]=new v.Ly(Ye)),!(!(0,v.iC)(Ye)||v.sk)&&((0,D.Z)((0,T.Z)(ye.prototype),"init",this).call(this),!this.component)){var Ae=this.getPluginOptions();this.component=new q(Ye,{onCancel:function(){Ue.changeToText()},onSelect:function(it,Ve){var et,wt,jt=Ye.trigger("mention:select",Ve)||{};delete jt.id,Ae!=null&&Ae.onSelect&&(jt=Ae.onSelect(Ve)||{},delete jt.id);var on=Ye.card,bn=Ue.getValue();(et=Ue.component)===null||et===void 0||et.remove(),Ue.component=void 0,(wt=(0,S.Z)(Ue,De)[De])===null||wt===void 0||wt.remove(),on.focus(Ue,!1);var Ft=on.insert(ye.cardName,(0,O.Z)((0,O.Z)({},Ve),{},{marks:bn.marks},jt));if(on.removeNode(Ue),Ye.trigger("mention:insert",Ft),Ae!=null&&Ae.onInsert&&Ae.onInsert(Ft),(0,v.iC)(Ye)){var Mt=Ye.change,_t=Mt.range.get().cloneRange();_t.setStartAfter(Ft.root.get()),_t.collapse(!0),Mt.range.select(_t)}else on.focus(Ft,!1)}})}}},{key:"remove",value:function(){var Ue,Ye,Ae=this.editor;!(0,v.iC)(Ae)||((Ue=this.component)===null||Ue===void 0||Ue.remove(),(Ye=(0,S.Z)(this,De)[De])===null||Ye===void 0||Ye.remove(),Ae.card.remove(this.id))}},{key:"changeToText",value:function(){var Ue,Ye,Ae=this.editor;if(!(!this.root.inEditor()||!(0,v.iC)(Ae))){var tt=((Ue=(0,S.Z)(this,De)[De])===null||Ue===void 0||(Ye=Ue.get())===null||Ye===void 0?void 0:Ye.innerText)||"";this.remove(),Ae.node.insertText(tt)}}},{key:"activate",value:function(Ue){if((0,D.Z)((0,T.Z)(ye.prototype),"activate",this).call(this,Ue),!Ue&&(0,S.Z)(this,De)[De]&&(0,S.Z)(this,De)[De].length>0){var Ye;(Ye=this.component)===null||Ye===void 0||Ye.unbindEvents(),this.changeToText()}}},{key:"handleInput",value:function(){var Ue,Ye,Ae,tt,it=this,Ve=this.editor;if(!!(0,v.iC)(Ve)){var et=Ve.change,wt=Ve.card;if(!et.isComposing()){var jt=((Ue=(0,S.Z)(this,De)[De])===null||Ue===void 0||(Ye=Ue.get())===null||Ye===void 0?void 0:Ye.innerText.replace(/[\r\n]/g,""))||"";if(jt===""){var on;(on=this.component)===null||on===void 0||on.remove(),wt.remove(this.id);return}var bn=jt.substr(1),Ft=Ve.trigger("mention:default")||((Ae=this.getPluginOptions())===null||Ae===void 0?void 0:Ae.defaultData);if(bn===""&&Ft){var Mt;(Mt=this.component)===null||Mt===void 0||Mt.render(this.root,Ft);return}(tt=this.component)===null||tt===void 0||tt.render(this.root,!0);var _t=Ve.trigger("mention:search",bn);this.search(bn).then(function(Jt){var Me;(Me=it.component)===null||Me===void 0||Me.render(it.root,Jt)})}}}},{key:"resetPlaceHolder",value:function(){var Ue,Ye,Ae,tt;((Ue=(0,S.Z)(this,De)[De])===null||Ue===void 0||(Ye=Ue.get())===null||Ye===void 0?void 0:Ye.innerText)==="@"?(Ae=(0,S.Z)(this,we)[we])===null||Ae===void 0||Ae.show():(tt=(0,S.Z)(this,we)[we])===null||tt===void 0||tt.hide()}},{key:"executeMark",value:function(Ue,Ye){if(!!(0,S.Z)(this,ne)[ne]){var Ae=this.editor.mark,tt=(0,S.Z)(this,ne)[ne].children();if(!Ue)Ae.unwrapByNodes(this.queryMarks(!1)),this.setValue({marks:[]});else if(Ye){tt.each(function(et,wt){var jt=tt.eq(wt);jt&&Ae.wrapByNode(jt,Ue)});var it=this.queryMarks().map(function(et){var wt;return((wt=et.clone().get())===null||wt===void 0?void 0:wt.outerHTML)||""});this.setValue({marks:it})}else{Ae.unwrapByNodes(this.queryMarks(!1),Ue);var Ve=this.queryMarks().map(function(et){var wt;return((wt=et.get())===null||wt===void 0?void 0:wt.outerHTML)||""});this.setValue({marks:Ve})}}}},{key:"queryMarks",value:function(){var Ue=this,Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(0,S.Z)(this,ne)[ne]?(0,S.Z)(this,ne)[ne].allChildren().filter(function(Ae){return Ae.isElement()&&Ue.editor.node.isMark(Ae)}).map(function(Ae){return Ye?Ae.clone():Ae}):[]}},{key:"toolbar",value:function(){var Ue,Ye=(Ue=this.editor.plugin.findPlugin("mention"))===null||Ue===void 0?void 0:Ue.options;return Ye!=null&&Ye.cardToolbars?Ye.cardToolbars([],this.editor):[]}},{key:"render",value:function(){var Ue=this,Ye=this.getValue(),Ae=this.editor;if((Ye==null?void 0:Ye.name)&&!(0,S.Z)(this,ne)[ne]){var tt=Ye.id,it=Ye.key,Ve=Ye.name,et=(0,U.Z)(Ye,se);(0,S.Z)(this,ne)[ne]=(0,v.$)('<span class="data-mention-component">@'.concat((0,v.AK)(Ve),"</span>")),(Ye.marks||[]).forEach(function(Me){Ue.executeMark((0,v.$)(Me),!0)}),(0,S.Z)(this,ne)[ne].on("click",function(){!(0,S.Z)(Ue,ne)[ne]||(Ae.trigger("mention:item-click",(0,S.Z)(Ue,ne)[ne],(0,O.Z)({key:(0,v.AK)(it||""),name:(0,v.AK)(Ve)},et)),on!=null&&on.itemClick&&(on==null||on.itemClick((0,S.Z)(Ue,ne)[ne],(0,O.Z)({key:(0,v.AK)(it||""),name:(0,v.AK)(Ve)},et))))}),(0,S.Z)(this,ne)[ne].on("mouseenter",this.showEnter),(0,S.Z)(this,ne)[ne].on("mouseleave",this.hideEnter)}else if((0,S.Z)(this,ne)[ne]){Ye&&((0,S.Z)(this,ne)[ne].html("@".concat((0,v.AK)(Ye.name||""))),((Ye==null?void 0:Ye.marks)||[]).forEach(function(Me){Ue.executeMark((0,v.$)(Me),!0)}));return}if(!(0,v.iC)(Ae))return(0,S.Z)(this,ne)[ne];var wt=Ae.language.get("mention"),jt=void 0,on=this.getPluginOptions();if((0,S.Z)(this,ne)[ne]){var Jt;return(Jt=this.component)===null||Jt===void 0||Jt.remove(),(0,S.Z)(this,ne)[ne]}else{var bn,Ft;(0,S.Z)(this,ne)[ne]=(0,v.$)('<span class="data-mention-component-keyword data-mention-component" '.concat(v.xT,'="true">@</span><span class="data-mention-component-placeholder">').concat(wt.placeholder,"</span>")),(0,S.Z)(this,De)[De]=(0,S.Z)(this,ne)[ne].eq(0),(0,S.Z)(this,we)[we]=(0,S.Z)(this,ne)[ne].eq(1),(bn=(0,S.Z)(this,De)[De])===null||bn===void 0||bn.on("keydown",function(Me){(0,v.P6)("enter",Me)&&Me.preventDefault()});var Mt=Date.now();if((Ft=(0,S.Z)(this,De)[De])===null||Ft===void 0||Ft.on("input",function(){if(Ue.resetPlaceHolder(),Date.now()-Mt<200){var Me,yn=(Me=(0,S.Z)(Ue,De)[De])===null||Me===void 0?void 0:Me.allChildren().find(function(Nn){return Nn.isText()});if(yn&&yn.isText()&&yn[0].nodeValue==="@@"){var Wt,xn=(Wt=yn.get())===null||Wt===void 0?void 0:Wt.splitText(1);xn==null||xn.remove()}}jt&&clearTimeout(jt),jt=setTimeout(function(){Ue.handleInput()},100)}),this.getCenter().append((0,S.Z)(this,ne)[ne]),setTimeout(function(){if((0,v.iC)(Ae)){var Me,yn=Ae.change.range.get();(0,S.Z)(Ue,De)[De]=(Me=(0,S.Z)(Ue,ne)[ne])===null||Me===void 0?void 0:Me.eq(0),yn.select((0,S.Z)(Ue,De)[De],!0).collapse(!1);var Wt=window.getSelection();Wt==null||Wt.removeAllRanges(),Wt==null||Wt.addRange(yn.toRange())}},10),!(on!=null&&on.defaultData?on==null?void 0:on.defaultData:Ae.trigger("mention:default")))setTimeout(function(){Ue.handleInput()},50);else{var _t;(_t=this.component)===null||_t===void 0||_t.render(this.root,Ae.trigger("mention:default")||(on==null?void 0:on.defaultData)||[])}}}},{key:"didRender",value:function(){(0,D.Z)((0,T.Z)(ye.prototype),"didRender",this).call(this),this.updateMaxWidth(),window.addEventListener("resize",this.onWindowResize),this.editor.on("editor:resize",this.onWindowResize)}},{key:"destroy",value:function(){var Ue,Ye;(Ue=this.component)===null||Ue===void 0||Ue.remove(),(Ye=(0,S.Z)(this,je)[je])===null||Ye===void 0||Ye.destroy(),window.removeEventListener("resize",this.onWindowResize),this.editor.off("editor:resize",this.onWindowResize)}}],[{key:"cardName",get:function(){return"mention"}},{key:"cardType",get:function(){return v.eT.INLINE}},{key:"autoSelected",get:function(){return!1}},{key:"selectStyleType",get:function(){return v.dw.NONE}}]),ye}(v.Zb),te={mention:{placeholder:"User name"}},fe={mention:{placeholder:"\u7528\u6237\u540D"}},ue={"en-US":te,"zh-CN":fe},ae=["key","name"],de="parse:value",ve="parse:html",J="paste:schema",X="paste:each",K="keydown:at",ze=function(Ze){(0,p.Z)(ye,Ze);var We=(0,d.Z)(ye);function ye(){var Ie;(0,x.Z)(this,ye);for(var Ue=arguments.length,Ye=new Array(Ue),Ae=0;Ae<Ue;Ae++)Ye[Ae]=arguments[Ae];return Ie=We.call.apply(We,[this].concat(Ye)),Ie.paserValue=function(tt){if(tt.isCard()&&tt.attributes("name")===Je.cardName){var it=tt.attributes("value"),Ve=(0,v.RW)(it);if(!Ve||!Ve.name)return!1}return!0},Ie.renderTime=Date.now(),Ie.onAt=function(tt){var it=Ie.editor;if(!!(0,v.iC)(it)){if(Date.now()-Ie.renderTime<200)return!1;var Ve=it.change,et=Ve.range.get();if(Ie.options.spaceTrigger){var wt=et.createSelection();if(wt.anchor){var jt=(0,v.$)(wt.anchor).prev(),on=jt&&jt.isText()?jt[0].nodeValue:"";if(wt.move(),on&&/[^\s@]$/.test(on))return}}if(tt.preventDefault(),et.collapsed){tt.preventDefault();var bn=it.card.insert(Je.cardName);bn.root.attributes(v.Cj,"true"),it.card.activate(bn.root),et=Ve.range.get();var Ft=bn.find(".data-mention-component-keyword");et.select(Ft,!0),et.collapse(!1),Ve.range.select(et)}return Ie.renderTime=Date.now(),!1}},Ie.pasteSchema=function(tt){tt.add({type:"inline",name:"span",attributes:{"data-type":{required:!0,value:Je.cardName},"data-value":"*"}})},Ie.pasteHtml=function(tt){var it=Ie.editor;if(!!(0,v.iC)(it)){if(tt.isElement()){var Ve=tt.attributes(),et=Ve["data-type"];if(et&&et===Je.cardName){var wt=Ve["data-value"],jt=(0,v.RW)(wt);return jt.name?(it.card.replaceNode(tt,Je.cardName,jt),tt.remove(),!1):void 0}}return!0}},Ie.parseHtml=function(tt,it){var Ve=Ie.editor,et=[];return tt.find("[".concat(v.Jr,'="').concat(Je.cardName,'"],[').concat(v.mV,'="').concat(Je.cardName,'"]')).each(function(wt){var jt=(0,v.$)(wt),on=Ve.card.find(jt),bn=(on==null?void 0:on.getValue())||(0,v.RW)(jt.attributes(v.TM));if((bn==null?void 0:bn.id)&&bn.name){var Ft='<span data-type="'.concat(Je.cardName,'" data-value="').concat((0,v.it)(bn),'" style="color:#1890ff"></span>'),Mt=bn.marks||[],_t=(0,v.$)("<div>@".concat(bn.name,"</div>")),Jt=_t.first();Mt.forEach(function(yn){var Wt=(0,v.$)(yn);Jt=Ve.node.wrap(Jt,Wt)}),jt.empty();var Me=(0,v.$)(Ft);Me.append(Jt),it&&(Me=it(Me,bn)),jt.replaceWith(Me),et.push(Me)}else jt.remove()}),et},Ie}return(0,m.Z)(ye,[{key:"init",value:function(){var Ue=this.editor;Ue.on(de,this.paserValue),Ue.on(ve,this.parseHtml),Ue.on(X,this.pasteHtml),Ue.on(J,this.pasteSchema),(0,v.iC)(Ue)&&Ue.on(K,this.onAt),Ue.language.add(ue)}},{key:"getList",value:function(){var Ue=[];return this.editor.card.each(function(Ye){if(Ye.name===Je.cardName){var Ae=Ye.getValue()||{},tt=Ae.key,it=Ae.name,Ve=(0,U.Z)(Ae,ae);it&&tt&&Ue.push((0,O.Z)({key:(0,v.AK)(tt),name:(0,v.AK)(it)},Ve))}}),Ue}},{key:"execute",value:function(){}},{key:"destroy",value:function(){var Ue=this.editor;Ue.off(de,this.paserValue),Ue.off(ve,this.parseHtml),Ue.off(X,this.pasteHtml),Ue.off(J,this.pasteSchema),(0,v.iC)(Ue)&&Ue.off(K,this.onAt)}}],[{key:"pluginName",get:function(){return"mention"}}]),ye}(v.Sy);Ce.Z=ze},29106:function(ut,Ce,f){"use strict";f.d(Ce,{W:function(){return je}});var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=f(75782),v=f(60790),M=f(34203),D=f(29129),T=f(85462),S=f(11997),g=f(68901),z=f(81050),E=f(42361),Y=f.n(E),q=["token"],j={startOnLoad:!1,theme:"default",flowchart:{diagramPadding:20,nodeSpacing:90,rankSpacing:90,htmlLabels:!1,curve:"cardinal"},dictionary:{token:"mermaid"}},le=function(ae){return String(ae).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},ce=function(ae){try{z.o.initialize(j);var de="mermaid-"+Y()(ae,42).toString()+new Date().getTime();return console.log("needsUniqueId",de,ae),z.o.mermaidAPI.render(de,ae,function(ve){ae=ve}),"".concat(ae)}catch(ve){return"<pre>".concat(le(ve==null?void 0:ve.name),": ").concat(le(ve==null?void 0:ve.message),"</pre>")}},se=function(ae,de){Object.assign(j,de.mermaid);var ve=j.dictionary,J=ve.token,X=J===void 0?"mermaid":J,K=(0,g.Z)(ve,q),ze=ae.renderer.rules.fence.bind(ae.renderer.rules);function Ze(We,ye,Ie,Ue){var Ye,Ae;return ye=(Ye=K[ye])!==null&&Ye!==void 0?Ye:ye,Ie=(Ae=K[Ie])!==null&&Ae!==void 0?Ae:Ie,Ie===""?"".concat(ye,`
`):"".concat(ye," ").concat(Ie).concat(Ue)}ae.renderer.rules.fence=function(We,ye,Ie,Ue,Ye){var Ae=We[ye],tt=Ae.content.trim();if(Ae.info.trim()===X){de!=null&&de.render&&(de==null||de.render(tt.replace(/(.*?)[ \n](.*?)([ \n])/,Ze)));return}return ze(We,ye,de,Ue,Ye)}};function ne(ue,ae){ae===void 0&&(ae={});var de=ae.insertAt;if(!(!ue||typeof document=="undefined")){var ve=document.head||document.getElementsByTagName("head")[0],J=document.createElement("style");J.type="text/css",de==="top"&&ve.firstChild?ve.insertBefore(J,ve.firstChild):ve.appendChild(J),J.styleSheet?J.styleSheet.cssText=ue:J.appendChild(document.createTextNode(ue))}}var De=`.data-mermaid {
	position: relative;
	width: 100%;
	height: 100%;
	line-height: 0 !important;
	cursor: pointer;
}

.data-mermaid-active {
	line-height: 0;
	-webkit-user-select: none;
	   -moz-user-select: none;
	        user-select: none;
}

.data-mermaid-active svg {
	/* outline: 2px solid #1890ff; */
}

.data-mermaid .data-mermaid-content {
	position: relative;
	width: 100%;
}

.data-mermaid .data-mermaid-content .data-mermaid-mask {
	width: 100%;
	height: 100%;
	position: absolute;
	left: 0;
	top: 0;
	z-index: 1;
	cursor: pointer;
	/* display: none; */
}

.data-mermaid .data-mermaid-content svg {
	position: relative;
	z-index: 1;
	width: 100%;
	height: 100%;
	border: none;
	overflow: hidden;
}

.data-mermaid .data-mermaid-content svg .label div {
	height: 100%;
}

.data-mermaid .data-mermaid-content .data-resizer {
	z-index: inherit;
}

.data-mermaid .data-mermaid-content .data-resizer .data-resizer-holder {
	z-index: 2;
}

.data-mermaid .data-mermaid-content .data-resizing {
	z-index: 3;
}

.data-mermaid-blcok .data-mermaid-content {
	display: flex;
	justify-content: center;
}
`;ne(De);var we=(0,S.Z)("container"),je=function(ue){(0,x.Z)(de,ue);var ae=(0,m.Z)(de);function de(){var ve;(0,O.Z)(this,de);for(var J=arguments.length,X=new Array(J),K=0;K<J;K++)X[K]=arguments[K];return ve=ae.call.apply(ae,[this].concat(X)),Object.defineProperty((0,v.Z)(ve),we,{writable:!0,value:void 0}),ve.resizer=void 0,ve}return(0,U.Z)(de,[{key:"toolbar",value:function(){var J=this;if(!(0,p.iC)(this.editor)||this.editor.readonly)return[];var X=this.editor.language.get("cardToolBar");return[{type:"dnd"},{type:"delete"},{key:"block",type:"button",content:'<span class="data-icon data-icon-block-image"></span>',title:X.displayBlockTitle,onClick:function(){J.type=p.eT.BLOCK}},{key:"inline",type:"button",content:'<span class="data-icon data-icon-inline-image"></span>',title:X.displayInlineTitle,onClick:function(){J.type=p.eT.INLINE}}]}},{key:"getInitOptions",value:function(){var J,X,K=this.getMaxWidth(),ze=this.getValue(),Ze={width:((J=ze.size)===null||J===void 0?void 0:J.width)||K,height:((X=ze.size)===null||X===void 0?void 0:X.height)||K*(ze.rate||1)};return ze.maxWidth=K,ze.size=Ze,this.setValue((0,d.Z)({},ze)),ze}},{key:"render",value:function(){var J=this.getInitOptions(),X=J.code;if((0,T.Z)(this,we)[we]||((0,T.Z)(this,we)[we]=(0,p.$)('<div class="data-mermaid"></div>')),X){var K,ze,Ze,We=ce(X),ye=(0,p.$)('<div class="data-mermaid-content" style="width: '.concat((K=J.size)===null||K===void 0?void 0:K.width,"px; height: ").concat((ze=J.size)===null||ze===void 0?void 0:ze.height,`px">
						  `).concat(We,`
						  <div class="data-mermaid-mask"></div>
					  </div > `));(Ze=(0,T.Z)(this,we)[we])===null||Ze===void 0||Ze.empty().append(ye)}return this.type===p.eT.BLOCK?(0,T.Z)(this,we)[we].addClass("data-mermaid-blcok"):(0,T.Z)(this,we)[we].removeClass("data-mermaid-blcok"),(0,T.Z)(this,we)[we]}},{key:"didRender",value:function(){var J;console.log("mermaid card didRender"),(0,M.Z)((0,D.Z)(de.prototype),"didRender",this).call(this),(J=this.toolbarModel)===null||J===void 0||J.setDefaultAlign("top")}},{key:"didUpdate",value:function(){var J,X,K,ze;console.log("mermaid card didUpdate"),(0,M.Z)((0,D.Z)(de.prototype),"didUpdate",this).call(this),(J=this.toolbarModel)===null||J===void 0||(X=J.getContainer())===null||X===void 0||X.remove(),(K=this.toolbarModel)===null||K===void 0||K.create(),(ze=this.toolbarModel)===null||ze===void 0||ze.setDefaultAlign("top")}},{key:"onActivate",value:function(J){if(console.log("mermaid onActivate",J),(0,M.Z)((0,D.Z)(de.prototype),"onActivate",this).call(this,J),J){var X;(X=(0,T.Z)(this,we)[we])===null||X===void 0||X.addClass("data-mermaid-active"),this.destroyEditor(),this.renderEditor()}else{var K;(K=(0,T.Z)(this,we)[we])===null||K===void 0||K.removeClass("data-mermaid-active"),this.destroyEditor()}}},{key:"renderEditor",value:function(){var J,X,K,ze=this,Ze=this.getValue(),We=(J=(0,T.Z)(this,we)[we])===null||J===void 0?void 0:J.find(".data-mermaid-content");if(!!We){var ye=((X=Ze.size)===null||X===void 0?void 0:X.width)||We.width(),Ie=((K=Ze.size)===null||K===void 0?void 0:K.height)||We.height();if(!(!ye||!Ie)){var Ue=this.editor,Ye=this.getMaxWidth();ye=ye>Ye?Ye:ye;var Ae=Ie/ye;if(this.setValue((0,d.Z)((0,d.Z)({},Ze),{},{maxWidth:Ye,rate:Ae,size:{width:ye,height:Ie}})),!(p.tq||!(0,p.iC)(Ue)||Ue.readonly)&&this.getValue().enableResizer!==!1){var tt=new p.w_({imgUrl:"",width:ye,height:Ie,rate:Ae||1,maxWidth:Ye,onChange:function(et){var wt=et.width,jt=et.height;return ze.changeSize(wt,jt)}}),it=tt.render();this.root.find(".data-mermaid-content").append(it),this.resizer=tt}}}}},{key:"getMaxWidth",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root,X=this.editor.block.closest(J).get();return X?X.clientWidth-6:0}},{key:"changeSize",value:function(J,X){var K=this.getValue();J<24&&(J=24,X=J*K.rate),J>K.maxWidth&&(J=K.maxWidth,X=J*K.rate),X<24&&(X=24,J=X/K.rate),J=Math.round(J),X=Math.round(X),K.size.width=J,K.size.height=X,this.setValue((0,d.Z)({},K));var ze=(0,p.$)(".data-mermaid-content");ze==null||ze.css({width:"".concat(J,"px"),height:"".concat(X,"px")}),this.destroyEditor(),this.renderEditor()}},{key:"destroyEditor",value:function(){var J;(J=this.resizer)===null||J===void 0||J.destroy()}}],[{key:"cardName",get:function(){return"mermaid"}},{key:"cardType",get:function(){return p.eT.BLOCK}},{key:"autoSelected",get:function(){return!1}},{key:"singleSelectable",get:function(){return!1}}]),de}(p.Zb),dt={cardToolBar:{displayBlockTitle:"BLOCK",displayInlineTitle:"INLINE"}},Qe={cardToolBar:{displayBlockTitle:"\u72EC\u5360\u4E00\u884C",displayInlineTitle:"\u5D4C\u5165\u884C\u5185"}},lt={"en-US":dt,"zh-CN":Qe};function Te(ue,ae){ue.use(se,{render:function(ve){ae.command.executeMethod("mermaid","execute",ve)}})}var Je="paste:each",te="markdown-it",fe=function(ue){(0,x.Z)(de,ue);var ae=(0,m.Z)(de);function de(){var ve;(0,O.Z)(this,de);for(var J=arguments.length,X=new Array(J),K=0;K<J;K++)X[K]=arguments[K];return ve=ae.call.apply(ae,[this].concat(X)),ve.markdownIt=function(ze){ve.options.markdown!==!1&&Te(ze,ve.editor)},ve.textList=[],ve.pasteHtml=function(ze){if(ze.isText()&&ve.textList.push(ze.text().trim()),ze.isText()&&(ze.text().trim()==="undefined"||ze.text().trim()==="```")&&ve.textList.includes("```mermaid")&&(ve.textList[ve.textList.length-1]==="undefined"||ve.textList[ve.textList.length-1]==="```")){var Ze;ze.remove(),(Ze=ze.parent())===null||Ze===void 0||Ze.remove(),ve.textList[ve.textList.length-1]==="undefined"&&(ve.textList=[])}},ve}return(0,U.Z)(de,[{key:"init",value:function(){var J=this.editor;J.language.add(lt),(0,p.iC)(J)&&(J.on(te,this.markdownIt),J.on(Je,this.pasteHtml))}},{key:"execute",value:function(J){var X=this.editor;if(!!(0,p.iC)(X)){var K=X.card;K.insert(je.cardName,{code:J})}}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"destroy",value:function(){var J=this.editor;(0,p.iC)(J)&&(J.off(te,this.markdownIt),J.off(Je,this.pasteHtml))}}],[{key:"pluginName",get:function(){return"mermaid"}}]),de}(p.Sy);Ce.Z=fe},57295:function(ut,Ce,f){"use strict";f.d(Ce,{H:function(){return Xh},Z:function(){return Qh}});var O=f(75782),U=f(40936),x=f(49962),m=f(60790),p=f(65782),d=f(64655),v=f(62998),M=f(34203),D=f(29129),T=f(85462),S=f(11997),g=f(85170),z=f(15286),E=f(91600),Y=f(41318),q=f(99013),j=f.n(q),le=f(66292),ce=f.n(le),se=f(13187),ne=f.n(se),De=f(86809),we=f(64617),je=f(48220),dt=f(76942),Qe=f(94079),lt=f(3728),Te=f(25209),Je=f(49672),te=f(63156),fe=f(13440),ue=f(36096),ae=f(13838),de=f(1049),ve=f(79294),J=f(65798),X=f(25325),K=f(20905),ze=f(7876),Ze=f(11012),We=f(87907),ye=f(16358),Ie=f(28733),Ue=f(16859),Ye=f(46002),Ae=f(5592),tt=f(88089),it=f(80861),Ve=f(65973),et=f(63776),wt=f(58977),jt=f(36941),on=f(95368),bn=f(60530),Ft=f(4703),Mt=f(11484),_t=f(6771),Jt=f(56888),Me=f(25542);function yn(R,Z){R.prototype=Object.create(Z.prototype),R.prototype.constructor=R,(0,Me.Z)(R,Z)}var Wt=f(51163),xn=f(43453),Nn=g.createContext(null),Cr=null;function jr(R){R()}var ii=jr,xi=function(Z){return ii=Z},$i=function(){return ii};function _i(){var R=$i(),Z=null,Q=null;return{clear:function(){Z=null,Q=null},notify:function(){R(function(){for(var Be=Z;Be;)Be.callback(),Be=Be.next})},get:function(){for(var Be=[],Ge=Z;Ge;)Be.push(Ge),Ge=Ge.next;return Be},subscribe:function(Be){var Ge=!0,ct=Q={callback:Be,next:null,prev:Q};return ct.prev?ct.prev.next=ct:Z=ct,function(){!Ge||Z===null||(Ge=!1,ct.next?ct.next.prev=ct.prev:Q=ct.prev,ct.prev?ct.prev.next=ct.next:Z=ct.next)}}}}var Vr={notify:function(){},get:function(){return[]}};function Kr(R,Z){var Q,ke=Vr;function Be(Vt){return Rt(),ke.subscribe(Vt)}function Ge(){ke.notify()}function ct(){$t.onStateChange&&$t.onStateChange()}function mt(){return Boolean(Q)}function Rt(){Q||(Q=Z?Z.addNestedSub(ct):R.subscribe(ct),ke=_i())}function tn(){Q&&(Q(),Q=void 0,ke.clear(),ke=Vr)}var $t={addNestedSub:Be,notifyNestedSubs:Ge,handleChangeWrapper:ct,isSubscribed:mt,trySubscribe:Rt,tryUnsubscribe:tn,getListeners:function(){return ke}};return $t}var Tr=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?g.useLayoutEffect:g.useEffect;function qt(R){var Z=R.store,Q=R.context,ke=R.children,Be=(0,g.useMemo)(function(){var mt=Kr(Z);return{store:Z,subscription:mt}},[Z]),Ge=(0,g.useMemo)(function(){return Z.getState()},[Z]);Tr(function(){var mt=Be.subscription;return mt.onStateChange=mt.notifyNestedSubs,mt.trySubscribe(),Ge!==Z.getState()&&mt.notifyNestedSubs(),function(){mt.tryUnsubscribe(),mt.onStateChange=null}},[Be,Ge]);var ct=Q||Nn;return g.createElement(ct.Provider,{value:Be},ke)}var Zt=qt,Ee=f(40574),pe=f(72535),oe=f.n(pe),me=f(97679),Pe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],nt=["reactReduxForwardedRef"],ht=[],vt=[null,null],St=function(Z){try{return JSON.stringify(Z)}catch(Q){return String(Z)}};function It(R,Z){var Q=R[1];return[Z.payload,Q+1]}function Kt(R,Z,Q){Tr(function(){return R.apply(void 0,Z)},Q)}function Tt(R,Z,Q,ke,Be,Ge,ct){R.current=ke,Z.current=Be,Q.current=!1,Ge.current&&(Ge.current=null,ct())}function Lt(R,Z,Q,ke,Be,Ge,ct,mt,Rt,tn){if(!!R){var $t=!1,Vt=null,Qt=function(){if(!$t){var ei=Z.getState(),qr,Pr;try{qr=ke(ei,Be.current)}catch(Ai){Pr=Ai,Vt=Ai}Pr||(Vt=null),qr===Ge.current?ct.current||Rt():(Ge.current=qr,mt.current=qr,ct.current=!0,tn({type:"STORE_UPDATED",payload:{error:Pr}}))}};Q.onStateChange=Qt,Q.trySubscribe(),Qt();var Tn=function(){if($t=!0,Q.tryUnsubscribe(),Q.onStateChange=null,Vt)throw Vt};return Tn}}var Gt=function(){return[null,0]};function Yt(R,Z){Z===void 0&&(Z={});var Q=Z,ke=Q.getDisplayName,Be=ke===void 0?function(ja){return"ConnectAdvanced("+ja+")"}:ke,Ge=Q.methodName,ct=Ge===void 0?"connectAdvanced":Ge,mt=Q.renderCountProp,Rt=mt===void 0?void 0:mt,tn=Q.shouldHandleStateChanges,$t=tn===void 0?!0:tn,Vt=Q.storeKey,Qt=Vt===void 0?"store":Vt,Tn=Q.withRef,fr=Tn===void 0?!1:Tn,ei=Q.forwardRef,qr=ei===void 0?!1:ei,Pr=Q.context,Ai=Pr===void 0?Nn:Pr,Yi=(0,Ee.Z)(Q,Pe);if(!1)var ta;var Ha=Ai;return function(No){var Cs=No.displayName||No.name||"Component",Eo=Be(Cs),xs=(0,Wt.Z)({},Yi,{getDisplayName:Be,methodName:ct,renderCountProp:Rt,shouldHandleStateChanges:$t,storeKey:Qt,displayName:Eo,wrappedComponentName:Cs,WrappedComponent:No}),_c=Yi.pure;function Lc(fu){return R(fu.dispatch,xs)}var uf=_c?g.useMemo:function(fu){return fu()};function cd(fu){var fh=(0,g.useMemo)(function(){var Qf=fu.reactReduxForwardedRef,Zh=(0,Ee.Z)(fu,nt);return[fu.context,Qf,Zh]},[fu]),ff=fh[0],Jh=fh[1],qf=fh[2],$f=(0,g.useMemo)(function(){return ff&&ff.Consumer&&(0,me.isContextConsumer)(g.createElement(ff.Consumer,null))?ff:Ha},[ff,Ha]),hu=(0,g.useContext)($f),pl=Boolean(fu.store)&&Boolean(fu.store.getState)&&Boolean(fu.store.dispatch),pp=Boolean(hu)&&Boolean(hu.store),ud=pl?fu.store:hu.store,Xf=(0,g.useMemo)(function(){return Lc(ud)},[ud]),Nh=(0,g.useMemo)(function(){if(!$t)return vt;var Qf=Kr(ud,pl?null:hu.subscription),Zh=Qf.notifyNestedSubs.bind(Qf);return[Qf,Zh]},[ud,pl,hu]),Rh=Nh[0],Ph=Nh[1],Bh=(0,g.useMemo)(function(){return pl?hu:(0,Wt.Z)({},hu,{subscription:Rh})},[pl,hu,Rh]),u0=(0,g.useReducer)(It,ht,Gt),Pp=u0[0],Fh=Pp[0],Bp=u0[1];if(Fh&&Fh.error)throw Fh.error;var Fp=(0,g.useRef)(),vp=(0,g.useRef)(qf),gp=(0,g.useRef)(),Zp=(0,g.useRef)(!1),mp=uf(function(){return gp.current&&qf===vp.current?gp.current:Xf(ud.getState(),qf)},[ud,Fh,qf]);Kt(Tt,[vp,Fp,Zp,qf,mp,gp,Ph]),Kt(Lt,[$t,ud,Rh,Xf,vp,Fp,Zp,gp,Ph,Bp],[ud,Rh,Xf]);var bp=(0,g.useMemo)(function(){return g.createElement(No,(0,Wt.Z)({},mp,{ref:Jh}))},[Jh,No,mp]),yp=(0,g.useMemo)(function(){return $t?g.createElement($f.Provider,{value:Bh},bp):bp},[$f,bp,Bh]);return yp}var wd=_c?g.memo(cd):cd;if(wd.WrappedComponent=No,wd.displayName=cd.displayName=Eo,qr){var df=g.forwardRef(function(fh,ff){return g.createElement(wd,(0,Wt.Z)({},fh,{reactReduxForwardedRef:ff}))});return df.displayName=Eo,df.WrappedComponent=No,oe()(df,No)}return oe()(wd,No)}}function Mn(R,Z){return R===Z?R!==0||Z!==0||1/R===1/Z:R!==R&&Z!==Z}function Dn(R,Z){if(Mn(R,Z))return!0;if(typeof R!="object"||R===null||typeof Z!="object"||Z===null)return!1;var Q=Object.keys(R),ke=Object.keys(Z);if(Q.length!==ke.length)return!1;for(var Be=0;Be<Q.length;Be++)if(!Object.prototype.hasOwnProperty.call(Z,Q[Be])||!Mn(R[Q[Be]],Z[Q[Be]]))return!1;return!0}function wn(R,Z){var Q={},ke=function(ct){var mt=R[ct];typeof mt=="function"&&(Q[ct]=function(){return Z(mt.apply(void 0,arguments))})};for(var Be in R)ke(Be);return Q}function mn(R){return function(Q,ke){var Be=R(Q,ke);function Ge(){return Be}return Ge.dependsOnOwnProps=!1,Ge}}function On(R){return R.dependsOnOwnProps!==null&&R.dependsOnOwnProps!==void 0?Boolean(R.dependsOnOwnProps):R.length!==1}function Rn(R,Z){return function(ke,Be){var Ge=Be.displayName,ct=function(Rt,tn){return ct.dependsOnOwnProps?ct.mapToProps(Rt,tn):ct.mapToProps(Rt)};return ct.dependsOnOwnProps=!0,ct.mapToProps=function(Rt,tn){ct.mapToProps=R,ct.dependsOnOwnProps=On(R);var $t=ct(Rt,tn);return typeof $t=="function"&&(ct.mapToProps=$t,ct.dependsOnOwnProps=On($t),$t=ct(Rt,tn)),$t},ct}}function Kn(R){return typeof R=="function"?Rn(R,"mapDispatchToProps"):void 0}function jn(R){return R?void 0:mn(function(Z){return{dispatch:Z}})}function tr(R){return R&&typeof R=="object"?mn(function(Z){return wn(R,Z)}):void 0}var cr=[Kn,jn,tr];function ar(R){return typeof R=="function"?Rn(R,"mapStateToProps"):void 0}function Zn(R){return R?void 0:mn(function(){return{}})}var Un=[ar,Zn];function yi(R,Z,Q){return(0,Wt.Z)({},Q,R,Z)}function gi(R){return function(Q,ke){var Be=ke.displayName,Ge=ke.pure,ct=ke.areMergedPropsEqual,mt=!1,Rt;return function($t,Vt,Qt){var Tn=R($t,Vt,Qt);return mt?(!Ge||!ct(Tn,Rt))&&(Rt=Tn):(mt=!0,Rt=Tn),Rt}}}function Xr(R){return typeof R=="function"?gi(R):void 0}function Vn(R){return R?void 0:function(){return yi}}var ci=[Xr,Vn],mi=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function oi(R,Z,Q,ke){return function(Ge,ct){return Q(R(Ge,ct),Z(ke,ct),ct)}}function Ar(R,Z,Q,ke,Be){var Ge=Be.areStatesEqual,ct=Be.areOwnPropsEqual,mt=Be.areStatePropsEqual,Rt=!1,tn,$t,Vt,Qt,Tn;function fr(Yi,ta){return tn=Yi,$t=ta,Vt=R(tn,$t),Qt=Z(ke,$t),Tn=Q(Vt,Qt,$t),Rt=!0,Tn}function ei(){return Vt=R(tn,$t),Z.dependsOnOwnProps&&(Qt=Z(ke,$t)),Tn=Q(Vt,Qt,$t),Tn}function qr(){return R.dependsOnOwnProps&&(Vt=R(tn,$t)),Z.dependsOnOwnProps&&(Qt=Z(ke,$t)),Tn=Q(Vt,Qt,$t),Tn}function Pr(){var Yi=R(tn,$t),ta=!mt(Yi,Vt);return Vt=Yi,ta&&(Tn=Q(Vt,Qt,$t)),Tn}function Ai(Yi,ta){var Ha=!ct(ta,$t),ja=!Ge(Yi,tn,ta,$t);return tn=Yi,$t=ta,Ha&&ja?ei():Ha?qr():ja?Pr():Tn}return function(ta,Ha){return Rt?Ai(ta,Ha):fr(ta,Ha)}}function Fr(R,Z){var Q=Z.initMapStateToProps,ke=Z.initMapDispatchToProps,Be=Z.initMergeProps,Ge=(0,Ee.Z)(Z,mi),ct=Q(R,Ge),mt=ke(R,Ge),Rt=Be(R,Ge),tn=Ge.pure?Ar:oi;return tn(ct,mt,Rt,R,Ge)}var lr=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Hr(R,Z,Q){for(var ke=Z.length-1;ke>=0;ke--){var Be=Z[ke](R);if(Be)return Be}return function(Ge,ct){throw new Error("Invalid value of type "+typeof R+" for "+Q+" argument when connecting component "+ct.wrappedComponentName+".")}}function He(R,Z){return R===Z}function kt(R){var Z=R===void 0?{}:R,Q=Z.connectHOC,ke=Q===void 0?Yt:Q,Be=Z.mapStateToPropsFactories,Ge=Be===void 0?Un:Be,ct=Z.mapDispatchToPropsFactories,mt=ct===void 0?cr:ct,Rt=Z.mergePropsFactories,tn=Rt===void 0?ci:Rt,$t=Z.selectorFactory,Vt=$t===void 0?Fr:$t;return function(Tn,fr,ei,qr){qr===void 0&&(qr={});var Pr=qr,Ai=Pr.pure,Yi=Ai===void 0?!0:Ai,ta=Pr.areStatesEqual,Ha=ta===void 0?He:ta,ja=Pr.areOwnPropsEqual,No=ja===void 0?Dn:ja,Cs=Pr.areStatePropsEqual,Eo=Cs===void 0?Dn:Cs,xs=Pr.areMergedPropsEqual,_c=xs===void 0?Dn:xs,Lc=(0,Ee.Z)(Pr,lr),uf=Hr(Tn,Ge,"mapStateToProps"),cd=Hr(fr,mt,"mapDispatchToProps"),wd=Hr(ei,tn,"mergeProps");return ke(Vt,(0,Wt.Z)({methodName:"connect",getDisplayName:function(fu){return"Connect("+fu+")"},shouldHandleStateChanges:Boolean(Tn),initMapStateToProps:uf,initMapDispatchToProps:cd,initMergeProps:wd,pure:Yi,areStatesEqual:Ha,areOwnPropsEqual:No,areStatePropsEqual:Eo,areMergedPropsEqual:_c},Lc))}}var Pn=kt();function En(){var R=useContext(ReactReduxContext);return R}function Qn(R){R===void 0&&(R=ReactReduxContext);var Z=R===ReactReduxContext?useDefaultReduxContext:function(){return useContext(R)};return function(){var ke=Z(),Be=ke.store;return Be}}var Gn=null;function Li(R){R===void 0&&(R=ReactReduxContext);var Z=R===ReactReduxContext?useDefaultStore:createStoreHook(R);return function(){var ke=Z();return ke.dispatch}}var Yr=null,Bi=function(Z,Q){return Z===Q};function bi(R,Z,Q,ke){var Be=useReducer(function(fr){return fr+1},0),Ge=Be[1],ct=useMemo(function(){return createSubscription(Q,ke)},[Q,ke]),mt=useRef(),Rt=useRef(),tn=useRef(),$t=useRef(),Vt=Q.getState(),Qt;try{if(R!==Rt.current||Vt!==tn.current||mt.current){var Tn=R(Vt);$t.current===void 0||!Z(Tn,$t.current)?Qt=Tn:Qt=$t.current}else Qt=$t.current}catch(fr){throw mt.current&&(fr.message+=`
The error may be correlated with this previous error:
`+mt.current.stack+`

`),fr}return useIsomorphicLayoutEffect(function(){Rt.current=R,tn.current=Vt,$t.current=Qt,mt.current=void 0}),useIsomorphicLayoutEffect(function(){function fr(){try{var ei=Q.getState();if(ei===tn.current)return;var qr=Rt.current(ei);if(Z(qr,$t.current))return;$t.current=qr,tn.current=ei}catch(Pr){mt.current=Pr}Ge()}return ct.onStateChange=fr,ct.trySubscribe(),fr(),function(){return ct.tryUnsubscribe()}},[Q,ct]),Qt}function Ma(R){R===void 0&&(R=ReactReduxContext);var Z=R===ReactReduxContext?useDefaultReduxContext:function(){return useContext(R)};return function(ke,Be){Be===void 0&&(Be=Bi);var Ge=Z(),ct=Ge.store,mt=Ge.subscription,Rt=bi(ke,Be,ct,mt);return useDebugValue(Rt),Rt}}var Ya=null;xi(z.unstable_batchedUpdates);function Io(R,Z){if(R.length!==Z.length)return!1;for(var Q=0;Q<R.length;Q++)if(R[Q]!==Z[Q])return!1;return!0}function eo(R,Z){var Q=(0,g.useState)(function(){return{inputs:Z,result:R()}})[0],ke=(0,g.useRef)(!0),Be=(0,g.useRef)(Q),Ge=ke.current||Boolean(Z&&Be.current.inputs&&Io(Z,Be.current.inputs)),ct=Ge?Be.current:{inputs:Z,result:R()};return(0,g.useEffect)(function(){ke.current=!1,Be.current=ct},[ct]),ct.result}function Do(R,Z){return eo(function(){return R},Z)}var Ti=eo,sa=Do,Vs=!0,El="Invariant failed";function Zl(R,Z){if(!R){if(Vs)throw new Error(El);var Q=typeof Z=="function"?Z():Z,ke=Q?"".concat(El,": ").concat(Q):El;throw new Error(ke)}}var bo=function(Z){var Q=Z.top,ke=Z.right,Be=Z.bottom,Ge=Z.left,ct=ke-Ge,mt=Be-Q,Rt={top:Q,right:ke,bottom:Be,left:Ge,width:ct,height:mt,x:Ge,y:Q,center:{x:(ke+Ge)/2,y:(Be+Q)/2}};return Rt},vl=function(Z,Q){return{top:Z.top-Q.top,left:Z.left-Q.left,bottom:Z.bottom+Q.bottom,right:Z.right+Q.right}},dc=function(Z,Q){return{top:Z.top+Q.top,left:Z.left+Q.left,bottom:Z.bottom-Q.bottom,right:Z.right-Q.right}},As=function(Z,Q){return{top:Z.top+Q.y,left:Z.left+Q.x,bottom:Z.bottom+Q.y,right:Z.right+Q.x}},Ol={top:0,right:0,bottom:0,left:0},vs=function(Z){var Q=Z.borderBox,ke=Z.margin,Be=ke===void 0?Ol:ke,Ge=Z.border,ct=Ge===void 0?Ol:Ge,mt=Z.padding,Rt=mt===void 0?Ol:mt,tn=bo(vl(Q,Be)),$t=bo(dc(Q,ct)),Vt=bo(dc($t,Rt));return{marginBox:tn,borderBox:bo(Q),paddingBox:$t,contentBox:Vt,margin:Be,border:ct,padding:Rt}},Os=function(Z){var Q=Z.slice(0,-2),ke=Z.slice(-2);if(ke!=="px")return 0;var Be=Number(Q);return isNaN(Be)&&Zl(!1),Be},Qs=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Js=function(Z,Q){var ke=Z.borderBox,Be=Z.border,Ge=Z.margin,ct=Z.padding,mt=As(ke,Q);return vs({borderBox:mt,border:Be,margin:Ge,padding:ct})},nn=function(Z,Q){return Q===void 0&&(Q=Qs()),Js(Z,Q)},Ku=function(Z,Q){var ke={top:Os(Q.marginTop),right:Os(Q.marginRight),bottom:Os(Q.marginBottom),left:Os(Q.marginLeft)},Be={top:Os(Q.paddingTop),right:Os(Q.paddingRight),bottom:Os(Q.paddingBottom),left:Os(Q.paddingLeft)},Ge={top:Os(Q.borderTopWidth),right:Os(Q.borderRightWidth),bottom:Os(Q.borderBottomWidth),left:Os(Q.borderLeftWidth)};return vs({borderBox:Z,margin:ke,padding:Be,border:Ge})},al=function(Z){var Q=Z.getBoundingClientRect(),ke=window.getComputedStyle(Z);return Ku(Q,ke)},Lo=f(57699),zl=function(Z){var Q=[],ke=null,Be=function(){for(var ct=arguments.length,mt=new Array(ct),Rt=0;Rt<ct;Rt++)mt[Rt]=arguments[Rt];Q=mt,!ke&&(ke=requestAnimationFrame(function(){ke=null,Z.apply(void 0,Q)}))};return Be.cancel=function(){!ke||(cancelAnimationFrame(ke),ke=null)},Be},Po=zl,Ec=!0,Ys=/[ \t]{2,}/g,Rc=/^[ \t]*/gm,Cu=function(Z){return Z.replace(Ys," ").replace(Rc,"").trim()},Wl=function(Z){return Cu(`
  %creact-beautiful-dnd

  %c`+Cu(Z)+`

  %c\u{1F477}\u200D This is a development only message. It will be removed in production builds.
`)},ol=function(Z){return[Wl(Z),"color: #00C584; font-size: 1.2em; font-weight: bold;","line-height: 1.5","color: #723874;"]},pu="__react-beautiful-dnd-disable-dev-warnings";function Pc(R,Z){var Q;Ec||typeof window!="undefined"&&window[pu]||(Q=console)[R].apply(Q,ol(Z))}var Ul=Pc.bind(null,"warn"),Bc=Pc.bind(null,"error");function Nl(){}function _a(R,Z){return(0,Wt.Z)({},R,{},Z)}function Wn(R,Z,Q){var ke=Z.map(function(Be){var Ge=_a(Q,Be.options);return R.addEventListener(Be.eventName,Be.fn,Ge),function(){R.removeEventListener(Be.eventName,Be.fn,Ge)}});return function(){ke.forEach(function(Ge){Ge()})}}var Di=!0,Hi="Invariant failed";function Ca(R){this.message=R}Ca.prototype.toString=function(){return this.message};function Qr(R,Z){if(!R)throw Di?new Ca(Hi):new Ca(Hi+": "+(Z||""))}var yo=function(R){yn(Z,R);function Z(){for(var ke,Be=arguments.length,Ge=new Array(Be),ct=0;ct<Be;ct++)Ge[ct]=arguments[ct];return ke=R.call.apply(R,[this].concat(Ge))||this,ke.callbacks=null,ke.unbind=Nl,ke.onWindowError=function(mt){var Rt=ke.getCallbacks();Rt.isDragging()&&Rt.tryAbort();var tn=mt.error;tn instanceof Ca&&mt.preventDefault()},ke.getCallbacks=function(){if(!ke.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return ke.callbacks},ke.setCallbacks=function(mt){ke.callbacks=mt},ke}var Q=Z.prototype;return Q.componentDidMount=function(){this.unbind=Wn(window,[{eventName:"error",fn:this.onWindowError}])},Q.componentDidCatch=function(Be){if(Be instanceof Ca){this.setState({});return}throw Be},Q.componentWillUnmount=function(){this.unbind()},Q.render=function(){return this.props.children(this.setCallbacks)},Z}(g.Component),ko=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Da=function(Z){return Z+1},Uo=function(Z){return`
  You have lifted an item in position `+Da(Z.source.index)+`
`},Fs=function(Z,Q){var ke=Z.droppableId===Q.droppableId,Be=Da(Z.index),Ge=Da(Q.index);return ke?`
      You have moved the item from position `+Be+`
      to position `+Ge+`
    `:`
    You have moved the item from position `+Be+`
    in list `+Z.droppableId+`
    to list `+Q.droppableId+`
    in position `+Ge+`
  `},gs=function(Z,Q,ke){var Be=Q.droppableId===ke.droppableId;return Be?`
      The item `+Z+`
      has been combined with `+ke.draggableId:`
      The item `+Z+`
      in list `+Q.droppableId+`
      has been combined with `+ke.draggableId+`
      in list `+ke.droppableId+`
    `},Cl=function(Z){var Q=Z.destination;if(Q)return Fs(Z.source,Q);var ke=Z.combine;return ke?gs(Z.draggableId,Z.source,ke):"You are over an area that cannot be dropped on"},Tu=function(Z){return`
  The item has returned to its starting position
  of `+Da(Z.index)+`
`},Su=function(Z){if(Z.reason==="CANCEL")return`
      Movement cancelled.
      `+Tu(Z.source)+`
    `;var Q=Z.destination,ke=Z.combine;return Q?`
      You have dropped the item.
      `+Fs(Z.source,Q)+`
    `:ke?`
      You have dropped the item.
      `+gs(Z.draggableId,Z.source,ke)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Tu(Z.source)+`
  `},ec={dragHandleUsageInstructions:ko,onDragStart:Uo,onDragUpdate:Cl,onDragEnd:Su},Ns={x:0,y:0},Ks=function(Z,Q){return{x:Z.x+Q.x,y:Z.y+Q.y}},Zs=function(Z,Q){return{x:Z.x-Q.x,y:Z.y-Q.y}},ns=function(Z,Q){return Z.x===Q.x&&Z.y===Q.y},gl=function(Z){return{x:Z.x!==0?-Z.x:0,y:Z.y!==0?-Z.y:0}},zo=function(Z,Q,ke){var Be;return ke===void 0&&(ke=0),Be={},Be[Z]=Q,Be[Z==="x"?"y":"x"]=ke,Be},ml=function(Z,Q){return Math.sqrt(Math.pow(Q.x-Z.x,2)+Math.pow(Q.y-Z.y,2))},Ms=function(Z,Q){return Math.min.apply(Math,Q.map(function(ke){return ml(Z,ke)}))},Hl=function(Z){return function(Q){return{x:Z(Q.x),y:Z(Q.y)}}},Cc=function(R,Z){var Q=bo({top:Math.max(Z.top,R.top),right:Math.min(Z.right,R.right),bottom:Math.min(Z.bottom,R.bottom),left:Math.max(Z.left,R.left)});return Q.width<=0||Q.height<=0?null:Q},Rs=function(Z,Q){return{top:Z.top+Q.y,left:Z.left+Q.x,bottom:Z.bottom+Q.y,right:Z.right+Q.x}},bl=function(Z){return[{x:Z.left,y:Z.top},{x:Z.right,y:Z.top},{x:Z.left,y:Z.bottom},{x:Z.right,y:Z.bottom}]},eu={top:0,right:0,bottom:0,left:0},tu=function(Z,Q){return Q?Rs(Z,Q.scroll.diff.displacement):Z},Rl=function(Z,Q,ke){if(ke&&ke.increasedBy){var Be;return(0,Wt.Z)({},Z,(Be={},Be[Q.end]=Z[Q.end]+ke.increasedBy[Q.line],Be))}return Z},po=function(Z,Q){return Q&&Q.shouldClipSubject?Cc(Q.pageMarginBox,Z):bo(Z)},Bo=function(R){var Z=R.page,Q=R.withPlaceholder,ke=R.axis,Be=R.frame,Ge=tu(Z.marginBox,Be),ct=Rl(Ge,ke,Q),mt=po(ct,Be);return{page:Z,withPlaceholder:Q,active:mt}},ls=function(R,Z){R.frame||Qr(!1);var Q=R.frame,ke=Zs(Z,Q.scroll.initial),Be=gl(ke),Ge=(0,Wt.Z)({},Q,{scroll:{initial:Q.scroll.initial,current:Z,diff:{value:ke,displacement:Be},max:Q.scroll.max}}),ct=Bo({page:R.subject.page,withPlaceholder:R.subject.withPlaceholder,axis:R.axis,frame:Ge}),mt=(0,Wt.Z)({},R,{frame:Ge,subject:ct});return mt};function el(R){return Number.isInteger?Number.isInteger(R):typeof R=="number"&&isFinite(R)&&Math.floor(R)===R}function cs(R){return Object.values?Object.values(R):Object.keys(R).map(function(Z){return R[Z]})}function fc(R,Z){if(R.findIndex)return R.findIndex(Z);for(var Q=0;Q<R.length;Q++)if(Z(R[Q]))return Q;return-1}function ms(R,Z){if(R.find)return R.find(Z);var Q=fc(R,Z);if(Q!==-1)return R[Q]}function Gu(R){return Array.prototype.slice.call(R)}var dd=(0,Lo.Z)(function(R){return R.reduce(function(Z,Q){return Z[Q.descriptor.id]=Q,Z},{})}),Au=(0,Lo.Z)(function(R){return R.reduce(function(Z,Q){return Z[Q.descriptor.id]=Q,Z},{})}),ot=(0,Lo.Z)(function(R){return cs(R)}),rn=(0,Lo.Z)(function(R){return cs(R)}),pn=(0,Lo.Z)(function(R,Z){var Q=rn(Z).filter(function(ke){return R===ke.descriptor.droppableId}).sort(function(ke,Be){return ke.descriptor.index-Be.descriptor.index});return Q});function _n(R){return R.at&&R.at.type==="REORDER"?R.at.destination:null}function Jr(R){return R.at&&R.at.type==="COMBINE"?R.at.combine:null}var ui=(0,Lo.Z)(function(R,Z){return Z.filter(function(Q){return Q.descriptor.id!==R.descriptor.id})}),fi=function(R){var Z=R.isMovingForward,Q=R.draggable,ke=R.destination,Be=R.insideDestination,Ge=R.previousImpact;if(!ke.isCombineEnabled)return null;var ct=_n(Ge);if(!ct)return null;function mt(ei){var qr={type:"COMBINE",combine:{draggableId:ei,droppableId:ke.descriptor.id}};return(0,Wt.Z)({},Ge,{at:qr})}var Rt=Ge.displaced.all,tn=Rt.length?Rt[0]:null;if(Z)return tn?mt(tn):null;var $t=ui(Q,Be);if(!tn){if(!$t.length)return null;var Vt=$t[$t.length-1];return mt(Vt.descriptor.id)}var Qt=fc($t,function(ei){return ei.descriptor.id===tn});Qt===-1&&Qr(!1);var Tn=Qt-1;if(Tn<0)return null;var fr=$t[Tn];return mt(fr.descriptor.id)},za=function(R,Z){return R.descriptor.droppableId===Z.descriptor.id},Ua={point:Ns,value:0},ma={invisible:{},visible:{},all:[]},_o={displaced:ma,displacedBy:Ua,at:null},$o=function(R,Z){return function(Q){return R<=Q&&Q<=Z}},jl=function(R){var Z=$o(R.top,R.bottom),Q=$o(R.left,R.right);return function(ke){var Be=Z(ke.top)&&Z(ke.bottom)&&Q(ke.left)&&Q(ke.right);if(Be)return!0;var Ge=Z(ke.top)||Z(ke.bottom),ct=Q(ke.left)||Q(ke.right),mt=Ge&&ct;if(mt)return!0;var Rt=ke.top<R.top&&ke.bottom>R.bottom,tn=ke.left<R.left&&ke.right>R.right,$t=Rt&&tn;if($t)return!0;var Vt=Rt&&ct||tn&&Ge;return Vt}},Yo=function(R){var Z=$o(R.top,R.bottom),Q=$o(R.left,R.right);return function(ke){var Be=Z(ke.top)&&Z(ke.bottom)&&Q(ke.left)&&Q(ke.right);return Be}},sl={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ps={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Tc=function(R){return function(Z){var Q=$o(Z.top,Z.bottom),ke=$o(Z.left,Z.right);return function(Be){return R===sl?Q(Be.top)&&Q(Be.bottom):ke(Be.left)&&ke(Be.right)}}},Sc=function(Z,Q){var ke=Q.frame?Q.frame.scroll.diff.displacement:Ns;return Rs(Z,ke)},yl=function(Z,Q,ke){return Q.subject.active?ke(Q.subject.active)(Z):!1},ks=function(Z,Q,ke){return ke(Q)(Z)},hc=function(Z){var Q=Z.target,ke=Z.destination,Be=Z.viewport,Ge=Z.withDroppableDisplacement,ct=Z.isVisibleThroughFrameFn,mt=Ge?Sc(Q,ke):Q;return yl(mt,ke,ct)&&ks(mt,Be,ct)},Td=function(Z){return hc((0,Wt.Z)({},Z,{isVisibleThroughFrameFn:jl}))},Sd=function(Z){return hc((0,Wt.Z)({},Z,{isVisibleThroughFrameFn:Yo}))},Ad=function(Z){return hc((0,Wt.Z)({},Z,{isVisibleThroughFrameFn:Tc(Z.destination.axis)}))},fd=function(Z,Q,ke){if(typeof ke=="boolean")return ke;if(!Q)return!0;var Be=Q.invisible,Ge=Q.visible;if(Be[Z])return!1;var ct=Ge[Z];return ct?ct.shouldAnimate:!0};function gf(R,Z){var Q=R.page.marginBox,ke={top:Z.point.y,right:0,bottom:0,left:Z.point.x};return bo(vl(Q,ke))}function Tl(R){var Z=R.afterDragging,Q=R.destination,ke=R.displacedBy,Be=R.viewport,Ge=R.forceShouldAnimate,ct=R.last;return Z.reduce(function(Rt,tn){var $t=gf(tn,ke),Vt=tn.descriptor.id;Rt.all.push(Vt);var Qt=Td({target:$t,destination:Q,viewport:Be,withDroppableDisplacement:!0});if(!Qt)return Rt.invisible[tn.descriptor.id]=!0,Rt;var Tn=fd(Vt,ct,Ge),fr={draggableId:Vt,shouldAnimate:Tn};return Rt.visible[Vt]=fr,Rt},{all:[],visible:{},invisible:{}})}function mf(R,Z){if(!R.length)return 0;var Q=R[R.length-1].descriptor.index;return Z.inHomeList?Q:Q+1}function Ud(R){var Z=R.insideDestination,Q=R.inHomeList,ke=R.displacedBy,Be=R.destination,Ge=mf(Z,{inHomeList:Q});return{displaced:ma,displacedBy:ke,at:{type:"REORDER",destination:{droppableId:Be.descriptor.id,index:Ge}}}}function Mu(R){var Z=R.draggable,Q=R.insideDestination,ke=R.destination,Be=R.viewport,Ge=R.displacedBy,ct=R.last,mt=R.index,Rt=R.forceShouldAnimate,tn=za(Z,ke);if(mt==null)return Ud({insideDestination:Q,inHomeList:tn,displacedBy:Ge,destination:ke});var $t=ms(Q,function(ei){return ei.descriptor.index===mt});if(!$t)return Ud({insideDestination:Q,inHomeList:tn,displacedBy:Ge,destination:ke});var Vt=ui(Z,Q),Qt=Q.indexOf($t),Tn=Vt.slice(Qt),fr=Tl({afterDragging:Tn,destination:ke,displacedBy:Ge,last:ct,viewport:Be.frame,forceShouldAnimate:Rt});return{displaced:fr,displacedBy:Ge,at:{type:"REORDER",destination:{droppableId:ke.descriptor.id,index:mt}}}}function nu(R,Z){return Boolean(Z.effected[R])}var Vl=function(R){var Z=R.isMovingForward,Q=R.destination,ke=R.draggables,Be=R.combine,Ge=R.afterCritical;if(!Q.isCombineEnabled)return null;var ct=Be.draggableId,mt=ke[ct],Rt=mt.descriptor.index,tn=nu(ct,Ge);return tn?Z?Rt:Rt-1:Z?Rt+1:Rt},hd=function(R){var Z=R.isMovingForward,Q=R.isInHomeList,ke=R.insideDestination,Be=R.location;if(!ke.length)return null;var Ge=Be.index,ct=Z?Ge+1:Ge-1,mt=ke[0].descriptor.index,Rt=ke[ke.length-1].descriptor.index,tn=Q?Rt:Rt+1;return ct<mt||ct>tn?null:ct},Ac=function(R){var Z=R.isMovingForward,Q=R.isInHomeList,ke=R.draggable,Be=R.draggables,Ge=R.destination,ct=R.insideDestination,mt=R.previousImpact,Rt=R.viewport,tn=R.afterCritical,$t=mt.at;if($t||Qr(!1),$t.type==="REORDER"){var Vt=hd({isMovingForward:Z,isInHomeList:Q,location:$t.destination,insideDestination:ct});return Vt==null?null:Mu({draggable:ke,insideDestination:ct,destination:Ge,viewport:Rt,last:mt.displaced,displacedBy:mt.displacedBy,index:Vt})}var Qt=Vl({isMovingForward:Z,destination:Ge,displaced:mt.displaced,draggables:Be,combine:$t.combine,afterCritical:tn});return Qt==null?null:Mu({draggable:ke,insideDestination:ct,destination:Ge,viewport:Rt,last:mt.displaced,displacedBy:mt.displacedBy,index:Qt})},tc=function(R){var Z=R.displaced,Q=R.afterCritical,ke=R.combineWith,Be=R.displacedBy,Ge=Boolean(Z.visible[ke]||Z.invisible[ke]);return nu(ke,Q)?Ge?Ns:gl(Be.point):Ge?Be.point:Ns},Nf=function(R){var Z=R.afterCritical,Q=R.impact,ke=R.draggables,Be=Jr(Q);Be||Qr(!1);var Ge=Be.draggableId,ct=ke[Ge].page.borderBox.center,mt=tc({displaced:Q.displaced,afterCritical:Z,combineWith:Ge,displacedBy:Q.displacedBy});return Ks(ct,mt)},qu=function(Z,Q){return Q.margin[Z.start]+Q.borderBox[Z.size]/2},Hd=function(Z,Q){return Q.margin[Z.end]+Q.borderBox[Z.size]/2},jd=function(Z,Q,ke){return Q[Z.crossAxisStart]+ke.margin[Z.crossAxisStart]+ke.borderBox[Z.crossAxisSize]/2},Vd=function(Z){var Q=Z.axis,ke=Z.moveRelativeTo,Be=Z.isMoving;return zo(Q.line,ke.marginBox[Q.end]+qu(Q,Be),jd(Q,ke.marginBox,Be))},pd=function(Z){var Q=Z.axis,ke=Z.moveRelativeTo,Be=Z.isMoving;return zo(Q.line,ke.marginBox[Q.start]-Hd(Q,Be),jd(Q,ke.marginBox,Be))},Yd=function(Z){var Q=Z.axis,ke=Z.moveInto,Be=Z.isMoving;return zo(Q.line,ke.contentBox[Q.start]+qu(Q,Be),jd(Q,ke.contentBox,Be))},Rf=function(R){var Z=R.impact,Q=R.draggable,ke=R.draggables,Be=R.droppable,Ge=R.afterCritical,ct=pn(Be.descriptor.id,ke),mt=Q.page,Rt=Be.axis;if(!ct.length)return Yd({axis:Rt,moveInto:Be.page,isMoving:mt});var tn=Z.displaced,$t=Z.displacedBy,Vt=tn.all[0];if(Vt){var Qt=ke[Vt];if(nu(Vt,Ge))return pd({axis:Rt,moveRelativeTo:Qt.page,isMoving:mt});var Tn=Js(Qt.page,$t.point);return pd({axis:Rt,moveRelativeTo:Tn,isMoving:mt})}var fr=ct[ct.length-1];if(fr.descriptor.id===Q.descriptor.id)return mt.borderBox.center;if(nu(fr.descriptor.id,Ge)){var ei=Js(fr.page,gl(Ge.displacedBy.point));return Vd({axis:Rt,moveRelativeTo:ei,isMoving:mt})}return Vd({axis:Rt,moveRelativeTo:fr.page,isMoving:mt})},ru=function(R,Z){var Q=R.frame;return Q?Ks(Z,Q.scroll.diff.displacement):Z},vd=function(Z){var Q=Z.impact,ke=Z.draggable,Be=Z.droppable,Ge=Z.draggables,ct=Z.afterCritical,mt=ke.page.borderBox.center,Rt=Q.at;return!Be||!Rt?mt:Rt.type==="REORDER"?Rf({impact:Q,draggable:ke,draggables:Ge,droppable:Be,afterCritical:ct}):Nf({impact:Q,draggables:Ge,afterCritical:ct})},Fc=function(R){var Z=vd(R),Q=R.droppable,ke=Q?ru(Q,Z):Z;return ke},Gs=function(R,Z){var Q=Zs(Z,R.scroll.initial),ke=gl(Q),Be=bo({top:Z.y,bottom:Z.y+R.frame.height,left:Z.x,right:Z.x+R.frame.width}),Ge={frame:Be,scroll:{initial:R.scroll.initial,max:R.scroll.max,current:Z,diff:{value:Q,displacement:ke}}};return Ge};function Kd(R,Z){return R.map(function(Q){return Z[Q]})}function Gd(R,Z){for(var Q=0;Q<Z.length;Q++){var ke=Z[Q].visible[R];if(ke)return ke}return null}var $u=function(R){var Z=R.impact,Q=R.viewport,ke=R.destination,Be=R.draggables,Ge=R.maxScrollChange,ct=Gs(Q,Ks(Q.scroll.current,Ge)),mt=ke.frame?ls(ke,Ks(ke.frame.scroll.current,Ge)):ke,Rt=Z.displaced,tn=Tl({afterDragging:Kd(Rt.all,Be),destination:ke,displacedBy:Z.displacedBy,viewport:ct.frame,last:Rt,forceShouldAnimate:!1}),$t=Tl({afterDragging:Kd(Rt.all,Be),destination:mt,displacedBy:Z.displacedBy,viewport:Q.frame,last:Rt,forceShouldAnimate:!1}),Vt={},Qt={},Tn=[Rt,tn,$t];Rt.all.forEach(function(ei){var qr=Gd(ei,Tn);if(qr){Qt[ei]=qr;return}Vt[ei]=!0});var fr=(0,Wt.Z)({},Z,{displaced:{all:Rt.all,invisible:Vt,visible:Qt}});return fr},Xu=function(R,Z){return Ks(R.scroll.diff.displacement,Z)},iu=function(R){var Z=R.pageBorderBoxCenter,Q=R.draggable,ke=R.viewport,Be=Xu(ke,Z),Ge=Zs(Be,Q.page.borderBox.center);return Ks(Q.client.borderBox.center,Ge)},Pl=function(R){var Z=R.draggable,Q=R.destination,ke=R.newPageBorderBoxCenter,Be=R.viewport,Ge=R.withDroppableDisplacement,ct=R.onlyOnMainAxis,mt=ct===void 0?!1:ct,Rt=Zs(ke,Z.page.borderBox.center),tn=Rs(Z.page.borderBox,Rt),$t={target:tn,destination:Q,withDroppableDisplacement:Ge,viewport:Be};return mt?Ad($t):Sd($t)},ll=function(R){var Z=R.isMovingForward,Q=R.draggable,ke=R.destination,Be=R.draggables,Ge=R.previousImpact,ct=R.viewport,mt=R.previousPageBorderBoxCenter,Rt=R.previousClientSelection,tn=R.afterCritical;if(!ke.isEnabled)return null;var $t=pn(ke.descriptor.id,Be),Vt=za(Q,ke),Qt=fi({isMovingForward:Z,draggable:Q,destination:ke,insideDestination:$t,previousImpact:Ge})||Ac({isMovingForward:Z,isInHomeList:Vt,draggable:Q,draggables:Be,destination:ke,insideDestination:$t,previousImpact:Ge,viewport:ct,afterCritical:tn});if(!Qt)return null;var Tn=Fc({impact:Qt,draggable:Q,droppable:ke,draggables:Be,afterCritical:tn}),fr=Pl({draggable:Q,destination:ke,newPageBorderBoxCenter:Tn,viewport:ct.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(fr){var ei=iu({pageBorderBoxCenter:Tn,draggable:Q,viewport:ct});return{clientSelection:ei,impact:Qt,scrollJumpRequest:null}}var qr=Zs(Tn,mt),Pr=$u({impact:Qt,viewport:ct,destination:ke,draggables:Be,maxScrollChange:qr});return{clientSelection:Rt,impact:Pr,scrollJumpRequest:qr}},zs=function(Z){var Q=Z.subject.active;return Q||Qr(!1),Q},qd=function(R){var Z=R.isMovingForward,Q=R.pageBorderBoxCenter,ke=R.source,Be=R.droppables,Ge=R.viewport,ct=ke.subject.active;if(!ct)return null;var mt=ke.axis,Rt=$o(ct[mt.start],ct[mt.end]),tn=ot(Be).filter(function(Vt){return Vt!==ke}).filter(function(Vt){return Vt.isEnabled}).filter(function(Vt){return Boolean(Vt.subject.active)}).filter(function(Vt){return jl(Ge.frame)(zs(Vt))}).filter(function(Vt){var Qt=zs(Vt);return Z?ct[mt.crossAxisEnd]<Qt[mt.crossAxisEnd]:Qt[mt.crossAxisStart]<ct[mt.crossAxisStart]}).filter(function(Vt){var Qt=zs(Vt),Tn=$o(Qt[mt.start],Qt[mt.end]);return Rt(Qt[mt.start])||Rt(Qt[mt.end])||Tn(ct[mt.start])||Tn(ct[mt.end])}).sort(function(Vt,Qt){var Tn=zs(Vt)[mt.crossAxisStart],fr=zs(Qt)[mt.crossAxisStart];return Z?Tn-fr:fr-Tn}).filter(function(Vt,Qt,Tn){return zs(Vt)[mt.crossAxisStart]===zs(Tn[0])[mt.crossAxisStart]});if(!tn.length)return null;if(tn.length===1)return tn[0];var $t=tn.filter(function(Vt){var Qt=$o(zs(Vt)[mt.start],zs(Vt)[mt.end]);return Qt(Q[mt.line])});return $t.length===1?$t[0]:$t.length>1?$t.sort(function(Vt,Qt){return zs(Vt)[mt.start]-zs(Qt)[mt.start]})[0]:tn.sort(function(Vt,Qt){var Tn=Ms(Q,bl(zs(Vt))),fr=Ms(Q,bl(zs(Qt)));return Tn!==fr?Tn-fr:zs(Vt)[mt.start]-zs(Qt)[mt.start]})[0]},vu=function(Z,Q){var ke=Z.page.borderBox.center;return nu(Z.descriptor.id,Q)?Zs(ke,Q.displacedBy.point):ke},$d=function(Z,Q){var ke=Z.page.borderBox;return nu(Z.descriptor.id,Q)?Rs(ke,gl(Q.displacedBy.point)):ke},Md=function(R){var Z=R.pageBorderBoxCenter,Q=R.viewport,ke=R.destination,Be=R.insideDestination,Ge=R.afterCritical,ct=Be.filter(function(mt){return Sd({target:$d(mt,Ge),destination:ke,viewport:Q.frame,withDroppableDisplacement:!0})}).sort(function(mt,Rt){var tn=ml(Z,ru(ke,vu(mt,Ge))),$t=ml(Z,ru(ke,vu(Rt,Ge)));return tn<$t?-1:$t<tn?1:mt.descriptor.index-Rt.descriptor.index});return ct[0]||null},gd=(0,Lo.Z)(function(Z,Q){var ke=Q[Z.line];return{value:ke,point:zo(Z.line,ke)}}),bf=function(Z,Q,ke){var Be=Z.axis;if(Z.descriptor.mode==="virtual")return zo(Be.line,Q[Be.line]);var Ge=Z.subject.page.contentBox[Be.size],ct=pn(Z.descriptor.id,ke),mt=ct.reduce(function($t,Vt){return $t+Vt.client.marginBox[Be.size]},0),Rt=mt+Q[Be.line],tn=Rt-Ge;return tn<=0?null:zo(Be.line,tn)},pc=function(Z,Q){return(0,Wt.Z)({},Z,{scroll:(0,Wt.Z)({},Z.scroll,{max:Q})})},yf=function(Z,Q,ke){var Be=Z.frame;za(Q,Z)&&Qr(!1),Z.subject.withPlaceholder&&Qr(!1);var Ge=gd(Z.axis,Q.displaceBy).point,ct=bf(Z,Ge,ke),mt={placeholderSize:Ge,increasedBy:ct,oldFrameMaxScroll:Z.frame?Z.frame.scroll.max:null};if(!Be){var Rt=Bo({page:Z.subject.page,withPlaceholder:mt,axis:Z.axis,frame:Z.frame});return(0,Wt.Z)({},Z,{subject:Rt})}var tn=ct?Ks(Be.scroll.max,ct):Be.scroll.max,$t=pc(Be,tn),Vt=Bo({page:Z.subject.page,withPlaceholder:mt,axis:Z.axis,frame:$t});return(0,Wt.Z)({},Z,{subject:Vt,frame:$t})},Du=function(Z){var Q=Z.subject.withPlaceholder;Q||Qr(!1);var ke=Z.frame;if(!ke){var Be=Bo({page:Z.subject.page,axis:Z.axis,frame:null,withPlaceholder:null});return(0,Wt.Z)({},Z,{subject:Be})}var Ge=Q.oldFrameMaxScroll;Ge||Qr(!1);var ct=pc(ke,Ge),mt=Bo({page:Z.subject.page,axis:Z.axis,frame:ct,withPlaceholder:null});return(0,Wt.Z)({},Z,{subject:mt,frame:ct})},Qu=function(R){var Z=R.previousPageBorderBoxCenter,Q=R.moveRelativeTo,ke=R.insideDestination,Be=R.draggable,Ge=R.draggables,ct=R.destination,mt=R.viewport,Rt=R.afterCritical;if(!Q){if(ke.length)return null;var tn={displaced:ma,displacedBy:Ua,at:{type:"REORDER",destination:{droppableId:ct.descriptor.id,index:0}}},$t=Fc({impact:tn,draggable:Be,droppable:ct,draggables:Ge,afterCritical:Rt}),Vt=za(Be,ct)?ct:yf(ct,Be,Ge),Qt=Pl({draggable:Be,destination:Vt,newPageBorderBoxCenter:$t,viewport:mt.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return Qt?tn:null}var Tn=Boolean(Z[ct.axis.line]<=Q.page.borderBox.center[ct.axis.line]),fr=function(){var qr=Q.descriptor.index;return Q.descriptor.id===Be.descriptor.id||Tn?qr:qr+1}(),ei=gd(ct.axis,Be.displaceBy);return Mu({draggable:Be,insideDestination:ke,destination:ct,viewport:mt,displacedBy:ei,last:ma,index:fr})},Xd=function(R){var Z=R.isMovingForward,Q=R.previousPageBorderBoxCenter,ke=R.draggable,Be=R.isOver,Ge=R.draggables,ct=R.droppables,mt=R.viewport,Rt=R.afterCritical,tn=qd({isMovingForward:Z,pageBorderBoxCenter:Q,source:Be,droppables:ct,viewport:mt});if(!tn)return null;var $t=pn(tn.descriptor.id,Ge),Vt=Md({pageBorderBoxCenter:Q,viewport:mt,destination:tn,insideDestination:$t,afterCritical:Rt}),Qt=Qu({previousPageBorderBoxCenter:Q,destination:tn,draggable:ke,draggables:Ge,moveRelativeTo:Vt,insideDestination:$t,viewport:mt,afterCritical:Rt});if(!Qt)return null;var Tn=Fc({impact:Qt,draggable:ke,droppable:tn,draggables:Ge,afterCritical:Rt}),fr=iu({pageBorderBoxCenter:Tn,draggable:ke,viewport:mt});return{clientSelection:fr,impact:Qt,scrollJumpRequest:null}},Sl=function(R){var Z=R.at;return Z?Z.type==="REORDER"?Z.destination.droppableId:Z.combine.droppableId:null},Iu=function(Z,Q){var ke=Sl(Z);return ke?Q[ke]:null},md=function(R){var Z=R.state,Q=R.type,ke=Iu(Z.impact,Z.dimensions.droppables),Be=Boolean(ke),Ge=Z.dimensions.droppables[Z.critical.droppable.id],ct=ke||Ge,mt=ct.axis.direction,Rt=mt==="vertical"&&(Q==="MOVE_UP"||Q==="MOVE_DOWN")||mt==="horizontal"&&(Q==="MOVE_LEFT"||Q==="MOVE_RIGHT");if(Rt&&!Be)return null;var tn=Q==="MOVE_DOWN"||Q==="MOVE_RIGHT",$t=Z.dimensions.draggables[Z.critical.draggable.id],Vt=Z.current.page.borderBoxCenter,Qt=Z.dimensions,Tn=Qt.draggables,fr=Qt.droppables;return Rt?ll({isMovingForward:tn,previousPageBorderBoxCenter:Vt,draggable:$t,destination:ct,draggables:Tn,viewport:Z.viewport,previousClientSelection:Z.current.client.selection,previousImpact:Z.impact,afterCritical:Z.afterCritical}):Xd({isMovingForward:tn,previousPageBorderBoxCenter:Vt,draggable:$t,isOver:ct,draggables:Tn,droppables:fr,viewport:Z.viewport,afterCritical:Z.afterCritical})};function Lu(R){return R.phase==="DRAGGING"||R.phase==="COLLECTING"}function Ou(R){var Z=$o(R.top,R.bottom),Q=$o(R.left,R.right);return function(Be){return Z(Be.y)&&Q(Be.x)}}function Zc(R,Z){return R.left<Z.right&&R.right>Z.left&&R.top<Z.bottom&&R.bottom>Z.top}function _f(R){var Z=R.pageBorderBox,Q=R.draggable,ke=R.candidates,Be=Q.page.borderBox.center,Ge=ke.map(function(ct){var mt=ct.axis,Rt=zo(ct.axis.line,Z.center[mt.line],ct.page.borderBox.center[mt.crossAxisLine]);return{id:ct.descriptor.id,distance:ml(Be,Rt)}}).sort(function(ct,mt){return mt.distance-ct.distance});return Ge[0]?Ge[0].id:null}function xf(R){var Z=R.pageBorderBox,Q=R.draggable,ke=R.droppables,Be=ot(ke).filter(function(Ge){if(!Ge.isEnabled)return!1;var ct=Ge.subject.active;if(!ct||!Zc(Z,ct))return!1;if(Ou(ct)(Z.center))return!0;var mt=Ge.axis,Rt=ct.center[mt.crossAxisLine],tn=Z[mt.crossAxisStart],$t=Z[mt.crossAxisEnd],Vt=$o(ct[mt.crossAxisStart],ct[mt.crossAxisEnd]),Qt=Vt(tn),Tn=Vt($t);return!Qt&&!Tn?!0:Qt?tn<Rt:$t>Rt});return Be.length?Be.length===1?Be[0].descriptor.id:_f({pageBorderBox:Z,draggable:Q,candidates:Be}):null}var Ju=function(Z,Q){return bo(Rs(Z,Q))},Qd=function(R,Z){var Q=R.frame;return Q?Ju(Z,Q.scroll.diff.value):Z};function nc(R){var Z=R.displaced,Q=R.id;return Boolean(Z.visible[Q]||Z.invisible[Q])}function Nu(R){var Z=R.draggable,Q=R.closest,ke=R.inHomeList;return Q?ke&&Q.descriptor.index>Z.descriptor.index?Q.descriptor.index-1:Q.descriptor.index:null}var Dd=function(R){var Z=R.pageBorderBoxWithDroppableScroll,Q=R.draggable,ke=R.destination,Be=R.insideDestination,Ge=R.last,ct=R.viewport,mt=R.afterCritical,Rt=ke.axis,tn=gd(ke.axis,Q.displaceBy),$t=tn.value,Vt=Z[Rt.start],Qt=Z[Rt.end],Tn=ui(Q,Be),fr=ms(Tn,function(qr){var Pr=qr.descriptor.id,Ai=qr.page.borderBox.center[Rt.line],Yi=nu(Pr,mt),ta=nc({displaced:Ge,id:Pr});return Yi?ta?Qt<=Ai:Vt<Ai-$t:ta?Qt<=Ai+$t:Vt<Ai}),ei=Nu({draggable:Q,closest:fr,inHomeList:za(Q,ke)});return Mu({draggable:Q,insideDestination:Be,destination:ke,viewport:ct,last:Ge,displacedBy:tn,index:ei})},Jd=4,Pf=function(R){var Z=R.draggable,Q=R.pageBorderBoxWithDroppableScroll,ke=R.previousImpact,Be=R.destination,Ge=R.insideDestination,ct=R.afterCritical;if(!Be.isCombineEnabled)return null;var mt=Be.axis,Rt=gd(Be.axis,Z.displaceBy),tn=Rt.value,$t=Q[mt.start],Vt=Q[mt.end],Qt=ui(Z,Ge),Tn=ms(Qt,function(ei){var qr=ei.descriptor.id,Pr=ei.page.borderBox,Ai=Pr[mt.size],Yi=Ai/Jd,ta=nu(qr,ct),Ha=nc({displaced:ke.displaced,id:qr});return ta?Ha?Vt>Pr[mt.start]+Yi&&Vt<Pr[mt.end]-Yi:$t>Pr[mt.start]-tn+Yi&&$t<Pr[mt.end]-tn-Yi:Ha?Vt>Pr[mt.start]+tn+Yi&&Vt<Pr[mt.end]+tn-Yi:$t>Pr[mt.start]+Yi&&$t<Pr[mt.end]-Yi});if(!Tn)return null;var fr={displacedBy:Rt,displaced:ke.displaced,at:{type:"COMBINE",combine:{draggableId:Tn.descriptor.id,droppableId:Be.descriptor.id}}};return fr},au=function(R){var Z=R.pageOffset,Q=R.draggable,ke=R.draggables,Be=R.droppables,Ge=R.previousImpact,ct=R.viewport,mt=R.afterCritical,Rt=Ju(Q.page.borderBox,Z),tn=xf({pageBorderBox:Rt,draggable:Q,droppables:Be});if(!tn)return _o;var $t=Be[tn],Vt=pn($t.descriptor.id,ke),Qt=Qd($t,Rt);return Pf({pageBorderBoxWithDroppableScroll:Qt,draggable:Q,previousImpact:Ge,destination:$t,insideDestination:Vt,afterCritical:mt})||Dd({pageBorderBoxWithDroppableScroll:Qt,draggable:Q,destination:$t,insideDestination:Vt,last:Ge.displaced,viewport:ct,afterCritical:mt})},Ka=function(R,Z){var Q;return(0,Wt.Z)({},R,(Q={},Q[Z.descriptor.id]=Z,Q))},bd=function(Z){var Q=Z.previousImpact,ke=Z.impact,Be=Z.droppables,Ge=Sl(Q),ct=Sl(ke);if(!Ge||Ge===ct)return Be;var mt=Be[Ge];if(!mt.subject.withPlaceholder)return Be;var Rt=Du(mt);return Ka(Be,Rt)},ef=function(R){var Z=R.draggable,Q=R.draggables,ke=R.droppables,Be=R.previousImpact,Ge=R.impact,ct=bd({previousImpact:Be,impact:Ge,droppables:ke}),mt=Sl(Ge);if(!mt)return ct;var Rt=ke[mt];if(za(Z,Rt)||Rt.subject.withPlaceholder)return ct;var tn=yf(Rt,Z,Q);return Ka(ct,tn)},vc=function(R){var Z=R.state,Q=R.clientSelection,ke=R.dimensions,Be=R.viewport,Ge=R.impact,ct=R.scrollJumpRequest,mt=Be||Z.viewport,Rt=ke||Z.dimensions,tn=Q||Z.current.client.selection,$t=Zs(tn,Z.initial.client.selection),Vt={offset:$t,selection:tn,borderBoxCenter:Ks(Z.initial.client.borderBoxCenter,$t)},Qt={selection:Ks(Vt.selection,mt.scroll.current),borderBoxCenter:Ks(Vt.borderBoxCenter,mt.scroll.current),offset:Ks(Vt.offset,mt.scroll.diff.value)},Tn={client:Vt,page:Qt};if(Z.phase==="COLLECTING")return(0,Wt.Z)({phase:"COLLECTING"},Z,{dimensions:Rt,viewport:mt,current:Tn});var fr=Rt.draggables[Z.critical.draggable.id],ei=Ge||au({pageOffset:Qt.offset,draggable:fr,draggables:Rt.draggables,droppables:Rt.droppables,previousImpact:Z.impact,viewport:mt,afterCritical:Z.afterCritical}),qr=ef({draggable:fr,impact:ei,previousImpact:Z.impact,draggables:Rt.draggables,droppables:Rt.droppables}),Pr=(0,Wt.Z)({},Z,{current:Tn,dimensions:{draggables:Rt.draggables,droppables:qr},impact:ei,viewport:mt,scrollJumpRequest:ct||null,forceShouldAnimate:ct?!1:null});return Pr};function wf(R,Z){return R.map(function(Q){return Z[Q]})}var ed=function(R){var Z=R.impact,Q=R.viewport,ke=R.draggables,Be=R.destination,Ge=R.forceShouldAnimate,ct=Z.displaced,mt=wf(ct.all,ke),Rt=Tl({afterDragging:mt,destination:Be,displacedBy:Z.displacedBy,viewport:Q.frame,forceShouldAnimate:Ge,last:ct});return(0,Wt.Z)({},Z,{displaced:Rt})},kf=function(R){var Z=R.impact,Q=R.draggable,ke=R.droppable,Be=R.draggables,Ge=R.viewport,ct=R.afterCritical,mt=Fc({impact:Z,draggable:Q,draggables:Be,droppable:ke,afterCritical:ct});return iu({pageBorderBoxCenter:mt,draggable:Q,viewport:Ge})},Bf=function(R){var Z=R.state,Q=R.dimensions,ke=R.viewport;Z.movementMode!=="SNAP"&&Qr(!1);var Be=Z.impact,Ge=ke||Z.viewport,ct=Q||Z.dimensions,mt=ct.draggables,Rt=ct.droppables,tn=mt[Z.critical.draggable.id],$t=Sl(Be);$t||Qr(!1);var Vt=Rt[$t],Qt=ed({impact:Be,viewport:Ge,destination:Vt,draggables:mt}),Tn=kf({impact:Qt,draggable:tn,droppable:Vt,draggables:mt,viewport:Ge,afterCritical:Z.afterCritical});return vc({impact:Qt,clientSelection:Tn,state:Z,dimensions:ct,viewport:Ge})},gu=function(R){return{index:R.index,droppableId:R.droppableId}},xh=function(R){var Z=R.draggable,Q=R.home,ke=R.draggables,Be=R.viewport,Ge=gd(Q.axis,Z.displaceBy),ct=pn(Q.descriptor.id,ke),mt=ct.indexOf(Z);mt===-1&&Qr(!1);var Rt=ct.slice(mt+1),tn=Rt.reduce(function(Tn,fr){return Tn[fr.descriptor.id]=!0,Tn},{}),$t={inVirtualList:Q.descriptor.mode==="virtual",displacedBy:Ge,effected:tn},Vt=Tl({afterDragging:Rt,destination:Q,displacedBy:Ge,last:null,viewport:Be.frame,forceShouldAnimate:!1}),Qt={displaced:Vt,displacedBy:Ge,at:{type:"REORDER",destination:gu(Z.descriptor)}};return{impact:Qt,afterCritical:$t}},Id=function(R,Z){return{draggables:R.draggables,droppables:Ka(R.droppables,Z)}},Ds=function(Z){},yd=function(Z){},Ff=function(R){var Z=R.draggable,Q=R.offset,ke=R.initialWindowScroll,Be=Js(Z.client,Q),Ge=nn(Be,ke),ct=(0,Wt.Z)({},Z,{placeholder:(0,Wt.Z)({},Z.placeholder,{client:Be}),client:Be,page:Ge});return ct},mu=function(R){var Z=R.frame;return Z||Qr(!1),Z},tf=function(R){var Z=R.additions,Q=R.updatedDroppables,ke=R.viewport,Be=ke.scroll.diff.value;return Z.map(function(Ge){var ct=Ge.descriptor.droppableId,mt=Q[ct],Rt=mu(mt),tn=Rt.scroll.diff.value,$t=Ks(Be,tn),Vt=Ff({draggable:Ge,offset:$t,initialWindowScroll:ke.scroll.initial});return Vt})},wh=function(R){var Z=R.state,Q=R.published;Ds();var ke=Q.modified.map(function(Yi){var ta=Z.dimensions.droppables[Yi.droppableId],Ha=ls(ta,Yi.scroll);return Ha}),Be=(0,Wt.Z)({},Z.dimensions.droppables,{},dd(ke)),Ge=Au(tf({additions:Q.additions,updatedDroppables:Be,viewport:Z.viewport})),ct=(0,Wt.Z)({},Z.dimensions.draggables,{},Ge);Q.removals.forEach(function(Yi){delete ct[Yi]});var mt={droppables:Be,draggables:ct},Rt=Sl(Z.impact),tn=Rt?mt.droppables[Rt]:null,$t=mt.draggables[Z.critical.draggable.id],Vt=mt.droppables[Z.critical.droppable.id],Qt=xh({draggable:$t,home:Vt,draggables:ct,viewport:Z.viewport}),Tn=Qt.impact,fr=Qt.afterCritical,ei=tn&&tn.isCombineEnabled?Z.impact:Tn,qr=au({pageOffset:Z.current.page.offset,draggable:mt.draggables[Z.critical.draggable.id],draggables:mt.draggables,droppables:mt.droppables,previousImpact:ei,viewport:Z.viewport,afterCritical:fr});yd();var Pr=(0,Wt.Z)({phase:"DRAGGING"},Z,{phase:"DRAGGING",impact:qr,onLiftImpact:Tn,dimensions:mt,afterCritical:fr,forceShouldAnimate:!1});if(Z.phase==="COLLECTING")return Pr;var Ai=(0,Wt.Z)({phase:"DROP_PENDING"},Pr,{phase:"DROP_PENDING",reason:Z.reason,isWaiting:!1});return Ai},Ef=function(Z){return Z.movementMode==="SNAP"},tl=function(Z,Q,ke){var Be=Id(Z.dimensions,Q);return!Ef(Z)||ke?vc({state:Z,dimensions:Be}):Bf({state:Z,dimensions:Be})};function Xo(R){return R.isDragging&&R.movementMode==="SNAP"?(0,Wt.Z)({phase:"DRAGGING"},R,{scrollJumpRequest:null}):R}var Ko={phase:"IDLE",completed:null,shouldFlush:!1},Ws=function(R,Z){if(R===void 0&&(R=Ko),Z.type==="FLUSH")return(0,Wt.Z)({},Ko,{shouldFlush:!0});if(Z.type==="INITIAL_PUBLISH"){R.phase!=="IDLE"&&Qr(!1);var Q=Z.payload,ke=Q.critical,Be=Q.clientSelection,Ge=Q.viewport,ct=Q.dimensions,mt=Q.movementMode,Rt=ct.draggables[ke.draggable.id],tn=ct.droppables[ke.droppable.id],$t={selection:Be,borderBoxCenter:Rt.client.borderBox.center,offset:Ns},Vt={client:$t,page:{selection:Ks($t.selection,Ge.scroll.initial),borderBoxCenter:Ks($t.selection,Ge.scroll.initial),offset:Ks($t.selection,Ge.scroll.diff.value)}},Qt=ot(ct.droppables).every(function(Bh){return!Bh.isFixedOnPage}),Tn=xh({draggable:Rt,home:tn,draggables:ct.draggables,viewport:Ge}),fr=Tn.impact,ei=Tn.afterCritical,qr={phase:"DRAGGING",isDragging:!0,critical:ke,movementMode:mt,dimensions:ct,initial:Vt,current:Vt,isWindowScrollAllowed:Qt,impact:fr,afterCritical:ei,onLiftImpact:fr,viewport:Ge,scrollJumpRequest:null,forceShouldAnimate:null};return qr}if(Z.type==="COLLECTION_STARTING"){if(R.phase==="COLLECTING"||R.phase==="DROP_PENDING")return R;R.phase!=="DRAGGING"&&Qr(!1);var Pr=(0,Wt.Z)({phase:"COLLECTING"},R,{phase:"COLLECTING"});return Pr}if(Z.type==="PUBLISH_WHILE_DRAGGING")return R.phase==="COLLECTING"||R.phase==="DROP_PENDING"||Qr(!1),wh({state:R,published:Z.payload});if(Z.type==="MOVE"){if(R.phase==="DROP_PENDING")return R;Lu(R)||Qr(!1);var Ai=Z.payload.client;return ns(Ai,R.current.client.selection)?R:vc({state:R,clientSelection:Ai,impact:Ef(R)?R.impact:null})}if(Z.type==="UPDATE_DROPPABLE_SCROLL"){if(R.phase==="DROP_PENDING"||R.phase==="COLLECTING")return Xo(R);Lu(R)||Qr(!1);var Yi=Z.payload,ta=Yi.id,Ha=Yi.newScroll,ja=R.dimensions.droppables[ta];if(!ja)return R;var No=ls(ja,Ha);return tl(R,No,!1)}if(Z.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(R.phase==="DROP_PENDING")return R;Lu(R)||Qr(!1);var Cs=Z.payload,Eo=Cs.id,xs=Cs.isEnabled,_c=R.dimensions.droppables[Eo];_c||Qr(!1),_c.isEnabled===xs&&Qr(!1);var Lc=(0,Wt.Z)({},_c,{isEnabled:xs});return tl(R,Lc,!0)}if(Z.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(R.phase==="DROP_PENDING")return R;Lu(R)||Qr(!1);var uf=Z.payload,cd=uf.id,wd=uf.isCombineEnabled,df=R.dimensions.droppables[cd];df||Qr(!1),df.isCombineEnabled===wd&&Qr(!1);var fu=(0,Wt.Z)({},df,{isCombineEnabled:wd});return tl(R,fu,!0)}if(Z.type==="MOVE_BY_WINDOW_SCROLL"){if(R.phase==="DROP_PENDING"||R.phase==="DROP_ANIMATING")return R;Lu(R)||Qr(!1),R.isWindowScrollAllowed||Qr(!1);var fh=Z.payload.newScroll;if(ns(R.viewport.scroll.current,fh))return Xo(R);var ff=Gs(R.viewport,fh);return Ef(R)?Bf({state:R,viewport:ff}):vc({state:R,viewport:ff})}if(Z.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lu(R))return R;var Jh=Z.payload.maxScroll;if(ns(Jh,R.viewport.scroll.max))return R;var qf=(0,Wt.Z)({},R.viewport,{scroll:(0,Wt.Z)({},R.viewport.scroll,{max:Jh})});return(0,Wt.Z)({phase:"DRAGGING"},R,{viewport:qf})}if(Z.type==="MOVE_UP"||Z.type==="MOVE_DOWN"||Z.type==="MOVE_LEFT"||Z.type==="MOVE_RIGHT"){if(R.phase==="COLLECTING"||R.phase==="DROP_PENDING")return R;R.phase!=="DRAGGING"&&Qr(!1);var $f=md({state:R,type:Z.type});return $f?vc({state:R,impact:$f.impact,clientSelection:$f.clientSelection,scrollJumpRequest:$f.scrollJumpRequest}):R}if(Z.type==="DROP_PENDING"){var hu=Z.payload.reason;R.phase!=="COLLECTING"&&Qr(!1);var pl=(0,Wt.Z)({phase:"DROP_PENDING"},R,{phase:"DROP_PENDING",isWaiting:!0,reason:hu});return pl}if(Z.type==="DROP_ANIMATE"){var pp=Z.payload,ud=pp.completed,Xf=pp.dropDuration,Nh=pp.newHomeClientOffset;R.phase==="DRAGGING"||R.phase==="DROP_PENDING"||Qr(!1);var Rh={phase:"DROP_ANIMATING",completed:ud,dropDuration:Xf,newHomeClientOffset:Nh,dimensions:R.dimensions};return Rh}if(Z.type==="DROP_COMPLETE"){var Ph=Z.payload.completed;return{phase:"IDLE",completed:Ph,shouldFlush:!1}}return R},Al=function(Z){return{type:"BEFORE_INITIAL_CAPTURE",payload:Z}},rc=function(Z){return{type:"LIFT",payload:Z}},cl=function(Z){return{type:"INITIAL_PUBLISH",payload:Z}},nf=function(Z){return{type:"PUBLISH_WHILE_DRAGGING",payload:Z}},_l=function(){return{type:"COLLECTION_STARTING",payload:null}},be=function(Z){return{type:"UPDATE_DROPPABLE_SCROLL",payload:Z}},Xe=function(Z){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:Z}},gt=function(Z){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:Z}},qe=function(Z){return{type:"MOVE",payload:Z}},Ht=function(Z){return{type:"MOVE_BY_WINDOW_SCROLL",payload:Z}},dn=function(Z){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:Z}},fn=function(){return{type:"MOVE_UP",payload:null}},Jn=function(){return{type:"MOVE_DOWN",payload:null}},br=function(){return{type:"MOVE_RIGHT",payload:null}},Or=function(){return{type:"MOVE_LEFT",payload:null}},Gr=function(){return{type:"FLUSH",payload:null}},Fi=function(Z){return{type:"DROP_ANIMATE",payload:Z}},Ga=function(Z){return{type:"DROP_COMPLETE",payload:Z}},Ra=function(Z){return{type:"DROP",payload:Z}},oo=function(Z){return{type:"DROP_PENDING",payload:Z}},nl=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};function xl(R){if(!(R.length<=1)){for(var Z=R.map(function(mt){return mt.descriptor.index}),Q={},ke=1;ke<Z.length;ke++){var Be=Z[ke],Ge=Z[ke-1];Be!==Ge+1&&(Q[Be]=!0)}if(!!Object.keys(Q).length)var ct=Z.map(function(mt){var Rt=Boolean(Q[mt]);return Rt?"[\u{1F525}"+mt+"]":""+mt}).join(", ")}}function ih(R,Z){if(!1)var Q}var zc=function(R){return function(Z){var Q=Z.getState,ke=Z.dispatch;return function(Be){return function(Ge){if(Ge.type!=="LIFT"){Be(Ge);return}var ct=Ge.payload,mt=ct.id,Rt=ct.clientSelection,tn=ct.movementMode,$t=Q();$t.phase==="DROP_ANIMATING"&&ke(Ga({completed:$t.completed})),Q().phase!=="IDLE"&&Qr(!1),ke(Gr()),ke(Al({draggableId:mt,movementMode:tn}));var Vt={shouldPublishImmediately:tn==="SNAP"},Qt={draggableId:mt,scrollOptions:Vt},Tn=R.startPublishing(Qt),fr=Tn.critical,ei=Tn.dimensions,qr=Tn.viewport;ih(fr,ei),ke(cl({critical:fr,dimensions:ei,clientSelection:Rt,movementMode:tn,viewport:qr}))}}}},us=function(R){return function(){return function(Z){return function(Q){Q.type==="INITIAL_PUBLISH"&&R.dragging(),Q.type==="DROP_ANIMATE"&&R.dropping(Q.payload.completed.result.reason),(Q.type==="FLUSH"||Q.type==="DROP_COMPLETE")&&R.resting(),Z(Q)}}}},Mc={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wc={opacity:{drop:0,combining:.7},scale:{drop:.75}},Uc={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_d=Uc.outOfTheWay+"s "+Mc.outOfTheWay,rl={fluid:"opacity "+_d,snap:"transform "+_d+", opacity "+_d,drop:function(Z){var Q=Z+"s "+Mc.drop;return"transform "+Q+", opacity "+Q},outOfTheWay:"transform "+_d,placeholder:"height "+_d+", width "+_d+", margin "+_d},Hc=function(Z){return ns(Z,Ns)?null:"translate("+Z.x+"px, "+Z.y+"px)"},bu={moveTo:Hc,drop:function(Z,Q){var ke=Hc(Z);return ke?Q?ke+" scale("+Wc.scale.drop+")":ke:null}},Ru=Uc.minDropTime,gc=Uc.maxDropTime,td=gc-Ru,ic=1500,Dc=.6,Pu=function(R){var Z=R.current,Q=R.destination,ke=R.reason,Be=ml(Z,Q);if(Be<=0)return Ru;if(Be>=ic)return gc;var Ge=Be/ic,ct=Ru+td*Ge,mt=ke==="CANCEL"?ct*Dc:ct;return Number(mt.toFixed(2))},Zf=function(R){var Z=R.impact,Q=R.draggable,ke=R.dimensions,Be=R.viewport,Ge=R.afterCritical,ct=ke.draggables,mt=ke.droppables,Rt=Sl(Z),tn=Rt?mt[Rt]:null,$t=mt[Q.descriptor.droppableId],Vt=kf({impact:Z,draggable:Q,draggables:ct,afterCritical:Ge,droppable:tn||$t,viewport:Be}),Qt=Zs(Vt,Q.client.borderBox.center);return Qt},Cf=function(R){var Z=R.draggables,Q=R.reason,ke=R.lastImpact,Be=R.home,Ge=R.viewport,ct=R.onLiftImpact;if(!ke.at||Q!=="DROP"){var mt=ed({draggables:Z,impact:ct,destination:Be,viewport:Ge,forceShouldAnimate:!0});return{impact:mt,didDropInsideDroppable:!1}}if(ke.at.type==="REORDER")return{impact:ke,didDropInsideDroppable:!0};var Rt=(0,Wt.Z)({},ke,{displaced:ma});return{impact:Rt,didDropInsideDroppable:!0}},nd=function(R){var Z=R.getState,Q=R.dispatch;return function(ke){return function(Be){if(Be.type!=="DROP"){ke(Be);return}var Ge=Z(),ct=Be.payload.reason;if(Ge.phase==="COLLECTING"){Q(oo({reason:ct}));return}if(Ge.phase!=="IDLE"){var mt=Ge.phase==="DROP_PENDING"&&Ge.isWaiting;mt&&Qr(!1),Ge.phase==="DRAGGING"||Ge.phase==="DROP_PENDING"||Qr(!1);var Rt=Ge.critical,tn=Ge.dimensions,$t=tn.draggables[Ge.critical.draggable.id],Vt=Cf({reason:ct,lastImpact:Ge.impact,afterCritical:Ge.afterCritical,onLiftImpact:Ge.onLiftImpact,home:Ge.dimensions.droppables[Ge.critical.droppable.id],viewport:Ge.viewport,draggables:Ge.dimensions.draggables}),Qt=Vt.impact,Tn=Vt.didDropInsideDroppable,fr=Tn?_n(Qt):null,ei=Tn?Jr(Qt):null,qr={index:Rt.draggable.index,droppableId:Rt.droppable.id},Pr={draggableId:$t.descriptor.id,type:$t.descriptor.type,source:qr,reason:ct,mode:Ge.movementMode,destination:fr,combine:ei},Ai=Zf({impact:Qt,draggable:$t,dimensions:tn,viewport:Ge.viewport,afterCritical:Ge.afterCritical}),Yi={critical:Ge.critical,afterCritical:Ge.afterCritical,result:Pr,impact:Qt},ta=!ns(Ge.current.client.offset,Ai)||Boolean(Pr.combine);if(!ta){Q(Ga({completed:Yi}));return}var Ha=Pu({current:Ge.current.client.offset,destination:Ai,reason:ct}),ja={newHomeClientOffset:Ai,dropDuration:Ha,completed:Yi};Q(Fi(ja))}}}},ac=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function yu(R){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(Q){Q.target!==window&&Q.target!==window.document||R()}}}function _u(R){var Z=R.onWindowScroll;function Q(){Z(ac())}var ke=Po(Q),Be=yu(ke),Ge=Nl;function ct(){return Ge!==Nl}function mt(){ct()&&Qr(!1),Ge=Wn(window,[Be])}function Rt(){ct()||Qr(!1),ke.cancel(),Ge(),Ge=Nl}return{start:mt,stop:Rt,isActive:ct}}var wl=function(Z){return Z.type==="DROP_COMPLETE"||Z.type==="DROP_ANIMATE"||Z.type==="FLUSH"},kh=function(R){var Z=_u({onWindowScroll:function(ke){R.dispatch(Ht({newScroll:ke}))}});return function(Q){return function(ke){!Z.isActive()&&ke.type==="INITIAL_PUBLISH"&&Z.start(),Z.isActive()&&wl(ke)&&Z.stop(),Q(ke)}}},kl=function(R){var Z=!1,Q=!1,ke=setTimeout(function(){Q=!0}),Be=function(ct){Z||Q||(Z=!0,R(ct),clearTimeout(ke))};return Be.wasCalled=function(){return Z},Be},Tf=function(){var R=[],Z=function(Ge){var ct=fc(R,function(tn){return tn.timerId===Ge});ct===-1&&Qr(!1);var mt=R.splice(ct,1),Rt=mt[0];Rt.callback()},Q=function(Ge){var ct=setTimeout(function(){return Z(ct)}),mt={timerId:ct,callback:Ge};R.push(mt)},ke=function(){if(!!R.length){var Ge=[].concat(R);R.length=0,Ge.forEach(function(ct){clearTimeout(ct.timerId),ct.callback()})}};return{add:Q,flush:ke}},rf=function(Z,Q){return Z==null&&Q==null?!0:Z==null||Q==null?!1:Z.droppableId===Q.droppableId&&Z.index===Q.index},xd=function(Z,Q){return Z==null&&Q==null?!0:Z==null||Q==null?!1:Z.draggableId===Q.draggableId&&Z.droppableId===Q.droppableId},mc=function(Z,Q){if(Z===Q)return!0;var ke=Z.draggable.id===Q.draggable.id&&Z.draggable.droppableId===Q.draggable.droppableId&&Z.draggable.type===Q.draggable.type&&Z.draggable.index===Q.draggable.index,Be=Z.droppable.id===Q.droppable.id&&Z.droppable.type===Q.droppable.type;return ke&&Be},bs=function(Z,Q){Ds(),Q(),yd()},rs=function(Z,Q){return{draggableId:Z.draggable.id,type:Z.droppable.type,source:{droppableId:Z.droppable.id,index:Z.draggable.index},mode:Q}},Oa=function(Z,Q,ke,Be){if(!Z){ke(Be(Q));return}var Ge=kl(ke),ct={announce:Ge};Z(Q,ct),Ge.wasCalled()||ke(Be(Q))},Wo=function(R,Z){var Q=Tf(),ke=null,Be=function(Qt,Tn){ke&&Qr(!1),bs("onBeforeCapture",function(){var fr=R().onBeforeCapture;if(fr){var ei={draggableId:Qt,mode:Tn};fr(ei)}})},Ge=function(Qt,Tn){ke&&Qr(!1),bs("onBeforeDragStart",function(){var fr=R().onBeforeDragStart;fr&&fr(rs(Qt,Tn))})},ct=function(Qt,Tn){ke&&Qr(!1);var fr=rs(Qt,Tn);ke={mode:Tn,lastCritical:Qt,lastLocation:fr.source,lastCombine:null},Q.add(function(){bs("onDragStart",function(){return Oa(R().onDragStart,fr,Z,ec.onDragStart)})})},mt=function(Qt,Tn){var fr=_n(Tn),ei=Jr(Tn);ke||Qr(!1);var qr=!mc(Qt,ke.lastCritical);qr&&(ke.lastCritical=Qt);var Pr=!rf(ke.lastLocation,fr);Pr&&(ke.lastLocation=fr);var Ai=!xd(ke.lastCombine,ei);if(Ai&&(ke.lastCombine=ei),!(!qr&&!Pr&&!Ai)){var Yi=(0,Wt.Z)({},rs(Qt,ke.mode),{combine:ei,destination:fr});Q.add(function(){bs("onDragUpdate",function(){return Oa(R().onDragUpdate,Yi,Z,ec.onDragUpdate)})})}},Rt=function(){ke||Qr(!1),Q.flush()},tn=function(Qt){ke||Qr(!1),ke=null,bs("onDragEnd",function(){return Oa(R().onDragEnd,Qt,Z,ec.onDragEnd)})},$t=function(){if(!!ke){var Qt=(0,Wt.Z)({},rs(ke.lastCritical,ke.mode),{combine:null,destination:null,reason:"CANCEL"});tn(Qt)}};return{beforeCapture:Be,beforeStart:Ge,start:ct,update:mt,flush:Rt,drop:tn,abort:$t}},bc=function(R,Z){var Q=Wo(R,Z);return function(ke){return function(Be){return function(Ge){if(Ge.type==="BEFORE_INITIAL_CAPTURE"){Q.beforeCapture(Ge.payload.draggableId,Ge.payload.movementMode);return}if(Ge.type==="INITIAL_PUBLISH"){var ct=Ge.payload.critical;Q.beforeStart(ct,Ge.payload.movementMode),Be(Ge),Q.start(ct,Ge.payload.movementMode);return}if(Ge.type==="DROP_COMPLETE"){var mt=Ge.payload.completed.result;Q.flush(),Be(Ge),Q.drop(mt);return}if(Be(Ge),Ge.type==="FLUSH"){Q.abort();return}var Rt=ke.getState();Rt.phase==="DRAGGING"&&Q.update(Rt.critical,Rt.impact)}}}},oc=function(R){return function(Z){return function(Q){if(Q.type!=="DROP_ANIMATION_FINISHED"){Z(Q);return}var ke=R.getState();ke.phase!=="DROP_ANIMATING"&&Qr(!1),R.dispatch(Ga({completed:ke.completed}))}}},ou=function(R){var Z=null,Q=null;function ke(){Q&&(cancelAnimationFrame(Q),Q=null),Z&&(Z(),Z=null)}return function(Be){return function(Ge){if((Ge.type==="FLUSH"||Ge.type==="DROP_COMPLETE"||Ge.type==="DROP_ANIMATION_FINISHED")&&ke(),Be(Ge),Ge.type==="DROP_ANIMATE"){var ct={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var Rt=R.getState();Rt.phase==="DROP_ANIMATING"&&R.dispatch(nl())}};Q=requestAnimationFrame(function(){Q=null,Z=Wn(window,[ct])})}}}},at=function(R){return function(){return function(Z){return function(Q){(Q.type==="DROP_COMPLETE"||Q.type==="FLUSH"||Q.type==="DROP_ANIMATE")&&R.stopPublishing(),Z(Q)}}}},F=function(R){var Z=!1;return function(){return function(Q){return function(ke){if(ke.type==="INITIAL_PUBLISH"){Z=!0,R.tryRecordFocus(ke.payload.critical.draggable.id),Q(ke),R.tryRestoreFocusRecorded();return}if(Q(ke),!!Z){if(ke.type==="FLUSH"){Z=!1,R.tryRestoreFocusRecorded();return}if(ke.type==="DROP_COMPLETE"){Z=!1;var Be=ke.payload.completed.result;Be.combine&&R.tryShiftRecord(Be.draggableId,Be.combine.draggableId),R.tryRestoreFocusRecorded()}}}}}},t=function(Z){return Z.type==="DROP_COMPLETE"||Z.type==="DROP_ANIMATE"||Z.type==="FLUSH"},a=function(R){return function(Z){return function(Q){return function(ke){if(t(ke)){R.stop(),Q(ke);return}if(ke.type==="INITIAL_PUBLISH"){Q(ke);var Be=Z.getState();Be.phase!=="DRAGGING"&&Qr(!1),R.start(Be);return}Q(ke),R.scroll(Z.getState())}}}},i=function(R){return function(Z){return function(Q){if(Z(Q),Q.type==="PUBLISH_WHILE_DRAGGING"){var ke=R.getState();ke.phase==="DROP_PENDING"&&(ke.isWaiting||R.dispatch(Ra({reason:ke.reason})))}}}},s=xn.qC,h=function(R){var Z=R.dimensionMarshal,Q=R.focusMarshal,ke=R.styleMarshal,Be=R.getResponders,Ge=R.announce,ct=R.autoScroller;return(0,xn.MT)(Ws,s((0,xn.md)(us(ke),at(Z),zc(Z),nd,oc,ou,i,a(ct),kh,F(Q),bc(Be,Ge))))},w=function(){return{additions:{},removals:{},modified:{}}};function I(R){var Z=R.registry,Q=R.callbacks,ke=w(),Be=null,Ge=function(){Be||(Q.collectionStarting(),Be=requestAnimationFrame(function(){Be=null,Ds();var $t=ke,Vt=$t.additions,Qt=$t.removals,Tn=$t.modified,fr=Object.keys(Vt).map(function(Pr){return Z.draggable.getById(Pr).getDimension(Ns)}).sort(function(Pr,Ai){return Pr.descriptor.index-Ai.descriptor.index}),ei=Object.keys(Tn).map(function(Pr){var Ai=Z.droppable.getById(Pr),Yi=Ai.callbacks.getScrollWhileDragging();return{droppableId:Pr,scroll:Yi}}),qr={additions:fr,removals:Object.keys(Qt),modified:ei};ke=w(),yd(),Q.publish(qr)}))},ct=function($t){var Vt=$t.descriptor.id;ke.additions[Vt]=$t,ke.modified[$t.descriptor.droppableId]=!0,ke.removals[Vt]&&delete ke.removals[Vt],Ge()},mt=function($t){var Vt=$t.descriptor;ke.removals[Vt.id]=!0,ke.modified[Vt.droppableId]=!0,ke.additions[Vt.id]&&delete ke.additions[Vt.id],Ge()},Rt=function(){!Be||(cancelAnimationFrame(Be),Be=null,ke=w())};return{add:ct,remove:mt,stop:Rt}}var B=function(R){var Z=R.scrollHeight,Q=R.scrollWidth,ke=R.height,Be=R.width,Ge=Zs({x:Q,y:Z},{x:Be,y:ke}),ct={x:Math.max(0,Ge.x),y:Math.max(0,Ge.y)};return ct},W=function(){var R=document.documentElement;return R||Qr(!1),R},G=function(){var R=W(),Z=B({scrollHeight:R.scrollHeight,scrollWidth:R.scrollWidth,width:R.clientWidth,height:R.clientHeight});return Z},H=function(){var R=ac(),Z=G(),Q=R.y,ke=R.x,Be=W(),Ge=Be.clientWidth,ct=Be.clientHeight,mt=ke+Ge,Rt=Q+ct,tn=bo({top:Q,left:ke,right:mt,bottom:Rt}),$t={frame:tn,scroll:{initial:R,current:R,max:Z,diff:{value:Ns,displacement:Ns}}};return $t},he=function(R){var Z=R.critical,Q=R.scrollOptions,ke=R.registry;Ds();var Be=H(),Ge=Be.scroll.current,ct=Z.droppable,mt=ke.droppable.getAllByType(ct.type).map(function(Vt){return Vt.callbacks.getDimensionAndWatchScroll(Ge,Q)}),Rt=ke.draggable.getAllByType(Z.draggable.type).map(function(Vt){return Vt.getDimension(Ge)}),tn={draggables:Au(Rt),droppables:dd(mt)};yd();var $t={dimensions:tn,critical:Z,viewport:Be};return $t};function ge(R,Z,Q){if(Q.descriptor.id===Z.id||Q.descriptor.type!==Z.type)return!1;var ke=R.droppable.getById(Q.descriptor.droppableId);return ke.descriptor.mode==="virtual"}var Oe=function(R,Z){var Q=null,ke=I({callbacks:{publish:Z.publishWhileDragging,collectionStarting:Z.collectionStarting},registry:R}),Be=function(Tn,fr){R.droppable.exists(Tn)||Qr(!1),Q&&Z.updateDroppableIsEnabled({id:Tn,isEnabled:fr})},Ge=function(Tn,fr){!Q||(R.droppable.exists(Tn)||Qr(!1),Z.updateDroppableIsCombineEnabled({id:Tn,isCombineEnabled:fr}))},ct=function(Tn,fr){!Q||(R.droppable.exists(Tn)||Qr(!1),Z.updateDroppableScroll({id:Tn,newScroll:fr}))},mt=function(Tn,fr){!Q||R.droppable.getById(Tn).callbacks.scroll(fr)},Rt=function(){if(!!Q){ke.stop();var Tn=Q.critical.droppable;R.droppable.getAllByType(Tn.type).forEach(function(fr){return fr.callbacks.dragStopped()}),Q.unsubscribe(),Q=null}},tn=function(Tn){Q||Qr(!1);var fr=Q.critical.draggable;Tn.type==="ADDITION"&&ge(R,fr,Tn.value)&&ke.add(Tn.value),Tn.type==="REMOVAL"&&ge(R,fr,Tn.value)&&ke.remove(Tn.value)},$t=function(Tn){Q&&Qr(!1);var fr=R.draggable.getById(Tn.draggableId),ei=R.droppable.getById(fr.descriptor.droppableId),qr={draggable:fr.descriptor,droppable:ei.descriptor},Pr=R.subscribe(tn);return Q={critical:qr,unsubscribe:Pr},he({critical:qr,registry:R,scrollOptions:Tn.scrollOptions})},Vt={updateDroppableIsEnabled:Be,updateDroppableIsCombineEnabled:Ge,scrollDroppable:mt,updateDroppableScroll:ct,startPublishing:$t,stopPublishing:Rt};return Vt},rt=function(R,Z){return R.phase==="IDLE"?!0:R.phase!=="DROP_ANIMATING"||R.completed.result.draggableId===Z?!1:R.completed.result.reason==="DROP"},bt=function(R){window.scrollBy(R.x,R.y)},Ct=(0,Lo.Z)(function(R){return ot(R).filter(function(Z){return!(!Z.isEnabled||!Z.frame)})}),Dt=function(Z,Q){var ke=ms(Ct(Q),function(Be){return Be.frame||Qr(!1),Ou(Be.frame.pageMarginBox)(Z)});return ke},Ot=function(R){var Z=R.center,Q=R.destination,ke=R.droppables;if(Q){var Be=ke[Q];return Be.frame?Be:null}var Ge=Dt(Z,ke);return Ge},Bt={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(Z){return Math.pow(Z,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Nt=function(R,Z){var Q=R[Z.size]*Bt.startFromPercentage,ke=R[Z.size]*Bt.maxScrollAtPercentage,Be={startScrollingFrom:Q,maxScrollValueAt:ke};return Be},In=function(R){var Z=R.startOfRange,Q=R.endOfRange,ke=R.current,Be=Q-Z;if(Be===0)return 0;var Ge=ke-Z,ct=Ge/Be;return ct},en=1,Fn=function(R,Z){if(R>Z.startScrollingFrom)return 0;if(R<=Z.maxScrollValueAt)return Bt.maxPixelScroll;if(R===Z.startScrollingFrom)return en;var Q=In({startOfRange:Z.maxScrollValueAt,endOfRange:Z.startScrollingFrom,current:R}),ke=1-Q,Be=Bt.maxPixelScroll*Bt.ease(ke);return Math.ceil(Be)},rr=Bt.durationDampening.accelerateAt,Yn=Bt.durationDampening.stopDampeningAt,ur=function(R,Z){var Q=Z,ke=Yn,Be=Date.now(),Ge=Be-Q;if(Ge>=Yn)return R;if(Ge<rr)return en;var ct=In({startOfRange:rr,endOfRange:ke,current:Ge}),mt=R*Bt.ease(ct);return Math.ceil(mt)},xr=function(R){var Z=R.distanceToEdge,Q=R.thresholds,ke=R.dragStartTime,Be=R.shouldUseTimeDampening,Ge=Fn(Z,Q);return Ge===0?0:Be?Math.max(ur(Ge,ke),en):Ge},Lr=function(R){var Z=R.container,Q=R.distanceToEdges,ke=R.dragStartTime,Be=R.axis,Ge=R.shouldUseTimeDampening,ct=Nt(Z,Be),mt=Q[Be.end]<Q[Be.start];return mt?xr({distanceToEdge:Q[Be.end],thresholds:ct,dragStartTime:ke,shouldUseTimeDampening:Ge}):-1*xr({distanceToEdge:Q[Be.start],thresholds:ct,dragStartTime:ke,shouldUseTimeDampening:Ge})},er=function(R){var Z=R.container,Q=R.subject,ke=R.proposedScroll,Be=Q.height>Z.height,Ge=Q.width>Z.width;return!Ge&&!Be?ke:Ge&&Be?null:{x:Ge?0:ke.x,y:Be?0:ke.y}},Rr=Hl(function(R){return R===0?0:R}),Wi=function(R){var Z=R.dragStartTime,Q=R.container,ke=R.subject,Be=R.center,Ge=R.shouldUseTimeDampening,ct={top:Be.y-Q.top,right:Q.right-Be.x,bottom:Q.bottom-Be.y,left:Be.x-Q.left},mt=Lr({container:Q,distanceToEdges:ct,dragStartTime:Z,axis:sl,shouldUseTimeDampening:Ge}),Rt=Lr({container:Q,distanceToEdges:ct,dragStartTime:Z,axis:Ps,shouldUseTimeDampening:Ge}),tn=Rr({x:Rt,y:mt});if(ns(tn,Ns))return null;var $t=er({container:Q,subject:ke,proposedScroll:tn});return $t?ns($t,Ns)?null:$t:null},ai=Hl(function(R){return R===0?0:R>0?1:-1}),ra=function(){var R=function(Q,ke){return Q<0?Q:Q>ke?Q-ke:0};return function(Z){var Q=Z.current,ke=Z.max,Be=Z.change,Ge=Ks(Q,Be),ct={x:R(Ge.x,ke.x),y:R(Ge.y,ke.y)};return ns(ct,Ns)?null:ct}}(),ea=function(Z){var Q=Z.max,ke=Z.current,Be=Z.change,Ge={x:Math.max(ke.x,Q.x),y:Math.max(ke.y,Q.y)},ct=ai(Be),mt=ra({max:Ge,current:ke,change:ct});return!mt||ct.x!==0&&mt.x===0||ct.y!==0&&mt.y===0},pa=function(Z,Q){return ea({current:Z.scroll.current,max:Z.scroll.max,change:Q})},ro=function(Z,Q){if(!pa(Z,Q))return null;var ke=Z.scroll.max,Be=Z.scroll.current;return ra({current:Be,max:ke,change:Q})},io=function(Z,Q){var ke=Z.frame;return ke?ea({current:ke.scroll.current,max:ke.scroll.max,change:Q}):!1},ka=function(Z,Q){var ke=Z.frame;return!ke||!io(Z,Q)?null:ra({current:ke.scroll.current,max:ke.scroll.max,change:Q})},To=function(R){var Z=R.viewport,Q=R.subject,ke=R.center,Be=R.dragStartTime,Ge=R.shouldUseTimeDampening,ct=Wi({dragStartTime:Be,container:Z.frame,subject:Q,center:ke,shouldUseTimeDampening:Ge});return ct&&pa(Z,ct)?ct:null},Aa=function(R){var Z=R.droppable,Q=R.subject,ke=R.center,Be=R.dragStartTime,Ge=R.shouldUseTimeDampening,ct=Z.frame;if(!ct)return null;var mt=Wi({dragStartTime:Be,container:ct.pageMarginBox,subject:Q,center:ke,shouldUseTimeDampening:Ge});return mt&&io(Z,mt)?mt:null},Xi=function(R){var Z=R.state,Q=R.dragStartTime,ke=R.shouldUseTimeDampening,Be=R.scrollWindow,Ge=R.scrollDroppable,ct=Z.current.page.borderBoxCenter,mt=Z.dimensions.draggables[Z.critical.draggable.id],Rt=mt.page.marginBox;if(Z.isWindowScrollAllowed){var tn=Z.viewport,$t=To({dragStartTime:Q,viewport:tn,subject:Rt,center:ct,shouldUseTimeDampening:ke});if($t){Be($t);return}}var Vt=Ot({center:ct,destination:Sl(Z.impact),droppables:Z.dimensions.droppables});if(!!Vt){var Qt=Aa({dragStartTime:Q,droppable:Vt,subject:Rt,center:ct,shouldUseTimeDampening:ke});Qt&&Ge(Vt.descriptor.id,Qt)}},Zi=function(R){var Z=R.scrollWindow,Q=R.scrollDroppable,ke=Po(Z),Be=Po(Q),Ge=null,ct=function($t){Ge||Qr(!1);var Vt=Ge,Qt=Vt.shouldUseTimeDampening,Tn=Vt.dragStartTime;Xi({state:$t,scrollWindow:ke,scrollDroppable:Be,dragStartTime:Tn,shouldUseTimeDampening:Qt})},mt=function($t){Ds(),Ge&&Qr(!1);var Vt=Date.now(),Qt=!1,Tn=function(){Qt=!0};Xi({state:$t,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:Tn,scrollDroppable:Tn}),Ge={dragStartTime:Vt,shouldUseTimeDampening:Qt},yd(),Qt&&ct($t)},Rt=function(){!Ge||(ke.cancel(),Be.cancel(),Ge=null)};return{start:mt,stop:Rt,scroll:ct}},Ui=function(R){var Z=R.move,Q=R.scrollDroppable,ke=R.scrollWindow,Be=function(tn,$t){var Vt=Ks(tn.current.client.selection,$t);Z({client:Vt})},Ge=function(tn,$t){if(!io(tn,$t))return $t;var Vt=ka(tn,$t);if(!Vt)return Q(tn.descriptor.id,$t),null;var Qt=Zs($t,Vt);Q(tn.descriptor.id,Qt);var Tn=Zs($t,Qt);return Tn},ct=function(tn,$t,Vt){if(!tn||!pa($t,Vt))return Vt;var Qt=ro($t,Vt);if(!Qt)return ke(Vt),null;var Tn=Zs(Vt,Qt);ke(Tn);var fr=Zs(Vt,Tn);return fr},mt=function(tn){var $t=tn.scrollJumpRequest;if(!!$t){var Vt=Sl(tn.impact);Vt||Qr(!1);var Qt=Ge(tn.dimensions.droppables[Vt],$t);if(!!Qt){var Tn=tn.viewport,fr=ct(tn.isWindowScrollAllowed,Tn,Qt);!fr||Be(tn,fr)}}};return mt},va=function(R){var Z=R.scrollDroppable,Q=R.scrollWindow,ke=R.move,Be=Zi({scrollWindow:Q,scrollDroppable:Z}),Ge=Ui({move:ke,scrollWindow:Q,scrollDroppable:Z}),ct=function(tn){if(tn.phase==="DRAGGING"){if(tn.movementMode==="FLUID"){Be.scroll(tn);return}!tn.scrollJumpRequest||Ge(tn)}},mt={scroll:ct,start:Be.start,stop:Be.stop};return mt},Pa="data-rbd",Sa=function(){var R=Pa+"-drag-handle";return{base:R,draggableId:R+"-draggable-id",contextId:R+"-context-id"}}(),xa=function(){var R=Pa+"-draggable";return{base:R,contextId:R+"-context-id",id:R+"-id"}}(),Qo=function(){var R=Pa+"-droppable";return{base:R,contextId:R+"-context-id",id:R+"-id"}}(),so={contextId:Pa+"-scroll-container-context-id"},Ho=function(Z){return function(Q){return"["+Q+'="'+Z+'"]'}},is=function(Z,Q){return Z.map(function(ke){var Be=ke.styles[Q];return Be?ke.selector+" { "+Be+" }":""}).join(" ")},ds="pointer-events: none;",ys=function(R){var Z=Ho(R),Q=function(){var mt=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:Z(Sa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:mt,dragging:ds,dropAnimating:mt}}}(),ke=function(){var mt=`
      transition: `+rl.outOfTheWay+`;
    `;return{selector:Z(xa.contextId),styles:{dragging:mt,dropAnimating:mt,userCancel:mt}}}(),Be={selector:Z(Qo.contextId),styles:{always:"overflow-anchor: none;"}},Ge={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},ct=[ke,Q,Be,Ge];return{always:is(ct,"always"),resting:is(ct,"resting"),dragging:is(ct,"dragging"),dropAnimating:is(ct,"dropAnimating"),userCancel:is(ct,"userCancel")}},qa=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?g.useLayoutEffect:g.useEffect,oa=function(){var Z=document.querySelector("head");return Z||Qr(!1),Z},Qa=function(Z){var Q=document.createElement("style");return Z&&Q.setAttribute("nonce",Z),Q.type="text/css",Q};function So(R,Z){var Q=Ti(function(){return ys(R)},[R]),ke=(0,g.useRef)(null),Be=(0,g.useRef)(null),Ge=sa((0,Lo.Z)(function(Vt){var Qt=Be.current;Qt||Qr(!1),Qt.textContent=Vt}),[]),ct=sa(function(Vt){var Qt=ke.current;Qt||Qr(!1),Qt.textContent=Vt},[]);qa(function(){!ke.current&&!Be.current||Qr(!1);var Vt=Qa(Z),Qt=Qa(Z);return ke.current=Vt,Be.current=Qt,Vt.setAttribute(Pa+"-always",R),Qt.setAttribute(Pa+"-dynamic",R),oa().appendChild(Vt),oa().appendChild(Qt),ct(Q.always),Ge(Q.resting),function(){var Tn=function(ei){var qr=ei.current;qr||Qr(!1),oa().removeChild(qr),ei.current=null};Tn(ke),Tn(Be)}},[Z,ct,Ge,Q.always,Q.resting,R]);var mt=sa(function(){return Ge(Q.dragging)},[Ge,Q.dragging]),Rt=sa(function(Vt){if(Vt==="DROP"){Ge(Q.dropAnimating);return}Ge(Q.userCancel)},[Ge,Q.dropAnimating,Q.userCancel]),tn=sa(function(){!Be.current||Ge(Q.resting)},[Ge,Q.resting]),$t=Ti(function(){return{dragging:mt,dropping:Rt,resting:tn}},[mt,Rt,tn]);return $t}var qs=function(R){return R&&R.ownerDocument?R.ownerDocument.defaultView:window};function Bl(R){return R instanceof qs(R).HTMLElement}function jc(R,Z){var Q="["+Sa.contextId+'="'+R+'"]',ke=Gu(document.querySelectorAll(Q));if(!ke.length)return null;var Be=ms(ke,function(Ge){return Ge.getAttribute(Sa.draggableId)===Z});return!Be||!Bl(Be)?null:Be}function Ic(R){var Z=(0,g.useRef)({}),Q=(0,g.useRef)(null),ke=(0,g.useRef)(null),Be=(0,g.useRef)(!1),Ge=sa(function(Qt,Tn){var fr={id:Qt,focus:Tn};return Z.current[Qt]=fr,function(){var qr=Z.current,Pr=qr[Qt];Pr!==fr&&delete qr[Qt]}},[]),ct=sa(function(Qt){var Tn=jc(R,Qt);Tn&&Tn!==document.activeElement&&Tn.focus()},[R]),mt=sa(function(Qt,Tn){Q.current===Qt&&(Q.current=Tn)},[]),Rt=sa(function(){ke.current||!Be.current||(ke.current=requestAnimationFrame(function(){ke.current=null;var Qt=Q.current;Qt&&ct(Qt)}))},[ct]),tn=sa(function(Qt){Q.current=null;var Tn=document.activeElement;!Tn||Tn.getAttribute(Sa.draggableId)===Qt&&(Q.current=Qt)},[]);qa(function(){return Be.current=!0,function(){Be.current=!1;var Qt=ke.current;Qt&&cancelAnimationFrame(Qt)}},[]);var $t=Ti(function(){return{register:Ge,tryRecordFocus:tn,tryRestoreFocusRecorded:Rt,tryShiftRecord:mt}},[Ge,tn,Rt,mt]);return $t}function rd(){var R={draggables:{},droppables:{}},Z=[];function Q(Vt){return Z.push(Vt),function(){var Tn=Z.indexOf(Vt);Tn!==-1&&Z.splice(Tn,1)}}function ke(Vt){Z.length&&Z.forEach(function(Qt){return Qt(Vt)})}function Be(Vt){return R.draggables[Vt]||null}function Ge(Vt){var Qt=Be(Vt);return Qt||Qr(!1),Qt}var ct={register:function(Qt){R.draggables[Qt.descriptor.id]=Qt,ke({type:"ADDITION",value:Qt})},update:function(Qt,Tn){var fr=R.draggables[Tn.descriptor.id];!fr||fr.uniqueId===Qt.uniqueId&&(delete R.draggables[Tn.descriptor.id],R.draggables[Qt.descriptor.id]=Qt)},unregister:function(Qt){var Tn=Qt.descriptor.id,fr=Be(Tn);!fr||Qt.uniqueId===fr.uniqueId&&(delete R.draggables[Tn],ke({type:"REMOVAL",value:Qt}))},getById:Ge,findById:Be,exists:function(Qt){return Boolean(Be(Qt))},getAllByType:function(Qt){return cs(R.draggables).filter(function(Tn){return Tn.descriptor.type===Qt})}};function mt(Vt){return R.droppables[Vt]||null}function Rt(Vt){var Qt=mt(Vt);return Qt||Qr(!1),Qt}var tn={register:function(Qt){R.droppables[Qt.descriptor.id]=Qt},unregister:function(Qt){var Tn=mt(Qt.descriptor.id);!Tn||Qt.uniqueId===Tn.uniqueId&&delete R.droppables[Qt.descriptor.id]},getById:Rt,findById:mt,exists:function(Qt){return Boolean(mt(Qt))},getAllByType:function(Qt){return cs(R.droppables).filter(function(Tn){return Tn.descriptor.type===Qt})}};function $t(){R.draggables={},R.droppables={},Z.length=0}return{draggable:ct,droppable:tn,subscribe:Q,clean:$t}}function su(){var R=Ti(rd,[]);return(0,g.useEffect)(function(){return function(){requestAnimationFrame(R.clean)}},[R]),R}var id=g.createContext(null),lu=function(){var R=document.body;return R||Qr(!1),R},Bu={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ld=function(Z){return"rbd-announcement-"+Z};function xu(R){var Z=Ti(function(){return Ld(R)},[R]),Q=(0,g.useRef)(null);(0,g.useEffect)(function(){var Ge=document.createElement("div");return Q.current=Ge,Ge.id=Z,Ge.setAttribute("aria-live","assertive"),Ge.setAttribute("aria-atomic","true"),(0,Wt.Z)(Ge.style,Bu),lu().appendChild(Ge),function(){setTimeout(function(){var Rt=lu();Rt.contains(Ge)&&Rt.removeChild(Ge),Ge===Q.current&&(Q.current=null)})}},[Z]);var ke=sa(function(Be){var Ge=Q.current;if(Ge){Ge.textContent=Be;return}},[]);return ke}var Od=0,Yl={separator:"::"};function Vc(){Od=0}function Fu(R,Z){return Z===void 0&&(Z=Yl),Ti(function(){return""+R+Z.separator+Od++},[Z.separator,R])}function Kl(R){var Z=R.contextId,Q=R.uniqueId;return"rbd-hidden-text-"+Z+"-"+Q}function Us(R){var Z=R.contextId,Q=R.text,ke=Fu("hidden-text",{separator:"-"}),Be=Ti(function(){return Kl({contextId:Z,uniqueId:ke})},[ke,Z]);return(0,g.useEffect)(function(){var ct=document.createElement("div");return ct.id=Be,ct.textContent=Q,ct.style.display="none",lu().appendChild(ct),function(){var Rt=lu();Rt.contains(ct)&&Rt.removeChild(ct)}},[Be,Q]),Be}var Oo=g.createContext(null),xo={react:"^16.8.5 || ^17.0.0 || ^18.0.0","react-dom":"^16.8.5 || ^17.0.0 || ^18.0.0"},_s=/(\d+)\.(\d+)\.(\d+)/,Ml=function(Z){var Q=_s.exec(Z);Q==null&&Qr(!1);var ke=Number(Q[1]),Be=Number(Q[2]),Ge=Number(Q[3]);return{major:ke,minor:Be,patch:Ge,raw:Z}},zf=function(Z,Q){return Q.major>Z.major?!0:Q.major<Z.major?!1:Q.minor>Z.minor?!0:Q.minor<Z.minor?!1:Q.patch>=Z.patch},Is=function(R,Z){var Q=Ml(R),ke=Ml(Z);zf(Q,ke)},ad=`
  We expect a html5 doctype: <!doctype html>
  This is to ensure consistent browser layout and measurement

  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md
`,cu=function(R){var Z=R.doctype;!Z||(Z.name.toLowerCase(),Z.publicId)};function ul(R){}function Zu(R,Z){}function Eh(){Zu(function(){Is(xo.react,g.version),cu(document)},[])}function od(R){var Z=(0,g.useRef)(R);return(0,g.useEffect)(function(){Z.current=R}),Z}function Ch(){var R=null;function Z(){return Boolean(R)}function Q(ct){return ct===R}function ke(ct){R&&Qr(!1);var mt={abandon:ct};return R=mt,mt}function Be(){R||Qr(!1),R=null}function Ge(){R&&(R.abandon(),Be())}return{isClaimed:Z,isActive:Q,claim:ke,release:Be,tryAbandon:Ge}}var Wf=9,Th=13,Sf=27,ah=32,Nd=33,Uf=34,Hf=35,jh=36,zu=37,af=38,Af=39,jf=40,of,oh=(of={},of[Th]=!0,of[Wf]=!0,of),uo=function(R){oh[R.keyCode]&&R.preventDefault()},ba=function(){var R="visibilitychange";if(typeof document=="undefined")return R;var Z=[R,"ms"+R,"webkit"+R,"moz"+R,"o"+R],Q=ms(Z,function(ke){return"on"+ke in document});return Q||R}(),vo=0,Wu=5;function uu(R,Z){return Math.abs(Z.x-R.x)>=Wu||Math.abs(Z.y-R.y)>=Wu}var Dl={type:"IDLE"};function Vf(R){var Z=R.cancel,Q=R.completed,ke=R.getPhase,Be=R.setPhase;return[{eventName:"mousemove",fn:function(ct){var mt=ct.button,Rt=ct.clientX,tn=ct.clientY;if(mt===vo){var $t={x:Rt,y:tn},Vt=ke();if(Vt.type==="DRAGGING"){ct.preventDefault(),Vt.actions.move($t);return}Vt.type!=="PENDING"&&Qr(!1);var Qt=Vt.point;if(!!uu(Qt,$t)){ct.preventDefault();var Tn=Vt.actions.fluidLift($t);Be({type:"DRAGGING",actions:Tn})}}}},{eventName:"mouseup",fn:function(ct){var mt=ke();if(mt.type!=="DRAGGING"){Z();return}ct.preventDefault(),mt.actions.drop({shouldBlockNextClick:!0}),Q()}},{eventName:"mousedown",fn:function(ct){ke().type==="DRAGGING"&&ct.preventDefault(),Z()}},{eventName:"keydown",fn:function(ct){var mt=ke();if(mt.type==="PENDING"){Z();return}if(ct.keyCode===Sf){ct.preventDefault(),Z();return}uo(ct)}},{eventName:"resize",fn:Z},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){ke().type==="PENDING"&&Z()}},{eventName:"webkitmouseforcedown",fn:function(ct){var mt=ke();if(mt.type==="IDLE"&&Qr(!1),mt.actions.shouldRespectForcePress()){Z();return}ct.preventDefault()}},{eventName:ba,fn:Z}]}function wu(R){var Z=(0,g.useRef)(Dl),Q=(0,g.useRef)(Nl),ke=Ti(function(){return{eventName:"mousedown",fn:function(Vt){if(!Vt.defaultPrevented&&Vt.button===vo&&!(Vt.ctrlKey||Vt.metaKey||Vt.shiftKey||Vt.altKey)){var Qt=R.findClosestDraggableId(Vt);if(!!Qt){var Tn=R.tryGetLock(Qt,ct,{sourceEvent:Vt});if(!!Tn){Vt.preventDefault();var fr={x:Vt.clientX,y:Vt.clientY};Q.current(),tn(Tn,fr)}}}}}},[R]),Be=Ti(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(Vt){if(!Vt.defaultPrevented){var Qt=R.findClosestDraggableId(Vt);if(!!Qt){var Tn=R.findOptionsForDraggable(Qt);!Tn||Tn.shouldRespectForcePress||!R.canGetLock(Qt)||Vt.preventDefault()}}}}},[R]),Ge=sa(function(){var Vt={passive:!1,capture:!0};Q.current=Wn(window,[Be,ke],Vt)},[Be,ke]),ct=sa(function(){var $t=Z.current;$t.type!=="IDLE"&&(Z.current=Dl,Q.current(),Ge())},[Ge]),mt=sa(function(){var $t=Z.current;ct(),$t.type==="DRAGGING"&&$t.actions.cancel({shouldBlockNextClick:!0}),$t.type==="PENDING"&&$t.actions.abort()},[ct]),Rt=sa(function(){var Vt={capture:!0,passive:!1},Qt=Vf({cancel:mt,completed:ct,getPhase:function(){return Z.current},setPhase:function(fr){Z.current=fr}});Q.current=Wn(window,Qt,Vt)},[mt,ct]),tn=sa(function(Vt,Qt){Z.current.type!=="IDLE"&&Qr(!1),Z.current={type:"PENDING",point:Qt,actions:Vt},Rt()},[Rt]);qa(function(){return Ge(),function(){Q.current()}},[Ge])}var Rd;function sh(){}var Gp=(Rd={},Rd[Uf]=!0,Rd[Nd]=!0,Rd[jh]=!0,Rd[Hf]=!0,Rd);function Tp(R,Z){function Q(){Z(),R.cancel()}function ke(){Z(),R.drop()}return[{eventName:"keydown",fn:function(Ge){if(Ge.keyCode===Sf){Ge.preventDefault(),Q();return}if(Ge.keyCode===ah){Ge.preventDefault(),ke();return}if(Ge.keyCode===jf){Ge.preventDefault(),R.moveDown();return}if(Ge.keyCode===af){Ge.preventDefault(),R.moveUp();return}if(Ge.keyCode===Af){Ge.preventDefault(),R.moveRight();return}if(Ge.keyCode===zu){Ge.preventDefault(),R.moveLeft();return}if(Gp[Ge.keyCode]){Ge.preventDefault();return}uo(Ge)}},{eventName:"mousedown",fn:Q},{eventName:"mouseup",fn:Q},{eventName:"click",fn:Q},{eventName:"touchstart",fn:Q},{eventName:"resize",fn:Q},{eventName:"wheel",fn:Q,options:{passive:!0}},{eventName:ba,fn:Q}]}function qp(R){var Z=(0,g.useRef)(sh),Q=Ti(function(){return{eventName:"keydown",fn:function(Ge){if(Ge.defaultPrevented||Ge.keyCode!==ah)return;var ct=R.findClosestDraggableId(Ge);if(!ct)return;var mt=R.tryGetLock(ct,$t,{sourceEvent:Ge});if(!mt)return;Ge.preventDefault();var Rt=!0,tn=mt.snapLift();Z.current();function $t(){Rt||Qr(!1),Rt=!1,Z.current(),ke()}Z.current=Wn(window,Tp(tn,$t),{capture:!0,passive:!1})}}},[R]),ke=sa(function(){var Ge={passive:!1,capture:!0};Z.current=Wn(window,[Q],Ge)},[Q]);qa(function(){return ke(),function(){Z.current()}},[ke])}var Vh={type:"IDLE"},Sh=120,Pd=.15;function fs(R){var Z=R.cancel,Q=R.getPhase;return[{eventName:"orientationchange",fn:Z},{eventName:"resize",fn:Z},{eventName:"contextmenu",fn:function(Be){Be.preventDefault()}},{eventName:"keydown",fn:function(Be){if(Q().type!=="DRAGGING"){Z();return}Be.keyCode===Sf&&Be.preventDefault(),Z()}},{eventName:ba,fn:Z}]}function lh(R){var Z=R.cancel,Q=R.completed,ke=R.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(Ge){var ct=ke();if(ct.type!=="DRAGGING"){Z();return}ct.hasMoved=!0;var mt=Ge.touches[0],Rt=mt.clientX,tn=mt.clientY,$t={x:Rt,y:tn};Ge.preventDefault(),ct.actions.move($t)}},{eventName:"touchend",fn:function(Ge){var ct=ke();if(ct.type!=="DRAGGING"){Z();return}Ge.preventDefault(),ct.actions.drop({shouldBlockNextClick:!0}),Q()}},{eventName:"touchcancel",fn:function(Ge){if(ke().type!=="DRAGGING"){Z();return}Ge.preventDefault(),Z()}},{eventName:"touchforcechange",fn:function(Ge){var ct=ke();ct.type==="IDLE"&&Qr(!1);var mt=Ge.touches[0];if(!!mt){var Rt=mt.force>=Pd;if(!!Rt){var tn=ct.actions.shouldRespectForcePress();if(ct.type==="PENDING"){tn&&Z();return}if(tn){if(ct.hasMoved){Ge.preventDefault();return}Z();return}Ge.preventDefault()}}}},{eventName:ba,fn:Z}]}function Sp(R){var Z=(0,g.useRef)(Vh),Q=(0,g.useRef)(Nl),ke=sa(function(){return Z.current},[]),Be=sa(function(Tn){Z.current=Tn},[]),Ge=Ti(function(){return{eventName:"touchstart",fn:function(Tn){if(!Tn.defaultPrevented){var fr=R.findClosestDraggableId(Tn);if(!!fr){var ei=R.tryGetLock(fr,mt,{sourceEvent:Tn});if(!!ei){var qr=Tn.touches[0],Pr=qr.clientX,Ai=qr.clientY,Yi={x:Pr,y:Ai};Q.current(),Vt(ei,Yi)}}}}}},[R]),ct=sa(function(){var Tn={capture:!0,passive:!1};Q.current=Wn(window,[Ge],Tn)},[Ge]),mt=sa(function(){var Qt=Z.current;Qt.type!=="IDLE"&&(Qt.type==="PENDING"&&clearTimeout(Qt.longPressTimerId),Be(Vh),Q.current(),ct())},[ct,Be]),Rt=sa(function(){var Qt=Z.current;mt(),Qt.type==="DRAGGING"&&Qt.actions.cancel({shouldBlockNextClick:!0}),Qt.type==="PENDING"&&Qt.actions.abort()},[mt]),tn=sa(function(){var Tn={capture:!0,passive:!1},fr={cancel:Rt,completed:mt,getPhase:ke},ei=Wn(window,lh(fr),Tn),qr=Wn(window,fs(fr),Tn);Q.current=function(){ei(),qr()}},[Rt,ke,mt]),$t=sa(function(){var Tn=ke();Tn.type!=="PENDING"&&Qr(!1);var fr=Tn.actions.fluidLift(Tn.point);Be({type:"DRAGGING",actions:fr,hasMoved:!1})},[ke,Be]),Vt=sa(function(Tn,fr){ke().type!=="IDLE"&&Qr(!1);var ei=setTimeout($t,Sh);Be({type:"PENDING",point:fr,actions:Tn,longPressTimerId:ei}),tn()},[tn,ke,Be,$t]);qa(function(){return ct(),function(){Q.current();var fr=ke();fr.type==="PENDING"&&(clearTimeout(fr.longPressTimerId),Be(Vh))}},[ke,ct,Be]),qa(function(){var Tn=Wn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return Tn},[])}function Yf(R){}var Kf={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ch(R,Z){if(Z==null)return!1;var Q=Boolean(Kf[Z.tagName.toLowerCase()]);if(Q)return!0;var ke=Z.getAttribute("contenteditable");return ke==="true"||ke===""?!0:Z===R?!1:ch(R,Z.parentElement)}function Ap(R,Z){var Q=Z.target;return Bl(Q)?ch(R,Q):!1}var Il=function(R){return bo(R.getBoundingClientRect()).center};function $p(R){return R instanceof qs(R).Element}var Xp=function(){var R="matches";if(typeof document=="undefined")return R;var Z=[R,"msMatchesSelector","webkitMatchesSelector"],Q=ms(Z,function(ke){return ke in Element.prototype});return Q||R}();function Mp(R,Z){return R==null?null:R[Xp](Z)?R:Mp(R.parentElement,Z)}function Ah(R,Z){return R.closest?R.closest(Z):Mp(R,Z)}function r(R){return"["+Sa.contextId+'="'+R+'"]'}function o(R,Z){var Q=Z.target;if(!$p(Q))return null;var ke=r(R),Be=Ah(Q,ke);return!Be||!Bl(Be)?null:Be}function C(R,Z){var Q=o(R,Z);return Q?Q.getAttribute(Sa.draggableId):null}function k(R,Z){var Q="["+xa.contextId+'="'+R+'"]',ke=Gu(document.querySelectorAll(Q)),Be=ms(ke,function(Ge){return Ge.getAttribute(xa.id)===Z});return!Be||!Bl(Be)?null:Be}function N(R){R.preventDefault()}function ie(R){var Z=R.expected,Q=R.phase,ke=R.isLockActive,Be=R.shouldWarn;return!(!ke()||Z!==Q)}function Se(R){var Z=R.lockAPI,Q=R.store,ke=R.registry,Be=R.draggableId;if(Z.isClaimed())return!1;var Ge=ke.draggable.findById(Be);return!(!Ge||!Ge.options.isEnabled||!rt(Q.getState(),Be))}function Ne(R){var Z=R.lockAPI,Q=R.contextId,ke=R.store,Be=R.registry,Ge=R.draggableId,ct=R.forceSensorStop,mt=R.sourceEvent,Rt=Se({lockAPI:Z,store:ke,registry:Be,draggableId:Ge});if(!Rt)return null;var tn=Be.draggable.getById(Ge),$t=k(Q,tn.descriptor.id);if(!$t||mt&&!tn.options.canDragInteractiveElements&&Ap($t,mt))return null;var Vt=Z.claim(ct||Nl),Qt="PRE_DRAG";function Tn(){return tn.options.shouldRespectForcePress}function fr(){return Z.isActive(Vt)}function ei(ja,No){ie({expected:ja,phase:Qt,isLockActive:fr,shouldWarn:!0})&&ke.dispatch(No())}var qr=ei.bind(null,"DRAGGING");function Pr(ja){function No(){Z.release(),Qt="COMPLETED"}Qt!=="PRE_DRAG"&&(No(),Qt!=="PRE_DRAG"&&Qr(!1)),ke.dispatch(rc(ja.liftActionArgs)),Qt="DRAGGING";function Cs(Eo,xs){if(xs===void 0&&(xs={shouldBlockNextClick:!1}),ja.cleanup(),xs.shouldBlockNextClick){var _c=Wn(window,[{eventName:"click",fn:N,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(_c)}No(),ke.dispatch(Ra({reason:Eo}))}return(0,Wt.Z)({isActive:function(){return ie({expected:"DRAGGING",phase:Qt,isLockActive:fr,shouldWarn:!1})},shouldRespectForcePress:Tn,drop:function(xs){return Cs("DROP",xs)},cancel:function(xs){return Cs("CANCEL",xs)}},ja.actions)}function Ai(ja){var No=Po(function(Eo){qr(function(){return qe({client:Eo})})}),Cs=Pr({liftActionArgs:{id:Ge,clientSelection:ja,movementMode:"FLUID"},cleanup:function(){return No.cancel()},actions:{move:No}});return(0,Wt.Z)({},Cs,{move:No})}function Yi(){var ja={moveUp:function(){return qr(fn)},moveRight:function(){return qr(br)},moveDown:function(){return qr(Jn)},moveLeft:function(){return qr(Or)}};return Pr({liftActionArgs:{id:Ge,clientSelection:Il($t),movementMode:"SNAP"},cleanup:Nl,actions:ja})}function ta(){var ja=ie({expected:"PRE_DRAG",phase:Qt,isLockActive:fr,shouldWarn:!0});ja&&Z.release()}var Ha={isActive:function(){return ie({expected:"PRE_DRAG",phase:Qt,isLockActive:fr,shouldWarn:!1})},shouldRespectForcePress:Tn,fluidLift:Ai,snapLift:Yi,abort:ta};return Ha}var st=[wu,qp,Sp];function xt(R){var Z=R.contextId,Q=R.store,ke=R.registry,Be=R.customSensors,Ge=R.enableDefaultSensors,ct=[].concat(Ge?st:[],Be||[]),mt=(0,g.useState)(function(){return Ch()})[0],Rt=sa(function(Ai,Yi){Ai.isDragging&&!Yi.isDragging&&mt.tryAbandon()},[mt]);qa(function(){var Ai=Q.getState(),Yi=Q.subscribe(function(){var ta=Q.getState();Rt(Ai,ta),Ai=ta});return Yi},[mt,Q,Rt]),qa(function(){return mt.tryAbandon},[mt.tryAbandon]);var tn=sa(function(Pr){return Se({lockAPI:mt,registry:ke,store:Q,draggableId:Pr})},[mt,ke,Q]),$t=sa(function(Pr,Ai,Yi){return Ne({lockAPI:mt,registry:ke,contextId:Z,store:Q,draggableId:Pr,forceSensorStop:Ai,sourceEvent:Yi&&Yi.sourceEvent?Yi.sourceEvent:null})},[Z,mt,ke,Q]),Vt=sa(function(Pr){return C(Z,Pr)},[Z]),Qt=sa(function(Pr){var Ai=ke.draggable.findById(Pr);return Ai?Ai.options:null},[ke.draggable]),Tn=sa(function(){!mt.isClaimed()||(mt.tryAbandon(),Q.getState().phase!=="IDLE"&&Q.dispatch(Gr()))},[mt,Q]),fr=sa(mt.isClaimed,[mt]),ei=Ti(function(){return{canGetLock:tn,tryGetLock:$t,findClosestDraggableId:Vt,findOptionsForDraggable:Qt,tryReleaseLock:Tn,isLockClaimed:fr}},[tn,$t,Vt,Qt,Tn,fr]);Yf(ct);for(var qr=0;qr<ct.length;qr++)ct[qr](ei)}var ln=function(Z){return{onBeforeCapture:Z.onBeforeCapture,onBeforeDragStart:Z.onBeforeDragStart,onDragStart:Z.onDragStart,onDragEnd:Z.onDragEnd,onDragUpdate:Z.onDragUpdate}};function An(R){return R.current||Qr(!1),R.current}function dr(R){var Z=R.contextId,Q=R.setCallbacks,ke=R.sensors,Be=R.nonce,Ge=R.dragHandleUsageInstructions,ct=(0,g.useRef)(null);Eh();var mt=od(R),Rt=sa(function(){return ln(mt.current)},[mt]),tn=xu(Z),$t=Us({contextId:Z,text:Ge}),Vt=So(Z,Be),Qt=sa(function(Eo){An(ct).dispatch(Eo)},[]),Tn=Ti(function(){return(0,xn.DE)({publishWhileDragging:nf,updateDroppableScroll:be,updateDroppableIsEnabled:Xe,updateDroppableIsCombineEnabled:gt,collectionStarting:_l},Qt)},[Qt]),fr=su(),ei=Ti(function(){return Oe(fr,Tn)},[fr,Tn]),qr=Ti(function(){return va((0,Wt.Z)({scrollWindow:bt,scrollDroppable:ei.scrollDroppable},(0,xn.DE)({move:qe},Qt)))},[ei.scrollDroppable,Qt]),Pr=Ic(Z),Ai=Ti(function(){return h({announce:tn,autoScroller:qr,dimensionMarshal:ei,focusMarshal:Pr,getResponders:Rt,styleMarshal:Vt})},[tn,qr,ei,Pr,Rt,Vt]);ct.current=Ai;var Yi=sa(function(){var Eo=An(ct),xs=Eo.getState();xs.phase!=="IDLE"&&Eo.dispatch(Gr())},[]),ta=sa(function(){var Eo=An(ct).getState();return Eo.isDragging||Eo.phase==="DROP_ANIMATING"},[]),Ha=Ti(function(){return{isDragging:ta,tryAbort:Yi}},[ta,Yi]);Q(Ha);var ja=sa(function(Eo){return rt(An(ct).getState(),Eo)},[]),No=sa(function(){return Lu(An(ct).getState())},[]),Cs=Ti(function(){return{marshal:ei,focus:Pr,contextId:Z,canLift:ja,isMovementAllowed:No,dragHandleUsageInstructionsId:$t,registry:fr}},[Z,ei,$t,Pr,ja,No,fr]);return xt({contextId:Z,store:Ai,registry:fr,customSensors:ke,enableDefaultSensors:R.enableDefaultSensors!==!1}),(0,g.useEffect)(function(){return Yi},[Yi]),g.createElement(Oo.Provider,{value:Cs},g.createElement(Zt,{context:id,store:Ai},R.children))}var qn=0;function Wr(){qn=0}function ri(){return Ti(function(){return""+qn++},[])}function wi(){Wr(),Vc()}function ji(R){var Z=ri(),Q=R.dragHandleUsageInstructions||ec.dragHandleUsageInstructions;return g.createElement(yo,null,function(ke){return g.createElement(dr,{nonce:R.nonce,contextId:Z,setCallbacks:ke,dragHandleUsageInstructions:Q,enableDefaultSensors:R.enableDefaultSensors,sensors:R.sensors,onBeforeCapture:R.onBeforeCapture,onBeforeDragStart:R.onBeforeDragStart,onDragStart:R.onDragStart,onDragUpdate:R.onDragUpdate,onDragEnd:R.onDragEnd},R.children)})}var ia=function(Z){return function(Q){return Z===Q}},Qi=ia("scroll"),Vi=ia("auto"),Wa=ia("visible"),Ia=function(Z,Q){return Q(Z.overflowX)||Q(Z.overflowY)},ha=function(Z,Q){return Q(Z.overflowX)&&Q(Z.overflowY)},Es=function(Z){var Q=window.getComputedStyle(Z),ke={overflowX:Q.overflowX,overflowY:Q.overflowY};return Ia(ke,Qi)||Ia(ke,Vi)},dl=function(){return!1;var Z,Q,ke,Be},Ts=function R(Z){return Z==null?null:Z===document.body?dl()?Z:null:Z===document.documentElement?null:Es(Z)?Z:R(Z.parentElement)},Yc=function(R){if(!!R)var Z=Ts(R.parentElement)},Gl=function(R){return{x:R.scrollLeft,y:R.scrollTop}},Ao=function R(Z){if(!Z)return!1;var Q=window.getComputedStyle(Z);return Q.position==="fixed"?!0:R(Z.parentElement)},sc=function(R){var Z=Ts(R),Q=Ao(R);return{closestScrollable:Z,isFixedOnPage:Q}},ql=function(R){var Z=R.descriptor,Q=R.isEnabled,ke=R.isCombineEnabled,Be=R.isFixedOnPage,Ge=R.direction,ct=R.client,mt=R.page,Rt=R.closest,tn=function(){if(!Rt)return null;var Tn=Rt.scrollSize,fr=Rt.client,ei=B({scrollHeight:Tn.scrollHeight,scrollWidth:Tn.scrollWidth,height:fr.paddingBox.height,width:fr.paddingBox.width});return{pageMarginBox:Rt.page.marginBox,frameClient:fr,scrollSize:Tn,shouldClipSubject:Rt.shouldClipSubject,scroll:{initial:Rt.scroll,current:Rt.scroll,max:ei,diff:{value:Ns,displacement:Ns}}}}(),$t=Ge==="vertical"?sl:Ps,Vt=Bo({page:mt,withPlaceholder:null,axis:$t,frame:tn}),Qt={descriptor:Z,isCombineEnabled:ke,isFixedOnPage:Be,axis:$t,isEnabled:Q,client:ct,page:mt,frame:tn,subject:Vt};return Qt},$s=function(Z,Q){var ke=al(Z);if(!Q||Z!==Q)return ke;var Be=ke.paddingBox.top-Q.scrollTop,Ge=ke.paddingBox.left-Q.scrollLeft,ct=Be+Q.scrollHeight,mt=Ge+Q.scrollWidth,Rt={top:Be,right:mt,bottom:ct,left:Ge},tn=vl(Rt,ke.border),$t=vs({borderBox:tn,margin:ke.margin,border:ke.border,padding:ke.padding});return $t},Hs=function(R){var Z=R.ref,Q=R.descriptor,ke=R.env,Be=R.windowScroll,Ge=R.direction,ct=R.isDropDisabled,mt=R.isCombineEnabled,Rt=R.shouldClipSubject,tn=ke.closestScrollable,$t=$s(Z,tn),Vt=nn($t,Be),Qt=function(){if(!tn)return null;var fr=al(tn),ei={scrollHeight:tn.scrollHeight,scrollWidth:tn.scrollWidth};return{client:fr,page:nn(fr,Be),scroll:Gl(tn),scrollSize:ei,shouldClipSubject:Rt}}(),Tn=ql({descriptor:Q,isEnabled:!ct,isCombineEnabled:mt,isFixedOnPage:ke.isFixedOnPage,direction:Ge,client:$t,page:Vt,closest:Qt});return Tn},fl={passive:!1},$l={passive:!0},Bd=function(R){return R.shouldPublishImmediately?fl:$l};function ku(R){var Z=(0,g.useContext)(R);return Z||Qr(!1),Z}var Fl=function(Z){return Z&&Z.env.closestScrollable||null};function sd(R){var Z=(0,g.useRef)(null),Q=ku(Oo),ke=Fu("droppable"),Be=Q.registry,Ge=Q.marshal,ct=od(R),mt=Ti(function(){return{id:R.droppableId,type:R.type,mode:R.mode}},[R.droppableId,R.mode,R.type]),Rt=(0,g.useRef)(mt),tn=Ti(function(){return(0,Lo.Z)(function(ta,Ha){Z.current||Qr(!1);var ja={x:ta,y:Ha};Ge.updateDroppableScroll(mt.id,ja)})},[mt.id,Ge]),$t=sa(function(){var ta=Z.current;return!ta||!ta.env.closestScrollable?Ns:Gl(ta.env.closestScrollable)},[]),Vt=sa(function(){var ta=$t();tn(ta.x,ta.y)},[$t,tn]),Qt=Ti(function(){return Po(Vt)},[Vt]),Tn=sa(function(){var ta=Z.current,Ha=Fl(ta);ta&&Ha||Qr(!1);var ja=ta.scrollOptions;if(ja.shouldPublishImmediately){Vt();return}Qt()},[Qt,Vt]),fr=sa(function(ta,Ha){Z.current&&Qr(!1);var ja=ct.current,No=ja.getDroppableRef();No||Qr(!1);var Cs=sc(No),Eo={ref:No,descriptor:mt,env:Cs,scrollOptions:Ha};Z.current=Eo;var xs=Hs({ref:No,descriptor:mt,env:Cs,windowScroll:ta,direction:ja.direction,isDropDisabled:ja.isDropDisabled,isCombineEnabled:ja.isCombineEnabled,shouldClipSubject:!ja.ignoreContainerClipping}),_c=Cs.closestScrollable;return _c&&(_c.setAttribute(so.contextId,Q.contextId),_c.addEventListener("scroll",Tn,Bd(Eo.scrollOptions))),xs},[Q.contextId,mt,Tn,ct]),ei=sa(function(){var ta=Z.current,Ha=Fl(ta);return ta&&Ha||Qr(!1),Gl(Ha)},[]),qr=sa(function(){var ta=Z.current;ta||Qr(!1);var Ha=Fl(ta);Z.current=null,Ha&&(Qt.cancel(),Ha.removeAttribute(so.contextId),Ha.removeEventListener("scroll",Tn,Bd(ta.scrollOptions)))},[Tn,Qt]),Pr=sa(function(ta){var Ha=Z.current;Ha||Qr(!1);var ja=Fl(Ha);ja||Qr(!1),ja.scrollTop+=ta.y,ja.scrollLeft+=ta.x},[]),Ai=Ti(function(){return{getDimensionAndWatchScroll:fr,getScrollWhileDragging:ei,dragStopped:qr,scroll:Pr}},[qr,fr,ei,Pr]),Yi=Ti(function(){return{uniqueId:ke,descriptor:mt,callbacks:Ai}},[Ai,mt,ke]);qa(function(){return Rt.current=Yi.descriptor,Be.droppable.register(Yi),function(){Z.current&&qr(),Be.droppable.unregister(Yi)}},[Ai,mt,qr,Yi,Ge,Be.droppable]),qa(function(){!Z.current||Ge.updateDroppableIsEnabled(Rt.current.id,!R.isDropDisabled)},[R.isDropDisabled,Ge]),qa(function(){!Z.current||Ge.updateDroppableIsCombineEnabled(Rt.current.id,R.isCombineEnabled)},[R.isCombineEnabled,Ge])}function Ll(){}var Mh={width:0,height:0,margin:eu},Fd=function(Z){var Q=Z.isAnimatingOpenOnMount,ke=Z.placeholder,Be=Z.animate;return Q||Be==="close"?Mh:{height:ke.client.borderBox.height,width:ke.client.borderBox.width,margin:ke.client.margin}},Mf=function(Z){var Q=Z.isAnimatingOpenOnMount,ke=Z.placeholder,Be=Z.animate,Ge=Fd({isAnimatingOpenOnMount:Q,placeholder:ke,animate:Be});return{display:ke.display,boxSizing:"border-box",width:Ge.width,height:Ge.height,marginTop:Ge.margin.top,marginRight:Ge.margin.right,marginBottom:Ge.margin.bottom,marginLeft:Ge.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:Be!=="none"?rl.placeholder:null}};function Df(R){var Z=(0,g.useRef)(null),Q=sa(function(){!Z.current||(clearTimeout(Z.current),Z.current=null)},[]),ke=R.animate,Be=R.onTransitionEnd,Ge=R.onClose,ct=R.contextId,mt=(0,g.useState)(R.animate==="open"),Rt=mt[0],tn=mt[1];(0,g.useEffect)(function(){return Rt?ke!=="open"?(Q(),tn(!1),Ll):Z.current?Ll:(Z.current=setTimeout(function(){Z.current=null,tn(!1)}),Q):Ll},[ke,Rt,Q]);var $t=sa(function(Qt){Qt.propertyName==="height"&&(Be(),ke==="close"&&Ge())},[ke,Ge,Be]),Vt=Mf({isAnimatingOpenOnMount:Rt,animate:R.animate,placeholder:R.placeholder});return g.createElement(R.placeholder.tagName,{style:Vt,"data-rbd-placeholder-context-id":ct,onTransitionEnd:$t,ref:R.innerRef})}var yc=g.memo(Df),sf=g.createContext(null);function uh(R){R&&Bl(R)||Qr(!1)}function Dp(R){return typeof R=="boolean"}function Yh(R,Z){Z.forEach(function(Q){return Q(R)})}var C0=[function(Z){var Q=Z.props;Q.droppableId||Qr(!1),typeof Q.droppableId!="string"&&Qr(!1)},function(Z){var Q=Z.props;Dp(Q.isDropDisabled)||Qr(!1),Dp(Q.isCombineEnabled)||Qr(!1),Dp(Q.ignoreContainerClipping)||Qr(!1)},function(Z){var Q=Z.getDroppableRef;uh(Q())}],Qp=[function(Z){var Q=Z.props,ke=Z.getPlaceholderRef;if(!!Q.placeholder)var Be=ke()}],T0=[function(Z){var Q=Z.props;Q.renderClone||Qr(!1)},function(Z){var Q=Z.getPlaceholderRef;Q()&&Qr(!1)}];function S0(R){Zu(function(){Yh(R,C0),R.props.mode==="standard"&&Yh(R,Qp),R.props.mode==="virtual"&&Yh(R,T0)})}var A0=function(R){yn(Z,R);function Z(){for(var ke,Be=arguments.length,Ge=new Array(Be),ct=0;ct<Be;ct++)Ge[ct]=arguments[ct];return ke=R.call.apply(R,[this].concat(Ge))||this,ke.state={isVisible:Boolean(ke.props.on),data:ke.props.on,animate:ke.props.shouldAnimate&&ke.props.on?"open":"none"},ke.onClose=function(){ke.state.animate==="close"&&ke.setState({isVisible:!1})},ke}Z.getDerivedStateFromProps=function(Be,Ge){return Be.shouldAnimate?Be.on?{isVisible:!0,data:Be.on,animate:"open"}:Ge.isVisible?{isVisible:!0,data:Ge.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(Be.on),data:Be.on,animate:"none"}};var Q=Z.prototype;return Q.render=function(){if(!this.state.isVisible)return null;var Be={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(Be)},Z}(g.PureComponent),Jp={dragging:5e3,dropAnimating:4500},M0=function(Z,Q){return Q?rl.drop(Q.duration):Z?rl.snap:rl.fluid},D0=function(Z,Q){return Z?Q?Wc.opacity.drop:Wc.opacity.combining:null},Ip=function(Z){return Z.forceShouldAnimate!=null?Z.forceShouldAnimate:Z.mode==="SNAP"};function e0(R){var Z=R.dimension,Q=Z.client,ke=R.offset,Be=R.combineWith,Ge=R.dropping,ct=Boolean(Be),mt=Ip(R),Rt=Boolean(Ge),tn=Rt?bu.drop(ke,ct):bu.moveTo(ke),$t={position:"fixed",top:Q.marginBox.top,left:Q.marginBox.left,boxSizing:"border-box",width:Q.borderBox.width,height:Q.borderBox.height,transition:M0(mt,Ge),transform:tn,opacity:D0(ct,Rt),zIndex:Rt?Jp.dropAnimating:Jp.dragging,pointerEvents:"none"};return $t}function fv(R){return{transform:bu.moveTo(R.offset),transition:R.shouldAnimateDisplacement?null:"none"}}function hv(R){return R.type==="DRAGGING"?e0(R):fv(R)}function Dh(R,Z,Q){Q===void 0&&(Q=Ns);var ke=window.getComputedStyle(Z),Be=Z.getBoundingClientRect(),Ge=Ku(Be,ke),ct=nn(Ge,Q),mt={client:Ge,tagName:Z.tagName.toLowerCase(),display:ke.display},Rt={x:Ge.marginBox.width,y:Ge.marginBox.height},tn={descriptor:R,placeholder:mt,displaceBy:Rt,client:Ge,page:ct};return tn}function t0(R){var Z=Fu("draggable"),Q=R.descriptor,ke=R.registry,Be=R.getDraggableRef,Ge=R.canDragInteractiveElements,ct=R.shouldRespectForcePress,mt=R.isEnabled,Rt=Ti(function(){return{canDragInteractiveElements:Ge,shouldRespectForcePress:ct,isEnabled:mt}},[Ge,mt,ct]),tn=sa(function(Tn){var fr=Be();return fr||Qr(!1),Dh(Q,fr,Tn)},[Q,Be]),$t=Ti(function(){return{uniqueId:Z,descriptor:Q,options:Rt,getDimension:tn}},[Q,tn,Rt,Z]),Vt=(0,g.useRef)($t),Qt=(0,g.useRef)(!0);qa(function(){return ke.draggable.register(Vt.current),function(){return ke.draggable.unregister(Vt.current)}},[ke.draggable]),qa(function(){if(Qt.current){Qt.current=!1;return}var Tn=Vt.current;Vt.current=$t,ke.draggable.update($t,Tn)},[$t,ke.draggable])}function I0(R,Z,Q){Zu(function(){function ke(Ge){return"Draggable[id: "+Ge+"]: "}var Be=R.draggableId;Be||Qr(!1),typeof Be!="string"&&Qr(!1),el(R.index)||Qr(!1),R.mapped.type!=="DRAGGING"&&(uh(Q()),R.isEnabled&&(jc(Z,Be)||Qr(!1)))})}function L0(R){}function O0(R){R.preventDefault()}function Kh(R){var Z=(0,g.useRef)(null),Q=sa(function(Eo){Z.current=Eo},[]),ke=sa(function(){return Z.current},[]),Be=ku(Oo),Ge=Be.contextId,ct=Be.dragHandleUsageInstructionsId,mt=Be.registry,Rt=ku(sf),tn=Rt.type,$t=Rt.droppableId,Vt=Ti(function(){return{id:R.draggableId,index:R.index,type:tn,droppableId:$t}},[R.draggableId,R.index,tn,$t]),Qt=R.children,Tn=R.draggableId,fr=R.isEnabled,ei=R.shouldRespectForcePress,qr=R.canDragInteractiveElements,Pr=R.isClone,Ai=R.mapped,Yi=R.dropAnimationFinished;if(I0(R,Ge,ke),L0(Pr),!Pr){var ta=Ti(function(){return{descriptor:Vt,registry:mt,getDraggableRef:ke,canDragInteractiveElements:qr,shouldRespectForcePress:ei,isEnabled:fr}},[Vt,mt,ke,qr,ei,fr]);t0(ta)}var Ha=Ti(function(){return fr?{tabIndex:0,role:"button","aria-describedby":ct,"data-rbd-drag-handle-draggable-id":Tn,"data-rbd-drag-handle-context-id":Ge,draggable:!1,onDragStart:O0}:null},[Ge,ct,Tn,fr]),ja=sa(function(Eo){Ai.type==="DRAGGING"&&(!Ai.dropping||Eo.propertyName==="transform"&&Yi())},[Yi,Ai]),No=Ti(function(){var Eo=hv(Ai),xs=Ai.type==="DRAGGING"&&Ai.dropping?ja:null,_c={innerRef:Q,draggableProps:{"data-rbd-draggable-context-id":Ge,"data-rbd-draggable-id":Tn,style:Eo,onTransitionEnd:xs},dragHandleProps:Ha};return _c},[Ge,Ha,Tn,Ai,ja,Q]),Cs=Ti(function(){return{draggableId:Vt.id,type:Vt.type,source:{index:Vt.index,droppableId:Vt.droppableId}}},[Vt.droppableId,Vt.id,Vt.index,Vt.type]);return Qt(No,Ai.snapshot,Cs)}var n0=function(R,Z){return R===Z},r0=function(R){var Z=R.combine,Q=R.destination;return Q?Q.droppableId:Z?Z.droppableId:null},N0=function(Z){return Z.combine?Z.combine.draggableId:null},Lp=function(Z){return Z.at&&Z.at.type==="COMBINE"?Z.at.combine.draggableId:null};function Op(){var R=(0,Lo.Z)(function(Be,Ge){return{x:Be,y:Ge}}),Z=(0,Lo.Z)(function(Be,Ge,ct,mt,Rt){return{isDragging:!0,isClone:Ge,isDropAnimating:Boolean(Rt),dropAnimation:Rt,mode:Be,draggingOver:ct,combineWith:mt,combineTargetFor:null}}),Q=(0,Lo.Z)(function(Be,Ge,ct,mt,Rt,tn,$t){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:Rt,combineWith:tn,mode:Ge,offset:Be,dimension:ct,forceShouldAnimate:$t,snapshot:Z(Ge,mt,Rt,tn,null)}}}),ke=function(Ge,ct){if(Ge.isDragging){if(Ge.critical.draggable.id!==ct.draggableId)return null;var mt=Ge.current.client.offset,Rt=Ge.dimensions.draggables[ct.draggableId],tn=Sl(Ge.impact),$t=Lp(Ge.impact),Vt=Ge.forceShouldAnimate;return Q(R(mt.x,mt.y),Ge.movementMode,Rt,ct.isClone,tn,$t,Vt)}if(Ge.phase==="DROP_ANIMATING"){var Qt=Ge.completed;if(Qt.result.draggableId!==ct.draggableId)return null;var Tn=ct.isClone,fr=Ge.dimensions.draggables[ct.draggableId],ei=Qt.result,qr=ei.mode,Pr=r0(ei),Ai=N0(ei),Yi=Ge.dropDuration,ta={duration:Yi,curve:Mc.drop,moveTo:Ge.newHomeClientOffset,opacity:Ai?Wc.opacity.drop:null,scale:Ai?Wc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:Ge.newHomeClientOffset,dimension:fr,dropping:ta,draggingOver:Pr,combineWith:Ai,mode:qr,forceShouldAnimate:null,snapshot:Z(qr,Tn,Pr,Ai,ta)}}}return null};return ke}function cp(R){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:R,combineWith:null}}var up={mapped:{type:"SECONDARY",offset:Ns,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:cp(null)}};function dp(){var R=(0,Lo.Z)(function(ct,mt){return{x:ct,y:mt}}),Z=(0,Lo.Z)(cp),Q=(0,Lo.Z)(function(ct,mt,Rt){return mt===void 0&&(mt=null),{mapped:{type:"SECONDARY",offset:ct,combineTargetFor:mt,shouldAnimateDisplacement:Rt,snapshot:Z(mt)}}}),ke=function(mt){return mt?Q(Ns,mt,!0):null},Be=function(mt,Rt,tn,$t){var Vt=tn.displaced.visible[mt],Qt=Boolean($t.inVirtualList&&$t.effected[mt]),Tn=Jr(tn),fr=Tn&&Tn.draggableId===mt?Rt:null;if(!Vt){if(!Qt)return ke(fr);if(tn.displaced.invisible[mt])return null;var ei=gl($t.displacedBy.point),qr=R(ei.x,ei.y);return Q(qr,fr,!0)}if(Qt)return ke(fr);var Pr=tn.displacedBy.point,Ai=R(Pr.x,Pr.y);return Q(Ai,fr,Vt.shouldAnimate)},Ge=function(mt,Rt){if(mt.isDragging)return mt.critical.draggable.id===Rt.draggableId?null:Be(Rt.draggableId,mt.critical.draggable.id,mt.impact,mt.afterCritical);if(mt.phase==="DROP_ANIMATING"){var tn=mt.completed;return tn.result.draggableId===Rt.draggableId?null:Be(Rt.draggableId,tn.result.draggableId,tn.impact,tn.afterCritical)}return null};return Ge}var Gh=function(){var Z=Op(),Q=dp(),ke=function(Ge,ct){return Z(Ge,ct)||Q(Ge,ct)||up};return ke},R0={dropAnimationFinished:nl},P0=Pn(Gh,R0,null,{context:id,pure:!0,areStatePropsEqual:n0})(Kh);function i0(R){var Z=ku(sf),Q=Z.isUsingCloneFor;return Q===R.draggableId&&!R.isClone?null:g.createElement(P0,R)}function B0(R){var Z=typeof R.isDragDisabled=="boolean"?!R.isDragDisabled:!0,Q=Boolean(R.disableInteractiveElementBlocking),ke=Boolean(R.shouldRespectForcePress);return g.createElement(i0,(0,Wt.Z)({},R,{isClone:!1,isEnabled:Z,canDragInteractiveElements:Q,shouldRespectForcePress:ke}))}function pv(R){var Z=(0,g.useContext)(Oo);Z||Qr(!1);var Q=Z.contextId,ke=Z.isMovementAllowed,Be=(0,g.useRef)(null),Ge=(0,g.useRef)(null),ct=R.children,mt=R.droppableId,Rt=R.type,tn=R.mode,$t=R.direction,Vt=R.ignoreContainerClipping,Qt=R.isDropDisabled,Tn=R.isCombineEnabled,fr=R.snapshot,ei=R.useClone,qr=R.updateViewportMaxScroll,Pr=R.getContainerForClone,Ai=sa(function(){return Be.current},[]),Yi=sa(function(Lc){Be.current=Lc},[]),ta=sa(function(){return Ge.current},[]),Ha=sa(function(Lc){Ge.current=Lc},[]);S0({props:R,getDroppableRef:Ai,getPlaceholderRef:ta});var ja=sa(function(){ke()&&qr({maxScroll:G()})},[ke,qr]);sd({droppableId:mt,type:Rt,mode:tn,direction:$t,isDropDisabled:Qt,isCombineEnabled:Tn,ignoreContainerClipping:Vt,getDroppableRef:Ai});var No=g.createElement(A0,{on:R.placeholder,shouldAnimate:R.shouldAnimatePlaceholder},function(Lc){var uf=Lc.onClose,cd=Lc.data,wd=Lc.animate;return g.createElement(yc,{placeholder:cd,onClose:uf,innerRef:Ha,animate:wd,contextId:Q,onTransitionEnd:ja})}),Cs=Ti(function(){return{innerRef:Yi,placeholder:No,droppableProps:{"data-rbd-droppable-id":mt,"data-rbd-droppable-context-id":Q}}},[Q,mt,No,Yi]),Eo=ei?ei.dragging.draggableId:null,xs=Ti(function(){return{droppableId:mt,type:Rt,isUsingCloneFor:Eo}},[mt,Eo,Rt]);function _c(){if(!ei)return null;var Lc=ei.dragging,uf=ei.render,cd=g.createElement(i0,{draggableId:Lc.draggableId,index:Lc.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(wd,df){return uf(wd,df,Lc)});return z.createPortal(cd,Pr())}return g.createElement(sf.Provider,{value:xs},ct(Cs,fr),_c())}var a0=function(Z,Q){return Z===Q.droppable.type},F0=function(Z,Q){return Q.draggables[Z.draggable.id]},vv=function(){var Z={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},Q=(0,Wt.Z)({},Z,{shouldAnimatePlaceholder:!1}),ke=(0,Lo.Z)(function(ct){return{draggableId:ct.id,type:ct.type,source:{index:ct.index,droppableId:ct.droppableId}}}),Be=(0,Lo.Z)(function(ct,mt,Rt,tn,$t,Vt){var Qt=$t.descriptor.id,Tn=$t.descriptor.droppableId===ct;if(Tn){var fr=Vt?{render:Vt,dragging:ke($t.descriptor)}:null,ei={isDraggingOver:Rt,draggingOverWith:Rt?Qt:null,draggingFromThisWith:Qt,isUsingPlaceholder:!0};return{placeholder:$t.placeholder,shouldAnimatePlaceholder:!1,snapshot:ei,useClone:fr}}if(!mt)return Q;if(!tn)return Z;var qr={isDraggingOver:Rt,draggingOverWith:Qt,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:$t.placeholder,shouldAnimatePlaceholder:!0,snapshot:qr,useClone:null}}),Ge=function(mt,Rt){var tn=Rt.droppableId,$t=Rt.type,Vt=!Rt.isDropDisabled,Qt=Rt.renderClone;if(mt.isDragging){var Tn=mt.critical;if(!a0($t,Tn))return Q;var fr=F0(Tn,mt.dimensions),ei=Sl(mt.impact)===tn;return Be(tn,Vt,ei,ei,fr,Qt)}if(mt.phase==="DROP_ANIMATING"){var qr=mt.completed;if(!a0($t,qr.critical))return Q;var Pr=F0(qr.critical,mt.dimensions);return Be(tn,Vt,r0(qr.result)===tn,Sl(qr.impact)===tn,Pr,Qt)}if(mt.phase==="IDLE"&&mt.completed&&!mt.shouldFlush){var Ai=mt.completed;if(!a0($t,Ai.critical))return Q;var Yi=Sl(Ai.impact)===tn,ta=Boolean(Ai.impact.at&&Ai.impact.at.type==="COMBINE"),Ha=Ai.critical.droppable.id===tn;return Yi?ta?Z:Q:Ha?Z:Q}return Q};return Ge},gv={updateViewportMaxScroll:dn};function mv(){return document.body||Qr(!1),document.body}var Z0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:mv},o0=Pn(vv,gv,null,{context:id,pure:!0,areStatePropsEqual:n0})(pv);o0.defaultProps=Z0;var z0=f(84875),Ih=f.n(z0),fp=f(89300),W0=f.n(fp),U0=f(68901),s0=f(43520),Uu=f(24885),du=f.n(Uu),Xl={"en-US":{mulitCodeblock:{add:"Add",copysuccess:"Copy success!",copyfail:"Copy failed!",copycontent:"content is empty",wrap:"Auto wrap"}},"zh-CN":{mulitCodeblock:{add:"\u6DFB\u52A0",copysuccess:"\u590D\u5236\u6210\u529F\uFF01",copyfail:"\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",copycontent:"\u5185\u5BB9\u4E3A\u7A7A",wrap:"\u81EA\u52A8\u6362\u884C"}}};function If(R,Z){var Q=Z.langs,ke=Z.height,Be=Z.theme;function Ge(){var mt="";return Q.forEach(function(Rt,tn){mt+='<div class="mulit-code-block-header-item  '.concat(Be," ").concat(tn===0?"mulit-code-block-header-item-active":"",'">').concat(Rt.language,"</div>")}),'<div class="mulit-code-block-header">'.concat(mt,"</div>")}var ct='<div class="__qz-codeblock_view__ mulit-code-block mulit-code-block-view"'+'data-type="'.concat(R,'"')+'data-value="'.concat((0,v.it)(Z),'">')+"".concat(Ge())+'<div class="__qz-codeblock_view__contain mulit-code-block-content qz-code-block-editor-container"'+'style="height: '.concat(ke,';">')+'<div class="__qz-codeblock_view__scroll qz-codeblock-scroll"'+'style="height: '.concat(ke,'; overflow-y: scroll">')+"</div></div></div>";return ct}function jo(R){var Z=R.mirror,Q=R.editor,ke=(0,g.useRef)(null),Be=(0,g.useState)(!1),Ge=(0,E.Z)(Be,2),ct=Ge[0],mt=Ge[1],Rt=Q.language.get("mulitCodeblock");return(0,g.useEffect)(function(){if(!!Z){var tn=new(j())(ke.current,{text:function(){var Vt;return(Z==null||(Vt=Z.getValue)===null||Vt===void 0?void 0:Vt.call(Z))||Rt.copycontent}});return tn.on("success",ce()(function(){mt(!0),Y.ZP.success(Rt.copysuccess),setTimeout(function(){mt(!1)},1e3)},300)),tn.on("error",function(){return Y.ZP.error(Rt.copyfail)}),function(){return tn.destroy()}}},[Z]),g.createElement("div",{className:"mulit-codeblock-copy",ref:ke},ct?g.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"21759",width:"24",height:"24"},g.createElement("path",{d:"M725.333333 870.4h-512c-66.030933 0-102.4-36.369067-102.4-102.4V256c0-66.030933 36.369067-102.4 102.4-102.4h512c66.030933 0 102.4 36.369067 102.4 102.4v512c0 66.030933-36.369067 102.4-102.4 102.4z m-512-682.666667c-47.223467 0-68.266667 21.0432-68.266666 68.266667v512c0 47.223467 21.0432 68.266667 68.266666 68.266667h512c47.223467 0 68.266667-21.0432 68.266667-68.266667V256c0-47.223467-21.0432-68.266667-68.266667-68.266667h-512z","p-id":"21760",fill:"#6abf40"}),g.createElement("path",{d:"M470.186667 716.8a33.962667 33.962667 0 0 1-24.132267-10.001067l-171.52-171.52a34.133333 34.133333 0 1 1 48.264533-48.264533l147.387734 147.387733 402.5344-402.5344a34.133333 34.133333 0 1 1 48.264533 48.264534l-426.666667 426.666666A33.962667 33.962667 0 0 1 470.186667 716.8z","p-id":"21761",fill:"#6abf40"})):g.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"20676",width:"24",height:"24"},g.createElement("path",{d:"M780.6 127.2H354.4c-63 0-113.8 50.7-113.8 113.8v426.2c0 63 50.7 113.8 113.8 113.8h426.2c63 0 113.8-50.7 113.8-113.8V241c0-63-50.7-113.8-113.8-113.8z m52.4 537c0 29.7-24.3 55.4-55.4 55.4H357.4c-29.7 0-55.4-24.3-55.4-55.4V244c0-29.7 24.3-55.4 55.4-55.4h420.2c29.7 0 55.4 24.3 55.4 55.4v420.2z","p-id":"20677"}),g.createElement("path",{d:"M155.6 279.3c-15.2 0-27 11.8-28.6 25.5v473.5c3.6 65.2 57 116.3 123.1 116.3h464.6c15.1 0 27.4-12.3 28.8-27.4 0-16.4-13.7-28.8-28.8-28.8l-463.1 0.1c-37 0-67.2-30.2-67.2-67.2V308.1c0-16.4-13.7-28.8-28.8-28.8z","p-id":"20678"})))}var Zd=["abbott","abcdef","ambiance","ayu-dark","base16-dark","bespin","blackboard","cobalt","dracula","duotone-light","eclipse","elegant","hopscotch","idea","mbo","mdn-like","monokai","neat","neo","nord","seti","shadowfox","ttcn","twilight","yeti","yonce"],Np={plain:"Plain Text",bash:"Bash",basic:"Basic",c:"C",cpp:"text/x-c++src",csharp:"text/x-csharp",css:"css",curl:"Bash",dart:"Dart",diff:"Diff",erlang:"Erlang",git:"Git",dockerfile:"Dockerfile",go:"go",graphql:"GraphQL",groovy:"Groovy",html:"htmlmixed",http:"HTTP",java:"text/x-java",javascript:"text/javascript",json:"application/json",jsx:"JSX",katex:"KaTeX",kotlin:"Kotlin",less:"Less",markdown:"Markdown",matlab:"MATLAB",nginx:"Nginx",objectivec:"Objective-C",pascal:"Pascal",perl:"Perl",php:"text/x-php",powershell:"PowerShell",python:"python",r:"R",ruby:"Ruby",rust:"Rust",scala:"Scala",shell:"Shell",sql:"SQL",swift:"Swift",typescript:"text/typescript",vbnet:"vb",velocity:"velocity",xml:"XML",yaml:"YAML"},H0=["javascript","java","python","php"];function hl(R){return R[0].toUpperCase()+R.slice(1).toLowerCase()}var l0=function(Z){var Q=Z.value,ke=Q.langs[0],Be=(0,g.useState)(Q.langs),Ge=(0,E.Z)(Be,2),ct=Ge[0],mt=Ge[1],Rt=(0,g.useRef)(Q.langs),tn=(0,g.useState)(ke),$t=(0,E.Z)(tn,2),Vt=$t[0],Qt=$t[1],Tn=(0,g.useRef)(ke),fr=function(Pr){Rt.current=Pr,mt(Pr)},ei=function(Pr){Tn.current=Pr,Qt(Pr)};return{list:ct,current:Vt,listRef:Rt,currentRef:Tn,refreshList:fr,refreshCurrent:ei}};function Kc(R){var Z,Q=R.current,ke=R.list,Be=R.props,Ge=R.refreshList,ct=Be.editor,mt=Be.options,Rt=Be.value,tn=Be.init,$t=(0,g.useRef)(null),Vt=(0,g.useRef)(null),Qt=function(){var fr,ei,qr;if(!(!(0,v.iC)(ct)||!Vt||!$t.current)&&!ct.change.isComposing()){var Pr=((fr=Vt.current)===null||fr===void 0?void 0:fr.getValue())||"",Ai=((ei=ke.current)===null||ei===void 0?void 0:ei.map(function(Yi){var ta;return Yi.language===((ta=Q.current)===null||ta===void 0?void 0:ta.language)?(0,O.Z)((0,O.Z)({},Yi),{},{text:Pr}):Yi}))||[];Ge(Ai),mt==null||(qr=mt.onUpdateValue)===null||qr===void 0||qr.call(mt,{langs:Ai})}};return(0,g.useEffect)(function(){if(Vt.current){var Tn,fr,ei=Np[((Tn=Q.current)===null||Tn===void 0?void 0:Tn.language)||""];Vt.current.setOption("mode",ei),Vt.current.setValue(((fr=Q.current)===null||fr===void 0?void 0:fr.text)||"")}},[(Z=Q.current)===null||Z===void 0?void 0:Z.language]),(0,g.useEffect)(function(){var Tn,fr;if(!!$t.current){var ei=ne()($t.current,{value:(Tn=Q.current)===null||Tn===void 0?void 0:Tn.text,lineNumbers:!0,indentUnit:4,lineWrapping:Rt.wrap,autofocus:!1,dragDrop:!1,scrollbarStyle:"simple",viewportMargin:1/0,theme:Rt.theme,readOnly:!(0,v.iC)(ct)||ct.readonly,mode:Np[((fr=Q.current)===null||fr===void 0?void 0:fr.language)||""]});return Vt.current=ei,tn(ei),ei.on("focus",function(){var qr=mt.onFocus;qr&&qr()}),ei.on("keydown",function(qr,Pr){((0,v.P6)("mod+z",Pr)||(0,v.P6)("mod+y",Pr)||(0,v.P6)("mod+shift+z",Pr))&&Pr.stopPropagation();var Ai=qr.lineCount(),Yi=qr.getCursor(),ta=Yi.line,Ha=Yi.ch,ja=mt.onUpFocus,No=mt.onDownFocus,Cs=mt.onLeftFocus,Eo=mt.onRightFocus,xs=qr.getLine(ta);if(ta===Ai-1&&Ha===xs.length){if((0,v.P6)("down",Pr)||(0,v.P6)("ctrl+n",Pr)){No&&No(Pr);return}else if((0,v.P6)("right",Pr)||(0,v.P6)("shift+right",Pr)||(0,v.P6)("ctrl+e",Pr)||(0,v.P6)("ctrl+f",Pr)){Eo&&Eo(Pr);return}}ta===0&&Ha===0&&((0,v.P6)("up",Pr)||(0,v.P6)("ctrl+p",Pr)?ja&&ja(Pr):((0,v.P6)("left",Pr)||(0,v.P6)("shift+left",Pr)||(0,v.P6)("ctrl+b",Pr)||(0,v.P6)("ctrl+a",Pr))&&Cs&&Cs(Pr))}),ei.on("blur",function(){var qr=mt.onBlur;qr&&qr()}),v.tq?ei.on("touchstart",function(qr,Pr){var Ai=mt.onMouseDown;Ai&&Ai(Pr)}):ei.on("mousedown",function(qr,Pr){var Ai=mt.onMouseDown;Pr.button===2&&Pr.stopPropagation(),Ai&&Ai(Pr)}),ei.on("change",ce()(function(){!(0,v.iC)(ct)||Qt()},50)),(0,v.$)(".mulit-code-block").on("mousedown",function(){ei!=null&&ei.hasFocus()||setTimeout(function(){ei.focus()},0)}),function(){$t.current&&($t.current.innerText="")}}},[]),{ref:$t,mirror:Vt}}function Gf(R){var Z=R.ref,Q=R.mirror,ke=R.onUpdateValue,Be=(0,g.useRef)({isChose:!1,Y:0,H:0}),Ge=function(tn){tn.preventDefault(),Z.current&&(Be.current={isChose:!0,Y:tn.clientY,H:Z.current.offsetHeight})},ct=function(tn){if(Be.current.isChose&&Z.current){var $t=Be.current,Vt=$t.Y,Qt=$t.H,Tn="".concat(Math.max(Qt+tn.y-Vt,40),"px");Z.current.style.height=Tn,Q.current&&Q.current.setSize("auto",Tn)}},mt=function(){if(Z.current&&Be.current.isChose){var tn,$t;Be.current={isChose:!1,Y:0,H:(tn=Z.current)===null||tn===void 0?void 0:tn.offsetHeight},ke==null||ke({height:"".concat(($t=Z.current)===null||$t===void 0?void 0:$t.offsetHeight,"px")})}};return(0,g.useEffect)(function(){return document.addEventListener("mouseup",mt),document.addEventListener("mousemove",ct),function(){document.removeEventListener("mouseup",mt),document.removeEventListener("mousemove",ct)}},[]),{resizeMouseDown:Ge,dragRef:Be}}function qh(R){var Z=R.resizeMouseDown;return g.createElement("div",{className:"mulit-code-block-resize"},g.createElement("span",{className:"mulit-code-block-resize-btn",onMouseDown:Z},g.createElement("svg",{viewBox:"0 0 3413 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"8px",height:"6px"},g.createElement("path",{d:"M341.333333 341.333333h2730.666667a170.666667 170.666667 0 0 0 0-341.333333H341.333333a170.666667 170.666667 0 1 0 0 341.333333zM341.333333 1024h2730.666667a170.666667 170.666667 0 0 0 0-341.333333H341.333333a170.666667 170.666667 0 0 0 0 341.333333z"}))))}function Lh(R){var Z=R.list,Q=R.current,ke=R.initData,Be=R.refreshList,Ge=R.refreshCurrent,ct=ke.options,mt=ke.value,Rt=ke.editor,tn=!(0,v.iC)(Rt)||Rt.readonly,$t=Rt.language.get("mulitCodeblock"),Vt=mt.language.map(function(qr){return qr.toLowerCase()}),Qt=Vt.filter(function(qr){return!Z.map(function(Pr){return Pr.language}).includes(qr)}),Tn=function(Pr){var Ai,Yi={language:Pr,text:""},ta=Z.concat(Yi);Be(ta),Ge(Yi),ct==null||(Ai=ct.onUpdateValue)===null||Ai===void 0||Ai.call(ct,{langs:ta})},fr=function(Pr){var Ai,Yi=Z.filter(function(ja){return ja.language!==Pr});if(Q.language===Pr){var ta=(0,E.Z)(Z,1),Ha=ta[0];Ge(Ha)}Be(Yi),ct==null||(Ai=ct.onUpdateValue)===null||Ai===void 0||Ai.call(ct,{langs:Yi})},ei=function(Pr){var Ai=Pr.destination;Ai=Ai===void 0?{}:Ai;var Yi=Ai.index,ta=Pr.source.index;if(!W0()(Yi)){var Ha,ja=[Z[Yi],Z[ta]];Z[ta]=ja[0],Z[Yi]=ja[1],Be(Z),Ge(Z[Yi]),ct==null||(Ha=ct.onUpdateValue)===null||Ha===void 0||Ha.call(ct,{langs:Z})}};return g.createElement("div",{className:"mulit-code-block-header"},g.createElement(ji,{onDragEnd:ei,onDragStart:function(){return!1}},g.createElement(o0,{droppableId:"droppable-mulit-code-block",direction:"horizontal"},function(qr){return g.createElement("div",(0,O.Z)({className:"mulit-code-block-header-tool",ref:qr.innerRef},qr.droppableProps),Z==null?void 0:Z.map(function(Pr,Ai){return g.createElement(B0,{key:Pr.language,draggableId:Pr.language,index:Ai,isDragDisabled:tn},function(Yi){return g.createElement("div",(0,O.Z)((0,O.Z)((0,O.Z)({ref:Yi.innerRef},Yi.draggableProps),Yi.dragHandleProps),{},{className:Ih()("mulit-code-block-header-item",{"mulit-code-block-header-item-active":Q.language===Pr.language,"mulit-code-block-header-item-read":tn}),onClick:function(){Ge(Pr)}}),hl(Pr.language),!tn&&g.createElement(g.Fragment,null,Z&&Z.length>1&&g.createElement("span",{className:"data-icon data-icon-close mulit-code-block-header-item-close",onClick:function(Ha){Ha.stopPropagation(),fr(Pr.language)}}),g.createElement("span",{className:"data-icon data-icon-drag mulit-code-block-header-item-drag"})))})}),qr.placeholder)})),Boolean(Qt.length)&&!tn&&g.createElement(Mt.Z,{trigger:["click"],placement:"bottom",overlayStyle:{minWidth:"80px"},overlay:g.createElement(Jt.Z,{items:Qt.map(function(qr,Pr){return{key:Pr,label:g.createElement("div",{onClick:function(){return Tn(qr)}},hl(qr))}})})},g.createElement(_t.Z,{title:$t.add,placement:"right"},g.createElement("span",{className:"data-icon data-icon-plus-circle-o mulit-code-block-header-item-add"}))))}var lf=function(Z){var Q=Z.options,ke=Z.value,Be=Z.editor,Ge=l0(Z),ct=Ge.listRef,mt=Ge.currentRef,Rt=Ge.refreshList,tn=Ge.refreshCurrent,$t=Kc({props:Z,list:ct,current:mt,refreshList:Rt}),Vt=$t.ref,Qt=$t.mirror,Tn=Gf({ref:Vt,mirror:Qt,onUpdateValue:Q==null?void 0:Q.onUpdateValue}),fr=Tn.resizeMouseDown;return g.createElement("div",{className:"mulit-code-block"},g.createElement(jo,{mirror:Qt.current,editor:Be}),g.createElement(Lh,{initData:Z,list:ct.current,current:mt.current,refreshList:Rt,refreshCurrent:tn}),g.createElement("pre",{className:"mulit-code-block-content",style:{height:ke.height},ref:Vt}),g.createElement(qh,{resizeMouseDown:fr}))},dh=["container"];function Gc(R){var Z=R.theme,Q=R.onChange,ke=(0,g.useState)(Z),Be=(0,E.Z)(ke,2),Ge=Be[0],ct=Be[1],mt=function(tn){ct(tn||""),Q(tn)};return g.createElement(s0.Z,{size:"small",value:Ge,placeholder:"theme",style:{width:"100px"},onChange:mt,className:"qz-mulitcode-theme"},g.createElement(s0.Z.Option,{value:"default",name:"default"},"default"),Zd.map(function(Rt){return g.createElement(s0.Z.Option,{key:Rt,value:Rt,name:Rt},Rt)}))}function $h(R){var Z=R.container,Q=(0,U0.Z)(R,dh);z.render(g.createElement(Gc,(0,O.Z)({},Q)),Z)}var cf=(0,S.Z)("mulitCode"),ld=(0,S.Z)("container"),Xh=function(R){(0,p.Z)(Q,R);var Z=(0,d.Z)(Q);function Q(){var ke;(0,U.Z)(this,Q);for(var Be=arguments.length,Ge=new Array(Be),ct=0;ct<Be;ct++)Ge[ct]=arguments[ct];return ke=Z.call.apply(Z,[this].concat(Ge)),Object.defineProperty((0,m.Z)(ke),cf,{writable:!0,value:void 0}),Object.defineProperty((0,m.Z)(ke),ld,{writable:!0,value:void 0}),ke.defaultFocus=!1,ke}return(0,x.Z)(Q,[{key:"toolbar",value:function(){var Be=this;if(!(0,v.iC)(this.editor)||this.editor.readonly)return[];var Ge=this.editor.language.get("mulitCodeblock"),ct=this.getValue(),mt=ct.wrap,Rt=ct.theme;return[{type:"dnd"},{type:"copy"},{type:"delete"},{key:"select",type:"node",node:(0,v.$)("<div />"),didMount:function($t){setTimeout(function(){var Vt;$h({theme:Rt,onChange:function(Tn){Be.themeChangeRefreshHtml(Tn)},container:$t==null||(Vt=$t.get)===null||Vt===void 0?void 0:Vt.call($t)})},10)}},{key:"switch",type:"switch",content:Ge.wrap,checked:mt,getState:function(){var $t;return Boolean(($t=Be.getValue())===null||$t===void 0?void 0:$t.wrap)},onClick:function(){Be.wrapChangeRefreshHtml()}}]}},{key:"themeChangeRefreshHtml",value:function(Be){var Ge=(0,T.Z)(this,cf)[cf];Ge==null||Ge.setOption("theme",Be),this.setValue({theme:Be}),setTimeout(function(){Ge==null||Ge.focus()},16)}},{key:"wrapChangeRefreshHtml",value:function(){var Be=this.getValue(),Ge=(0,T.Z)(this,cf)[cf],ct=Be.wrap;Ge==null||Ge.setOption("lineWrapping",!ct),this.setValue({wrap:!ct}),setTimeout(function(){Ge==null||Ge.focus()},16)}},{key:"createOption",value:function(){var Be=this,Ge=this.editor;return{onUpdateValue:function(mt){var Rt=Be.getValue();Be.setValue((0,O.Z)((0,O.Z)({},Rt),mt))},onMouseDown:function(){Be.activated||Ge.card.activate(Be.root,v.Fp.MOUSE_DOWN)},onUpFocus:function(mt){var Rt;if(!!(0,v.iC)(Ge)){mt.preventDefault();var tn=Ge.change,$t=Ge.card,Vt=tn.range.get().cloneRange(),Qt=Be.root.prev(),Tn=Qt?$t.find(Qt):void 0;if(Tn!=null&&Tn.onSelectUp)Tn.onSelectUp(mt);else if(Qt)$t.focusPrevBlock(Be,Vt,!1),tn.range.select(Vt);else{Be.focus(Vt,!0),tn.range.select(Vt);return}Be.activate(!1),(Rt=Be.toolbarModel)===null||Rt===void 0||Rt.hide()}},onDownFocus:function(mt){var Rt;if(!!(0,v.iC)(Ge)){mt.preventDefault();var tn=Ge.change,$t=Ge.card,Vt=tn.range.get().cloneRange(),Qt=Be.root.next(),Tn=Qt?$t.find(Qt):void 0;if(Tn!=null&&Tn.onSelectDown)Tn.onSelectDown(mt);else if(Qt)$t.focusNextBlock(Be,Vt,!1),tn.range.select(Vt);else{Be.focus(Vt,!1),tn.range.select(Vt);return}Be.activate(!1),(Rt=Be.toolbarModel)===null||Rt===void 0||Rt.hide()}},onLeftFocus:function(mt){var Rt;if(!!(0,v.iC)(Ge)){mt.preventDefault();var tn=Ge.change,$t=tn.range.get().cloneRange();Be.focus($t,!0),tn.range.select($t),Be.activate(!1),(Rt=Be.toolbarModel)===null||Rt===void 0||Rt.hide()}},onRightFocus:function(mt){var Rt;if(!!(0,v.iC)(Ge)){mt.preventDefault();var tn=Ge.change,$t=tn.range.get().cloneRange();Be.focus($t,!1),tn.range.select($t),Be.activate(!1),(Rt=Be.toolbarModel)===null||Rt===void 0||Rt.hide()}}}}},{key:"render",value:function(Be){return(0,T.Z)(this,ld)[ld]=(0,v.$)("<div>Loading</div>"),this.defaultFocus=Be!=null?Be:!1,(0,T.Z)(this,ld)[ld]}},{key:"didRender",value:function(){var Be=this,Ge,ct;(0,M.Z)((0,D.Z)(Q.prototype),"didRender",this).call(this);var mt=this.getValue(),Rt=this.editor;z.render(g.createElement(lf,{init:function($t){(0,T.Z)(Be,cf)[cf]=$t,Be.defaultFocus&&$t.focus()},value:mt,editor:Rt,options:this.createOption()}),(Ge=(0,T.Z)(this,ld)[ld])===null||Ge===void 0||(ct=Ge.get)===null||ct===void 0?void 0:ct.call(Ge))}},{key:"destroy",value:function(){var Be;(0,M.Z)((0,D.Z)(Q.prototype),"destroy",this).call(this);var Ge=(Be=(0,T.Z)(this,ld)[ld])===null||Be===void 0?void 0:Be.get();Ge&&z.unmountComponentAtNode(Ge)}}],[{key:"cardName",get:function(){return"mulit_codeblock"}},{key:"cardType",get:function(){return v.eT.BLOCK}},{key:"autoSelected",get:function(){return!1}},{key:"singleSelectable",get:function(){return!1}},{key:"lazyRender",get:function(){return!0}}]),Q}(v.Zb);function c0(R){var Z={langs:[{language:"javascript",text:""}],language:["javascript"],wrap:!1,theme:"default",height:"auto"};R.use(du(),"code",{validate:function(ke){return ke.trim().match(/^code(.*)/)},render:function(ke,Be){var Ge=ke[Be].info.trim().match(/^code\((.*)\)/);if(ke[Be].nesting===1){if(Ge){var ct=Ge[1]?Ge[1].split(","):[];ct&&ct.length>0&&(Z.langs=[{language:ct[0],text:""}],Z.language=ct)}return'<div data-type="mulit_codeblock" data-value="'.concat((0,v.it)(Z),'">')}else return"</div>"}})}function hp(R,Z){Z===void 0&&(Z={});var Q=Z.insertAt;if(!(!R||typeof document=="undefined")){var ke=document.head||document.getElementsByTagName("head")[0],Be=document.createElement("style");Be.type="text/css",Q==="top"&&ke.firstChild?ke.insertBefore(Be,ke.firstChild):ke.appendChild(Be),Be.styleSheet?Be.styleSheet.cssText=R:Be.appendChild(document.createTextNode(R))}}var Rp=`.mulit-code-block {
	position: relative;
	margin-bottom: 8px;
}

.mulit-code-block:hover .mulit-code-block-resize,
.mulit-code-block:hover .mulit-codeblock-copy {
	display: flex;

}

.mulit-codeblock-copy {
	position: absolute;
	top: 44px;
	right: 0;
	width: 24px;
	height: 24px;
	display: none;
	cursor: pointer;
	align-items: center;
	justify-content: center;
	background: rgba(0, 0, 0, .7);
	border-radius: 2px;
	z-index: 10;
}

.mulit-codeblock-copy svg {
	width: 20px;
	height: 20px;
	fill: #fff;
}

.mulit-code-block-header {
	display: flex;
    border-radius: 4px;
    overflow: hidden;
    align-items: center;
    overflow-x: auto;
}

.mulit-code-block-header .mulit-code-block-header-item-add {
	cursor: pointer;
	color: #595959;
}

.mulit-code-block-header .mulit-code-block-header-tool {
	display: flex;
	height: 38px;
}

.mulit-code-block-header-item {
	height: 38px;
	line-height: 38px;
	padding: 0 12px;
	cursor: -webkit-grab;
	cursor: grab;
	min-width: 110px;
	box-sizing: border-box;
	text-align: center;
	transition: .3 all;
	position: relative;
	margin-right: 8px;
	background: rgb(250, 250, 250);
}

.mulit-code-block-header-item:hover {
	border-radius: 4px;
	background: rgba(245, 245, 245, .8);
}

.mulit-code-block-header-item:hover .mulit-code-block-header-item-close,
.mulit-code-block-header-item:hover .mulit-code-block-header-item-drag {
	display: block;
	font-size: 12px;
}

.mulit-code-block-header-item.mulit-code-block-header-item-active {
	background: rgb(240, 240, 240);
	border-radius: 4px;
}

.mulit-code-block-header-item-close {
	font-size: 16px;
	line-height: 16px;
	color: #999;
	position: absolute;
	top: 2px;
	right: 2px;
	display: none;
	cursor: pointer;
}

.mulit-code-block-header-item-drag {
	font-size: 12px;
	color: #aaa;
	position: absolute;
	top: 0;
	left: 1px;
	display: none;
}

.mulit-code-block-content {
	min-height: 40px;
	background: #f9f9f9;
	border-radius: 4px;
	position: relative;
}

.mulit-code-block-resize {
	position: absolute;
	bottom: -3px;
	right: 0;
	left: 0;
	margin: 0 auto;
	z-index: 2;
	display: none;
	align-items: center;
	justify-content: center;
}

.mulit-code-block-resize .mulit-code-block-resize-btn {
	background: #d9dbdd;
	border-radius: 3px;
	height: 6px;
	padding: 0 50px;
	display: block;
}

.mulit-code-block-resize-btn svg {
	display: block;
	color: #999;
}

.mulit-code-block-resize-btn:hover {
	cursor: row-resize;
}
/* \u9ED8\u8BA4\u4EE3\u7801\u6837\u5F0F */

.am-engine .cm-s-default .cm-header,
.am-engine-view .cm-s-default .cm-header {
     color: blue;

}

.am-engine .cm-s-default .cm-quote,
.am-engine-view .cm-s-default .cm-quote {
     color: #090;

}

.am-engine .cm-negative,
.am-engine-view .cm-negative {
     color: #d44;

}

.am-engine .cm-positive,
.am-engine-view .cm-positive {
     color: #292;

}

.am-engine .cm-header,
.am-engine-view .cm-header,
.am-engine .cm-strong,
.am-engine-view .cm-strong {
     font-weight: bold;

}

.am-engine .cm-em,
.am-engine-view .cm-em {
     font-style: italic;

}

.am-engine .cm-link,
.am-engine-view .cm-link {
     text-decoration: underline;

}

.am-engine .cm-strikethrough,
.am-engine-view .cm-strikethrough {
     text-decoration: line-through;

}

.am-engine .cm-s-default .cm-keyword,
.am-engine-view .cm-s-default .cm-keyword {
     color: #d73a49;

}

.am-engine .cm-s-default .cm-atom,
.am-engine-view .cm-s-default .cm-atom {
     color: #905;

}

.am-engine .cm-s-default .cm-number,
.am-engine-view .cm-s-default .cm-number {
     color: #005cc5;

}

.am-engine .cm-s-default .cm-def,
.am-engine-view .cm-s-default .cm-def {
     color: #005cc5;

}

.am-engine .cm-s-default .cm-variable-2,
.am-engine-view .cm-s-default .cm-variable-2 {
     color: #005cc5;

}

.am-engine .cm-s-default .cm-variable-3,
.am-engine-view .cm-s-default .cm-variable-3,
.am-engine .cm-s-default .cm-type,
.am-engine-view .cm-s-default .cm-type {
     color: #22863a;

}

.am-engine .cm-s-default .cm-comment,
.am-engine-view .cm-s-default .cm-comment {
     color: #6a737d;

}

.am-engine .cm-s-default .cm-string,
.am-engine-view .cm-s-default .cm-string {
     color: #690;

}

.am-engine .cm-s-default .cm-string-2,
.am-engine-view .cm-s-default .cm-string-2 {
     color: #690;

}

.am-engine .cm-s-default .cm-meta,
.am-engine-view .cm-s-default .cm-meta {
     color: #1f7f9a;

}

.am-engine .cm-s-default .cm-qualifier,
.am-engine-view .cm-s-default .cm-qualifier {
     color: #555;

}

.am-engine .cm-s-default .cm-builtin,
.am-engine-view .cm-s-default .cm-builtin {
     color: #6f42c1;

}

.am-engine .cm-s-default .cm-bracket,
.am-engine-view .cm-s-default .cm-bracket {
     color: #997;

}

.am-engine .cm-s-default .cm-tag,
.am-engine-view .cm-s-default .cm-tag {
     color: #22863a;

}

.am-engine .cm-s-default .cm-attribute,
.am-engine-view .cm-s-default .cm-attribute {
     color: #6f42c1;

}

.am-engine .cm-s-default .cm-hr,
.am-engine-view .cm-s-default .cm-hr {
     color: #999;

}

.am-engine .cm-s-default .cm-link,
.am-engine-view .cm-s-default .cm-link {
     color: #00c;

}

.am-engine .cm-s-default .cm-error,
.am-engine-view .cm-s-default .cm-error {
     color: #f00;

}

.am-engine .cm-invalidchar,
.am-engine-view .cm-invalidchar {
     color: #f00;

}

.am-engine .cm-s-default .cm-operator,
.am-engine-view .cm-s-default .cm-operator {
     color: #d73a49;

}

.am-engine .cm-s-default .cm-property,
.am-engine-view .cm-s-default .cm-property {
     color: #005cc5;

}
`;hp(Rp);var Oh=function(R){(0,p.Z)(Q,R);var Z=(0,d.Z)(Q);function Q(){var ke;(0,U.Z)(this,Q);for(var Be=arguments.length,Ge=new Array(Be),ct=0;ct<Be;ct++)Ge[ct]=arguments[ct];return ke=Z.call.apply(Z,[this].concat(Ge)),ke.markdownIt=function(mt){ke.options.markdown!==!1&&c0(mt)},ke.pasteSchema=function(mt){mt.add({type:"block",name:"div",attributes:{"data-type":{required:!0,value:Xh.cardName},"data-value":"*"}})},ke.pasteHtml=function(mt){var Rt=(0,m.Z)(ke),tn=Rt.editor;if(!(!(0,v.iC)(tn)||tn.readonly)){var $t=Xh.cardName;if(mt.isElement()){var Vt=mt.attributes("data-type");if(Vt===$t){var Qt=mt.attributes("data-value"),Tn=(0,v.RW)(Qt);return tn.card.replaceNode(mt,$t,Tn),mt.remove(),!1}}return!0}},ke.parseHtml=function(mt){var Rt=Xh.cardName;mt.find("[".concat(v.Jr,'="').concat(Rt,'"],[').concat(v.mV,'="').concat(Rt,'"]')).each(function(tn){var $t=(0,v.$)(tn),Vt=ke.editor.card.find($t),Qt=Vt==null?void 0:Vt.getValue();if(Qt){$t.empty();var Tn=(0,v.$)(If(Rt,Qt));$t.replaceWith(Tn)}else $t.remove()})},ke}return(0,x.Z)(Q,[{key:"init",value:function(){var Be=this.editor;Be.language.add(Xl),Be.on("parse:html",this.parseHtml),Be.on("paste:schema",this.pasteSchema),Be.on("paste:each",this.pasteHtml),Be.on("markdown-it",this.markdownIt)}},{key:"execute",value:function(){var Be=this.editor,Ge=this.options;if(!(!(0,v.iC)(Be)||Be.readonly)){var ct=Be.card,mt=Ge.language,Rt={langs:[{language:"javascript",text:""}],language:H0};mt&&mt.length&&(Rt.langs=[{language:mt[0],text:""}],Rt.language=mt),ct.insert(Xh.cardName,(0,O.Z)((0,O.Z)({},Rt),{},{wrap:!1,theme:"default",height:"auto"}),!0)}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+option+m"}},{key:"destroy",value:function(){var Be=this.editor;Be.off("parse:html",this.parseHtml),Be.off("paste:schema",this.pasteSchema),Be.off("paste:each",this.pasteHtml)}}],[{key:"pluginName",get:function(){return"mulit_codeblock"}}]),Q}(v.Sy),Qh=Oh},14607:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=function(D){(0,p.Z)(S,D);var T=(0,d.Z)(S);function S(){var g;(0,O.Z)(this,S);for(var z=arguments.length,E=new Array(z),Y=0;Y<z;Y++)E[Y]=arguments[Y];return g=T.call.apply(T,[this].concat(E)),g.tagName="ol",g.attributes={start:"@var0","data-indent":"@var1"},g.variable={"@var0":"@number","@var1":"@number"},g.allowIn=["blockquote","$root"],g.markdownIt=function(q){g.options.markdown!==!1&&q.enable("list")},g}return(0,U.Z)(S,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(S.prototype),"init",this).call(this);var z=this.editor;(0,v.iC)(z)&&z.on("markdown-it",this.markdownIt)}},{key:"schema",value:function(){var z=(0,x.Z)((0,m.Z)(S.prototype),"schema",this).call(this);return[z,{name:"ol",type:"block"},{name:"li",type:"block",allowIn:["ol"]}]}},{key:"isCurrent",value:function(z){var E=this.editor.list;return!z.hasClass(E.CUSTOMZIE_UL_CLASS)&&z.name==="ol"}},{key:"execute",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,E=this.editor;if(!!(0,v.iC)(E)){var Y=E.change,q=E.list,j=E.block;q.split();var le=Y.range.get(),ce=j.findBlocks(le);if(ce){var se=le.createSelection();q.getPluginNameByNodes(ce)==="orderedlist"?q.unwrap(ce):q.toNormal(ce,"ol",z),se.move(),Y.range.select(le),q.merge()}}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+7"}},{key:"destroy",value:function(){this.editor.off("markdown-it",this.markdownIt)}}],[{key:"pluginName",get:function(){return"orderedlist"}}]),S}(v.BX);Ce.Z=M},60977:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998);function d(T,S){S===void 0&&(S={});var g=S.insertAt;if(!(!T||typeof document=="undefined")){var z=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",g==="top"&&z.firstChild?z.insertBefore(E,z.firstChild):z.appendChild(E),E.styleSheet?E.styleSheet.cssText=T:E.appendChild(document.createTextNode(T))}}var v=`.am-engine.data-paintformat-mode,\r
.am-engine-view.data-paintformat-mode {\r
    cursor: text;\r
    cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAABGdBTUEAALGPC/xhBQAAATtJREFUSA3dlTFLA0EQhU+jlSkEG63EYGdlZZFG7QUbSyG/QP/C/Q0rqzQWQX+BwUKwtrexEFRQtFSI35NZWDa3soOHhQ8eM/v2zWw2N9xVVVUdwXUYoFxaq5il2wa8hvtG5dJaxYx16xFvLN8i3lmehiFC6Y94wbsTGsxZosajKA/7aewjrKZiyTocJO9DSYHT82r+YXyQs0eRfYBrD/Y1DB58OMyfeM/hrWq8N9qlZkmFBXiPPd6D7ikWUxwjrKWirTeJkzDeNYttKIxhDUuxiFGjfAnfMkUX3hs19emYqFt9P48mU6zVLEQPFjCfwgk8gyuwEd6pS5t0EQYmHhCXLZ8Kvz1oqmFO+H8HxVOXfZC5vwNd46y3xbx5ni1mQ4+dJ6NyDw4xX0GN9484YfcRhg+fcmmt408+5V99wSyVTWN94gAAAABJRU5ErkJggg==) 5 10, text;\r
}`;d(v);var M="data-paintformat-mode",D=function(T){(0,x.Z)(g,T);var S=(0,m.Z)(g);function g(){var z;(0,O.Z)(this,g);for(var E=arguments.length,Y=new Array(E),q=0;q<E;q++)Y[q]=arguments[q];return z=S.call.apply(S,[this].concat(Y)),z.activeMarks=void 0,z.activeBlocks=void 0,z.type=void 0,z.event=void 0,z.isFormat=!1,z.onBeforeCommandExecute=function(j){j!=="paintformat"&&!z.isFormat&&z.event&&z.removeActiveNodes(z.editor.container[0].ownerDocument)},z.onContainerMouseUp=function(j){if(!(!z.activeMarks||!j.target)){var le=z.editor;if(le.card.closest((0,p.$)(j.target))){z.removeActiveNodes(le.container[0].ownerDocument);return}z.isFormat=!0,z.paintFormat(z.activeMarks,z.activeBlocks),z.isFormat=!1,z.type==="single"&&z.removeActiveNodes(le.container[0].ownerDocument)}},z}return(0,U.Z)(g,[{key:"init",value:function(){var E=this.editor;!(0,p.iC)(E)||(E.on("beforeCommandExecute",this.onBeforeCommandExecute),E.container.on("mouseup",this.onContainerMouseUp))}},{key:"removeActiveNodes",value:function(E){(0,p.mW)(E)&&(E=(0,p.$)(E));var Y=this.editor;Y.container.removeClass(M),this.activeMarks=void 0,this.activeBlocks=void 0,this.event&&(E.off("keydown",this.event),this.event=void 0),(0,p.iC)(Y)&&Y.trigger("select")}},{key:"bindEvent",value:function(E){var Y=this,q=E[0].ownerDocument,j=function le(ce){ce.metaKey||ce.ctrlKey||ce.shiftKey||(Y.event=void 0,(ce.key==="Escape"||ce.keyCode===27)&&(E.off("keydown",le),q&&Y.removeActiveNodes(q)))};q&&((0,p.$)(q).on("keydown",j),this.event=j)}},{key:"paintFormat",value:function(E,Y){var q=this,j=this.editor;if(!!(0,p.iC)(j)){var le=j.change,ce=j.command,se=j.block,ne=le.range.get(),De=this.options.removeCommand||"removeformat";if(ne.collapsed){var we=(0,p.$)("<img ".concat(p.Zi,'="').concat(p.UI,'" role="format-dummy" style="display: none;" />'));ne.insertNode(we[0]);var je=se.closest(ne.startNode);ne.select(je,!0),le.range.select(ne),typeof De=="function"?De(ne):ce.execute(De),this.paintMarks(E);var dt=se.getBlocks(ne);Y&&dt.forEach(function(lt){q.paintBlocks(lt,Y)}),we=je.find('img[role="format-dummy"]'),ne.select(we),ne.collapse(!0),we.remove(),le.apply(ne)}else{typeof De=="function"?De(ne):ce.execute(De),this.paintMarks(E);var Qe=se.getBlocks(ne);Y&&Qe.forEach(function(lt){q.paintBlocks(lt,Y)})}j.mark.merge(ne)}}},{key:"paintMarks",value:function(E){for(var Y=this.editor,q=Y.mark,j=E.length-1;j>=0;j--){var le=E[j];q.wrap(Y.node.clone(le,!1,!1))}}},{key:"paintBlocks",value:function(E,Y){var q=this,j=this.editor;if(!(!(0,p.iC)(j)||!E.inEditor())){var le=j.node,ce=j.change,se=j.block,ne=ce.range.get(),De=ne.createSelection("removeformat");Y.forEach(function(we){if(!!E.inEditor()){if(q.options.paintBlock){var je=q.options.paintBlock(E,we);if(je===!1)return}if(we.name!==E.name){if(ne.select(E).shrinkToElementNode(),ce.blocks=[E],we.name==="p"){var dt=se.findPlugin(E);dt&&dt.execute(we.name)}else if(le.isRootBlock(we)){var Qe=se.findPlugin(we);Qe&&Qe.execute(we.name)}else if(le.isList(we)&&we.name!=="li"){var lt=se.findPlugin(we),Te=se.findPlugin(E.name==="li"?E.parent():E);lt&&Te!==lt&&lt.execute()}}var Je=we.css();Object.keys(Je).length>0&&se.setBlocks({style:Je})}}),De.move()}}},{key:"execute",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"single",Y=this.editor;if(!!(0,p.iC)(Y)){if(this.activeMarks){this.removeActiveNodes(Y.container);return}this.type=E,this.bindEvent(Y.container);var q=Y.change,j=Y.mark,le=Y.block,ce=q.range.get();this.activeMarks=j.findMarks(ce),this.activeBlocks=le.findBlocks(ce),Y.trigger("select"),Y.container.addClass("data-paintformat-mode")}}},{key:"queryState",value:function(){return!!this.activeMarks}},{key:"destroy",value:function(){var E=this.editor;E.off("beforeCommandExecute",this.onBeforeCommandExecute),E.container.off("mouseup",this.onContainerMouseUp)}}],[{key:"pluginName",get:function(){return"paintformat"}}]),g}(p.Sy);Ce.Z=D},49621:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998);function M(q,j){j===void 0&&(j={});var le=j.insertAt;if(!(!q||typeof document=="undefined")){var ce=document.head||document.getElementsByTagName("head")[0],se=document.createElement("style");se.type="text/css",le==="top"&&ce.firstChild?ce.insertBefore(se,ce.firstChild):ce.appendChild(se),se.styleSheet?se.styleSheet.cssText=q:se.appendChild(document.createTextNode(q))}}var D=`.am-engine blockquote, .am-engine-view blockquote {\r
    margin: 5px 0 5px 0;\r
    border-left: 3px solid #eee;\r
    color: #8C8C8C;\r
}\r
\r
.am-engine blockquote + blockquote, .am-engine-view blockquote + blockquote {\r
    margin-top: -5px;\r
}\r
\r
.am-engine blockquote > *, .am-engine-view blockquote > * {\r
    margin-left: 14px;\r
    color: #8C8C8C;\r
}\r
\r
.am-engine blockquote *, .am-engine-view blockquote * {\r
    color: #8C8C8C;\r
}\r
\r
.am-engine blockquote a, .am-engine blockquote a:hover, .am-engine-view blockquote a, .am-engine-view blockquote a:hover {\r
  color: #1890ff !important;\r
}`;M(D);var T="parse:html",S="keydown:backspace",g="keydown:enter",z="paste:each",E="markdown-it",Y=function(q){(0,p.Z)(le,q);var j=(0,d.Z)(le);function le(){var ce;(0,O.Z)(this,le);for(var se=arguments.length,ne=new Array(se),De=0;De<se;De++)ne[De]=arguments[De];return ce=j.call.apply(j,[this].concat(ne)),ce.tagName="blockquote",ce.canMerge=!0,ce.pasteEach=function(we){var je;we.isText()&&((je=we.parent())===null||je===void 0?void 0:je.name)===ce.tagName&&ce.editor.node.wrap(we,(0,v.$)("<p></p>"))},ce.markdownIt=function(we){ce.options.markdown!==!1&&we.enable("blockquote")},ce.onBackspace=function(we){var je=ce.editor;if(!!(0,v.iC)(je)){var dt=je.change,Qe=je.node,lt=dt.range.get(),Te=je.block,Je=Te.isLastOffset(lt,"end");if(Je&&!lt.collapsed){var te=Te.closest(lt.startNode),fe=Te.closest(lt.endNode),ue=te.parent(),ae=fe.parent();if(ue&&ae&&ae.name==="blockquote"&&!ue.equal(ae)){ae.remove();return}}if(!!lt.collapsed){var de=Te.isFirstOffset(lt,"start");if(!!de){var ve=Te.closest(lt.startNode),J=ve.parent();if(J&&J.name==="blockquote"&&Qe.isBlock(ve)){if(we.preventDefault(),ve.prevElement())dt.mergeAfterDelete(ve);else if(Qe.isEmpty(J)){var X=(0,v.$)("<p><br/></p>");J.replaceWith(X),lt.select(X,!0).collapse(!1),dt.apply(lt)}else Te.unwrap("<blockquote />");return!1}}}}},ce.onEnter=function(we){var je=ce.editor;if(!!(0,v.iC)(je)){var dt=je.change,Qe=je.block,lt=dt.range.get(),Te=Qe.closest(lt.endNode),Je=Te.parent();if((Je==null?void 0:Je.name)===ce.tagName&&Te.name==="p"&&Te.nextElement())return we.preventDefault(),Qe.insertOrSplit(lt,Te),!1}},ce.parseHtml=function(we){we.find("blockquote").css({"margin-top":"5px","margin-bottom":"5px","padding-left":"1em","margin-left":"0px","border-left":"3px solid #eee",opacity:"0.6"})},ce.pasteHtml=function(we){var je=ce.editor;if(!!(0,v.iC)(je)){if(we.name===ce.tagName){var dt=je.node;return we.css("padding-left",""),we.css("text-indent",""),dt.isEmpty(we)&&we.empty().append("<p><br/></p>"),je.normalize(we),!1}return!0}},ce}return(0,U.Z)(le,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(le.prototype),"init",this).call(this);var se=this.editor;se.schema.addAllowIn(this.tagName),se.on(T,this.parseHtml),(0,v.iC)(se)&&(se.on(z,this.pasteHtml),se.on(S,this.onBackspace),se.on(g,this.onEnter),se.on(z,this.pasteEach),se.on(E,this.markdownIt))}},{key:"execute",value:function(){var se=this.editor;if(!!(0,v.iC)(se)){var ne=se.change,De=se.block,we=se.node;if(!this.queryState())De.wrap("<".concat(this.tagName," />"));else{var je=ne.range.get(),dt=ne.blocks[0].closest(this.tagName),Qe=je.createSelection();we.unwrap(dt),Qe.move(),ne.range.select(je);return}}}},{key:"queryState",value:function(){var se=this.editor;if(!!(0,v.iC)(se)){var ne=se.change,De=ne.blocks;if(De.length===0)return!1;var we=De[0].closest(this.tagName);return this.isSelf(we)}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+u"}},{key:"destroy",value:function(){var se=this.editor;se.off(T,this.parseHtml),(0,v.iC)(se)&&(se.off(z,this.pasteHtml),se.off(S,this.onBackspace),se.off(g,this.onEnter),se.off(z,this.pasteEach),se.off(E,this.markdownIt))}}],[{key:"pluginName",get:function(){return"quote"}}]),le}(v.AT);Ce.Z=Y},95755:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=function(v){(0,x.Z)(D,v);var M=(0,m.Z)(D);function D(){return(0,O.Z)(this,D),M.apply(this,arguments)}return(0,U.Z)(D,[{key:"execute",value:function(){var S=this.editor;!(0,p.iC)(S)||S.readonly||S.history.redo()}},{key:"queryState",value:function(){var S=this.editor;if(!(!(0,p.iC)(S)||S.readonly))return S.history.hasRedo()}},{key:"hotkey",value:function(){return this.options.hotkey||["mod+y","shift+mod+y"]}}],[{key:"pluginName",get:function(){return"redo"}}]),D}(p.Sy);Ce.Z=d},53413:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=function(v){(0,x.Z)(D,v);var M=(0,m.Z)(D);function D(){return(0,O.Z)(this,D),M.apply(this,arguments)}return(0,U.Z)(D,[{key:"execute",value:function(){var S=this.editor;if(!!(0,p.iC)(S)){var g=S.change,z=S.block,E=S.mark,Y=S.inline,q=z,j=g.range.get(),le=q.getBlocks(j),ce=E.findMarks(j),se=Y.findInlines(j);if(ce.length>0)E.unwrap();else if(se.length>0)Y.unwrap();else{var ne=j.createSelection("removeformat");le.forEach(function(De){var we=q.findPlugin(De.name==="li"?De.parent():De);we&&(j.select(De).shrinkToElementNode(),we.execute()),De.removeAttributes("style")}),ne.move()}}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+\\"}}],[{key:"pluginName",get:function(){return"removeformat"}}]),D}(p.Sy);Ce.Z=d},35397:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d="keydown:all",v=function(M){(0,x.Z)(T,M);var D=(0,m.Z)(T);function T(){var S;(0,O.Z)(this,T);for(var g=arguments.length,z=new Array(g),E=0;E<g;E++)z[E]=arguments[E];return S=D.call.apply(D,[this].concat(z)),S.onSelectAll=function(Y){var q=S.editor.command;Y.preventDefault(),q.execute("selectall")},S}return(0,U.Z)(T,[{key:"init",value:function(){this.editor.on(d,this.onSelectAll)}},{key:"execute",value:function(){var g=this.editor;if(!!(0,p.iC)(g)){var z=g.change,E=z.range.get(),Y=E.startNode.closest(p.Su);Y.length>0?E.select(Y,!0):E.select(g.container,!0),z.range.select(E),g.trigger("select")}}},{key:"destroy",value:function(){this.editor.off(d,this.onSelectAll)}}],[{key:"pluginName",get:function(){return"selectall"}}]),T}(p.Sy);Ce.Z=v},87433:function(ut,Ce,f){"use strict";f.d(Ce,{P:function(){return ne}});var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=f(75782),v=f(60790),M=f(34203),D=f(29129),T=f(85462),S=f(11997),g=(0,S.Z)("color"),z=(0,S.Z)("value"),E=function(){function Je(te){(0,O.Z)(this,Je),this.options=void 0,this.container=void 0,Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),this.options=te}return(0,U.Z)(Je,[{key:"focus",value:function(){var fe,ue;(fe=this.container)===null||fe===void 0||(ue=fe.find("input").get())===null||ue===void 0||ue.focus()}},{key:"change",value:function(){var fe=this.options.onChange;fe&&fe((0,T.Z)(this,z)[z],(0,T.Z)(this,g)[g])}},{key:"updateActive",value:function(fe){var ue,ae=(ue=this.container)===null||ue===void 0?void 0:ue.find("svg");ae==null||ae.css("display","none");var de=this.options.colors.findIndex(function(J){return J.background===fe.background&&J.color===fe.color});if(de>-1){var ve;ae==null||(ve=ae.eq(de))===null||ve===void 0||ve.css("display","block")}else(0,T.Z)(this,g)[g]=void 0}},{key:"render",value:function(fe,ue,ae){var de=this;this.destroy(),(0,T.Z)(this,z)[z]=ue,(0,T.Z)(this,g)[g]=ae,this.container=(0,p.$)('<div class="data-card-status-editor'.concat(p.tq?" data-card-status-editor-mobile":"",'" ').concat(p.Zi,'="').concat(p.UI,'" ').concat(p.f4,'="').concat(fe,'"></div>'));var ve=this.options,J=ve.colors,X=ve.onBlur,K=ve.onFocus,ze=ve.onOk,Ze=(0,p.$)('<input value="'.concat(ue,'" />'));Ze.on("focus",function(){K&&K()}),Ze.on("blur",function(){X&&X()}),Ze.on("input",function(ye){(0,T.Z)(de,z)[z]=ye.target.value,de.change()}),Ze.on(p.tq?"touchstart":"mousedown",function(ye){}),ze&&Ze.on("keydown",function(ye){[13,27].indexOf(ye.keyCode)!==-1&&ze(ye)}),this.container.append(Ze);var We=(0,p.$)('<div class="data-status-editor-color-panle"></div>');return J.forEach(function(ye){var Ie=(0,p.$)('<span><span style="background-color:'.concat(ye.background,`"><svg 
            style="fill: `).concat(ye.background.toUpperCase()==="#8C8C8C"?"#FFFFFF":"#8C8C8C",`; 
            display: `).concat(ye.background===ae.background&&ye.color===ae.color?"block":"none",`;" 
            viewBox="0 0 18 18"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg></span></span>`));Ie.on("mousedown",function(Ue){Ue.preventDefault(),(0,T.Z)(de,g)[g]=ye,de.change()}),We.append(Ie)}),this.container.append(We),this.container}},{key:"destroy",value:function(){var fe;(fe=this.container)===null||fe===void 0||fe.remove();var ue=this.options.onDestroy;ue&&ue()}}]),Je}();function Y(Je,te){te===void 0&&(te={});var fe=te.insertAt;if(!(!Je||typeof document=="undefined")){var ue=document.head||document.getElementsByTagName("head")[0],ae=document.createElement("style");ae.type="text/css",fe==="top"&&ue.firstChild?ue.insertBefore(ae,ue.firstChild):ue.appendChild(ae),ae.styleSheet?ae.styleSheet.cssText=Je:ae.appendChild(document.createTextNode(Je))}}var q=`.am-engine [data-card-key="status"].card-selected:not(.card-activated) [data-card-element="center"] .data-label-container::before\r
{\r
    content: "";\r
    position: absolute;\r
    top: 0;\r
    left: 0;\r
    width: 100%;\r
    height: 100%;\r
    background: #1890FF;\r
    opacity: 0.2;\r
    border-radius: 2px;\r
}\r
\r
.am-engine [data-card-key="status"].card-activated ::-moz-selection {\r
    background: transparent !important;\r
}\r
\r
.am-engine [data-card-key="status"].card-activated ::selection {\r
    background: transparent !important;\r
}\r
\r
.data-label-container {\r
    overflow: hidden;\r
    max-width: 200px;\r
    white-space: nowrap;\r
    text-overflow: ellipsis;\r
    cursor: pointer;\r
    -webkit-user-select: none;\r
       -moz-user-select: none;\r
            user-select: none;\r
    display: inline-block;\r
    border-radius: 4px;\r
    vertical-align: top;\r
}\r
\r
.data-label-container * {\r
    display: inline-block;\r
}\r
\r
.data-label-container .data-label-background {\r
    padding: 0 3px;\r
}\r
\r
.data-label-container.data-label-empty {\r
    opacity: 0.45;\r
}\r
\r
.data-card-status-editor {\r
    outline: none;\r
    width: 162px;\r
    border-radius: 3px 3px;\r
    position: absolute;\r
    border: 1px solid #e8e8e8;\r
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);\r
    z-index: 125;\r
    text-indent: 0;\r
    top:0;\r
    padding: 8px;\r
    background: #fff;\r
}\r
\r
.data-card-status-editor-mobile {\r
    width: calc(100vw - 40px);\r
}\r
  \r
.data-card-status-editor input {\r
    box-sizing: border-box;\r
    margin: 0;\r
    font-variant: tabular-nums;\r
    list-style: none;\r
    font-feature-settings: "tnum","tnum";\r
    position: relative;\r
    display: inline-block;\r
    width: 100%;\r
    min-width: 0;\r
    padding: 4px 11px;\r
    color: #595959;\r
    font-size: 14px;\r
    line-height: 24px;\r
    background-color: #fff;\r
    background-image: none;\r
    border: 1px solid #d9d9d9;\r
    border-radius: 2px;\r
    transition: all .3s;\r
}\r
\r
.data-card-status-editor input:focus\r
{\r
    border-color: #5c9dff;\r
    border-right-width: 1px!important;\r
    outline: 0;\r
    box-shadow: 0 0 0 2px rgba(52,126,255,.2)\r
}\r
\r
.data-card-status-editor-mobile input{\r
    min-width:auto;\r
}\r
\r
.data-card-status-editor .data-status-editor-color-panle {\r
    position: relative;\r
    text-align: left;\r
    text-indent: 0;\r
    display: flex;\r
    justify-content: space-between;\r
    width: 100%;\r
    height: auto;\r
    margin-top: 8px;\r
}\r
\r
.data-status-editor-color-panle > span {\r
    width: 24px;\r
    height: 24px;\r
    display: inline-block;\r
    cursor: pointer;\r
    background-color: rgb(255, 255, 255);\r
    padding: 2px;\r
    border-radius: 3px;\r
    border-width: 1px;\r
    border-style: solid;\r
    border-color: transparent;\r
    -o-border-image: initial;\r
       border-image: initial;\r
    flex: 0 0 auto;\r
}\r
\r
.data-status-editor-color-panle > span > span\r
{\r
    position: relative;\r
    width: 18px;\r
    height: 18px;\r
    display: block;\r
    border-radius: 2px;\r
    border-width: 1px;\r
    border-style: solid;\r
    border-color: transparent;\r
    -o-border-image: initial;\r
       border-image: initial;\r
}\r
\r
.data-status-editor-color-panle > span > span > svg {\r
    position: absolute;\r
    top: -1px;\r
    left: 1px;\r
    width: 12px;\r
    height: 12px;\r
}`;Y(q);var j=(0,S.Z)("position"),le=(0,S.Z)("container"),ce=(0,S.Z)("editorContainer"),se=(0,S.Z)("statusEditor"),ne=function(Je){(0,x.Z)(fe,Je);var te=(0,m.Z)(fe);function fe(){var ue;(0,O.Z)(this,fe);for(var ae=arguments.length,de=new Array(ae),ve=0;ve<ae;ve++)de[ve]=arguments[ve];return ue=te.call.apply(te,[this].concat(de)),Object.defineProperty((0,v.Z)(ue),j,{writable:!0,value:void 0}),ue.defaultColors=[{background:"#FFE8E6",color:"#820014"},{background:"#FCFCCA",color:"#614700"},{background:"#E4F7D2",color:"#135200"},{background:"#E9E9E9",color:"#595959"},{background:"#D4EEFC",color:"#003A8C"},{background:"#DEE8FC",color:"#061178"}],Object.defineProperty((0,v.Z)(ue),le,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(ue),ce,{writable:!0,value:void 0}),Object.defineProperty((0,v.Z)(ue),se,{writable:!0,value:void 0}),ue.getMaxWidth=function(){var J=ue.editor.block.closest(ue.root);return J.get().clientWidth-4},ue.onWindowResize=function(){ue.updateMaxWidth()},ue.updateMaxWidth=function(){var J=ue.getMaxWidth();ue.root.find(".data-label-container").css("max-width",Math.max(J,0)+"px")},ue}return(0,U.Z)(fe,[{key:"getColors",value:function(){var ae=this.editor.plugin.findPlugin("status");return(ae==null?void 0:ae.options.colors)||this.defaultColors}},{key:"init",value:function(){var ae=this;(0,M.Z)((0,D.Z)(fe.prototype),"init",this).call(this);var de=this.editor,ve=de.card;(0,T.Z)(this,j)[j]||((0,T.Z)(this,j)[j]=new p.Ly(de)),!(0,T.Z)(this,se)[se]&&((0,T.Z)(this,se)[se]=new E({colors:this.getColors(),onChange:function(X,K){K&&ae.setColor(K),ae.setValue({text:X}),ae.updateContent()},onOk:function(X){X.stopPropagation(),X.preventDefault(),ve.activate((0,p.$)(document.body)),ve.focus(ae)},onDestroy:function(){var X;(X=(0,T.Z)(ae,j)[j])===null||X===void 0||X.destroy()}}))}},{key:"setColor",value:function(ae){var de=this.editor.plugin,ve=de.findMarkPlugin("backcolor");if(ve){var J=ve.createElement(ae.background);this.executeMark(J,!0)}var X=de.findMarkPlugin("fontcolor");if(X){var K=X.createElement(ae.color);this.executeMark(K,!0)}}},{key:"getColor",value:function(){var ae,de,ve=this.editor.mark,J=this.queryMarks(),X=((ae=J.find(function(ze){var Ze;return((Ze=ve.findPlugin(ze))===null||Ze===void 0?void 0:Ze.name)==="backcolor"}))===null||ae===void 0?void 0:ae.css("background-color"))||"",K=((de=J.find(function(ze){var Ze;return((Ze=ve.findPlugin(ze))===null||Ze===void 0?void 0:Ze.name)==="fontcolor"}))===null||de===void 0?void 0:de.css("color"))||"";return{background:(0,p.NC)(X),color:(0,p.NC)(K)}}},{key:"updateContent",value:function(){var ae=this;if(!!(0,T.Z)(this,le)[le]){var de=this.getValue(),ve=de||{text:"",marks:[]},J=ve.text,X=ve.marks;(0,T.Z)(this,le)[le].removeClass("data-label-empty"),J||(J=this.editor.language.get("status").defaultValue,(0,T.Z)(this,le)[le].addClass("data-label-empty")),(0,T.Z)(this,le)[le].html(J);var K=this.getDefaultColor();this.setColor(K),(X||[]).forEach(function(ze){ae.executeMark((0,p.$)(ze),!0)})}}},{key:"getDefaultColor",value:function(){var ae=this.getColors();return ae.length>0?ae[0]:{background:"#FFFFFF",color:"#222222"}}},{key:"getSelectionNodes",value:function(){return(0,T.Z)(this,le)[le]?[(0,T.Z)(this,le)[le]]:[]}},{key:"executeMark",value:function(ae,de){var ve;if(!!(0,T.Z)(this,le)[le]){var J=this.editor.mark,X=(0,T.Z)(this,le)[le].children();if(ae)if(de){var Ze=J.findPlugin(ae);(Ze==null?void 0:Ze.name)==="backcolor"&&ae.addClass("data-label-background"),X.each(function(Ue,Ye){var Ae=X.eq(Ye);Ae&&J.wrapByNode(Ae,ae)});var We=this.queryMarks().map(function(Ue){var Ye;return((Ye=Ue.clone().get())===null||Ye===void 0?void 0:Ye.outerHTML)||""});this.setValue({marks:We})}else{var ye=J.findPlugin(ae);if((ye==null?void 0:ye.name)==="backcolor")return;J.unwrapByNodes(this.queryMarks(!1),ae);var Ie=this.queryMarks().map(function(Ue){var Ye;return((Ye=Ue.get())===null||Ye===void 0?void 0:Ye.outerHTML)||""});this.setValue({marks:Ie})}else{var K=this.queryMarks(!1),ze=!1;J.unwrapByNodes(K.filter(function(Ue){if(ze)return!0;var Ye=J.findPlugin(Ue);return(Ye==null?void 0:Ye.name)==="backcolor"?(ze=!0,!1):!0})),this.setValue({marks:[]})}(ve=(0,T.Z)(this,se)[se])===null||ve===void 0||ve.updateActive(this.getColor())}}},{key:"queryMarks",value:function(){var ae=this,de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return(0,T.Z)(this,le)[le]?(0,T.Z)(this,le)[le].allChildren().filter(function(ve){return ve.isElement()&&ae.editor.node.isMark(ve)}).map(function(ve){if(de){var J=ve.clone();return J.removeClass("data-label-background"),J}return ve}):[]}},{key:"focusEditor",value:function(){var ae;(ae=(0,T.Z)(this,se)[se])===null||ae===void 0||ae.focus()}},{key:"onActivate",value:function(ae){var de;(0,M.Z)((0,D.Z)(fe.prototype),"onActivate",this).call(this,ae);var ve=this.editor;!(0,p.iC)(ve)||ve.readonly||(ae?this.renderEditor():(de=(0,T.Z)(this,se)[se])===null||de===void 0||de.destroy())}},{key:"renderEditor",value:function(){var ae,de;if(!!(0,T.Z)(this,se)[se]){var ve=this.getValue();if(!(!ve||!ve.id)){(ae=(0,T.Z)(this,j)[j])===null||ae===void 0||ae.destroy();var J=this.getDefaultColor(),X=this.getColor();(0,T.Z)(this,ce)[ce]=(0,T.Z)(this,se)[se].render(ve.id,ve.text||"",(0,d.Z)((0,d.Z)({},J),X)),(0,T.Z)(this,le)[le]&&((de=(0,T.Z)(this,j)[j])===null||de===void 0||de.bind((0,T.Z)(this,ce)[ce],(0,T.Z)(this,le)[le]))}}}},{key:"render",value:function(){if((0,T.Z)(this,le)[le]){this.updateContent();return}return(0,T.Z)(this,le)[le]=(0,p.$)('<span class="data-label-container"></span>'),this.updateContent(),(0,p.iC)(this.editor)&&(0,T.Z)(this,le)[le].attributes("draggable","true"),(0,T.Z)(this,le)[le]}},{key:"didRender",value:function(){(0,M.Z)((0,D.Z)(fe.prototype),"didRender",this).call(this),this.updateMaxWidth(),window.addEventListener("resize",this.onWindowResize),this.editor.on("editor:resize",this.onWindowResize)}},{key:"destroy",value:function(){var ae,de;(ae=(0,T.Z)(this,se)[se])===null||ae===void 0||ae.destroy(),(de=(0,T.Z)(this,j)[j])===null||de===void 0||de.destroy(),window.removeEventListener("resize",this.onWindowResize),this.editor.off("editor:resize",this.onWindowResize)}}],[{key:"cardName",get:function(){return"status"}},{key:"cardType",get:function(){return p.eT.INLINE}},{key:"autoSelected",get:function(){return!1}},{key:"selectStyleType",get:function(){return p.dw.NONE}}]),fe}(p.Zb),De={status:{defaultValue:"SET A STATUS"}},we={status:{defaultValue:"\u8BBE\u7F6E\u72B6\u6001"}},je={"en-US":De,"zh-CN":we},dt="parse:html",Qe="paste:each",lt="paste:schema",Te=function(Je){(0,x.Z)(fe,Je);var te=(0,m.Z)(fe);function fe(){var ue;(0,O.Z)(this,fe);for(var ae=arguments.length,de=new Array(ae),ve=0;ve<ae;ve++)de[ve]=arguments[ve];return ue=te.call.apply(te,[this].concat(de)),ue.pasteSchema=function(J){J.add({type:"inline",name:"span",attributes:{"data-type":{required:!0,value:ne.cardName},"data-value":"*"}})},ue.pasteHtml=function(J){var X=ue.editor;if(!!(0,p.iC)(X)){if(J.isElement()){var K=J.attributes(),ze=K["data-type"];if(ze&&ze===ne.cardName){var Ze=K["data-value"],We=(0,p.RW)(Ze);return X.card.replaceNode(J,ne.cardName,We),J.remove(),!1}}return!0}},ue.parseHtml=function(J,X){var K=ue.editor,ze=[];return J.find("[".concat(p.Jr,'="').concat(ne.cardName,'"],[').concat(p.mV,'="').concat(ne.cardName,'"]')).each(function(Ze){var We=(0,p.$)(Ze),ye=K.card.find(We),Ie=(ye==null?void 0:ye.getValue())||(0,p.RW)(We.attributes(p.TM));if(Ie!=null&&Ie.text){var Ue='<span data-type="'.concat(ne.cardName,'" data-value="').concat((0,p.it)(Ie),'"></span>'),Ye=Ie.marks||[],Ae=(0,p.$)("<div>".concat(Ie.text,"</div>")),tt=Ae.first();Ye.forEach(function(Ve){var et=(0,p.$)(Ve);tt=K.node.wrap(tt,et)}),We.empty();var it=(0,p.$)(Ue);it.append(tt),it.css({"font-weight":400,overflow:"hidden","max-width":"200px","white-space":"nowrap","border-radius":"4px",border:"2px solid transparent",padding:"0 3px","text-overflow":"ellipsis"}),X&&(it=X(it,Ie)),We.replaceWith(it),ze.push(it)}else We.remove()}),ze},ue}return(0,U.Z)(fe,[{key:"init",value:function(){var ae=this.editor;ae.language.add(je),ae.on(dt,this.parseHtml),ae.on(Qe,this.pasteHtml),ae.on(lt,this.pasteSchema)}},{key:"execute",value:function(){var ae=this.editor;if(!!(0,p.iC)(ae)){var de=ae.card,ve=de.insert(ne.cardName);de.activate(ve.root),setTimeout(function(){ve.focusEditor()},50)}}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"destroy",value:function(){var ae=this.editor;ae.off(dt,this.parseHtml),ae.off(Qe,this.pasteHtml),ae.off(lt,this.pasteSchema)}}],[{key:"pluginName",get:function(){return"status"}}]),fe}(p.Sy);Ce.Z=Te},30266:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M="markdown-it",D=function(T){(0,p.Z)(g,T);var S=(0,d.Z)(g);function g(){var z;(0,O.Z)(this,g);for(var E=arguments.length,Y=new Array(E),q=0;q<E;q++)Y[q]=arguments[q];return z=S.call.apply(S,[this].concat(Y)),z.tagName="del",z.markdownIt=function(j){z.options.markdown!==!1&&j.enable("strikethrough")},z}return(0,U.Z)(g,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(g.prototype),"init",this).call(this);var E=this.editor;(0,v.iC)(E)&&E.on(M,this.markdownIt)}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+x"}},{key:"conversion",value:function(){var E=this;return[{from:function(q,j){return q==="span"&&(j["text-decoration"]||"").includes("line-through")},to:function(q,j,le){var ce=(0,v.$)("<".concat(E.tagName," />"));return j["text-decoration"]=j["text-decoration"].split(/\s+/).filter(function(se){return se!=="line-through"}).join(" ").trim(),ce.css(j),ce.attributes(le),ce}},{from:"s",to:this.tagName},{from:"strike",to:this.tagName}]}},{key:"destroy",value:function(){this.editor.off(M,this.markdownIt)}}],[{key:"pluginName",get:function(){return"strikethrough"}}]),g}(v.Rw);Ce.Z=D},48340:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=f(36138),D=f.n(M),T="markdown-it",S=function(g){(0,p.Z)(E,g);var z=(0,d.Z)(E);function E(){var Y;(0,O.Z)(this,E);for(var q=arguments.length,j=new Array(q),le=0;le<q;le++)j[le]=arguments[le];return Y=z.call.apply(z,[this].concat(j)),Y.tagName="sub",Y.markdownIt=function(ce){Y.options.markdown!==!1&&(ce.use(D()),ce.enable("sub"))},Y}return(0,U.Z)(E,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(E.prototype),"init",this).call(this);var q=this.editor;(0,v.iC)(q)&&q.on(T,this.markdownIt)}},{key:"conversion",value:function(){var q=this;return[{from:function(le,ce){return le==="span"&&(ce["vertical-align"]||"")==="sub"},to:function(le,ce,se){var ne=(0,v.$)("<".concat(q.tagName," />"));return delete ce["vertical-align"],ne.css(ce),ne.attributes(se),ne}}]}},{key:"execute",value:function(){var q,j=this.editor.command.queryState("sup");j&&this.editor.command.execute("sup");for(var le=arguments.length,ce=new Array(le),se=0;se<le;se++)ce[se]=arguments[se];(q=(0,x.Z)((0,m.Z)(E.prototype),"execute",this)).call.apply(q,[this].concat(ce))}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+,"}},{key:"destroy",value:function(){this.editor.off(T,this.markdownIt)}}],[{key:"pluginName",get:function(){return"sub"}}]),E}(v.Rw);Ce.Z=S},84347:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=f(2366),D=f.n(M),T="markdown-it",S=function(g){(0,p.Z)(E,g);var z=(0,d.Z)(E);function E(){var Y;(0,O.Z)(this,E);for(var q=arguments.length,j=new Array(q),le=0;le<q;le++)j[le]=arguments[le];return Y=z.call.apply(z,[this].concat(j)),Y.tagName="sup",Y.markdownIt=function(ce){Y.options.markdown!==!1&&(ce.use(D()),ce.enable("sup"))},Y}return(0,U.Z)(E,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(E.prototype),"init",this).call(this);var q=this.editor;(0,v.iC)(q)&&q.on(T,this.markdownIt)}},{key:"conversion",value:function(){var q=this;return[{from:function(le,ce){return le==="span"&&(ce["vertical-align"]||"")==="super"},to:function(le,ce,se){var ne=(0,v.$)("<".concat(q.tagName," />"));return delete ce["vertical-align"],ne.css(ce),ne.attributes(se),ne}}]}},{key:"execute",value:function(){var q,j=this.editor.command.queryState("sub");j&&this.editor.command.execute("sub");for(var le=arguments.length,ce=new Array(le),se=0;se<le;se++)ce[se]=arguments[se];(q=(0,x.Z)((0,m.Z)(E.prototype),"execute",this)).call.apply(q,[this].concat(ce))}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+."}},{key:"destroy",value:function(){this.editor.off(T,this.markdownIt)}}],[{key:"pluginName",get:function(){return"sup"}}]),E}(v.Rw);Ce.Z=S},66898:function(ut,Ce,f){"use strict";f.d(Ce,{a:function(){return jr}});var O=f(49544),U=f(40936),x=f(49962),m=f(65782),p=f(64655),d=f(62998),v=f(75782),M=f(60790),D=f(34203),T=f(29129),S=f(85462),g=f(11997),z=f(96789),E=f.n(z),Y=f(91600),q=f(25328),j=f.n(q),le=f(20680),ce="table-wrapper",se="table-overflow",ne="data-table",De="table-cols-header",we="table-cols-header-item",je="cols-trigger",dt="cols-addition-header",Qe="table-rows-header",lt="table-rows-header-item",Te="rows-trigger",Je="table-header",te="table-menubar",fe="table-menubar-item",ue="table-menubar-item-input",ae="table-viewport",de="data-table-reader",ve="table-placeholder",J="multi-addition",X="table-highlight",K="table-row-delete-button",ze="table-col-delete-button",Ze="table-row-add-button",We="table-row-add-split-button",ye="table-col-add-button",Ie="table-col-add-split-button",Ue="table-main-content",Ye="table-main-bg",Ae=function(){function Kr(Tr){(0,U.Z)(this,Kr),this.isReadonly=!1,this.table=void 0,this.table=Tr}return(0,x.Z)(Kr,[{key:"getEmptyCell",value:function(){return Kr.EmptyCell(this.isReadonly)}},{key:"renderRowsHeader",value:function(qt){return"<div ".concat(d.Zi,'="').concat(d.UI,'" class="').concat(Qe,'">')+'<div class="'.concat(K,'"><span class="data-icon data-icon-delete"></span></div>')+'<div class="'.concat(Ze,'"><span class="data-icon data-icon-plus"></span><div class="').concat(We,'"></div></div>')+'<div class="'.concat(lt,`" draggable="true">
                <div class="row-dragger">
                    <span class="data-icon data-icon-drag"></span>
                    <span class="drag-info"></span>
                </div>
                <div class="`).concat(Te,`"></div>
            </div>`).repeat(qt)+`
        </div>`}},{key:"renderColsHeader",value:function(qt){return"<div ".concat(d.Zi,'="').concat(d.UI,'" class="').concat(De,'">')+'<div class="'.concat(ze,'"><span class="data-icon data-icon-delete"></span></div>')+'<div class="'.concat(ye,'"><span class="data-icon data-icon-plus"></span><div class="').concat(Ie,'"></div></div>')+'<div class="'.concat(we,`" draggable="true">
            <div class="col-dragger">
                <span class="data-icon data-icon-drag"></span>
                <span class="drag-info"></span>
            </div>
            <div class="`).concat(je,`"></div>
        </div>`).repeat(qt)+`
    </div>`}},{key:"htmlEdit",value:function(qt,Zt){var Ee=qt.rows,pe=qt.cols,oe=qt.html,me=qt.noBorder,Pe=qt.overflow;pe=pe===-1/0?1:pe,Ee=Ee===-1/0?1:Ee,pe=pe===1/0?10:pe,Ee=Ee===1/0?10:Ee;var nt="<td ".concat(d.rN,'="table-cell-selection">').concat(this.getEmptyCell(),"</td>").repeat(pe),ht="<tr>".concat(nt,"</tr>").repeat(Ee),vt="<col />".repeat(pe),St="<colgroup>".concat(vt,"</colgroup>"),It="<div ".concat(d.Zi,'="').concat(d.UI,'" class="').concat(X,'"></div>'),Kt="<div ".concat(d.Zi,'="').concat(d.UI,'" class="').concat(Je,'"><div class="').concat(Je,'-item"></div></div>'),Tt="<div ".concat(d.Zi,'="').concat(d.UI,'" class="').concat(ve,'"></div>'),Lt=Zt.map(function(mn){var On;if(mn.split)return'<div class="split"></div>';var Rn=mn.text;switch(mn.action){case"insertColLeft":case"insertColRight":case"insertRowUp":case"insertRowDown":Rn=((On=Rn)===null||On===void 0?void 0:On.replace("$data",`<input type='text' maxlength="3" class="`.concat(ue,'" />')))||"";break}return'<div class="'.concat(fe,'" ').concat(d.Zi,'="').concat(d.UI,'" data-action="').concat(mn.action,`">
                <span class="data-icon data-icon-table-`).concat(mn.icon,'"></span>').concat(Rn,"</div>")});if(Lt=["<div ".concat(d.Zi,'="').concat(d.UI,'" class="').concat(te,'">').concat(Lt.join(""),"</div>")],oe){var Gt=oe.indexOf("<colgroup")>-1;if(oe=(0,d.Gg)(oe)||oe,!Gt){var Yt;oe=(Yt=oe)===null||Yt===void 0?void 0:Yt.replace(/^(<table[^>]+>)/,function(mn){return mn+St})}var Mn=this.table.helper.normalize((0,d.$)(oe)),Dn=Mn.find("tr");Ee=Dn.length,oe=Mn.get().outerHTML}var wn=oe||'<table class="'.concat(ne,'"').concat(me===!0?" data-table-no-border='true'":""," ").concat(d.rN,'="class">').concat(St).concat(ht,"</table>");return"<div ".concat(d.rN,'="*" class="').concat(ce," ").concat(Pe!==!1?se:"",'" ').concat(d.rN,'="*">').concat(Kt,"<div ").concat(d.rN,'="*" class="').concat(ae,'">').concat(this.renderColsHeader(pe)).concat(wn).concat(Tt).concat(It,"</div>").concat(this.renderRowsHeader(Ee)).concat(Lt,"</div>")}},{key:"htmlView",value:function(qt){var Zt,Ee,pe=qt.html,oe=qt.noBorder,me=qt.overflow;pe=(0,d.Gg)((Zt=pe)!==null&&Zt!==void 0?Zt:"");var Pe=(0,d.$)(pe);return Pe.find("td").attributes(d.Zi,d.gJ),'<div class="'.concat(ce," ").concat(me!==!1?se:"",'"><div class="').concat(de,'"').concat(oe===!0?" data-table-no-border='true'":"",">").concat((Ee=Pe.get())===null||Ee===void 0?void 0:Ee.outerHTML,"</div></div>")}}],[{key:"EmptyCell",value:function(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return'<div class="'.concat(Ue,'" ').concat(d.rN,'="').concat(d.xT,'" ').concat(d.xT,'="').concat(qt?"false":"true",'" ').concat(d.Zi,'="').concat(d.gJ,'"><p><br /></p></div>').concat(Kr.CellBG)}}]),Kr}();Ae.TABLE_WRAPPER_CLASS=".".concat(ce),Ae.TABLE_OVERFLOW_CLASS=".".concat(se),Ae.TABLE_CLASS=".".concat(ne),Ae.COLS_HEADER_CLASS=".".concat(De),Ae.COLS_HEADER_ITEM_CLASS=".".concat(we),Ae.COLS_HEADER_TRIGGER_CLASS=".".concat(je),Ae.COLS_ADDITION_HEADER_CLASS=".".concat(dt),Ae.ROWS_HEADER_CLASS=".".concat(Qe),Ae.ROWS_HEADER_ITEM_CLASS=".".concat(lt),Ae.ROWS_HEADER_TRIGGER_CLASS=".".concat(Te),Ae.HEADER_CLASS=".".concat(Je),Ae.MENUBAR_CLASS=".".concat(te),Ae.MENUBAR_ITEM_CLASS=".".concat(fe),Ae.MENUBAR_ITEM_INPUT_CALSS=".".concat(ue),Ae.VIEWPORT=".".concat(ae),Ae.VIEWPORT_READER=".".concat(de),Ae.PLACEHOLDER_CLASS=".".concat(ve),Ae.MULTI_ADDITION_CLASS=".".concat(J),Ae.TABLE_HIGHLIGHT_CLASS=".".concat(X),Ae.ROW_DELETE_BUTTON_CLASS=".".concat(K),Ae.COL_DELETE_BUTTON_CLASS=".".concat(ze),Ae.ROW_ADD_BUTTON_CLASS=".".concat(Ze),Ae.COL_ADD_BUTTON_CLASS=".".concat(ye),Ae.ROW_ADD_BUTTON_SPLIT_CLASS=".".concat(We),Ae.COL_ADD_BUTTON_SPLIT_CLASS=".".concat(Ie),Ae.TABLE_TD_CONTENT_CLASS=".".concat(Ue),Ae.TABLE_TD_BG_CLASS=".".concat(Ye),Ae.CellBG='<div class="'.concat(Ye,'"><div class="table-main-border-top"></div><div class="table-main-border-right"></div><div class="table-main-border-bottom"></div><div class="table-main-border-left"></div></div>');var tt=(0,g.Z)("editor"),it=function(){function Kr(Tr){(0,U.Z)(this,Kr),this.clipboard=void 0,Object.defineProperty(this,tt,{writable:!0,value:void 0}),(0,S.Z)(this,tt)[tt]=Tr}return(0,x.Z)(Kr,[{key:"isEmptyModelCol",value:function(qt){return qt&&qt.isEmpty}},{key:"getTableModel",value:function(qt){for(var Zt=[],Ee=qt.get(),pe=Ee.rows,oe=(pe==null?void 0:pe.length)||0,me=0;me<oe;me++)for(var Pe=pe[me],nt=Pe.cells,ht=nt.length,vt=0;vt<ht;vt++){var St=nt[vt],It=St.rowSpan,Kt=St.colSpan;It=It===void 0?1:It,Kt=Kt===void 0?1:Kt;var Tt=It>1||Kt>1;Zt[me]=Zt[me]||[];for(var Lt=vt;Zt[me][Lt];)Lt++;if(Zt[me][Lt]={rowSpan:It,colSpan:Kt,isMulti:Tt,element:St},Tt)for(var Gt=It;Gt>0;){for(var Yt=Kt;Yt>0;){if(Yt!==1||Gt!==1){var Mn=me+Gt-1,Dn=Lt+Yt-1;Zt[Mn]=Zt[Mn]||[],Zt[Mn][Dn]={isEmpty:!0,parent:{row:me,col:Lt},element:null}}Yt--}Gt--}}var wn=Zt.map(function(Rn){return Rn.length}),mn=Math.max.apply(Math,(0,O.Z)(wn));Zt.forEach(function(Rn){if(Rn.length<mn)for(var Kn=mn-Rn.length;Kn--;)Rn.push({rowSpan:1,colSpan:1,isShadow:!0,element:null});for(var jn=0;jn<mn;jn++)Rn[jn]||(Rn[jn]={rowSpan:1,colSpan:1,isShadow:!0,element:null})});var On={rows:Zt.length,cols:mn,width:Ee.offsetWidth,height:Ee.offsetHeight,table:Zt};return On}},{key:"normalize",value:function(qt){var Zt=this;this.trimStartTr(qt),this.fixNumberTr(qt),qt.addClass("data-table"),qt.attributes(d.rN,"class");var Ee=qt.css("width");parseInt(Ee)===0&&qt.css("width","auto"),qt.css("background-color","");var pe=this.getTableModel(qt),oe=qt.find("col");if(oe.length!==0){for(var me=oe.length-1;me>=0;me--){var Pe,nt=oe[me],ht=(Pe=oe.eq(me))===null||Pe===void 0?void 0:Pe.attributes("width");if(ht){var vt;(vt=oe.eq(me))===null||vt===void 0||vt.attributes("width",parseInt(ht))}if(nt.span>1)for(var St=nt.span-1;St--;){var It,Kt;(It=(Kt=oe[me].parentElement)!==null&&Kt!==void 0?Kt:oe[me].parentNode)===null||It===void 0||It.insertBefore(oe[me].cloneNode(),oe[me])}}if(oe=qt.find("col"),oe.length<pe.cols)for(var Tt=oe.length-1,Lt=pe.cols-oe.length;Lt--;){var Gt,Yt;(Gt=(Yt=oe[0].parentElement)!==null&&Yt!==void 0?Yt:oe[0].parentNode)===null||Gt===void 0||Gt.appendChild(oe[Tt].cloneNode())}qt.find("col").attributes("span",1)}else{var Mn=qt.find("colgroup")[0];Mn||(Mn=document.createElement("colgroup")),qt.prepend(Mn);for(var Dn=function(cr){var ar=cr.find("tr")[0],Zn=(0,d.$)(ar).find("td"),Un=[];Zn.each(function(gi,Xr){var Vn=Zn.eq(Xr);if(!!Vn){var ci=Vn.attributes("data-colwidth"),mi=Vn.attributes("width"),oi=Vn[0].colSpan;ci?ci=ci.split(","):mi&&(mi=parseInt(mi)/oi);for(var Ar=0;oi>Ar;Ar++)ci&&ci[Ar]?Un.push(parseInt(ci[Ar])):mi?Un.push(parseInt(mi.toString())):Un.push(void 0)}});var yi=cr.find("td");return yi.removeAttributes("data-colwidth"),yi.removeAttributes("width"),Un}(qt),wn=document.createElement("col"),mn=0;pe.cols>mn;mn++){var On=wn.cloneNode();Dn[mn]&&On.setAttribute("width",(Dn[mn]||"").toString()),Mn.appendChild(On)}}var Rn=qt.get();pe.table.forEach(function(cr,ar){Rn.rows[ar]||Rn.insertRow(ar);for(var Zn=cr.filter(function(yi){return Zt.isEmptyModelCol(yi)?!1:yi.isShadow}),Un=Zn.length;Un--;)ar===0?Rn.rows[ar].insertCell(0):Rn.rows[ar].insertCell()});var Kn=qt.find("tr");Kn.each(function(cr,ar){var Zn,Un=Kn.eq(ar);if(!!Un){var yi=parseInt(Un.css("height"));yi=yi||((Zn=(0,S.Z)(Zt,tt)[tt].plugin.findPlugin("table"))===null||Zn===void 0?void 0:Zn.options.rowMinHeight)||0,Un.css("height",yi+"px")}});var jn=qt.find("td"),tr=(0,d.$)(Ae.EmptyCell(!(0,d.iC)((0,S.Z)(this,tt)[tt])||(0,S.Z)(this,tt)[tt].readonly));return jn.each(function(cr,ar){var Zn=jn.eq(ar);if(!!Zn){Zn.attributes(d.rN,"table-cell-selection");var Un=Zn.find(d.Su);if(Un.length===0){var yi=Zn.children();Zn.append(tr.clone(!0)),Un=Zn.find(d.Su),Un.empty(),Un.append(yi)}Un.find("p").each(function(gi){gi.childNodes.length===0&&gi.appendChild(document.createElement("br"))})}}),qt}},{key:"trimStartTr",value:function(qt){var Zt,Ee=qt.find("tr"),pe=Ee.eq(0);pe&&((Zt=pe.get())===null||Zt===void 0?void 0:Zt.childNodes.length)===0&&pe.remove()}},{key:"fixNumberTr",value:function(qt){for(var Zt=qt.get(),Ee=Zt.rows,pe=(Ee==null?void 0:Ee.length)||0,oe=[],me=0,Pe=[],nt=0,ht=0,vt=0,St=0;St<pe;St++){for(var It=Ee[St],Kt=It.cells,Tt=0,Lt=0;Lt<Kt.length;Lt++){var Gt=Kt[Lt],Yt=Gt.rowSpan,Mn=Gt.colSpan;nt+=Yt*Mn,Tt+=Mn,Yt>1&&(ht+=(Yt-1)*Mn)}Pe[St]=Tt,St===0&&(me=Tt),vt=Math.max(Tt,vt)}var Dn=E()(nt/me),wn=me===vt,mn=Dn&&wn;if(mn){var On=0;if(Pe.forEach(function(Vn){On+=vt-Vn}),On!==ht){var Rn=ht-On;if(E()(Rn/vt)){for(var Kn=[],jn=0;jn<pe;jn++){for(var tr=Ee[jn],cr=tr.cells,ar=jn+Kn.length;oe[ar]===vt;)Kn.push(ar),ar++;for(var Zn=0;Zn<cr.length;Zn++){var Un=cr[Zn],yi=Un.rowSpan,gi=Un.colSpan;if(yi>1)for(var Xr=1;Xr<yi;Xr++)oe[ar+Xr]=(oe[ar+Xr]||0)+gi}}Kn.forEach(function(Vn){Zt.insertRow(Vn)})}}}}},{key:"fixDragEvent",value:function(qt){var Zt,Ee;(Zt=qt.dataTransfer)===null||Zt===void 0||Zt.clearData(),(Ee=qt.dataTransfer)===null||Ee===void 0||Ee.setData("aomao",""),qt.dataTransfer&&(qt.dataTransfer.effectAllowed="all")}},{key:"copyCss",value:function(qt,Zt){(0,d.mW)(qt)&&(qt=(0,d.$)(qt)),(0,d.mW)(Zt)&&(Zt=(0,d.$)(Zt)),Zt.css("vertical-align",qt.css("vertical-align"));var Ee=qt.css("background-color");Ee=Ee!=="rgba(0, 0, 0, 0)"?Ee:"",Zt.css("background-color",Ee)}},{key:"copyTo",value:function(qt,Zt){(0,d.mW)(qt)&&(qt=(0,d.$)(qt)),(0,d.mW)(Zt)&&(Zt=(0,d.$)(Zt));var Ee=Zt.find(d.Su);Ee.length===0&&(Zt.html(Ae.EmptyCell(!(0,d.iC)((0,S.Z)(this,tt)[tt])||(0,S.Z)(this,tt)[tt].readonly)),Ee=Zt.find(d.Su)),Ee.html((0,d.Gg)(qt.html())),Zt.name==="td"&&Zt.find(Ae.TABLE_TD_BG_CLASS).length===0&&Zt.append((0,d.$)(Ae.CellBG)),Zt.name==="td"&&Zt.attributes("data-transient-attributes","table-cell-selection"),this.copyCss(qt,Zt)}},{key:"copyHTML",value:function(qt){var Zt;this.clipboard={html:qt,text:((Zt=(0,d.$)(qt).get())===null||Zt===void 0?void 0:Zt.innerText)||""}}},{key:"getCopyData",value:function(){return this.clipboard}},{key:"clearCopyData",value:function(){this.clipboard=void 0}},{key:"trimBlankSpan",value:function(qt){for(var Zt=qt.length,Ee=[],pe=0,oe=Zt-1;qt[pe]&&qt[pe].tagName.toLowerCase()==="span"&&qt[pe].innerText.trim()==="";)pe++;for(;qt[oe]&&qt[oe].tagName.toLowerCase()==="span"&&qt[oe].innerText.trim()==="";)oe--;if(pe<=oe)for(var me=pe;me<=oe;me++)Ee.push(qt[me]);return Ee.length?(0,d.$)(Ee):qt}},{key:"normalizeTable",value:function(qt){var Zt=this;this.trimStartTr(qt),this.fixNumberTr(qt),qt.addClass("data-table");var Ee=qt.css("width");parseInt(Ee)===0?qt.css("width","auto"):Ee.endsWith("%")||qt.css("width",parseInt(Ee,10)+"px"),qt.css("background-color","");var pe=this.getTableModel(qt),oe=qt.find("col");if(oe.length!==0){for(var me=oe.length-1;me>=0;me--){var Pe,nt=oe[me],ht=(Pe=oe.eq(me))===null||Pe===void 0?void 0:Pe.attributes("width");if(ht&&!ht.endsWith("%")){var vt,St=parseInt(ht);St!==NaN&&((vt=oe.eq(me))===null||vt===void 0||vt.attributes("width",St))}if(nt.span>1)for(var It=nt.span-1;It--;){var Kt,Tt;(Kt=(Tt=oe[me].parentElement)!==null&&Tt!==void 0?Tt:oe[me].parentNode)===null||Kt===void 0||Kt.insertBefore(oe[me].cloneNode(),oe[me])}}if(oe=qt.find("col"),oe.length<pe.cols)for(var Lt=oe.length-1,Gt=pe.cols-oe.length;Gt--;){var Yt,Mn;(Yt=(Mn=oe[0].parentElement)!==null&&Mn!==void 0?Mn:oe[0].parentNode)===null||Yt===void 0||Yt.appendChild(oe[Lt].cloneNode())}qt.find("col").attributes("span",1)}else{var Dn=qt.find("colgroup")[0];Dn||(Dn=document.createElement("colgroup")),qt.prepend(Dn);for(var wn=function(tr){var cr=tr.find("tr")[0],ar=(0,d.$)(cr).find("td"),Zn=[];ar.each(function(yi,gi){var Xr=ar.eq(gi);if(!!Xr){var Vn=Xr.attributes("data-colwidth"),ci=Xr.attributes("width"),mi=Xr[0].colSpan;Vn?Vn=Vn.split(","):ci&&(ci=parseInt(ci)/mi);for(var oi=0;mi>oi;oi++)Vn&&Vn[oi]?Zn.push(parseInt(Vn[oi])):ci?Zn.push(parseInt(ci.toString())):Zn.push(void 0)}});var Un=tr.find("td");return Un.removeAttributes("data-colwidth"),Un.removeAttributes("width"),Zn}(qt),mn=document.createElement("col"),On=0;pe.cols>On;On++){var Rn=mn.cloneNode();wn[On]&&Rn.setAttribute("width",(wn[On]||"").toString()),Dn.appendChild(Rn)}}var Kn=qt.get();pe.table.forEach(function(tr,cr){Kn.rows[cr]||Kn.insertRow(cr);for(var ar=tr.filter(function(Un){return Un.isShadow}),Zn=ar.length;Zn--;)Kn.rows[cr].insertCell()});var jn=qt.find("tr");return jn.each(function(tr,cr){var ar,Zn=jn.eq(cr);if(!!Zn){var Un=parseInt(Zn.css("height"));Un=Un||((ar=(0,S.Z)(Zt,tt)[tt].plugin.findPlugin("table"))===null||ar===void 0?void 0:ar.options.rowMinHeight)||0,Zn.css("height",Un+"px")}}),qt}}]),Kr}(),Ve=function(Kr){return[{action:"cut",icon:"cut",text:Kr.cut},{action:"copy",icon:"copy",text:Kr.copy},{action:"mockPaste",icon:"paste",text:Kr.paste},{split:!0},{action:"insertColLeft",icon:"insert-col-left",text:Kr.insertColLeft},{action:"insertColRight",icon:"insert-col-right",text:Kr.insertColRight},{action:"insertRowUp",icon:"insert-row-up",text:Kr.insertRowUp},{action:"insertRowDown",icon:"insert-row-down",text:Kr.insertRowDown},{split:!0},{action:"mergeCell",icon:"merge-cell",text:Kr.mergeCell},{action:"splitCell",icon:"split-cell",text:Kr.splitCell},{split:!0},{action:"removeCol",icon:"remove-col",text:Kr.removeCol},{action:"removeRow",icon:"remove-row",text:Kr.removeRow},{split:!0},{action:"removeTable",icon:"remove-table",text:Kr.removeTable},{split:!0},{action:"clear",icon:"clear",text:Kr.clear}]},et=function(Kr){(0,m.Z)(qt,Kr);var Tr=(0,p.Z)(qt);function qt(Zt,Ee,pe){var oe;return(0,U.Z)(this,qt),oe=Tr.call(this),oe.editor=void 0,oe.table=void 0,oe.COL_MIN_WIDTH=void 0,oe.ROW_MIN_HEIGHT=void 0,oe.MAX_INSERT_NUM=void 0,oe.tableRoot=void 0,oe.colsHeader=void 0,oe.rowsHeader=void 0,oe.tableHeader=void 0,oe.menuBar=void 0,oe.dragging=void 0,oe.draggingHeader=void 0,oe.changeSize=void 0,oe.viewport=void 0,oe.placeholder=void 0,oe.contextVisible=!1,oe.rowDeleteButton=void 0,oe.colDeleteButton=void 0,oe.colAddButton=void 0,oe.colAddAlign=void 0,oe.colAddButtonSplit=void 0,oe.moveColIndex=-1,oe.hideColAddButtonTimeount=void 0,oe.rowAddButton=void 0,oe.rowAddAlign=void 0,oe.rowAddButtonSplit=void 0,oe.moveRowIndex=-1,oe.hideRowAddButtonTimeount=void 0,oe.onMouseDownColsHeader=function(me){var Pe=(0,d.$)(me.target||[]).closest(Ae.COLS_HEADER_TRIGGER_CLASS);if(Pe.length===0){me instanceof MouseEvent&&me.button===2&&oe.showContextMenu(me);return}oe.startChangeCol(Pe,me)},oe.onMouseDownRowsHeader=function(me){var Pe=(0,d.$)(me.target||[]).closest(Ae.ROWS_HEADER_TRIGGER_CLASS);if(Pe.length===0){me instanceof MouseEvent&&me.button===2&&oe.showContextMenu(me);return}oe.startChangeRow(Pe,me)},oe.onClickColsHeader=function(me){var Pe,nt=oe.table.selection,ht=(0,d.$)(me.target||[]).closest(Ae.COLS_HEADER_TRIGGER_CLASS);if(!(ht.length>0)){var vt=(0,d.$)(me.target||[]).closest(Ae.COLS_HEADER_ITEM_CLASS);if(vt.length!==0){var St=(Pe=oe.colsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.COLS_HEADER_ITEM_CLASS).toArray().findIndex(function(It){return It.equal(vt)});St!==void 0&&nt.selectCol(St)}}},oe.onClickRowsHeader=function(me){var Pe,nt=oe.table.selection,ht=(0,d.$)(me.target||[]).closest(Ae.ROWS_HEADER_TRIGGER_CLASS);if(!(ht.length>0)){var vt=(0,d.$)(me.target||[]).closest(Ae.ROWS_HEADER_ITEM_CLASS);if(vt.length!==0){var St=(Pe=oe.rowsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.ROWS_HEADER_ITEM_CLASS).toArray().findIndex(function(It){return It.equal(vt)});St!==void 0&&nt.selectRow(St)}}},oe.onClickTableHeader=function(me){var Pe;me.preventDefault();var nt=oe.table.selection;if(!((Pe=oe.tableHeader)===null||Pe===void 0)&&Pe.hasClass("selected"))nt.clearSelect();else{var ht=nt.tableModel;if(!ht)return;nt.select({row:0,col:0},{row:ht.rows-1,col:ht.cols-1})}},oe.onChangeSize=function(me){!oe.dragging||(oe.dragging.y>-1?oe.onChangeRowHeight(me):oe.dragging.x>-1&&oe.onChangeColWidth(me),oe.emit("sizeChanging"))},oe.onChangeSizeEnd=function(me){if(!(me.type==="mouseleave"&&oe.table.getCenter().contains(me.toElement))){if(oe.dragging&&oe.changeSize){var Pe=oe.changeSize.trigger,nt=Pe.width,ht=Pe.height,vt=Pe.element;vt.removeClass("dragging"),oe.dragging.x>-1&&vt.css("height","".concat(ht,"px")),oe.dragging.y>-1&&vt.css("width","".concat(nt,"px")),oe.dragging=void 0,oe.renderRowBars(),oe.emit("sizeChanged")}oe.unbindChangeSizeEvent()}},oe.onDragStartColsHeader=function(me){var Pe,nt;me.stopPropagation();var ht=oe.table.selection,vt=ht.getSelectArea();if(!(!me.target||!vt.allRow)){var St=(0,d.$)(me.target).closest(Ae.COLS_HEADER_ITEM_CLASS);if(St.length!==0){var It=(Pe=oe.colsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.COLS_HEADER_ITEM_CLASS).toArray().findIndex(function(Tt){return Tt.equal(St)});if(It!==void 0){var Kt=It;Kt<vt.begin.col||Kt>vt.end.col||(oe.draggingHeader={element:St,minIndex:vt.begin.col,maxIndex:vt.end.col,count:vt.end.col-vt.begin.col+1},St.addClass("dragging"),St.find(".drag-info").html(oe.editor.language.get("table","draggingCol").replace("$data",oe.draggingHeader.count.toString())),(nt=oe.colsHeader)===null||nt===void 0||nt.addClass("dragging"),oe.table.helper.fixDragEvent(me),oe.bindDragColEvent())}}}},oe.onDragStartRowsHeader=function(me){var Pe,nt;me.stopPropagation();var ht=oe.table.selection,vt=ht.getSelectArea();if(!(!me.target||!vt.allCol)){var St=(0,d.$)(me.target).closest(Ae.ROWS_HEADER_ITEM_CLASS);if(St.length!==0){var It=(Pe=oe.rowsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.ROWS_HEADER_ITEM_CLASS).toArray().findIndex(function(Tt){return Tt.equal(St)});if(It!==void 0){var Kt=It;Kt<vt.begin.row||Kt>vt.end.row||(oe.draggingHeader={element:St,minIndex:vt.begin.row,maxIndex:vt.end.row,count:vt.end.row-vt.begin.row+1},St.addClass("dragging"),St.find(".drag-info").html(oe.editor.language.get("table","draggingRow").replace("$data",oe.draggingHeader.count.toString())),(nt=oe.rowsHeader)===null||nt===void 0||nt.addClass("dragging"),oe.table.helper.fixDragEvent(me),oe.bindDragRowEvent())}}}},oe.onDragCol=function(me){var Pe;if(me.stopPropagation(),!(!oe.draggingHeader||!me.target)&&(oe.dragging===void 0&&(oe.dragging={x:me.offsetX,y:me.offsetY}),me.dataTransfer&&(me.dataTransfer.dropEffect="move"),!(Math.abs(oe.dragging.x-me.offsetX)<3))){oe.dragging.x=me.offsetX,oe.draggingHeader.element.removeClass("dragging");var nt=(0,d.$)(me.target).closest("td"),ht=(0,d.$)(me.target).closest(Ae.COLS_HEADER_ITEM_CLASS);if(!(nt.length===0&&ht.length===0)){if(ht.length>0){var vt,St=(vt=oe.colsHeader)===null||vt===void 0?void 0:vt.find(Ae.COLS_HEADER_ITEM_CLASS).toArray().findIndex(function(jn){return jn.equal(ht)});if(St===void 0)return;var It=St,Kt=me.offsetX>ht.get().offsetWidth/2?It+1:It;oe.showPlaceHolder(Kt,Kt!==It);return}var Tt=(Pe=oe.colsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.COLS_HEADER_ITEM_CLASS);if(!!Tt){for(var Lt=nt.get(),Gt=Lt.colSpan,Yt=oe.table.selection.getCellPoint(nt),Mn=(0,Y.Z)(Yt,2),Dn=Mn[0],wn=Mn[1],mn=wn,On=0,Rn=0;Rn<Gt;Rn++){var Kn=Tt.eq(wn+Rn).get();if(On+Kn.offsetWidth/2>me.offsetX){mn=wn+Rn;break}if(On+Kn.offsetWidth>me.offsetX){mn=wn+Rn+1;break}On+=Kn.offsetWidth}oe.showPlaceHolder(mn,mn!==wn)}}}},oe.onDragColEnd=function(){var me,Pe;oe.unbindDragColEvent();var nt=oe.draggingHeader||{},ht=nt.index,vt=nt.count,St=nt.isNext;if(!(!oe.draggingHeader||ht===void 0||vt===void 0)){var It=oe.table,Kt=It.command,Tt=It.selection,Lt=Tt.getSelectArea(),Gt=(me=oe.table.wrapper)===null||me===void 0?void 0:me.find(Ae.COLS_HEADER_ITEM_CLASS);if(!!Gt){for(var Yt=[],Mn=Lt.begin.col;Mn<=Lt.end.col;Mn++){var Dn,wn;Yt.push(((Dn=Gt.eq(Mn))===null||Dn===void 0||(wn=Dn.get())===null||wn===void 0?void 0:wn.offsetWidth)||0)}if(Kt.mockCopy(),Lt.begin.col>ht){var mn=St?ht-1:ht;Kt.removeCol(),Kt.insertColAt(mn,vt,St,Yt,!0),Tt.selectCol(mn,mn+vt-1),Kt.mockPaste(!0)}else{Kt.removeCol();var On=(St?ht-1:ht)-vt;Kt.insertColAt(On,vt,St,Yt,!0),Tt.selectCol(On+1,On+vt),Kt.mockPaste(!0)}(Pe=oe.placeholder)===null||Pe===void 0||Pe.css("display","none"),oe.draggingHeader=void 0,oe.dragging=void 0}}},oe.onDragRow=function(me){var Pe;if(me.stopPropagation(),!(!oe.draggingHeader||!me.target)&&(oe.dragging===void 0&&(oe.dragging={x:me.offsetX,y:me.offsetY}),!(Math.abs(oe.dragging.y-me.offsetY)<3))){oe.dragging.y=me.offsetY,oe.draggingHeader.element.removeClass("dragging");var nt=(0,d.$)(me.target).closest("td"),ht=(0,d.$)(me.target).closest(Ae.ROWS_HEADER_ITEM_CLASS);if(!(nt.length===0&&ht.length===0)){if(ht.length>0){var vt,St=(vt=oe.rowsHeader)===null||vt===void 0?void 0:vt.find(Ae.ROWS_HEADER_ITEM_CLASS).toArray().findIndex(function(Rn){return Rn.equal(ht)});if(St===void 0)return;var It=St,Kt=me.offsetY>ht.get().offsetHeight/2?It+1:It;oe.showPlaceHolder(Kt,Kt!==It);return}var Tt=(Pe=oe.rowsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.ROWS_HEADER_ITEM_CLASS);if(!!Tt){for(var Lt=nt.get().rowSpan,Gt=oe.table.selection.getCellPoint(nt),Yt=(0,Y.Z)(Gt,1),Mn=Yt[0],Dn=Mn,wn=0,mn=0;mn<Lt;mn++){var On=Tt[Mn+mn];if(wn+On.offsetHeight/2>me.offsetY){Dn=Mn+mn;break}if(wn+On.offsetHeight>me.offsetY){Dn=Mn+mn+1;break}wn+=On.offsetHeight}oe.showPlaceHolder(Dn,Dn!==Mn)}}}},oe.onDragRowEnd=function(){var me;oe.unbindDragRowEvent();var Pe=oe.draggingHeader||{},nt=Pe.index,ht=Pe.count,vt=Pe.isNext;if(!(!oe.draggingHeader||nt===void 0||ht===void 0)){var St=oe.table,It=St.command,Kt=St.selection,Tt=Kt.getSelectArea(),Lt=Tt.begin,Gt=Tt.end;if(It.mockCopy(),Lt.row>nt){var Yt=vt?nt-1:nt;It.removeRow(),It.insertRowAt(Yt,ht,!vt,!0),Kt.selectRow(nt,nt+ht-1),It.mockPaste(!0)}else{It.removeRow();var Mn=(vt?nt-1:nt)-ht;It.insertRowAt(Mn,ht,!vt,!0),Kt.selectRow(Mn+1,Mn+ht),It.mockPaste(!0)}(me=oe.placeholder)===null||me===void 0||me.css("display","none"),oe.draggingHeader=void 0,oe.dragging=void 0}},oe.menuSets=new WeakSet,oe.onMenuInputMousedown=function(me){me.stopPropagation()},oe.handleHighlightRow=function(){var me=oe.table.selection,Pe=me.tableModel;if(!!Pe){var nt=(0,v.Z)({},me.getSelectArea());nt.allCol=!0,nt.begin={row:nt.begin.row,col:0},nt.end={row:nt.end.row,col:Pe.cols-1},me.showHighlight(nt)}},oe.handleHighlightCol=function(){var me=oe.table.selection,Pe=me.tableModel;if(!!Pe){var nt=(0,v.Z)({},me.getSelectArea());nt.allRow=!0,nt.begin={row:0,col:nt.begin.col},nt.end={row:Pe.rows-1,col:nt.end.col},me.showHighlight(nt)}},oe.handleHighlightTable=function(){var me=oe.table.selection,Pe=me.tableModel;if(!!Pe){var nt=(0,v.Z)({},me.getSelectArea());nt.allRow=!0,nt.allCol=!0,nt.begin={row:0,col:0},nt.end={row:Pe.rows-1,col:Pe.cols-1},me.showHighlight(nt)}},oe.table=Ee,oe.editor=Zt,oe.COL_MIN_WIDTH=pe.col_min_width,oe.ROW_MIN_HEIGHT=pe.row_min_height,oe.MAX_INSERT_NUM=pe.max_insert_num,oe}return(0,x.Z)(qt,[{key:"init",value:function(){var Ee=this.table.wrapper;!Ee||(this.tableRoot=Ee.find(Ae.TABLE_CLASS),this.colsHeader=Ee.find(Ae.COLS_HEADER_CLASS),this.rowsHeader=Ee.find(Ae.ROWS_HEADER_CLASS),this.tableHeader=Ee.find(Ae.HEADER_CLASS),this.viewport=Ee.find(Ae.VIEWPORT),this.menuBar=Ee.find(Ae.MENUBAR_CLASS),this.placeholder=Ee.find(Ae.PLACEHOLDER_CLASS),this.renderRowBars(),this.renderColBars(),this.bindEvents())}},{key:"renderRowBars",value:function(){var Ee,pe,oe,me,Pe,nt,ht,vt=this,St,It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Kt=(Ee=this.tableRoot)===null||Ee===void 0?void 0:Ee.get();if(!!Kt&&((pe=this.rowDeleteButton)===null||pe===void 0||pe.removeAllEvents(),this.rowDeleteButton=(oe=this.rowsHeader)===null||oe===void 0?void 0:oe.find(Ae.ROW_DELETE_BUTTON_CLASS),(me=this.rowAddButton)===null||me===void 0||me.removeAllEvents(),this.rowAddButton=(Pe=this.rowsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.ROW_ADD_BUTTON_CLASS),this.rowAddButtonSplit=(nt=this.rowAddButton)===null||nt===void 0?void 0:nt.find(Ae.ROW_ADD_BUTTON_SPLIT_CLASS),(ht=this.rowDeleteButton)===null||ht===void 0||ht.on("mouseover",function(Un){return vt.handleHighlightRow()}).on("mouseleave",function(Un){return vt.hideHighlight(Un)}).on("mousedown",function(Un){Un.preventDefault(),vt.table.command.removeRow()}),(St=this.rowAddButton)===null||St===void 0||St.on("mouseenter",function(){var Un;vt.hideRowAddButtonTimeount&&clearTimeout(vt.hideRowAddButtonTimeount),(Un=vt.rowsHeader)===null||Un===void 0||Un.css("z-index",128)}).on("mouseleave",function(){vt.hideRowAddButtonTimeount=setTimeout(function(){var Un,yi;(Un=vt.rowAddButton)===null||Un===void 0||Un.hide(),(yi=vt.rowsHeader)===null||yi===void 0||yi.css("z-index",1),vt.moveRowIndex=-1},200)}).on("mousedown",function(Un){Un.preventDefault(),vt.table.command.insertRowAt(vt.moveRowIndex,1,vt.rowAddAlign!=="down")}),It)){var Tt,Lt,Gt,Yt,Mn=Kt.rows,Dn=(Mn==null?void 0:Mn.length)||0,wn=(Tt=this.rowsHeader)===null||Tt===void 0?void 0:Tt.find(Ae.ROWS_HEADER_ITEM_CLASS);if(wn)for(var mn=0;mn<Dn;mn++){var On=(0,d.yx)(Mn[mn],"height"),Rn=wn[mn],Kn=Rn==null?void 0:Rn.style.height;Rn&&On!==Kn&&(Rn.style.height=On)}var jn=(Lt=this.rowsHeader)===null||Lt===void 0?void 0:Lt.find(Ae.ROWS_HEADER_TRIGGER_CLASS),tr=this.tableRoot.width(),cr=((Gt=this.table.wrapper)===null||Gt===void 0?void 0:Gt.width())||0,ar=tr<cr?tr:cr,Zn=ar+(((Yt=this.rowsHeader)===null||Yt===void 0?void 0:Yt.width())||0)-1;jn==null||jn.each(function(Un){var yi=Un.style.width;yi!==Zn+"px"&&(Un.style.width=Zn+"px")})}}},{key:"renderColBars",value:function(){var Ee,pe,oe,me,Pe,nt,ht,vt=this,St,It,Kt,Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Lt=(Ee=this.tableRoot)===null||Ee===void 0?void 0:Ee.get();if(!!Lt){var Gt=(0,d.ZQ)((0,d.yx)(Lt,"width"));(pe=this.colDeleteButton)===null||pe===void 0||pe.removeAllEvents(),this.colDeleteButton=(oe=this.table.wrapper)===null||oe===void 0?void 0:oe.find(Ae.COL_DELETE_BUTTON_CLASS),(me=this.colAddButton)===null||me===void 0||me.removeAllEvents(),this.colAddButton=(Pe=this.colsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.COL_ADD_BUTTON_CLASS),this.colAddButtonSplit=(nt=this.colAddButton)===null||nt===void 0?void 0:nt.find(Ae.COL_ADD_BUTTON_SPLIT_CLASS),(ht=this.colDeleteButton)===null||ht===void 0||ht.on("mouseover",function(Yt){return vt.handleHighlightCol()}).on("mouseleave",function(Yt){return vt.hideHighlight(Yt)}).on("mousedown",function(Yt){Yt.preventDefault(),vt.table.command.removeCol()}),(St=this.colAddButton)===null||St===void 0||St.on("mouseenter",function(){vt.hideColAddButtonTimeount&&clearTimeout(vt.hideColAddButtonTimeount)}).on("mouseleave",function(){vt.hideColAddButtonTimeount=setTimeout(function(){var Yt;(Yt=vt.colAddButton)===null||Yt===void 0||Yt.hide(),vt.moveColIndex=-1},200)}).on("mousedown",function(Yt){Yt.preventDefault(),vt.moveColIndex>-1&&vt.table.command.insertColAt(vt.moveColIndex,1,vt.colAddAlign!=="right")}),(It=this.tableRoot)===null||It===void 0||It.css("width","".concat(Gt,"px")),(Kt=this.colsHeader)===null||Kt===void 0||Kt.css("width","".concat(Gt,"px")),Tt&&this.renderColSize()}}},{key:"renderColSize",value:function(){var Ee,pe,oe,me=this,Pe,nt,ht=(Ee=this.tableRoot)===null||Ee===void 0?void 0:Ee.get();if(!!ht){var vt=(0,d.ZQ)((0,d.yx)(ht,"width")),St=(pe=this.tableRoot)===null||pe===void 0?void 0:pe.find("col");if(!!St){var It=!0,Kt={},Tt=0,Lt=0;St.each(function(yi,gi){var Xr=St[gi],Vn=(0,d.ZQ)((0,d.$)(Xr).attributes("width"));Vn?(Kt[gi]=Vn,Tt+=Vn,It=!1):Lt++});var Gt=(oe=this.colsHeader)===null||oe===void 0?void 0:oe.find(Ae.COLS_HEADER_ITEM_CLASS);if(!!Gt){var Yt=this.table.selection.tableModel;if(It){var Mn,Dn=[];Yt==null||(Mn=Yt.table)===null||Mn===void 0||Mn.forEach(function(yi){yi.forEach(function(gi,Xr){!Dn[Xr]&&!me.table.helper.isEmptyModelCol(gi)&&!gi.isMulti&&gi.element&&(Dn[Xr]=(0,d.ZQ)((0,d.yx)(gi.element,"width")))})});for(var wn=0,mn=0,On=0;On<St.length;On++)Dn[On]?mn+=Dn[On]:wn++;var Rn=0;wn>0&&(Rn=Math.round(Math.round((vt-mn)/wn)*1e4)/1e4);for(var Kn=0;Kn<St.length;Kn++){var jn,tr,cr=Dn[Kn]||Rn;(jn=Gt.eq(Kn))===null||jn===void 0||jn.css("width",cr+"px"),(tr=St.eq(Kn))===null||tr===void 0||tr.attributes("width",cr)}}else if(Lt){var ar=Math.round((vt-Tt)/Lt*1e4)/1e4;St.each(function(yi,gi){var Xr,Vn,ci=Kt[gi]===void 0?ar:Kt[gi];(Xr=Gt.eq(gi))===null||Xr===void 0||Xr.css("width",ci+"px"),(Vn=St.eq(gi))===null||Vn===void 0||Vn.attributes("width",ci)})}else St.each(function(yi,gi){var Xr=Math.round(vt*Kt[gi]/Tt*1e4)/1e4,Vn=Gt[gi],ci=Vn==null?void 0:Vn.style.width;Vn&&ci!==Xr+"px"&&(Vn.style.width=Xr+"px")});var Zn=(Pe=this.colsHeader)===null||Pe===void 0?void 0:Pe.find(Ae.COLS_HEADER_TRIGGER_CLASS),Un=((Yt==null?void 0:Yt.height)||0)+(((nt=this.colsHeader)===null||nt===void 0?void 0:nt.height())||0);Zn==null||Zn.each(function(yi){var gi=yi.style.height;gi!==Un+"px"&&(yi.style.height=Un+"px")})}}}}},{key:"bindEvents",value:function(){var Ee,pe,oe,me,Pe,nt,ht,vt,St=this,It,Kt,Tt,Lt,Gt,Yt,Mn,Dn,wn,mn;(Ee=this.colsHeader)===null||Ee===void 0||Ee.on(d.tq?"touchstart":"mousedown",this.onMouseDownColsHeader).on("mouseup",this.onClickColsHeader).on("dragstart",this.onDragStartColsHeader),(pe=this.rowsHeader)===null||pe===void 0||pe.on(d.tq?"touchstart":"mousedown",this.onMouseDownRowsHeader).on("mouseup",this.onClickRowsHeader).on("dragstart",this.onDragStartRowsHeader),(oe=this.tableHeader)===null||oe===void 0||oe.on("mousedown",this.onClickTableHeader),(me=this.table.wrapper)===null||me===void 0||me.on("contextmenu",function(Zn){return Zn.preventDefault()}),(Pe=this.tableRoot)===null||Pe===void 0||Pe.on("contextmenu",function(Zn){return Zn.preventDefault()}),(nt=this.colsHeader)===null||nt===void 0||nt.on("contextmenu",function(Zn){return Zn.preventDefault()}),(ht=this.rowsHeader)===null||ht===void 0||ht.on("contextmenu",function(Zn){return Zn.preventDefault()}),(vt=this.tableRoot)===null||vt===void 0||vt.on("mousedown",function(Zn){return St.onTableMouseDown(Zn)}),(It=this.menuBar)===null||It===void 0||It.on("click",function(Zn){return St.handleClickMenu(Zn)}),(Kt=this.menuBar)===null||Kt===void 0||Kt.on("mouseover",function(Zn){return St.handleHoverMenu(Zn)}),(Tt=this.menuBar)===null||Tt===void 0||Tt.on("mouseleave",function(Zn){return St.hideHighlight(Zn)});var On=this.editor;(Lt=this.viewport)===null||Lt===void 0||Lt.on(d.tq?"touchstart":"mousedown",function(Zn){var Un;if(!!Zn.target){var yi=(0,d.$)(Zn.target);if(!(!(0,d.iC)(On)||!Zn.target||!(!((Un=St.viewport)===null||Un===void 0)&&Un.equal(yi)))){Zn.preventDefault(),Zn.stopPropagation();var gi=On.change,Xr=gi.range.get();On.card.focusPrevBlock(St.table,Xr,!0),On.card.activate(Xr.startNode,d.Fp.MOUSE_DOWN),gi.range.select(Xr)}}});var Rn=null;(Gt=this.colsHeader)===null||Gt===void 0||Gt.on("mouseenter",function(){St.hideColAddButtonTimeount&&clearTimeout(St.hideColAddButtonTimeount)}).on("mousemove",function(Zn){Rn&&clearTimeout(Rn),Rn=setTimeout(function(){St.onMouseMoveColsHeader(Zn)},200)}).on("mouseleave",function(Zn){Rn&&clearTimeout(Rn),St.hideColAddButtonTimeount=setTimeout(function(){var Un;(Un=St.colAddButton)===null||Un===void 0||Un.hide()},200)});var Kn=null;(Yt=this.colsHeader)===null||Yt===void 0||Yt.find(Ae.COLS_HEADER_ITEM_CLASS).on("mouseenter",function(Zn){Kn&&clearTimeout(Kn),Kn=setTimeout(function(){Zn.target&&(0,d.$)(Zn.target).closest(Ae.COLS_HEADER_ITEM_CLASS).addClass("active")},200)}).on("mouseleave",function(Zn){Kn&&clearTimeout(Kn),Zn.target&&(0,d.$)(Zn.target).closest(Ae.COLS_HEADER_ITEM_CLASS).removeClass("active")});var jn=null;(Mn=this.colsHeader)===null||Mn===void 0||Mn.find(Ae.COLS_HEADER_TRIGGER_CLASS).on("mouseenter",function(Zn){jn&&clearTimeout(jn);var Un=(0,d.$)(Zn.target||[]);jn=setTimeout(function(){Un.addClass("active")},200)}).on("mouseleave",function(Zn){jn&&clearTimeout(jn),Zn.target&&(0,d.$)(Zn.target).removeClass("active")});var tr=null;(Dn=this.rowsHeader)===null||Dn===void 0||Dn.on("mouseenter",function(){St.hideRowAddButtonTimeount&&clearTimeout(St.hideRowAddButtonTimeount)}).on("mousemove",function(Zn){tr&&clearTimeout(tr),tr=setTimeout(function(){var Un;St.onMouseMoveRowsHeader(Zn),(Un=St.rowsHeader)===null||Un===void 0||Un.css("z-index",128)},200)}).on("mouseleave",function(){tr&&clearTimeout(tr),St.hideRowAddButtonTimeount=setTimeout(function(){var Zn,Un;(Zn=St.rowsHeader)===null||Zn===void 0||Zn.css("z-index",""),(Un=St.rowAddButton)===null||Un===void 0||Un.hide()},200)});var cr=null;(wn=this.rowsHeader)===null||wn===void 0||wn.find(Ae.ROWS_HEADER_ITEM_CLASS).on("mouseenter",function(Zn){cr&&clearTimeout(cr),cr=setTimeout(function(){Zn.target&&(0,d.$)(Zn.target).closest(Ae.ROWS_HEADER_ITEM_CLASS).addClass("active")},200)}).on("mouseleave",function(Zn){cr&&clearTimeout(cr),Zn.target&&(0,d.$)(Zn.target).closest(Ae.ROWS_HEADER_ITEM_CLASS).removeClass("active")});var ar=null;(mn=this.rowsHeader)===null||mn===void 0||mn.find(Ae.ROWS_HEADER_TRIGGER_CLASS).on("mouseenter",function(Zn){ar&&clearTimeout(ar);var Un=(0,d.$)(Zn.target||[]);ar=setTimeout(function(){Un.addClass("active")},200)}).on("mouseleave",function(Zn){ar&&clearTimeout(ar),Zn.target&&(0,d.$)(Zn.target).removeClass("active")})}},{key:"onTableMouseDown",value:function(Ee){if(!!Ee.target){var pe=(0,d.$)(Ee.target).closest("td");pe.length>0&&Ee.button===2&&this.table.activated?this.showContextMenu(Ee):this.hideContextMenu()}}},{key:"onMouseMoveColsHeader",value:function(Ee){var pe,oe;if(!(!Ee.target||!this.colAddButton||!this.colAddButtonSplit)){var me=(0,d.$)(Ee.target),Pe=me.closest(Ae.COLS_HEADER_ITEM_CLASS);if(Pe.length!==0){var nt=this.colsHeader.find(Ae.COLS_HEADER_ITEM_CLASS).toArray(),ht=Pe.width(),vt=this.colAddButton.width(),St=Pe.get().offsetLeft,It=nt.findIndex(function(Gt){return Gt.equal(Pe)}),Kt=Ee.offsetX>ht/2||me.hasClass("cols-trigger"),Tt=nt[nt.length-1].equal(Pe);Kt&&(St+=Tt?ht-vt/2:ht),this.colAddAlign=Kt?"left":"right",this.moveColIndex=It,(pe=this.colAddButton)===null||pe===void 0||pe.show("flex"),this.colAddButton.css("left","".concat(St,"px")),this.colAddButton.css("z-index",128);var Lt=(((oe=this.table.selection.tableModel)===null||oe===void 0?void 0:oe.height)||0)+Pe.height()+4;this.colAddButtonSplit.css("height","".concat(Lt,"px")),this.colAddButtonSplit.css("left","".concat(Tt&&Kt?vt-3+"px":""))}}}},{key:"onMouseMoveRowsHeader",value:function(Ee){var pe,oe;if(!(!Ee.target||!this.rowAddButton||!this.rowAddButtonSplit)){var me=(0,d.$)(Ee.target),Pe=me.closest(Ae.ROWS_HEADER_ITEM_CLASS);if(Pe.length!==0){var nt=this.rowsHeader.find(Ae.ROWS_HEADER_ITEM_CLASS).toArray(),ht=Pe.height(),vt=Pe.get().offsetTop,St=nt.findIndex(function(Gt){return Gt.equal(Pe)}),It=Ee.offsetY>ht/2||me.hasClass("rows-trigger");It&&(vt+=ht),this.moveRowIndex=St,this.rowAddButton.show("flex"),this.rowAddButton.css("top","".concat(vt,"px")),this.rowAddAlign=It?"down":"up";var Kt=(pe=this.viewport)===null||pe===void 0?void 0:pe.get(),Tt=(((oe=this.table.selection.tableModel)===null||oe===void 0?void 0:oe.width)||0)+Pe.width()+4,Lt=Math.min(Kt.offsetWidth+4,Tt);this.rowAddButtonSplit.css("width","".concat(Lt,"px"))}}}},{key:"activeHeader",value:function(){var Ee,pe,oe,me=this.table.selection.getSelectArea();this.clearActiveStatus();var Pe=(Ee=this.colsHeader)===null||Ee===void 0?void 0:Ee.find(Ae.COLS_HEADER_ITEM_CLASS),nt=(pe=this.rowsHeader)===null||pe===void 0?void 0:pe.find(Ae.ROWS_HEADER_ITEM_CLASS),ht=me.begin,vt=me.end,St=me.allCol,It=me.allRow;if(nt){for(var Kt=ht.row;Kt<=vt.row;Kt++)if(St){var Tt=nt[Kt];Tt!=null&&Tt.classList.contains("selected")||Tt==null||Tt.classList.add("selected"),It&&!(Tt!=null&&Tt.classList.contains("no-dragger"))&&(Tt==null||Tt.classList.add("no-dragger"))}}if(Pe){for(var Lt=ht.col;Lt<=vt.col;Lt++)if(It){var Gt=Pe[Lt];Gt!=null&&Gt.classList.contains("selected")||Gt==null||Gt.classList.add("selected"),St&&!(Gt!=null&&Gt.classList.contains("no-dragger"))&&(Gt==null||Gt.classList.add("no-dragger"))}}var Yt=(oe=this.tableHeader)===null||oe===void 0?void 0:oe.get();if(St&&It?Yt!=null&&Yt.classList.contains("selected")||Yt==null||Yt.classList.add("selected"):Yt!=null&&Yt.classList.contains("selected")&&(Yt==null||Yt.classList.remove("selected")),St&&!It){var Mn,Dn=(Mn=this.tableRoot)===null||Mn===void 0?void 0:Mn.find("tr").eq(ht.row);if(Dn){var wn,mn,On=Dn.get().offsetTop;(wn=this.rowDeleteButton)===null||wn===void 0||wn.show("flex"),(mn=this.rowDeleteButton)===null||mn===void 0||mn.css("top","".concat(On-this.rowDeleteButton.height(),"px"))}}else{var Rn;(Rn=this.rowDeleteButton)===null||Rn===void 0||Rn.hide()}if(!St&&It){for(var Kn,jn,tr,cr,ar=0,Zn=ht.col;Zn<=vt.col;Zn++){var Un;ar+=(Pe==null||(Un=Pe.eq(Zn))===null||Un===void 0?void 0:Un.width())||0}var yi=(Pe==null||(Kn=Pe.eq(ht.col))===null||Kn===void 0||(jn=Kn.get())===null||jn===void 0?void 0:jn.offsetLeft)||0;(tr=this.colDeleteButton)===null||tr===void 0||tr.show("flex"),(cr=this.colDeleteButton)===null||cr===void 0||cr.css("left","".concat(yi+ar/2,"px"))}else{var gi;(gi=this.colDeleteButton)===null||gi===void 0||gi.hide()}}},{key:"clearActiveStatus",value:function(){var Ee,pe,oe,me=(Ee=this.colsHeader)===null||Ee===void 0?void 0:Ee.find(Ae.COLS_HEADER_ITEM_CLASS),Pe=(pe=this.rowsHeader)===null||pe===void 0?void 0:pe.find(Ae.ROWS_HEADER_ITEM_CLASS);me==null||me.each(function(ht){var vt=ht;vt.classList.contains("selected")&&vt.classList.remove("selected"),vt.classList.contains("no-dragger")&&vt.classList.remove("no-dragger")}),Pe==null||Pe.each(function(ht){var vt=ht;vt.classList.contains("selected")&&vt.classList.remove("selected"),vt.classList.contains("no-dragger")&&vt.classList.remove("no-dragger")});var nt=(oe=this.tableHeader)===null||oe===void 0?void 0:oe.get();nt!=null&&nt.classList.contains("selected")&&nt.classList.remove("selected")}},{key:"refresh",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.renderColBars(Ee),this.renderRowBars(Ee),this.activeHeader()}},{key:"startChangeCol",value:function(Ee,pe){var oe,me,Pe;pe.stopPropagation(),pe.preventDefault();var nt=Ee.parent(),ht=nt.get();this.table.selection.clearSelect(),this.dragging={x:pe instanceof MouseEvent?pe.clientX:pe.touches[0].clientX,y:-1};var vt=((oe=this.colsHeader)===null||oe===void 0?void 0:oe.find(Ae.COLS_HEADER_ITEM_CLASS).toArray().findIndex(function(St){return St.equal(nt)}))||0;this.changeSize={trigger:{element:Ee,height:(0,d.ZQ)((0,d.yx)(Ee.get(),"height")),width:(0,d.ZQ)((0,d.yx)(Ee.get(),"width"))},element:nt,width:(0,d.ZQ)((0,d.yx)(ht,"width")),height:-1,index:vt,table:{width:((me=this.table.selection.tableModel)===null||me===void 0?void 0:me.width)||0,height:((Pe=this.table.selection.tableModel)===null||Pe===void 0?void 0:Pe.height)||0}},this.bindChangeSizeEvent()}},{key:"startChangeRow",value:function(Ee,pe){var oe,me,Pe;pe.stopPropagation(),pe.preventDefault();var nt=Ee.parent(),ht=nt.get();this.table.selection.clearSelect(),this.dragging={x:-1,y:pe instanceof MouseEvent?pe.clientY:pe.touches[0].clientY};var vt=((oe=this.rowsHeader)===null||oe===void 0?void 0:oe.find(Ae.ROWS_HEADER_ITEM_CLASS).toArray().findIndex(function(St){return St.equal(nt)}))||0;this.changeSize={trigger:{element:Ee,height:(0,d.ZQ)((0,d.yx)(Ee.get(),"height")),width:(0,d.ZQ)((0,d.yx)(Ee.get(),"width"))},element:nt,width:-1,height:(0,d.ZQ)((0,d.yx)(ht,"height")),index:vt,table:{width:((me=this.table.selection.tableModel)===null||me===void 0?void 0:me.width)||0,height:((Pe=this.table.selection.tableModel)===null||Pe===void 0?void 0:Pe.height)||0}},this.bindChangeSizeEvent()}},{key:"bindChangeSizeEvent",value:function(){var Ee,pe;(Ee=this.colsHeader)===null||Ee===void 0||Ee.addClass("resize"),(pe=this.rowsHeader)===null||pe===void 0||pe.addClass("resize"),document.addEventListener(d.tq?"touchmove":"mousemove",this.onChangeSize),document.addEventListener(d.tq?"touchend":"mouseup",this.onChangeSizeEnd),d.tq||document.addEventListener("mouseleave",this.onChangeSizeEnd)}},{key:"unbindChangeSizeEvent",value:function(){var Ee,pe;(Ee=this.colsHeader)===null||Ee===void 0||Ee.removeClass("resize"),(pe=this.rowsHeader)===null||pe===void 0||pe.removeClass("resize"),document.removeEventListener(d.tq?"touchmove":"mousemove",this.onChangeSize),document.removeEventListener(d.tq?"touchend":"mouseup",this.onChangeSizeEnd),d.tq||document.removeEventListener("mouseleave",this.onChangeSizeEnd)}},{key:"onChangeColWidth",value:function(Ee){var pe,oe,me,Pe,nt;if(!(!this.dragging||!this.changeSize)){var ht=(Ee instanceof MouseEvent?Ee.clientX:Ee.touches[0].clientX)-this.dragging.x,vt=Math.max(this.COL_MIN_WIDTH,this.changeSize.width+ht);ht=vt-this.changeSize.width;var St=this.changeSize.table.width+ht;this.changeSize.element.css("width",vt+"px");var It=this.changeSize.element.get();(pe=this.colsHeader)===null||pe===void 0||pe.css("width",St+"px");var Kt=(oe=this.viewport)===null||oe===void 0?void 0:oe.get(),Tt=It.offsetLeft+It.offsetWidth;Tt-Kt.scrollLeft+20>Kt.offsetWidth?Kt.scrollLeft=Tt+20-Kt.offsetWidth:Kt.scrollLeft+Kt.offsetWidth===Kt.scrollWidth&&(Kt.scrollLeft=Math.max(0,St+34-Kt.offsetWidth)),this.clearActiveStatus(),this.hideContextMenu(),this.renderRowBars(),this.renderColSplitBars(this.changeSize.element,this.changeSize.trigger.element),(me=this.tableRoot)===null||me===void 0||(Pe=me.find("col").eq(this.changeSize.index))===null||Pe===void 0||Pe.attributes("width",vt),(nt=this.tableRoot)===null||nt===void 0||nt.css("width","".concat(St,"px"))}}},{key:"onChangeRowHeight",value:function(Ee){var pe,oe;if(!(!this.dragging||!this.changeSize)){var me=(Ee instanceof MouseEvent?Ee.clientY:Ee.touches[0].clientY)-this.dragging.y,Pe=Math.max(this.ROW_MIN_HEIGHT,this.changeSize.height+me);me=Pe-this.changeSize.height,this.changeSize.element.css("height",Pe+"px"),this.clearActiveStatus(),this.hideContextMenu(),this.renderRowSplitBars(this.changeSize.element,this.changeSize.trigger.element),(pe=this.tableRoot)===null||pe===void 0||(oe=pe.find("tr").eq(this.changeSize.index))===null||oe===void 0||oe.css("height","".concat(Pe,"px"))}}},{key:"renderColSplitBars",value:function(Ee,pe){var oe,me=((oe=this.table.selection.tableModel)===null||oe===void 0?void 0:oe.height)||0;pe.addClass("dragging").css("height","".concat(me+Ee.height(),"px"))}},{key:"renderRowSplitBars",value:function(Ee,pe){var oe,me,Pe=(oe=this.viewport)===null||oe===void 0?void 0:oe.get(),nt=((me=this.table.selection.tableModel)===null||me===void 0?void 0:me.width)||0,ht=Math.min(Pe.offsetWidth-Ee.width(),nt);pe.addClass("dragging").css("width","".concat(ht+Ee.width(),"px"))}},{key:"bindDragColEvent",value:function(){var Ee=this.table.wrapper;Ee==null||Ee.on("dragover",this.onDragCol),Ee==null||Ee.on("drop",this.onDragColEnd),Ee==null||Ee.on("dragend",this.onDragColEnd)}},{key:"unbindDragColEvent",value:function(){var Ee,pe,oe=this.table.wrapper,me=(Ee=this.colsHeader)===null||Ee===void 0?void 0:Ee.find(Ae.COLS_HEADER_ITEM_CLASS);me==null||me.removeClass("dragging"),(pe=this.colsHeader)===null||pe===void 0||pe.removeClass("dragging"),oe==null||oe.off("dragover",this.onDragCol),oe==null||oe.off("drop",this.onDragColEnd),oe==null||oe.off("dragend",this.onDragColEnd)}},{key:"bindDragRowEvent",value:function(){var Ee=this.table.wrapper;Ee==null||Ee.on("dragover",this.onDragRow),Ee==null||Ee.on("drop",this.onDragRowEnd),Ee==null||Ee.on("dragend",this.onDragRowEnd)}},{key:"unbindDragRowEvent",value:function(){var Ee,pe,oe=this.table.wrapper,me=(Ee=this.rowsHeader)===null||Ee===void 0?void 0:Ee.find(Ae.ROWS_HEADER_ITEM_CLASS);me==null||me.removeClass("dragging"),(pe=this.rowsHeader)===null||pe===void 0||pe.removeClass("dragging"),oe==null||oe.off("dragover",this.onDragRow),oe==null||oe.off("drop",this.onDragRowEnd),oe==null||oe.off("dragend",this.onDragRowEnd)}},{key:"showPlaceHolder",value:function(Ee,pe){if(!!this.draggingHeader){var oe=this.draggingHeader,me=oe.element,Pe=oe.minIndex,nt=oe.maxIndex;if(me.closest(Ae.COLS_HEADER_CLASS).length>0){var ht,vt,St,It,Kt,Tt,Lt,Gt,Yt,Mn;if(Ee===this.draggingHeader.index)return;if(Pe<=Ee&&Ee<=nt+1){var Dn;delete this.draggingHeader.index,delete this.draggingHeader.isNext,(Dn=this.placeholder)===null||Dn===void 0||Dn.css("display","none");return}this.draggingHeader.isNext=pe,this.draggingHeader.index=Ee;var wn=(ht=this.colsHeader)===null||ht===void 0?void 0:ht.find(Ae.COLS_HEADER_ITEM_CLASS);if(!wn)return;var mn=this.draggingHeader.index!==wn.length?wn.eq(this.draggingHeader.index).get().offsetLeft+2:wn.eq(this.draggingHeader.index-1).get().offsetLeft+wn.eq(this.draggingHeader.index-1).get().offsetWidth+2,On=(vt=this.viewport)===null||vt===void 0?void 0:vt.get(),Rn=On.scrollLeft,Kn=On.offsetWidth;mn<Rn&&(On.scrollLeft=mn-5),mn>Rn+Kn&&(On.scrollLeft=mn-Kn+5);var jn=(((St=this.table.selection.tableModel)===null||St===void 0?void 0:St.height)||0)+wn.height(),tr=(It=this.viewport)===null||It===void 0?void 0:It.css("padding-top"),cr=((Kt=this.viewport)===null||Kt===void 0?void 0:Kt.css("padding-left"))||"0";(Tt=this.placeholder)===null||Tt===void 0||Tt.css("width","2px"),(Lt=this.placeholder)===null||Lt===void 0||Lt.css("height","".concat(jn,"px")),(Gt=this.placeholder)===null||Gt===void 0||Gt.css("left",mn-4+(0,d.ZQ)(cr)+"px"),(Yt=this.placeholder)===null||Yt===void 0||Yt.css("top",tr),(Mn=this.placeholder)===null||Mn===void 0||Mn.css("display","block")}else if(me.closest(Ae.ROWS_HEADER_CLASS).length>0){var ar,Zn,Un,yi,gi,Xr,Vn,ci,mi,oi;if(Ee===this.draggingHeader.index)return;if(Pe<=Ee&&Ee<=nt+1){var Ar;delete this.draggingHeader.index,delete this.draggingHeader.isNext,(Ar=this.placeholder)===null||Ar===void 0||Ar.css("display","none");return}this.draggingHeader.index=Ee,this.draggingHeader.isNext=pe;var Fr=(ar=this.rowsHeader)===null||ar===void 0?void 0:ar.find(Ae.ROWS_HEADER_ITEM_CLASS);if(!Fr)return;var lr=this.draggingHeader.index!==Fr.length?Fr.eq(this.draggingHeader.index).get().offsetTop+2:Fr.eq(this.draggingHeader.index-1).get().offsetTop+Fr.eq(this.draggingHeader.index-1).get().offsetHeight-2,Hr=((Zn=this.table.selection.tableModel)===null||Zn===void 0?void 0:Zn.width)||0,He=(Un=this.viewport)===null||Un===void 0?void 0:Un.css("padding-top"),kt=((yi=this.viewport)===null||yi===void 0?void 0:yi.css("padding-left"))||"0",Pn=(gi=this.colsHeader)===null||gi===void 0?void 0:gi.find(Ae.COLS_HEADER_ITEM_CLASS);(Xr=this.placeholder)===null||Xr===void 0||Xr.css("height","2px"),(Vn=this.placeholder)===null||Vn===void 0||Vn.css("width","".concat(Hr,"px")),(ci=this.placeholder)===null||ci===void 0||ci.css("left",kt),(mi=this.placeholder)===null||mi===void 0||mi.css("top",lr+(0,d.ZQ)(He||"0")+((Pn==null?void 0:Pn.height())||0)-2+"px"),(oi=this.placeholder)===null||oi===void 0||oi.css("display","block")}}}},{key:"removeRow",value:function(Ee){var pe,oe,me,Pe,nt=(pe=this.rowsHeader)===null||pe===void 0?void 0:pe.find(Ae.ROWS_HEADER_ITEM_CLASS),ht=nt==null||(oe=nt.eq(Ee))===null||oe===void 0?void 0:oe.get();ht&&((me=this.rowsHeader)===null||me===void 0||(Pe=me.get())===null||Pe===void 0||Pe.removeChild(ht))}},{key:"removeCol",value:function(Ee){var pe,oe,me,Pe,nt,ht,vt=(pe=this.colsHeader)===null||pe===void 0?void 0:pe.find(Ae.COLS_HEADER_ITEM_CLASS),St=(oe=this.colsHeader)===null||oe===void 0?void 0:oe.get(),It=vt==null||(me=vt.eq(Ee))===null||me===void 0?void 0:me.get();!St||!It||((Pe=this.colsHeader)===null||Pe===void 0||Pe.css("width",St.offsetWidth-It.offsetWidth+"px"),St.removeChild(It),(nt=this.tableRoot)===null||nt===void 0||nt.css("width",(ht=this.colsHeader)===null||ht===void 0?void 0:ht.css("width")))}},{key:"showContextMenu",value:function(Ee){var pe=this,oe=this.editor;if(!(!this.menuBar||!Ee.target||!this.table.wrapper||!oe.scrollNode)){Ee.preventDefault();var me=this.table.selection,Pe=this.menuBar.find(Ae.MENUBAR_ITEM_CLASS);Pe.removeClass("disabled"),Pe.each(function(wn){var mn=(0,d.$)(wn),On=mn.attributes("data-action");if(pe.getMenuDisabled(On))mn.addClass("disabled");else{var Rn=mn.find("input".concat(Ae.MENUBAR_ITEM_INPUT_CALSS));if(Rn.length===0)return;var Kn=Rn.get();pe.menuSets.has(wn)||(pe.menuSets.add(wn),Rn.on("blur",function(){Kn.value=Math.min(parseInt(Kn.value,10)||1,pe.MAX_INSERT_NUM).toString()}).on("keydown",function(ar){(0,d.P6)("enter",ar)&&pe.handleTriggerMenu(mn)}),Rn.on("mousedown",pe.onMenuInputMousedown));var jn=me.getSelectArea(),tr=["insertColLeft","insertColRight"].indexOf(On)>-1,cr=["insertRowUp","insertRowDown"].indexOf(On)>-1;tr&&(Kn.value="".concat(jn.end.col-jn.begin.col+1)),cr&&(Kn.value="".concat(jn.end.row-jn.begin.row+1))}});var nt=this.menuBar.find("div.split");nt.each(function(wn){for(var mn=(0,d.$)(wn),On=mn.prev();On;){if(On.hasClass("split")){mn.remove();break}if(!On.hasClass("disabled"))break;On=On.prev()}On||mn.remove()});for(var ht=(0,d.$)(Ee.target),vt=ht.getBoundingClientRect()||{top:0,left:0},St=ht.parent(),It=0,Kt=0;St&&St.closest(Ae.TABLE_WRAPPER_CLASS).length>0;){var Tt=St.getBoundingClientRect()||{top:0,left:0};It+=vt.top-Tt.top,Kt+=vt.left-Tt.left,vt=Tt,St=St.parent()}var Lt=this.table.wrapper.get().getBoundingClientRect(),Gt=oe.scrollNode.getViewport();It+=Ee.offsetY;var Yt=this.menuBar.height(),Mn=Lt.top+It+Yt+4;if(Mn>Gt.bottom){var Dn=Mn-Gt.bottom;It-Dn<0&&Lt.top+It-Dn<Gt.top&&(Dn=Lt.top+It-Gt.top),It-=Dn}this.menuBar.css("left",Kt+Ee.offsetX+"px"),this.menuBar.css("top",It+"px"),this.contextVisible=!0}}},{key:"hideContextMenu",value:function(){var Ee,pe;if(!!this.contextVisible){var oe=(Ee=this.menuBar)===null||Ee===void 0?void 0:Ee.find(Ae.MENUBAR_ITEM_CLASS);oe==null||oe.removeClass("disabled"),this.contextVisible=!1,(pe=this.menuBar)===null||pe===void 0||pe.css({top:"-99999px",left:"-99999px"})}}},{key:"getMenuDisabled",value:function(Ee){var pe=this.table,oe=pe.selection,me=pe.command;switch(Ee){case"cut":case"copy":return!oe.selectArea||oe.selectArea.count<=1;case"splitCell":return!oe.hasMergeCell();case"mergeCell":return!oe.selectArea;case"mockPaste":return!me.hasCopyData();case"removeCol":case"insertColLeft":case"insertColRight":return oe.isColSelected();case"removeRow":case"insertRowUp":case"insertRowDown":return oe.isRowSelected();default:return!1}}},{key:"handleClickMenu",value:function(Ee){if(!!Ee.target){var pe=(0,d.$)(Ee.target),oe=pe.closest(".table-menubar-item");oe.length===0||pe.name==="input"||(Ee.stopPropagation(),this.handleTriggerMenu(oe))}}},{key:"handleTriggerMenu",value:function(Ee){if(!Ee.hasClass("disabled")){var pe=Ee.attributes("data-action"),oe=Ee.find("input".concat(Ae.MENUBAR_ITEM_INPUT_CALSS)),me=void 0;if(oe.length>0){var Pe;me=Math.min(parseInt(((Pe=oe.get())===null||Pe===void 0?void 0:Pe.value)||"1",10),this.MAX_INSERT_NUM)}this.table.command[pe](me)}this.hideContextMenu()}},{key:"handleHoverMenu",value:function(Ee){if(!!Ee.target){var pe=(0,d.$)(Ee.target).closest(".table-menubar-item");if(pe.length!==0){Ee.stopPropagation();var oe=this.table.selection;if(!pe.hasClass("disabled")){var me=pe.attributes("data-action");switch(me){case"removeCol":this.handleHighlightCol();break;case"removeRow":this.handleHighlightRow();break;case"removeTable":this.handleHighlightTable();break;default:oe.hideHighlight()}}}}}},{key:"hideHighlight",value:function(Ee){Ee.stopPropagation(),this.table.selection.hideHighlight()}},{key:"drawBackgroundColor",value:function(Ee){var pe=this.table,oe=pe.selection,me=pe.helper;oe.each(function(Pe){!me.isEmptyModelCol(Pe)&&Pe.element&&(!Ee||Ee==="transparent"?Pe.element.style.removeProperty("background-color"):Pe.element.style.backgroundColor=Ee)})}},{key:"setAlign",value:function(Ee){var pe=this.table,oe=pe.selection,me=pe.helper;oe.each(function(Pe){!me.isEmptyModelCol(Pe)&&Pe.element&&(!Ee||Ee==="top"?Pe.element.style.removeProperty("vertical-align"):Pe.element.style.verticalAlign=Ee)})}},{key:"destroy",value:function(){var Ee,pe,oe,me,Pe,nt,ht,vt,St,It,Kt,Tt,Lt;(Ee=this.colsHeader)===null||Ee===void 0||Ee.removeAllEvents(),(pe=this.rowsHeader)===null||pe===void 0||pe.removeAllEvents(),(oe=this.tableHeader)===null||oe===void 0||oe.removeAllEvents(),(me=this.table.wrapper)===null||me===void 0||me.removeAllEvents(),(Pe=this.tableRoot)===null||Pe===void 0||Pe.removeAllEvents(),(nt=this.menuBar)===null||nt===void 0||nt.removeAllEvents(),(ht=this.viewport)===null||ht===void 0||ht.removeAllEvents(),(vt=this.rowDeleteButton)===null||vt===void 0||vt.removeAllEvents(),(St=this.colDeleteButton)===null||St===void 0||St.removeAllEvents(),(It=this.colAddButton)===null||It===void 0||It.removeAllEvents(),(Kt=this.colsHeader)===null||Kt===void 0||Kt.removeAllEvents(),(Tt=this.rowAddButton)===null||Tt===void 0||Tt.removeAllEvents(),(Lt=this.rowsHeader)===null||Lt===void 0||Lt.removeAllEvents()}}]),qt}(q.EventEmitter2),wt=function(Kr){(0,m.Z)(qt,Kr);var Tr=(0,p.Z)(qt);function qt(Zt,Ee){var pe;return(0,U.Z)(this,qt),pe=Tr.call(this),pe.editor=void 0,pe.table=void 0,pe.tableRoot=void 0,pe.colsHeader=void 0,pe.rowsHeader=void 0,pe.tableHeader=void 0,pe.tableModel=void 0,pe.selectArea=void 0,pe.selectRange=void 0,pe.dragging=void 0,pe.isShift=!1,pe.prevMouseDownTd=void 0,pe.prevOverTd=void 0,pe.highlight=void 0,pe.beginAllRow=void 0,pe.beginAllCol=void 0,pe.onTdMouseDown=function(oe){pe.selectRange=void 0;var me=pe.editor;if(!(!oe.target||!(0,d.iC)(me))){var Pe=me.change,nt=(0,d.$)(oe.target),ht=nt.closest("td");if(!(ht.length===0||!ht.inEditor())){var vt=Pe.range.get(),St=pe.getCellPoint(ht),It=(0,Y.Z)(St,2),Kt=It[0],Tt=It[1],Lt=!!ht.attributes("table-cell-selection");if(pe.isShift){var Gt={row:0,col:0};if(pe.prevMouseDownTd){var Yt=pe.getCellPoint(pe.prevMouseDownTd),Mn=(0,Y.Z)(Yt,2),Dn=Mn[0],wn=Mn[1];Gt={row:Dn,col:wn}}else if(pe.selectArea&&(Gt=pe.selectArea.begin,pe.tableModel)){var mn=pe.tableModel.table[Gt.row][Gt.col];!pe.table.helper.isEmptyModelCol(mn)&&mn.element&&(pe.prevMouseDownTd=(0,d.$)(mn.element))}pe.select(Gt,{row:Kt,col:Tt});return}else pe.prevMouseDownTd=ht,oe instanceof MouseEvent&&oe.button!==2&&pe.select({row:Kt,col:Tt},{row:Kt,col:Tt});if(nt.name==="td"&&(Lt||!vt.startNode.closest("td").equal(ht)||!vt.endNode.closest("td").equal(ht))){if(oe instanceof MouseEvent&&oe.button===2&&!!nt.attributes("table-cell-selection"))return;oe.preventDefault(),pe.focusCell(ht)}else nt.name==="td"&&oe.preventDefault();var On=function(){pe.select({row:Kt,col:Tt},{row:Kt,col:Tt}),pe.dragging={trigger:{element:ht}},pe.addDragEvent()};if(oe instanceof MouseEvent&&oe.button===2){nt.attributes("table-cell-selection")&&oe.preventDefault();return}else if(nt.name==="td"){var Rn=ht.find(d.Su);if(Rn.length>0){var Kn=Rn.last();if(Kn){var jn,tr;if(!Kn.isBlockCard()||(((jn=Kn.get())===null||jn===void 0?void 0:jn.offsetTop)||0)+(((tr=Kn.get())===null||tr===void 0?void 0:tr.clientHeight)||0)>(oe instanceof MouseEvent?oe:oe.touches[0]).clientY)return On();var cr=(0,d.$)("<p><br /></p>");Rn.append(cr);var ar=me.change.range.get();ar.select(cr,!0).collapse(!1),me.change.apply(ar)}}}On()}}},pe.removeDragEvent=function(){var oe,me;(oe=pe.tableRoot)===null||oe===void 0||oe.removeClass("drag-select"),(me=pe.table.wrapper)===null||me===void 0||me.removeClass("drag-selecting"),document.removeEventListener(d.tq?"touchend":"mouseup",pe.removeDragEvent),document.removeEventListener(d.tq?"touchmove":"mousemove",pe.onDragMove),pe.dragging=void 0},pe.onDragMove=function(oe){if(!(!pe.dragging||!oe.target)){var me=(0,d.$)(oe.target).closest("td");if(!(me.length===0||!me.inEditor()||pe.prevOverTd&&me.equal(pe.prevOverTd)))if(pe.prevOverTd=me,pe.dragging.trigger.element.equal(me)){var nt;(nt=pe.table.wrapper)===null||nt===void 0||nt.removeClass("drag-selecting"),pe.clearSelect()}else{var Pe;(Pe=pe.table.wrapper)===null||Pe===void 0||Pe.addClass("drag-selecting"),pe.selectCell(pe.dragging.trigger.element,me)}}},pe.onShiftKeydown=function(oe){!oe.target||!pe.tableModel||!(0,d.iC)(pe.editor)||(0,d.P6)("shift",oe)&&(pe.isShift=!0)},pe.onKeydown=function(oe){if(!(!oe.target||!pe.tableModel||!(0,d.iC)(pe.editor))){var me=(0,d.$)(oe.target).closest("td");if(!(me.length===0||!me.inEditor())){var Pe=pe.getCellPoint(me),nt=(0,Y.Z)(Pe,2),ht=nt[0],vt=nt[1];if(!(ht<0||vt<0))if((0,d.P6)("shift+left",oe)?pe.selectLeft(oe,me):(0,d.P6)("shift+right",oe)?pe.selectRigth(oe,me):(0,d.P6)("shift+up",oe)?pe.selectUp(oe,me):(0,d.P6)("shift+down",oe)&&pe.selectDown(oe,me),(0,d.P6)("shift",oe))pe.isShift=!0;else{if(pe.selectRange&&(pe.isShift=!1,pe.selectRange=void 0),(0,d.P6)("tab",oe)||(0,d.P6)("mod",oe)||(0,d.P6)("opt",oe)||(0,d.P6)("shift",oe)||oe.ctrlKey||oe.metaKey||oe.shiftKey||oe.altKey)return;setTimeout(function(){pe.clearSelect()},50)}}}},pe.onShiftKeyup=function(oe){pe.isShift===!1&&pe.selectRange&&(pe.selectRange=void 0,pe.clearSelect()),pe.isShift=!1},pe.table=Ee,pe.editor=Zt,pe}return(0,x.Z)(qt,[{key:"init",value:function(){var Ee=this.table.wrapper;!Ee||(this.tableRoot=Ee.find(Ae.TABLE_CLASS),this.colsHeader=Ee.find(Ae.COLS_HEADER_CLASS),this.rowsHeader=Ee.find(Ae.ROWS_HEADER_CLASS),this.tableHeader=Ee.find(Ae.HEADER_CLASS),this.highlight=Ee.find(Ae.TABLE_HIGHLIGHT_CLASS),this.render("init"),this.bindEvents())}},{key:"render",value:function(Ee){this.refreshModel();var pe=this.tableModel;if(!!pe){var oe=this.getSelectArea(),me=oe.begin,Pe=oe.end;if(Ee==="mergeCell"||Ee==="splitCell"){var nt=me.row<0?0:Math.min(me.row,pe.rows-1),ht=me.col<0?0:Math.min(me.col,pe.cols-1),vt=pe.table[nt][ht];this.table.helper.isEmptyModelCol(vt)&&(vt=pe.table[vt.parent.row][vt.parent.col]),!this.table.helper.isEmptyModelCol(vt)&&vt.element&&Ee==="mergeCell"&&(this.clearSelect(),this.selectCellRange(vt.element))}else if(Ee==="removeRow"){var St=me.row<0?0:Math.min(me.row,pe.rows-1),It=pe.table[St][0];!this.table.helper.isEmptyModelCol(It)&&It.element&&this.focusCell(It.element)}else if(Ee==="removeCol"){var Kt=me.col<0?0:Math.min(me.col,pe.cols-1),Tt=pe.table[0][Kt];!this.table.helper.isEmptyModelCol(Tt)&&Tt.element&&this.focusCell(Tt.element)}else this.select(me,Pe);this.renderBorder()}}},{key:"renderBorder",value:function(){var Ee=this,pe=this.tableModel;!pe||pe.table.forEach(function(oe,me){oe.forEach(function(Pe,nt){if(!Ee.table.helper.isEmptyModelCol(Pe)){if(!Pe.element)return;var ht=me===pe.rows-1,vt=nt===pe.cols-1;Pe.isMulti&&(nt+Pe.colSpan===pe.cols&&(vt=!0),me+Pe.rowSpan===pe.rows&&(ht=!0)),ht?Pe.element.classList.contains("table-last-column")||Pe.element.classList.add("table-last-column"):Pe.element.classList.contains("table-last-column")&&Pe.element.classList.remove("table-last-column"),vt?Pe.element.classList.contains("table-last-row")||Pe.element.classList.add("table-last-row"):Pe.element.classList.contains("table-last-row")&&Pe.element.classList.remove("table-last-row")}})})}},{key:"bindEvents",value:function(){var Ee;document.addEventListener("keydown",this.onShiftKeydown),document.addEventListener("keyup",this.onShiftKeyup),(Ee=this.table.wrapper)===null||Ee===void 0||Ee.on("mousedown",this.onTdMouseDown).on("keydown",this.onKeydown)}},{key:"unbindEvents",value:function(){var Ee;document.removeEventListener("keydown",this.onShiftKeydown),document.removeEventListener("keyup",this.onShiftKeyup),(Ee=this.table.wrapper)===null||Ee===void 0||Ee.off("mousedown",this.onTdMouseDown).off("keydown",this.onKeydown)}},{key:"refreshModel",value:function(){!this.tableRoot||this.tableRoot.length===0||(this.tableModel=this.table.helper.getTableModel(this.tableRoot))}},{key:"each",value:function(Ee){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=this.tableModel;if(!!oe){var me=this.getSelectArea(),Pe=me.begin,nt=me.end;if(!(Pe.row<0||Pe.col<0))if(pe)for(var ht=nt.row;ht>-1&&ht>=Pe.row;ht--)for(var vt=nt.col;vt>-1&&vt>=Pe.col;vt--){var St=oe.table[ht][vt];Ee(St,ht,vt)}else for(var It=Pe.row;It>-1&&It<=nt.row;It++)for(var Kt=Pe.col;Kt>-1&&Kt<=nt.col;Kt++){var Tt=oe.table[It][Kt];Ee(Tt,It,Kt)}}}},{key:"getCellPoint",value:function(Ee){var pe,oe,me,Pe=this;if(Ee.name!=="td")return[-1,-1];var nt=(pe=Ee.parent())===null||pe===void 0?void 0:pe.index();if(nt===void 0||nt<0)return[-1,-1];var ht=(oe=this.tableModel)===null||oe===void 0||(me=oe.table[nt])===null||me===void 0?void 0:me.findIndex(function(vt){var St;return Ee.equal((Pe.table.helper.isEmptyModelCol(vt)?(St=Pe.tableModel)===null||St===void 0?void 0:St.table[vt.parent.row][vt.parent.col]:vt).element)});return ht===void 0||ht<0?[-1,-1]:[nt,ht]}},{key:"getCellIndex",value:function(Ee,pe){if(!this.tableModel)return 0;for(var oe=this.tableModel.table[Ee],me=0,Pe=0;Pe<pe;Pe++){var nt=oe[Pe];!this.table.helper.isEmptyModelCol(nt)&&nt.element&&me++}return me}},{key:"getSingleCell",value:function(){return this.prevMouseDownTd?this.prevMouseDownTd:null}},{key:"getSingleCellPoint",value:function(){var Ee=this.getSingleCell();return Ee?this.getCellPoint(Ee):[-1,-1]}},{key:"getSelectArea",value:function(){if(this.selectArea)return this.selectArea;var Ee=this.getSingleCellPoint();if(!this.tableModel||Ee[0]===-1)return{begin:{row:-1,col:-1},end:{row:-1,col:-1},count:0,allCol:!1,allRow:!1};var pe=this.tableModel,oe=pe.cols,me=pe.rows,Pe=pe.table,nt=Pe[Ee[0]][Ee[1]];return this.table.helper.isEmptyModelCol(nt)&&(nt=Pe[nt.parent.row][nt.parent.col],nt.element&&(Ee=this.getCellPoint((0,d.$)(nt.element)))),{begin:{row:Ee[0],col:Ee[1]},end:{row:Ee[0],col:Ee[1]},count:Ee[0]===-1?0:1,allCol:oe===1,allRow:me===1}}},{key:"selectCol",value:function(Ee){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee;if(!!this.tableModel){if(this.isShift){if(this.beginAllCol)Ee<this.beginAllCol?pe=this.beginAllCol:Ee=this.beginAllCol;else if(this.prevMouseDownTd){var oe=this.getCellPoint(this.prevMouseDownTd),me=(0,Y.Z)(oe,2),Pe=me[0],nt=me[1];Ee=nt,this.beginAllCol=nt}else if(this.selectArea&&(Ee=this.selectArea.begin.col,this.tableModel)){var ht=this.tableModel.table[this.selectArea.begin.row][this.selectArea.begin.col];!this.table.helper.isEmptyModelCol(ht)&&ht.element&&this.focusCell(ht.element)}}this.select({row:0,col:Ee},{row:this.tableModel.rows-1,col:pe})}}},{key:"selectRow",value:function(Ee){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee;if(!!this.tableModel){if(this.isShift){if(this.beginAllRow)Ee<this.beginAllRow?pe=this.beginAllRow:Ee=this.beginAllRow;else if(this.prevMouseDownTd){var oe=this.getCellPoint(this.prevMouseDownTd),me=(0,Y.Z)(oe,2),Pe=me[0],nt=me[1];Ee=Pe,this.beginAllRow=Pe}else if(this.selectArea&&(Ee=this.selectArea.begin.row,this.tableModel)){var ht=this.tableModel.table[this.selectArea.begin.row][this.selectArea.begin.col];!this.table.helper.isEmptyModelCol(ht)&&ht.element&&this.focusCell(ht.element)}}this.select({row:Ee,col:0},{row:pe,col:this.tableModel.cols-1})}}},{key:"selectCell",value:function(Ee,pe){if(!(Ee.name!=="td"||pe.name!=="td")){var oe=this.getCellPoint(Ee),me=this.getCellPoint(pe);this.select({row:oe[0],col:oe[1]},{row:me[0],col:me[1]})}}},{key:"clearSelect",value:function(){this.select({row:-1,col:-1},{row:-1,col:-1})}},{key:"select",value:function(Ee,pe){var oe,me=this;if(!!this.tableModel){var Pe=Ee.row===pe.row&&Ee.col===pe.col,nt=Math.min(Ee.row,pe.row),ht=Math.max(Ee.row,pe.row),vt=Math.min(Ee.col,pe.col),St=Math.max(Ee.col,pe.col);(oe=this.tableRoot)===null||oe===void 0||oe.find("td[table-cell-selection]").removeAttributes("table-cell-selection");var It=function Rn(){if(!me.tableModel)return{beginCol:vt,beginRow:nt,endCol:St,endRow:ht};for(var Kn=nt;Kn<=ht;Kn++){var jn=me.tableModel.table[Kn];if(!!jn)for(var tr=vt;tr<=St;tr++){var cr=jn[tr];if(!!cr)if(me.table.helper.isEmptyModelCol(cr)){var ar=me.tableModel.table[cr.parent.row][cr.parent.col];if(me.table.helper.isEmptyModelCol(ar))continue;if(ar.colSpan+cr.parent.col-1===vt&&cr.parent.col<vt)return vt=cr.parent.col,Rn();if(ar.rowSpan+cr.parent.row-1===nt&&cr.parent.row<nt)return nt=cr.parent.row,Rn();if(ar.rowSpan>1&&ht<ar.rowSpan-1+cr.parent.row)return ht=ar.rowSpan-1+cr.parent.row,Rn();if(ar.colSpan>1&&St<ar.colSpan-1+cr.parent.col)return St=ar.colSpan-1+cr.parent.col,Rn()}else{if(tr!==vt&&cr.colSpan+tr-1===vt)return vt=tr,Rn();if(Kn!==nt&&cr.rowSpan+Kn-1===nt)return nt=Kn,Rn();if(cr.rowSpan>1&&ht<cr.rowSpan-1+Kn)return ht=cr.rowSpan-1+Kn,Rn();if(cr.colSpan>1&&St<cr.colSpan-1+tr)return St=cr.colSpan-1+tr,Rn()}}}return{beginCol:vt,beginRow:nt,endCol:St,endRow:ht}},Kt=It();nt=Kt.beginRow,ht=Kt.endRow,vt=Kt.beginCol,St=Kt.endCol;var Tt=0;if(nt>=0&&vt>=0&&ht<this.tableModel.rows&&St<this.tableModel.cols)for(var Lt=nt;Lt<=ht;Lt++)for(var Gt=vt;Gt<=St;Gt++){var Yt=this.tableModel.table[Lt];if(!!Yt){var Mn=Yt[Gt];!Mn||this.table.helper.isEmptyModelCol(Mn)||(!Pe&&Mn.element&&(0,d.$)(Mn.element).attributes("table-cell-selection","true"),Tt++)}}if(Pe&&Ee.row>-1&&Ee.col>-1){var Dn,wn=this.tableModel.table[Ee.row][Ee.col];wn&&!this.table.helper.isEmptyModelCol(wn)&&wn.element&&!(!((Dn=this.prevMouseDownTd)===null||Dn===void 0)&&Dn.equal(wn.element))&&this.focusCell(wn.element)}var mn=vt===0&&St===this.tableModel.cols-1,On=nt===0&&ht===this.tableModel.rows-1;mn&&!this.beginAllRow?this.beginAllRow=nt:!mn&&this.beginAllRow&&(this.beginAllRow=void 0),On&&!this.beginAllCol?this.beginAllCol=vt:!On&&this.beginAllCol&&(this.beginAllCol=void 0),this.selectArea=Tt===0||Pe?void 0:{begin:{row:nt,col:vt},end:{row:ht,col:St},count:Tt,allCol:mn,allRow:On},this.emit("select",this.selectArea)}}},{key:"focusCell",value:function(Ee){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=this.editor;if(!!(0,d.iC)(oe)){var me=oe.change;(0,d.mW)(Ee)&&(Ee=(0,d.$)(Ee));var Pe=me.range.get(),nt=Ee.find(d.Su);if(nt.length>0){var ht;Pe.select(nt,!0).shrinkToElementNode().shrinkToTextNode().collapse(pe),setTimeout(function(){me.range.select(Pe)},20),(ht=nt.get())===null||ht===void 0||ht.focus(),this.prevMouseDownTd=Ee,this.selectCell(Ee,Ee)}}}},{key:"selectCellRange",value:function(Ee){var pe,oe=this.editor;if(!!(0,d.iC)(oe)){var me=oe.change;(0,d.mW)(Ee)&&(Ee=(0,d.$)(Ee));var Pe=me.range.get(),nt=Ee.find(d.Su);if(nt.length!==0){Pe.select(nt,!0).shrinkToElementNode();var ht=nt.children(),vt=ht.eq(0);if(ht.length===1&&(vt==null||(pe=vt.first())===null||pe===void 0?void 0:pe.name)==="br"){var St;Pe.collapse(!1),me.range.select(Pe),(St=nt.get())===null||St===void 0||St.focus()}else me.range.select(Pe);this.prevMouseDownTd=Ee,this.selectCell(Ee,Ee)}}}},{key:"addDragEvent",value:function(){var Ee;(Ee=this.tableRoot)===null||Ee===void 0||Ee.addClass("drag-select"),document.addEventListener(d.tq?"touchend":"mouseup",this.removeDragEvent,{passive:!0}),document.addEventListener(d.tq?"touchmove":"mousemove",this.onDragMove,{passive:!0})}},{key:"selectLeft",value:function(Ee,pe){var oe,me,Pe,nt=this.editor;if(!!(0,d.iC)(nt)){var ht=this.getCellPoint(pe),vt=(0,Y.Z)(ht,2),St=vt[0],It=vt[1];if(!(St<0||It<0)){var Kt=((oe=this.selectArea)===null||oe===void 0?void 0:oe.count)||0,Tt=nt.change.range.get();if(Kt===0){if(this.selectRange&&this.selectRange.type==="right"&&Tt.endOffset!==this.selectRange.startOffset)return;this.selectRange={type:"left",startOffset:Tt.startOffset,endOffset:Tt.endOffset};var Lt=Tt.startNode;if(Tt.startOffset!==0||Lt.prev())return;for(var Gt=Lt.parent();Gt&&!Gt.isEditable();){if(Gt.prev())return;Gt=Gt.parent()}}var Yt=((me=this.selectArea)===null||me===void 0?void 0:me.begin)||{row:St,col:It},Mn=((Pe=this.selectArea)===null||Pe===void 0?void 0:Pe.end)||{row:St,col:It},Dn=Yt.col!==It,wn=Dn?Yt.col-1:Mn.col-1;wn<0||(Ee.preventDefault(),wn===It&&Kt===2&&(wn=-1),Dn?this.select((0,v.Z)((0,v.Z)({},Yt),{},{col:wn}),Mn):this.select(Yt,(0,v.Z)((0,v.Z)({},Mn),{},{col:wn})))}}}},{key:"selectRigth",value:function(Ee,pe){var oe,me,Pe,nt=this.editor;if(!(!(0,d.iC)(nt)||!this.tableModel)){Ee.stopPropagation();var ht=this.getCellPoint(pe),vt=(0,Y.Z)(ht,2),St=vt[0],It=vt[1];if(!(St<0||It<0)){var Kt=((oe=this.selectArea)===null||oe===void 0?void 0:oe.count)||0,Tt=nt.change.range.get();if(Kt===0){var Lt;if(this.selectRange&&this.selectRange.type==="left"&&Tt.startOffset!==this.selectRange.endOffset)return;this.selectRange={type:"right",startOffset:Tt.startOffset,endOffset:Tt.endOffset};var Gt=Tt.endNode;if(Gt.isText()&&Tt.endOffset!==Gt.text().length)return;var Yt=Gt.children();if(Gt.isElement()&&Tt.endOffset!==Yt.length&&((Lt=Gt.last())===null||Lt===void 0?void 0:Lt.name)!=="br"||Gt.next())return;for(var Mn=Gt.parent();Mn&&!Mn.isEditable();){if(Mn.next())return;Mn=Mn.parent()}}var Dn=this.tableModel.cols,wn=((me=this.selectArea)===null||me===void 0?void 0:me.begin)||{row:St,col:It},mn=((Pe=this.selectArea)===null||Pe===void 0?void 0:Pe.end)||{row:St,col:It},On=wn.col!==It,Rn=On?wn.col+1:mn.col+1;Rn>Dn-1||(Ee.preventDefault(),Rn===It&&Kt===2&&(Rn=-1),On?this.select((0,v.Z)((0,v.Z)({},wn),{},{col:Rn}),mn):this.select(wn,(0,v.Z)((0,v.Z)({},mn),{},{col:Rn})))}}}},{key:"selectUp",value:function(Ee,pe){var oe,me,Pe,nt=this.editor;if(!(!(0,d.iC)(nt)||!this.tableModel)){var ht=this.getCellPoint(pe),vt=(0,Y.Z)(ht,2),St=vt[0],It=vt[1];if(!(St<0||It<0)){var Kt=((oe=this.selectArea)===null||oe===void 0?void 0:oe.count)||0,Tt=nt.change.range.get();if(Kt===0){if(this.selectRange&&this.selectRange.type==="bottom"&&Tt.endOffset!==this.selectRange.startOffset)return;this.selectRange={type:"top",startOffset:Tt.startOffset,endOffset:Tt.endOffset};var Lt=Tt.getBoundingClientRect(),Gt=pe.find(d.Su).getBoundingClientRect();if(Lt.width!==0&&Lt.height===0&&Lt.top-((Gt==null?void 0:Gt.top)||0)>10)return}var Yt=((me=this.selectArea)===null||me===void 0?void 0:me.begin)||{row:St,col:It},Mn=((Pe=this.selectArea)===null||Pe===void 0?void 0:Pe.end)||{row:St,col:It},Dn=Yt.row!==St,wn=Dn?Yt.row-1:Mn.row-1;Ee.preventDefault(),!(wn<0)&&(wn===St&&Kt===2&&(wn=-1),Dn?this.select((0,v.Z)((0,v.Z)({},Yt),{},{row:wn}),Mn):this.select(Yt,(0,v.Z)((0,v.Z)({},Mn),{},{row:wn})))}}}},{key:"selectDown",value:function(Ee,pe){var oe,me,Pe,nt=this.editor;if(!(!(0,d.iC)(nt)||!this.tableModel)){var ht=this.getCellPoint(pe),vt=(0,Y.Z)(ht,2),St=vt[0],It=vt[1];if(!(St<0||It<0)){var Kt=((oe=this.selectArea)===null||oe===void 0?void 0:oe.count)||0,Tt=nt.change.range.get();if(Tt.shrinkToElementNode(),Kt===0){if(this.selectRange&&this.selectRange.type==="top"&&Tt.startOffset!==this.selectRange.endOffset)return;this.selectRange={type:"bottom",startOffset:Tt.startOffset,endOffset:Tt.endOffset};var Lt=Tt.getBoundingClientRect(),Gt=pe.find(d.Su).getBoundingClientRect();if(Lt.width!==0&&Lt.height===0&&((Gt==null?void 0:Gt.bottom)||0)-Lt.bottom>10)return}var Yt=this.tableModel.rows,Mn=((me=this.selectArea)===null||me===void 0?void 0:me.begin)||{row:St,col:It},Dn=((Pe=this.selectArea)===null||Pe===void 0?void 0:Pe.end)||{row:St,col:It},wn=Mn.row!==St,mn=wn?Mn.row+1:Dn.row+1;mn>Yt-1||(Ee.preventDefault(),mn===St&&Kt===2&&(mn=-1),wn?this.select((0,v.Z)((0,v.Z)({},Mn),{},{row:mn}),Dn):this.select(Mn,(0,v.Z)((0,v.Z)({},Dn),{},{row:mn})))}}}},{key:"getSelectionHtml",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,pe=this.tableModel,oe=this.table.helper;if(!pe||!this.tableRoot)return null;var me={row:0,col:0},Pe={row:pe.rows-1,col:pe.cols-1};if(!Ee){var nt=this.getSelectArea();me=nt.begin,Pe=nt.end}for(var ht=this.tableRoot.find("col"),vt=[],St=0,It=me.col;It<=Pe.col;It++){var Kt,Tt=(Kt=ht.eq(It))===null||Kt===void 0?void 0:Kt.get();!Tt||(vt.push('<col width="'.concat(Tt.width,'" />')),St+=parseInt(Tt.width))}for(var Lt="<colgroup>".concat(vt.join(""),"</colgroup>"),Gt=[],Yt=me.row;Yt<=Pe.row;Yt++){for(var Mn=[],Dn=void 0,wn=me.col;wn<=Pe.col;wn++){var mn=pe.table[Yt][wn],On=void 0,Rn=void 0,Kn=void 0;if(!oe.isEmptyModelCol(mn)&&mn.element&&(Kn=mn.element.cloneNode(!0),mn.element.parentElement&&(Dn=(0,d.$)(mn.element.parentElement).css("height"))),!oe.isEmptyModelCol(mn)&&mn.isMulti&&(On=Math.min(Yt+mn.rowSpan-1,Pe.row)-Yt+1,Rn=Math.min(wn+mn.colSpan-1,Pe.col)-wn+1),oe.isEmptyModelCol(mn)){var jn=pe.table[mn.parent.row][mn.parent.col];if(mn.parent.row===Yt&&mn.parent.col<me.col&&wn===me.col){var tr=me.col-mn.parent.col;if(!oe.isEmptyModelCol(jn)){var cr;Rn=Math.min(jn.colSpan-tr,Pe.col-me.col+1),On=jn.rowSpan,Kn=(cr=jn.element)===null||cr===void 0?void 0:cr.cloneNode(!0)}}if(mn.parent.col===wn&&mn.parent.row<me.row&&Yt===me.row){var ar=me.row-mn.parent.row;if(!oe.isEmptyModelCol(jn)){var Zn;On=Math.min(jn.rowSpan-ar,Pe.row-me.row+1),Rn=jn.colSpan,Kn=(Zn=jn.element)===null||Zn===void 0?void 0:Zn.cloneNode(!0)}}}if(Kn){Kn=Kn,On&&Kn.setAttribute("rowspan","".concat(On)),Rn&&Kn.setAttribute("colspan","".concat(Rn));var Un=Kn.firstChild;if(Un.classList.contains("table-main-content")){var yi=Kn.cloneNode(!1);yi.innerHTML=Un.innerHTML,Mn.push(yi.outerHTML)}else Mn.push(Kn.outerHTML)}}var gi=(0,d.$)("<tr>".concat(Mn.join(""),"</tr>"));Dn&&gi.css("height",Dn),Gt.push(gi.get().outerHTML)}return'<body><meta name="aomao" content="table" /><table style="width:'.concat(St,'px">').concat(Lt).concat(Gt.join(""),"</table></body>")}},{key:"hasMergeCell",value:function(){var Ee=this.table,pe=this.tableModel;if(!pe)return!1;var oe=this.getSelectArea(),me=oe.begin,Pe=oe.end,nt=oe.count;if(nt!==1)return!1;var ht=pe.table[me.row][me.col];return!Ee.helper.isEmptyModelCol(ht)&&ht.isMulti===!0}},{key:"isRowSelected",value:function(){return!!this.selectArea&&this.selectArea.allRow}},{key:"isColSelected",value:function(){return!!this.selectArea&&this.selectArea.allCol}},{key:"isTableSelected",value:function(){return!!this.selectArea&&this.selectArea.allCol&&this.selectArea.allRow}},{key:"showHighlight",value:function(Ee){var pe,oe,me,Pe,nt,ht,vt,St=this.table.helper,It=this.tableModel;if(!!It){var Kt=Ee.begin,Tt=Ee.end,Lt=Ee.allCol,Gt=Ee.allRow;if(!(Kt.row<0||Kt.col<0)){var Yt=Kt.row,Mn=Tt.row,Dn=Kt.col,wn=Tt.col;this.hideHighlight();for(var mn=(pe=this.colsHeader)===null||pe===void 0?void 0:pe.find(Ae.COLS_HEADER_ITEM_CLASS),On=(oe=this.rowsHeader)===null||oe===void 0?void 0:oe.find(Ae.ROWS_HEADER_ITEM_CLASS),Rn=Yt;Rn<=Mn;Rn++)for(var Kn=Dn;Kn<=wn;Kn++){var jn=It.table[Rn][Kn];if(this.table.helper.isEmptyModelCol(jn)){Kt.row>jn.parent.row&&(Kt.row=jn.parent.row),Kt.col>=jn.parent.col&&(Kt.col=jn.parent.col);var tr=It.table[jn.parent.row][jn.parent.col];this.table.helper.isEmptyModelCol(tr)||(tr.rowSpan>1&&Tt.row<tr.rowSpan-1+jn.parent.row&&(Tt.row=tr.rowSpan-1+jn.parent.row),tr.colSpan>1&&Tt.col<tr.colSpan-1+jn.parent.col&&(Tt.col=tr.colSpan-1+jn.parent.col))}else this.table.helper.isEmptyModelCol(jn)||(jn.rowSpan>1&&Tt.row<jn.rowSpan-1+Rn&&(Tt.row=jn.rowSpan-1+Rn),jn.colSpan>1&&Tt.col<jn.colSpan-1+Kn&&(Tt.col=jn.colSpan-1+Kn))}for(var cr=0,ar=0,Zn=Kt.row;Zn<=Tt.row;Zn++){var Un=It.table[Zn][Kt.col];if(!St.isEmptyModelCol(Un)&&Un.element){var yi;cr+=Un.element.offsetHeight,On==null||(yi=On.eq(Zn))===null||yi===void 0||yi.addClass("active")}}for(var gi=Kt.col;gi<=Tt.col;gi++){var Xr=It.table[Kt.row][gi];if(!St.isEmptyModelCol(Xr)&&Xr.element){var Vn;ar+=Xr.element.offsetWidth,mn==null||(Vn=mn.eq(gi))===null||Vn===void 0||Vn.addClass("active")}}if(Tt.row===It.rows-1&&Tt.col===It.cols-1){var ci;(ci=this.tableHeader)===null||ci===void 0||ci.addClass("active")}var mi=It.table[Kt.row][Kt.col],oi=0,Ar=0;if(!St.isEmptyModelCol(mi)&&mi.element){var Fr,lr=(Fr=this.tableRoot)===null||Fr===void 0?void 0:Fr.parent(),Hr=lr==null?void 0:lr.getBoundingClientRect(),He=mi.element.getBoundingClientRect();oi+=He.top-((Hr==null?void 0:Hr.top)||0)-13,Ar+=He.left-((Hr==null?void 0:Hr.left)||0)}var kt=(0,d.ZQ)(((me=this.table.wrapper)===null||me===void 0||(Pe=me.find(".data-scrollbar"))===null||Pe===void 0?void 0:Pe.css("left"))||"0")+(0,d.ZQ)(((nt=this.table.wrapper)===null||nt===void 0?void 0:nt.css("margin-left"))||"0");Ar+=kt;var Pn=((ht=this.colsHeader)===null||ht===void 0||(vt=ht.find(Ae.COLS_HEADER_ITEM_CLASS).get())===null||vt===void 0?void 0:vt.offsetHeight)||0;if(oi+=Pn,cr>0&&ar>0){var En,Qn,Gn,Li,Yr,Bi;if((En=this.highlight)===null||En===void 0||En.css("width","".concat(ar,"px")),(Qn=this.highlight)===null||Qn===void 0||Qn.css("height","".concat(cr,"px")),(Gn=this.highlight)===null||Gn===void 0||Gn.css("top","".concat(oi,"px")),(Li=this.highlight)===null||Li===void 0||Li.css("left","".concat(Ar,"px")),(Yr=this.highlight)===null||Yr===void 0||Yr.show("block"),(Bi=this.table.wrapper)===null||Bi===void 0||Bi.addClass("data-table-highlight"),Lt){var bi;(bi=this.table.wrapper)===null||bi===void 0||bi.addClass("data-table-highlight-row")}if(Gt){var Ma;(Ma=this.table.wrapper)===null||Ma===void 0||Ma.addClass("data-table-highlight-col")}if(Lt&&Gt){var Ya;(Ya=this.table.wrapper)===null||Ya===void 0||Ya.addClass("data-table-highlight-all")}}}}}},{key:"hideHighlight",value:function(){var Ee,pe,oe,me,Pe,nt,ht,vt;(Ee=this.highlight)===null||Ee===void 0||Ee.hide(),(pe=this.colsHeader)===null||pe===void 0||pe.find(".active").removeClass("active"),(oe=this.rowsHeader)===null||oe===void 0||oe.find(".active").removeClass("active"),(me=this.tableHeader)===null||me===void 0||me.removeClass("active"),(Pe=this.table.wrapper)===null||Pe===void 0||Pe.removeClass("data-table-highlight"),(nt=this.table.wrapper)===null||nt===void 0||nt.removeClass("data-table-highlight-row"),(ht=this.table.wrapper)===null||ht===void 0||ht.removeClass("data-table-highlight-col"),(vt=this.table.wrapper)===null||vt===void 0||vt.removeClass("data-table-highlight-all")}},{key:"destroy",value:function(){this.unbindEvents()}}]),qt}(q.EventEmitter2),jt=function(Kr){(0,m.Z)(qt,Kr);var Tr=(0,p.Z)(qt);function qt(Zt,Ee){var pe;return(0,U.Z)(this,qt),pe=Tr.call(this),pe.editor=void 0,pe.table=void 0,pe.tableCleared=!1,pe.rowCleared=!1,pe.colCleared=!1,pe.tableRoot=void 0,pe.colsHeader=void 0,pe.rowsHeader=void 0,pe.tableHeader=void 0,pe.viewport=void 0,pe.clearFormat=function(){var oe=pe.table,me=oe.selection,Pe=oe.helper,nt=me.getSelectArea();me.each(function(ht){!Pe.isEmptyModelCol(ht)&&ht.element&&ht.element.removeAttribute("style")}),pe.emit("actioned","clearFormat")},pe.hasCopyData=function(){return!!pe.table.helper.getCopyData()},pe.clearCopyData=function(){pe.table.helper.clearCopyData()},pe.editor=Zt,pe.table=Ee,pe}return(0,x.Z)(qt,[{key:"init",value:function(){var Ee=this.table.wrapper;!Ee||(this.tableRoot=Ee.find(Ae.TABLE_CLASS),this.colsHeader=Ee.find(Ae.COLS_HEADER_CLASS),this.rowsHeader=Ee.find(Ae.ROWS_HEADER_CLASS),this.tableHeader=Ee.find(Ae.HEADER_CLASS),this.viewport=Ee.find(Ae.VIEWPORT))}},{key:"insertColAt",value:function(Ee,pe,oe,me){var Pe,nt,ht=this,vt=this.table,St=vt.selection,It=vt.wrapper,Kt=St.tableModel;if(!(!It||!Kt||!this.tableRoot)){var Tt=Ee,Lt=oe?"after":"before",Gt=It.find(Ae.COLS_HEADER_ITEM_CLASS),Yt=(Pe=Gt.eq(Tt))===null||Pe===void 0?void 0:Pe.get(),Mn=oe?Tt+1:Tt,Dn=It.find(Ae.COLS_HEADER_CLASS),wn=0;me||(me=Yt.offsetWidth),Array.isArray(me)?me.forEach(function(Vn){wn+=Vn}):typeof me=="number"&&(wn=pe*me),Dn.css("width",Dn.get().offsetWidth+wn+"px");var mn=this.tableRoot.find("colgroup"),On=It.find("tr"),Rn=this.tableRoot.find("col"),Kn=(nt=Rn.eq(Tt))===null||nt===void 0?void 0:nt.clone();if(!!Kn){for(var jn=pe,tr=this.editor.nodeId;jn>0;){var cr=(0,d.$)(Yt.outerHTML);(0,d.$)(Yt)[Lt](cr);var ar=Array.isArray(me)?me[pe-jn]:me;cr.css({width:"".concat(ar,"px")});var Zn=Kn==null?void 0:Kn.clone();Zn.removeAttributes(d.Mr),Zn.attributes("width",ar),tr.create(Zn);var Un=Rn[Ee];Lt==="after"?(0,d.$)(Un).after(Zn):mn[0].insertBefore(Zn[0],Un),jn--}On.each(function(Vn,ci){for(var mi=St.getCellIndex(ci,Mn),oi=0;oi<pe;oi++){var Ar=Vn.insertCell(mi);Ar.innerHTML=ht.table.template.getEmptyCell(),(0,d.$)(Ar).attributes(d.rN,"table-cell-selection"),tr.generate(Ar)}});for(var yi=arguments.length,gi=new Array(yi>4?yi-4:0),Xr=4;Xr<yi;Xr++)gi[Xr-4]=arguments[Xr];this.emit.apply(this,["actioned","insertCol"].concat(gi)),St.selectArea&&St.selectCol(Ee,Ee+pe-1)}}}},{key:"insertCol",value:function(Ee){var pe,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,me=this.table,Pe=me.selection,nt=me.wrapper,ht=Pe.tableModel;if(!(!nt||!ht)){var vt=Pe.getSelectArea(),St=Ee==="left",It=Ee==="end"||!Ee,Kt=nt.find(Ae.COLS_HEADER_ITEM_CLASS),Tt=ht.cols-1;It||(Tt=St?vt.begin.col:vt.end.col);var Lt=St?Tt-1:Tt+1;Lt<0?(Lt=0,St=!1):!St&&Tt===ht.cols-1&&(Lt--,St=!0);for(var Gt=(pe=Kt.eq(Tt))===null||pe===void 0?void 0:pe.get().offsetWidth,Yt=arguments.length,Mn=new Array(Yt>2?Yt-2:0),Dn=2;Dn<Yt;Dn++)Mn[Dn-2]=arguments[Dn];if(this.insertColAt.apply(this,[Lt,oe,St,Gt].concat(Mn)),It){var wn,mn=(wn=this.viewport)===null||wn===void 0?void 0:wn.get();if(!mn)return;mn.scrollLeft=mn.scrollWidth-mn.offsetWidth}}}},{key:"removeCol",value:function(){var Ee=this,pe=this.table,oe=pe.selection,me=pe.conltrollBar,Pe=pe.helper,nt=oe.tableModel;if(!(!nt||!this.tableRoot)){var ht=nt.table,vt=(0,v.Z)({},oe.getSelectArea());vt.end.col-vt.begin.col===0&&oe.each(function(wn){Pe.isEmptyModelCol(wn)||(vt.end.col+=wn.colSpan-1)});var St=vt.end.col-vt.begin.col+1,It=this.tableRoot.find("colgroup"),Kt=this.tableRoot.find("tr"),Tt=It.find("col");if(vt.allCol){this.removeTable();return}for(var Lt=vt.end.col;Lt>=vt.begin.col;Lt--){var Gt;me.removeCol(Lt),(Gt=Tt.eq(Lt))===null||Gt===void 0||Gt.remove()}ht.forEach(function(wn,mn){for(var On=vt.end.col;On>=vt.begin.col;On--){var Rn=wn[On];if(Pe.isEmptyModelCol(Rn)){var Kn=ht[Rn.parent.row][Rn.parent.col];if(!Pe.isEmptyModelCol(Kn)&&Rn.parent.col<vt.begin.col){var jn=Math.min(St,Rn.parent.col+Kn.colSpan-vt.begin.col);Kn.element&&(Kn.element.colSpan=Kn.colSpan-jn)}continue}else{var tr;if(Rn.isMulti){var cr=On+Rn.colSpan-1>vt.end.col,ar=vt.end.col+1-On;if(cr){for(var Zn,Un,yi=0,gi=0;gi<=vt.end.col;gi++)Pe.isEmptyModelCol(wn[gi])||yi++;var Xr=(Zn=Kt.eq(mn))===null||Zn===void 0||(Un=Zn.get())===null||Un===void 0?void 0:Un.insertCell(yi);if(!Xr)return;Xr.setAttribute(d.rN,"table-cell-selection"),Xr.innerHTML=Ee.table.template.getEmptyCell(),Xr.colSpan=Rn.colSpan-ar,Xr.rowSpan=Rn.rowSpan,Ee.editor.nodeId.generate(Xr)}}(tr=Rn.element)===null||tr===void 0||tr.remove()}}});for(var Yt=arguments.length,Mn=new Array(Yt),Dn=0;Dn<Yt;Dn++)Mn[Dn]=arguments[Dn];this.emit.apply(this,["actioned","removeCol"].concat(Mn))}}},{key:"insertColLeft",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.insertCol("left",Ee)}},{key:"insertColRight",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.insertCol("right",Ee)}},{key:"insertRowAt",value:function(Ee,pe,oe){var me=this,Pe=this.table,nt=Pe.wrapper,ht=Pe.selection,vt=Pe.helper,St=ht.tableModel;if(!(!nt||!St)){var It=oe?"after":"before",Kt=Ee,Tt=nt.find(Ae.ROWS_HEADER_ITEM_CLASS),Lt=Tt[Kt],Gt=oe?Kt:Kt+1,Yt=[],Mn=St.table[Kt];Mn.forEach(function(jn,tr){if(!vt.isEmptyModelCol(jn)&&jn.isMulti){!oe&&jn.rowSpan>1&&Gt<=Kt+jn.rowSpan-1?jn.element.rowSpan=jn.rowSpan+pe:Yt.push({tdBase:jn.element});return}if(vt.isEmptyModelCol(jn)){var cr=St.table[jn.parent.row][jn.parent.col];!vt.isEmptyModelCol(cr)&&jn.parent.row<Gt&&jn.parent.row+cr.rowSpan-1>=Gt?cr.element.rowSpan=cr.rowSpan+pe:!vt.isEmptyModelCol(cr)&&jn.parent.row<Kt&&jn.parent.col===tr&&Yt.push({tdBase:cr.element});return}Yt.push({tdBase:jn.element})});for(var Dn=pe,wn=this.editor.nodeId,mn=function(){var tr,cr,ar=(tr=me.tableRoot)===null||tr===void 0||(cr=tr.get())===null||cr===void 0?void 0:cr.insertRow(Gt);!ar||(Yt.forEach(function(Zn){var Un=ar.insertCell();Un.setAttribute(d.rN,"table-cell-selection"),Un.innerHTML=me.table.template.getEmptyCell(),Un.colSpan=Zn.tdBase.colSpan}),(0,d.$)(Lt)[It]((0,d.$)(Lt.outerHTML)),wn.generate(ar),wn.generateAll(ar),Dn--)};Dn>0;)mn();for(var On=arguments.length,Rn=new Array(On>3?On-3:0),Kn=3;Kn<On;Kn++)Rn[Kn-3]=arguments[Kn];this.emit.apply(this,["actioned","insertRow"].concat(Rn)),ht.selectArea&&ht.selectRow(Ee,Ee+pe-1)}}},{key:"insertRow",value:function(Ee){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,oe=this.table,me=oe.selection,Pe=oe.helper,nt=me.tableModel;if(!!nt){var ht=me.getSelectArea(),vt=Ee==="up",St=Ee==="end"||!Ee,It=nt.rows-1;if(!St){var Kt=ht.end.row;me.each(function(Mn){Pe.isEmptyModelCol(Mn)||(Kt+=Mn.rowSpan-1)}),It=vt?ht.begin.row:Kt}for(var Tt=It,Lt=arguments.length,Gt=new Array(Lt>2?Lt-2:0),Yt=2;Yt<Lt;Yt++)Gt[Yt-2]=arguments[Yt];this.insertRowAt.apply(this,[Tt,pe,vt].concat(Gt))}}},{key:"insertRowUp",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.insertRow("up",Ee)}},{key:"insertRowDown",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.insertRow("down",Ee)}},{key:"removeRow",value:function(){var Ee=this,pe=this.table,oe=pe.selection,me=pe.conltrollBar,Pe=pe.helper,nt=oe.tableModel;if(!(!nt||!this.tableRoot)){var ht=nt.table,vt=(0,v.Z)({},oe.getSelectArea()),St=vt.begin,It=vt.end;It.row-St.row===0&&oe.each(function(On){Pe.isEmptyModelCol(On)||(It.row+=On.rowSpan-1)});var Kt=It.row-St.row+1,Tt=this.tableRoot.find("tr");if(vt.allRow){this.removeTable();return}for(var Lt=function(Rn){var Kn=ht[Rn];Kn.forEach(function(jn,tr){if(!Pe.isEmptyModelCol(jn)&&jn.isMulti&&jn.rowSpan>1&&Rn+jn.rowSpan-1>It.row){var cr=oe.getCellIndex(It.row+1,tr),ar=Tt[It.row+1].insertCell(cr),Zn=It.row-Rn+1;ar.setAttribute(d.rN,"table-cell-selection"),ar.innerHTML=Ee.table.template.getEmptyCell(),ar.colSpan=jn.colSpan,ar.rowSpan=jn.rowSpan-Zn,Ee.editor.nodeId.generate(ar)}if(Pe.isEmptyModelCol(jn)){var Un=ht[jn.parent.row][jn.parent.col];if(!Pe.isEmptyModelCol(Un)&&jn.parent.row<St.row){var yi=Math.min(Kt,jn.parent.row+Un.rowSpan-St.row);Un.element.rowSpan=Un.rowSpan-yi}}})},Gt=St.row;Gt<=It.row;Gt++)Lt(Gt);for(var Yt=It.row;Yt>=St.row;Yt--){var Mn;(Mn=this.tableRoot.get())===null||Mn===void 0||Mn.deleteRow(Yt),me.removeRow(Yt)}for(var Dn=arguments.length,wn=new Array(Dn),mn=0;mn<Dn;mn++)wn[mn]=arguments[mn];this.emit.apply(this,["actioned","removeRow"].concat(wn))}}},{key:"removeTable",value:function(){var Ee=this.editor;(0,d.iC)(Ee)||this.emit("tableRemoved"),Ee.card.remove(this.table.id)}},{key:"copy",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,pe=this.table,oe=pe.selection,me=pe.helper,Pe=oe.getSelectionHtml(Ee);!Pe||(this.editor.clipboard.copy(Pe),me.copyHTML(Pe))}},{key:"mockCopy",value:function(){var Ee=this.table,pe=Ee.selection,oe=Ee.helper,me=pe.getSelectionHtml();!me||oe.copyHTML(me)}},{key:"shortcutCopy",value:function(Ee){var pe,oe,me,Pe=this.table,nt=Pe.selection,ht=Pe.helper,vt=nt.getSelectionHtml();!vt||((pe=Ee.clipboardData)===null||pe===void 0||pe.clearData(),(oe=Ee.clipboardData)===null||oe===void 0||oe.setData("text/plain",(0,d.$)(vt).html()),(me=Ee.clipboardData)===null||me===void 0||me.setData("text/html",vt),ht.copyHTML(vt),Ee.preventDefault())}},{key:"cut",value:function(){this.copy(),this.clear()}},{key:"shortcutCut",value:function(Ee){this.shortcutCopy(Ee),this.clear()}},{key:"clear",value:function(){var Ee=this,pe=this.table,oe=pe.selection,me=pe.helper,Pe=oe.getSelectArea();if(Pe.allCol&&Pe.allRow){if(this.tableCleared){this.removeTable(),this.tableCleared=!1;return}this.tableCleared=!0}if(Pe.allRow){if(this.rowCleared){this.removeRow(),this.rowCleared=!1;return}this.rowCleared=!0}if(Pe.allCol){if(this.colCleared){this.removeCol(),this.colCleared=!1;return}this.colCleared=!0}oe.each(function(nt){!me.isEmptyModelCol(nt)&&nt.element&&(nt.element.innerHTML=Ee.table.template.getEmptyCell())}),this.emit("actioned","clear")}},{key:"mockPaste",value:function(){var Ee=this.table.helper.getCopyData();if(!!Ee){for(var pe=arguments.length,oe=new Array(pe),me=0;me<pe;me++)oe[me]=arguments[me];this.paste.apply(this,[Ee].concat(oe))}}},{key:"shortcutPaste",value:function(Ee){Ee.preventDefault(),Ee.stopPropagation();var pe=this.editor.clipboard.getData(Ee);this.paste(pe)}},{key:"paste",value:function(Ee){var pe=this.table,oe=pe.selection,me=pe.helper,Pe=oe.tableModel;if(!!Pe){var nt=oe.getSelectArea(),ht=nt.begin,vt=nt.end,St=ht.row===vt.row&&ht.col===vt.col,It=Ee.html,Kt=Ee.text;if(!!It){var Tt=this.editor,Lt=Tt.schema,Gt=Tt.conversion,Yt=new d._b(It,Tt).toValue(Lt,Gt),Mn=me.trimBlankSpan((0,d.$)(Yt));Tt.nodeId.generateAll(Mn,!0);for(var Dn=arguments.length,wn=new Array(Dn>1?Dn-1:0),mn=1;mn<Dn;mn++)wn[mn-1]=arguments[mn];if(Mn.name==="table"){me.normalizeTable(Mn);var On=me.getTableModel(Mn),Rn=On.rows,Kn=On.cols,jn=On.table[0][0],tr=Pe.table[ht.row];if(!tr)return;var cr=tr[ht.col];if(!cr||me.isEmptyModelCol(jn)||me.isEmptyModelCol(cr))return;var ar=jn.rowSpan,Zn=jn.colSpan,Un=ar===Rn&&Zn===Kn;if(Un&&!nt&&jn.element){me.copyTo(jn.element,cr.element),this.emit.apply(this,["actioned","paste"].concat(wn));return}if(St){if(Kn+ht.col>Pe.cols){var yi=Kn+ht.col-Pe.cols;this.insertCol("end",yi,!0)}if(Rn+ht.row>Pe.rows){var gi=Rn+ht.row-Pe.rows;this.insertRow("end",gi,!0)}oe.select(ht,{row:ht.row+Rn-1,col:ht.col+Kn-1})}var Xr=oe.getSelectArea();wn[0]||this.splitCell(!0),oe.each(function(Vn,ci,mi){var oi=(ci-Xr.begin.row)%Rn,Ar=(mi-Xr.begin.col)%Kn,Fr=On.table[oi][Ar];if(!!Fr){if(!me.isEmptyModelCol(Fr)&&Fr.isMulti&&!me.isEmptyModelCol(Vn)){var lr=Vn.element;lr.rowSpan=Math.min(Fr.rowSpan,Xr.end.row-ci+1),lr.colSpan=Math.min(Fr.colSpan,Xr.end.col-mi+1),me.copyTo(Fr.element,lr);return}if(me.isEmptyModelCol(Fr)){if(!me.isEmptyModelCol(Vn)){var Hr;(Hr=Vn.element)===null||Hr===void 0||Hr.remove()}return}Fr.element&&!me.isEmptyModelCol(Vn)&&Vn.element&&me.copyTo(Fr.element,Vn.element)}})}else this.mergeCell(!0);this.emit.apply(this,["actioned","paste"].concat(wn))}}}},{key:"mergeCell",value:function(){var Ee=this.table,pe=Ee.selection,oe=Ee.helper,me=pe.selectArea,Pe=pe.tableModel;if(!(!me||!Pe)){var nt=me.begin,ht=me.end,vt=ht.row-nt.row+1,St=ht.col-nt.col+1,It=[],Kt=null;if(this.splitCell(),pe.select(nt,ht),pe.each(function(Dn,wn,mn){if(!oe.isEmptyModelCol(Dn)){if(mn===nt.col&&wn===nt.row){Kt=Dn.element,Kt.rowSpan=vt,Kt.colSpan=St;return}Dn.element&&(Dn.element.innerText.trim()!==""&&It.unshift((0,d.$)(Dn.element).find(Ae.TABLE_TD_CONTENT_CLASS).html()),Dn.element.remove())}}),Kt){var Tt=(0,d.$)(Kt),Lt=Tt.find(Ae.TABLE_TD_CONTENT_CLASS);Lt.html(Lt.html()+It.join(""));for(var Gt=arguments.length,Yt=new Array(Gt),Mn=0;Mn<Gt;Mn++)Yt[Mn]=arguments[Mn];this.emit.apply(this,["actioned","mergeCell"].concat(Yt))}}}},{key:"splitCell",value:function(){var Ee=this,pe=this.table,oe=pe.selection,me=pe.helper,Pe=oe.tableModel;if(!(!Pe||!this.tableRoot)){var nt=this.tableRoot.find("tr");oe.each(function(It,Kt,Tt){if(!me.isEmptyModelCol(It))for(var Lt=Kt+It.rowSpan,Gt=Tt+It.colSpan,Yt=Lt-1;Yt>=Kt;Yt--){Yt>=nt.length&&Ee.insertRowAt(Kt,1);for(var Mn=Yt>=nt.length?Ee.tableRoot.find("tr")[Yt]:nt[Yt],Dn=Gt-1;Dn>=Tt;Dn--){var wn=Pe.table[Yt][Dn];if(!me.isEmptyModelCol(wn)&&wn.isMulti)wn.element=wn.element,wn.element.colSpan=1,wn.element.rowSpan=1;else if(me.isEmptyModelCol(wn)){var mn=oe.getCellIndex(Yt,Dn),On=Mn.insertCell(mn);Ee.editor.nodeId.generate(On),On.setAttribute(d.rN,"table-cell-selection"),On.innerHTML=Ee.table.template.getEmptyCell()}}}});for(var ht=arguments.length,vt=new Array(ht),St=0;St<ht;St++)vt[St]=arguments[St];this.emit.apply(this,["actioned","splitCell"].concat(vt))}}}]),qt}(q.EventEmitter2),on=(0,x.Z)(function Kr(){(0,U.Z)(this,Kr)});on.colors=void 0,on._map=void 0,on.getStroke=void 0,on.getColors=void 0,on.colors=[["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF"],["#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96"],["#FFE8E6","#FFECE0","#FFEFD1","#FCFCCA","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB"],["#FFA39E","#FFBB96","#FFD591","#FFFB8F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2"],["#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB"],["#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F"],["#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"]],on._map=function(){for(var Kr={},Tr=on.colors,qt=0,Zt=Tr.length;qt<Zt;qt++)for(var Ee=Tr[qt],pe=0,oe=Ee.length;pe<oe;pe++){var me=Tr[qt][pe];Kr[me]={y:qt,x:pe}}return Kr}(),on.getStroke=function(Kr){var Tr=on._map[Kr];return Tr&&(Tr.y===2||Tr.y===3&&Tr.x>2&&Tr.x<5)?this.colors[4][Tr.x]:Kr},on.getColors=function(){return this.colors};var bn=(0,g.Z)("editor"),Ft=(0,g.Z)("options"),Mt=(0,g.Z)("color"),_t=(0,g.Z)("button"),Jt=(0,g.Z)("cardId"),Me=(0,g.Z)("container"),yn=(0,g.Z)("position"),Wt=function(){function Kr(Tr,qt,Zt){var Ee=this;(0,U.Z)(this,Kr),Object.defineProperty(this,bn,{writable:!0,value:void 0}),Object.defineProperty(this,Ft,{writable:!0,value:void 0}),Object.defineProperty(this,Mt,{writable:!0,value:void 0}),Object.defineProperty(this,_t,{writable:!0,value:void 0}),Object.defineProperty(this,Jt,{writable:!0,value:void 0}),Object.defineProperty(this,Me,{writable:!0,value:void 0}),Object.defineProperty(this,yn,{writable:!0,value:void 0}),this.windowClick=function(pe){var oe=pe.target;!oe||(0,d.$)(oe).closest(".data-table-color-tool,.table-color-dropdown-arrow").length===0&&Ee.remove()},(0,S.Z)(this,bn)[bn]=Tr,(0,S.Z)(this,Jt)[Jt]=qt,(0,S.Z)(this,Ft)[Ft]=Zt,(0,S.Z)(this,yn)[yn]=new d.Ly((0,S.Z)(this,bn)[bn]),(0,S.Z)(this,Mt)[Mt]=Zt.defaultColor||"transparent",(0,S.Z)(this,_t)[_t]=(0,d.$)(`<div class="table-color-dropdown-trigger">
        <button type="button" class="table-color-dropdown-button-text">
            <svg width="16px" height="16px" viewBox="0 0 16 16" style="margin-bottom: `.concat((0,S.Z)(this,Mt)[Mt]==="transparent"?-5:-3,`">
                <g ="none" strokeWidth="1" fill="none" fillRule="evenodd">
                    <path d="M11.9745711,7.921875 C11.9745711,7.921875 13.2147672,9.2863447 13.2147672,10.1226326 C13.2147672,10.8142992 12.6566789,11.3802083 11.9745711,11.3802083 C11.2924632,11.3802083 10.734375,10.8142992 10.734375,10.1226326 C10.734375,9.2863447 11.9745711,7.921875 11.9745711,7.921875 Z M9.07958999,6.47535893 L6.28501575,3.68078468 L3.4904415,6.47535893 L9.07958999,6.47535893 Z M5.3326566,3.04215357 L4.28223263,1.9917296 C4.22692962,1.93642659 4.22692962,1.84676271 4.28223263,1.7914597 L5.03228902,1.0414033 C5.08759203,0.986100299 5.17725591,0.986100299 5.23255892,1.0414033 L6.4546098,2.26345418 C6.46530408,2.27146914 6.4755605,2.28033918 6.48528564,2.29006432 L10.4848531,6.28963174 C10.5954591,6.40023775 10.5954591,6.57956552 10.4848531,6.69017153 L6.4838816,10.691143 C6.37327559,10.801749 6.19394782,10.801749 6.08334181,10.691143 L2.08377439,6.69157557 C1.97316838,6.58096956 1.97316838,6.40164179 2.08377439,6.29103578 L5.3326566,3.04215357 Z" fill="#595959"/>
                    <rect stroke="`).concat(on.getStroke((0,S.Z)(this,Mt)[Mt]),'" fill="').concat((0,S.Z)(this,Mt)[Mt],`" strokeWidth="0.5" x="2" y="12.75" width="12" height="1.5" rx="0.125" />
                </g>
            </svg>
        </button>
        <button type="button" class="table-color-dropdown-arrow">
            <span class="table-color-dropdown-empty"></span>
            <span class="data-icon data-icon-arrow"></span>
        </button>
        </div>`)),(0,S.Z)(this,_t)[_t].find(".table-color-dropdown-arrow").on("mousedown",function(pe){pe.preventDefault(),(0,S.Z)(Ee,Me)[Me]!==void 0&&(0,S.Z)(Ee,Me)[Me].length>0?Ee.remove():Ee.render()}),(0,S.Z)(this,_t)[_t].find(".table-color-dropdown-button-text").on("mousedown",function(pe){pe.preventDefault();var oe=(0,S.Z)(Ee,Ft)[Ft].onChange;oe&&oe((0,S.Z)(Ee,Mt)[Mt])})}return(0,x.Z)(Kr,[{key:"getButton",value:function(){return(0,S.Z)(this,_t)[_t]}},{key:"select",value:function(qt){var Zt=on.getStroke(qt),Ee=(0,S.Z)(this,_t)[_t].find("rect");Ee.attributes("stroke",Zt),Ee.attributes("fill",qt),(0,S.Z)(this,_t)[_t].find("svg").css("margin-bottom",qt==="transparent"?-5:-3)}},{key:"change",value:function(qt){(0,S.Z)(this,Mt)[Mt]=qt,this.select(qt);var Zt=(0,S.Z)(this,Ft)[Ft].onChange;Zt&&Zt(qt)}},{key:"toState",value:function(qt,Zt){var Ee=qt.hex?(0,le.Z)(qt.hex):(0,le.Z)(qt),pe=Ee.toHsl(),oe=Ee.toHsv(),me=Ee.toRgb(),Pe=Ee.toHex();pe.s===0&&(pe.h=Zt||0,oe.h=Zt||0);var nt=Pe==="000000"&&me.a===0;return{hsl:pe,hex:nt?"transparent":"#".concat(Pe),rgb:me,hsv:oe,oldHue:qt.h||Zt||pe.h,source:qt.source}}},{key:"render",value:function(){var qt=this,Zt;(0,S.Z)(this,Me)[Me]=(0,d.$)('<div class="data-table-color-tool'.concat(d.tq?" data-table-color-tool-mobile":"",'" ').concat(d.Zi,'="').concat(d.UI,'" ').concat(d.f4,'="').concat((0,S.Z)(this,Jt)[Jt],'"></div>'));var Ee=(0,d.$)('<div class="data-table-color-tool-panle"></div>'),pe=(0,S.Z)(this,Ft)[Ft].colors,oe=function(vt,St){var It=qt.toState(vt.color||"#FFFFFF"),Kt=["#ffffff","#fafafa","transparent"].indexOf(It.hex)>=0,Tt=(0,d.$)('<span class="data-table-color-tool-item'.concat(Kt?" data-table-color-tool-border":"",'"><span style="background-color:').concat(vt.color).concat(vt.border?";".concat(Kt?"":"border:1px solid ".concat(vt.border)):"",`"><svg
            style="fill: `).concat(vt.color.toUpperCase()==="#8C8C8C"?"#FFFFFF":"#8C8C8C",`;
            display: `).concat(vt.color===(0,S.Z)(qt,Mt)[Mt]&&St!==!1?"block":"none",`;"
            viewBox="0 0 18 18"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg></span></span>`));return Tt.on("mousedown",function(Lt){Lt.preventDefault(),Lt.stopPropagation(),Ee.find("svg").each(function(Gt){Gt.style.display="none"}),St!==!1&&Tt.find("svg").css("display","block"),qt.change(vt.color)}),Tt},me=(0,d.$)('<div class="data-table-color-tool-group data-table-color-tool-default"></div>'),Pe=oe({color:"transparent"},!1);me.append(Pe),me.on("mousedown",function(ht){ht.preventDefault(),Ee.find("svg").each(function(vt){vt.style.display="none"}),qt.change("transparent")});var nt=(0,S.Z)(this,bn)[bn].language.get("table","color","nonFillText");me.append((0,d.$)('<span class="data-table-color-tool-default-text">'.concat(nt,"</span>"))),(0,S.Z)(this,Me)[Me].append(me),pe.forEach(function(ht){var vt=(0,d.$)('<div class="data-table-color-tool-group"></div>');ht.forEach(function(St){var It=oe(St);vt.append(It)}),Ee.append(vt)}),(0,S.Z)(this,Me)[Me].append(Ee),(Zt=(0,S.Z)(this,yn)[yn])===null||Zt===void 0||Zt.bind((0,S.Z)(this,Me)[Me],(0,S.Z)(this,_t)[_t]),document.addEventListener("mousedown",this.windowClick,!0)}},{key:"remove",value:function(){var qt,Zt;(qt=(0,S.Z)(this,Me)[Me])===null||qt===void 0||qt.remove(),(Zt=(0,S.Z)(this,yn)[yn])===null||Zt===void 0||Zt.destroy(),document.removeEventListener("mousedown",this.windowClick,!0),(0,S.Z)(this,Me)[Me]=void 0}},{key:"destroy",value:function(){this.remove();var qt=(0,S.Z)(this,Ft)[Ft].onDestroy;qt&&qt()}}]),Kr}();function xn(Kr,Tr){Tr===void 0&&(Tr={});var qt=Tr.insertAt;if(!(!Kr||typeof document=="undefined")){var Zt=document.head||document.getElementsByTagName("head")[0],Ee=document.createElement("style");Ee.type="text/css",qt==="top"&&Zt.firstChild?Zt.insertBefore(Ee,Zt.firstChild):Zt.appendChild(Ee),Ee.styleSheet?Ee.styleSheet.cssText=Kr:Ee.appendChild(document.createTextNode(Kr))}}var Nn=`.table-color-dropdown-trigger {\r
    display: flex;\r
}\r
\r
.table-color-dropdown-trigger:hover {\r
    background: transparent !important;\r
}\r
\r
.table-color-dropdown-trigger .table-color-dropdown-button-text, .table-color-dropdown-trigger .table-color-dropdown-arrow {\r
    display: inline-block;\r
    width: auto;\r
    margin: 0;\r
    text-align: center;\r
    background-color: transparent;\r
    border: 1px solid transparent;\r
    border-radius: 3px 3px;\r
    font-size: 16px;\r
    cursor: pointer;\r
    color: #595959;\r
    outline: none;\r
    margin-right: 0;\r
    min-width: 26px;\r
    border-radius: 3px 0 0 3px;\r
    padding: 0 4px;\r
}\r
\r
.table-color-dropdown-trigger:hover .table-color-dropdown-button-text, .table-color-dropdown-trigger:hover .table-color-dropdown-arrow\r
{\r
    border: 1px solid #e8e8e8;\r
}\r
\r
.table-color-dropdown-trigger .table-color-dropdown-button-text:hover, .table-color-dropdown-trigger .table-color-dropdown-arrow:hover {\r
    background-color: #f5f5f5;\r
}\r
\r
.table-color-dropdown-trigger .table-color-dropdown-arrow {\r
    margin-left: -1px;\r
    min-width: 17px;\r
    text-align: center;\r
    border-radius: 0 3px 3px 0;\r
}\r
\r
.table-color-dropdown-trigger .table-color-dropdown-arrow .table-color-dropdown-empty {\r
    display: inline-block;\r
}\r
\r
.table-color-dropdown-trigger .table-color-dropdown-arrow .data-icon-arrow {\r
    position: absolute;\r
    right: 5px;\r
    top: 12px;\r
    width: 8px;\r
    height: 8px;\r
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjhweCIgaGVpZ2h0PSI1cHgiIHZpZXdCb3g9IjAgMCA4IDUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPkdyb3VwIENvcHkgNjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IlN5bWJvbHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9IjAuNDUiPg0KICAgICAgICA8ZyBpZD0idG9vbGJhciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyOC4wMDAwMDAsIC0xOC4wMDAwMDApIj4NCiAgICAgICAgICAgIDxnIGlkPSJwYXJhZ3JhcGgtc3R5bGUiPg0KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNi4wMDAwMDAsIDQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC1Db3B5LTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMi4wMDAwMDAsIDEyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTAuNTk2MDkzNzUsMi41NTcwMzEyNSBMMy43NDUzMTI1LDYuMzc4MTI1IEMzLjg3NzM0Mzc1LDYuNTI1NzgxMjUgNC4xMDg1OTM3NSw2LjUyNTc4MTI1IDQuMjQwNjI1LDYuMzc4MTI1IEw3LjQwNTQ2ODc1LDIuNTU3MDMxMjUgQzcuNTk2MDkzNzUsMi4zNDI5Njg3NSA3LjQ0NDUzMTI1LDIuMDAzOTA2MjUgNy4xNTc4MTI1LDIuMDAzOTA2MjUgTDAuODQ0NTMxMjUsMi4wMDM5MDYyNSBDMC41NTcwMzEyNSwyLjAwMzkwNjI1IDAuNDA0Njg3NSwyLjM0Mjk2ODc1IDAuNTk2MDkzNzUsMi41NTcwMzEyNSBaIiBpZD0iU2hhcGUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+);\r
    background-repeat: no-repeat;\r
    transition: all 0.25s cubic-bezier(0.3, 1.2, 0.2, 1);\r
}\r
\r
.data-table-color-tool {\r
    outline: none;\r
    width: auto;\r
    border-radius: 3px 3px;\r
    position: absolute;\r
    border: 1px solid #e8e8e8;\r
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);\r
    z-index: 130;\r
    text-indent: 0;\r
    top:0;\r
    padding: 8px 0;\r
    background: #fff;\r
}\r
\r
.data-table-color-tool-mobile {\r
    width: calc(100vw - 20px);\r
}\r
\r
.data-table-color-tool .data-table-color-tool-panle {\r
    position: relative;\r
    text-align: left;\r
    text-indent: 0;\r
    width: 100%;\r
    height: auto;\r
    margin-top: 8px;\r
    padding: 0 8px;\r
}\r
\r
.data-table-color-tool .data-table-color-tool-group\r
{\r
    display: flex;\r
}\r
\r
.data-table-color-tool .data-table-color-tool-group > span {\r
    width: 24px;\r
    height: 24px;\r
    display: inline-block;\r
    cursor: pointer;\r
    background-color: rgb(255, 255, 255);\r
    padding: 2px;\r
    border-radius: 3px;\r
    border-width: 1px;\r
    border-style: solid;\r
    border-color: transparent;\r
    -o-border-image: initial;\r
       border-image: initial;\r
    flex: 0 0 auto;\r
    position: relative;\r
}\r
\r
.data-table-color-tool span.data-table-color-tool-border > span {\r
    border: 1px solid #e8e8e8 !important;\r
}\r
\r
.data-table-color-tool .data-table-color-tool-group > span > span\r
{\r
    position: relative;\r
    width: 18px;\r
    height: 18px;\r
    display: block;\r
    border-radius: 2px;\r
    border-width: 1px;\r
    border-style: solid;\r
    border-color: transparent;\r
    -o-border-image: initial;\r
       border-image: initial;\r
}\r
\r
.data-table-color-tool .data-table-color-tool-group > span > span > svg {\r
    position: absolute;\r
    top: -1px;\r
    left: 1px;\r
    width: 12px;\r
    height: 12px;\r
}\r
\r
.data-table-color-tool .data-table-color-tool-default {\r
    display: flex;\r
    align-items: center;\r
    margin: 2px 0 8px;\r
    border-radius: 2px;\r
    cursor: pointer;\r
    padding: 2px 8px;\r
}   \r
\r
.data-table-color-tool .data-table-color-tool-default:hover {\r
    background: #f5f5f5;\r
}\r
\r
.data-table-color-tool .data-table-color-tool-default > span:first-child::after {\r
    content: "";\r
    display: block;\r
    position: absolute;\r
    top: 10px;\r
    left: 0px;\r
    width: 22px;\r
    height: 0;\r
    border-bottom: 2px solid #ff5151;\r
    transform: rotate(45deg);\r
}\r
\r
.data-table-color-tool .data-table-color-tool-default .data-table-color-tool-default-text {\r
    width: auto;\r
    margin-left: 8px;\r
    height: auto;\r
    background: transparent;\r
}`;xn(Nn);var Cr=(0,g.Z)("changeTimeout"),jr=function(Kr){(0,m.Z)(qt,Kr);var Tr=(0,p.Z)(qt);function qt(){var Zt,Ee,pe,oe,me;(0,U.Z)(this,qt);for(var Pe=arguments.length,nt=new Array(Pe),ht=0;ht<Pe;ht++)nt[ht]=arguments[ht];return me=Tr.call.apply(Tr,[this].concat(nt)),me.contenteditable=["div".concat(Ae.TABLE_TD_CONTENT_CLASS)],me.colMinWidth=((Zt=me.editor.plugin.findPlugin("table"))===null||Zt===void 0?void 0:Zt.options.colMinWidth)||40,me.rowMinHeight=((Ee=me.editor.plugin.findPlugin("table"))===null||Ee===void 0?void 0:Ee.options.rowMinHeight)||35,me.maxInsertNum=((pe=me.editor.plugin.findPlugin("table"))===null||pe===void 0?void 0:pe.options.maxInsertNum)||30,me.wrapper=void 0,me.helper=new it(me.editor),me.template=new Ae((0,M.Z)(me)),me.selection=new wt(me.editor,(0,M.Z)(me)),me.conltrollBar=new et(me.editor,(0,M.Z)(me),{col_min_width:me.colMinWidth,row_min_height:me.rowMinHeight,max_insert_num:me.maxInsertNum}),me.command=new jt(me.editor,(0,M.Z)(me)),me.scrollbar=void 0,me.viewport=void 0,me.colorTool=void 0,me.noBorderToolButton=void 0,me.alignToolButton=void 0,Object.defineProperty((0,M.Z)(me),Cr,{writable:!0,value:void 0}),me.doChange=function(){me.remoteRefresh(),me.handleChange("local")},me.handleChange=function(){var vt,St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"local",It=me.editor;me.conltrollBar.refresh(),me.selection.render("change");var Kt=(0,D.Z)((oe=(0,M.Z)(me),(0,T.Z)(qt.prototype)),"getValue",oe).call(oe);if(Kt!=null&&Kt.noBorder){var Tt;(Tt=me.noBorderToolButton)===null||Tt===void 0||Tt.addClass("active")}else(vt=me.noBorderToolButton)===null||vt===void 0||vt.removeClass("active");if(St==="local"&&(0,d.iC)(It)){var Lt=me.getValue();Lt&&me.setValue(Lt)}},me.onChange=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"local",St=me.editor;(0,d.iC)(St)&&vt==="local"&&St.ot.isStopped()||((0,S.Z)((0,M.Z)(me),Cr)[Cr]&&clearTimeout((0,S.Z)((0,M.Z)(me),Cr)[Cr]),(0,S.Z)((0,M.Z)(me),Cr)[Cr]=setTimeout(function(){me.handleChange(vt),vt==="remote"&&me.remoteRefresh()},50))},me.updateScrollbar=function(){var vt,St,It,Kt;if(!!me.scrollbar){var Tt=(((vt=me.wrapper)===null||vt===void 0||(St=vt.getBoundingClientRect())===null||St===void 0?void 0:St.bottom)||0)-(((It=me.wrapper)===null||It===void 0?void 0:It.getViewport().bottom)||0);(Kt=me.wrapper)===null||Kt===void 0||Kt.find(".data-scrollbar-x").css({bottom:"".concat(Tt>0?Tt+2:0,"px")})}},me.remoteRefreshTimeout=null,me}return(0,x.Z)(qt,[{key:"init",value:function(){var Ee=this,pe;(0,D.Z)((0,T.Z)(qt.prototype),"init",this).call(this);var oe=this.editor;(0,d.iC)(oe)&&(oe.event.listeners["keydown:tab"]||(oe.event.listeners["keydown:tab"]=[]),oe.event.listeners["keydown:tab"].unshift(function(me){if(!(!(0,d.iC)(oe)||oe.readonly)){var Pe=oe.change,nt=oe.block,ht=oe.node,vt=oe.card,St=Pe.range.get(),It=St.endNode.closest("td");if(!(It.length===0||!It.inEditor())){var Kt=vt.closest(It,!0);if(!!(Kt!=null&&Kt.equal(Ee.root))){var Tt=nt.closest(St.endNode);if(It.length>0&&(nt.isLastOffset(St,"end")||Tt.name!=="li"&&ht.isEmptyWidthChild(Tt))){var Lt=It.next();if(!Lt){var Gt,Yt=(Gt=It.parent())===null||Gt===void 0?void 0:Gt.next();if(Yt)Lt=Yt.find("td:first-child")||null;else{var Mn,Dn;Ee.command.insertRowDown(),Lt=((Mn=It.parent())===null||Mn===void 0||(Dn=Mn.next())===null||Dn===void 0?void 0:Dn.find("td:first-child"))||null}}if(Lt)return me.preventDefault(),Ee.selection.focusCell(Lt),!1}It.length>0&&setTimeout(function(){var wn;(wn=Ee.scrollbar)===null||wn===void 0||wn.refresh()},0)}}}}),oe.on("keydown:down",function(me){if(!(!(0,d.iC)(oe)||oe.readonly)){var Pe=oe.change,nt=oe.card,ht=Pe.range.get(),vt=ht.endNode.closest("td");if(!(vt.length===0||!vt.inEditor())){var St=nt.closest(vt,!0);if(!!(St!=null&&St.equal(Ee.root))){var It=vt.find(".table-main-content");if(!!It){var Kt=It.get().getBoundingClientRect(),Tt=ht.getBoundingClientRect();if(vt.length>0&&(Tt.bottom===0||Kt.bottom-Tt.bottom<10)){var Lt,Gt=vt.index(),Yt=(Lt=vt.parent())===null||Lt===void 0?void 0:Lt.next();if(Yt){var Mn,Dn=0,wn=Yt.find("td:last-child");if((Mn=Ee.selection.tableModel)===null||Mn===void 0||Mn.table[Yt.index()].some(function(Kn){return!Ee.helper.isEmptyModelCol(Kn)&&Dn>=Gt&&Kn.element?(wn=(0,d.$)(Kn.element),!0):(Dn++,!1)}),wn)return me.preventDefault(),Ee.selection.focusCell(wn,!0),!1}else{me.preventDefault();var mn=ht.cloneRange(),On=Ee.root.next(),Rn=On?nt.find(On):void 0;return Rn!=null&&Rn.onSelectDown?Rn.onSelectDown(me):(nt.focusNextBlock(Ee,mn,!1),Pe.range.select(mn)),!1}}vt.length>0&&setTimeout(function(){var Kn;(Kn=Ee.scrollbar)===null||Kn===void 0||Kn.refresh()},0)}}}}}),oe.on("keydown:up",function(me){if(!(!(0,d.iC)(oe)||oe.readonly)){var Pe=oe.change,nt=oe.card,ht=Pe.range.get(),vt=ht.endNode.closest("td");if(!(vt.length===0||!vt.inEditor())){var St=nt.closest(vt,!0);if(!!(St!=null&&St.equal(Ee.root))){var It=vt.find(".table-main-content");if(!!It){var Kt=It.get().getBoundingClientRect(),Tt=ht.getBoundingClientRect();if(vt.length>0&&(Tt.top===0||Tt.top-Kt.top<10)){var Lt,Gt=vt.index(),Yt=(Lt=vt.parent())===null||Lt===void 0?void 0:Lt.prev();if(Yt){var Mn,Dn=0,wn=Yt.find("td:first-child");if((Mn=Ee.selection.tableModel)===null||Mn===void 0||Mn.table[Yt.index()].some(function(Kn){return!Ee.helper.isEmptyModelCol(Kn)&&Dn>=Gt&&Kn.element?(wn=(0,d.$)(Kn.element),!0):(Dn++,!1)}),wn)return me.preventDefault(),Ee.selection.focusCell(wn),!1}else{me.preventDefault();var mn=ht.cloneRange(),On=Ee.root.prev(),Rn=On?nt.find(On):void 0;return Rn!=null&&Rn.onSelectUp?Rn.onSelectUp(me):(nt.focusPrevBlock(Ee,mn,!1),Pe.range.select(mn)),!1}}vt.length>0&&setTimeout(function(){var Kn;(Kn=Ee.scrollbar)===null||Kn===void 0||Kn.refresh()},0)}}}}}),oe.on("keydown:left",function(){if(!(!(0,d.iC)(oe)||oe.readonly)){var me=oe.change,Pe=oe.card,nt=me.range.get(),ht=nt.endNode.closest("td");if(!(ht.length===0||!ht.inEditor())){var vt=Pe.closest(ht,!0);if(!!(vt!=null&&vt.equal(Ee.root))){var St=ht.find(".table-main-content");!St||ht.length>0&&setTimeout(function(){var It;(It=Ee.scrollbar)===null||It===void 0||It.refresh()},0)}}}}),oe.on("keydown:right",function(){if(!(!(0,d.iC)(oe)||oe.readonly)){var me=oe.change,Pe=oe.card,nt=me.range.get(),ht=nt.endNode.closest("td");if(!(ht.length===0||!ht.inEditor())){var vt=Pe.closest(ht,!0);if(!!(vt!=null&&vt.equal(Ee.root))){var St=ht.find(".table-main-content");!St||ht.length>0&&setTimeout(function(){var It;(It=Ee.scrollbar)===null||It===void 0||It.refresh()},0)}}}})),!this.colorTool&&(this.colorTool=new Wt(oe,this.id,{colors:qt.colors,defaultColor:(pe=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",this).call(this))===null||pe===void 0?void 0:pe.color,onChange:function(Pe){Ee.conltrollBar.drawBackgroundColor(Pe);var nt=Ee.getValue();Ee.setValue((0,v.Z)((0,v.Z)({},nt),{},{color:Pe}))}}))}},{key:"toolbar",value:function(){var Ee=this,pe,oe=this.editor,me=function(){var ht,vt;if(!(0,d.iC)(oe)||oe.readonly)return[{key:"maximize",type:"maximize"}];var St=oe.language.get("table"),It=[{key:"color",type:"node",title:oe.language.get("table","color","title"),node:Ee.colorTool.getButton()},{key:"border",type:"button",title:!((ht=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",Ee).call(Ee))===null||ht===void 0)&&ht.noBorder?St.showBorder:St.noBorder,content:'<span class="data-icon data-icon-no-border"></span>',didMount:function(Lt){var Gt=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",Ee).call(Ee);(Gt==null?void 0:Gt.noBorder)===!0&&Lt.addClass("active"),Ee.noBorderToolButton=Lt},onClick:function(Lt,Gt){var Yt,Mn=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",Ee).call(Ee);Ee.setValue({noBorder:!(Mn!=null&&Mn.noBorder)});var Dn=(Yt=Ee.wrapper)===null||Yt===void 0?void 0:Yt.find(".data-table");(Mn==null?void 0:Mn.noBorder)===!0?(Dn==null||Dn.removeAttributes("data-table-no-border"),Gt.removeClass("active")):(Dn==null||Dn.attributes("data-table-no-border","true"),Gt.addClass("active"))}},{key:"align",type:"dropdown",content:'<span class="data-icon data-icon-align-top" />',title:St.verticalAlign.title,didMount:function(Lt){Ee.alignToolButton=Lt.find(".data-toolbar-btn")},items:[{type:"button",content:'<span class="data-icon data-icon-align-top"></span> '.concat(St.verticalAlign.top),onClick:function(Lt){return Ee.updateAlign(Lt,"top")}},{type:"button",content:'<span class="data-icon data-icon-align-middle"></span> '.concat(St.verticalAlign.middle),onClick:function(Lt){return Ee.updateAlign(Lt,"middle")}},{type:"button",content:'<span class="data-icon data-icon-align-bottom"></span> '.concat(St.verticalAlign.bottom),onClick:function(Lt){return Ee.updateAlign(Lt,"bottom")}}]},{key:"merge",type:"button",title:St.mergeCell,content:'<span class="data-icon data-icon-merge-cells"></span>',disabled:Ee.conltrollBar.getMenuDisabled("mergeCell"),onClick:function(){Ee.command.mergeCell()}},{key:"split",type:"button",title:St.splitCell,content:'<span class="data-icon data-icon-solit-cells"></span>',disabled:Ee.conltrollBar.getMenuDisabled("splitCell"),onClick:function(){Ee.command.splitCell()}}];if(Ee.isMaximize)return It;var Kt=[{key:"maximize",type:"maximize"},{key:"copy",type:"copy",onClick:function(){Ee.command.copy(!0),oe.messageSuccess("copy",oe.language.get("copy","success"))}},{key:"delete",type:"delete"},{key:"separator",type:"separator"}].concat(It);return(0,d.ZQ)(((vt=Ee.wrapper)===null||vt===void 0?void 0:vt.css("margin-left"))||"0")===0&&Kt.unshift({key:"dnd",type:"dnd"}),Kt},Pe=(pe=oe.plugin.findPlugin("table"))===null||pe===void 0?void 0:pe.options;return Pe!=null&&Pe.cardToolbars?Pe.cardToolbars(me(),this.editor):me()}},{key:"onSelectLeft",value:function(Ee){var pe=this.selection.tableModel;if(!!pe)for(var oe=pe.rows-1;oe>=0;oe--)for(var me=pe.cols-1;me>=0;me--){var Pe=pe.table[oe][me];if(!this.helper.isEmptyModelCol(Pe)&&Pe.element)return Ee.preventDefault(),this.selection.focusCell(Pe.element,!1),!1}}},{key:"onSelectRight",value:function(Ee){var pe=this.selection.tableModel;if(!!pe)for(var oe=0;oe<pe.rows;oe++)for(var me=0;me<pe.cols;me++){var Pe=pe.table[oe][me];if(!this.helper.isEmptyModelCol(Pe)&&Pe.element)return Ee.preventDefault(),this.selection.focusCell(Pe.element),!1}}},{key:"onSelectUp",value:function(Ee){var pe=this.selection.tableModel;if(!!pe)for(var oe=pe.rows-1;oe>=0;oe--)for(var me=0;me<pe.cols;me++){var Pe=pe.table[oe][me];if(!this.helper.isEmptyModelCol(Pe)&&Pe.element)return Ee.preventDefault(),this.selection.focusCell(Pe.element,!1),!1}}},{key:"onSelectDown",value:function(Ee){var pe=this.selection.tableModel;if(!!pe)for(var oe=0;oe<pe.rows;oe++)for(var me=0;me<pe.cols;me++){var Pe=pe.table[oe][me];if(!this.helper.isEmptyModelCol(Pe)&&Pe.element)return Ee.preventDefault(),this.selection.focusCell(Pe.element),!1}}},{key:"updateAlign",value:function(Ee){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top";Ee.preventDefault(),this.conltrollBar.setAlign(pe),this.onChange("local"),this.updateAlignText(pe)}},{key:"updateAlignText",value:function(){var Ee,pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"top",oe='<span class="data-icon data-icon-align-'.concat(pe,'"></span>');(Ee=this.alignToolButton)===null||Ee===void 0||Ee.html(oe)}},{key:"getValue",value:function(){var Ee=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",this).call(this);if(!this.wrapper)return Ee;var pe=this.wrapper.find(Ae.TABLE_CLASS);if(!pe)return Ee;var oe=this.selection.tableModel;if(!oe)return Ee;var me=this.editor,Pe=me.schema,nt=me.conversion,ht=(0,d.$)("<div></div>");ht.append(pe.clone(!0));var vt=new d._b(ht,me,function(Gt){Gt.find(Ae.TABLE_TD_BG_CLASS).remove(),Gt.find(d.Su).each(function(Yt){Yt.nodeName==="TD"?(0,d.$)(Yt).removeAttributes(d.Zi):me.node.unwrap((0,d.$)(Yt))})}),St=oe.rows,It=oe.cols,Kt=oe.height,Tt=oe.width,Lt=vt.toValue(Pe,nt,!1,!1);return(0,d.iC)(me)?(0,v.Z)((0,v.Z)({},Ee),{},{rows:St,cols:It,height:Kt,width:Tt,html:Lt}):(0,v.Z)((0,v.Z)({},Ee),{},{html:Lt})}},{key:"drawBackground",value:function(Ee,pe){var oe,me,Pe=Ee.get().getBoundingClientRect(),nt=new DOMRect(Pe.x,Pe.y,0,0),ht=pe.startContainer,vt=pe.endContainer,St=(0,d.oq)(ht,"td"),It=(0,d.oq)(vt,"td");if(!(!(St instanceof Element)||!(It instanceof Element)||St.nodeName!=="TD"||(It==null?void 0:It.nodeName)!=="TD"||St===It)){var Kt=St.getBoundingClientRect(),Tt=It.getBoundingClientRect(),Lt=(oe=this.viewport)===null||oe===void 0?void 0:oe.getBoundingClientRect(),Gt=((Lt==null?void 0:Lt.left)||0)+(this.activated?13:0);return nt.x=Math.max(Kt.left-Pe.left,Gt-(((me=this.editor.root.getBoundingClientRect())===null||me===void 0?void 0:me.left)||0)),nt.y=Kt.top-Pe.top,nt.width=(Lt?Math.min(Tt.right,Lt.right):Tt.right)-Kt.left,nt.height=Kt.bottom-Kt.top,nt.width<0&&(nt.width=0),nt.height=Tt.bottom-Kt.top,nt}}},{key:"activate",value:function(Ee){var pe;if((0,D.Z)((0,T.Z)(qt.prototype),"activate",this).call(this,Ee),Ee){var oe;this.conltrollBar.refresh(),(oe=this.wrapper)===null||oe===void 0||oe.addClass("active")}else{var me;this.selection.clearSelect(),this.conltrollBar.hideContextMenu(),(me=this.wrapper)===null||me===void 0||me.removeClass("active")}(pe=this.scrollbar)===null||pe===void 0||pe.refresh()}},{key:"maximize",value:function(){var Ee;(0,D.Z)((0,T.Z)(qt.prototype),"maximize",this).call(this),(Ee=this.scrollbar)===null||Ee===void 0||Ee.refresh();var pe=this.editor;(0,d.iC)(pe)&&!d.tq&&this.getCenter().on("scroll",this.updateScrollbar,{passive:!0})}},{key:"minimize",value:function(){var Ee;(0,D.Z)((0,T.Z)(qt.prototype),"minimize",this).call(this),(Ee=this.scrollbar)===null||Ee===void 0||Ee.refresh(),this.getCenter().off("scroll",this.updateScrollbar)}},{key:"getSelectionNodes",value:function(){var Ee=this,pe=[];return this.selection.each(function(oe){!Ee.helper.isEmptyModelCol(oe)&&oe.element&&pe.push((0,d.$)(oe.element).find(d.Su))}),pe.length===1&&pe[0].closest("[table-cell-selection=true]").length===0?[]:pe}},{key:"overflow",value:function(Ee){var pe,oe,me=((pe=this.wrapper)===null||pe===void 0||(oe=pe.find(".data-table"))===null||oe===void 0?void 0:oe.width())||0,Pe=this.getCenter().width(),nt=me-Pe;if(nt>0&&!this.isMaximize){var ht;(ht=this.wrapper)===null||ht===void 0||ht.css("margin-right","-".concat(nt>Ee?Ee:nt,"px"))}else if(nt<0||this.isMaximize){var vt;(vt=this.wrapper)===null||vt===void 0||vt.css("margin-right","")}}},{key:"initScrollbar",value:function(){var Ee=this;if(!!this.viewport){var pe=this.editor,oe=pe.plugin.findPlugin("table"),me=(oe==null?void 0:oe.options.overflow)||{},Pe=me.maxLeftWidth?{onScrollX:function(It){var Kt;Ee.isMaximize&&(It=0);var Tt=me.maxLeftWidth();return(Kt=Ee.wrapper)===null||Kt===void 0||Kt.css("margin-left","-".concat(It>Tt?Tt:It,"px")),It>0?pe.root.find(".data-card-dnd").hide():pe.root.find(".data-card-dnd").show(),It-Tt},getScrollLeft:function(It){var Kt;return It-(0,d.ZQ)(((Kt=Ee.wrapper)===null||Kt===void 0?void 0:Kt.css("margin-left"))||"0")},getOffsetWidth:function(It){var Kt;return It+(0,d.ZQ)(((Kt=Ee.wrapper)===null||Kt===void 0?void 0:Kt.css("margin-left"))||"0")}}:void 0;this.scrollbar=new d.LW(this.viewport,!0,!1,!0,Pe),this.scrollbar.setContentNode(this.viewport.find(".data-table")),this.scrollbar.on("display",function(St){if(St==="block"){var It;(It=Ee.wrapper)===null||It===void 0||It.addClass("scrollbar-show")}else{var Kt;(Kt=Ee.wrapper)===null||Kt===void 0||Kt.removeClass("scrollbar-show")}});var nt={x:0,y:0},ht=function(It){var Kt=It.x,Tt=It.y;me.maxRightWidth&&Ee.overflow(me.maxRightWidth()),!(nt.x===Kt&&nt.y===Tt)&&(nt={x:Kt,y:Tt},(0,d.iC)(pe)&&(pe.trigger("scroll",Ee.root,{x:Kt,y:Tt}),Ee.conltrollBar.refresh()))};if(this.scrollbar.on("change",ht),d.tq||window.addEventListener("scroll",this.updateScrollbar,{passive:!0}),window.addEventListener("resize",this.updateScrollbar),(0,d.iC)(pe)&&!d.tq){var vt;(vt=pe.scrollNode)===null||vt===void 0||vt.on("scroll",this.updateScrollbar,{passive:!0})}}}},{key:"didRender",value:function(){var Ee,pe,oe,me,Pe=this,nt;(0,D.Z)((0,T.Z)(qt.prototype),"didRender",this).call(this);var ht=this.editor;ht.on("undo",this.doChange),ht.on("redo",this.doChange),this.viewport=(0,d.iC)(ht)?(Ee=this.wrapper)===null||Ee===void 0?void 0:Ee.find(Ae.VIEWPORT):(pe=this.wrapper)===null||pe===void 0?void 0:pe.find(Ae.VIEWPORT_READER),this.selection.init(),this.conltrollBar.init(),this.command.init(),!(0,d.iC)(ht)||ht.readonly?(oe=this.toolbarModel)===null||oe===void 0||oe.setOffset([0,0]):(me=this.toolbarModel)===null||me===void 0||me.setOffset([13,-28,0,-6]);var vt=ht.plugin.findPlugin("table"),St=(vt==null?void 0:vt.options.overflow)||{};this.viewport&&(this.selection.refreshModel(),setTimeout(function(){Pe.initScrollbar()},0)),this.selection.on("select",function(){var Lt,Gt;if(Pe.conltrollBar.refresh(!1),!!(0,d.iC)(ht)){var Yt=(Lt=Pe.selection.getSingleCell())===null||Lt===void 0?void 0:Lt.css("vertical-align");Pe.updateAlignText(Yt),(Gt=Pe.toolbarModel)===null||Gt===void 0||Gt.update()}}),this.conltrollBar.on("sizeChanged",function(){var Lt;Pe.selection.refreshModel(),Pe.onChange(),(Lt=Pe.scrollbar)===null||Lt===void 0||Lt.refresh()}),this.conltrollBar.on("sizeChanging",function(){var Lt;(Lt=Pe.scrollbar)===null||Lt===void 0||Lt.refresh(),ht.trigger("editor:resize"),Pe.updateScrollbar()}),this.command.on("actioned",function(Lt,Gt){var Yt,Mn;Lt==="paste"&&ht.card.render(Pe.wrapper),["splitCell","mergeCell"].includes(Lt)&&ht.trigger("editor:resize"),Pe.selection.render(Lt),(Yt=Pe.toolbarModel)===null||Yt===void 0||Yt.update(),Gt||Pe.onChange(),St.maxRightWidth&&Pe.overflow(St.maxRightWidth()),(Mn=Pe.scrollbar)===null||Mn===void 0||Mn.refresh()});var It=(nt=this.wrapper)===null||nt===void 0?void 0:nt.find(Ae.TABLE_CLASS);if(!!It){var Kt=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",this).call(this);if(!(Kt!=null&&Kt.html)){var Tt=this.getValue();Tt&&(0,d.iC)(ht)&&this.setValue(Tt),this.onChange()}St.maxRightWidth&&this.overflow(St.maxRightWidth())}}},{key:"remoteRefresh",value:function(){var Ee,pe=this,oe;if(!(!this.wrapper||this.wrapper.length===0||!((Ee=this.wrapper[0].parentElement)!==null&&Ee!==void 0?Ee:this.wrapper[0].parentNode))){var me=this.wrapper.find(Ae.COLS_HEADER_CLASS),Pe=(0,D.Z)((0,T.Z)(qt.prototype),"getValue",this).call(this),nt=me.find(Ae.COLS_HEADER_ITEM_CLASS),ht=nt.length;if(Pe.cols>ht)me.append((0,d.$)(this.template.renderColsHeader(Pe.cols-ht)).find(Ae.COLS_HEADER_ITEM_CLASS)),nt=me.find(Ae.COLS_HEADER_ITEM_CLASS);else if(Pe.cols<ht)for(var vt=ht;vt>Pe.cols;vt--){var St;(St=nt.eq(vt-1))===null||St===void 0||St.remove()}var It=Pe.html?(0,d.$)(Pe.html):this.wrapper.find("table"),Kt=It.find("col").toArray();Kt.forEach(function(wn,mn){var On,Rn=wn.attributes("width")||wn.css("width");(On=nt.eq(mn))===null||On===void 0||On.css("width","".concat(Math.max(parseInt(Rn),pe.colMinWidth),"px"))});var Tt=this.wrapper.find(Ae.ROWS_HEADER_CLASS),Lt=Tt.find(Ae.ROWS_HEADER_ITEM_CLASS),Gt=Lt.length;if(Pe.rows>Gt)Tt.append((0,d.$)(this.template.renderRowsHeader(Pe.rows-Gt)).find(Ae.ROWS_HEADER_ITEM_CLASS)),Lt=Tt.find(Ae.ROWS_HEADER_ITEM_CLASS);else if(Pe.rows<Gt)for(var Yt=Gt;Yt>Pe.rows;Yt--){var Mn;(Mn=Lt.eq(Yt-1))===null||Mn===void 0||Mn.remove()}var Dn=It.find("tr").toArray();Dn.forEach(function(wn,mn){var On;(On=Lt.eq(mn))===null||On===void 0||On.css("height",Math.max(parseInt(wn.css("width")),pe.rowMinHeight))}),(oe=this.scrollbar)===null||oe===void 0||oe.refresh(),this.remoteRefreshTimeout&&clearTimeout(this.remoteRefreshTimeout),this.remoteRefreshTimeout=setTimeout(function(){var wn;(wn=pe.wrapper)===null||wn===void 0||wn.find(d.Su).each(function(mn){var On=mn;On.hasAttribute(d.xT)||On.setAttribute(d.xT,pe.template.isReadonly?"false":"true")})},10)}}},{key:"render",value:function(){var Ee,pe=this.editor;if(this.template.isReadonly=!(0,d.iC)(pe)||pe.readonly,this.wrapper&&this.wrapper.length>0&&!!((Ee=this.wrapper[0].parentElement)!==null&&Ee!==void 0?Ee:this.wrapper[0].parentNode)){this.remoteRefresh();return}var oe=this.getValue();if(!oe)return"Error value";if(oe.html){var me=(0,d.$)(oe.html);me&&me.name!=="table"&&(me=me.toArray().find(function(nt){return nt.name==="table"}),me?oe.html=me.get().outerHTML:(oe.html="<table><tr><td>".concat(oe.html,"</td></tr></table>"),me=(0,d.$)(oe.html)));var Pe=this.helper.getTableModel(me);oe.rows=Pe.rows,oe.cols=Pe.cols}return this.wrapper=(0,d.iC)(pe)?(0,d.$)(this.template.htmlEdit(oe,Ve(pe.language.get("table")))):(0,d.$)(this.template.htmlView(oe)),(0,d.iC)(pe)||this.wrapper.find("table").addClass("data-table").addClass("data-table-view"),oe.rows=this.wrapper.find("tr").length,oe.width&&this.wrapper.find("table").css("width","".concat(oe.width,"px")),this.wrapper}},{key:"destroy",value:function(){var Ee,pe;(0,D.Z)((0,T.Z)(qt.prototype),"destroy",this).call(this);var oe=this.editor;window.removeEventListener("scroll",this.updateScrollbar),window.removeEventListener("resize",this.updateScrollbar),(Ee=oe.scrollNode)===null||Ee===void 0||Ee.off("scroll",this.updateScrollbar),(pe=this.scrollbar)===null||pe===void 0||pe.destroy(),this.command.removeAllListeners();var me=this.selection;me.removeAllListeners(),me.destroy();var Pe=this.conltrollBar;Pe.removeAllListeners(),Pe.destroy(),oe.off("undo",this.doChange),oe.off("redo",this.doChange)}}],[{key:"cardName",get:function(){return"table"}},{key:"cardType",get:function(){return d.eT.BLOCK}},{key:"selectStyleType",get:function(){return d.dw.BACKGROUND}},{key:"autoSelected",get:function(){return!1}},{key:"lazyRender",get:function(){return!0}}]),qt}(d.Zb);jr.colors=on.getColors().map(function(Kr){return Kr.map(function(Tr){return{color:Tr,border:on.getStroke(Tr)}})});var ii={table:{insertColLeft:"Insert column(s) $data left",insertColRight:"Insert column(s) $data right",insertRowUp:"Insert row(s) $data up",insertRowDown:"Insert row(s) $data down",mergeCell:"Merge cells",splitCell:"Unmerge cells",removeCol:"Delete selected column(s)",removeRow:"Delete selected row(s)",removeTable:"Delete table",copy:"Copy",cut:"Cut",paste:"Paste",clear:"Clear",draggingCol:"Moving $data column",draggingRow:"Moving $data row",color:{title:"Cell background color",nonFillText:"No fill color"},noBorder:"Hide border",showBorder:"Show border",verticalAlign:{title:"Vertical align",top:"Align top",middle:"Align middle",bottom:"Align bottom"}}},xi={table:{insertColLeft:"\u5DE6\u8FB9\u63D2\u5165 $data \u5217",insertColRight:"\u53F3\u8FB9\u63D2\u5165 $data \u5217",insertRowUp:"\u4E0A\u65B9\u63D2\u5165 $data \u884C",insertRowDown:"\u4E0B\u65B9\u63D2\u5165 $data \u884C",mergeCell:"\u5408\u5E76\u5355\u5143\u683C",splitCell:"\u62C6\u5206\u5355\u5143\u683C",removeCol:"\u5220\u9664\u9009\u4E2D\u5217",removeRow:"\u5220\u9664\u9009\u4E2D\u884C",removeTable:"\u5220\u9664\u8868\u683C",copy:"\u590D\u5236",cut:"\u526A\u5207",paste:"\u7C98\u8D34",clear:"\u6E05\u7A7A\u5185\u5BB9",draggingCol:"\u6B63\u5728\u79FB\u52A8 $data \u5217",draggingRow:"\u6B63\u5728\u79FB\u52A8 $data \u884C",color:{title:"\u5355\u5143\u683C\u80CC\u666F\u8272",nonFillText:"\u65E0\u586B\u5145\u8272"},noBorder:"\u9690\u85CF\u8FB9\u6846",showBorder:"\u663E\u793A\u8FB9\u6846",verticalAlign:{title:"\u5782\u76F4\u5BF9\u9F50",top:"\u9876\u5BF9\u9F50",middle:"\u5782\u76F4\u5C45\u4E2D",bottom:"\u5E95\u5BF9\u9F50"}}},$i={"en-US":ii,"zh-CN":xi},_i=`div[dnd-trigger-key="table"], div[toolbar-trigger-key="table"] {
    margin-left: -13px;
    margin-top: -13px;
}

.data-table {
    border: none;
    position: relative;
    z-index: 1;
    table-layout: fixed;
    white-space: pre-wrap;
    width: 100%;
    border-collapse: collapse;
    background-color: #ffffff;
}

div[data-card-key="table"].card-selected .data-table, div[data-card-key="table"].card-selected-other .data-table {
  background: transparent
}

.am-engine [data-card-key="table"].card-selected [data-card-element="center"].data-card-background-selected {
    background: transparent;
}

.am-engine [data-card-key="table"].card-selected [data-card-element="center"].data-card-background-selected .table-wrapper {
    background: rgba(27, 162, 227, 0.2);
}

.am-engine-mobile div[data-card-key="table"].card-activated {
  margin-left: 20px;
}

.data-table tr,.data-table td {
    position: relative;
}

.data-table tr {
    height: 35px;
}

.data-table tr td {
    border: none;
    vertical-align: top;
    cursor: text;
}

.data-table tr td[table-cell-selection]:after {
    content: ' ';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(180, 213, 254, 0.5);
    pointer-events: none;
    z-index: 2;
}

.drag-selecting .data-table, .data-table tr td[table-cell-selection] {
    caret-color:transparent
}

.data-table tr td[table-cell-selection] ::-moz-selection{
    background: transparent !important;
}

.data-table tr td[table-cell-selection] ::selection{
    background: transparent !important;
}

.table-wrapper {
    position: relative;
    cursor: default;
}

.table-wrapper.active {
    margin-top: -42px;
    width: 100%;
}

.table-wrapper.scrollbar-show {
    margin-bottom: -10px;
}

.table-wrapper.data-table-highlight tr td[table-cell-selection]:after {
    background: transparent;
}

.table-wrapper .table-header {
    position: absolute;
    visibility: hidden;
    left: -13px;
    top: 28px;
    width: 14px;
    height: 14px;
    cursor: pointer;
    z-index: 4;
    background-color: #ffffff;
}

.table-wrapper .table-header .table-header-item {
    border: 1px solid #dfdfdf;
    background-color: #f2f3f5;
    border-top-left-radius: 50%;
    width: 100%;
    height: 100%;
}

.table-wrapper .table-header:hover {
    background-color: #ffffff;
}

.table-wrapper.data-table-highlight-all .table-header .table-header-item {
    background: rgba(255, 77, 79, 0.4) !important;
}

.table-wrapper .table-header-item:hover{
    background-color: #e2e4e6;
}

.table-wrapper.active .table-header {
    visibility:visible
}

.table-wrapper .table-header.selected .table-header-item {
    background: #4daaff;
    border-color: #4daaff;
}

.table-wrapper .table-cols-header {
    position: relative;
    height: 13px;
    display: none;
    width: 100%;
    cursor: default;
}

.table-wrapper.active .table-cols-header {
    display: flex;
}

.table-wrapper .table-cols-header .table-cols-header-item {
    position: relative;
    height: 13px;
    width: auto;
    border: 1px solid #dfdfdf;
    border-bottom: 0 none;
    overflow: visible;
    background: #f2f3f5;
    cursor: pointer;
    border-right: 0 none;
}

.table-wrapper .table-cols-header .table-cols-header-item.active{
    background-color: #e2e4e6;
}

.table-wrapper .table-cols-header .table-cols-header-item:first-child {
    border-top-left-radius: 2px;
    border-bottom-left-radius: 2px;
}
.table-wrapper .table-cols-header .table-cols-header-item:last-child {
    border-top-right-radius: 2px;
    border-bottom-right-radius: 2px;
    border-right: 1px solid #dfdfdf;
}
.table-wrapper.data-table-highlight-col .table-cols-header .table-cols-header-item.active, .table-wrapper.data-table-highlight-all .table-cols-header .table-cols-header-item {
    background: rgba(255, 77, 79, 0.4) !important;
}
.table-wrapper .table-cols-header .table-cols-header-item.selected {
    background: #fff;
    z-index: 1;
    border-radius: 0;
    border-bottom: 0;
    cursor: move;
}
.table-wrapper .table-cols-header .table-cols-header-item.selected .col-dragger {
    display: flex;
    position: absolute;
    left: -1px;
    top: -1px;
    right: -1px;
    bottom: -1px;
    background: #4daaff;
    border-radius: 0;
    z-index: 1;
    justify-content: center;
    align-items: center;
}

.table-wrapper.data-table-highlight-col .table-cols-header .table-cols-header-item .col-dragger,.table-wrapper.data-table-highlight-all .table-cols-header .table-cols-header-item .col-dragger {
    background: transparent !important;
}
.table-wrapper .table-cols-header .table-cols-header-item.selected .col-dragger .drag-info {
    display: none;
}
.table-wrapper .table-cols-header .table-cols-header-item.no-dragger .col-dragger .data-icon {
    display: none;
}
.table-wrapper .table-cols-header .table-cols-header-item.dragging .col-dragger {
    height: 50px;
}
.table-wrapper .table-cols-header .table-cols-header-item.dragging .col-dragger .drag-info {
    display: block;
    color: #fff;
}
.table-wrapper .table-cols-header .table-cols-header-item .cols-trigger {
    position: absolute;
    right: -1px;
    top: -1px;
    width: 2px;
    height: 14px;
    z-index: 10;
}

.am-engine-mobile .table-wrapper .table-cols-header .table-cols-header-item .cols-trigger {
  right: -3px;
  width: 6px;
}

.am-engine:not(.am-engine-mobile) .table-wrapper .table-cols-header .table-cols-header-item .cols-trigger.active {
    background: #0589f3;
    cursor: col-resize;
}

.am-engine:not(.am-engine-mobile) .table-wrapper .table-cols-header .table-cols-header-item .cols-trigger.dragging {
    width: 2px;
    background: #0589f3;
    right: -1px;
}

.table-wrapper .table-cols-header .table-cols-header-item .col-dragger {
    text-align: center;
    display: none;
}
.table-wrapper .table-cols-header .table-cols-header-item .col-dragger .data-icon-drag {
    font-size: 10px;
    color: #fff;
}

.table-wrapper .table-cols-header .table-cols-header-item .col-dragger .data-icon-drag::before {
    transform: rotate(90deg);
    display: inline-block;
}

.table-wrapper.data-table-highlight-col .table-cols-header .table-cols-header-item .col-dragger .data-icon-drag,.table-wrapper.data-table-highlight-all .table-cols-header .table-cols-header-item .col-dragger .data-icon-drag{
    display: none;
}
.table-wrapper .table-cols-header.dragging .table-cols-header-item .cols-trigger,.table-wrapper.drag-selecting .table-cols-header-item .cols-trigger{
    display: none;
}
.table-wrapper .table-cols-header.resize .table-cols-header-item {
    cursor: col-resize;
}
.table-wrapper .table-rows-header {
    position: absolute;
    left: -13px;
    top: 41px;
    width: 14px;
    z-index: 128;
    border-right: 0;
    display: none;
}

.table-wrapper.active .table-rows-header {
    display: block;
}

.table-wrapper .table-rows-header .table-rows-header-item {
    position: relative;
    width: 100%;
    border: 1px solid #dfdfdf;
    border-bottom: 0;
    background: #f2f3f5;
    cursor: pointer;
}

.table-wrapper .table-rows-header .table-rows-header-item.active
{
    background-color: #e2e4e6;
}

/* .table-wrapper .table-rows-header .table-rows-header-item:nth-child(3) {
    border-top: 0 none;
} */

.table-wrapper .table-rows-header .table-rows-header-item:last-child{
    border-bottom: 1px solid #dfdfdf;
}

.table-wrapper.data-table-highlight-row .table-rows-header .table-rows-header-item.active,.table-wrapper.data-table-highlight-all .table-rows-header .table-rows-header-item {
    background: rgba(255, 77, 79, 0.4) !important;
}

.table-wrapper .table-rows-header .table-rows-header-item.selected {
    width: 14px;
    background: #fff;
    cursor: move;
}
.table-wrapper .table-rows-header .table-rows-header-item.selected .row-dragger {
    display: flex;
    position: absolute;
    align-items: center;
    text-align: left;
    white-space: nowrap;
    content: ' ';
    left: -1px;
    top: -1px;
    bottom: -1px;
    right: -1px;
    background: #4daaff;
    border-radius: 0;
    z-index: 1;
}
.table-wrapper.data-table-highlight-row .table-rows-header .table-rows-header-item .row-dragger,.table-wrapper.data-table-highlight-all .table-rows-header .table-rows-header-item .row-dragger{
    background: transparent !important;
}
.table-wrapper .table-rows-header .table-rows-header-item.selected .row-dragger .drag-info {
    display: none;
}
.table-wrapper .table-rows-header .table-rows-header-item.no-dragger .row-dragger .data-icon {
    display: none;
}
.table-wrapper .table-rows-header .table-rows-header-item.dragging .row-dragger {
    width: 150px;
}
.table-wrapper .table-rows-header .table-rows-header-item.dragging .row-dragger .drag-info {
    margin-left: 5px;
    display: flex;
    padding: 10px;
    color: #fff;
}
.table-wrapper .table-rows-header .table-rows-header-item .rows-trigger {
    position: absolute;
    bottom: -1px;
    height: 2px;
    width: 14px;
    left: -1px;
    z-index: 10;
    cursor: row-resize;
}

.am-engine-mobile .table-wrapper .table-rows-header .table-rows-header-item .rows-trigger {
  bottom: -3px;
  height: 6px;
}

.am-engine:not(.am-engine-mobile) .table-wrapper .table-rows-header .table-rows-header-item .rows-trigger.active {
    background: #0589f3;
}

.am-engine:not(.am-engine-mobile) .table-wrapper .table-rows-header .table-rows-header-item .rows-trigger.dragging {
    height: 2px;
    background: #0589f3;
    bottom: -1px;
}

.table-wrapper .table-rows-header .table-rows-header-item .row-dragger {
    display: none;
}
.table-wrapper .table-rows-header .table-rows-header-item .row-dragger .data-icon-drag {
    font-size: 10px;
    color: #fff;
    margin-left: 1px;
}

.table-wrapper.data-table-highlight-row .table-rows-header .table-rows-header-item .row-dragger .data-icon-drag,.table-wrapper.data-table-highlight-all .table-rows-header .table-rows-header-item .row-dragger .data-icon-drag{
    display: none;
}

.table-wrapper .table-rows-header .table-rows-header-item .row-dragger .drag-info {
    height: 100%;
    display: flex;
    align-items: center;
}
.table-wrapper .table-rows-header.dragging .table-rows-header-item .rows-trigger,.table-wrapper.drag-selecting .table-rows-header-item .rows-trigger {
    display: none;
}
.table-wrapper .table-rows-header.resize .table-rows-header-item {
    cursor: row-resize;
}

.table-wrapper .table-viewport {
    position: relative;
    overflow: hidden;
    overflow-y: hidden;
    cursor: text;
}

.table-wrapper.active .table-viewport{
    padding-top: 28px;
    padding-left: 13px;
    margin-left: -13px;
}

.table-wrapper .table-viewport .scrollbar-shadow-left {
    top: 0;
    bottom: 10px;
}

.table-wrapper.active .table-viewport .scrollbar-shadow-left {
    top: 28px;
    margin-left: 14px;
}

.table-wrapper .table-viewport .scrollbar-shadow-right {
    top: 0;
    bottom: 10px;
}

.table-wrapper.active .table-viewport .scrollbar-shadow-right {
    top: 28px;
}

.table-wrapper .table-placeholder {
    position: absolute;
    border: 1px solid #008dff;
    background: #008dff;
    display: none;
    z-index: 126;
}
.table-wrapper .table-menubar {
    position: absolute;
    top: -99999px;
    left: -99999px;
    padding: 4px 0;
    border-radius: 4px;
    border: 1px solid #e9e9e9;
    box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.08);
    background: #fff;
    /* \\u4ee3\\u7801\\u5757\\u7684 codemirror \\u9ed8\\u8ba4\\u7ed9\\u6bcf\\u884c\\u4ee3\\u7801\\u7684 pre \\u8bbe\\u7f6e\\u4e86 z-index 2, \\u5982\\u679c\\u8868\\u683c\\u5728\\u4ee3\\u7801\\u5757\\u524d\\u9762\\uff0c\\u9020\\u6210\\u53f3\\u952e\\u83dc\\u5355\\u65e0\\u6cd5\\u70b9\\u51fb */
    z-index: 130;
    min-width: 240px;
}
.table-wrapper .table-menubar .table-menubar-item {
    padding: 6px 16px;
    cursor: default;
}
.table-wrapper .table-menubar .table-menubar-item:hover {
    background: #f0f0f0;
}

.table-wrapper .table-menubar .table-menubar-item.disabled {
    color: #aaa;
    display: none;
}

.table-wrapper .table-menubar .table-menubar-item .table-menubar-item-input {
    width: 46px;
    line-height: 12px;
    font-size: 12px;
    outline: none;
    border: 1px solid #dadada;
    border-radius: 4px;
    text-align: center;
}

.table-wrapper .table-menubar .table-menubar-item .table-menubar-item-input::-moz-selection {
    color: inherit;
    background:transparent
}

.table-wrapper .table-menubar .table-menubar-item .table-menubar-item-input::selection {
    color: inherit;
    background:transparent
}

.table-wrapper .table-menubar .table-menubar-item .table-menubar-item-input:focus::-moz-selection
{
    color: #fff;
    background: #1890ff;
}

.table-wrapper .table-menubar .table-menubar-item .table-menubar-item-input:focus::selection
{
    color: #fff;
    background: #1890ff;
}

.table-wrapper .table-menubar .split {
    height: 0;
    border-top: 1px solid #e8e8e8;
    margin: 2px 0;
}

.table-wrapper .table-main-content {
    margin: 2px 2px;
    padding: 4px 4px;
    position: relative;
    z-index: 3;
}

.table-wrapper .table-main-content [data-card-key] {
    max-width: 100%;
}

.table-wrapper .table-main-bg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1;
    bottom: 0;
    pointer-events: none;
}

.table-wrapper .table-main-bg .table-main-border-top {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1;
    height: 0;
    border-top: 1px solid rgb(217, 217, 217);
}

.table-wrapper:not(.active) [data-table-no-border="true"] .table-main-bg .table-main-border-top {
    border-top-color: transparent;
}

.table-wrapper.active [data-table-no-border="true"] .table-main-bg .table-main-border-top {
    border-top-style: dashed;
}

.table-wrapper .table-main-bg .table-main-border-right {
    display: none;
    position: absolute;
    top: 0;
    bottom: 0;
    right: -1px;
    z-index: 1;
    width: 0;
    border-right: 1px solid rgb(217, 217, 217);
}

.table-wrapper:not(.active) [data-table-no-border="true"] .table-main-bg .table-main-border-right {
    border-right-color: transparent;
}

.table-wrapper.active [data-table-no-border="true"] .table-main-bg .table-main-border-right {
    border-right-style: dashed;
}

.table-wrapper tr td.table-last-row .table-main-bg .table-main-border-right {
    display: block;
    right: 0;
}

.table-wrapper .table-main-bg .table-main-border-bottom {
    display: none;
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    z-index: 1;
    height: 0;
    border-bottom: 1px solid rgb(217, 217, 217);
}

.table-wrapper:not(.active) [data-table-no-border="true"] .table-main-bg .table-main-border-bottom {
    border-bottom-color: transparent;
}

.table-wrapper.active [data-table-no-border="true"] .table-main-bg .table-main-border-bottom {
    border-bottom-style: dashed;
}

.table-wrapper tr td.table-last-column .table-main-bg .table-main-border-bottom{
    display: block;
    bottom: 0;
}

.table-wrapper .table-main-bg .table-main-border-left {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    z-index: 1;
    width: 0;
    border-left: 1px solid rgb(217, 217, 217);
}

.table-wrapper:not(.active) [data-table-no-border="true"] .table-main-bg .table-main-border-left {
    border-left-color: transparent;
}

.table-wrapper.active [data-table-no-border="true"] .table-main-bg .table-main-border-left {
    border-left-style: dashed;
}

.table-wrapper .table-highlight {
    background: #ff4d4f;
    opacity: 0.08;
    position: absolute;
    z-index: 2;
    pointer-events: none;
    display: none;
}

.table-wrapper.scrollbar-show .data-scrollable.scroll-x {
    padding-bottom: 10px;
}

.table-wrapper .data-scrollable.scroll-x {
    padding-bottom: 0;
}

.table-wrapper .data-scrollable.scroll-x:hover {
    overflow: hidden;
}

.table-wrapper.scrollbar-show .data-scrollable.scroll-x .data-scrollbar-x{
    margin-bottom: 2px;
}

.table-wrapper .data-scrollable .data-scrollbar.data-scrollbar-x {
    height: 6px;
    z-index: 5;
}

.table-wrapper .data-scrollable .data-scrollbar.data-scrollbar-x .data-scrollbar-trigger {
    height: 6px;
}

.table-wrapper .table-rows-header .table-row-delete-button,.table-wrapper .table-rows-header .table-row-add-button {
    position: absolute;
    right: 100%;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2;
    width: 24px;
    height: 24px;
    border: 1px solid #e4e4e4;
    border-radius: 2px;
    cursor: pointer;
    background-color: #fff;
    background-position: center center;
    background-repeat: no-repeat;

    left: 14px;
    margin-left: 2px;
    margin-top: -2px;
}

.table-wrapper .table-rows-header .table-row-delete-button .data-icon,.table-wrapper .table-rows-header .table-row-add-button .data-icon {
    font-size: 12px;
}

.table-wrapper .table-rows-header .table-row-add-button {
    left: -30px;
    margin-top: -12px;
}

.table-wrapper .table-rows-header .table-row-delete-button:hover,.table-wrapper .table-col-delete-button:hover {
    color:#ff4d4f;
}

.table-wrapper .table-col-delete-button, .table-wrapper .table-col-add-button {
    position: absolute;
    bottom: 100%;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 128;
    margin-bottom: 4px;
    width: 24px;
    height: 24px;
    border: 1px solid #e4e4e4;
    border-radius: 2px;
    cursor: pointer;
    background: #fff;
    background-position: center center;
    background-repeat: no-repeat;
    margin-left: -12px;
}

.table-wrapper .table-col-delete-button .data-icon, .table-wrapper .table-col-add-button .data-icon {
    font-size: 12px;
}

.table-wrapper .table-cols-header .table-col-add-button .table-col-add-split-button {
    position: absolute;
    width: 2px;
    left: 10px;
    top: 22px;
    background: #008dff;
    display: none;
}

.table-wrapper .table-rows-header .table-row-add-button .table-row-add-split-button {
    position: absolute;
    height: 2px;
    left: 22px;
    background: #008dff;
    display: none;
}

.table-wrapper .table-col-add-button:hover, .table-wrapper .table-row-add-button:hover {
    color: #008dff;
}

.table-wrapper .table-col-add-button:hover .table-col-add-split-button{
    display: block;
}

.table-wrapper .table-row-add-button:hover .table-row-add-split-button{
    display: block;
}

.data-table-reader .data-table tr td {
    border: 1px solid rgb(217, 217, 217);
    cursor: auto;
    padding: 4px 8px;
}

.data-table-reader .data-table[data-table-no-border="true"] tr td {
    border:0 none
}

.data-table-reader.data-scrollable.scroll-x {
    padding-bottom: 10px;
}

.data-table-reader .scrollbar-shadow-left, .data-table-reader .scrollbar-shadow-right {
    bottom: 10px;
}

.data-table-reader.scrollbar-show.data-scrollable.scroll-x .data-scrollbar-x{
    margin-bottom: 2px;
}

.data-table-reader.data-scrollable .data-scrollbar.data-scrollbar-x {
    height: 6px;
}

.data-table-reader.data-scrollable .data-scrollbar.data-scrollbar-x .data-scrollbar-trigger {
    height: 6px;
}

[data-card-key="table"].data-card-block-max > [data-card-element="body"] > [data-card-element="center"] {
    padding: 48px;
    margin-top: 4px;
}
/**
\u8868\u683C\u53EF\u6EA2\u51FA\u6837\u5F0F
**/
.table-wrapper.table-overflow {
    width: auto;
}
`;xn(_i);var Vr=function(Kr){(0,m.Z)(qt,Kr);var Tr=(0,p.Z)(qt);function qt(){var Zt;(0,U.Z)(this,qt);for(var Ee=arguments.length,pe=new Array(Ee),oe=0;oe<Ee;oe++)pe[oe]=arguments[oe];return Zt=Tr.call.apply(Tr,[this].concat(pe)),Zt.onCopy=function(me){var Pe=Zt.editor;if(!(0,d.iC)(Pe))return!0;var nt=Pe.change,ht=Pe.card,vt=nt.range.get(),St=ht.find(vt.commonAncestorNode,!0);if(St&&St.name===jr.cardName&&!St.isCursor(vt.startNode)){var It=St.getSelectionNodes();if(It.length>1)return me.preventDefault(),St.command.copy(),Pe.messageSuccess("copy",Pe.language.get("copy","success")),!1}return!0},Zt.onCut=function(me){var Pe=Zt.editor;if(!(0,d.iC)(Pe)||Pe.readonly)return!0;var nt=Pe.change,ht=Pe.card,vt=nt.range.get(),St=ht.find(vt.commonAncestorNode,!0);if(St&&St.name===jr.cardName&&!St.isCursor(vt.startNode)){var It=St.getSelectionNodes();if(It.length>1)return me.preventDefault(),St.command.cut(),!1}return!0},Zt.onPaste=function(me){var Pe=Zt.editor;if(!(0,d.iC)(Pe)||Pe.readonly)return!0;var nt=Pe.change,ht=Pe.card,vt=nt.range.get(),St=ht.find(vt.commonAncestorNode,!0);if(St&&St.name===jr.cardName&&!St.isCursor(vt.startNode)){var It=Pe.clipboard.getData(me);return!It||!/<meta\s+name="aomao"\s+content="table"\s{0,}\/?>/gi.test(It.html||"")?!0:(me.preventDefault(),St.command.paste(It),!1)}return!0},Zt.pasteSchema=function(me){me.data.blocks.forEach(function(ht){ht.allowIn||(ht.allowIn=[]),ht.allowIn.indexOf("td")<0&&ht.allowIn.push("td")});var Pe=me.find(function(ht){return ht.name==="table"})[0];Pe.attributes={class:["data-table"],"data-table-no-border":"*","data-width":"@length",style:{width:"@length",background:"@color","background-color":"@color"}};var nt=Pe.allowIn;nt?nt.push("div"):Pe.allowIn=["div"],me.find(function(ht){return ht.name==="div"})[0].attributes={class:{required:!0,value:["editor-table-wrapper"]}},me.find(function(ht){return ht.name==="tr"})[0].attributes={class:["data-table"],"data-table-no-border":"*",style:{height:"@length",background:"@color","background-color":"@color",display:"*"}},me.find(function(ht){return ht.name==="td"})[0].attributes={colspan:"@number",rowspan:"@number",class:["table-last-column","table-last-row","table-last-column","table-cell-selection"],style:{"background-color":"@color",background:"@color","vertical-align":["top","middle","bottom"],valign:["top","middle","bottom"]}}},Zt.pasteEach=function(me){var Pe;me.name==="div"&&me.hasClass("editor-table-wrapper")&&((Pe=me.first())===null||Pe===void 0?void 0:Pe.name)==="table"&&Zt.editor.node.unwrap(me)},Zt.pasteHtml=function(me){var Pe=Zt.editor;if(!!(0,d.iC)(Pe)){var nt=function(Gt){var Yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"width",Mn=Gt.attributes("data-width"),Dn=Mn||Gt.css(Yt);Dn.endsWith("%")&&Gt.css(Yt,""),Dn.endsWith("pt")&&Gt.css(Yt,Zt.convertToPX(Dn))},ht=me.find("table");if(ht.length!==0){var vt=new it(Pe),St=Pe.change,It=St.range.get(),Kt=function(Gt){var Yt=Gt.find("thead"),Mn=Yt.find("th,td").toArray();Mn.forEach(function(On){Gt.before(On.children())});var Dn=Gt.find("tr").toArray();Dn.forEach(function(On){var Rn=On.find("td").toArray();Rn.forEach(function(Kn){Pe.node.isEmpty(Kn)||Gt.before(Kn.children())})});var wn=Gt.find("tfoot"),mn=wn.find("th,td").toArray();mn.forEach(function(On){Gt.after(On.children())}),Gt.remove()},Tt=It.startNode.closest(d.Su).length>0;ht.each(function(Lt,Gt){var Yt,Mn,Dn,wn=ht.eq(Gt);if(!!wn){if(Tt||((Yt=wn.parent())===null||Yt===void 0?void 0:Yt.name)==="td"){Kt(wn);return}var mn=wn.find("tr");mn.each(function(Xr){var Vn=(0,d.$)(Xr),ci=Vn.css("display");ci==="none"?Vn.remove():Vn.css("display","");var mi=Vn.children();mi.each(function(oi){var Ar=(0,d.$)(oi),Fr=Ar.text(),lr=Ar.find("table");if(lr.length>0&&(lr.after(document.createTextNode(lr.text())),lr.remove()),Ar.name!=="td"&&[`
`,`\r
`].includes(Fr.trim())){var Hr=(0,d.$)("<td></td>");Ar.before(Hr),Hr.append(Ar)}})});var On=wn.attributes("data-width");On&&wn.css("width",On),wn=vt.normalizeTable(wn),nt(wn),nt(wn,"height");var Rn=wn.find("tbody"),Kn=wn.find("thead");Kn&&Kn.length>0&&Rn.prepend(Kn.children()),Kn.remove();var jn=wn.find("tfoot");jn&&jn.length>0&&Rn.append(jn.children()),jn.remove();var tr=wn.find("th");tr.each(function(Xr,Vn){var ci=tr.eq(Vn);ci==null||ci.replaceWith((0,d.$)("<td>".concat(ci.html(),"</td>")))});var cr=wn.find("td"),ar=(0,d.Me)().createDocumentFragment();cr.each(function(Xr,Vn){ar=(0,d.Me)().createDocumentFragment();var ci=cr.eq(Vn);if(!!ci){nt(ci),nt(ci,"height");var mi=ci.css("background");mi&&ci.css("background-color",mi);var oi=ci.attributes("valign");oi&&ci.attributes("vertical-align",oi);for(var Ar=ci.children(),Fr=0,lr=Ar.length;Fr<lr;Fr++){var Hr=Ar.eq(Fr);if((Fr===0||Fr===lr-1)&&(Hr==null?void 0:Hr.isText())){var He=Hr.text();if(/^\n(\s)*$/.test(He))continue}Hr&&ar.appendChild(Hr[0])}var kt=(0,d.$)(ar);ci==null||ci.empty().append(Pe.node.normalize(kt))}});var Zn=((Mn=wn)===null||Mn===void 0?void 0:Mn.css("background"))||((Dn=wn)===null||Dn===void 0?void 0:Dn.css("background-color"));Zn&&cr.css("background",Zn),mn=wn.find("tr");var Un=1;mn.each(function(Xr){var Vn=(0,d.$)(Xr),ci=Vn==null?void 0:Vn.find("td");if((ci==null?void 0:ci.length)===0&&Un<2&&(Vn==null||Vn.remove()),ci&&(ci==null?void 0:ci.length)>0){var mi=ci.toArray().map(function(Ar){return Ar[0].rowSpan});Un=Math.max.apply(Math,(0,O.Z)(mi))}Vn&&(nt(Vn),nt(Vn,"height"));var oi=(Vn==null?void 0:Vn.css("background"))||(Vn==null?void 0:Vn.css("background-color"));oi&&(ci==null||ci.css("background",oi))}),Pe.nodeId.generateAll(wn,!0);var yi=wn.allChildren();yi.forEach(function(Xr){Pe.node.isInline(Xr)&&Pe.inline.repairCursor(Xr)});var gi=wn.get().outerHTML.replace(/\n|\r\n/g,"").replace(/>\s+</g,"><");Pe.card.replaceNode(wn,jr.cardName,{html:gi}),wn.remove()}})}}},Zt.parseHtml=function(me,Pe){var nt=Zt.editor,ht=[];return me.find("[".concat(d.Jr,'="').concat(jr.cardName,'"],[').concat(d.mV,'="').concat(jr.cardName,'"]')).each(function(vt){var St=(0,d.$)(vt),It=St.find("table"),Kt=(0,d.RW)(St.attributes(d.TM));if(It.length===0){if(!Kt||!Kt.html)return;if(It=(0,d.$)((0,d.Gg)(Kt.html)),It.length===0){St.remove();return}else nt.trigger("parse:html",It)}var Tt=It.attributes("width")||It.css("width");It.css({outline:"none","border-collapse":"collapse",width:"100%"}),It.attributes("data-width",Tt);var Lt=It.find("td");Lt.each(function(Yt,Mn){var Dn=Lt.eq(Mn);Dn==null||Dn.css({"min-width":"auto","white-space":"flat","word-wrap":"break-word",margin:"4px 8px",border:It.attributes("data-table-no-border")?"0 none":"1px solid #d9d9d9",padding:"4px 8px",cursor:"default","vertical-align":Dn.css("vertical-align")||"top"})}),It.find(Ae.TABLE_TD_BG_CLASS).remove(),It.find(Ae.TABLE_TD_CONTENT_CLASS).each(function(Yt){nt.node.unwrap((0,d.$)(Yt))}),Pe&&(It=Pe(It,Kt));var Gt=It.attributes("data-id")+"-table";It=(0,d.$)(`<div class="editor-table-wrapper" style='width:100%;overflow:auto;'  data-id='`.concat(Gt,"'  data-table-no-border='").concat(!!It.attributes("data-table-no-border"),"'>")).append(It),St.replaceWith(It),ht.push(It)}),ht},Zt.markdownIt=function(me){Zt.options.markdown!==!1&&me.enable("table")},Zt}return(0,x.Z)(qt,[{key:"init",value:function(){var Ee=this.editor;this.options.colMinWidth||(this.options.colMinWidth=40),this.options.rowMinHeight||(this.options.rowMinHeight=30),Ee.language.add($i),Ee.schema.add(this.schema()),Ee.conversion.add("th","td"),Ee.on("parse:html",this.parseHtml),Ee.on("paste:each",this.pasteEach),Ee.on("paste:each-after",this.pasteHtml),Ee.on("paste:schema",this.pasteSchema),(0,d.iC)(Ee)&&(this.editor.on("markdown-it",this.markdownIt),Ee.change.event.onDocument("copy",this.onCopy,0),Ee.change.event.onDocument("cut",this.onCut,0),Ee.change.event.onDocument("paste",this.onPaste,0))}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"schema",value:function(){return[{name:"table",type:"block",attributes:{class:["data-table"],"data-table-no-border":"*",style:{width:"@length"}}},{name:"colgroup",type:"block",allowIn:["table"]},{name:"col",type:"block",isVoid:!0,attributes:{width:"@number",span:"@number"},allowIn:["colgroup"]},{name:"thead",type:"block",allowIn:["table"]},{name:"tbody",type:"block",allowIn:["table"]},{name:"tr",type:"block",attributes:{style:{height:"@length"}},allowIn:["tbody","thead","tfoot"]},{name:"td",type:"block",attributes:{colspan:"@number",rowspan:"@number",class:["table-last-column","table-last-row","table-last-column","table-cell-selection"],style:{"background-color":"@color","vertical-align":["top","middle","bottom"]}},allowIn:["tr"]},{name:"th",type:"block",attributes:{colspan:"@number",rowspan:"@number"},allowIn:["tr"]}]}},{key:"execute",value:function(Ee,pe){var oe=this.editor;if(!!(0,d.iC)(oe)){var me=oe.change,Pe=me.range.get();Pe.startNode.closest(d.Su).length>0||oe.card.insert(jr.cardName,{rows:Ee||3,cols:pe||3,overflow:!!this.options.overflow})}}},{key:"convertToPX",value:function(Ee){var pe=/([\d\.]+)(pt|px)$/i.exec(Ee);return pe&&pe[2]==="pt"?String(Math.round(parseInt(pe[1],10)*96/72))+"px":Ee}},{key:"destroy",value:function(){var Ee=this.editor;Ee.off("parse:html",this.parseHtml),Ee.off("paste:each-after",this.pasteHtml),Ee.off("paste:schema",this.pasteSchema),Ee.off("markdown-it",this.markdownIt)}}],[{key:"pluginName",get:function(){return"table"}}]),qt}(d.Sy);Ce.Z=Vr},68369:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return lt}});var O=f(40936),U=f(49962),x=f(60790),m=f(65782),p=f(64655),d=f(62998),v=f(34203),M=f(29129),D=f(85462),T=f(11997),S=f(15286),g=f(85170),z=f(49544),E=f(91600),Y=f(75782),q=f(12209),j=f(2800),le=f(2600),ce=f.n(le),se={"en-US":{tag:{defaultTag:"Default Tag",customTag:"Custom Tag",historyTag:"History Tag",placeholder:"Press Enter to confirm",addTag:"Add Tag",abandon:"Abandon",must:"Require",add:"Add",delete:"Delete"}},"zh-CN":{tag:{defaultTag:"\u9ED8\u8BA4\u6807\u7B7E",customTag:"\u81EA\u5B9A\u4E49\u6807\u7B7E",historyTag:"\u5386\u53F2\u6807\u7B7E",placeholder:"\u8F93\u5165\u6807\u7B7E\u5185\u5BB9, \u56DE\u8F66\u786E\u8BA4",addTag:"\u8BF7\u6DFB\u52A0\u6807\u7B7E",abandon:"\u5E9F\u5F03",must:"\u5FC5\u586B",add:"\u6DFB\u52A0",delete:"\u5220\u9664"}}},ne=[{type:"abandon",background:"#FFE8E6",color:"#820014",text:"\u5E9F\u5F03"},{type:"must",background:"#ebf3ff",color:"#338aff",text:"\u5FC5\u586B"},{type:"add",background:"#d8eecd",color:"#5ca537",text:"\u65B0\u589E"},{type:"delete",background:"#ffe9bc",color:"#dc9300",text:"\u5220\u9664"}],De=function(ue,ae,de){var ve=ae.tagType,J=ae.tagValue,X=ae.isCustom,K=ue.find(function(ze){return ze.type===ve})||ue[0];return X?(0,Y.Z)((0,Y.Z)({},K),{},{text:J||de.addTag,isCustom:!0}):(0,Y.Z)((0,Y.Z)({},K),{},{text:ve?K.type:de.addTag,isCustom:!1})},we="tag-plugin-list",je=function(){try{var ue=JSON.parse(localStorage.getItem(we)||"[]");return Array.isArray(ue)?ue:[]}catch(ae){return[]}};function dt(fe){var ue=fe.value,ae=fe.editor,de=fe.onChange,ve=fe.defaultVisible,J=ve===void 0?!1:ve,X=ue.tagType,K=ue.tagValue,ze=ue.isCustom,Ze=ae.language.get("tag"),We=(0,g.useMemo)(function(){return ne.map(function(qt){return(0,Y.Z)((0,Y.Z)({},qt),{},{text:Ze[qt.type]})})},[]),ye=De(We,ue,Ze),Ie=ze?K:"",Ue=je(),Ye=(0,g.useState)(Ue),Ae=(0,E.Z)(Ye,2),tt=Ae[0],it=Ae[1],Ve=(0,g.useState)(X),et=(0,E.Z)(Ve,2),wt=et[0],jt=et[1],on=(0,g.useState)(ye),bn=(0,E.Z)(on,2),Ft=bn[0],Mt=bn[1],_t=(0,g.useState)(Ie),Jt=(0,E.Z)(_t,2),Me=Jt[0],yn=Jt[1],Wt=(0,g.useState)(J),xn=(0,E.Z)(Wt,2),Nn=xn[0],Cr=xn[1],jr=function(){Cr(!1)},ii=function(Zt){Cr(Zt)},xi=function(Zt){jt(Zt.type),yn(""),Mt((0,Y.Z)((0,Y.Z)({},Zt),{},{isCustom:!1})),de&&(de((0,Y.Z)((0,Y.Z)({},Zt),{},{isCustom:!1})),jr())},$i=function(Zt){var Ee=[(0,Y.Z)((0,Y.Z)({},Zt),{},{isCustom:!0})].concat((0,z.Z)(tt)),pe=ce()(Ee,"text").slice(0,3);it(pe),localStorage.setItem(we,JSON.stringify(pe))},_i=function(Zt){Me&&$i((0,Y.Z)((0,Y.Z)({},Zt),{},{text:Me})),jt(Zt.type),Mt((0,Y.Z)((0,Y.Z)({},Zt),{},{text:Me,isCustom:!0})),de&&de((0,Y.Z)((0,Y.Z)({},Zt),{},{text:Me,isCustom:!0}))},Vr=function(Zt){yn(Zt.target.value),Mt((0,Y.Z)((0,Y.Z)({},Ft),{},{isCustom:!0}))},Kr=function(){Me&&$i((0,Y.Z)((0,Y.Z)({},Ft),{},{text:Me})),jt(Ft.type||"abandon"),Mt((0,Y.Z)((0,Y.Z)({},Ft),{},{text:Me})),de&&(de((0,Y.Z)((0,Y.Z)({},Ft),{},{text:Me})),jr())},Tr=function(Zt){$i(Zt),yn(""),jt(""),Mt((0,Y.Z)((0,Y.Z)({},Zt),{},{isCustom:!0})),de&&(de((0,Y.Z)((0,Y.Z)({},Zt),{},{isCustom:!0})),jr())};return g.createElement(q.Z,{showArrow:!1,visible:Nn,trigger:["click"],placement:"bottomLeft",overlayClassName:"tag-plugin-tooltip",onVisibleChange:ii,overlayStyle:{padding:0,boxShadow:"0px 2px 4px 0px rgba(225 225 225, .5)"},content:g.createElement("div",{className:"tag-plugin-tooltip-contain"},g.createElement("div",{className:"tag-plugin-tooltip-default"},g.createElement("div",{className:"tag-plugin-tooltip-title"},Ze.defaultTag),We.map(function(qt){return g.createElement("span",{key:qt.type,style:{minWidth:22,color:qt.color,background:qt.background},onClick:function(){xi(qt)}},wt===qt.type&&!Ft.isCustom&&g.createElement("svg",{width:12,height:12,fill:qt.color,viewBox:"0 0 18 18",style:{marginRight:2}},g.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})),qt.text)})),g.createElement("div",{className:"tag-plugin-tooltip-custom"},g.createElement("div",{className:"tag-plugin-tooltip-title"},Ze.customTag),g.createElement("div",{className:"tag-plugin-tooltip-custom-theme"},We.map(function(qt){return g.createElement("span",{key:qt.type,style:{color:qt.color,background:qt.background},onClick:function(){_i(qt)}},wt===qt.type&&Ft.isCustom&&g.createElement("svg",{width:12,height:12,fill:qt.color,viewBox:"0 0 18 18",style:{marginRight:2}},g.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})))})),g.createElement(j.Z,{size:"small",value:Me,placeholder:Ze.placeholder,onChange:Vr,onPressEnter:Kr}),g.createElement("div",{className:"tag-plugin-tooltip-custom-history"},Boolean(tt.length)&&g.createElement("div",{className:"tag-plugin-tooltip-custom-history-title"},Ze.historyTag),tt.map(function(qt,Zt){return g.createElement("span",{key:Zt,style:{color:qt.color,background:qt.background,border:"0 solid ".concat(qt.color)},className:Ft.type===qt.type&&Ft.text&&Ft.isCustom&&Ft.text===qt.text?"tag-plugin-tooltip-custom-history-active":"",onClick:function(){Tr(qt)}},qt.text)}))))},g.createElement("div",{className:"tag-plugin-contain",style:{color:Ft.color,background:Ft.background}},Ft.text||Ze.addTag))}var Qe=(0,T.Z)("container"),lt=function(fe){(0,m.Z)(ae,fe);var ue=(0,p.Z)(ae);function ae(){var de;(0,O.Z)(this,ae);for(var ve=arguments.length,J=new Array(ve),X=0;X<ve;X++)J[X]=arguments[X];return de=ue.call.apply(ue,[this].concat(J)),Object.defineProperty((0,x.Z)(de),Qe,{writable:!0,value:void 0}),de.defaultVisible=!1,de}return(0,U.Z)(ae,[{key:"render",value:function(ve){return(0,D.Z)(this,Qe)[Qe]=(0,d.$)("<div>Loading</div>"),this.defaultVisible=ve!=null?ve:!1,(0,D.Z)(this,Qe)[Qe]}},{key:"didRender",value:function(){var ve=this,J;(0,v.Z)((0,M.Z)(ae.prototype),"didRender",this).call(this);var X=this.getValue(),K=this.editor;S.render(g.createElement(dt,{value:X,editor:K,defaultVisible:this.defaultVisible,onChange:function(Ze){ve.setValue({tagType:Ze.type,tagValue:Ze.text,isCustom:Ze.isCustom})}}),(J=(0,D.Z)(this,Qe)[Qe])===null||J===void 0?void 0:J.get())}},{key:"destroy",value:function(){var ve;(0,v.Z)((0,M.Z)(ae.prototype),"destroy",this).call(this);var J=(ve=(0,D.Z)(this,Qe)[Qe])===null||ve===void 0?void 0:ve.get();J&&S.unmountComponentAtNode(J)}}],[{key:"cardName",get:function(){return"tag"}},{key:"cardType",get:function(){return d.eT.INLINE}},{key:"autoSelected",get:function(){return!1}},{key:"singleSelectable",get:function(){return!1}},{key:"selectStyleType",get:function(){return d.dw.BACKGROUND}}]),ae}(d.Zb);function Te(fe,ue){ue===void 0&&(ue={});var ae=ue.insertAt;if(!(!fe||typeof document=="undefined")){var de=document.head||document.getElementsByTagName("head")[0],ve=document.createElement("style");ve.type="text/css",ae==="top"&&de.firstChild?de.insertBefore(ve,de.firstChild):de.appendChild(ve),ve.styleSheet?ve.styleSheet.cssText=fe:ve.appendChild(document.createTextNode(fe))}}var Je=`.tag-plugin-contain {
	background: #ffe8e6;
	color: #820014;
	padding: 0 6px;
	border-radius: 4px;
	font-size: 12px;
	cursor: pointer;
	position: relative;
	top: -2px;
}


.tag-plugin-tooltip .ant-popover-inner-content {
	padding: 8px 12px;
}

.tag-plugin-tooltip-contain .tag-plugin-tooltip-title {
	font-size: 12px;
	font-weight: bold;
	margin-bottom: 4px;
}

.tag-plugin-tooltip-contain .tag-plugin-tooltip-default {
	margin-bottom: 8px;
}

.tag-plugin-tooltip-default > span {
	padding: 2px 4px;
	font-size: 12px;
	border-radius: 2px;
	cursor: pointer;
}

.tag-plugin-tooltip-default > span + span {
	margin-left: 8px;
}

.tag-plugin-tooltip-custom .ant-input-group-addon {
	font-size: 12px;
}

.tag-plugin-tooltip-custom input {
	font-size: 12px;
	line-height: 22px;
}

.tag-plugin-tooltip-custom .tag-plugin-tooltip-custom-theme {
	display: flex;
	margin-bottom: 8px;
}

.tag-plugin-tooltip-custom-theme > span {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 18px;
	height: 18px;
	border-radius: 9px;
	margin-right: 8px;
	cursor: pointer;
}

.tag-plugin-tooltip-custom-theme > span svg {
	position: relative;
	top: -2px;
}

.tag-plugin-tooltip-custom-history {
	margin-top: 8px;
}

.tag-plugin-tooltip-custom-history > span {
	padding: 2px 4px;
	font-size: 12px;
	border-radius: 2px;
	cursor: pointer;
}

.tag-plugin-tooltip-custom-history > span + span {
	margin-left: 8px;
}

.tag-plugin-tooltip-custom-history-title {
	font-size: 12px;
	color: #999;
	margin-bottom: 2px;
}

.tag-plugin-tooltip-custom-history-active {
	border-width: 1px !important;
}
`;Te(Je);var te=function(fe){(0,m.Z)(ae,fe);var ue=(0,p.Z)(ae);function ae(){var de;(0,O.Z)(this,ae);for(var ve=arguments.length,J=new Array(ve),X=0;X<ve;X++)J[X]=arguments[X];return de=ue.call.apply(ue,[this].concat(J)),de.pasteSchema=function(K){K.add({type:"inline",name:"span",attributes:{"data-type":{required:!0,value:lt.cardName},"data-value":"*"}})},de.pasteHtml=function(K){var ze=(0,x.Z)(de),Ze=ze.editor;if(!(!(0,d.iC)(Ze)||Ze.readonly)){if(K.isElement()){var We=K.attributes("data-type");if(We===lt.cardName){var ye=K.attributes("data-value"),Ie=(0,d.RW)(ye);return Ze.card.replaceNode(K,lt.cardName,Ie),K.remove(),!1}}return!0}},de.parseHtml=function(K){var ze=lt.cardName;K.find("[".concat(d.Jr,'="').concat(ze,'"],[').concat(d.mV,'="').concat(ze,'"]')).each(function(Ze){var We=(0,d.$)(Ze),ye=de.editor.card.find(We),Ie=ye==null?void 0:ye.getValue();if(Ie){We.empty();var Ue=Ie.tagValue?"":"qz-tag-hide",Ye=ne.find(function(tt){return tt.type===Ie.tagType})||ne[0],Ae=(0,d.$)('<span data-type="'.concat(ze,'"')+'data-value="'.concat((0,d.it)(Ie),'"')+'class="'.concat(Ue," qz-tag-view qz-tag-type-").concat(Ie.tagType,'" ')+'style="color:'.concat(Ye.color,";background:").concat(Ye.background,';"')+">".concat(Ie.isCustom?Ie.tagValue||"\u8BF7\u6DFB\u52A0\u6807\u7B7E":Ye.text,"</div>"));We.replaceWith(Ae)}else We.remove()})},de}return(0,U.Z)(ae,[{key:"init",value:function(){var ve=this.editor;ve.language.add(se),ve.on("parse:html",this.parseHtml),ve.on("paste:schema",this.pasteSchema),ve.on("paste:each",this.pasteHtml)}},{key:"execute",value:function(){var ve=this.editor;if(!(!(0,d.iC)(ve)||ve.readonly)){var J=ve.card;J.insert(lt.cardName,{tagType:"",tagValue:"",isCustom:!1},!0)}}},{key:"hotkey",value:function(){return this.options.hotkey||""}},{key:"destroy",value:function(){var ve=this.editor;ve.off("parse:html",this.parseHtml),ve.off("paste:schema",this.pasteSchema),ve.off("paste:each",this.pasteHtml)}}],[{key:"pluginName",get:function(){return"tag"}}]),ae}(d.Sy);Ce.C=te},82895:function(ut,Ce,f){"use strict";f.d(Ce,{bK:function(){return ue}});var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M=f(91600),D=f(60790),T=f(85462),S=f(11997),g=["[ ] ","[x] ","[X] "];function z(Ze,We){We||(We={checkStrings:g}),We.checkStrings=We.checkStrings||g,Ze.core.ruler.after("inline","task-list",function(ye){for(var Ie=ye.tokens,Ue=2;Ue<Ie.length;Ue++)q(Ie,Ue,We)?le(Ie,Ue,ye,We):j(Ie,Ue-1,We)&&ce(Ie,Ue,ye,We)})}function E(Ze,We,ye){var Ie=Ze.attrIndex(We),Ue=[We,ye];Ie<0?Ze.attrPush(Ue):(Ze.attrs||(Ze.attrs=[]),Ze.attrs[Ie]=Ue)}function Y(Ze,We){for(var ye=Ze[We].level-1,Ie=We-1;Ie>=0;Ie--)if(Ze[Ie].level===ye)return Ie;return-1}function q(Ze,We,ye){return De(Ze[We])&&we(Ze[We-1])&&dt(Ze[We],!1,ye)&&je(Ze[We-2])}function j(Ze,We,ye){return De(Ze[We])&&we(Ze[We-1])&&dt(Ze[We],!0,ye)&&(We-2<0||!je(Ze[We-2]))}function le(Ze,We,ye,Ie){var Ue=Ze[We],Ye=Ze[We-2];Ie.itemClass&&E(Ye,"class",Ie.itemClass),Ie.rootClass&&E(Ze[Y(Ze,We-2)],"class",Ie.rootClass);var Ae=se(Ue,Ie.checkStrings),tt=Ae.markup,it=Ae.content,Ve=Ae.checked;Ye.markup=tt,Ue.content=it,Ue.children&&Ue.children.length>0&&(Ue.children[0].content=Ue.content),Ye.info=Ve?"true":"false";var et=ne(Ve,ye.Token),wt=(0,M.Z)(et,2),jt=wt[0],on=wt[1];Ze.splice(We,0,jt),Ze.splice(We+1,0,on)}function ce(Ze,We,ye,Ie){var Ue=Ze[We],Ye=Ze[We-1],Ae=Ze[We-2];Ae.tag="ul",Ae.type="task_list_open",Ie.rootClass&&E(Ae,"class",Ie.rootClass);var tt=new ye.Token("task_list_item_open","li",1);Ie.itemClass&&E(tt,"class",Ie.itemClass),Ze.splice(We-1,0,tt);var it=se(Ye,Ie.checkStrings),Ve=it.markup,et=it.content,wt=it.checked;tt.markup=Ve,Ye.content=et,Ye.children&&Ye.children.length>0&&(Ye.children[0].content=Ye.content),tt.info=wt?"true":"false";var jt=ne(wt,ye.Token),on=(0,M.Z)(jt,2),bn=on[0],Ft=on[1];Ze.splice(We,0,bn),Ze.splice(We+1,0,Ft);var Mt=new ye.Token("task_list_item_close","li",-1);Ze.splice(We+3,0,Mt),Ue.tag="ul",Ue.type="task_list_close"}function se(Ze,We){for(var ye="",Ie="",Ue=!1,Ye=function(Ve){var et=We[Ve],wt=function(bn){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Mt=Ft?bn.trim():et;return Ze.content.startsWith(Mt)?(ye=Mt,Ie=Ze.content.replace(Mt,""),Ue=Mt.substring(1,2).trim().toLowerCase()==="x",!0):!1},jt=wt(et);if(jt||(jt=wt(et,!0)),jt)return"break"},Ae=0;Ae<We.length;Ae++){var tt=Ye(Ae);if(tt==="break")break}return{markup:ye,content:Ie,checked:Ue}}function ne(Ze,We){var ye=new We("task_list_item_checkbox_open","span",1);E(ye,v.W9,"inline"),E(ye,v.Jr,"checkbox"),E(ye,v.TM,(0,v.it)({type:"inline",checked:Ze}));var Ie=new We("task_list_item_checkbox_close","span",-1);return[ye,Ie]}function De(Ze){return Ze.type==="inline"}function we(Ze){return Ze.type==="paragraph_open"}function je(Ze){return Ze.type==="list_item_open"}function dt(Ze){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ye=arguments.length>2?arguments[2]:void 0;return ye.checkStrings.some(function(Ie){return Ze.content.indexOf(We?Ie.trim():Ie)===0})}function Qe(Ze,We){We===void 0&&(We={});var ye=We.insertAt;if(!(!Ze||typeof document=="undefined")){var Ie=document.head||document.getElementsByTagName("head")[0],Ue=document.createElement("style");Ue.type="text/css",ye==="top"&&Ie.firstChild?Ie.insertBefore(Ue,Ie.firstChild):Ie.appendChild(Ue),Ue.styleSheet?Ue.styleSheet.cssText=Ze:Ue.appendChild(document.createTextNode(Ze))}}var lt=`.data-checkbox {\r
	font-size: 14px;\r
	font-variant: tabular-nums;\r
	color: rgba(0, 0, 0, 0.65);\r
	box-sizing: border-box;\r
	margin: 0;\r
	padding: 0;\r
	width: 16px;\r
	height: 16px;\r
	max-width: 16px !important;\r
	list-style: none;\r
	white-space: nowrap;\r
	cursor: pointer;\r
	outline: none;\r
	display: inline-block;\r
	line-height: 1;\r
	position: relative;\r
}\r
\r
.data-checkbox-checked:after {\r
	position: absolute;\r
	top: 0;\r
	left: 0;\r
	width: 100%;\r
	height: 100%;\r
	border-radius: 2px;\r
	border: 1px solid #347eff;\r
	content: "";\r
	visibility: hidden;\r
}\r
\r
.data-checkbox:not(.data-checkbox-mobile):focus .data-checkbox-inner,.data-checkbox:not(.data-checkbox-mobile) .data-checkbox-inner {\r
    border-color: #347eff\r
}\r
\r
.data-checkbox:hover:after{\r
	visibility: visible;\r
}\r
\r
.data-checkbox-inner {\r
	position: relative;\r
	top: 0;\r
	left: 0;\r
	width: 100%;\r
	height: 100%;\r
    display: inline-block;\r
	border: 1px solid #d9d9d9;\r
	border-radius: 2px;\r
	background-color: #fff;\r
	-webkit-transition: all 0.3s;\r
	transition: all 0.3s;\r
	border-collapse: separate;\r
}\r
\r
.data-checkbox-inner:after {\r
	-webkit-transform: rotate(45deg) scale(0);\r
	-ms-transform: rotate(45deg) scale(0);\r
	transform: rotate(45deg) scale(0);\r
	position: absolute;\r
	left: 4.57142857px;\r
	top: 1.14285714px;\r
	display: table;\r
	width: 5.71428571px;\r
	height: 9.14285714px;\r
	border: 2px solid #fff;\r
	border-top: 0;\r
	border-left: 0;\r
	content: ' ';\r
	-webkit-transition: all 0.1s cubic-bezier(0.71, -0.46, 0.88, 0.6), opacity 0.1s;\r
	transition: all 0.1s cubic-bezier(0.71, -0.46, 0.88, 0.6), opacity 0.1s;\r
	opacity: 0;\r
}\r
\r
.data-checkbox-checked .data-checkbox-inner:after {\r
	-webkit-transform: rotate(45deg) scale(1);\r
	-ms-transform: rotate(45deg) scale(1);\r
	transform: rotate(45deg) scale(1);\r
	position: absolute;\r
	display: table;\r
	border: 2px solid #fff;\r
	border-top: 0;\r
	border-left: 0;\r
	content: ' ';\r
	-webkit-transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;\r
	transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;\r
	opacity: 1;\r
}\r
\r
.data-checkbox-checked .data-checkbox-inner {\r
	background-color: #347eff;\r
    border-color: #347eff;\r
}\r
\r
.data-checkbox-disabled {\r
	cursor: not-allowed;\r
}\r
\r
.data-checkbox-disabled.data-checkbox-checked .data-checkbox-inner:after {\r
	-webkit-animation-name: none;\r
	animation-name: none;\r
	border-color: rgba(0, 0, 0, 0.25);\r
}\r
\r
.data-checkbox-disabled .data-checkbox-input {\r
	cursor: not-allowed;\r
}\r
\r
.data-checkbox-disabled .data-checkbox-inner {\r
	border-color: #d9d9d9 !important;\r
	background-color: #f5f5f5;\r
}\r
\r
.data-checkbox-disabled .data-checkbox-inner:after {\r
	-webkit-animation-name: none;\r
	animation-name: none;\r
	border-color: #f5f5f5;\r
	border-collapse: separate;\r
}\r
\r
.data-checkbox-disabled + span {\r
	color: rgba(0, 0, 0, 0.25);\r
	cursor: not-allowed;\r
}\r
`;Qe(lt);var Te="data-checkbox",Je="data-checkbox-inner",te="data-checkbox-checked",fe=(0,S.Z)("container"),ue=function(Ze){(0,p.Z)(ye,Ze);var We=(0,d.Z)(ye);function ye(){var Ie;(0,O.Z)(this,ye);for(var Ue=arguments.length,Ye=new Array(Ue),Ae=0;Ae<Ue;Ae++)Ye[Ae]=arguments[Ae];return Ie=We.call.apply(We,[this].concat(Ye)),Object.defineProperty((0,D.Z)(Ie),fe,{writable:!0,value:void 0}),Ie.update=function(tt){var it=tt===void 0?Ie.isChecked():tt,Ve=Ie.root.parent();if(it){var et;(et=(0,T.Z)((0,D.Z)(Ie),fe)[fe])===null||et===void 0||et.removeClass(te),Ve==null||Ve.removeAttributes("checked")}else{var wt;(wt=(0,T.Z)((0,D.Z)(Ie),fe)[fe])===null||wt===void 0||wt.addClass(te),Ve==null||Ve.attributes("checked","true")}return it},Ie.isChecked=function(){var tt;return!!(!((tt=(0,T.Z)((0,D.Z)(Ie),fe)[fe])===null||tt===void 0)&&tt.hasClass(te))},Ie.onClick=function(tt){tt.preventDefault(),tt.stopPropagation();var it=Ie.update();Ie.setValue({checked:!it})},Ie}return(0,U.Z)(ye,[{key:"onSelectByOther",value:function(){}},{key:"onSelect",value:function(){}},{key:"onActivateByOther",value:function(){}},{key:"render",value:function(){var Ue=`
        <span class="`.concat(Te).concat(v.tq?" ".concat(Te,"-mobile"):"",`">
                <span class="`).concat(Je,`"></span>
            </span>`),Ye=this.getValue();(0,T.Z)(this,fe)[fe]?(0,T.Z)(this,fe)[fe]=this.getCenter().first():((0,T.Z)(this,fe)[fe]=(0,v.$)(Ue),this.getCenter().append((0,T.Z)(this,fe)[fe]));var Ae=this.editor;this.update(!(Ye!=null&&Ye.checked)),!(!(0,v.iC)(Ae)||Ae.readonly)&&(0,T.Z)(this,fe)[fe].on("mousedown",this.onClick)}},{key:"destroy",value:function(){var Ue;(Ue=(0,T.Z)(this,fe)[fe])===null||Ue===void 0||Ue.off("mousedown",this.onClick)}}],[{key:"cardName",get:function(){return"checkbox"}},{key:"cardType",get:function(){return v.eT.INLINE}},{key:"singleSelectable",get:function(){return!1}},{key:"autoSelected",get:function(){return!1}},{key:"collab",get:function(){return!1}},{key:"focus",get:function(){return!1}}]),ye}(v.Zb),ae=`.am-engine .data-list-item [data-card-key="checkbox"],.am-engine-view .data-list-item [data-card-key="checkbox"] {\r
	margin-left: 0;\r
}\r
\r
.am-engine .data-list-task,.am-engine-view .data-list-task {\r
	list-style: none;\r
	text-indent: 0;\r
}\r
\r
.am-engine .data-list-task [data-card-key="checkbox"],.am-engine-view .data-list-task [data-card-key="checkbox"] {\r
    margin-left: -22px;\r
    height: 16px;\r
    display: inline-block;\r
    width: 22px;\r
    vertical-align: middle;\r
    height: 100%;\r
}\r
\r
.am-engine .data-list-task [data-card-key="checkbox"] [data-card-element="center"],.am-engine .data-list-task [data-card-key="checkbox"] [data-card-element="body"],.am-engine-view .data-list-task [data-card-key="checkbox"] [data-card-element="center"]{\r
    height: 16px;\r
    width: 16px;\r
    vertical-align: unset;\r
}`;Qe(ae);var de="data-list-task",ve="parse:html",J="markdown-it",X="paste:each",K="paste:each-after",ze=function(Ze){(0,p.Z)(ye,Ze);var We=(0,d.Z)(ye);function ye(){var Ie;(0,O.Z)(this,ye);for(var Ue=arguments.length,Ye=new Array(Ue),Ae=0;Ae<Ue;Ae++)Ye[Ae]=arguments[Ae];return Ie=We.call.apply(We,[this].concat(Ye)),Ie.cardName="checkbox",Ie.tagName="ul",Ie.attributes={class:"@var0","data-indent":"@var1"},Ie.variable={"@var0":{required:!0,value:[Ie.editor.list.CUSTOMZIE_UL_CLASS,de]},"@var1":"@number"},Ie.allowIn=["blockquote","$root"],Ie.parseHtml=function(tt,it){var Ve=function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return'<span style="'.concat(jt?"background:#347eff;position:relative;":"background:#fff;",'width: 16px;height: 16px;display: inline-block;border: 1px solid #347eff;border-radius: 2px;transition: all 0.3s;border-collapse: separate;">').concat(jt,"</span>")},et=[];return tt.find("[".concat(v.Jr,'="checkbox"]')).each(function(wt){var jt=(0,v.$)(wt),on=(0,v.$)("<span>".concat(jt.find(".data-checkbox-checked").length>0?Ve('<span style="transform: rotate(45deg) scale(1);position: absolute;display: block;border: 2px solid #fff;border-top: 0;border-left: 0;width:5.71428571px;height:9.14285714px;transition: all 0.2s cubic-bezier(0.12, 0.4, 0.29, 1.46) 0.1s;opacity: 1;left:3.57142857px;top:0.14285714px;"></span>'):Ve(),"</span>"));if(on.css({margin:"3px 0.5ex","vertical-align":"middle",width:"16px",height:"16px",color:"rgba(0, 0, 0, 0.65)"}),jt.empty(),it){var bn=Ie.editor.card.find(jt),Ft=(bn==null?void 0:bn.getValue())||(0,v.RW)(jt.attributes(v.TM));Ft&&(on=it(on,Ft))}jt.append(on),et.push(jt)}),tt.find(".".concat(de)).css({"list-style":"none"}),et},Ie.markdownIt=function(tt){var it=Ie.editor;Ie.options.markdown!==!1&&(tt.use(z,{itemClass:it.list.CUSTOMZIE_LI_CLASS,rootClass:"".concat(it.list.CUSTOMZIE_UL_CLASS," ").concat(de)}),tt.enable("task-list"))},Ie.pasteHtml=function(tt){if(!!(0,v.iC)(Ie.editor)){if(tt.isElement()){var it,Ve=tt.attributes(),et=Ve[v.Jr]||Ve[v.mV];if(et&&et===ue.cardName&&((it=tt.parent())===null||it===void 0?void 0:it.name)!=="li")return tt.remove(),!1}return!0}},Ie.pasteEachAfter=function(tt){var it=Ie.editor,Ve=tt.find("li.".concat(it.list.CUSTOMZIE_LI_CLASS));Ve.each(function(et,wt){var jt=Ve.eq(wt);if(!!jt){var on=jt.first();if(on&&on.name===ue.cardName){var bn=it.card.find(on);if(bn){var Ft=jt.parent();Ft==null||Ft.addClass(de);var Mt=bn.getValue();Mt&&Mt.checked?Ft==null||Ft.attributes("checked","true"):Ft==null||Ft.removeAttributes("checked")}}}})},Ie}return(0,U.Z)(ye,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(ye.prototype),"init",this).call(this);var Ue=this.editor;Ue.on(ve,this.parseHtml),(0,v.iC)(Ue)&&(Ue.on(J,this.markdownIt),Ue.on(K,this.pasteEachAfter),Ue.on(X,this.pasteHtml))}},{key:"schema",value:function(){var Ue=(0,x.Z)((0,m.Z)(ye.prototype),"schema",this).call(this);return[Ue,{name:"li",type:"block",attributes:{class:{required:!0,value:this.editor.list.CUSTOMZIE_LI_CLASS},checked:["true","false"]},allowIn:["ul"]}]}},{key:"isCurrent",value:function(Ue){var Ye;return Ue.name==="li"?Ue.hasClass(this.editor.list.CUSTOMZIE_LI_CLASS)&&((Ye=Ue.first())===null||Ye===void 0?void 0:Ye.attributes(v.Jr))==="checkbox":Ue.hasClass("data-list")&&Ue.hasClass(de)}},{key:"execute",value:function(Ue){var Ye=this.editor;if(!!(0,v.iC)(Ye)){var Ae=Ye.change,tt=Ye.list,it=Ye.block;tt.split();var Ve=Ae.range.get(),et=it.findBlocks(Ve);if(et){var wt,jt=Ve.createSelection("tasklist-execute");if(tt.isSpecifiedType(et,"ul","checkbox"))tt.unwrap(et);else{var on=tt.toCustomize(et,"checkbox",Ue);on.forEach(function(Mt){Ye.node.isList(Mt)&&Mt.addClass(de)})}jt.move();var bn=(wt=Ve.startContainer.parentElement)!==null&&wt!==void 0?wt:Ve.startContainer.parentNode;if(Ve.collapsed&&Ve.startContainer.nodeType===Node.ELEMENT_NODE&&Ve.startContainer.childNodes.length===0&&bn){var Ft=document.createElement("br");Ve.startNode.before(Ft),bn.removeChild(Ve.startContainer),Ve.select(Ft),Ve.collapse(!1)}Ae.apply(Ve),tt.merge()}}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+9"}},{key:"destroy",value:function(){var Ue=this.editor;Ue.off(ve,this.parseHtml),(0,v.iC)(Ue)&&(Ue.off(J,this.markdownIt),Ue.off(K,this.pasteEachAfter),Ue.off(X,this.pasteHtml))}}],[{key:"pluginName",get:function(){return"tasklist"}}]),ye}(v.BX);Ce.ZP=ze},74472:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=function(v){(0,x.Z)(D,v);var M=(0,m.Z)(D);function D(){var T;(0,O.Z)(this,D);for(var S=arguments.length,g=new Array(S),z=0;z<S;z++)g[z]=arguments[z];return T=M.call.apply(M,[this].concat(g)),T.tagName="u",T}return(0,U.Z)(D,[{key:"hotkey",value:function(){return this.options.hotkey||"mod+u"}},{key:"conversion",value:function(){var S=this;return[{from:function(z,E){return z==="span"&&(E["text-decoration"]||"").includes("underline")},to:function(z,E,Y){var q=(0,p.$)("<".concat(S.tagName," />"));return E["text-decoration"]=E["text-decoration"].split(/\s+/).filter(function(j){return j!=="underline"}).join(" ").trim(),q.css(E),q.attributes(Y),q}}]}}],[{key:"pluginName",get:function(){return"underline"}}]),D}(p.Rw);Ce.Z=d},59606:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=function(v){(0,x.Z)(D,v);var M=(0,m.Z)(D);function D(){return(0,O.Z)(this,D),M.apply(this,arguments)}return(0,U.Z)(D,[{key:"execute",value:function(){var S=this.editor;!(0,p.iC)(S)||S.readonly||S.history.undo()}},{key:"queryState",value:function(){var S=this.editor;if(!(!(0,p.iC)(S)||S.readonly))return S.history.hasUndo()}},{key:"hotkey",value:function(){return this.options.hotkey||["mod+z","shift+mod+z"]}}],[{key:"pluginName",get:function(){return"undo"}}]),D}(p.Sy);Ce.Z=d},23178:function(ut,Ce,f){"use strict";var O=f(40936),U=f(49962),x=f(34203),m=f(29129),p=f(65782),d=f(64655),v=f(62998),M="markdown-it",D=function(T){(0,p.Z)(g,T);var S=(0,d.Z)(g);function g(){var z;(0,O.Z)(this,g);for(var E=arguments.length,Y=new Array(E),q=0;q<E;q++)Y[q]=arguments[q];return z=S.call.apply(S,[this].concat(Y)),z.tagName="ul",z.attributes={"data-indent":"@var0"},z.variable={"@var0":"@number"},z.allowIn=["blockquote","$root"],z.markdownIt=function(j){z.options.markdown!==!1&&j.enable("list")},z}return(0,U.Z)(g,[{key:"init",value:function(){(0,x.Z)((0,m.Z)(g.prototype),"init",this).call(this);var E=this.editor;(0,v.iC)(E)&&E.on(M,this.markdownIt)}},{key:"schema",value:function(){var E=(0,x.Z)((0,m.Z)(g.prototype),"schema",this).call(this);return[E,{name:"ul",type:"block"},{name:"li",type:"block",allowIn:["ul"]}]}},{key:"isCurrent",value:function(E){return!E.hasClass(this.editor.list.CUSTOMZIE_UL_CLASS)&&E.name==="ul"}},{key:"execute",value:function(){var E=this.editor;if(!!(0,v.iC)(E)){var Y=E.change,q=E.list,j=E.block;q.split();var le=Y.range.get(),ce=j.findBlocks(le);if(ce){var se=le.createSelection();q.getPluginNameByNodes(ce)==="unorderedlist"?q.unwrap(ce):q.toNormal(ce,"ul"),se.move(),Y.range.select(le),q.merge()}}}},{key:"hotkey",value:function(){return this.options.hotkey||"mod+shift+8"}},{key:"destroy",value:function(){this.editor.off(M,this.markdownIt)}}],[{key:"pluginName",get:function(){return"unorderedlist"}}]),g}(v.BX);Ce.Z=D},49779:function(ut,Ce,f){"use strict";f.d(Ce,{jf:function(){return ce},jg:function(){return Y}});var O=f(78450),U=f(40936),x=f(49962),m=f(65782),p=f(64655),d=f(6534),v=f.n(d),M=f(62998),D=f(75782),T=f(34203),S=f(29129),g=f(26143);function z(lt,Te){Te===void 0&&(Te={});var Je=Te.insertAt;if(!(!lt||typeof document=="undefined")){var te=document.head||document.getElementsByTagName("head")[0],fe=document.createElement("style");fe.type="text/css",Je==="top"&&te.firstChild?te.insertBefore(fe,te.firstChild):te.appendChild(fe),fe.styleSheet?fe.styleSheet.cssText=lt:fe.appendChild(document.createTextNode(lt))}}var E=`.data-video {\r
  margin: 0 auto;\r
  position: relative;\r
  cursor: pointer;\r
}\r
  .data-video-content {\r
    position: relative;\r
    height: 420px;\r
    background: #f7f7f7;\r
  }\r
  .data-video-content video {\r
    width: 100%;\r
    height: 100%;\r
    outline: none;\r
    position: relative;\r
    z-index: 1;\r
    background: #000;\r
  }\r
  .data-video-uploading,\r
  .data-video-uploaded,\r
  .data-video-error {\r
    border: 1px solid #e6e6e6;\r
    background: #f6f6f6;\r
  }\r
  .data-video-content .data-video-mask {\r
    width: 100%;\r
    height: 100%;\r
    position: absolute;\r
    left: 0;\r
    top: 0;\r
    z-index: 1;\r
  }\r
  .data-video-done {\r
    height: auto;\r
    border: none;\r
    background: none;\r
    line-height: 0;\r
  }\r
  .data-video-active {\r
    -webkit-user-select: none;\r
       -moz-user-select: none;\r
            user-select: none;\r
  }\r
  .data-video-center {\r
    position: absolute;\r
    top: 50%;\r
    margin-top: -48px;\r
    width: 100%;\r
    height: 96px;\r
  }\r
  .data-video-center .data-video-icon,\r
  .data-video-center .data-video-name,\r
  .data-video-center .data-video-message,\r
  .data-video-center .data-video-progress,\r
  .data-video-center .data-video-transcoding {\r
    text-align: center;\r
  }\r
  .data-video-center .data-video-icon {\r
    font-size: 24px;\r
    color: #BFBFBF;\r
    margin-bottom: 12px;\r
  }\r
  .data-video-center .data-video-name {\r
    color: #595959;\r
    margin-bottom: 12px;\r
  }\r
  .data-video-center .data-video-message {\r
    color: #595959;\r
  }\r
  .data-video-center .data-video-anticon {\r
    display: inline-block;\r
    font-style: normal;\r
    vertical-align: -0.125em;\r
    text-align: center;\r
    text-transform: none;\r
    line-height: 0;\r
    text-rendering: optimizeLegibility;\r
    -webkit-font-smoothing: antialiased;\r
    margin-right: 5px;\r
  }\r
  .data-video-center .data-video-anticon .data-video-anticon-spin {\r
    display: inline-block;\r
    -webkit-animation: loadingCircle 1s infinite linear;\r
    animation: loadingCircle 1s infinite linear;\r
  }\r
  .data-video-center .data-error-icon {\r
    width: 16px;\r
    height: 16px;\r
    display: inline-block;\r
    background: #F5222D;\r
    text-align: center;\r
    font-size: 12px;\r
    color: #ffffff;\r
    padding: 1px 0 0 0;\r
    line-height: 16px;\r
    border-radius: 100%;\r
    vertical-align: middle;\r
    margin: -2px 5px 0 0;\r
  }\r
\r
.data-video-title {\r
  text-align: center;\r
}\r
.data-video-title::-moz-selection {\r
  background: transparent\r
}\r
.data-video-title::selection {\r
  background: transparent\r
}\r
.data-video .data-resizer {\r
  z-index: inherit;\r
}\r
.data-video .data-resizer .data-resizer-holder {\r
  z-index: 2;\r
}\r
\r
.data-video .data-resizing {\r
  z-index: 3;\r
}`;z(E);var Y=function(lt){(0,m.Z)(Je,lt);var Te=(0,p.Z)(Je);function Je(){var te;(0,U.Z)(this,Je);for(var fe=arguments.length,ue=new Array(fe),ae=0;ae<fe;ae++)ue[ae]=arguments[ae];return te=Te.call.apply(Te,[this].concat(ue)),te.maxWidth=0,te.resizer=void 0,te.video=void 0,te.isLoad=!1,te.container=void 0,te.videoContainer=void 0,te.title=void 0,te.mask=void 0,te.rate=1,te._fullWidth=void 0,te._naturalSize={width:0,height:0},te.onBeforeRender=function(de,ve){var J=te.editor.plugin.findPlugin("video");if(J){var X=J.options||{},K=X.onBeforeRender;if(K)return K(de,ve,te.editor)}return ve},te.downloadFile=function(){var de=te.getValue();!(de!=null&&de.download)||window.open((0,M.Nm)(te.onBeforeRender("download",de.url)))},te.onWindowResize=function(){if(!!(0,M.iC)(te.editor)&&(te.maxWidth=te.getMaxWidth(),te.resetSize(),te.resizer)){var de,ve;te.resizer.maxWidth=te.maxWidth,te.resizer.setSize(((de=te.videoContainer)===null||de===void 0?void 0:de.width())||0,((ve=te.videoContainer)===null||ve===void 0?void 0:ve.height())||0)}},te.handleClick=function(de){var ve=te.editor;(0,M.iC)(ve)&&!te.activated&&ve.card.activate(te.root,M.Fp.MOUSE_DOWN,de)},te}return(0,x.Z)(Je,[{key:"getLocales",value:function(){return this.editor.language.get("video")}},{key:"renderTemplate",value:function(fe){var ue=fe.name,ae=fe.status,de=fe.size,ve=fe.message,J=fe.percent,X=this.getLocales(),K={video:`<div class="data-video-icon">
                <svg width="32px" height="24px" viewBox="0 0 32 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" strokeWidth="1" fill="none" fill-rule="evenodd" fill-opacity="0.25"><g transform="translate(-704.000000, -550.000000)" fill="#000000" fill-rule="nonzero">  <g transform="translate(704.000000, 550.000000)">    <g>      <path d="M13.09375,17.30625 L20.65625,12.375 C20.95,12.16875 20.95,11.809375 20.65625,11.603125 L13.09375,6.696875 C12.66875,6.4 12,6.6375 12,7.084375 L12,16.921875 C12,17.365625 12.671875,17.603125 13.09375,17.30625 Z" id="Path"></path>      <path d="M30,0 L2,0 C0.896875,0 0,0.896875 0,2 L0,22 C0,23.103125 0.896875,24 2,24 L30,24 C31.103125,24 32,23.103125 32,22 L32,2 C32,0.896875 31.103125,0 30,0 Z M5.25,21.25 C5.25,21.525 5.025,21.75 4.75,21.75 L2.5,21.75 C2.225,21.75 2,21.525 2,21.25 L2,18.5 C2,18.225 2.225,18 2.5,18 L4.75,18 C5.025,18 5.25,18.225 5.25,18.5 L5.25,21.25 Z M5.25,13.375 C5.25,13.65 5.025,13.875 4.75,13.875 L2.5,13.875 C2.225,13.875 2,13.65 2,13.375 L2,10.625 C2,10.35 2.225,10.125 2.5,10.125 L4.75,10.125 C5.025,10.125 5.25,10.35 5.25,10.625 L5.25,13.375 Z M5.25,5.5 C5.25,5.775 5.025,6 4.75,6 L2.5,6 C2.225,6 2,5.775 2,5.5 L2,2.75 C2,2.475 2.225,2.25 2.5,2.25 L4.75,2.25 C5.025,2.25 5.25,2.475 5.25,2.75 L5.25,5.5 Z M24.75,21.75 L7.25,21.75 L7.25,2.25 L24.75,2.25 L24.75,21.75 Z M30,21.25 C30,21.525 29.775,21.75 29.5,21.75 L27.25,21.75 C26.975,21.75 26.75,21.525 26.75,21.25 L26.75,18.5 C26.75,18.225 26.975,18 27.25,18 L29.5,18 C29.775,18 30,18.225 30,18.5 L30,21.25 Z M30,13.375 C30,13.65 29.775,13.875 29.5,13.875 L27.25,13.875 C26.975,13.875 26.75,13.65 26.75,13.375 L26.75,10.625 C26.75,10.35 26.975,10.125 27.25,10.125 L29.5,10.125 C29.775,10.125 30,10.35 30,10.625 L30,13.375 Z M30,5.5 C30,5.775 29.775,6 29.5,6 L27.25,6 C26.975,6 26.75,5.775 26.75,5.5 L26.75,2.75 C26.75,2.475 26.975,2.25 27.25,2.25 L29.5,2.25 C29.775,2.25 30,2.475 30,2.75 L30,5.5 Z" id="Shape"></path>    </g>  </g></g> </g></svg></div>`,spin:'<i class="data-video-anticon"><svg viewBox="0 0 1024 1024" class="data-video-anticon-spin" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"> <path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg></i>',warn:'<div class="data-video-icon"><svg width="41px" height="29px" viewBox="0 0 41 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" strokeWidth="1" fill="none" fill-rule="evenodd"><g transform="translate(-704.000000, -550.000000)">  <g id="Group-2" transform="translate(704.000000, 550.000000)">    <g id="video" fill="#000000" fill-rule="nonzero" opacity="0.449999988">      <path d="M13.09375,17.30625 C12.671875,17.603125 12,17.365625 12,16.921875 L12,7.084375 C12,6.6375 12.66875,6.4 13.09375,6.696875 L20.65625,11.603125 C20.95,11.809375 20.95,12.16875 20.65625,12.375 L13.09375,17.30625 Z M30,0 C31.103125,0 32,0.896875 32,2 L32,22 C32,23.103125 31.103125,24 30,24 L2,24 C0.896875,24 0,23.103125 0,22 L0,2 C0,0.896875 0.896875,0 2,0 L30,0 Z M5.25,21.25 L5.25,18.5 C5.25,18.225 5.025,18 4.75,18 L2.5,18 C2.225,18 2,18.225 2,18.5 L2,21.25 C2,21.525 2.225,21.75 2.5,21.75 L4.75,21.75 C5.025,21.75 5.25,21.525 5.25,21.25 Z M5.25,13.375 L5.25,10.625 C5.25,10.35 5.025,10.125 4.75,10.125 L2.5,10.125 C2.225,10.125 2,10.35 2,10.625 L2,13.375 C2,13.65 2.225,13.875 2.5,13.875 L4.75,13.875 C5.025,13.875 5.25,13.65 5.25,13.375 Z M5.25,5.5 L5.25,2.75 C5.25,2.475 5.025,2.25 4.75,2.25 L2.5,2.25 C2.225,2.25 2,2.475 2,2.75 L2,5.5 C2,5.775 2.225,6 2.5,6 L4.75,6 C5.025,6 5.25,5.775 5.25,5.5 Z M24.75,21.75 L24.75,2.25 L7.25,2.25 L7.25,21.75 L24.75,21.75 Z M30,21.25 L30,18.5 C30,18.225 29.775,18 29.5,18 L27.25,18 C26.975,18 26.75,18.225 26.75,18.5 L26.75,21.25 C26.75,21.525 26.975,21.75 27.25,21.75 L29.5,21.75 C29.775,21.75 30,21.525 30,21.25 Z M30,13.375 L30,10.625 C30,10.35 29.775,10.125 29.5,10.125 L27.25,10.125 C26.975,10.125 26.75,10.35 26.75,10.625 L26.75,13.375 C26.75,13.65 26.975,13.875 27.25,13.875 L29.5,13.875 C29.775,13.875 30,13.65 30,13.375 Z M30,5.5 L30,2.75 C30,2.475 29.775,2.25 29.5,2.25 L27.25,2.25 C26.975,2.25 26.75,2.475 26.75,2.75 L26.75,5.5 C26.75,5.775 26.975,6 27.25,6 L29.5,6 C29.775,6 30,5.775 30,5.5 Z" id="Combined-Shape"></path>    </g>    <g id="error-fill" transform="translate(21.000000, 10.000000)">      <rect id="Rectangle" fill="#000000" opacity="0" x="0" y="0" width="20" height="20"></rect>      <path d="M19.0267927,16.510301 L19.0272631,16.5111171 C19.4269215,17.2064579 18.9263267,18.0729167 18.125,18.0729167 L1.875,18.0729167 C1.07367326,18.0729167 0.573078461,17.2064579 0.973207261,16.510301 L9.0970084,2.44988987 C9.28650026,2.11750251 9.63068515,1.92708333 10,1.92708333 C10.368224,1.92708333 10.7098796,2.11659543 10.9017927,2.447801 L19.0267927,16.510301 Z" id="Path" stroke="#FFFFFF" strokeWidth="0.833333333" fill="#FFFFFF"></path>      <path d="M18.6660156,16.71875 L10.5410156,2.65625 C10.4199219,2.44726562 10.2109375,2.34375 10,2.34375 C9.7890625,2.34375 9.578125,2.44726562 9.45898438,2.65625 L1.33398438,16.71875 C1.09375,17.1367188 1.39453125,17.65625 1.875,17.65625 L18.125,17.65625 C18.6054688,17.65625 18.90625,17.1367188 18.6660156,16.71875 Z M9.375,8.125 C9.375,8.0390625 9.4453125,7.96875 9.53125,7.96875 L10.46875,7.96875 C10.5546875,7.96875 10.625,8.0390625 10.625,8.125 L10.625,11.71875 C10.625,11.8046875 10.5546875,11.875 10.46875,11.875 L9.53125,11.875 C9.4453125,11.875 9.375,11.8046875 9.375,11.71875 L9.375,8.125 Z M10,15 C9.48242188,15 9.0625,14.5800781 9.0625,14.0625 C9.0625,13.5449219 9.48242188,13.125 10,13.125 C10.5175781,13.125 10.9375,13.5449219 10.9375,14.0625 C10.9375,14.5800781 10.5175781,15 10,15 Z" id="Shape" fill="#FAAD14" fill-rule="nonzero"></path></g></g></g> </g></svg></div>',error:'<span class="data-error-icon">X</span>'};if(ae==="error")return`
            <div class="data-video">
                <div class="data-video-content data-video-error">
                    <div class="data-video-center">
                        <div class="data-video-name">`.concat((0,M.YU)(ue),`</div>
                        <div class="data-video-message">
                            `).concat(K.error,`
                            `).concat(ve||X.loadError,`
                        </div>
                    </div>
                </div>
            </div>`);var ze=de?(0,M.hR)(de):"",Ze=ue?'<div class="data-video-title">'.concat((0,M.YU)(ue),"</div>"):"";if(ae==="uploading")return`
            <div class="data-video">
                <div class="data-video-content data-video-uploading">
                    <div class="data-video-center">
                        `.concat(K.video,`
                        <div class="data-video-name">
                        `).concat((0,M.YU)(ue)," (").concat((0,M.YU)(ze),`)
                        </div>
                        <div class="data-video-progress">
                            `).concat(K.spin,`
                            <span class="percent">`).concat(J||0,`%<span>
                        </div>
                    </div>
                </div>
            </div>`);var We=typeof ae=="undefined";if(ae==="transcoding"||We)return`
            <div class="data-video">
                <div class="data-video-content data-video-uploaded">
                    <div class="data-video-center">
                        `.concat(K.video,`
                        <div class="data-video-name">
                        `).concat((0,M.YU)(ue)," (").concat((0,M.YU)(ze),`)
                        </div>
                        <div class="data-video-transcoding">
                            `).concat(K.spin,`
                            <span class="transcoding">`).concat(We?X.loading:X.transcoding,`%<span>
                        </div>
                    </div>
                </div>
            </div>
            `);var ye=this.editor.plugin.components.video;return`
        <div class="data-video">
            <div class="data-video-content data-video-done"></div>
			`.concat(ye&&ye.options.showTitle!==!1?Ze:"",`
        </div>
        `)}},{key:"initPlayer",value:function(){var fe,ue,ae=this,de,ve=this.getValue();if(!!ve){var J=(0,M.Nm)(this.onBeforeRender("query",ve.url)),X=document.createElement("video");X.preload="metadata",X.setAttribute("src",J),X.setAttribute("webkit-playsinline","webkit-playsinline"),X.setAttribute("playsinline","playsinline");var K=ve.cover;K&&(X.poster=(0,M.Nm)(this.onBeforeRender("cover",K))),this.maxWidth=this.getMaxWidth();var ze=(fe=this.container)===null||fe===void 0?void 0:fe.find(".data-video-content");if(!!ze){ze.append(X),this.mask=(0,M.$)('<div class="data-video-mask" />'),ze.append(this.mask),this.videoContainer=(ue=this.container)===null||ue===void 0?void 0:ue.find(".data-video-content"),X.oncontextmenu=function(){return!1};var Ze=this.editor.plugin.findPlugin("video"),We=Ze==null?void 0:Ze.options.fullEditor,ye=this.editor;X.onloadedmetadata=function(){(!ve.naturalWidth||!ve.naturalHeight)&&(ve.naturalWidth=X.videoWidth,ve.naturalHeight=X.videoHeight,ae.setValue({naturalWidth:ve.naturalWidth,naturalHeight:ve.naturalHeight})),We&&ae._fullWidth&&(ve.naturalWidth<ae._fullWidth||typeof We=="number")?(typeof We=="boolean"?(ae.rate=X.videoHeight/X.videoWidth,We=ae._fullWidth*ae.rate):ae.rate=We/ae._fullWidth,ae._naturalSize={width:ae._fullWidth,height:We}):(ae._naturalSize={width:ve.naturalWidth||X.videoWidth,height:ve.naturalHeight||X.videoHeight},ae.rate=ae._naturalSize.height/ae._naturalSize.width),ae.resetSize()},this.video=(0,M.$)(X),this.title=(de=this.container)===null||de===void 0?void 0:de.find(".data-video-title"),ve.width&&ve.height&&(this.rate=ve.height/ve.width),this._naturalSize={width:ve.naturalWidth||X.videoWidth,height:ve.naturalHeight||X.videoHeight},this.resetSize(),setTimeout(function(){X.controls=!0,(0,M.iC)(ye)||(X.controlsList="nodownload")},0)}}}},{key:"toolbar",value:function(){var fe=this,ue,ae=this.editor,de=function(){var X=[],K=fe.getValue();if(!K)return X;var ze=K.status,Ze=K.download,We=fe.getLocales();return ze==="done"&&(Ze&&X.push({key:"dropdown",type:"button",content:'<span class="data-icon data-icon-download" />',title:We.download,onClick:fe.downloadFile}),(0,M.iC)(ae)&&!ae.readonly&&(X.push({key:"copy",type:"copy"}),X.push({key:"separator",type:"separator"}))),(0,M.iC)(ae)&&!ae.readonly&&X.push({key:"delete",type:"delete"}),X},ve=(ue=ae.plugin.findPlugin("video"))===null||ue===void 0?void 0:ue.options;return ve!=null&&ve.cardToolbars?ve.cardToolbars(de(),this.editor):de()}},{key:"setProgressPercent",value:function(fe){var ue;(ue=this.container)===null||ue===void 0||ue.find(".percent").html("".concat(fe,"%")),this.setValue({percent:fe})}},{key:"getMaxWidth",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getCenter(),ue=this.editor.block.closest(fe).get();return ue?ue.clientWidth:0}},{key:"resetSize",value:function(){var fe,ue,ae;if(!!this.videoContainer){var de=this.getValue();if(!!de){this.videoContainer.css({width:"",height:""}),(fe=this.container)===null||fe===void 0||fe.css({width:""});var ve=this.editor.plugin.findPlugin("video"),J=ve==null?void 0:ve.options.fullEditor,X=(ue=this.video)===null||ue===void 0?void 0:ue.get();if(!!X){var K=de.width,ze=de.height;ze?K?K&&ze?ze=Math.round(this.rate*K):(K=this._naturalSize.width,ze=this._naturalSize.height):(ze=this._naturalSize.height,K=Math.round(ze/this.rate)):(K=this._naturalSize.width,ze=Math.round(this.rate*K)),K>this.maxWidth&&(K=this.maxWidth,ze=Math.round(K*this.rate)),!(K===0||ze===0)&&((ae=this.container)===null||ae===void 0||ae.css({width:K>0?"".concat(K,"px"):""}),this.videoContainer.css("width",K>0?"".concat(K,"px"):""),typeof J=="number"&&this.videoContainer.css("height",ze>0?"".concat(ze,"px"):""))}}}}},{key:"changeSize",value:function(fe,ue){var ae,de,ve;fe<24&&(fe=24,ue=fe*this.rate),fe>this.maxWidth&&(fe=this.maxWidth,ue=fe*this.rate),ue<24&&(ue=24,fe=ue/this.rate),fe=Math.round(fe),ue=Math.round(ue),(ae=this.videoContainer)===null||ae===void 0||ae.css({width:fe>0?"".concat(fe,"px"):""});var J=this.editor.plugin.findPlugin("video"),X=J==null?void 0:J.options.fullEditor;if(typeof X=="number"){var K;(K=this.videoContainer)===null||K===void 0||K.css({height:"".concat(ue,"px")})}(de=this.container)===null||de===void 0||de.css({width:fe>0?"".concat(fe,"px"):""}),this.setValue({width:fe,height:ue}),(ve=this.resizer)===null||ve===void 0||ve.destroy(),this.initResizer()}},{key:"initResizer",value:function(){var fe=this,ue,ae=this.getValue();if(!!ae){var de=ae.status;if(de==="done"){var ve=ae.width,J=ae.height,X=ae.cover;this.maxWidth=this.getMaxWidth();var K=new M.w_({imgUrl:X,width:ve||this._naturalSize.width,height:J||this._naturalSize.height,rate:this.rate,maxWidth:this.maxWidth,onChange:function(We){var ye=We.width,Ie=We.height;return fe.changeSize(ye,Ie)}});this.resizer=K;var ze=K.render();(ue=this.videoContainer)===null||ue===void 0||ue.append(ze)}}}},{key:"onActivate",value:function(fe){if((0,T.Z)((0,S.Z)(Je.prototype),"onActivate",this).call(this,fe),fe){var ue,ae;(ue=this.container)===null||ue===void 0||ue.addClass("data-video-active"),(ae=this.mask)===null||ae===void 0||ae.hide(),this.initResizer()}else{var de,ve,J;(de=this.container)===null||de===void 0||de.removeClass("data-video-active"),(ve=this.mask)===null||ve===void 0||ve.show(),(J=this.resizer)===null||J===void 0||J.destroy()}}},{key:"onSelectByOther",value:function(fe,ue){var ae;(ae=this.container)===null||ae===void 0||ae.css("outline",fe?"2px solid "+ue.color:"");var de="card-selected-other";return fe?this.root.addClass(de):this.root.removeClass(de),this.container}},{key:"writeHistoryOnValueChange",value:function(){if(this.loading)return!1}},{key:"checker",value:function(fe,ue,ae){var de=this.editor.command,ve=function J(){de.executeMethod("video-uploader","query",fe,function(X){X&&X.status!=="done"?setTimeout(J,3e3):ue(X)},function(X){ae(X)})};ve()}},{key:"render",value:function(){var fe=this,ue=this.getValue(),ae=this.getCenter(),de=this.editor;if(this._fullWidth=de.container.width()-(0,M.ZQ)(de.container.css("padding-left"))-(0,M.ZQ)(de.container.css("padding-right")),!ue||this.container&&this.container.inEditor()){this.container=(0,M.$)(this.renderTemplate((0,D.Z)({},ue))),ae.empty(),ae.append(this.container),this.initPlayer();return}ae.empty();var ve=de.command,J=de.plugin,X=ue.video_id,K=ue.status,ze=this.getLocales();if(this.maxWidth=this.getMaxWidth(),(0,M.iC)(de))if(K==="transcoding"){if(this.container=(0,M.$)(this.renderTemplate(ue)),!X)throw"video id is undefined";return this.checker(X,function(We){var ye=(0,D.Z)((0,D.Z)({},ue),{},{url:We!=null&&We.url?We.url:ue.url,name:We!=null&&We.name?We.name:ue.name,cover:We!=null&&We.cover?We.cover:ue.cover,download:We!=null&&We.download?We.download:ue.download,status:"done"});fe.setValue(ye),fe.container=(0,M.$)(fe.renderTemplate(ye)),ae.empty(),ae.append(fe.container),fe.initPlayer()},function(We){var ye=(0,D.Z)((0,D.Z)({},ue),{},{status:"error",message:We||ze.loadError});fe.setValue(ye),fe.container=(0,M.$)(fe.renderTemplate(ye)),ae.empty(),ae.append(fe.container)}),this.container}else return K==="done"?(this.container=(0,M.$)(this.renderTemplate((0,D.Z)((0,D.Z)({},ue),{},{status:void 0}))),ve.executeMethod("video-uploader","query",X,function(We){var ye=(0,D.Z)((0,D.Z)({},ue),{},{url:We!=null&&We.url?We.url:ue.url,name:We!=null&&We.name?We.name:ue.name,cover:We!=null&&We.cover?We.cover:ue.cover,download:We!=null&&We.download?We.download:ue.download});fe.container=(0,M.$)(fe.renderTemplate(ye)),fe.video=fe.container.find("video"),ae.empty(),ae.append(fe.container),fe.initPlayer()},function(We){fe.container=(0,M.$)(fe.renderTemplate((0,D.Z)((0,D.Z)({},ue),{},{status:"error",message:We||ze.loadError}))),ae.empty(),ae.append(fe.container)}),this.container):(this.container=(0,M.$)(this.renderTemplate(ue)),this.container);else if(K==="done"){this.container=(0,M.$)(this.renderTemplate((0,D.Z)((0,D.Z)({},ue),{},{status:void 0})));var Ze=function(ye){var Ie=(0,D.Z)((0,D.Z)({},ue),{},{url:ye!=null&&ye.url?ye.url:ue.url,name:ye!=null&&ye.name?ye.name:ue.name,cover:ye!=null&&ye.cover?ye.cover:ue.cover,download:ye!=null&&ye.download?ye.download:ue.download});fe.container=(0,M.$)(fe.renderTemplate(Ie)),ae.empty(),ae.append(fe.container),fe.initPlayer()};return J.components["video-uploader"]?ve.executeMethod("video-uploader","query",X,function(We){Ze(We)},function(We){fe.container=(0,M.$)(fe.renderTemplate((0,D.Z)((0,D.Z)({},ue),{},{status:"error",message:We||ze.loadError}))),ae.empty(),ae.append(fe.container)}):Ze(),this.container}else if(K==="error")return(0,M.$)(this.renderTemplate((0,D.Z)((0,D.Z)({},ue),{},{message:ue.message||ze.loadError})))}},{key:"didUpdate",value:function(){var fe;(0,T.Z)((0,S.Z)(Je.prototype),"didUpdate",this).call(this),(fe=this.toolbarModel)===null||fe===void 0||fe.setDefaultAlign("top")}},{key:"didRender",value:function(){var fe,ue,ae=this.getValue();ae.status==="done"&&(0,T.Z)((0,S.Z)(Je.prototype),"didRender",this).call(this),this.onWindowResize();var de=this.editor;if(window.addEventListener("resize",this.onWindowResize),de.on("editor:resize",this.onWindowResize),(fe=this.toolbarModel)===null||fe===void 0||fe.setDefaultAlign("top"),(ue=this.container)===null||ue===void 0||ue.on("mousedown",this.handleClick),!(0,M.iC)(de)||de.readonly){var ve;(ve=this.mask)===null||ve===void 0||ve.hide()}}},{key:"destroy",value:function(){var fe;(0,T.Z)((0,S.Z)(Je.prototype),"destroy",this).call(this),(fe=this.container)===null||fe===void 0||fe.off("mousedown",this.handleClick),window.removeEventListener("resize",this.onWindowResize),this.editor.off("editor:resize",this.onWindowResize)}}],[{key:"cardName",get:function(){return"video"}},{key:"cardType",get:function(){return M.eT.BLOCK}},{key:"autoSelected",get:function(){return!1}}]),Je}(M.Zb),q="drop:files",j="paste:event",le="paste:each",ce=function(lt){(0,m.Z)(Je,lt);var Te=(0,p.Z)(Je);function Je(){var te;(0,U.Z)(this,Je);for(var fe=arguments.length,ue=new Array(fe),ae=0;ae<fe;ae++)ue[ae]=arguments[ae];return te=Te.call.apply(Te,[this].concat(ue)),te.cardComponents={},te.extensionNames={mp4:"video/mp4"},te.dropFiles=function(de){var ve=te.editor;if(!!(0,M.iC)(ve)&&(de=de.filter(function(J){return te.isVideo(J)}),de.length!==0))return ve.command.execute("video-uploader",de),!1},te.pasteFiles=function(de){var ve=de.files,J=te.editor;if(!!(0,M.iC)(J)&&(ve=ve.filter(function(X){return te.isVideo(X)}),ve.length!==0))return J.command.execute("video-uploader",ve.filter(function(X){return te.isVideo(X)}),ve),!1},te.pasteEach=function(de){if(de.isCard()&&de.attributes(M.mV)){if(de.attributes(M.mV)!=="video")return;var ve=(0,M.RW)(de.attributes(M.TM));if(!ve||!ve.url){de.remove();return}ve.status==="uploading"&&(ve.percent=0,de.attributes(M.TM,(0,M.it)((0,D.Z)((0,D.Z)({},ve),{},{status:"done"}))));return}},te}return(0,x.Z)(Je,[{key:"init",value:function(){var fe=this.editor;(0,M.iC)(fe)&&(fe.on(q,this.dropFiles),fe.on(j,this.pasteFiles),fe.on(le,this.pasteEach));var ue=this.options.file||{},ae=ue.accept;if(typeof ae=="string"&&(ae=ae.split(",")),Array.isArray(ae)){var de=[];(ae||[]).forEach(function(ve){ve=ve.trim();var J=ve.split(".").pop();J&&de.push(J)}),de.length>0&&(this.extensionNames=de)}else(0,g.Z)(ae)==="object"&&(this.extensionNames=ae)}},{key:"isVideo",value:function(fe){var ue=(0,M.Ym)(fe),ae=Array.isArray(this.extensionNames)?this.extensionNames:Object.keys(this.extensionNames);return ae.indexOf("*")>=0||ae.indexOf(ue)>=0}},{key:"execute",value:function(){var te=(0,O.Z)(v().mark(function ue(ae){var de=this,ve,J,X,K,ze,Ze,We,ye,Ie,Ue,Ye,Ae,tt,it,Ve,et,wt,jt=arguments;return v().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(typeof ae!="string"){bn.next=6;break}bn.t0=ae,bn.next=bn.t0==="query"?4:5;break;case 4:return bn.abrupt("return",this.query(jt.length<=1?void 0:jt[1],jt.length<=2?void 0:jt[2],jt.length<=3?void 0:jt[3]));case 5:return bn.abrupt("return");case 6:if(ve=this.editor,J=ve.request,X=ve.card,K=ve.language,ze=this.options,Ze=ze.action,We=ze.data,ye=ze.type,Ie=ze.contentType,Ue=ze.multiple,Ye=ze.crossOrigin,Ae=ze.withCredentials,tt=ze.headers,it=ze.name,Ve=this.options.parse,et=this.options.limitSize||5242880,Array.isArray(ae)){bn.next=16;break}return wt=Array.isArray(this.extensionNames)?"."+this.extensionNames.join(",."):Object.values(this.extensionNames).join(","),bn.next=15,J.getFiles({event:ae,accept:M.Dt?"video/*":wt.length>0?wt:"",multiple:Ue});case 15:ae=bn.sent;case 16:if(ae.length!==0){bn.next=18;break}return bn.abrupt("return");case 18:return J.upload({url:Ze,data:We,type:ye,contentType:Ie,crossOrigin:Ye,withCredentials:Ae,headers:tt,onBefore:function(Mt){return Mt.size>et?(ve.messageError("upload-limit",K.get("video","uploadLimitError").toString().replace("$size",(et/1024/1024).toFixed(0)+"M")),!1):!0},onReady:function(Mt){if(!(!(0,M.iC)(ve)||!!de.cardComponents[Mt.uid])){var _t=X.insert("video",{status:"uploading",name:Mt.name,size:Mt.size});de.cardComponents[Mt.uid]=_t}},onUploading:function(Mt,_t){var Jt=_t.percent,Me=de.cardComponents[Mt.uid||""];!Me||Me.setProgressPercent(Jt)},onSuccess:function(Mt,_t){var Jt=de.cardComponents[_t.uid||""];if(!!Jt){var Me=Mt.id||Mt.data&&Mt.data.id,yn=Mt.url||Mt.data&&Mt.data.url,Wt=Mt.cover||Mt.data&&Mt.data.cover,xn=Mt.download||Mt.data&&Mt.data.download,Nn=Mt.width||Mt.data&&Mt.data.width,Cr=Mt.height||Mt.data&&Mt.data.height,jr=Mt.status||Mt.data&&Mt.data.status;jr=jr==="transcoding"?"transcoding":"done";var ii={result:!0,data:{video_id:Me,url:yn,cover:Wt,download:xn,status:jr,width:Nn,height:Cr}};if(Ve){var xi=Ve(Mt);if(xi.result){var $i=ii.data;typeof xi.data=="string"?ii.data=(0,D.Z)((0,D.Z)({},$i),{},{url:xi.data}):($i.url=xi.data.url,xi.data.status!==void 0&&($i=(0,D.Z)((0,D.Z)({},$i),{},{status:xi.data.status})),xi.data.id!==void 0&&($i=(0,D.Z)((0,D.Z)({},$i),{},{video_id:xi.data.id})),xi.data.cover!==void 0&&($i=(0,D.Z)((0,D.Z)({},$i),{},{cover:xi.data.cover})),xi.data.width!==void 0&&($i=(0,D.Z)((0,D.Z)({},$i),{},{width:xi.data.width})),xi.data.height!==void 0&&($i=(0,D.Z)((0,D.Z)({},$i),{},{height:xi.data.height})),ii.data=(0,D.Z)({},$i))}else ii={result:!1,data:xi.data.toString()}}else yn||(ii={result:!1,data:Mt.data});ii.result?ve.card.update(Jt.id,typeof ii.data=="string"?{url:ii.data}:(0,D.Z)((0,D.Z)({},ii.data),{},{naturalWidth:ii.data.width,naturalHeight:ii.data.height})):X.update(Jt.id,{status:"error",message:typeof ii.data=="string"?ii.data:K.get("video","uploadError")}),delete de.cardComponents[_t.uid||""]}},onError:function(Mt,_t){var Jt=de.cardComponents[_t.uid||""];!Jt||(X.update(Jt.id,{status:"error",message:Mt.message||K.get("video","uploadError")}),delete de.cardComponents[_t.uid||""])}},ae,it),bn.abrupt("return");case 20:case"end":return bn.stop()}},ue,this)}));function fe(ue){return te.apply(this,arguments)}return fe}()},{key:"query",value:function(fe,ue){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},de=this.editor,ve=de.request,J=de.language,X=this.options,K=X.query,ze=X.parse;if(!K||!fe)return ue();var Ze=K.action,We=K.type,ye=K.contentType,Ie=K.data,Ue=K.headers;ve.ajax({url:Ze,contentType:ye||"",type:We===void 0?"json":We,headers:Ue,data:typeof Ie=="function"?(0,O.Z)(v().mark(function Ye(){var Ae;return v().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,Ie();case 2:return Ae=it.sent,it.abrupt("return",(0,D.Z)((0,D.Z)({},Ae),{},{id:fe}));case 4:case"end":return it.stop()}},Ye)})):(0,D.Z)((0,D.Z)({},Ie),{},{id:fe}),success:function(Ae){var tt=Ae.result,it=Ae.data;if(!tt)ae(it);else{var Ve=ze?ze(Ae):Ae;Ve.result===!1?ae(Ve.data||J.get("video","loadError")):ue((0,D.Z)((0,D.Z)({},Ve.data),{},{status:Ve.data.status!=="transcoding"?"done":"transcoding"}))}},error:function(Ae){ae(Ae.message||J.get("video","loadError"))},method:"GET"})}},{key:"destroy",value:function(){var fe=this.editor;fe.off(q,this.dropFiles),fe.off(j,this.pasteFiles),fe.off(le,this.pasteEach)}}],[{key:"pluginName",get:function(){return"video-uploader"}}]),Je}(M.Sy),se={video:{errorMessageCopy:"Copy error message",loadError:"The video failed to load!",uploadError:"The video failed to upload!",uploadLimitError:"Upload video size is limited to $size",download:"Download",preview:"Preview",loading:"Loading...",transcoding:"Transcoding..."}},ne={video:{errorMessageCopy:"\u590D\u5236\u9519\u8BEF\u4FE1\u606F",loadError:"\u89C6\u9891\u52A0\u8F7D\u5931\u8D25\uFF01",uploadError:"\u4E0A\u4F20\u89C6\u9891\u5931\u8D25\uFF01",uploadLimitError:"\u4E0A\u4F20\u89C6\u9891\u5927\u5C0F\u9650\u5236\u4E3A $size",download:"\u4E0B\u8F7D",preview:"\u9884\u89C8",loading:"\u52A0\u8F7D\u4E2D...",transcoding:"\u8F6C\u7801\u4E2D..."}},De={"en-US":se,"zh-CN":ne},we="parse:html",je="paste:each",dt="paste:schema",Qe=function(lt){(0,m.Z)(Je,lt);var Te=(0,p.Z)(Je);function Je(){var te;(0,U.Z)(this,Je);for(var fe=arguments.length,ue=new Array(fe),ae=0;ae<fe;ae++)ue[ae]=arguments[ae];return te=Te.call.apply(Te,[this].concat(ue)),te.pasteSchema=function(de){de.add({type:"block",name:"div",attributes:{"data-value":"*","data-type":{required:!0,value:Y.cardName}}})},te.pasteHtml=function(de){var ve=te.editor;if(!!(0,M.iC)(ve)){if(de.isElement()){var J=de.attributes("data-type");if(J===Y.cardName){var X=de.attributes("data-value"),K=(0,M.RW)(X);return K.url?(ve.card.replaceNode(de,Y.cardName,K),de.remove(),!1):void 0}}return!0}},te.parseHtml=function(de,ve){var J=[];return de.find("[".concat(M.Jr,'="').concat(Y.cardName,'"],[').concat(M.mV,'="').concat(Y.cardName,'"]')).each(function(X){var K=(0,M.$)(X),ze=te.editor.card.find(K),Ze=(ze==null?void 0:ze.getValue())||(0,M.RW)(K.attributes(M.TM));if((Ze==null?void 0:Ze.url)&&Ze.status==="done"){var We=te.options.onBeforeRender,ye=Ze.cover,Ie=Ze.url,Ue='<div data-type="'.concat(Y.cardName,'"  data-value="').concat((0,M.it)(Ze),'"><video controls src="').concat((0,M.Nm)(We?We("query",Ie,te.editor):Ie),'" poster="').concat(ye?(0,M.Nm)(We?We("cover",ye,te.editor):ye):"none",'" webkit-playsinline="webkit-playsinline" playsinline="playsinline" style="outline:none;" /></div>');K.empty();var Ye=(0,M.$)(Ue);ve&&(Ye=ve(Ye,Ze)),K.replaceWith(Ye),J.push(Ye)}else K.remove()}),J},te}return(0,x.Z)(Je,[{key:"init",value:function(){var fe=this.editor;fe.language.add(De),fe.on(we,this.parseHtml),fe.on(je,this.pasteHtml),fe.on(dt,this.pasteSchema)}},{key:"execute",value:function(fe,ue,ae,de,ve,J,X,K,ze,Ze,We){var ye={status:fe,video_id:de,cover:ve,url:ue,name:ae||ue,size:J,download:X,width:Ze,height:We,naturalWidth:K,naturalHeight:ze};fe==="error"&&(ye.url="",ye.message=ue),this.editor.card.insert("video",ye)}},{key:"waiting",value:function(){var te=(0,O.Z)(v().mark(function ue(ae){var de=this,ve,J,X,K;return v().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return ve=this.editor.card,J=function(ye){var Ie;return ye.root.inEditor()&&ye.name===Y.cardName&&((Ie=ye.getValue())===null||Ie===void 0?void 0:Ie.status)==="uploading"},X=function(){return ve.components.find(J)},K=function(ye){var Ie=6e4;return new Promise(function(Ue,Ye){if(ae){var Ae=ae(de.constructor.pluginName,ye);if(Ae===!1)return Ye({name:de.constructor.pluginName,card:ye});typeof Ae=="number"&&(Ie=Ae)}var tt=new Date().getTime(),it=new Date().getTime(),Ve=function et(){if(it-tt>=Ie)return Ue();setTimeout(function(){J(ye)?et():Ue()},10)};Ve()})},Ze.abrupt("return",new Promise(function(){var We=(0,O.Z)(v().mark(function ye(Ie,Ue){var Ye,Ae;return v().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:Ye=X(),Ae=function Ve(et){K(et).then(function(){var wt=X();wt?Ve(wt):Ie()}).catch(Ue)},Ye?Ae(Ye):Ie();case 3:case"end":return it.stop()}},ye)}));return function(ye,Ie){return We.apply(this,arguments)}}()));case 5:case"end":return Ze.stop()}},ue,this)}));function fe(ue){return te.apply(this,arguments)}return fe}()},{key:"destroy",value:function(){var fe=this.editor;fe.off(we,this.parseHtml),fe.off(je,this.pasteHtml),fe.off(dt,this.pasteSchema)}}],[{key:"pluginName",get:function(){return"video"}}]),Je}(M.Sy);Ce.ZP=Qe},95773:function(ut,Ce,f){"use strict";f.d(Ce,{F7:function(){return ae},Mq:function(){return Zt},nV:function(){return Tr}});var O=f(40936),U=f(49962),x=f(65782),m=f(64655),p=f(62998),d=f(26143),v=f(75782),M=f(49544),D=f(60790),T=f(34203),S=f(29129),g=f(85462),z=f(11997),E=f(85170),Y=f(91600),q=f(64823),j=f(15286),le=f(41925),ce=f.n(le),se=f(6771),ne=f(12209),De=f(67929),we=f.n(De),je=f(33103),dt=f.n(je),Qe=f(20680);function lt(Ee,pe){pe===void 0&&(pe={});var oe=pe.insertAt;if(!(!Ee||typeof document=="undefined")){var me=document.head||document.getElementsByTagName("head")[0],Pe=document.createElement("style");Pe.type="text/css",oe==="top"&&me.firstChild?me.insertBefore(Pe,me.firstChild):me.appendChild(Pe),Pe.styleSheet?Pe.styleSheet.cssText=Ee:Pe.appendChild(document.createTextNode(Ee))}}var Te=`\r
  .data-toolbar-table-selector .data-toolbar-table-selector-tr {\r
    display: flex;\r
    flex-wrap: nowrap;\r
  }\r
  .data-toolbar-table-selector .data-toolbar-table-selector-tr .data-toolbar-table-selector-td {\r
    width: 20px;\r
    height: 16px;\r
    border: 1px solid #d9d9d9;\r
    margin-right: -1px;\r
    margin-bottom: -1px;\r
    cursor: pointer;\r
  }\r
  .data-toolbar-table-selector .data-toolbar-table-selector-tr .data-toolbar-table-selector-td.actived {\r
    background: #ddefff;\r
  }\r
  .data-toolbar-table-selector .data-toolbar-table-selector-info {\r
    text-align: center;\r
  }`;lt(Te);var Je=function(pe){var oe=(0,E.useState)(pe.maxRows||10),me=(0,Y.Z)(oe,1),Pe=me[0],nt=(0,E.useState)(pe.maxCols||10),ht=(0,Y.Z)(nt,1),vt=ht[0],St=(0,E.useState)(pe.minRows||4),It=(0,Y.Z)(St,1),Kt=It[0],Tt=(0,E.useState)(pe.minCols||4),Lt=(0,Y.Z)(Tt,1),Gt=Lt[0],Yt=(0,E.useState)(4),Mn=(0,Y.Z)(Yt,2),Dn=Mn[0],wn=Mn[1],mn=(0,E.useState)(4),On=(0,Y.Z)(mn,2),Rn=On[0],Kn=On[1],jn=(0,E.useState)(0),tr=(0,Y.Z)(jn,2),cr=tr[0],ar=tr[1],Zn=(0,E.useState)(0),Un=(0,Y.Z)(Zn,2),yi=Un[0],gi=Un[1],Xr=function(lr,Hr,He){pe.onSelect(lr,Hr+1,He+1)},Vn=function(lr,Hr){var He=Math.max(Kt,Math.min(Pe,lr+2)),kt=Math.max(Gt,Math.min(vt,Hr+2));wn(He),Kn(kt),ar(lr+1),gi(Hr+1)},ci=function(lr,Hr){for(var He=[],kt=function(Qn){var Gn=(0,q.Z)({"data-toolbar-table-selector-td":!0,actived:lr<cr&&Qn<yi});He.push(E.createElement("div",{className:Gn,key:Qn,onMouseDown:function(Yr){return Yr.preventDefault(),Xr(Yr,lr,Qn)},onMouseOver:function(){return Vn(lr,Qn)}}))},Pn=0;Pn<Hr;Pn++)kt(Pn);return He},mi=function(lr,Hr){for(var He=[],kt=0;kt<lr;kt++)He.push(E.createElement("div",{className:"data-toolbar-table-selector-tr",key:kt},ci(kt,Hr)));return He},oi=cr===void 0?0:cr,Ar=yi===void 0?0:yi;return E.createElement("div",{className:"data-toolbar-table-selector","data-element":"ui"},mi(Dn,Rn),E.createElement("div",{className:"data-toolbar-table-selector-info"},oi,"x",Ar))},te=function(pe,oe,me){var Pe=pe==null?void 0:pe.plugin.components[oe];if(Pe&&Pe.hotkey){var nt=Pe.hotkey();if(nt){if(Array.isArray(nt))if(me){var ht=nt.findIndex(function(vt){return(0,d.Z)(vt)==="object"&&vt.args===me});nt=nt[ht>-1?ht:0]}else nt=nt[0];return(0,d.Z)(nt)==="object"&&(nt=nt.key),nt}}},fe={},ue=function(pe){if(typeof pe!="string")return console.log("Font name is not legal !"),!1;if(fe[pe]!==void 0)return fe[pe];var oe,me=document.body,Pe=document.createElement("span");Pe.innerHTML=Array(10).join("wi"),Pe.style.cssText=["position:absolute","width:auto","font-size:128px","left:-99999px"].join(" !important;");var nt=function(Tt){return Pe.style.fontFamily=Tt,me.appendChild(Pe),oe=Pe.clientWidth,me.removeChild(Pe),oe},ht=nt("monospace"),vt=nt("serif"),St=nt("sans-serif"),It=ht!==nt(pe+",monospace")||St!==nt(pe+",sans-serif")||vt!==nt(pe+",serif");return fe[pe]=It,It},ae=[{key:"default",value:""},{key:"arial",value:"Arial"},{key:"comicSansMS",value:'"Comic Sans MS"'},{key:"courierNew",value:'"Courier New"'},{key:"georgia",value:"Georgia"},{key:"helvetica",value:"Helvetica"},{key:"impact",value:"Impact"},{key:"timesNewRoman",value:'"Times New Roman"'},{key:"trebuchetMS",value:'"Trebuchet MS"'},{key:"verdana",value:"Verdana"},{key:"fangSong",value:"FangSong, \u4EFF\u5B8B, FZFangSong-Z02S, STFangsong, fangsong"},{key:"stFangsong",value:"STFangsong, \u534E\u6587\u4EFF\u5B8B, FangSong, FZFangSong-Z02S, fangsong"},{key:"stSong",value:'STSong, \u534E\u6587\u5B8B\u4F53, SimSun, "Songti SC", NSimSun, serif'},{key:"stKaiti",value:'STKaiti, \u534E\u6587\u6977\u4F53, KaiTi, "Kaiti SC", cursive'},{key:"simSun",value:'SimSun, \u5B8B\u4F53, "Songti SC", NSimSun, STSong, serif'},{key:"microsoftYaHei",value:'"Microsoft YaHei", \u5FAE\u8F6F\u96C5\u9ED1, "PingFang SC", SimHei, STHeiti, sans-serif'},{key:"kaiTi",value:'KaiTi, \u6977\u4F53, STKaiti, "Kaiti SC", cursive'},{key:"kaitiSC",value:'"Kaiti SC"'},{key:"simHei",value:'SimHei, \u9ED1\u4F53, "Microsoft YaHei", "PingFang SC", STHeiti, sans-serif'},{key:"heitiSC",value:'"Heiti SC"'},{key:"fzHei",value:"FZHei-B01S"},{key:"fzKai",value:"FZKai-Z03S"},{key:"fzFangSong",value:"FZFangSong-Z02S"}],de=function(Ee,pe){return Ee.map(function(oe){var me=oe.key,Pe=oe.value,nt=me!=="default"?!Pe.split(",").some(function(ht){return ue(ht.trim())}):!1;return{key:Pe,faimlyName:pe?pe[me]:me,content:function(){return E.createElement("span",{style:{fontFamily:Pe}},pe?pe[me]:me)},hotkey:!1,disabled:nt,title:nt?pe&&pe.notInstalled||"The font may not be installed":void 0}})},ve=`.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .toolbar-button {\r
    font-weight: bold;\r
    min-width: 73px;\r
}\r
\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h1,\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h2,\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h3,\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h4,\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h5,\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h6 {\r
    line-height: 1.6;\r
    font-weight: bold;\r
    color: #262626;\r
}\r
\r
.heading-item-h1 {\r
    font-size: 28px;\r
}\r
\r
.heading-item-h2 {\r
    font-size: 24px;\r
}\r
\r
.heading-item-h3 {\r
    font-size: 20px;\r
}\r
\r
.heading-item-h4 {\r
    font-size: 16px;\r
}\r
\r
.heading-item-h5 {\r
    font-size: 14px;\r
}\r
\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-heading .heading-item-h6 {\r
    font-size: 14px;\r
    font-weight: normal;\r
}\r
\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-fontsize .toolbar-button {\r
    font-weight: bold;\r
    min-width: 58px;\r
}\r
\r
.editor-toolbar .toolbar-dropdown.toolbar-dropdown-fontfamily .toolbar-button {\r
    font-size: 12px;\r
}`;lt(ve);var J=function(pe){var oe=pe.language.get("toolbar"),me=oe.heading,Pe=pe.container.css("font-size");return[{type:"collapse",header:oe.collapse.title,icon:"collapse",groups:[{items:[{name:"image-uploader",icon:E.createElement("span",null,E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("g",{fillRule:"nonzero"},E.createElement("path",{d:"M8.625 8a1.126 1.126 0 010 2.25 1.126 1.126 0 010-2.25z",fill:"#FFD666"}),E.createElement("path",{d:"M17.95 14.88a.144.144 0 01-.092.033H6.14a.139.139 0 01-.14-.137.14.14 0 01.033-.089l2.981-3.45a.143.143 0 01.198-.018c.005.005.012.01.017.017l1.74 2.016 2.767-3.203a.143.143 0 01.198-.017l.018.017 4.018 4.64a.137.137 0 01-.02.191z",fill:"#CCC"}),E.createElement("path",{d:"M17.91 14.88a.144.144 0 01-.092.033H9.333l4.363-4.864a.143.143 0 01.198-.017l.018.017 4.018 4.64a.137.137 0 01-.02.191z",fill:"#737373"}))))),title:oe.image.title,search:"\u56FE\u7247,tupian,image,img"},{name:"codeblock",icon:E.createElement("span",null,E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("path",{d:"M19.331 11.815c-.407-.22-.665-.678-.665-1.181V8.062c0-.202-.148-.367-.33-.367h-.933a.153.153 0 01-.153-.153v-.64c0-.084.068-.152.153-.152h.933c.651 0 1.18.588 1.18 1.312v2.572c0 .14.072.269.186.33l.843.455c.05.026.08.078.08.134v.894c0 .056-.03.108-.08.134l-.843.455a.373.373 0 00-.186.33v2.572c0 .724-.529 1.312-1.18 1.312h-.933a.153.153 0 01-.153-.153v-.64c0-.084.068-.152.153-.152h.933c.182 0 .33-.165.33-.367v-2.572c0-.503.258-.961.665-1.18l.344-.186-.344-.185zM5.044 11.815c.407-.22.665-.678.665-1.181V8.062c0-.202.148-.367.33-.367h.933a.153.153 0 00.153-.153v-.64a.153.153 0 00-.153-.152H6.04c-.651 0-1.18.588-1.18 1.312v2.572c0 .14-.072.269-.186.33l-.843.455a.153.153 0 00-.08.134v.894c0 .056.03.108.08.134l.843.455c.114.061.186.19.186.33v2.572c0 .724.529 1.312 1.18 1.312h.933a.153.153 0 00.153-.153v-.64a.153.153 0 00-.153-.152H6.04c-.182 0-.33-.165-.33-.367v-2.572c0-.503-.258-.961-.665-1.18L4.7 12l.344-.185z",fill:"#595959",fillRule:"nonzero"}),E.createElement("path",{fill:"#1890FF",opacity:".25",d:"M8.25 8.25h7.5v1.125h-7.5z"}),E.createElement("path",{fill:"#D2E8DB",d:"M8.25 10.5h4.5v1.125h-4.5z"}),E.createElement("path",{fill:"#E0E0E0",d:"M8.25 12.75h4.5v1.125h-4.5zM8.25 15h6v1.125h-6z"})))),title:oe.codeblock.title,search:"\u4EE3\u7801\u5757,daimakuai,code"},{name:"table",command:{name:"table",args:[3,3]},placement:"rightTop",onDisabled:function(){return!!pe.card.active||!pe.command.queryEnabled("table")},prompt:!!pe.card.active||!pe.command.queryEnabled("table")?void 0:function(nt){return E.createElement(Je,{onSelect:function(vt,St,It){nt.onClick&&nt.onClick(vt,"table",pe),pe.command.execute("table",St,It)}})},icon:E.createElement("span",null,E.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.createElement("g",{transform:"translate(-16.000000, -93.000000)"},E.createElement("g",null,E.createElement("g",{transform:"translate(16.000000, 53.000000)"},E.createElement("g",{transform:"translate(0.000000, 40.000000)"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("g",{transform:"translate(5.250000, 6.750000)"},E.createElement("path",{d:"M0.75,0 L3.75,0 L3.75,10.5 L0.75,10.5 C0.335786438,10.5 5.07265313e-17,10.1642136 0,9.75 L0,0.75 C-5.07265313e-17,0.335786438 0.335786438,7.6089797e-17 0.75,0 Z",id:"Rectangle",fill:"#F0F0F0"}),E.createElement("path",{d:"M0.25,2.75 L13.25,2.75 L13.25,0.75 C13.25,0.473857625 13.0261424,0.25 12.75,0.25 L0.75,0.25 C0.473857625,0.25 0.25,0.473857625 0.25,0.75 L0.25,2.75 Z",id:"Rectangle",stroke:"#595959",strokeWidth:"0.5",fillOpacity:"0.15",fill:"#25B864"}),E.createElement("rect",{id:"Rectangle",fill:"#E8E8E8",x:"0",y:"5.25",width:"13.5",height:"1"}),E.createElement("rect",{id:"Rectangle-Copy",fill:"#E8E8E8",x:"0",y:"7.5",width:"13.5",height:"1"}),E.createElement("rect",{id:"Rectangle",fill:"#E8E8E8",x:"6.75",y:"0",width:"1",height:"10.5"}),E.createElement("rect",{id:"Rectangle-Copy-5",fill:"#E8E8E8",x:"9.75",y:"0",width:"1",height:"10.5"}),E.createElement("rect",{id:"Rectangle",stroke:"#737373",strokeWidth:"0.75",x:"0.375",y:"0.375",width:"12.75",height:"9.75",rx:"0.75"}),E.createElement("path",{d:"M3.5,10.25 L3.5,0.25 L0.75,0.25 C0.473857625,0.25 0.25,0.473857625 0.25,0.75 L0.25,9.75 C0.25,10.0261424 0.473857625,10.25 0.75,10.25 L3.5,10.25 Z",id:"Rectangle",stroke:"#737373",strokeWidth:"0.5"}),E.createElement("path",{d:"M0.25,2.75 L13.25,2.75 L13.25,0.75 C13.25,0.473857625 13.0261424,0.25 12.75,0.25 L0.75,0.25 C0.473857625,0.25 0.25,0.473857625 0.25,0.75 L0.25,2.75 Z",id:"Rectangle",stroke:"#737373",strokeWidth:"0.5"})))))))))),title:oe.table.title,search:"biaoge,table"},{name:"file-uploader",icon:E.createElement("span",null,E.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("path",{fill:"#E0E0E0",d:"M11.25 15h8.25v1.125h-8.25zM14.25 11.25h5.25v1.125h-5.25zM14.25 8.25h5.25v1.125h-5.25z"}),E.createElement("path",{d:"M11.216 8.324a2.593 2.593 0 00-3.791 0l-2.896 3.04a.108.108 0 00-.029.074c0 .028.01.055.029.075l.41.43c.038.041.101.041.14 0l2.896-3.04a1.841 1.841 0 012.69 0c.36.378.557.88.557 1.413 0 .534-.197 1.035-.557 1.413l-2.95 3.1-.48.502c-.446.47-1.173.47-1.62 0a1.226 1.226 0 01-.335-.851c0-.322.119-.624.335-.851l2.928-3.075a.382.382 0 01.276-.12h.001c.105 0 .201.043.274.12.075.078.115.18.115.29a.416.416 0 01-.115.288l-2.393 2.512a.108.108 0 00-.029.075c0 .028.01.054.03.074l.409.43c.038.041.102.041.14 0l2.392-2.513c.221-.232.342-.54.342-.867 0-.328-.122-.637-.342-.868a1.131 1.131 0 00-1.653 0l-.284.3-2.642 2.776a2.06 2.06 0 00-.564 1.43c0 .54.2 1.047.564 1.428.376.394.868.591 1.36.591.494 0 .986-.197 1.361-.591l3.43-3.602c.505-.532.785-1.24.785-1.991a2.867 2.867 0 00-.784-1.992z",fill:"#595959"})))),title:oe.file.title,search:"\u9644\u4EF6,\u6587\u4EF6,fujian,wenjian,file"},{name:"video-uploader",icon:E.createElement("span",null,E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},E.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.createElement("g",{transform:"translate(-16.000000, -641.000000)"},E.createElement("g",null,E.createElement("g",{transform:"translate(16.000000, 641.000000)"},E.createElement("g",null,E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFFFFF",x:"0.5",y:"0.5",width:"23",height:"23",rx:"2"}),E.createElement("g",{transform:"translate(6.000000, 6.000000)",fillRule:"nonzero"},E.createElement("rect",{fill:"#000000",opacity:"0",x:"0",y:"0",width:"12",height:"12"}),E.createElement("path",{d:"M6,0.75 C3.10078125,0.75 0.75,3.10078125 0.75,6 C0.75,8.89921875 3.10078125,11.25 6,11.25 C8.89921875,11.25 11.25,8.89921875 11.25,6 C11.25,3.10078125 8.89921875,0.75 6,0.75 Z M6,10.359375 C3.59296875,10.359375 1.640625,8.40703125 1.640625,6 C1.640625,3.59296875 3.59296875,1.640625 6,1.640625 C8.40703125,1.640625 10.359375,3.59296875 10.359375,6 C10.359375,8.40703125 8.40703125,10.359375 6,10.359375 Z",id:"Shape",fill:"#595959"}),E.createElement("path",{d:"M7.93963415,5.8884912 L5.23140244,4.02687575 C5.13445122,3.96020395 5,4.02514402 5,4.13857268 L5,7.86180356 C5,7.97523223 5.13536585,8.03930643 5.23140244,7.97350049 L7.93963415,6.11188505 C8.02012195,6.05646952 8.02012195,5.94390673 7.93963415,5.8884912 Z",id:"Shape",fill:"#71D19A"}))))))))),title:oe.video.title,search:"\u89C6\u9891,MP4,shipin,video"},{name:"math",icon:E.createElement("span",null,E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("path",{d:"M14.073 14.18a.122.122 0 01.004.073l-.346 1.404a.122.122 0 01-.119.093H9.438a.122.122 0 01-.122-.122v-.384c0-.067.055-.122.122-.122h.61v-3.924h-.61a.122.122 0 01-.122-.122v-.384c0-.068.055-.122.122-.122h.355l-.012-.063a.976.976 0 00-.96-.8h-.487v3.845H9.35c.068 0 .122.055.122.122v.384a.122.122 0 01-.122.122H6.341a.122.122 0 01-.122-.122v-.384c0-.067.055-.122.122-.122h1.017V9.706H6.87a.976.976 0 00-.96.8l-.097.535h-.437a.122.122 0 01-.122-.132l.143-1.797A.122.122 0 015.52 9h4.654c.064 0 .117.049.122.112l.116 1.458h3.19c.06 0 .113.046.12.107l.214 1.718a.122.122 0 01-.121.137h-.339a.122.122 0 01-.117-.09l-.16-.577a.91.91 0 00-.877-.667h-1.134v1.57h.423c.26 0 .471-.211.471-.471v-.192c0-.068.055-.122.122-.122h.407c.067 0 .122.054.122.122v1.953a.122.122 0 01-.122.122h-.407a.122.122 0 01-.122-.122v-.192a.47.47 0 00-.47-.47h-.424v1.726h1.187c.34 0 .655-.177.832-.467l.291-.475h-.155a.122.122 0 01-.122-.122v-.384c0-.067.054-.122.122-.122h.577l1.468-2.004-1.305-1.92h-.659a.122.122 0 01-.122-.122v-.384c0-.067.055-.122.122-.122h2.196c.067 0 .122.055.122.122v.384a.122.122 0 01-.122.122h-.317l.718 1.057.774-1.057h-.362a.122.122 0 01-.122-.122v-.384c0-.067.055-.122.122-.122h1.87c.068 0 .123.055.123.122v.384a.122.122 0 01-.122.122h-.614l-1.238 1.69 1.518 2.234h.659c.067 0 .122.055.122.122v.384a.122.122 0 01-.122.122h-2.196a.122.122 0 01-.122-.122v-.384c0-.067.055-.122.122-.122h.317l-.931-1.37-1.004 1.37h.398c.068 0 .122.055.122.122v.384a.122.122 0 01-.122.122h-1.14z",fillOpacity:".65",fill:"#000"})))),title:oe.math.title,search:"\u516C\u5F0F,\u6570\u5B66\u516C\u5F0F,gongshi,formula,math,latex"},{name:"tag",icon:E.createElement("span",null,E.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("g",{transform:"scale(0.3, 0.3) translate(16 16)"},E.createElement("path",{d:"M8 44L8 6C8 4.89543 8.89543 4 10 4H38C39.1046 4 40 4.89543 40 6V44L24 35.7273L8 44Z",fill:"none",stroke:"#595959",strokeWidth:"2",strokeLinejoin:"round"}),E.createElement("path",{d:"M16 18H32",stroke:"#595959",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),title:oe.tag.title,search:"tag,label,\u6807\u7B7E"},{name:"status",icon:E.createElement("span",null,E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("g",{transform:"translate(6 6)"},E.createElement("path",{d:"M2.534 6.192L.53 4.34a.667.667 0 01-.144-.788L1.98.37A.667.667 0 012.575 0h9.714c.369 0 .667.298.667.667v5.036a.667.667 0 01-.667.666H2.986a.667.667 0 01-.452-.177z",fill:"#BFBFBF"}),E.createElement("path",{d:"M.598 4.07a.267.267 0 00.02.226l4.125 7.146a.267.267 0 00.364.097l4.62-2.666a.267.267 0 00.097-.365L5.698 1.363a.267.267 0 00-.186-.13L2.095.648a.267.267 0 00-.295.17L.598 4.07z",stroke:"#595959",strokeWidth:".8",fill:"#FFF"}),E.createElement("path",{d:"M3.956 3.036a.667.667 0 11-1.333 0 .667.667 0 011.333 0z",fill:"#595959"}),E.createElement("circle",{fill:"#595959",transform:"scale(-1 1) rotate(30 0 -9.207)",cx:"3.283",cy:"3.047",r:"1"}))))),title:oe.status.title,search:"status,label,\u72B6\u6001"},{name:"lightblock",icon:E.createElement("span",null,E.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},E.createElement("g",null,E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("g",{transform:"scale(0.02, 0.02) translate(90, 66)"},E.createElement("path",{d:"M334.381005 532.396498c-43.065755-49.294608-63.309781-112.604389-57.006228-178.291306 10.574825-110.073758 97.919974-198.776832 207.71744-210.893776 68.155127-7.538682 133.543239 13.271232 184.12721 58.571883 49.904497 44.705089 78.529384 108.733229 78.529384 175.681881 0 58.288428-21.461758 114.226326-60.43532 157.530511-33.148915 36.840996-52.83217 85.053971-56.389176 137.225087H528.321701V438.869569c0-9.007123-7.311508-16.319655-16.323748-16.319655-9.014286 0-16.312492 7.312531-16.312491 16.324771v233.34507H393.113547c-3.619427-51.119159-24.146908-100.241852-58.732542-139.823257z m267.534684 349.898389H422.088404c-15.65553 0-28.397714-12.72888-28.397714-28.38441v-13.222113h236.617596v13.222113c0.001023 15.648367-12.737067 28.384411-28.392597 28.38441z m28.393621-176.619226v40.79095h-236.61862V704.913299l236.61862 0.762362z m0 102.380557h-236.61862v-28.945182h236.617596v28.945182h0.001024z m-269.255882 45.853236c0 33.645217 27.378503 61.036 61.035999 61.035999h179.827286c33.65238 0 61.036-27.390782 61.035999-61.035999V689.406148c0-50.646392 17.267234-97.71736 48.62639-132.56803 44.377631-49.313027 68.815158-113.009617 68.815158-179.372938 0-76.212623-32.576888-149.107695-89.390734-199.987401-57.609977-51.586809-132.021585-75.230251-209.499013-66.725571-125.072327 13.823816-224.583539 114.852588-236.613503 240.230883-7.177455 74.713483 15.876564 146.765352 64.907159 202.899725 33.056817 37.817228 51.255258 85.643394 51.255259 134.65557v165.371068z"}))))),title:oe.lightblock.title,search:"light,lightblock,\u9AD8\u4EAE\u5757",onDisabled:function(){return!!pe.card.active||!pe.command.queryEnabled("lightblock")}},{name:"mulit_codeblock",icon:E.createElement("span",null,E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:"#E8E8E8",fill:"#FFF",x:".5",y:".5",width:"23",height:"23",rx:"2"}),E.createElement("g",{transform:"scale(0.02, 0.02) translate(90, 66)"},E.createElement("path",{d:"M168.6 169v686h686.1V169H168.6z m640.1 46v146.7H214.6V215h594.1zM214.6 809V407.7h594.1V809H214.6z",fill:"#737373"}),E.createElement("path",{d:"M255.6 267.2h64v46h-64zM383.6 267.2h64v46h-64zM511.7 267.2h64v46h-64zM417.4 532.9l-53-3.1L292 640.3 365.3 750h55.4l-73.5-109.9zM606.4 532.9l70.1 107.2-72.3 108.2 54.2 1.7 73.3-109.7-72.4-110.5zM445.4 774.9h48.2l83.7-268-47.6-1.8z",fill:"#737373"}))))),title:oe.mulitCodeblock.title,search:"\u4EE3\u7801\u5757,mulit,codeblock,mulit_codeblock",onDisabled:function(){return!!pe.card.active||!pe.command.queryEnabled("mulit_codeblock")}}]}]},{type:"button",name:"undo",icon:"undo",title:oe.undo.title,onDisabled:function(){return!pe.command.queryState("undo")||!pe.command.queryEnabled("undo")},onActive:function(){return!1}},{type:"button",name:"redo",icon:"redo",title:oe.redo.title,onDisabled:function(){return!pe.command.queryState("redo")||!pe.command.queryEnabled("redo")},onActive:function(){return!1}},{type:"button",name:"paintformat",icon:"paintformat",title:oe.paintformat.title},{type:"button",name:"removeformat",icon:"clean",title:oe.removeformat.title},{type:"dropdown",name:"heading",className:"toolbar-dropdown-heading",title:me.title,items:[{key:"p",className:"heading-item-p",content:me.p},{key:"h1",className:"heading-item-h1",content:me.h1},{key:"h2",className:"heading-item-h2",content:me.h2},{key:"h3",className:"heading-item-h3",content:me.h3},{key:"h4",className:"heading-item-h4",content:me.h4},{key:"h5",className:"heading-item-h5",content:me.h5},{key:"h6",className:"heading-item-h6",content:me.h6}]},{type:"dropdown",name:"fontsize",className:"toolbar-dropdown-fontsize",title:oe.fontsize.title,items:[{key:"12px",content:"12px",hotkey:!1},{key:"13px",content:"13px",hotkey:!1},{key:"14px",content:"14px",hotkey:!1},{key:"15px",content:"15px",hotkey:!1},{key:"16px",content:"16px",hotkey:!1},{key:"19px",content:"19px",hotkey:!1},{key:"22px",content:"22px",hotkey:!1},{key:"24px",content:"24px",hotkey:!1},{key:"29px",content:"29px",hotkey:!1},{key:"32px",content:"32px",hotkey:!1},{key:"40px",content:"40px",hotkey:!1},{key:"48px",content:"48px",hotkey:!1}].map(function(nt){return nt.key===Pe?(0,v.Z)((0,v.Z)({},nt),{},{isDefault:!0}):nt}),onDisabled:function(){var ht=pe.command.queryState("heading")||"p";return/^h\d$/.test(ht)||!pe.command.queryEnabled("fontsize")}},{type:"dropdown",name:"fontfamily",className:"toolbar-dropdown-fontfamily",title:oe.fontfamily.title,items:de(ae,(0,v.Z)((0,v.Z)({},oe.fontfamily.items),{},{notInstalled:oe.fontfamily.notInstalled})),onActive:function(ht){var vt,St=pe.command.queryState("fontfamily");if(!St||!Array.isArray(St)||St.length===0)return"";var It=St[0].split(",").map(function(Kt){return Kt.replace(/"/g,"").trim().toLowerCase()});return((vt=ht.find(function(Kt){return It.indexOf(Kt.faimlyName.trim().toLowerCase())>-1}))===null||vt===void 0?void 0:vt.key)||""}},{type:"button",name:"bold",icon:"bold",title:oe.bold.title,onDisabled:function(){var ht=pe.command.queryState("heading")||"p";return/^h\d$/.test(ht)||!pe.command.queryEnabled("bold")}},{type:"button",name:"italic",icon:"italic",title:oe.italic.title},{type:"button",name:"strikethrough",icon:"strikethrough",title:oe.strikethrough.title},{type:"button",name:"underline",icon:"underline",title:oe.underline.title},{type:"dropdown",name:"moremark",icon:"moremark",single:!1,title:oe.moremark.title,items:[{key:"sup",icon:"sup",content:oe.moremark.sup,disabled:!pe.command.queryEnabled("sup"),command:{name:"sup",args:[]}},{key:"sub",icon:"sub",disabled:!pe.command.queryEnabled("sub"),content:oe.moremark.sub,command:{name:"sub",args:[]}},{key:"code",icon:"code",disabled:!pe.command.queryEnabled("code"),content:oe.moremark.code,command:{name:"code",args:[]}}],onDisabled:function(){var ht=[];return pe.command.queryEnabled("sup")===!0&&ht.push("sup"),pe.command.queryEnabled("sub")===!0&&ht.push("sub"),pe.command.queryEnabled("code")===!0&&ht.push("code"),ht.length===0},onActive:function(){var ht=[];return pe.command.queryState("sup")===!0&&ht.push("sup"),pe.command.queryState("sub")===!0&&ht.push("sub"),pe.command.queryState("code")===!0&&ht.push("code"),ht}},{type:"color",name:"fontcolor",defaultColor:"#262626",defaultActiveColor:"#F5222D",buttonTitle:oe.fontcolor.title,dropdownTitle:oe.fontcolor.more,content:function(ht,vt,St){return St===!0&&(ht="#BFBFBF",vt="#BFBFBF"),E.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",style:{marginBottom:-2}},E.createElement("title",null,"color-font"),E.createElement("desc",null,"Created with Sketch."),E.createElement("g",{id:"color-font",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.createElement("rect",{id:"Rectangle-55",stroke:vt,strokeWidth:"0.5",fill:ht,x:"2",y:"12.75",width:"12",height:"1.5",rx:"0.125"}),E.createElement("path",{d:"M5.29102819,11.25 L3.96365715,11.25 C3.87952002,11.25 3.8113134,11.1817934 3.8113134,11.0976562 C3.8113134,11.08076 3.81412419,11.0639814 3.81963067,11.0480076 L7.0756112,1.60269506 C7.09679504,1.5412426 7.15463644,1.5 7.21963767,1.5 L8.81868806,1.5 C8.883726,1.5 8.94159158,1.54128846 8.96274706,1.60278951 L12.2118,11.048102 C12.239168,11.1276636 12.1968568,11.2143472 12.1172952,11.2417152 C12.1013495,11.2472004 12.0846037,11.25 12.067741,11.25 L10.6761419,11.25 C10.6099165,11.25 10.5512771,11.2072154 10.531066,11.1441494 L9.69970662,8.55 L6.27433466,8.55 L5.43599205,11.1444975 C5.41567115,11.2073865 5.35711879,11.25 5.29102819,11.25 Z M8.02635163,3.18571429 L7.96199183,3.18571429 L6.63904023,7.30714286 L9.33500105,7.30714286 L8.02635163,3.18571429 Z",id:"A",fill:"#595959"})))}},{type:"color",name:"backcolor",defaultColor:"transparent",defaultActiveColor:"#FADB14",buttonTitle:oe.backcolor.title,dropdownTitle:oe.backcolor.more,content:function(ht,vt,St){return St===!0&&(ht="#BFBFBF",vt="#BFBFBF"),E.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",style:{marginBottom:-2}},E.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.createElement("rect",{stroke:vt,strokeWidth:"0.5",fill:ht,x:"2",y:"12.75",width:"12",height:"1.5",rx:"0.125"}),E.createElement("g",{transform:"translate(2.781250, 1.375000)",fillRule:"nonzero"},E.createElement("path",{fill:"#595959",d:"M2.86079849,6.64817222 L2.05713835,5.84451208 C2.00832281,5.79569655 2.00832281,5.71655092 2.05713835,5.66773539 L3.61029491,4.11457882 L3.11963835,3.62392225 C3.07082281,3.57510672 3.07082281,3.49596109 3.11963835,3.44714556 L6.47839556,0.0883883476 C6.52721109,0.0395728112 6.60635672,0.0395728112 6.65517225,0.0883883476 L11.5165314,4.94974747 C11.5653469,4.998563 11.5653469,5.07770863 11.5165314,5.12652416 L8.15777416,8.48528137 C8.10895863,8.53409691 8.029813,8.53409691 7.98099747,8.48528137 L7.38889678,7.89318068 L5.83574021,9.44633725 C5.78692467,9.49515278 5.70777905,9.49515278 5.65896351,9.44633725 L5.0267407,8.81411444 L4.48856529,9.35326519 C4.39477378,9.44720966 4.26747335,9.5 4.13472392,9.5 L0.608857988,9.5 C0.470786801,9.5 0.358857988,9.38807119 0.358857988,9.25 C0.358857988,9.18363253 0.385247413,9.11998865 0.432210608,9.07309408 L2.86079849,6.64817222 Z M6.56678391,1.67937861 L4.71062861,3.53553391 L8.06938582,6.89429112 L9.92554112,5.03813582 L6.56678391,1.67937861 Z M3.64812861,5.75612373 L5.74735186,7.85534699 L6.54284699,7.05985186 L4.44362373,4.96062861 L3.64812861,5.75612373 Z",id:"Combined-Shape"}))))}},{type:"dropdown",name:"alignment",title:oe.alignment.title,items:[{key:"left",icon:"align-left",content:oe.alignment.left},{key:"center",icon:"align-center",content:oe.alignment.center},{key:"right",icon:"align-right",content:oe.alignment.right},{key:"justify",icon:"align-justify",content:oe.alignment.justify}]},{type:"button",name:"unorderedlist",icon:"unordered-list",title:oe.unorderedlist.title},{type:"button",name:"orderedlist",icon:"ordered-list",title:oe.orderedlist.title},{type:"button",name:"tasklist",icon:"task-list",title:oe.tasklist.title},{type:"dropdown",name:"indent",icon:"indent",hasDot:!1,title:oe.indent.title,items:[{key:"in",icon:"indent",content:oe.indent.in},{key:"out",icon:"outdent",content:oe.indent.out}]},{type:"dropdown",name:"line-height",renderContent:function(){return E.createElement("span",{className:"data-icon data-icon-line-height"})},title:oe["line-height"].title,items:[{key:"default",content:oe["line-height"].default},{key:"1",content:"1"},{key:"1.15",content:"1.15"},{key:"1.5",content:"1.5"},{key:"2",content:"2"},{key:"2.5",content:"2.5"},{key:"3",content:"3"}]},{type:"button",name:"link",icon:"link",command:{name:"link",args:["_blank"]},title:oe.link.title,onDisabled:function(){var ht=pe.card,vt=(0,p.iC)(pe)?pe.change.range.get():p.e6.from(pe);if(!vt)return!pe.command.queryEnabled("link");var St=ht.find(vt.startNode);return!!St&&!St.isCursor(vt.startNode)||vt.containsCard()||!pe.command.queryEnabled("link")}},{type:"button",name:"quote",icon:"quote",title:oe.quote.title},{type:"button",name:"hr",icon:"hr",title:oe.hr.title}]},X=`.editor-toolbar .toolbar-button {\r
    display: inline-flex;\r
    align-items: center;\r
    justify-content: center;\r
    width: auto;\r
    min-width: 26px;\r
    margin: 0;\r
    text-align: center;\r
    padding: 0 7px;\r
    background-color: transparent;\r
    border: 1px solid transparent;\r
    border-radius: 3px 3px;\r
    font-size: 16px;\r
    cursor: pointer;\r
    color: #595959;\r
    outline: none;\r
}\r
\r
.editor-toolbar.editor-toolbar-popup .toolbar-button {\r
    min-width: 24px;\r
    line-height: 24px;\r
    border-radius: 4px;\r
}\r
\r
.editor-toolbar:not(.editor-toolbar-mobile) .toolbar-button {\r
    padding: 0 4px;\r
    margin: 0 1px;\r
}\r
\r
.editor-toolbar:not(.editor-toolbar-mobile) .toolbar-button:hover {\r
    border: 1px solid transparent;\r
    background-color: #f5f5f5;\r
}\r
\r
.editor-toolbar:not(.editor-toolbar-mobile) .toolbar-button:active,.editor-toolbar .toolbar-button-active,.editor-toolbar:not(.editor-toolbar-mobile) .toolbar-button-active:hover {\r
    background-color: #e8e8e8;\r
    border: 1px solid transparent;\r
}\r
\r
.editor-toolbar .toolbar-button-disabled,.editor-toolbar:not(.editor-toolbar-mobile) .toolbar-button-disabled:hover {\r
    background-color: transparent;\r
    border: 1px solid transparent;\r
    box-shadow: none;\r
    color: #000000;\r
    opacity: 0.25;\r
    cursor: not-allowed;\r
}`;lt(X);var K=E.forwardRef(function(Ee,pe){var oe=Ee.name,me=Ee.engine,Pe=Ee.command,nt=(0,E.useState)(!1),ht=(0,Y.Z)(nt,2),vt=ht[0],St=ht[1],It=function(wn){var mn=Ee.command,On=Ee.onClick,Rn=Ee.disabled,Kn=Ee.autoExecute,jn=wn.target.nodeName;if(jn!=="INPUT"&&jn!=="TEXTAREA"&&wn.preventDefault(),!Rn&&!(On&&On(wn,me)===!1)&&Kn!==!1){var tr,cr=oe,ar=[];mn&&(Array.isArray(mn)?ar=mn:(cr=mn.name,ar=mn.args)),me==null||(tr=me.command).execute.apply(tr,[cr].concat((0,M.Z)(ar)))}},Kt=function(wn){wn.preventDefault();var mn=Ee.onMouseDown,On=Ee.disabled;On||(mn&&mn(wn,me),St(!1))},Tt=function(wn){var mn=Ee.onMouseEnter;mn&&mn(wn,me),St(!0)},Lt=function(wn){var mn=Ee.onMouseLeave;mn&&mn(wn,me),St(!1)},Gt=function(){var wn=Ee.icon,mn=Ee.content,On=Ee.className,Rn=Ee.active,Kn=Ee.disabled;return E.createElement("button",{className:(0,q.Z)("toolbar-button",On,{"toolbar-button-active":Rn,"toolbar-button-disabled":Kn}),ref:pe,onClick:It,onMouseDown:Kt,onMouseEnter:Tt,onMouseLeave:Lt},typeof wn=="string"?E.createElement("span",{className:"data-icon data-icon-".concat(wn)}):wn,typeof mn=="function"?mn(me):mn)},Yt=Ee.title?E.createElement("div",{className:"toolbar-tooltip-title"},Ee.title):null,Mn=Ee.hotkey;return me&&(Mn===!0||Mn===void 0)&&(Mn=te(me,Pe&&!Array.isArray(Pe)?Pe.name:oe)),typeof Mn=="string"&&Mn!==""&&(Yt=E.createElement(E.Fragment,null,Yt,E.createElement("div",{className:"toolbar-tooltip-hotkey"},(0,p.Yh)(Mn)))),Yt&&!p.tq?E.createElement(se.Z,{placement:Ee.placement||"bottom",title:Yt,visible:vt},Gt()):Gt()}),ze=function(pe){var oe=(0,E.useState)(!1),me=(0,Y.Z)(oe,2),Pe=me[0],nt=me[1];return(0,E.useEffect)(function(){if(pe.current&&p.tq){var ht=pe.current.getBoundingClientRect();nt(ht.left>window.visualViewport.width/2)}},[]),Pe},Ze=function(pe){var oe=(0,E.useState)(!1),me=(0,Y.Z)(oe,2),Pe=me[0],nt=me[1],ht=pe.engine,vt=pe.name,St=pe.icon,It=pe.title,Kt=pe.disabled,Tt=pe.description,Lt=pe.className,Gt=pe.prompt,Yt=pe.placement,Mn=function(On){if(!Kt){var Rn=pe.command,Kn=pe.onClick,jn=pe.autoExecute,tr=On.target.nodeName;if(tr!=="INPUT"&&tr!=="TEXTAREA"&&On.preventDefault(),!(Kn&&Kn(On,vt,ht)===!1)&&jn!==!1){var cr,ar=vt,Zn=[];Rn&&(Array.isArray(Rn)?Zn=Rn:(ar=Rn.name,Zn=Rn.args)),ht==null||(cr=ht.command).execute.apply(cr,[ar].concat((0,M.Z)(Zn)))}}},Dn=function(On){pe.onMouseDown&&pe.onMouseDown(On,ht)},wn=function(){return E.createElement("div",{className:(0,q.Z)("toolbar-collapse-item",{"toolbar-collapse-item-active":Pe},{"toolbar-collapse-item-disabled":Kt},Lt),onMouseEnter:function(){return nt(!Kt)},onMouseLeave:function(){return nt(!1)},onClick:Mn,onMouseDown:Dn},typeof St=="string"?E.createElement("span",{className:"data-icon data-icon-".concat(St)}):St,It&&E.createElement("div",{className:"toolbar-collapse-item-text"},E.createElement("div",{className:"toolbar-collapse-item-title"},typeof It=="function"?It():It),Tt&&E.createElement("div",{className:"toolbar-collapse-item-description"},typeof Tt=="function"?Tt():Tt)))};return Gt?E.createElement(ne.Z,{placement:Yt||"right",content:E.createElement("div",{onClick:function(On){pe.onClick&&(On.preventDefault(),pe.onClick(On,vt,ht))}},typeof Gt=="function"?Gt(pe):Gt)},wn()):wn()},We=function(pe){var oe=pe.engine,me=pe.title,Pe=pe.items,nt=pe.onSelect;return E.createElement("div",{className:"toolbar-collapse-group"},me&&E.createElement("div",{className:"toolbar-collapse-group-title"},me),Pe.map(function(ht){return E.createElement(Ze,(0,v.Z)((0,v.Z)({key:ht.name,engine:oe},ht),{},{onClick:function(St,It,Kt){var Tt;return ht.onClick&&(Tt=ht.onClick(St,It,Kt)),nt&&nt(St,It,Kt),Tt}}))}))},ye=`.toolbar-collapse-header {\r
    color: #8c8c8c;\r
    margin: 4px 16px 0;\r
    font-size: 12px;\r
    line-height: 20px;\r
    text-align: left;\r
    padding-bottom: 8px;\r
    margin-bottom: 6px;\r
    border-bottom: 1px solid #e8e8e8;\r
}\r
\r
.toolbar-collapse-header code{\r
    background-color: #f5f5f5;\r
    border-radius: 4px;\r
    padding: 2px;\r
    border: 1px solid #d9d9d9;\r
}\r
\r
.toolbar-collapse-content {\r
    min-width: 200px\r
}\r
\r
.toolbar-collapse-group-title {\r
    padding: 2px 16px;\r
    text-align: left;\r
    color: #8c8c8c;\r
    font-weight: 700;\r
    font-size: 12px;\r
    line-height: 24px;\r
}\r
\r
.toolbar-collapse-item {\r
    display: flex;\r
    cursor: pointer;\r
    padding: 4px 16px 0;\r
}\r
\r
.toolbar-collapse-item-active {\r
    background-color: #f4f4f4;\r
}\r
\r
.editor-toolbar .toolbar-collapse-item-disabled, .data-toolbar-component-list .toolbar-collapse-item-disabled, .editor-toolbar:not(.editor-toolbar-mobile) .toolbar-collapse-item-disabled:hover,  .data-toolbar-component-list .toolbar-collapse-item-disabled:hover {\r
  background-color: transparent;\r
  border: 1px solid transparent;\r
  box-shadow: none;\r
  color: #000000;\r
  opacity: 0.25;\r
  cursor: not-allowed;\r
}\r
\r
.toolbar-collapse-item .toolbar-collapse-item-text\r
{\r
    display: block;\r
    text-align: left;\r
    margin-left: 8px;\r
}\r
\r
.toolbar-collapse-item .toolbar-collapse-item-title{\r
    display: block;\r
    color: #595959;\r
    line-height: 24px;\r
    font-size: 14px;\r
    font-weight: normal;\r
}\r
\r
.toolbar-collapse-item .toolbar-collapse-item-description\r
{\r
    display: block;\r
    font-size: 12px;\r
    color: rgba(0,0,0,.45);\r
}`;lt(ye);var Ie=function(pe){var oe=pe.icon,me=pe.content,Pe=pe.header,nt=pe.groups,ht=pe.engine,vt=pe.className,St=pe.onSelect,It=!(oe||me),Kt=(0,E.useState)(It),Tt=(0,Y.Z)(Kt,2),Lt=Tt[0],Gt=Tt[1],Yt=(0,E.useRef)(null),Mn=ze(Yt);(0,E.useEffect)(function(){if(!It)return function(){return document.removeEventListener("click",wn)}},[It]);var Dn=function(){Gt(!0),setTimeout(function(){document.addEventListener("click",wn)},10)},wn=function On(Rn){if(Rn)var Kn=Rn.target;document.removeEventListener("click",On),Gt(!1)},mn=function(){Lt?wn():Dn()};return E.createElement("div",{className:(0,q.Z)("toolbar-dropdown toolbar-collapse",{"toolbar-dropdown-right":Mn},vt),ref:Yt},!It&&E.createElement(K,{name:"collapse",icon:oe,content:me,onClick:mn,active:Lt,disabled:!nt.some(function(On){return On.items.some(function(Rn){return!Rn.disabled})})}),Lt&&E.createElement("div",{className:"toolbar-dropdown-list","data-element":"ui"},typeof Pe=="string"?E.createElement("div",{className:"toolbar-collapse-header",dangerouslySetInnerHTML:{__html:Pe}}):Pe&&E.createElement("div",{className:"toolbar-collapse-header"},Pe),E.createElement("div",{className:"toolbar-collapse-content"},nt.map(function(On,Rn){return E.createElement(We,(0,v.Z)((0,v.Z)({key:Rn,engine:ht},On),{},{onSelect:St}))}))))},Ue=(0,z.Z)("position"),Ye=function(){function Ee(pe,oe){var me=this;(0,O.Z)(this,Ee),this.engine=void 0,this.root=void 0,this.otpions=void 0,Object.defineProperty(this,Ue,{writable:!0,value:void 0}),this.SCOPE_NAME="data-toolbar-component",this.handlePreventDefault=function(Pe){var nt;if(((nt=me.root)===null||nt===void 0?void 0:nt.closest("body").length)!==0)return Pe.preventDefault(),!1},this.otpions=oe,this.engine=pe,(0,g.Z)(this,Ue)[Ue]=new p.Ly(pe)}return(0,U.Z)(Ee,[{key:"select",value:function(oe){var me,Pe,nt;(me=this.root)===null||me===void 0||me.find(".toolbar-collapse-item-active").removeClass("toolbar-collapse-item-active"),(Pe=this.root)===null||Pe===void 0||(nt=Pe.find(".toolbar-collapse-item").eq(oe))===null||nt===void 0||nt.addClass("toolbar-collapse-item-active")}},{key:"scroll",value:function(oe){if(!!this.root){var me=this.root.find(".toolbar-collapse-item").toArray(),Pe=this.root.find(".toolbar-collapse-item-active"),nt=me.findIndex(function(It){return It.equal(Pe)}),ht=oe==="up"?nt-1:nt+1;ht<0&&(ht=me.length-1),ht>=me.length&&(ht=0),Pe=me[ht],this.select(ht);var vt=0;this.root.find(".toolbar-collapse-group-title,.toolbar-collapse-item").each(function(It){if(Pe.equal(It))return!1;vt+=It.clientHeight});var St=this.root.get();St.scrollTop=vt-St.clientHeight/2}}},{key:"unbindEvents",value:function(){(0,le.deleteScope)(this.SCOPE_NAME),(0,le.unbind)("enter",this.SCOPE_NAME),(0,le.unbind)("up",this.SCOPE_NAME),(0,le.unbind)("down",this.SCOPE_NAME),(0,le.unbind)("esc",this.SCOPE_NAME),this.engine.off("keydown:enter",this.handlePreventDefault)}},{key:"bindEvents",value:function(){var oe=this;this.unbindEvents(),(0,le.setScope)(this.SCOPE_NAME),ce()("enter",this.SCOPE_NAME,function(me){var Pe,nt,ht;if(((Pe=oe.root)===null||Pe===void 0?void 0:Pe.closest("body").length)!==0){me.preventDefault();var vt=(nt=oe.root)===null||nt===void 0?void 0:nt.find(".toolbar-collapse-item-active");vt==null||(ht=vt.get())===null||ht===void 0||ht.click()}}),ce()("up",this.SCOPE_NAME,function(me){var Pe;((Pe=oe.root)===null||Pe===void 0?void 0:Pe.closest("body").length)!==0&&(me.preventDefault(),oe.scroll("up"))}),ce()("down",this.SCOPE_NAME,function(me){var Pe;((Pe=oe.root)===null||Pe===void 0?void 0:Pe.closest("body").length)!==0&&(me.preventDefault(),oe.scroll("down"))}),ce()("esc",this.SCOPE_NAME,function(me){me.preventDefault(),oe.unbindEvents();var Pe=oe.otpions.onCancel;Pe&&Pe()}),this.engine.on("keydown:enter",this.handlePreventDefault)}},{key:"remove",value:function(){var oe;!this.root||this.root.length===0||((oe=(0,g.Z)(this,Ue)[Ue])===null||oe===void 0||oe.destroy(),j.unmountComponentAtNode(this.root.get()),this.root.remove(),this.root=void 0)}},{key:"render",value:function(oe,me,Pe){var nt=this;this.unbindEvents(),this.remove(),this.root=(0,p.$)('<div class="data-toolbar-component-list" />'),oe.append(this.root);var ht=this.root.get();j.render(Pe.length===0?E.createElement("div",{className:"data-toolbar-component-list-empty"},this.engine.language.get("toolbar","searchEmtpy","title").toString()):E.createElement(Ie,{engine:this.engine,groups:Pe,onSelect:this.otpions.onSelect}),ht,function(){var vt;(vt=(0,g.Z)(nt,Ue)[Ue])===null||vt===void 0||vt.bind(nt.root,me)}),this.select(0),this.bindEvents()}}]),Ee}(),Ae=function(pe){var oe=pe.engine,me=pe.name,Pe=pe.direction,nt=pe.items,ht=pe.className,vt=pe.onSelect,St=pe.values,It=pe.hasDot;Pe||(Pe="vertical");var Kt=(0,E.useRef)(null),Tt=(0,E.useState)(),Lt=(0,Y.Z)(Tt,2),Gt=Lt[0],Yt=Lt[1];(0,E.useEffect)(function(){var wn,mn=Kt.current;if(!!mn){var On=oe==null||(wn=oe.scrollNode)===null||wn===void 0?void 0:wn.get();if(!!On){var Rn=mn.getBoundingClientRect(),Kn=On.getBoundingClientRect();Rn.top<Kn.top&&Yt("bottom"),Rn.bottom>Kn.bottom&&Yt("top")}}},[Kt]);var Mn=function(mn,On){mn.preventDefault(),mn.stopPropagation();var Rn=nt.find(function(Zn){return Zn.key===On});if(!!Rn){var Kn=Rn.autoExecute,jn=Rn.command;if(!(vt&&vt(mn,On)===!1)&&Kn!==!1){var tr,cr=me,ar=[On];jn&&(Array.isArray(jn)?ar=ar.concat(jn):(cr=jn.name,ar=ar.concat(jn.args))),oe==null||(tr=oe.command).execute.apply(tr,[cr].concat((0,M.Z)(ar)))}}},Dn=function(mn){var On=mn.key,Rn=mn.title,Kn=mn.icon,jn=mn.content,tr=mn.command,cr=mn.placement,ar=mn.className,Zn=mn.hotkey,Un=mn.disabled,yi=function(){return E.createElement("a",{key:On,className:(0,q.Z)("toolbar-dropdown-list-item",ar,{"toolbar-dropdown-list-item-disabled":Un}),onClick:function(ci){if(!Un)return Mn(ci,On)}},(typeof St=="string"&&St===On||Array.isArray(St)&&St.indexOf(On)>-1)&&Pe!=="horizontal"&&It!==!1&&E.createElement("span",{className:"data-icon data-icon-dot"}),typeof Kn=="string"?E.createElement("span",{className:"data-icon data-icon-".concat(Kn)}):Kn,typeof jn=="function"?jn(oe):jn)},gi=Rn?E.createElement("div",{className:"toolbar-tooltip-title"},Rn):null;return oe&&Zn!==!1&&(Zn=te(oe,tr&&!Array.isArray(tr)?tr.name:me,On)),typeof Zn=="string"&&Zn!==""&&(gi=E.createElement(E.Fragment,null,Rn,E.createElement("div",{className:"toolbar-tooltip-hotkey"},(0,p.Yh)(Zn)))),gi&&!p.tq?E.createElement(se.Z,{key:"".concat(On,"-tooltip"),title:gi,placement:cr||"right"},yi()):yi()};return E.createElement("div",{ref:Kt,className:(0,q.Z)("toolbar-dropdown-list","toolbar-dropdown-".concat(Pe),Gt?"toolbar-dropdown-placement-".concat(Gt):"",{"toolbar-dropdown-dot":It!==!1},ht)},nt.map(function(wn){return Dn(wn)}))},tt=`.toolbar-dropdown {\r
    position: relative;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-trigger {\r
    display: flex;\r
    align-items: stretch;\r
    height: 100%;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-trigger .toolbar-button {\r
    margin: 0;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-trigger .toolbar-dropdown-button-text {\r
    font-size: 12px;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-trigger-arrow .toolbar-button{\r
    padding-right: 20px;\r
    margin: 0;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-trigger-arrow .data-icon-arrow {\r
    position: absolute;\r
    right: 6px;\r
    top: calc(100% / 2 - 2px);\r
    width: 8px;\r
    height: 8px;\r
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjhweCIgaGVpZ2h0PSI1cHgiIHZpZXdCb3g9IjAgMCA4IDUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPkdyb3VwIENvcHkgNjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IlN5bWJvbHMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9IjAuNDUiPg0KICAgICAgICA8ZyBpZD0idG9vbGJhciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyOC4wMDAwMDAsIC0xOC4wMDAwMDApIj4NCiAgICAgICAgICAgIDxnIGlkPSJwYXJhZ3JhcGgtc3R5bGUiPg0KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNi4wMDAwMDAsIDQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC1Db3B5LTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMi4wMDAwMDAsIDEyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTAuNTk2MDkzNzUsMi41NTcwMzEyNSBMMy43NDUzMTI1LDYuMzc4MTI1IEMzLjg3NzM0Mzc1LDYuNTI1NzgxMjUgNC4xMDg1OTM3NSw2LjUyNTc4MTI1IDQuMjQwNjI1LDYuMzc4MTI1IEw3LjQwNTQ2ODc1LDIuNTU3MDMxMjUgQzcuNTk2MDkzNzUsMi4zNDI5Njg3NSA3LjQ0NDUzMTI1LDIuMDAzOTA2MjUgNy4xNTc4MTI1LDIuMDAzOTA2MjUgTDAuODQ0NTMxMjUsMi4wMDM5MDYyNSBDMC41NTcwMzEyNSwyLjAwMzkwNjI1IDAuNDA0Njg3NSwyLjM0Mjk2ODc1IDAuNTk2MDkzNzUsMi41NTcwMzEyNSBaIiBpZD0iU2hhcGUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+);\r
    background-repeat: no-repeat;\r
    transition: all 0.25s cubic-bezier(0.3, 1.2, 0.2, 1);\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list {\r
    position: absolute;\r
    top: 32px;\r
    font-size: 12px;\r
    background: #ffffff;\r
    border: 1px solid #e8e8e8;\r
    border-radius: 3px 3px;\r
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.12);\r
    padding: 5px 0;\r
    height: auto;\r
    transition: all 0.25s cubic-bezier(0.3, 1.2, 0.2, 1);\r
    z-index: 999;\r
    max-height: calc(80vh);\r
    overflow: auto;\r
}\r
\r
.toolbar-dropdown.toolbar-dropdown-right:not(.toolbar-dropdown-right) .toolbar-dropdown-list{\r
    left: 0px;\r
}\r
\r
.editor-toolbar-mobile .toolbar-dropdown .toolbar-dropdown-list, .editor-toolbar-popup .toolbar-dropdown .toolbar-dropdown-list:not(.toolbar-dropdown-placement-bottom) {\r
    bottom: 32px;\r
    top: auto;\r
    overflow: auto;\r
}\r
\r
.editor-toolbar-mobile .toolbar-dropdown .toolbar-dropdown-list {\r
    max-height: calc(30vh);\r
}\r
\r
\r
.editor-toolbar-mobile .toolbar-dropdown.toolbar-dropdown-right .toolbar-dropdown-list,.editor-toolbar-popup .toolbar-dropdown.toolbar-dropdown-right .toolbar-dropdown-list{\r
    right: 0px;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list .toolbar-dropdown-list-item {\r
    padding: 2px 10px 2px 16px;\r
    line-height: 30px;\r
    color: #595959;\r
    text-align: left;\r
    position: relative;\r
    display: flex;\r
    white-space: nowrap;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list .toolbar-dropdown-list-item-disabled {\r
    color: rgba(17, 31, 44, 0.24);\r
    cursor: not-allowed;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list .toolbar-dropdown-list-item:not(.toolbar-dropdown-list-item-disabled):hover {\r
    color: #262626;\r
    background-color: #f5f5f5;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list .toolbar-dropdown-list-item .data-icon {\r
    margin-right: 8px;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list.toolbar-dropdown-horizontal .toolbar-dropdown-list-item {\r
    display: inline-block;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list.toolbar-dropdown-dot .toolbar-dropdown-list-item {\r
    padding-left: 30px;\r
    padding-right: 16px;\r
    white-space: nowrap;\r
}\r
\r
.toolbar-dropdown .toolbar-dropdown-list .toolbar-dropdown-list-item .data-icon-dot\r
{\r
    position: absolute;\r
    top: 50%;\r
    left: 8px;\r
    margin-top: -7px;\r
    width: 14px;\r
    height: 14px;\r
    display: block;\r
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjQgKDY3Mzc4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5VbnRpdGxlZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9IjAuNDUiPgogICAgICAgIDxnIGlkPSJjaGVjayIgZmlsbD0iIzAwMDAwMCI+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTIuNDY4NzUsMi41OTc2NTYyNSBMMTEuNTEzMDg1OSwyLjU5NzY1NjI1IEMxMS4zNzkxMDE2LDIuNTk3NjU2MjUgMTEuMjUxOTUzMSwyLjY1OTE3OTY5IDExLjE2OTkyMTksMi43NjQ0NTMxMiBMNS41MzMwMDc4MSw5LjkwNTI3MzQ0IEwyLjgzMDA3ODEyLDYuNDgwNDY4NzUgQzIuNzQ2Njc5NjksNi4zNzUxOTUzMSAyLjYyMDg5ODQ0LDYuMzEzNjcxODcgMi40ODY5MTQwNiw2LjMxMzY3MTg3IEwxLjUzMTI1LDYuMzEzNjcxODcgQzEuNDM5NjQ4NDQsNi4zMTM2NzE4NyAxLjM4OTA2MjUsNi40MTg5NDUzMSAxLjQ0NTExNzE5LDYuNDkwMDM5MDYgTDUuMTg5ODQzNzUsMTEuMjM0MTc5NyBDNS4zNjQ4NDM3NSwxMS40NTU2NjQxIDUuNzAxMTcxODcsMTEuNDU1NjY0MSA1Ljg3NzUzOTA2LDExLjIzNDE3OTcgTDEyLjU1NDg4MjgsMi43NzI2NTYyNSBDMTIuNjEwOTM3NSwyLjcwMjkyOTY5IDEyLjU2MDM1MTYsMi41OTc2NTYyNSAxMi40Njg3NSwyLjU5NzY1NjI1IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=);\r
    background-repeat: no-repeat;\r
}`;lt(tt);var it=function(pe){var oe=pe.engine,me=pe.direction,Pe=pe.name,nt=pe.icon,ht=pe.content,vt=pe.title,St=pe.className,It=pe.items,Kt=pe.disabled,Tt=pe.single,Lt=pe.values,Gt=pe.onSelect,Yt=pe.hasArrow,Mn=pe.renderContent,Dn=pe.hasDot,wn=pe.placement,mn=(0,E.useState)(!1),On=(0,Y.Z)(mn,2),Rn=On[0],Kn=On[1],jn=(0,E.useRef)(null),tr=(0,E.useRef)(null),cr=ze(jn),ar=function(oi){oi.preventDefault(),!Kt&&(Rn?Un():Zn())};(0,E.useEffect)(function(){return Rn&&document.addEventListener("click",Un),function(){document.removeEventListener("click",Un)}},[Rn]);var Zn=function(){Kn(!0)},Un=(0,E.useCallback)(function(mi){mi&&tr.current&&tr.current.contains(mi.target)||Kn(!1)},[]),yi=function(oi,Ar){Un(),Gt&&Gt(oi,Ar,oe)},gi=function(oi,Ar){return oi?E.createElement("span",{className:"data-icon data-icon-".concat(oi)}):typeof Ar=="string"?E.createElement("span",{className:"toolbar-dropdown-button-text"},Ar):typeof Ar=="function"?Ar(oe):Ar};Tt!==!1&&(Lt=Array.isArray(Lt)&&Lt.length>0?Lt[0]:Lt);var Xr=It.find(function(mi){return typeof Lt=="string"&&mi.key===Lt||Array.isArray(Lt)&&Lt.indexOf(mi.key)>-1}),Vn=It.length>0?It.find(function(mi){return mi.isDefault===!0})||It[0]:null,ci=Xr?Mn?Mn(Xr,oe):Array.isArray(Lt)&&Lt.length>1?gi(nt,ht):gi(Xr.icon,Xr.content):nt||ht?Array.isArray(Lt)&&Lt.length>0?"":gi(nt,ht):Vn?gi(Vn.icon,Vn.content):"";return Yt!==!1&&(ci=E.createElement(E.Fragment,null,ci,E.createElement("span",{className:"data-icon data-icon-arrow"}))),E.createElement("div",{className:(0,q.Z)("toolbar-dropdown",{"toolbar-dropdown-right":cr},St),onClick:ar,ref:jn},E.createElement("div",{className:(0,q.Z)("toolbar-dropdown-trigger",{"toolbar-dropdown-trigger-active":Rn,"toolbar-dropdown-trigger-arrow":Yt!==!1})},E.createElement(K,{name:Pe,content:ci,title:vt,active:Rn,disabled:Kt,placement:wn,ref:tr})),Rn&&E.createElement(Ae,{hasDot:Dn,engine:oe,direction:me,name:Pe,items:It,values:Lt||(nt||ht?"":(Vn==null?void 0:Vn.key)||""),onSelect:yi}))},Ve=(0,U.Z)(function Ee(){(0,O.Z)(this,Ee)});Ve.colors=void 0,Ve._map=void 0,Ve.getStroke=void 0,Ve.getColors=void 0,Ve.colors=[["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF"],["#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96"],["#FFE8E6","#FFECE0","#FFEFD1","#FCFCCA","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB"],["#FFA39E","#FFBB96","#FFD591","#FFFB8F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2"],["#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB"],["#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F"],["#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"]],Ve._map=function(){for(var Ee={},pe=Ve.colors,oe=0,me=pe.length;oe<me;oe++)for(var Pe=pe[oe],nt=0,ht=Pe.length;nt<ht;nt++){var vt=pe[oe][nt];Ee[vt]={y:oe,x:nt}}return Ee}(),Ve.getStroke=function(Ee){var pe=Ve._map[Ee];return pe&&(pe.y===2||pe.y===3&&pe.x>2&&pe.x<5)?this.colors[4][pe.x]:Ee},Ve.getColors=function(){return this.colors};var et=function(pe){var oe=pe.engine,me=pe.color,Pe=pe.activeColors,nt=pe.setStroke,ht=pe.onSelect,vt=function(Dn,wn){var mn=Dn.hex?(0,Qe.Z)(Dn.hex):(0,Qe.Z)(Dn),On=mn.toHsl(),Rn=mn.toHsv(),Kn=mn.toRgb(),jn=mn.toHex();On.s===0&&(On.h=wn||0,Rn.h=wn||0);var tr=jn==="000000"&&Kn.a===0;return{hsl:On,hex:tr?"transparent":"#".concat(jn),rgb:Kn,hsv:Rn,oldHue:Dn.h||wn||On.h,source:Dn.source}},St=function(Dn){if(Dn.hex==="transparent")return"rgba(0,0,0,0.4)";var wn=(Dn.rgb.r*299+Dn.rgb.g*587+Dn.rgb.b*114)/1e3;return wn>=210?"#8C8C8C":"#FFFFFF"},It=function(Dn){Dn.preventDefault(),Dn.stopPropagation(),ht&&ht(me,Dn)},Kt=vt(me||"#FFFFFF"),Tt=["#ffffff","#fafafa","transparent"].indexOf(Kt.hex)>=0,Lt=Pe.indexOf(me)>=0,Gt=me==="transparent",Yt={check:{fill:St(Kt),display:Lt?"block":"none"},block:{backgroundColor:me}};return nt&&(Yt.block.border="1px solid ".concat(Ve.getStroke(me))),E.createElement("span",{className:(0,q.Z)("colorpicker-group-item",{"colorpicker-group-item-border":Tt,"colorpicker-group-item-active":Lt,"colorpicker-group-item-special":Gt}),onClick:It,title:oe.language.get("toolbar","colorPicker")[me.toUpperCase()]},E.createElement("span",{style:Yt.block},E.createElement("svg",{style:Yt.check,viewBox:"0 0 18 18"},E.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))},wt=function(pe){var oe=pe.engine,me=pe.colors,Pe=pe.activeColors,nt=pe.onSelect,ht=pe.setStroke;return E.createElement("span",{className:"colorpicker-group"},me.map(function(vt){return E.createElement(et,{engine:oe,color:vt,key:vt,activeColors:Pe,onSelect:nt,setStroke:ht})}))},jt=`.colorpicker-default {\r
    display: flex;\r
    align-items: center;\r
    padding: 4px 8px;\r
    margin: 4px 0 8px;\r
    border-radius: 2px;\r
    cursor: pointer;\r
}\r
\r
.colorpicker-default:hover {\r
    background-color: #f5f5f5;\r
}\r
\r
.colorpicker-default-text {\r
    margin-left: 8px; \r
}\r
\r
.colorpicker-group {\r
    display: flex;\r
    width: 100%;\r
    height: auto;\r
    position: relative;\r
    padding: 0 8px;\r
}\r
\r
.colorpicker-group:nth-child(2){\r
    margin-bottom: 6px;\r
}\r
\r
.colorpicker-group:last-child {\r
    margin-bottom: 0px;\r
}\r
\r
.colorpicker-group-item {\r
    width: 24px;\r
    height: 24px;\r
    padding: 2px 2px;\r
    display: inline-block;\r
    border-radius: 3px 3px;\r
    border: 1px solid transparent;\r
    flex: 0 0 auto;\r
    cursor: pointer;\r
    background-color: #fff;\r
}\r
.colorpicker-group-item > span {\r
    position: relative;\r
    width: 18px;\r
    height: 18px;\r
    display: block;\r
    border-radius: 2px 2px;\r
    border: 1px solid transparent;\r
}\r
.colorpicker-group-item > span svg {\r
    position: absolute;\r
    top: -1px;\r
    left: 1px;\r
    width: 12px;\r
    height: 12px;\r
}\r
.colorpicker-group-item-border > span {\r
    border: 1px solid #e8e8e8;\r
}\r
.colorpicker-group-item-special {\r
    position: relative;\r
}\r
.colorpicker-group-item-special:after {\r
    content: "";\r
    display: block;\r
    position: absolute;\r
    top: 10px;\r
    left: 0px;\r
    width: 22px;\r
    height: 0;\r
    border-bottom: 2px solid #ff5151;\r
    transform: rotate(45deg);\r
}\r
.colorpicker-group-item:hover {\r
    border: 1px solid #d9d9d9;\r
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);\r
}`;lt(jt);var on=function(pe){var oe=pe.engine,me=pe.colors,Pe=pe.defaultActiveColor,nt=pe.defaultColor,ht=pe.onSelect,vt=pe.setStroke,St=(0,E.useState)([Pe]),It=(0,Y.Z)(St,2),Kt=It[0],Tt=It[1];me||(me=Ve.getColors());var Lt=function(Yt,Mn){Tt([Yt]),ht&&ht(Yt,Mn)};return E.createElement("div",{className:"colorpicker-board",onMouseDown:function(Yt){Yt.target.tagName!=="INPUT"&&Yt.preventDefault()}},E.createElement("div",{className:"colorpicker-default",onClick:function(Yt){return Lt(nt,Yt)}},E.createElement(et,{engine:oe,color:nt,activeColors:[],onSelect:Lt}),E.createElement("span",{className:"colorpicker-default-text"},oe.language.get("toolbar","colorPicker",nt==="transparent"?"nonFillText":"defaultText").toString())),me.map(function(Gt,Yt){return E.createElement(wt,{engine:oe,colors:Gt,key:Yt,activeColors:Kt,onSelect:Lt,setStroke:vt})}))},bn=`.editor-toolbar .colorpicker-button .colorpicker-button-group {\r
    padding: 0 2px;\r
}\r
\r
.colorpicker-button-group .toolbar-button {\r
    padding: 0;\r
}\r
\r
.colorpicker-button-group .colorpicker-button-text {\r
    margin-right: 0;\r
    min-width: 26px;\r
    border-radius: 3px 0 0 3px;\r
    display: block;\r
}\r
\r
.editor-toolbar.editor-toolbar-popup .colorpicker-button-group .colorpicker-button-text {\r
    margin: 0;\r
    border-radius: 3px 0 0 3px;\r
}\r
\r
.colorpicker-button-group .colorpicker-button-text:active {\r
    background-color: #e8e8e8;\r
}\r
\r
.colorpicker-button-group .colorpicker-button-dropdown {\r
    margin-left: -1px;\r
    min-width: 17px;\r
    text-align: center;\r
    padding: 0 0;\r
    border-radius: 0 3px 3px 0;\r
    display: block;\r
}\r
\r
.editor-toolbar.editor-toolbar-popup .colorpicker-button-group .colorpicker-button-dropdown {\r
    line-height: 24px;\r
    min-width: 17px;\r
    padding: 0 4px;\r
    margin: 0;\r
    margin-left: -1px;\r
    border-radius: 0 3px 3px 0;\r
}\r
  \r
.colorpicker-button-group .colorpicker-button-dropdown:hover,\r
.colorpicker-button-group .colorpicker-button-dropdown:active {\r
    background-color: #e8e8e8;\r
}\r
\r
.colorpicker-button-group .colorpicker-button-dropdown .colorpicker-button-dropdown-empty {\r
    display: inline-block;\r
}\r
\r
.colorpicker-button-group:hover .toolbar-button {\r
    border: 1px solid #e8e8e8;\r
}\r
.colorpicker-button-group-active .toolbar-button,\r
.colorpicker-button-group-active:hover .toolbar-button {\r
    border: 1px solid #e8e8e8;\r
}`;lt(bn);var Ft=function(pe){var oe=pe.engine,me=pe.autoExecute,Pe=pe.command,nt=pe.name,ht=pe.content,vt=pe.buttonTitle,St=pe.dropdownTitle,It=pe.disabled,Kt=pe.colors,Tt=pe.defaultActiveColor,Lt=pe.defaultColor,Gt=pe.onSelect,Yt=pe.setStroke,Mn=pe.placement,Dn=(0,E.useState)(!1),wn=(0,Y.Z)(Dn,2),mn=wn[0],On=wn[1],Rn=(0,E.useState)(typeof ht=="string"?ht:ht(Tt,Ve.getStroke(Tt),It)),Kn=(0,Y.Z)(Rn,2),jn=Kn[0],tr=Kn[1],cr=(0,E.useState)(Tt),ar=(0,Y.Z)(cr,2),Zn=ar[0],Un=ar[1],yi=(0,E.useRef)(null),gi=(0,E.useRef)(null),Xr=ze(gi);(0,E.useEffect)(function(){tr(typeof ht=="string"?ht:ht(Zn,Ve.getStroke(Zn),It))},[ht,It,Zn]);var Vn=(0,E.useRef)(null),ci=(0,E.useState)(),mi=(0,Y.Z)(ci,2),oi=mi[0],Ar=mi[1];(0,E.useEffect)(function(){var kt,Pn=Vn.current;if(!(!Pn||!mn)){var En=oe==null||(kt=oe.scrollNode)===null||kt===void 0?void 0:kt.get();if(!!En){var Qn=Pn.getBoundingClientRect(),Gn=En.getBoundingClientRect();Qn.top<Gn.top&&Ar("bottom"),Qn.bottom>Gn.bottom&&Ar("top")}}},[mn,Vn]);var Fr=function(Pn){Pn.preventDefault(),mn?Hr():lr()};(0,E.useEffect)(function(){return mn&&document.addEventListener("click",Hr),function(){document.removeEventListener("click",Hr)}},[mn]);var lr=(0,E.useCallback)(function(){On(!0)},[]),Hr=(0,E.useCallback)(function(kt){kt&&yi.current&&yi.current.contains(kt.target)||On(!1)},[]),He=function(Pn,En){if(Un(Pn),Hr(),me!==!1){var Qn,Gn=nt,Li=[Pn,Lt];Pe&&(Array.isArray(Pe)?Li=Pe:(Gn=Pe.name,Li=Pe.args)),oe==null||(Qn=oe.command).execute.apply(Qn,[Gn].concat((0,M.Z)(Li)))}Gt&&Gt(Pn,En)};return E.createElement("div",{ref:gi,className:(0,q.Z)("toolbar-dropdown","colorpicker-button",{"toolbar-dropdown-right":Xr})},E.createElement("div",{className:(0,q.Z)("toolbar-dropdown-trigger colorpicker-button-group",{"colorpicker-button-group-active":mn})},E.createElement(K,{className:"colorpicker-button-text",name:nt,title:vt,content:jn,disabled:It,onClick:function(Pn){return He(Zn,Pn)},placement:Mn}),E.createElement(K,{className:"colorpicker-button-dropdown toolbar-dropdown-trigger-arrow",name:nt,title:St,disabled:It,icon:E.createElement("span",{className:"colorpicker-button-dropdown-empty"}),content:E.createElement("span",{className:"data-icon data-icon-arrow"}),onClick:Fr,placement:Mn,ref:yi})),mn&&E.createElement("div",{ref:Vn,className:(0,q.Z)("toolbar-dropdown-list",oi?"toolbar-dropdown-placement-".concat(oi):""),"data-element":"ui"},E.createElement(on,{engine:oe,colors:Kt,defaultActiveColor:Zn,defaultColor:Lt,onSelect:He,setStroke:Yt})))},Mt=`.editor-toolbar-group {\r
    padding: 4px;\r
    width: auto;\r
    border-left: 1px solid #e8e8e8;\r
    display: flex;\r
    align-items: stretch;\r
}\r
\r
.editor-toolbar .editor-toolbar-group:nth-child(1) {\r
    border-left: none;\r
}`;lt(Mt);var _t=function(pe){var oe=pe.engine,me=pe.items,Pe=pe.icon,nt=pe.content,ht=pe.popup,vt=function(Kt){return me.map(function(Tt,Lt){switch(Tt.type){case"button":return E.createElement(K,(0,v.Z)((0,v.Z)({engine:oe,key:Tt.name},Tt),{},{placement:Kt}));case"dropdown":return E.createElement(it,(0,v.Z)((0,v.Z)({engine:oe,key:Tt.name},Tt),{},{placement:Kt}));case"color":return E.createElement(Ft,(0,v.Z)((0,v.Z)({engine:oe,key:Tt.name},Tt),{},{placement:Kt}));case"collapse":return E.createElement(Ie,(0,v.Z)({engine:oe,key:Lt},Tt))}})},St=function(){return!!Pe||!!nt?E.createElement(ne.Z,{getPopupContainer:function(){return document.querySelector(".data-toolbar-popup-wrapper")||document.querySelector(".editor-toolbar")||document.body},overlayClassName:"editor-toolbar-popover",content:E.createElement("div",{className:(0,q.Z)("editor-toolbar",{"editor-toolbar-mobile":p.tq&&!ht,"editor-toolbar-popup":ht}),"data-element":"ui"},vt("top")),arrowPointAtCenter:!0,placement:p.tq?"topRight":void 0},E.createElement(K,{name:"group-popover",icon:Pe,content:nt})):vt()};return E.createElement("div",{className:"editor-toolbar-group"},St())},Jt={toolbar:{collapse:{title:"Type <code>".concat(p.MX?"\u2318":"Ctrl","</code> + <code>/</code> to quickly insert a card")},undo:{title:"Undo"},redo:{title:"Redo"},paintformat:{title:"Format brush"},removeformat:{title:"Clear format"},heading:{title:"Text and title",p:"Text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},fontfamily:{title:"Font family",notInstalled:"The font may not be installed",items:{default:"Default",arial:"Arial",comicSansMS:"Comic Sans MS",courierNew:"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact",timesNewRoman:"Times New Roman",trebuchetMS:"Trebuchet MS",verdana:"Verdana",fangSong:"FangSong",stFangsong:"STFangsong",stSong:"STSong",stKaiti:"STKaiti",simSun:"SimSum",microsoftYaHei:"Microsoft YaHei",kaiTi:"KaiTi",kaitiSC:"KaiTi SC",simHei:"SimHei",heitiSC:"Heiti SC",fzHei:"FZHeiTi",fzKai:"FZKaiTi",fzFangSong:"FZFangSong"}},fontsize:{title:"Font size"},fontcolor:{title:"Font color",more:"More colors"},backcolor:{title:"Background color",more:"More colors"},bold:{title:"Bold"},italic:{title:"Italic"},strikethrough:{title:"Strikethrough"},underline:{title:"Underline"},moremark:{title:"More text styles",sup:"Sup",sub:"Sub",code:"Inline code"},alignment:{title:"Alignment",left:"Align left",center:"Align center",right:"Align right",justify:"Align justify"},unorderedlist:{title:"Unordered list"},orderedlist:{title:"Ordered list"},tasklist:{title:"Task list"},indent:{title:"Ident",in:"Increase indent",out:"Reduce indent"},"line-height":{title:"Line height",default:"Default"},link:{title:"Insert Link"},quote:{title:"Insert reference"},hr:{title:"Insert dividing line"},colorPicker:{defaultText:"Default Color",nonFillText:"No fill color","#000000":"Black","#262626":"Dark Gray 3","#595959":"Dark Gray 2","#8C8C8C":"Dark Gray 1","#BFBFBF":"Gray","#D9D9D9":"Light Gray 4","#E9E9E9":"Light Gray 3","#F5F5F5":"Light Gray 2","#FAFAFA":"Light Gray 1","#FFFFFF":"White","#F5222D":"Red","#FA541C":"Chinese Red","#FA8C16":"Orange","#FADB14":"Yellow","#52C41A":"Green","#13C2C2":"Cyan","#1890FF":"Light Blue","#2F54EB":"Blue","#722ED1":"Purple","#EB2F96":"Magenta","#FFE8E6":"Red 1","#FFECE0":"Chinese Red 1","#FFEFD1":"Orange 1","#FCFCCA":"Yellow 1","#E4F7D2":"Green 1","#D3F5F0":"Cyan 1","#D4EEFC":"Light Blue 1","#DEE8FC":"Blue 1","#EFE1FA":"Purple 1","#FAE1EB":"Magenta 1","#FFA39E":"Red 2","#FFBB96":"Chinese Red 2","#FFD591":"Orange 2","#FFFB8F":"Yellow 2","#B7EB8F":"Green 2","#87E8DE":"Cyan 2","#91D5FF":"Light Blue 2","#ADC6FF":"Blue 2","#D3ADF7":"Purple 2","#FFADD2":"Magenta 2","#FF4D4F":"Red 3","#FF7A45":"Chinese Red 3","#FFA940":"Orange 3","#FFEC3D":"Yellow 3","#73D13D":"Green 3","#36CFC9":"Cyan 3","#40A9FF":"Light Blue 3","#597EF7":"Blue 3","#9254DE":"Purple 3","#F759AB":"Magenta 3","#CF1322":"Red 4","#D4380D":"Chinese Red 4","#D46B08":"Orange 4","#D4B106":"Yellow 4","#389E0D":"Green 4","#08979C":"Cyan 4","#096DD9":"Light Blue 4","#1D39C4":"Blue 4","#531DAB":"Purple 4","#C41D7F":"Magenta 4","#820014":"Red 5","#871400":"Chinese Red 5","#873800":"Orange 5","#614700":"Yellow 5","#135200":"Green 5","#00474F":"Cyan 5","#003A8C":"Light Blue 5","#061178":"Blue 5","#22075E":"Purple 5","#780650":"Magenta 5"},component:{placeholder:"Card name"},image:{title:"Image"},codeblock:{title:"Codeblock"},table:{title:"Table"},file:{title:"File"},video:{title:"Video"},math:{title:"Formula"},status:{title:"Status"},mind:{title:"Mind Map"},commonlyUsed:{title:"Commonly used"},searchEmtpy:{title:"No matching card"},lightblock:{title:"Lightblock"},mulitCodeblock:{title:"Mulit Codeblock"},tag:{title:"Tag"}}},Me={toolbar:{collapse:{title:"\u8F93\u5165  <code>".concat(p.MX?"\u2318":"Ctrl","</code> + <code>/</code>  \u5FEB\u901F\u63D2\u5165\u5361\u7247")},undo:{title:"\u64A4\u9500"},redo:{title:"\u91CD\u505A"},paintformat:{title:"\u683C\u5F0F\u5237"},removeformat:{title:"\u6E05\u9664\u683C\u5F0F"},heading:{title:"\u6B63\u6587\u4E0E\u6807\u9898",p:"\u6B63\u6587",h1:"\u6807\u9898 1",h2:"\u6807\u9898 2",h3:"\u6807\u9898 3",h4:"\u6807\u9898 4",h5:"\u6807\u9898 5",h6:"\u6807\u9898 6"},fontfamily:{title:"\u5B57\u4F53",notInstalled:"\u53EF\u80FD\u672A\u5B89\u88C5\u8BE5\u5B57\u4F53",items:{default:"\u9ED8\u8BA4",arial:"Arial",comicSansMS:"Comic Sans MS",courierNew:"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact",timesNewRoman:"Times New Roman",trebuchetMS:"Trebuchet MS",verdana:"Verdana",fangSong:"\u4EFF\u5B8B",stFangsong:"\u534E\u6587\u4EFF\u5B8B",stSong:"\u534E\u6587\u5B8B\u4F53",stKaiti:"\u534E\u6587\u6977\u4F53",simSun:"\u5B8B\u4F53",microsoftYaHei:"\u5FAE\u8F6F\u96C5\u9ED1",kaiTi:"\u6977\u4F53",kaitiSC:"\u6977\u4F53-\u7B80",simHei:"\u9ED1\u4F53",heitiSC:"\u9ED1\u4F53-\u7B80",fzHei:"\u65B9\u6B63\u9ED1\u4F53",fzKai:"\u65B9\u6B63\u6977\u4F53",fzFangSong:"\u65B9\u6B63\u4EFF\u5B8B"}},fontsize:{title:"\u5B57\u53F7"},fontcolor:{title:"\u5B57\u4F53\u989C\u8272",more:"\u66F4\u591A\u989C\u8272"},backcolor:{title:"\u80CC\u666F\u989C\u8272",more:"\u66F4\u591A\u989C\u8272"},bold:{title:"\u7C97\u4F53"},italic:{title:"\u659C\u4F53"},strikethrough:{title:"\u5220\u9664\u7EBF"},underline:{title:"\u4E0B\u5212\u7EBF"},moremark:{title:"\u66F4\u591A\u6587\u672C\u6837\u5F0F",sup:"\u4E0A\u6807",sub:"\u4E0B\u6807",code:"\u884C\u5185\u4EE3\u7801"},alignment:{title:"\u5BF9\u9F50\u65B9\u5F0F",left:"\u5DE6\u5BF9\u9F50",center:"\u5C45\u4E2D\u5BF9\u9F50",right:"\u53F3\u5BF9\u9F50",justify:"\u4E24\u7AEF\u5BF9\u9F50"},unorderedlist:{title:"\u65E0\u5E8F\u5217\u8868"},orderedlist:{title:"\u6709\u5E8F\u5217\u8868"},tasklist:{title:"\u4EFB\u52A1\u5217\u8868"},indent:{title:"\u7F29\u8FDB",in:"\u589E\u52A0\u7F29\u8FDB",out:"\u51CF\u5C11\u7F29\u8FDB"},"line-height":{title:"\u884C\u9AD8",default:"\u9ED8\u8BA4"},link:{title:"\u94FE\u63A5"},quote:{title:"\u63D2\u5165\u5F15\u7528"},hr:{title:"\u63D2\u5165\u5206\u5272\u7EBF"},colorPicker:{defaultText:"\u9ED8\u8BA4",nonFillText:"\u65E0\u586B\u5145\u8272","#000000":"\u9ED1\u8272","#262626":"\u6DF1\u7070 3","#595959":"\u6DF1\u7070 2","#8C8C8C":"\u6DF1\u7070 1","#BFBFBF":"\u7070\u8272","#D9D9D9":"\u6D45\u7070 4","#E9E9E9":"\u6D45\u7070 3","#F5F5F5":"\u6D45\u7070 2","#FAFAFA":"\u6D45\u7070 1","#FFFFFF":"\u767D\u8272","#F5222D":"\u7EA2\u8272","#FA541C":"\u6731\u7EA2","#FA8C16":"\u6A59\u8272","#FADB14":"\u9EC4\u8272","#52C41A":"\u7EFF\u8272","#13C2C2":"\u9752\u8272","#1890FF":"\u6D45\u84DD","#2F54EB":"\u84DD\u8272","#722ED1":"\u7D2B\u8272","#EB2F96":"\u73AB\u7EA2","#FFE8E6":"\u7EA2\u8272 1","#FFECE0":"\u6731\u7EA2 1","#FFEFD1":"\u6A59\u8272 1","#FCFCCA":"\u9EC4\u8272 1","#E4F7D2":"\u7EFF\u8272 1","#D3F5F0":"\u9752\u8272 1","#D4EEFC":"\u6D45\u84DD 1","#DEE8FC":"\u84DD\u8272 1","#EFE1FA":"\u7D2B\u8272 1","#FAE1EB":"\u73AB\u7EA2 1","#FFA39E":"\u7EA2\u8272 2","#FFBB96":"\u6731\u7EA2 2","#FFD591":"\u6A59\u8272 2","#FFFB8F":"\u9EC4\u8272 2","#B7EB8F":"\u7EFF\u8272 2","#87E8DE":"\u9752\u8272 2","#91D5FF":"\u6D45\u84DD 2","#ADC6FF":"\u84DD\u8272 2","#D3ADF7":"\u7D2B\u8272 2","#FFADD2":"\u73AB\u7EA2 2","#FF4D4F":"\u7EA2\u8272 3","#FF7A45":"\u6731\u7EA2 3","#FFA940":"\u6A59\u8272 3","#FFEC3D":"\u9EC4\u8272 3","#73D13D":"\u7EFF\u8272 3","#36CFC9":"\u9752\u8272 3","#40A9FF":"\u6D45\u84DD 3","#597EF7":"\u84DD\u8272 3","#9254DE":"\u7D2B\u8272 3","#F759AB":"\u73AB\u7EA2 3","#CF1322":"\u7EA2\u8272 4","#D4380D":"\u6731\u7EA2 4","#D46B08":"\u6A59\u8272 4","#D4B106":"\u9EC4\u8272 4","#389E0D":"\u7EFF\u8272 4","#08979C":"\u9752\u8272 4","#096DD9":"\u6D45\u84DD 4","#1D39C4":"\u84DD\u8272 4","#531DAB":"\u7D2B\u8272 4","#C41D7F":"\u73AB\u7EA2 4","#820014":"\u7EA2\u8272 5","#871400":"\u6731\u7EA2 5","#873800":"\u6A59\u8272 5","#614700":"\u9EC4\u8272 5","#135200":"\u7EFF\u8272 5","#00474F":"\u9752\u8272 5","#003A8C":"\u6D45\u84DD 5","#061178":"\u84DD\u8272 5","#22075E":"\u7D2B\u8272 5","#780650":"\u73AB\u7EA2 5"},component:{placeholder:"\u5361\u7247\u540D\u79F0"},image:{title:"\u56FE\u7247"},codeblock:{title:"\u4EE3\u7801\u5757"},table:{title:"\u8868\u683C"},file:{title:"\u9644\u4EF6"},video:{title:"\u89C6\u9891"},math:{title:"\u516C\u5F0F"},status:{title:"\u72B6\u6001"},mind:{title:"\u8111\u56FE"},commonlyUsed:{title:"\u5E38\u7528"},searchEmtpy:{title:"\u65E0\u5339\u914D\u5361\u7247"},lightblock:{title:"\u9AD8\u4EAE\u5757"},mulitCodeblock:{title:"\u591A\u529F\u80FD\u4EE3\u7801\u5757"},tag:{title:"\u6807\u7B7E"}}},yn={"en-US":Jt,"zh-CN":Me},Wt=`.ant-tooltip .toolbar-tooltip-title {\r
    font-size: 12px;\r
    text-align: center;\r
}\r
\r
.ant-tooltip .toolbar-tooltip-hotkey {\r
    font-size: 12px;\r
    color: rgba(255, 255, 255, 0.85);\r
    text-align: center;\r
}\r
\r
.editor-toolbar {\r
    position: relative;\r
    width: 100%;\r
    padding:0;\r
    z-index: 200;\r
    border-top:1px solid rgba(0,0,0,.05);\r
    border-bottom: 1px solid rgba(0,0,0,.05);\r
    -webkit-user-select: none;\r
       -moz-user-select: none;\r
            user-select: none;\r
}\r
\r
.editor-toolbar .editor-toolbar-content {\r
    position: relative;\r
    flex-direction: row;\r
    background: transparent;\r
    text-align: center;\r
    width: 100%;\r
    display: flex;\r
    justify-content: center;\r
    flex-wrap: wrap;\r
}\r
\r
.editor-toolbar.editor-toolbar-mobile,.editor-toolbar.editor-toolbar-popover {\r
    position: absolute;\r
    left: 0;\r
    box-shadow: none;\r
}\r
\r
.editor-toolbar.editor-toolbar-popup {\r
    position: initial;\r
    box-shadow: none;\r
    top: 0;\r
    left: 0;\r
    border: 0 none;\r
}\r
\r
.editor-toolbar-mobile .editor-toolbar-content {\r
    text-align: left;\r
    padding: 0 12px;\r
}\r
\r
.editor-toolbar-mobile .editor-toolbar-group,.editor-toolbar-popup .editor-toolbar-group {\r
    border: 0 none;\r
    padding: 0;\r
}\r
\r
.editor-toolbar-popup .editor-toolbar-content {\r
    text-align: center;\r
    padding: 0;\r
}\r
\r
.editor-toolbar-popover .editor-toolbar {\r
    position: relative;\r
    box-shadow: none;\r
    border: 0 none;\r
    left: 0;\r
    top: 0;\r
    display: flex;\r
}\r
\r
.editor-toolbar-popover {\r
    border-radius: 3px;\r
    background: transparent;\r
}\r
\r
.editor-toolbar-popover .ant-popover-inner {\r
    border-radius: 3px;\r
}\r
\r
.editor-toolbar-popover .ant-popover-inner-content {\r
    padding: 2px;\r
}\r
\r
.am-engine-mobile {\r
  margin-bottom: 40px;\r
}`;lt(Wt);var xn=function(pe){var oe=pe.engine,me=pe.className,Pe=pe.popup,nt=pe.items,ht=nt===void 0?[]:nt,vt=(0,E.useState)([]),St=(0,Y.Z)(vt,2),It=St[0],Kt=St[1],Tt=(0,E.useRef)(null),Lt=(0,E.useRef)(null),Gt=(0,E.useState)({top:0}),Yt=(0,Y.Z)(Gt,2),Mn=Yt[0],Dn=Yt[1],wn=(0,E.useRef)(null),mn=function(){!oe.isFocus()||oe.readonly||(wn.current&&clearTimeout(wn.current),wn.current=setTimeout(function(){var tr=Tt.current,cr=tr.getBoundingClientRect(),ar=(0,p.ZQ)(getComputedStyle(tr).borderTopWidth),Zn=(0,p.ZQ)(getComputedStyle(tr).borderBottomWidth),Un=cr.height||0;Dn({top:Math.max(document.body.scrollTop,document.documentElement.scrollTop)+(window.visualViewport.height||0)-Un+ar+Zn})},20))},On=(0,E.useCallback)(function(){p.tq&&mn();var jn=[],tr=J(oe);ht.forEach(function(cr){var ar={items:[]};Array.isArray(cr)||(ar.icon=cr.icon,ar.content=cr.content,cr=cr.items),cr.forEach(function(Zn){var Un=void 0;if(typeof Zn=="string"){var yi=tr.find(function(Vn){return Zn==="collapse"?Vn.type===Zn:Vn.type!=="collapse"&&Vn.name===Zn});yi&&(Un=yi)}else{var gi=tr.find(function(Vn){return Zn.type==="collapse"?Vn.type===Zn.type:Vn.type!=="collapse"&&Vn.name===Zn.name});if(Zn.type==="collapse"){var Xr=(0,v.Z)((0,v.Z)({},we()(dt()((0,v.Z)({},gi),"groups"),dt()((0,v.Z)({},Zn),"groups"))),{},{groups:[]});Zn.groups.forEach(function(Vn){var ci=[];Vn.items.forEach(function(mi){var oi=void 0;gi.groups.some(function(Ar){return Ar.items.some(function(Fr){var lr=Fr.name===(typeof mi=="string"?mi:mi.name);return lr&&(oi=(0,v.Z)((0,v.Z)({},Fr),typeof mi=="string"?{}:mi)),lr})}),oi?ci.push(oi):(0,d.Z)(mi)==="object"&&ci.push(mi)}),ci.length>0&&Xr.groups.push((0,v.Z)((0,v.Z)({},dt()(Vn,"itmes")),{},{items:ci}))}),Un=Xr.groups.length>0?Xr:void 0}else Zn.type==="dropdown"?(Un=gi?we()(gi,dt()((0,v.Z)({},Zn),"type","items")):(0,v.Z)({},Zn),Un.items=Zn.items):Un=gi?we()(gi,dt()((0,v.Z)({},Zn),"type")):(0,v.Z)({},Zn)}Un&&(Un.type==="button"?Un.onActive?Un.active=Un.onActive():oe.command.queryEnabled(Un.name)&&(Un.active=oe.command.queryState(Un.name)):Un.type==="dropdown"&&(Un.onActive?Un.values=Un.onActive(Un.items):Un.values=oe.command.queryState(Un.name)),Un.type!=="collapse"?Un.disabled=Un.onDisabled?Un.onDisabled():!oe.command.queryEnabled(Un.name):Un.groups.forEach(function(Vn){return Vn.items.forEach(function(ci){ci.disabled=ci.onDisabled?ci.onDisabled():!oe.command.queryEnabled(ci.name)})}),ar.items.push(Un))}),ar.items.length>0&&jn.push(ar)}),Kt(jn)},[oe,ht]);(0,E.useMemo)(function(){On()},[oe,ht]);var Rn=function(){Lt.current&&clearTimeout(Lt.current),Lt.current=setTimeout(function(){On()},100)};(0,E.useEffect)(function(){oe.language.add(yn),oe.on("select",Rn),oe.on("change",Rn),oe.on("blur",Rn),oe.on("focus",Rn),oe.on("historyChange",Rn);var jn,tr=function(){Dn({top:-120}),clearTimeout(jn),jn=setTimeout(function(){mn()},200)},cr=function(){oe.readonly?tr():mn()};return p.tq?(oe.on("readonly",cr),oe.on("blur",tr),oe.isFocus()||tr(),document.addEventListener("scroll",mn),visualViewport.addEventListener("resize",mn),visualViewport.addEventListener("scroll",mn)):oe.on("readonly",Rn),function(){oe.off("select",Rn),oe.off("change",Rn),oe.off("blur",Rn),oe.off("focus",Rn),oe.off("historyChange",Rn),p.tq?(oe.off("readonly",cr),oe.off("blur",tr),document.removeEventListener("scroll",mn),visualViewport.removeEventListener("resize",mn),visualViewport.removeEventListener("scroll",mn)):oe.off("readonly",Rn)}},[oe]);var Kn=function(tr){var cr=tr.target.nodeName;cr!=="INPUT"&&cr!=="TEXTAREA"&&tr.preventDefault()};return E.createElement("div",{ref:Tt,className:(0,q.Z)("editor-toolbar",me,{"editor-toolbar-mobile":p.tq&&!Pe,"editor-toolbar-popup":Pe}),style:p.tq?{top:"".concat(Mn.top,"px")}:{},"data-element":"ui",onMouseDown:Kn,onMouseOver:function(tr){return tr.preventDefault()},onMouseMove:function(tr){return tr.preventDefault()},onContextMenu:function(tr){return tr.preventDefault()}},E.createElement("div",{className:"editor-toolbar-content"},It.map(function(jn,tr){return E.createElement(_t,(0,v.Z)({key:tr,engine:oe,popup:Pe},jn))})))},Nn=(0,z.Z)("editor"),Cr=(0,z.Z)("root"),jr=(0,z.Z)("point"),ii=(0,z.Z)("align"),xi=(0,z.Z)("options"),$i=function(){function Ee(pe){var oe=this,me,Pe,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,O.Z)(this,Ee),Object.defineProperty(this,Nn,{writable:!0,value:void 0}),Object.defineProperty(this,Cr,{writable:!0,value:void 0}),Object.defineProperty(this,jr,{writable:!0,value:{left:0,top:-9999}}),Object.defineProperty(this,ii,{writable:!0,value:"bottom"}),Object.defineProperty(this,xi,{writable:!0,value:{}}),this.onSelect=function(){var ht;if((0,g.Z)(oe,Cr)[Cr].length!==0){var vt=(ht=p.e6.from((0,g.Z)(oe,Nn)[Nn]))===null||ht===void 0?void 0:ht.cloneRange().shrinkToTextNode(),St=window.getSelection();if(!vt||!St||!St.focusNode||vt.collapsed||(0,g.Z)(oe,Nn)[Nn].card.getSingleSelectedCard(vt)||!vt.commonAncestorNode.inEditor((0,g.Z)(oe,Nn)[Nn].container)&&!vt.commonAncestorNode.isRoot((0,g.Z)(oe,Nn)[Nn].container)){oe.hide();return}var It=vt.startNode.next();if((It==null?void 0:It.isElement())&&Math.abs(vt.endOffset-vt.startOffset)===1){var Kt=(0,g.Z)(oe,Nn)[Nn].card.closest(It);if(Kt){oe.hide();return}}var Tt=vt.startNode.prev();if((Tt==null?void 0:Tt.isElement())&&Math.abs(vt.startOffset-vt.endOffset)===1){var Lt=(0,g.Z)(oe,Nn)[Nn].card.closest(Tt);if(Lt){oe.hide();return}}var Gt=vt.getSubRanges(!0),Yt=(0,g.Z)(oe,Nn)[Nn].card.active;if(Gt.length===0||Yt&&!Yt.isEditable){oe.hide();return}var Mn=Gt[0],Dn=Gt[Gt.length-1],wn=Mn.cloneRange().collapse(!0).getBoundingClientRect(),mn=Dn.cloneRange().collapse(!1).getBoundingClientRect(),On=void 0;oe.showContent(function(){var Rn,Kn,jn;if(On=(Rn=(0,g.Z)(oe,Cr)[Cr].get())===null||Rn===void 0?void 0:Rn.getBoundingClientRect(),!On){oe.hide();return}(0,g.Z)(oe,ii)[ii]=Dn.startNode.equal(St.focusNode)&&(!Mn.startNode.equal(St.focusNode)||St.focusOffset>St.anchorOffset)?"bottom":"top";var tr=12,cr=(0,g.Z)(oe,ii)[ii]==="bottom"?mn:wn;(0,g.Z)(oe,ii)[ii]==="top"&&cr.top-On.height-tr<window.innerHeight-(((Kn=(0,g.Z)(oe,Nn)[Nn].scrollNode)===null||Kn===void 0?void 0:Kn.height())||0)?(0,g.Z)(oe,ii)[ii]="bottom":(0,g.Z)(oe,ii)[ii]==="bottom"&&cr.bottom+On.height+tr>window.innerHeight&&((0,g.Z)(oe,ii)[ii]="top"),cr=(0,g.Z)(oe,ii)[ii]==="bottom"?mn:wn;var ar=(jn=(0,g.Z)(oe,Nn)[Nn].scrollNode)===null||jn===void 0?void 0:jn.get(),Zn=ar==null?void 0:ar.getBoundingClientRect(),Un=(0,g.Z)(oe,ii)[ii]==="top"?cr.top-On.height-tr-((Zn==null?void 0:Zn.top)||0)+((ar==null?void 0:ar.scrollTop)||0):cr.bottom+tr-((Zn==null?void 0:Zn.top)||0)+((ar==null?void 0:ar.scrollTop)||0),yi=cr.left-((Zn==null?void 0:Zn.left)||0)+((ar==null?void 0:ar.scrollLeft)||0)+cr.width-On.width/2;yi<0&&(yi=16),(0,g.Z)(oe,jr)[jr]={left:yi,top:Un},(0,g.Z)(oe,Cr)[Cr].css({left:"".concat((0,g.Z)(oe,jr)[jr].left,"px"),top:"".concat((0,g.Z)(oe,jr)[jr].top,"px")})})}},this.hide=function(ht){if(ht!=null&&ht.target){var vt=(0,p.$)(ht.target);if(vt.closest(".data-toolbar-popup-wrapper").length>0||vt.closest(p.m6).length>0)return}(0,g.Z)(oe,Cr)[Cr].css({left:"0px",top:"-9999px"})},(0,g.Z)(this,xi)[xi]=nt,(0,g.Z)(this,Nn)[Nn]=pe,(0,g.Z)(this,Cr)[Cr]=(0,p.$)('<div class="data-toolbar-popup-wrapper"></div>'),(((me=(0,g.Z)(this,Nn)[Nn].scrollNode)===null||me===void 0?void 0:me.get())||document.body).appendChild((0,g.Z)(this,Cr)[Cr][0]),(0,p.iC)(pe)?(0,g.Z)(this,Nn)[Nn].on("selectEnd",this.onSelect):document.addEventListener("selectionchange",this.onSelect),p.tq||window.addEventListener("scroll",this.onSelect),window.addEventListener("resize",this.onSelect),(Pe=(0,g.Z)(this,Nn)[Nn].scrollNode)===null||Pe===void 0||Pe.on("scroll",this.onSelect),document.addEventListener("mousedown",this.hide)}return(0,U.Z)(Ee,[{key:"showContent",value:function(oe){var me=(0,g.Z)(this,Nn)[Nn].trigger("toolbar-render",(0,g.Z)(this,xi)[xi]);if(!me&&((0,g.Z)(this,xi)[xi].items||[]).length===0){this.hide();return}j.render((0,d.Z)(me)==="object"?me:E.createElement(xn,{popup:!0,engine:(0,g.Z)(this,Nn)[Nn],items:(0,g.Z)(this,xi)[xi].items||[]}),(0,g.Z)(this,Cr)[Cr].get(),function(){oe&&oe()})}},{key:"destroy",value:function(){var oe;(0,g.Z)(this,Cr)[Cr].remove(),(0,p.iC)((0,g.Z)(this,Nn)[Nn])?(0,g.Z)(this,Nn)[Nn].off("select",this.onSelect):document.removeEventListener("selectionchange",this.onSelect),p.tq||window.removeEventListener("scroll",this.onSelect),window.removeEventListener("resize",this.onSelect),(oe=(0,g.Z)(this,Nn)[Nn].scrollNode)===null||oe===void 0||oe.off("scroll",this.onSelect),document.removeEventListener("mousedown",this.hide)}}]),Ee}(),_i=`.data-toolbar-component-list {\r
    position: absolute;\r
    min-height: 0px;\r
    top: 10px;\r
    left: 0;\r
}\r
\r
.data-toolbar-component-list  .toolbar-dropdown-list {\r
    top:0px;\r
    position: relative;\r
}\r
\r
.data-toolbar-component-placeholder {\r
    color: rgba(0,0,0,0.25);\r
    pointer-events: none;\r
    width: 76px;\r
}\r
\r
.data-toolbar-component-list-empty {\r
    position: relative;\r
    font-size: 14px;\r
    background: #ffffff;\r
    border: 1px solid #e8e8e8;\r
    border-radius: 3px 3px;\r
    box-shadow: 0 2px 10px rgb(0 0 0 / 12%);\r
    padding: 5px 16px;\r
    line-height: 32px;\r
    min-width: 200px;\r
    height: auto;\r
    transition: all 0.25s cubic-bezier(0.3, 1.2, 0.2, 1);\r
    z-index: 999;\r
    max-height: calc(80vh);\r
    overflow: auto;\r
}\r
/** ------------------- popup ---------------------- **/\r
.data-toolbar-popup-wrapper {\r
    position: absolute;\r
    z-index: 9999;\r
    padding: 4px;\r
    background-color: #fff;\r
    border-radius: 4px;\r
    border: 1px solid #dee0e3;\r
    box-shadow: 0 4px 8px 0 rgba(31, 35, 41, 0.1);\r
}\r
\r
.data-toolbar-popup-wrapper .editor-toolbar-popover {\r
    width: -webkit-max-content;\r
    width: -moz-max-content;\r
    width: max-content;\r
}\r
\r
.data-toolbar-popup-wrapper .editor-toolbar-popover .ant-popover-inner-content {\r
    padding: 4px;\r
    background-color: #fff;\r
    border-radius: 4px;\r
    border: 1px solid #dee0e3;\r
}\r
\r
.data-toolbar-popup-wrapper .editor-toolbar-popover .ant-popover-arrow {\r
    display: none;\r
}`;lt(_i);var Vr=(0,z.Z)("collapseData"),Kr=(0,z.Z)("data"),Tr=function(Ee){(0,x.Z)(oe,Ee);var pe=(0,m.Z)(oe);function oe(){var me;(0,O.Z)(this,oe);for(var Pe=arguments.length,nt=new Array(Pe),ht=0;ht<Pe;ht++)nt[ht]=arguments[ht];return me=pe.call.apply(pe,[this].concat(nt)),me.keyword=void 0,me.placeholder=void 0,me.component=void 0,Object.defineProperty((0,D.Z)(me),Vr,{writable:!0,value:void 0}),Object.defineProperty((0,D.Z)(me),Kr,{writable:!0,value:void 0}),me}return(0,U.Z)(oe,[{key:"init",value:function(){var Pe=this,nt=this.editor;!(0,p.iC)(nt)||p.sk||(this.component=new Ye(nt,{onCancel:function(){Pe.changeToText()},onSelect:function(){Pe.remove()}}))}},{key:"setData",value:function(Pe){(0,g.Z)(this,Kr)[Kr]=Pe}},{key:"getData",value:function(){var Pe=this.editor;if(!(0,p.iC)(Pe))return[];var nt=[],ht=J(Pe),vt=ht.find(function(Tt){var Lt=Tt.type;return Lt==="collapse"}),St=[];vt&&(St=vt.groups);var It=[];St.forEach(function(Tt){It.push.apply(It,(0,M.Z)(Tt.items))});var Kt=this.getValue();return((0,g.Z)(this,Kr)[Kr]||(Kt?Kt.data:[])||[]).forEach(function(Tt){var Lt=Tt.title,Gt=[];Tt.items.forEach(function(Yt){var Mn=Yt;typeof Yt!="string"&&(Mn=Yt.name);var Dn=It.find(function(wn){return wn.name===Mn});Dn?Gt.push((0,v.Z)((0,v.Z)((0,v.Z)({},Dn),typeof Yt!="string"?Yt:{}),{},{disabled:Dn.onDisabled?Dn.onDisabled():!Pe.command.queryEnabled(Mn)})):(0,d.Z)(Yt)==="object"&&Gt.push(Yt)}),nt.push({title:Lt,items:Gt})}),nt}},{key:"search",value:function(Pe){var nt=[];typeof Pe=="string"&&(Pe=Pe.toLowerCase()),(0,g.Z)(this,Vr)[Vr]||((0,g.Z)(this,Vr)[Vr]=[]),(0,g.Z)(this,Vr)[Vr].forEach(function(vt){vt.items.forEach(function(St){St.search&&St.search.toLowerCase().indexOf(Pe)>=0&&(nt.find(function(It){var Kt=It.name;return Kt===St.name})||nt.push((0,v.Z)({},St)))})});var ht=[];return nt.length>0&&ht.push({title:"",items:nt}),ht}},{key:"remove",value:function(){var Pe,nt=this.editor;!(0,p.iC)(nt)||((Pe=this.component)===null||Pe===void 0||Pe.remove(),nt.card.remove(this.id))}},{key:"changeToText",value:function(){var Pe,nt,ht=this.editor;if(!(!this.root.inEditor()||!(0,p.iC)(ht))){var vt=((Pe=this.keyword)===null||Pe===void 0||(nt=Pe.get())===null||nt===void 0?void 0:nt.innerText)||"";this.remove(),ht.node.insertText(vt)}}},{key:"destroy",value:function(){var Pe,nt;(Pe=this.component)===null||Pe===void 0||Pe.unbindEvents(),(nt=this.component)===null||nt===void 0||nt.remove()}},{key:"activate",value:function(Pe){if((0,T.Z)((0,S.Z)(oe.prototype),"activate",this).call(this,Pe),!Pe){var nt;(nt=this.component)===null||nt===void 0||nt.unbindEvents(),this.changeToText()}}},{key:"handleInput",value:function(){var Pe,nt,ht,vt=this.editor;if(!!(0,p.iC)(vt)){var St=vt.change,It=vt.card;if(!St.isComposing()){var Kt=((Pe=this.keyword)===null||Pe===void 0||(nt=Pe.get())===null||nt===void 0?void 0:nt.innerText.replace(/[\r\n]/g,""))||"";if(Kt===""){var Tt;(Tt=this.component)===null||Tt===void 0||Tt.remove(),It.remove(this.id);return}var Lt=Kt.substr(1);if(Lt===""){var Gt;(Gt=this.component)===null||Gt===void 0||Gt.render(vt.root,this.root,(0,g.Z)(this,Vr)[Vr]||[]);return}var Yt=this.search(Lt);(ht=this.component)===null||ht===void 0||ht.render(vt.root,this.root,Yt)}}}},{key:"resetPlaceHolder",value:function(){var Pe,nt,ht,vt;((Pe=this.keyword)===null||Pe===void 0||(nt=Pe.get())===null||nt===void 0?void 0:nt.innerText)==="/"?(ht=this.placeholder)===null||ht===void 0||ht.show():(vt=this.placeholder)===null||vt===void 0||vt.hide()}},{key:"render",value:function(Pe){var nt,ht,vt=this,St;(0,g.Z)(this,Kr)[Kr]=Pe;var It=this.editor;if(!(!(0,p.iC)(It)||p.sk)){var Kt=It.language.get("toolbar","component");this.root.attributes("data-transient","true"),this.root.attributes(p.xT,"false");var Tt=(0,p.$)('<span class="data-toolbar-component-keyword" '.concat(p.xT,'="true">/</span><span class="data-toolbar-component-placeholder">').concat(Kt.placeholder,"</span>")),Lt=this.getCenter();Lt.empty().append(Tt),this.keyword=Lt.find(".data-toolbar-component-keyword"),this.placeholder=Lt.find(".data-toolbar-component-placeholder"),(nt=this.keyword)===null||nt===void 0||nt.on("keydown",function(Yt){(0,p.P6)("enter",Yt)&&Yt.preventDefault()});var Gt=Date.now();(ht=this.keyword)===null||ht===void 0||ht.on("input",function(){if(vt.resetPlaceHolder(),Date.now()-Gt<200){var Yt,Mn,Dn=(Yt=vt.keyword)===null||Yt===void 0?void 0:Yt.first();if(Dn&&Dn.isText()&&Dn[0].nodeValue==="/\u3001"||(Dn==null||(Mn=Dn.get())===null||Mn===void 0?void 0:Mn.nodeValue)==="//"){var wn,mn=(wn=Dn.get())===null||wn===void 0?void 0:wn.splitText(1);mn==null||mn.remove()}}setTimeout(function(){vt.handleInput()},10)}),(0,g.Z)(this,Vr)[Vr]||((0,g.Z)(this,Vr)[Vr]=this.getData()),(St=this.component)===null||St===void 0||St.render(It.root,this.root,(0,g.Z)(this,Vr)[Vr])}}}],[{key:"cardName",get:function(){return"toolbar"}},{key:"cardType",get:function(){return p.eT.INLINE}},{key:"singleSelectable",get:function(){return!1}},{key:"autoSelected",get:function(){return!1}}]),oe}(p.Zb),qt=function(pe){return[{title:pe.language.get("toolbar","commonlyUsed","title"),items:["image-uploader","codeblock","table","file-uploader","video-uploader","math","status","tag","lightblock","mulit_codeblock"]}]},Zt=function(Ee){(0,x.Z)(oe,Ee);var pe=(0,m.Z)(oe);function oe(){var me;(0,O.Z)(this,oe);for(var Pe=arguments.length,nt=new Array(Pe),ht=0;ht<Pe;ht++)nt[ht]=arguments[ht];return me=pe.call.apply(pe,[this].concat(nt)),me.popup=void 0,me.paserValue=function(vt){return!(vt.isCard()&&vt.attributes("name")===Tr.cardName)},me.onSlash=function(vt){var St=me.editor;if(!!(0,p.iC)(St)){var It=St.change,Kt=It.range.get(),Tt=St.block.closest(Kt.startNode),Lt=Tt.text().trim();if(Lt==="/"&&p.G6&&Tt.empty(),Lt===""||Lt==="/"&&p.G6||vt.ctrlKey||vt.metaKey){if(me.options.config===!1)return;if(Kt=It.range.get(),Kt.collapsed){vt.preventDefault();var Gt=me.options.config||qt(St),Yt=St.card.insert(Tr.cardName,{},Gt);Yt.setData(Gt),Yt.root.attributes(p.Cj,"true"),St.card.activate(Yt.root),Kt=It.range.get();var Mn=Yt.find(".data-toolbar-component-keyword");Kt.select(Mn,!0),Kt.collapse(!1),It.range.select(Kt)}}}},me}return(0,U.Z)(oe,[{key:"init",value:function(){var Pe=this.editor;(0,p.iC)(Pe)&&(Pe.on("keydown:slash",this.onSlash),Pe.on("parse:value",this.paserValue)),Pe.language.add(yn),this.options.popup&&(this.popup=new $i(Pe,{items:this.options.popup.items}))}},{key:"execute",value:function(){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){var Pe;(Pe=this.popup)===null||Pe===void 0||Pe.destroy();var nt=this.editor;nt.off("keydown:slash",this.onSlash),nt.off("parse:value",this.paserValue)}}],[{key:"pluginName",get:function(){return"toolbar"}}]),oe}(p.Sy);Ce.ZP=xn},85804:function(ut,Ce){"use strict";var f;f={value:!0},Ce.N=void 0;var O=/^([^\w]*)(javascript|data|vbscript)/im,U=/&#(\w+)(^\w|;)?/g,x=/&(newline|tab);/gi,m=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,p=/^.+(:|&colon;)/gim,d=[".","/"];function v(T){return d.indexOf(T[0])>-1}function M(T){return T.replace(U,function(S,g){return String.fromCharCode(g)})}function D(T){var S=M(T||"").replace(x,"").replace(m,"").trim();if(!S)return"about:blank";if(v(S))return S;var g=S.match(p);if(!g)return S;var z=g[0];return O.test(z)?"about:blank":S}Ce.N=D},4703:function(){"use strict"},64823:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return U}});var O={}.hasOwnProperty;function U(){for(var x=[],m=0;m<arguments.length;m++){var p=arguments[m];if(!!p){var d=typeof p;if(d==="string"||d==="number")x.push(p);else if(Array.isArray(p))x.push(U.apply(null,p));else if(d==="object")for(var v in p)O.call(p,v)&&p[v]&&x.push(v)}}return x.join(" ")}},99013:function(ut){(function(f,O){ut.exports=O()})(this,function(){return function(){var Ce={686:function(U,x,m){"use strict";m.d(x,{default:function(){return de}});var p=m(279),d=m.n(p),v=m(370),M=m.n(v),D=m(817),T=m.n(D);function S(ve){try{return document.execCommand(ve)}catch(J){return!1}}var g=function(J){var X=T()(J);return S("cut"),X},z=g;function E(ve){var J=document.documentElement.getAttribute("dir")==="rtl",X=document.createElement("textarea");X.style.fontSize="12pt",X.style.border="0",X.style.padding="0",X.style.margin="0",X.style.position="absolute",X.style[J?"right":"left"]="-9999px";var K=window.pageYOffset||document.documentElement.scrollTop;return X.style.top="".concat(K,"px"),X.setAttribute("readonly",""),X.value=ve,X}var Y=function(J,X){var K=E(J);X.container.appendChild(K);var ze=T()(K);return S("copy"),K.remove(),ze},q=function(J){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},K="";return typeof J=="string"?K=Y(J,X):J instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(J==null?void 0:J.type)?K=Y(J.value,X):(K=T()(J),S("copy")),K},j=q;function le(ve){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?le=function(X){return typeof X}:le=function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},le(ve)}var ce=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=J.action,K=X===void 0?"copy":X,ze=J.container,Ze=J.target,We=J.text;if(K!=="copy"&&K!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Ze!==void 0)if(Ze&&le(Ze)==="object"&&Ze.nodeType===1){if(K==="copy"&&Ze.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(K==="cut"&&(Ze.hasAttribute("readonly")||Ze.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(We)return j(We,{container:ze});if(Ze)return K==="cut"?z(Ze):j(Ze,{container:ze})},se=ce;function ne(ve){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ne=function(X){return typeof X}:ne=function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},ne(ve)}function De(ve,J){if(!(ve instanceof J))throw new TypeError("Cannot call a class as a function")}function we(ve,J){for(var X=0;X<J.length;X++){var K=J[X];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(ve,K.key,K)}}function je(ve,J,X){return J&&we(ve.prototype,J),X&&we(ve,X),ve}function dt(ve,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(J&&J.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),J&&Qe(ve,J)}function Qe(ve,J){return Qe=Object.setPrototypeOf||function(K,ze){return K.__proto__=ze,K},Qe(ve,J)}function lt(ve){var J=te();return function(){var K=fe(ve),ze;if(J){var Ze=fe(this).constructor;ze=Reflect.construct(K,arguments,Ze)}else ze=K.apply(this,arguments);return Te(this,ze)}}function Te(ve,J){return J&&(ne(J)==="object"||typeof J=="function")?J:Je(ve)}function Je(ve){if(ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}function te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ve){return!1}}function fe(ve){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)},fe(ve)}function ue(ve,J){var X="data-clipboard-".concat(ve);if(!!J.hasAttribute(X))return J.getAttribute(X)}var ae=function(ve){dt(X,ve);var J=lt(X);function X(K,ze){var Ze;return De(this,X),Ze=J.call(this),Ze.resolveOptions(ze),Ze.listenClick(K),Ze}return je(X,[{key:"resolveOptions",value:function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ze.action=="function"?ze.action:this.defaultAction,this.target=typeof ze.target=="function"?ze.target:this.defaultTarget,this.text=typeof ze.text=="function"?ze.text:this.defaultText,this.container=ne(ze.container)==="object"?ze.container:document.body}},{key:"listenClick",value:function(ze){var Ze=this;this.listener=M()(ze,"click",function(We){return Ze.onClick(We)})}},{key:"onClick",value:function(ze){var Ze=ze.delegateTarget||ze.currentTarget,We=this.action(Ze)||"copy",ye=se({action:We,container:this.container,target:this.target(Ze),text:this.text(Ze)});this.emit(ye?"success":"error",{action:We,text:ye,trigger:Ze,clearSelection:function(){Ze&&Ze.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ze){return ue("action",ze)}},{key:"defaultTarget",value:function(ze){var Ze=ue("target",ze);if(Ze)return document.querySelector(Ze)}},{key:"defaultText",value:function(ze){return ue("text",ze)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ze){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return j(ze,Ze)}},{key:"cut",value:function(ze){return z(ze)}},{key:"isSupported",value:function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Ze=typeof ze=="string"?[ze]:ze,We=!!document.queryCommandSupported;return Ze.forEach(function(ye){We=We&&!!document.queryCommandSupported(ye)}),We}}]),X}(d()),de=ae},828:function(U){var x=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var m=Element.prototype;m.matches=m.matchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector||m.webkitMatchesSelector}function p(d,v){for(;d&&d.nodeType!==x;){if(typeof d.matches=="function"&&d.matches(v))return d;d=d.parentNode}}U.exports=p},438:function(U,x,m){var p=m(828);function d(D,T,S,g,z){var E=M.apply(this,arguments);return D.addEventListener(S,E,z),{destroy:function(){D.removeEventListener(S,E,z)}}}function v(D,T,S,g,z){return typeof D.addEventListener=="function"?d.apply(null,arguments):typeof S=="function"?d.bind(null,document).apply(null,arguments):(typeof D=="string"&&(D=document.querySelectorAll(D)),Array.prototype.map.call(D,function(E){return d(E,T,S,g,z)}))}function M(D,T,S,g){return function(z){z.delegateTarget=p(z.target,T),z.delegateTarget&&g.call(D,z)}}U.exports=v},879:function(U,x){x.node=function(m){return m!==void 0&&m instanceof HTMLElement&&m.nodeType===1},x.nodeList=function(m){var p=Object.prototype.toString.call(m);return m!==void 0&&(p==="[object NodeList]"||p==="[object HTMLCollection]")&&"length"in m&&(m.length===0||x.node(m[0]))},x.string=function(m){return typeof m=="string"||m instanceof String},x.fn=function(m){var p=Object.prototype.toString.call(m);return p==="[object Function]"}},370:function(U,x,m){var p=m(879),d=m(438);function v(S,g,z){if(!S&&!g&&!z)throw new Error("Missing required arguments");if(!p.string(g))throw new TypeError("Second argument must be a String");if(!p.fn(z))throw new TypeError("Third argument must be a Function");if(p.node(S))return M(S,g,z);if(p.nodeList(S))return D(S,g,z);if(p.string(S))return T(S,g,z);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function M(S,g,z){return S.addEventListener(g,z),{destroy:function(){S.removeEventListener(g,z)}}}function D(S,g,z){return Array.prototype.forEach.call(S,function(E){E.addEventListener(g,z)}),{destroy:function(){Array.prototype.forEach.call(S,function(E){E.removeEventListener(g,z)})}}}function T(S,g,z){return d(document.body,S,g,z)}U.exports=v},817:function(U){function x(m){var p;if(m.nodeName==="SELECT")m.focus(),p=m.value;else if(m.nodeName==="INPUT"||m.nodeName==="TEXTAREA"){var d=m.hasAttribute("readonly");d||m.setAttribute("readonly",""),m.select(),m.setSelectionRange(0,m.value.length),d||m.removeAttribute("readonly"),p=m.value}else{m.hasAttribute("contenteditable")&&m.focus();var v=window.getSelection(),M=document.createRange();M.selectNodeContents(m),v.removeAllRanges(),v.addRange(M),p=v.toString()}return p}U.exports=x},279:function(U){function x(){}x.prototype={on:function(m,p,d){var v=this.e||(this.e={});return(v[m]||(v[m]=[])).push({fn:p,ctx:d}),this},once:function(m,p,d){var v=this;function M(){v.off(m,M),p.apply(d,arguments)}return M._=p,this.on(m,M,d)},emit:function(m){var p=[].slice.call(arguments,1),d=((this.e||(this.e={}))[m]||[]).slice(),v=0,M=d.length;for(v;v<M;v++)d[v].fn.apply(d[v].ctx,p);return this},off:function(m,p){var d=this.e||(this.e={}),v=d[m],M=[];if(v&&p)for(var D=0,T=v.length;D<T;D++)v[D].fn!==p&&v[D].fn._!==p&&M.push(v[D]);return M.length?d[m]=M:delete d[m],this}},U.exports=x,U.exports.TinyEmitter=x}},f={};function O(U){if(f[U])return f[U].exports;var x=f[U]={exports:{}};return Ce[U](x,x.exports,O),x.exports}return function(){O.n=function(U){var x=U&&U.__esModule?function(){return U.default}:function(){return U};return O.d(x,{a:x}),x}}(),function(){O.d=function(U,x){for(var m in x)O.o(x,m)&&!O.o(U,m)&&Object.defineProperty(U,m,{enumerable:!0,get:x[m]})}}(),function(){O.o=function(U,x){return Object.prototype.hasOwnProperty.call(U,x)}}(),O(686)}().default})},72186:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineSimpleMode=function(S,g){O.defineMode(S,function(z){return O.simpleMode(z,g)})},O.simpleMode=function(S,g){U(g,"start");var z={},E=g.meta||{},Y=!1;for(var q in g)if(q!=E&&g.hasOwnProperty(q))for(var j=z[q]=[],le=g[q],ce=0;ce<le.length;ce++){var se=le[ce];j.push(new p(se,g)),(se.indent||se.dedent)&&(Y=!0)}var ne={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:Y?[]:null}},copyState:function(we){var je={state:we.state,pending:we.pending,local:we.local,localState:null,indent:we.indent&&we.indent.slice(0)};we.localState&&(je.localState=O.copyState(we.local.mode,we.localState)),we.stack&&(je.stack=we.stack.slice(0));for(var dt=we.persistentStates;dt;dt=dt.next)je.persistentStates={mode:dt.mode,spec:dt.spec,state:dt.state==we.localState?je.localState:O.copyState(dt.mode,dt.state),next:je.persistentStates};return je},token:d(z,S),innerMode:function(we){return we.local&&{mode:we.local.mode,state:we.localState}},indent:T(z,E)};if(E)for(var De in E)E.hasOwnProperty(De)&&(ne[De]=E[De]);return ne};function U(S,g){if(!S.hasOwnProperty(g))throw new Error("Undefined state "+g+" in simple mode")}function x(S,g){if(!S)return/(?:)/;var z="";return S instanceof RegExp?(S.ignoreCase&&(z="i"),S.unicode&&(z+="u"),S=S.source):S=String(S),new RegExp((g===!1?"":"^")+"(?:"+S+")",z)}function m(S){if(!S)return null;if(S.apply)return S;if(typeof S=="string")return S.replace(/\./g," ");for(var g=[],z=0;z<S.length;z++)g.push(S[z]&&S[z].replace(/\./g," "));return g}function p(S,g){(S.next||S.push)&&U(g,S.next||S.push),this.regex=x(S.regex),this.token=m(S.token),this.data=S}function d(S,g){return function(z,E){if(E.pending){var Y=E.pending.shift();return E.pending.length==0&&(E.pending=null),z.pos+=Y.text.length,Y.token}if(E.local)if(E.local.end&&z.match(E.local.end)){var q=E.local.endToken||null;return E.local=E.localState=null,q}else{var q=E.local.mode.token(z,E.localState),j;return E.local.endScan&&(j=E.local.endScan.exec(z.current()))&&(z.pos=z.start+j.index),q}for(var le=S[E.state],ce=0;ce<le.length;ce++){var se=le[ce],ne=(!se.data.sol||z.sol())&&z.match(se.regex);if(ne){se.data.next?E.state=se.data.next:se.data.push?((E.stack||(E.stack=[])).push(E.state),E.state=se.data.push):se.data.pop&&E.stack&&E.stack.length&&(E.state=E.stack.pop()),se.data.mode&&M(g,E,se.data.mode,se.token),se.data.indent&&E.indent.push(z.indentation()+g.indentUnit),se.data.dedent&&E.indent.pop();var De=se.token;if(De&&De.apply&&(De=De(ne)),ne.length>2&&se.token&&typeof se.token!="string"){for(var we=2;we<ne.length;we++)ne[we]&&(E.pending||(E.pending=[])).push({text:ne[we],token:se.token[we-1]});return z.backUp(ne[0].length-(ne[1]?ne[1].length:0)),De[0]}else return De&&De.join?De[0]:De}}return z.next(),null}}function v(S,g){if(S===g)return!0;if(!S||typeof S!="object"||!g||typeof g!="object")return!1;var z=0;for(var E in S)if(S.hasOwnProperty(E)){if(!g.hasOwnProperty(E)||!v(S[E],g[E]))return!1;z++}for(var E in g)g.hasOwnProperty(E)&&z--;return z==0}function M(S,g,z,E){var Y;if(z.persistent)for(var q=g.persistentStates;q&&!Y;q=q.next)(z.spec?v(z.spec,q.spec):z.mode==q.mode)&&(Y=q);var j=Y?Y.mode:z.mode||O.getMode(S,z.spec),le=Y?Y.state:O.startState(j);z.persistent&&!Y&&(g.persistentStates={mode:j,spec:z.spec,state:le,next:g.persistentStates}),g.localState=le,g.local={mode:j,end:z.end&&x(z.end),endScan:z.end&&z.forceEnd!==!1&&x(z.end,!1),endToken:E&&E.join?E[E.length-1]:E}}function D(S,g){for(var z=0;z<g.length;z++)if(g[z]===S)return!0}function T(S,g){return function(z,E,Y){if(z.local&&z.local.mode.indent)return z.local.mode.indent(z.localState,E,Y);if(z.indent==null||z.local||g.dontIndentStates&&D(z.state,g.dontIndentStates)>-1)return O.Pass;var q=z.indent.length-1,j=S[z.state];e:for(;;){for(var le=0;le<j.length;le++){var ce=j[le];if(ce.data.dedent&&ce.data.dedentIfLineStart!==!1){var se=ce.regex.exec(E);if(se&&se[0]){q--,(ce.next||ce.push)&&(j=S[ce.next||ce.push]),E=E.slice(se[0].length);continue e}}}break}return q<0?0:z.indent[q]}}})},60530:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";function U(p,d,v){this.orientation=d,this.scroll=v,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=p+"-"+d,this.inner=this.node.appendChild(document.createElement("div"));var M=this;O.on(this.inner,"mousedown",function(T){if(T.which!=1)return;O.e_preventDefault(T);var S=M.orientation=="horizontal"?"pageX":"pageY",g=T[S],z=M.pos;function E(){O.off(document,"mousemove",Y),O.off(document,"mouseup",E)}function Y(q){if(q.which!=1)return E();M.moveTo(z+(q[S]-g)*(M.total/M.size))}O.on(document,"mousemove",Y),O.on(document,"mouseup",E)}),O.on(this.node,"click",function(T){O.e_preventDefault(T);var S=M.inner.getBoundingClientRect(),g;M.orientation=="horizontal"?g=T.clientX<S.left?-1:T.clientX>S.right?1:0:g=T.clientY<S.top?-1:T.clientY>S.bottom?1:0,M.moveTo(M.pos+g*M.screen)});function D(T){var S=O.wheelEventPixels(T)[M.orientation=="horizontal"?"x":"y"],g=M.pos;M.moveTo(M.pos+S),M.pos!=g&&O.e_preventDefault(T)}O.on(this.node,"mousewheel",D),O.on(this.node,"DOMMouseScroll",D)}U.prototype.setPos=function(p,d){return p<0&&(p=0),p>this.total-this.screen&&(p=this.total-this.screen),!d&&p==this.pos?!1:(this.pos=p,this.inner.style[this.orientation=="horizontal"?"left":"top"]=p*(this.size/this.total)+"px",!0)},U.prototype.moveTo=function(p){this.setPos(p)&&this.scroll(p,this.orientation)};var x=10;U.prototype.update=function(p,d,v){var M=this.screen!=d||this.total!=p||this.size!=v;M&&(this.screen=d,this.total=p,this.size=v);var D=this.screen*(this.size/this.total);D<x&&(this.size-=x-D,D=x),this.inner.style[this.orientation=="horizontal"?"width":"height"]=D+"px",this.setPos(this.pos,M)};function m(p,d,v){this.addClass=p,this.horiz=new U(p,"horizontal",v),d(this.horiz.node),this.vert=new U(p,"vertical",v),d(this.vert.node),this.width=null}m.prototype.update=function(p){if(this.width==null){var d=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;d&&(this.width=parseInt(d.height))}var v=this.width||0,M=p.scrollWidth>p.clientWidth+1,D=p.scrollHeight>p.clientHeight+1;return this.vert.node.style.display=D?"block":"none",this.horiz.node.style.display=M?"block":"none",D&&(this.vert.update(p.scrollHeight,p.clientHeight,p.viewHeight-(M?v:0)),this.vert.node.style.bottom=M?v+"px":"0"),M&&(this.horiz.update(p.scrollWidth,p.clientWidth,p.viewWidth-(D?v:0)-p.barLeft),this.horiz.node.style.right=D?v+"px":"0",this.horiz.node.style.left=p.barLeft+"px"),{right:D?v:0,bottom:M?v:0}},m.prototype.setScrollTop=function(p){this.vert.setPos(p)},m.prototype.setScrollLeft=function(p){this.horiz.setPos(p)},m.prototype.clear=function(){var p=this.horiz.node.parentNode;p.removeChild(this.horiz.node),p.removeChild(this.vert.node)},O.scrollbarModel.simple=function(p,d){return new m("CodeMirror-simplescroll",p,d)},O.scrollbarModel.overlay=function(p,d){return new m("CodeMirror-overlayscroll",p,d)}})},13187:function(ut){(function(Ce,f){ut.exports=f()})(this,function(){"use strict";var Ce=navigator.userAgent,f=navigator.platform,O=/gecko\/\d/i.test(Ce),U=/MSIE \d/.test(Ce),x=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ce),m=/Edge\/(\d+)/.exec(Ce),p=U||x||m,d=p&&(U?document.documentMode||6:+(m||x)[1]),v=!m&&/WebKit\//.test(Ce),M=v&&/Qt\/\d+\.\d+/.test(Ce),D=!m&&/Chrome\/(\d+)/.exec(Ce),T=D&&+D[1],S=/Opera\//.test(Ce),g=/Apple Computer/.test(navigator.vendor),z=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ce),E=/PhantomJS/.test(Ce),Y=g&&(/Mobile\/\w+/.test(Ce)||navigator.maxTouchPoints>2),q=/Android/.test(Ce),j=Y||q||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ce),le=Y||/Mac/.test(f),ce=/\bCrOS\b/.test(Ce),se=/win/i.test(f),ne=S&&Ce.match(/Version\/(\d*\.\d*)/);ne&&(ne=Number(ne[1])),ne&&ne>=15&&(S=!1,v=!0);var De=le&&(M||S&&(ne==null||ne<12.11)),we=O||p&&d>=9;function je(r){return new RegExp("(^|\\s)"+r+"(?:$|\\s)\\s*")}var dt=function(r,o){var C=r.className,k=je(o).exec(C);if(k){var N=C.slice(k.index+k[0].length);r.className=C.slice(0,k.index)+(N?k[1]+N:"")}};function Qe(r){for(var o=r.childNodes.length;o>0;--o)r.removeChild(r.firstChild);return r}function lt(r,o){return Qe(r).appendChild(o)}function Te(r,o,C,k){var N=document.createElement(r);if(C&&(N.className=C),k&&(N.style.cssText=k),typeof o=="string")N.appendChild(document.createTextNode(o));else if(o)for(var ie=0;ie<o.length;++ie)N.appendChild(o[ie]);return N}function Je(r,o,C,k){var N=Te(r,o,C,k);return N.setAttribute("role","presentation"),N}var te;document.createRange?te=function(r,o,C,k){var N=document.createRange();return N.setEnd(k||r,C),N.setStart(r,o),N}:te=function(r,o,C){var k=document.body.createTextRange();try{k.moveToElementText(r.parentNode)}catch(N){return k}return k.collapse(!0),k.moveEnd("character",C),k.moveStart("character",o),k};function fe(r,o){if(o.nodeType==3&&(o=o.parentNode),r.contains)return r.contains(o);do if(o.nodeType==11&&(o=o.host),o==r)return!0;while(o=o.parentNode)}function ue(r){var o;try{o=r.activeElement}catch(C){o=r.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function ae(r,o){var C=r.className;je(o).test(C)||(r.className+=(C?" ":"")+o)}function de(r,o){for(var C=r.split(" "),k=0;k<C.length;k++)C[k]&&!je(C[k]).test(o)&&(o+=" "+C[k]);return o}var ve=function(r){r.select()};Y?ve=function(r){r.selectionStart=0,r.selectionEnd=r.value.length}:p&&(ve=function(r){try{r.select()}catch(o){}});function J(r){return r.display.wrapper.ownerDocument}function X(r){return J(r).defaultView}function K(r){var o=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,o)}}function ze(r,o,C){o||(o={});for(var k in r)r.hasOwnProperty(k)&&(C!==!1||!o.hasOwnProperty(k))&&(o[k]=r[k]);return o}function Ze(r,o,C,k,N){o==null&&(o=r.search(/[^\s\u00a0]/),o==-1&&(o=r.length));for(var ie=k||0,Se=N||0;;){var Ne=r.indexOf("	",ie);if(Ne<0||Ne>=o)return Se+(o-ie);Se+=Ne-ie,Se+=C-Se%C,ie=Ne+1}}var We=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};We.prototype.onTimeout=function(r){r.id=0,r.time<=+new Date?r.f():setTimeout(r.handler,r.time-+new Date)},We.prototype.set=function(r,o){this.f=o;var C=+new Date+r;(!this.id||C<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,r),this.time=C)};function ye(r,o){for(var C=0;C<r.length;++C)if(r[C]==o)return C;return-1}var Ie=50,Ue={toString:function(){return"CodeMirror.Pass"}},Ye={scroll:!1},Ae={origin:"*mouse"},tt={origin:"+move"};function it(r,o,C){for(var k=0,N=0;;){var ie=r.indexOf("	",k);ie==-1&&(ie=r.length);var Se=ie-k;if(ie==r.length||N+Se>=o)return k+Math.min(Se,o-N);if(N+=ie-k,N+=C-N%C,k=ie+1,N>=o)return k}}var Ve=[""];function et(r){for(;Ve.length<=r;)Ve.push(wt(Ve)+" ");return Ve[r]}function wt(r){return r[r.length-1]}function jt(r,o){for(var C=[],k=0;k<r.length;k++)C[k]=o(r[k],k);return C}function on(r,o,C){for(var k=0,N=C(o);k<r.length&&C(r[k])<=N;)k++;r.splice(k,0,o)}function bn(){}function Ft(r,o){var C;return Object.create?C=Object.create(r):(bn.prototype=r,C=new bn),o&&ze(o,C),C}var Mt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function _t(r){return/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||Mt.test(r))}function Jt(r,o){return o?o.source.indexOf("\\w")>-1&&_t(r)?!0:o.test(r):_t(r)}function Me(r){for(var o in r)if(r.hasOwnProperty(o)&&r[o])return!1;return!0}var yn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Wt(r){return r.charCodeAt(0)>=768&&yn.test(r)}function xn(r,o,C){for(;(C<0?o>0:o<r.length)&&Wt(r.charAt(o));)o+=C;return o}function Nn(r,o,C){for(var k=o>C?-1:1;;){if(o==C)return o;var N=(o+C)/2,ie=k<0?Math.ceil(N):Math.floor(N);if(ie==o)return r(ie)?o:C;r(ie)?C=ie:o=ie+k}}function Cr(r,o,C,k){if(!r)return k(o,C,"ltr",0);for(var N=!1,ie=0;ie<r.length;++ie){var Se=r[ie];(Se.from<C&&Se.to>o||o==C&&Se.to==o)&&(k(Math.max(Se.from,o),Math.min(Se.to,C),Se.level==1?"rtl":"ltr",ie),N=!0)}N||k(o,C,"ltr")}var jr=null;function ii(r,o,C){var k;jr=null;for(var N=0;N<r.length;++N){var ie=r[N];if(ie.from<o&&ie.to>o)return N;ie.to==o&&(ie.from!=ie.to&&C=="before"?k=N:jr=N),ie.from==o&&(ie.from!=ie.to&&C!="before"?k=N:jr=N)}return k!=null?k:jr}var xi=function(){var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",o="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function C(xt){return xt<=247?r.charAt(xt):1424<=xt&&xt<=1524?"R":1536<=xt&&xt<=1785?o.charAt(xt-1536):1774<=xt&&xt<=2220?"r":8192<=xt&&xt<=8203?"w":xt==8204?"b":"L"}var k=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,N=/[stwN]/,ie=/[LRr]/,Se=/[Lb1n]/,Ne=/[1n]/;function st(xt,ln,An){this.level=xt,this.from=ln,this.to=An}return function(xt,ln){var An=ln=="ltr"?"L":"R";if(xt.length==0||ln=="ltr"&&!k.test(xt))return!1;for(var dr=xt.length,qn=[],Wr=0;Wr<dr;++Wr)qn.push(C(xt.charCodeAt(Wr)));for(var ri=0,wi=An;ri<dr;++ri){var ji=qn[ri];ji=="m"?qn[ri]=wi:wi=ji}for(var ia=0,Qi=An;ia<dr;++ia){var Vi=qn[ia];Vi=="1"&&Qi=="r"?qn[ia]="n":ie.test(Vi)&&(Qi=Vi,Vi=="r"&&(qn[ia]="R"))}for(var Wa=1,Ia=qn[0];Wa<dr-1;++Wa){var ha=qn[Wa];ha=="+"&&Ia=="1"&&qn[Wa+1]=="1"?qn[Wa]="1":ha==","&&Ia==qn[Wa+1]&&(Ia=="1"||Ia=="n")&&(qn[Wa]=Ia),Ia=ha}for(var Es=0;Es<dr;++Es){var dl=qn[Es];if(dl==",")qn[Es]="N";else if(dl=="%"){var Ts=void 0;for(Ts=Es+1;Ts<dr&&qn[Ts]=="%";++Ts);for(var Yc=Es&&qn[Es-1]=="!"||Ts<dr&&qn[Ts]=="1"?"1":"N",Gl=Es;Gl<Ts;++Gl)qn[Gl]=Yc;Es=Ts-1}}for(var Ao=0,sc=An;Ao<dr;++Ao){var ql=qn[Ao];sc=="L"&&ql=="1"?qn[Ao]="L":ie.test(ql)&&(sc=ql)}for(var $s=0;$s<dr;++$s)if(N.test(qn[$s])){var Hs=void 0;for(Hs=$s+1;Hs<dr&&N.test(qn[Hs]);++Hs);for(var fl=($s?qn[$s-1]:An)=="L",$l=(Hs<dr?qn[Hs]:An)=="L",Bd=fl==$l?fl?"L":"R":An,ku=$s;ku<Hs;++ku)qn[ku]=Bd;$s=Hs-1}for(var Fl=[],sd,Ll=0;Ll<dr;)if(Se.test(qn[Ll])){var Mh=Ll;for(++Ll;Ll<dr&&Se.test(qn[Ll]);++Ll);Fl.push(new st(0,Mh,Ll))}else{var Fd=Ll,Mf=Fl.length,Df=ln=="rtl"?1:0;for(++Ll;Ll<dr&&qn[Ll]!="L";++Ll);for(var yc=Fd;yc<Ll;)if(Ne.test(qn[yc])){Fd<yc&&(Fl.splice(Mf,0,new st(1,Fd,yc)),Mf+=Df);var sf=yc;for(++yc;yc<Ll&&Ne.test(qn[yc]);++yc);Fl.splice(Mf,0,new st(2,sf,yc)),Mf+=Df,Fd=yc}else++yc;Fd<Ll&&Fl.splice(Mf,0,new st(1,Fd,Ll))}return ln=="ltr"&&(Fl[0].level==1&&(sd=xt.match(/^\s+/))&&(Fl[0].from=sd[0].length,Fl.unshift(new st(0,0,sd[0].length))),wt(Fl).level==1&&(sd=xt.match(/\s+$/))&&(wt(Fl).to-=sd[0].length,Fl.push(new st(0,dr-sd[0].length,dr)))),ln=="rtl"?Fl.reverse():Fl}}();function $i(r,o){var C=r.order;return C==null&&(C=r.order=xi(r.text,o)),C}var _i=[],Vr=function(r,o,C){if(r.addEventListener)r.addEventListener(o,C,!1);else if(r.attachEvent)r.attachEvent("on"+o,C);else{var k=r._handlers||(r._handlers={});k[o]=(k[o]||_i).concat(C)}};function Kr(r,o){return r._handlers&&r._handlers[o]||_i}function Tr(r,o,C){if(r.removeEventListener)r.removeEventListener(o,C,!1);else if(r.detachEvent)r.detachEvent("on"+o,C);else{var k=r._handlers,N=k&&k[o];if(N){var ie=ye(N,C);ie>-1&&(k[o]=N.slice(0,ie).concat(N.slice(ie+1)))}}}function qt(r,o){var C=Kr(r,o);if(!!C.length)for(var k=Array.prototype.slice.call(arguments,2),N=0;N<C.length;++N)C[N].apply(null,k)}function Zt(r,o,C){return typeof o=="string"&&(o={type:o,preventDefault:function(){this.defaultPrevented=!0}}),qt(r,C||o.type,r,o),nt(o)||o.codemirrorIgnore}function Ee(r){var o=r._handlers&&r._handlers.cursorActivity;if(!!o)for(var C=r.curOp.cursorActivityHandlers||(r.curOp.cursorActivityHandlers=[]),k=0;k<o.length;++k)ye(C,o[k])==-1&&C.push(o[k])}function pe(r,o){return Kr(r,o).length>0}function oe(r){r.prototype.on=function(o,C){Vr(this,o,C)},r.prototype.off=function(o,C){Tr(this,o,C)}}function me(r){r.preventDefault?r.preventDefault():r.returnValue=!1}function Pe(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0}function nt(r){return r.defaultPrevented!=null?r.defaultPrevented:r.returnValue==!1}function ht(r){me(r),Pe(r)}function vt(r){return r.target||r.srcElement}function St(r){var o=r.which;return o==null&&(r.button&1?o=1:r.button&2?o=3:r.button&4&&(o=2)),le&&r.ctrlKey&&o==1&&(o=3),o}var It=function(){if(p&&d<9)return!1;var r=Te("div");return"draggable"in r||"dragDrop"in r}(),Kt;function Tt(r){if(Kt==null){var o=Te("span","\u200B");lt(r,Te("span",[o,document.createTextNode("x")])),r.firstChild.offsetHeight!=0&&(Kt=o.offsetWidth<=1&&o.offsetHeight>2&&!(p&&d<8))}var C=Kt?Te("span","\u200B"):Te("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return C.setAttribute("cm-text",""),C}var Lt;function Gt(r){if(Lt!=null)return Lt;var o=lt(r,document.createTextNode("A\u062EA")),C=te(o,0,1).getBoundingClientRect(),k=te(o,1,2).getBoundingClientRect();return Qe(r),!C||C.left==C.right?!1:Lt=k.right-C.right<3}var Yt=`

b`.split(/\n/).length!=3?function(r){for(var o=0,C=[],k=r.length;o<=k;){var N=r.indexOf(`
`,o);N==-1&&(N=r.length);var ie=r.slice(o,r.charAt(N-1)=="\r"?N-1:N),Se=ie.indexOf("\r");Se!=-1?(C.push(ie.slice(0,Se)),o+=Se+1):(C.push(ie),o=N+1)}return C}:function(r){return r.split(/\r\n?|\n/)},Mn=window.getSelection?function(r){try{return r.selectionStart!=r.selectionEnd}catch(o){return!1}}:function(r){var o;try{o=r.ownerDocument.selection.createRange()}catch(C){}return!o||o.parentElement()!=r?!1:o.compareEndPoints("StartToEnd",o)!=0},Dn=function(){var r=Te("div");return"oncopy"in r?!0:(r.setAttribute("oncopy","return;"),typeof r.oncopy=="function")}(),wn=null;function mn(r){if(wn!=null)return wn;var o=lt(r,Te("span","x")),C=o.getBoundingClientRect(),k=te(o,0,1).getBoundingClientRect();return wn=Math.abs(C.left-k.left)>1}var On={},Rn={};function Kn(r,o){arguments.length>2&&(o.dependencies=Array.prototype.slice.call(arguments,2)),On[r]=o}function jn(r,o){Rn[r]=o}function tr(r){if(typeof r=="string"&&Rn.hasOwnProperty(r))r=Rn[r];else if(r&&typeof r.name=="string"&&Rn.hasOwnProperty(r.name)){var o=Rn[r.name];typeof o=="string"&&(o={name:o}),r=Ft(o,r),r.name=o.name}else{if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(r))return tr("application/xml");if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(r))return tr("application/json")}return typeof r=="string"?{name:r}:r||{name:"null"}}function cr(r,o){o=tr(o);var C=On[o.name];if(!C)return cr(r,"text/plain");var k=C(r,o);if(ar.hasOwnProperty(o.name)){var N=ar[o.name];for(var ie in N)!N.hasOwnProperty(ie)||(k.hasOwnProperty(ie)&&(k["_"+ie]=k[ie]),k[ie]=N[ie])}if(k.name=o.name,o.helperType&&(k.helperType=o.helperType),o.modeProps)for(var Se in o.modeProps)k[Se]=o.modeProps[Se];return k}var ar={};function Zn(r,o){var C=ar.hasOwnProperty(r)?ar[r]:ar[r]={};ze(o,C)}function Un(r,o){if(o===!0)return o;if(r.copyState)return r.copyState(o);var C={};for(var k in o){var N=o[k];N instanceof Array&&(N=N.concat([])),C[k]=N}return C}function yi(r,o){for(var C;r.innerMode&&(C=r.innerMode(o),!(!C||C.mode==r));)o=C.state,r=C.mode;return C||{mode:r,state:o}}function gi(r,o,C){return r.startState?r.startState(o,C):!0}var Xr=function(r,o,C){this.pos=this.start=0,this.string=r,this.tabSize=o||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=C};Xr.prototype.eol=function(){return this.pos>=this.string.length},Xr.prototype.sol=function(){return this.pos==this.lineStart},Xr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xr.prototype.eat=function(r){var o=this.string.charAt(this.pos),C;if(typeof r=="string"?C=o==r:C=o&&(r.test?r.test(o):r(o)),C)return++this.pos,o},Xr.prototype.eatWhile=function(r){for(var o=this.pos;this.eat(r););return this.pos>o},Xr.prototype.eatSpace=function(){for(var r=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r},Xr.prototype.skipToEnd=function(){this.pos=this.string.length},Xr.prototype.skipTo=function(r){var o=this.string.indexOf(r,this.pos);if(o>-1)return this.pos=o,!0},Xr.prototype.backUp=function(r){this.pos-=r},Xr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ze(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ze(this.string,this.lineStart,this.tabSize):0)},Xr.prototype.indentation=function(){return Ze(this.string,null,this.tabSize)-(this.lineStart?Ze(this.string,this.lineStart,this.tabSize):0)},Xr.prototype.match=function(r,o,C){if(typeof r=="string"){var k=function(Se){return C?Se.toLowerCase():Se},N=this.string.substr(this.pos,r.length);if(k(N)==k(r))return o!==!1&&(this.pos+=r.length),!0}else{var ie=this.string.slice(this.pos).match(r);return ie&&ie.index>0?null:(ie&&o!==!1&&(this.pos+=ie[0].length),ie)}},Xr.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xr.prototype.hideFirstChars=function(r,o){this.lineStart+=r;try{return o()}finally{this.lineStart-=r}},Xr.prototype.lookAhead=function(r){var o=this.lineOracle;return o&&o.lookAhead(r)},Xr.prototype.baseToken=function(){var r=this.lineOracle;return r&&r.baseToken(this.pos)};function Vn(r,o){if(o-=r.first,o<0||o>=r.size)throw new Error("There is no line "+(o+r.first)+" in the document.");for(var C=r;!C.lines;)for(var k=0;;++k){var N=C.children[k],ie=N.chunkSize();if(o<ie){C=N;break}o-=ie}return C.lines[o]}function ci(r,o,C){var k=[],N=o.line;return r.iter(o.line,C.line+1,function(ie){var Se=ie.text;N==C.line&&(Se=Se.slice(0,C.ch)),N==o.line&&(Se=Se.slice(o.ch)),k.push(Se),++N}),k}function mi(r,o,C){var k=[];return r.iter(o,C,function(N){k.push(N.text)}),k}function oi(r,o){var C=o-r.height;if(C)for(var k=r;k;k=k.parent)k.height+=C}function Ar(r){if(r.parent==null)return null;for(var o=r.parent,C=ye(o.lines,r),k=o.parent;k;o=k,k=k.parent)for(var N=0;k.children[N]!=o;++N)C+=k.children[N].chunkSize();return C+o.first}function Fr(r,o){var C=r.first;e:do{for(var k=0;k<r.children.length;++k){var N=r.children[k],ie=N.height;if(o<ie){r=N;continue e}o-=ie,C+=N.chunkSize()}return C}while(!r.lines);for(var Se=0;Se<r.lines.length;++Se){var Ne=r.lines[Se],st=Ne.height;if(o<st)break;o-=st}return C+Se}function lr(r,o){return o>=r.first&&o<r.first+r.size}function Hr(r,o){return String(r.lineNumberFormatter(o+r.firstLineNumber))}function He(r,o,C){if(C===void 0&&(C=null),!(this instanceof He))return new He(r,o,C);this.line=r,this.ch=o,this.sticky=C}function kt(r,o){return r.line-o.line||r.ch-o.ch}function Pn(r,o){return r.sticky==o.sticky&&kt(r,o)==0}function En(r){return He(r.line,r.ch)}function Qn(r,o){return kt(r,o)<0?o:r}function Gn(r,o){return kt(r,o)<0?r:o}function Li(r,o){return Math.max(r.first,Math.min(o,r.first+r.size-1))}function Yr(r,o){if(o.line<r.first)return He(r.first,0);var C=r.first+r.size-1;return o.line>C?He(C,Vn(r,C).text.length):Bi(o,Vn(r,o.line).text.length)}function Bi(r,o){var C=r.ch;return C==null||C>o?He(r.line,o):C<0?He(r.line,0):r}function bi(r,o){for(var C=[],k=0;k<o.length;k++)C[k]=Yr(r,o[k]);return C}var Ma=function(r,o){this.state=r,this.lookAhead=o},Ya=function(r,o,C,k){this.state=o,this.doc=r,this.line=C,this.maxLookAhead=k||0,this.baseTokens=null,this.baseTokenPos=1};Ya.prototype.lookAhead=function(r){var o=this.doc.getLine(this.line+r);return o!=null&&r>this.maxLookAhead&&(this.maxLookAhead=r),o},Ya.prototype.baseToken=function(r){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=r;)this.baseTokenPos+=2;var o=this.baseTokens[this.baseTokenPos+1];return{type:o&&o.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-r}},Ya.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ya.fromSaved=function(r,o,C){return o instanceof Ma?new Ya(r,Un(r.mode,o.state),C,o.lookAhead):new Ya(r,Un(r.mode,o),C)},Ya.prototype.save=function(r){var o=r!==!1?Un(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ma(o,this.maxLookAhead):o};function Io(r,o,C,k){var N=[r.state.modeGen],ie={};vl(r,o.text,r.doc.mode,C,function(xt,ln){return N.push(xt,ln)},ie,k);for(var Se=C.state,Ne=function(xt){C.baseTokens=N;var ln=r.state.overlays[xt],An=1,dr=0;C.state=!0,vl(r,o.text,ln.mode,C,function(qn,Wr){for(var ri=An;dr<qn;){var wi=N[An];wi>qn&&N.splice(An,1,qn,N[An+1],wi),An+=2,dr=Math.min(qn,wi)}if(!!Wr)if(ln.opaque)N.splice(ri,An-ri,qn,"overlay "+Wr),An=ri+2;else for(;ri<An;ri+=2){var ji=N[ri+1];N[ri+1]=(ji?ji+" ":"")+"overlay "+Wr}},ie),C.state=Se,C.baseTokens=null,C.baseTokenPos=1},st=0;st<r.state.overlays.length;++st)Ne(st);return{styles:N,classes:ie.bgClass||ie.textClass?ie:null}}function eo(r,o,C){if(!o.styles||o.styles[0]!=r.state.modeGen){var k=Do(r,Ar(o)),N=o.text.length>r.options.maxHighlightLength&&Un(r.doc.mode,k.state),ie=Io(r,o,k);N&&(k.state=N),o.stateAfter=k.save(!N),o.styles=ie.styles,ie.classes?o.styleClasses=ie.classes:o.styleClasses&&(o.styleClasses=null),C===r.doc.highlightFrontier&&(r.doc.modeFrontier=Math.max(r.doc.modeFrontier,++r.doc.highlightFrontier))}return o.styles}function Do(r,o,C){var k=r.doc,N=r.display;if(!k.mode.startState)return new Ya(k,!0,o);var ie=dc(r,o,C),Se=ie>k.first&&Vn(k,ie-1).stateAfter,Ne=Se?Ya.fromSaved(k,Se,ie):new Ya(k,gi(k.mode),ie);return k.iter(ie,o,function(st){Ti(r,st.text,Ne);var xt=Ne.line;st.stateAfter=xt==o-1||xt%5==0||xt>=N.viewFrom&&xt<N.viewTo?Ne.save():null,Ne.nextLine()}),C&&(k.modeFrontier=Ne.line),Ne}function Ti(r,o,C,k){var N=r.doc.mode,ie=new Xr(o,r.options.tabSize,C);for(ie.start=ie.pos=k||0,o==""&&sa(N,C.state);!ie.eol();)Vs(N,ie,C.state),ie.start=ie.pos}function sa(r,o){if(r.blankLine)return r.blankLine(o);if(!!r.innerMode){var C=yi(r,o);if(C.mode.blankLine)return C.mode.blankLine(C.state)}}function Vs(r,o,C,k){for(var N=0;N<10;N++){k&&(k[0]=yi(r,C).mode);var ie=r.token(o,C);if(o.pos>o.start)return ie}throw new Error("Mode "+r.name+" failed to advance stream.")}var El=function(r,o,C){this.start=r.start,this.end=r.pos,this.string=r.current(),this.type=o||null,this.state=C};function Zl(r,o,C,k){var N=r.doc,ie=N.mode,Se;o=Yr(N,o);var Ne=Vn(N,o.line),st=Do(r,o.line,C),xt=new Xr(Ne.text,r.options.tabSize,st),ln;for(k&&(ln=[]);(k||xt.pos<o.ch)&&!xt.eol();)xt.start=xt.pos,Se=Vs(ie,xt,st.state),k&&ln.push(new El(xt,Se,Un(N.mode,st.state)));return k?ln:new El(xt,Se,st.state)}function bo(r,o){if(r)for(;;){var C=r.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!C)break;r=r.slice(0,C.index)+r.slice(C.index+C[0].length);var k=C[1]?"bgClass":"textClass";o[k]==null?o[k]=C[2]:new RegExp("(?:^|\\s)"+C[2]+"(?:$|\\s)").test(o[k])||(o[k]+=" "+C[2])}return r}function vl(r,o,C,k,N,ie,Se){var Ne=C.flattenSpans;Ne==null&&(Ne=r.options.flattenSpans);var st=0,xt=null,ln=new Xr(o,r.options.tabSize,k),An,dr=r.options.addModeClass&&[null];for(o==""&&bo(sa(C,k.state),ie);!ln.eol();){if(ln.pos>r.options.maxHighlightLength?(Ne=!1,Se&&Ti(r,o,k,ln.pos),ln.pos=o.length,An=null):An=bo(Vs(C,ln,k.state,dr),ie),dr){var qn=dr[0].name;qn&&(An="m-"+(An?qn+" "+An:qn))}if(!Ne||xt!=An){for(;st<ln.start;)st=Math.min(ln.start,st+5e3),N(st,xt);xt=An}ln.start=ln.pos}for(;st<ln.pos;){var Wr=Math.min(ln.pos,st+5e3);N(Wr,xt),st=Wr}}function dc(r,o,C){for(var k,N,ie=r.doc,Se=C?-1:o-(r.doc.mode.innerMode?1e3:100),Ne=o;Ne>Se;--Ne){if(Ne<=ie.first)return ie.first;var st=Vn(ie,Ne-1),xt=st.stateAfter;if(xt&&(!C||Ne+(xt instanceof Ma?xt.lookAhead:0)<=ie.modeFrontier))return Ne;var ln=Ze(st.text,null,r.options.tabSize);(N==null||k>ln)&&(N=Ne-1,k=ln)}return N}function As(r,o){if(r.modeFrontier=Math.min(r.modeFrontier,o),!(r.highlightFrontier<o-10)){for(var C=r.first,k=o-1;k>C;k--){var N=Vn(r,k).stateAfter;if(N&&(!(N instanceof Ma)||k+N.lookAhead<o)){C=k+1;break}}r.highlightFrontier=Math.min(r.highlightFrontier,C)}}var Ol=!1,vs=!1;function Os(){Ol=!0}function Qs(){vs=!0}function Js(r,o,C){this.marker=r,this.from=o,this.to=C}function nn(r,o){if(r)for(var C=0;C<r.length;++C){var k=r[C];if(k.marker==o)return k}}function Ku(r,o){for(var C,k=0;k<r.length;++k)r[k]!=o&&(C||(C=[])).push(r[k]);return C}function al(r,o,C){var k=C&&window.WeakSet&&(C.markedSpans||(C.markedSpans=new WeakSet));k&&r.markedSpans&&k.has(r.markedSpans)?r.markedSpans.push(o):(r.markedSpans=r.markedSpans?r.markedSpans.concat([o]):[o],k&&k.add(r.markedSpans)),o.marker.attachLine(r)}function Lo(r,o,C){var k;if(r)for(var N=0;N<r.length;++N){var ie=r[N],Se=ie.marker,Ne=ie.from==null||(Se.inclusiveLeft?ie.from<=o:ie.from<o);if(Ne||ie.from==o&&Se.type=="bookmark"&&(!C||!ie.marker.insertLeft)){var st=ie.to==null||(Se.inclusiveRight?ie.to>=o:ie.to>o);(k||(k=[])).push(new Js(Se,ie.from,st?null:ie.to))}}return k}function zl(r,o,C){var k;if(r)for(var N=0;N<r.length;++N){var ie=r[N],Se=ie.marker,Ne=ie.to==null||(Se.inclusiveRight?ie.to>=o:ie.to>o);if(Ne||ie.from==o&&Se.type=="bookmark"&&(!C||ie.marker.insertLeft)){var st=ie.from==null||(Se.inclusiveLeft?ie.from<=o:ie.from<o);(k||(k=[])).push(new Js(Se,st?null:ie.from-o,ie.to==null?null:ie.to-o))}}return k}function Po(r,o){if(o.full)return null;var C=lr(r,o.from.line)&&Vn(r,o.from.line).markedSpans,k=lr(r,o.to.line)&&Vn(r,o.to.line).markedSpans;if(!C&&!k)return null;var N=o.from.ch,ie=o.to.ch,Se=kt(o.from,o.to)==0,Ne=Lo(C,N,Se),st=zl(k,ie,Se),xt=o.text.length==1,ln=wt(o.text).length+(xt?N:0);if(Ne)for(var An=0;An<Ne.length;++An){var dr=Ne[An];if(dr.to==null){var qn=nn(st,dr.marker);qn?xt&&(dr.to=qn.to==null?null:qn.to+ln):dr.to=N}}if(st)for(var Wr=0;Wr<st.length;++Wr){var ri=st[Wr];if(ri.to!=null&&(ri.to+=ln),ri.from==null){var wi=nn(Ne,ri.marker);wi||(ri.from=ln,xt&&(Ne||(Ne=[])).push(ri))}else ri.from+=ln,xt&&(Ne||(Ne=[])).push(ri)}Ne&&(Ne=Ec(Ne)),st&&st!=Ne&&(st=Ec(st));var ji=[Ne];if(!xt){var ia=o.text.length-2,Qi;if(ia>0&&Ne)for(var Vi=0;Vi<Ne.length;++Vi)Ne[Vi].to==null&&(Qi||(Qi=[])).push(new Js(Ne[Vi].marker,null,null));for(var Wa=0;Wa<ia;++Wa)ji.push(Qi);ji.push(st)}return ji}function Ec(r){for(var o=0;o<r.length;++o){var C=r[o];C.from!=null&&C.from==C.to&&C.marker.clearWhenEmpty!==!1&&r.splice(o--,1)}return r.length?r:null}function Ys(r,o,C){var k=null;if(r.iter(o.line,C.line+1,function(qn){if(qn.markedSpans)for(var Wr=0;Wr<qn.markedSpans.length;++Wr){var ri=qn.markedSpans[Wr].marker;ri.readOnly&&(!k||ye(k,ri)==-1)&&(k||(k=[])).push(ri)}}),!k)return null;for(var N=[{from:o,to:C}],ie=0;ie<k.length;++ie)for(var Se=k[ie],Ne=Se.find(0),st=0;st<N.length;++st){var xt=N[st];if(!(kt(xt.to,Ne.from)<0||kt(xt.from,Ne.to)>0)){var ln=[st,1],An=kt(xt.from,Ne.from),dr=kt(xt.to,Ne.to);(An<0||!Se.inclusiveLeft&&!An)&&ln.push({from:xt.from,to:Ne.from}),(dr>0||!Se.inclusiveRight&&!dr)&&ln.push({from:Ne.to,to:xt.to}),N.splice.apply(N,ln),st+=ln.length-3}}return N}function Rc(r){var o=r.markedSpans;if(!!o){for(var C=0;C<o.length;++C)o[C].marker.detachLine(r);r.markedSpans=null}}function Cu(r,o){if(!!o){for(var C=0;C<o.length;++C)o[C].marker.attachLine(r);r.markedSpans=o}}function Wl(r){return r.inclusiveLeft?-1:0}function ol(r){return r.inclusiveRight?1:0}function pu(r,o){var C=r.lines.length-o.lines.length;if(C!=0)return C;var k=r.find(),N=o.find(),ie=kt(k.from,N.from)||Wl(r)-Wl(o);if(ie)return-ie;var Se=kt(k.to,N.to)||ol(r)-ol(o);return Se||o.id-r.id}function Pc(r,o){var C=vs&&r.markedSpans,k;if(C)for(var N=void 0,ie=0;ie<C.length;++ie)N=C[ie],N.marker.collapsed&&(o?N.from:N.to)==null&&(!k||pu(k,N.marker)<0)&&(k=N.marker);return k}function Ul(r){return Pc(r,!0)}function Bc(r){return Pc(r,!1)}function Nl(r,o){var C=vs&&r.markedSpans,k;if(C)for(var N=0;N<C.length;++N){var ie=C[N];ie.marker.collapsed&&(ie.from==null||ie.from<o)&&(ie.to==null||ie.to>o)&&(!k||pu(k,ie.marker)<0)&&(k=ie.marker)}return k}function _a(r,o,C,k,N){var ie=Vn(r,o),Se=vs&&ie.markedSpans;if(Se)for(var Ne=0;Ne<Se.length;++Ne){var st=Se[Ne];if(!!st.marker.collapsed){var xt=st.marker.find(0),ln=kt(xt.from,C)||Wl(st.marker)-Wl(N),An=kt(xt.to,k)||ol(st.marker)-ol(N);if(!(ln>=0&&An<=0||ln<=0&&An>=0)&&(ln<=0&&(st.marker.inclusiveRight&&N.inclusiveLeft?kt(xt.to,C)>=0:kt(xt.to,C)>0)||ln>=0&&(st.marker.inclusiveRight&&N.inclusiveLeft?kt(xt.from,k)<=0:kt(xt.from,k)<0)))return!0}}}function Wn(r){for(var o;o=Ul(r);)r=o.find(-1,!0).line;return r}function Di(r){for(var o;o=Bc(r);)r=o.find(1,!0).line;return r}function Hi(r){for(var o,C;o=Bc(r);)r=o.find(1,!0).line,(C||(C=[])).push(r);return C}function Ca(r,o){var C=Vn(r,o),k=Wn(C);return C==k?o:Ar(k)}function Qr(r,o){if(o>r.lastLine())return o;var C=Vn(r,o),k;if(!yo(r,C))return o;for(;k=Bc(C);)C=k.find(1,!0).line;return Ar(C)+1}function yo(r,o){var C=vs&&o.markedSpans;if(C){for(var k=void 0,N=0;N<C.length;++N)if(k=C[N],!!k.marker.collapsed){if(k.from==null)return!0;if(!k.marker.widgetNode&&k.from==0&&k.marker.inclusiveLeft&&ko(r,o,k))return!0}}}function ko(r,o,C){if(C.to==null){var k=C.marker.find(1,!0);return ko(r,k.line,nn(k.line.markedSpans,C.marker))}if(C.marker.inclusiveRight&&C.to==o.text.length)return!0;for(var N=void 0,ie=0;ie<o.markedSpans.length;++ie)if(N=o.markedSpans[ie],N.marker.collapsed&&!N.marker.widgetNode&&N.from==C.to&&(N.to==null||N.to!=C.from)&&(N.marker.inclusiveLeft||C.marker.inclusiveRight)&&ko(r,o,N))return!0}function Da(r){r=Wn(r);for(var o=0,C=r.parent,k=0;k<C.lines.length;++k){var N=C.lines[k];if(N==r)break;o+=N.height}for(var ie=C.parent;ie;C=ie,ie=C.parent)for(var Se=0;Se<ie.children.length;++Se){var Ne=ie.children[Se];if(Ne==C)break;o+=Ne.height}return o}function Uo(r){if(r.height==0)return 0;for(var o=r.text.length,C,k=r;C=Ul(k);){var N=C.find(0,!0);k=N.from.line,o+=N.from.ch-N.to.ch}for(k=r;C=Bc(k);){var ie=C.find(0,!0);o-=k.text.length-ie.from.ch,k=ie.to.line,o+=k.text.length-ie.to.ch}return o}function Fs(r){var o=r.display,C=r.doc;o.maxLine=Vn(C,C.first),o.maxLineLength=Uo(o.maxLine),o.maxLineChanged=!0,C.iter(function(k){var N=Uo(k);N>o.maxLineLength&&(o.maxLineLength=N,o.maxLine=k)})}var gs=function(r,o,C){this.text=r,Cu(this,o),this.height=C?C(this):1};gs.prototype.lineNo=function(){return Ar(this)},oe(gs);function Cl(r,o,C,k){r.text=o,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),r.order!=null&&(r.order=null),Rc(r),Cu(r,C);var N=k?k(r):1;N!=r.height&&oi(r,N)}function Tu(r){r.parent=null,Rc(r)}var Su={},ec={};function Ns(r,o){if(!r||/^\s*$/.test(r))return null;var C=o.addModeClass?ec:Su;return C[r]||(C[r]=r.replace(/\S+/g,"cm-$&"))}function Ks(r,o){var C=Je("span",null,null,v?"padding-right: .1px":null),k={pre:Je("pre",[C],"CodeMirror-line"),content:C,col:0,pos:0,cm:r,trailingSpace:!1,splitSpaces:r.getOption("lineWrapping")};o.measure={};for(var N=0;N<=(o.rest?o.rest.length:0);N++){var ie=N?o.rest[N-1]:o.line,Se=void 0;k.pos=0,k.addToken=ns,Gt(r.display.measure)&&(Se=$i(ie,r.doc.direction))&&(k.addToken=zo(k.addToken,Se)),k.map=[];var Ne=o!=r.display.externalMeasured&&Ar(ie);Ms(ie,k,eo(r,ie,Ne)),ie.styleClasses&&(ie.styleClasses.bgClass&&(k.bgClass=de(ie.styleClasses.bgClass,k.bgClass||"")),ie.styleClasses.textClass&&(k.textClass=de(ie.styleClasses.textClass,k.textClass||""))),k.map.length==0&&k.map.push(0,0,k.content.appendChild(Tt(r.display.measure))),N==0?(o.measure.map=k.map,o.measure.cache={}):((o.measure.maps||(o.measure.maps=[])).push(k.map),(o.measure.caches||(o.measure.caches=[])).push({}))}if(v){var st=k.content.lastChild;(/\bcm-tab\b/.test(st.className)||st.querySelector&&st.querySelector(".cm-tab"))&&(k.content.className="cm-tab-wrap-hack")}return qt(r,"renderLine",r,o.line,k.pre),k.pre.className&&(k.textClass=de(k.pre.className,k.textClass||"")),k}function Zs(r){var o=Te("span","\u2022","cm-invalidchar");return o.title="\\u"+r.charCodeAt(0).toString(16),o.setAttribute("aria-label",o.title),o}function ns(r,o,C,k,N,ie,Se){if(!!o){var Ne=r.splitSpaces?gl(o,r.trailingSpace):o,st=r.cm.state.specialChars,xt=!1,ln;if(!st.test(o))r.col+=o.length,ln=document.createTextNode(Ne),r.map.push(r.pos,r.pos+o.length,ln),p&&d<9&&(xt=!0),r.pos+=o.length;else{ln=document.createDocumentFragment();for(var An=0;;){st.lastIndex=An;var dr=st.exec(o),qn=dr?dr.index-An:o.length-An;if(qn){var Wr=document.createTextNode(Ne.slice(An,An+qn));p&&d<9?ln.appendChild(Te("span",[Wr])):ln.appendChild(Wr),r.map.push(r.pos,r.pos+qn,Wr),r.col+=qn,r.pos+=qn}if(!dr)break;An+=qn+1;var ri=void 0;if(dr[0]=="	"){var wi=r.cm.options.tabSize,ji=wi-r.col%wi;ri=ln.appendChild(Te("span",et(ji),"cm-tab")),ri.setAttribute("role","presentation"),ri.setAttribute("cm-text","	"),r.col+=ji}else dr[0]=="\r"||dr[0]==`
`?(ri=ln.appendChild(Te("span",dr[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),ri.setAttribute("cm-text",dr[0]),r.col+=1):(ri=r.cm.options.specialCharPlaceholder(dr[0]),ri.setAttribute("cm-text",dr[0]),p&&d<9?ln.appendChild(Te("span",[ri])):ln.appendChild(ri),r.col+=1);r.map.push(r.pos,r.pos+1,ri),r.pos++}}if(r.trailingSpace=Ne.charCodeAt(o.length-1)==32,C||k||N||xt||ie||Se){var ia=C||"";k&&(ia+=k),N&&(ia+=N);var Qi=Te("span",[ln],ia,ie);if(Se)for(var Vi in Se)Se.hasOwnProperty(Vi)&&Vi!="style"&&Vi!="class"&&Qi.setAttribute(Vi,Se[Vi]);return r.content.appendChild(Qi)}r.content.appendChild(ln)}}function gl(r,o){if(r.length>1&&!/  /.test(r))return r;for(var C=o,k="",N=0;N<r.length;N++){var ie=r.charAt(N);ie==" "&&C&&(N==r.length-1||r.charCodeAt(N+1)==32)&&(ie="\xA0"),k+=ie,C=ie==" "}return k}function zo(r,o){return function(C,k,N,ie,Se,Ne,st){N=N?N+" cm-force-border":"cm-force-border";for(var xt=C.pos,ln=xt+k.length;;){for(var An=void 0,dr=0;dr<o.length&&(An=o[dr],!(An.to>xt&&An.from<=xt));dr++);if(An.to>=ln)return r(C,k,N,ie,Se,Ne,st);r(C,k.slice(0,An.to-xt),N,ie,null,Ne,st),ie=null,k=k.slice(An.to-xt),xt=An.to}}}function ml(r,o,C,k){var N=!k&&C.widgetNode;N&&r.map.push(r.pos,r.pos+o,N),!k&&r.cm.display.input.needsContentAttribute&&(N||(N=r.content.appendChild(document.createElement("span"))),N.setAttribute("cm-marker",C.id)),N&&(r.cm.display.input.setUneditable(N),r.content.appendChild(N)),r.pos+=o,r.trailingSpace=!1}function Ms(r,o,C){var k=r.markedSpans,N=r.text,ie=0;if(!k){for(var Se=1;Se<C.length;Se+=2)o.addToken(o,N.slice(ie,ie=C[Se]),Ns(C[Se+1],o.cm.options));return}for(var Ne=N.length,st=0,xt=1,ln="",An,dr,qn=0,Wr,ri,wi,ji,ia;;){if(qn==st){Wr=ri=wi=dr="",ia=null,ji=null,qn=1/0;for(var Qi=[],Vi=void 0,Wa=0;Wa<k.length;++Wa){var Ia=k[Wa],ha=Ia.marker;if(ha.type=="bookmark"&&Ia.from==st&&ha.widgetNode)Qi.push(ha);else if(Ia.from<=st&&(Ia.to==null||Ia.to>st||ha.collapsed&&Ia.to==st&&Ia.from==st)){if(Ia.to!=null&&Ia.to!=st&&qn>Ia.to&&(qn=Ia.to,ri=""),ha.className&&(Wr+=" "+ha.className),ha.css&&(dr=(dr?dr+";":"")+ha.css),ha.startStyle&&Ia.from==st&&(wi+=" "+ha.startStyle),ha.endStyle&&Ia.to==qn&&(Vi||(Vi=[])).push(ha.endStyle,Ia.to),ha.title&&((ia||(ia={})).title=ha.title),ha.attributes)for(var Es in ha.attributes)(ia||(ia={}))[Es]=ha.attributes[Es];ha.collapsed&&(!ji||pu(ji.marker,ha)<0)&&(ji=Ia)}else Ia.from>st&&qn>Ia.from&&(qn=Ia.from)}if(Vi)for(var dl=0;dl<Vi.length;dl+=2)Vi[dl+1]==qn&&(ri+=" "+Vi[dl]);if(!ji||ji.from==st)for(var Ts=0;Ts<Qi.length;++Ts)ml(o,0,Qi[Ts]);if(ji&&(ji.from||0)==st){if(ml(o,(ji.to==null?Ne+1:ji.to)-st,ji.marker,ji.from==null),ji.to==null)return;ji.to==st&&(ji=!1)}}if(st>=Ne)break;for(var Yc=Math.min(Ne,qn);;){if(ln){var Gl=st+ln.length;if(!ji){var Ao=Gl>Yc?ln.slice(0,Yc-st):ln;o.addToken(o,Ao,An?An+Wr:Wr,wi,st+Ao.length==qn?ri:"",dr,ia)}if(Gl>=Yc){ln=ln.slice(Yc-st),st=Yc;break}st=Gl,wi=""}ln=N.slice(ie,ie=C[xt++]),An=Ns(C[xt++],o.cm.options)}}}function Hl(r,o,C){this.line=o,this.rest=Hi(o),this.size=this.rest?Ar(wt(this.rest))-C+1:1,this.node=this.text=null,this.hidden=yo(r,o)}function Cc(r,o,C){for(var k=[],N,ie=o;ie<C;ie=N){var Se=new Hl(r.doc,Vn(r.doc,ie),ie);N=ie+Se.size,k.push(Se)}return k}var Rs=null;function bl(r){Rs?Rs.ops.push(r):r.ownsGroup=Rs={ops:[r],delayedCallbacks:[]}}function eu(r){var o=r.delayedCallbacks,C=0;do{for(;C<o.length;C++)o[C].call(null);for(var k=0;k<r.ops.length;k++){var N=r.ops[k];if(N.cursorActivityHandlers)for(;N.cursorActivityCalled<N.cursorActivityHandlers.length;)N.cursorActivityHandlers[N.cursorActivityCalled++].call(null,N.cm)}}while(C<o.length)}function tu(r,o){var C=r.ownsGroup;if(!!C)try{eu(C)}finally{Rs=null,o(C)}}var Rl=null;function po(r,o){var C=Kr(r,o);if(!!C.length){var k=Array.prototype.slice.call(arguments,2),N;Rs?N=Rs.delayedCallbacks:Rl?N=Rl:(N=Rl=[],setTimeout(Bo,0));for(var ie=function(Ne){N.push(function(){return C[Ne].apply(null,k)})},Se=0;Se<C.length;++Se)ie(Se)}}function Bo(){var r=Rl;Rl=null;for(var o=0;o<r.length;++o)r[o]()}function ls(r,o,C,k){for(var N=0;N<o.changes.length;N++){var ie=o.changes[N];ie=="text"?ms(r,o):ie=="gutter"?dd(r,o,C,k):ie=="class"?Gu(r,o):ie=="widget"&&Au(r,o,k)}o.changes=null}function el(r){return r.node==r.text&&(r.node=Te("div",null,null,"position: relative"),r.text.parentNode&&r.text.parentNode.replaceChild(r.node,r.text),r.node.appendChild(r.text),p&&d<8&&(r.node.style.zIndex=2)),r.node}function cs(r,o){var C=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(C&&(C+=" CodeMirror-linebackground"),o.background)C?o.background.className=C:(o.background.parentNode.removeChild(o.background),o.background=null);else if(C){var k=el(o);o.background=k.insertBefore(Te("div",null,C),k.firstChild),r.display.input.setUneditable(o.background)}}function fc(r,o){var C=r.display.externalMeasured;return C&&C.line==o.line?(r.display.externalMeasured=null,o.measure=C.measure,C.built):Ks(r,o)}function ms(r,o){var C=o.text.className,k=fc(r,o);o.text==o.node&&(o.node=k.pre),o.text.parentNode.replaceChild(k.pre,o.text),o.text=k.pre,k.bgClass!=o.bgClass||k.textClass!=o.textClass?(o.bgClass=k.bgClass,o.textClass=k.textClass,Gu(r,o)):C&&(o.text.className=C)}function Gu(r,o){cs(r,o),o.line.wrapClass?el(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className="");var C=o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass;o.text.className=C||""}function dd(r,o,C,k){if(o.gutter&&(o.node.removeChild(o.gutter),o.gutter=null),o.gutterBackground&&(o.node.removeChild(o.gutterBackground),o.gutterBackground=null),o.line.gutterClass){var N=el(o);o.gutterBackground=Te("div",null,"CodeMirror-gutter-background "+o.line.gutterClass,"left: "+(r.options.fixedGutter?k.fixedPos:-k.gutterTotalWidth)+"px; width: "+k.gutterTotalWidth+"px"),r.display.input.setUneditable(o.gutterBackground),N.insertBefore(o.gutterBackground,o.text)}var ie=o.line.gutterMarkers;if(r.options.lineNumbers||ie){var Se=el(o),Ne=o.gutter=Te("div",null,"CodeMirror-gutter-wrapper","left: "+(r.options.fixedGutter?k.fixedPos:-k.gutterTotalWidth)+"px");if(Ne.setAttribute("aria-hidden","true"),r.display.input.setUneditable(Ne),Se.insertBefore(Ne,o.text),o.line.gutterClass&&(Ne.className+=" "+o.line.gutterClass),r.options.lineNumbers&&(!ie||!ie["CodeMirror-linenumbers"])&&(o.lineNumber=Ne.appendChild(Te("div",Hr(r.options,C),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+k.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+r.display.lineNumInnerWidth+"px"))),ie)for(var st=0;st<r.display.gutterSpecs.length;++st){var xt=r.display.gutterSpecs[st].className,ln=ie.hasOwnProperty(xt)&&ie[xt];ln&&Ne.appendChild(Te("div",[ln],"CodeMirror-gutter-elt","left: "+k.gutterLeft[xt]+"px; width: "+k.gutterWidth[xt]+"px"))}}}function Au(r,o,C){o.alignable&&(o.alignable=null);for(var k=je("CodeMirror-linewidget"),N=o.node.firstChild,ie=void 0;N;N=ie)ie=N.nextSibling,k.test(N.className)&&o.node.removeChild(N);rn(r,o,C)}function ot(r,o,C,k){var N=fc(r,o);return o.text=o.node=N.pre,N.bgClass&&(o.bgClass=N.bgClass),N.textClass&&(o.textClass=N.textClass),Gu(r,o),dd(r,o,C,k),rn(r,o,k),o.node}function rn(r,o,C){if(pn(r,o.line,o,C,!0),o.rest)for(var k=0;k<o.rest.length;k++)pn(r,o.rest[k],o,C,!1)}function pn(r,o,C,k,N){if(!!o.widgets)for(var ie=el(C),Se=0,Ne=o.widgets;Se<Ne.length;++Se){var st=Ne[Se],xt=Te("div",[st.node],"CodeMirror-linewidget"+(st.className?" "+st.className:""));st.handleMouseEvents||xt.setAttribute("cm-ignore-events","true"),_n(st,xt,C,k),r.display.input.setUneditable(xt),N&&st.above?ie.insertBefore(xt,C.gutter||C.text):ie.appendChild(xt),po(st,"redraw")}}function _n(r,o,C,k){if(r.noHScroll){(C.alignable||(C.alignable=[])).push(o);var N=k.wrapperWidth;o.style.left=k.fixedPos+"px",r.coverGutter||(N-=k.gutterTotalWidth,o.style.paddingLeft=k.gutterTotalWidth+"px"),o.style.width=N+"px"}r.coverGutter&&(o.style.zIndex=5,o.style.position="relative",r.noHScroll||(o.style.marginLeft=-k.gutterTotalWidth+"px"))}function Jr(r){if(r.height!=null)return r.height;var o=r.doc.cm;if(!o)return 0;if(!fe(document.body,r.node)){var C="position: relative;";r.coverGutter&&(C+="margin-left: -"+o.display.gutters.offsetWidth+"px;"),r.noHScroll&&(C+="width: "+o.display.wrapper.clientWidth+"px;"),lt(o.display.measure,Te("div",[r.node],null,C))}return r.height=r.node.parentNode.offsetHeight}function ui(r,o){for(var C=vt(o);C!=r.wrapper;C=C.parentNode)if(!C||C.nodeType==1&&C.getAttribute("cm-ignore-events")=="true"||C.parentNode==r.sizer&&C!=r.mover)return!0}function fi(r){return r.lineSpace.offsetTop}function za(r){return r.mover.offsetHeight-r.lineSpace.offsetHeight}function Ua(r){if(r.cachedPaddingH)return r.cachedPaddingH;var o=lt(r.measure,Te("pre","x","CodeMirror-line-like")),C=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,k={left:parseInt(C.paddingLeft),right:parseInt(C.paddingRight)};return!isNaN(k.left)&&!isNaN(k.right)&&(r.cachedPaddingH=k),k}function ma(r){return Ie-r.display.nativeBarWidth}function _o(r){return r.display.scroller.clientWidth-ma(r)-r.display.barWidth}function $o(r){return r.display.scroller.clientHeight-ma(r)-r.display.barHeight}function jl(r,o,C){var k=r.options.lineWrapping,N=k&&_o(r);if(!o.measure.heights||k&&o.measure.width!=N){var ie=o.measure.heights=[];if(k){o.measure.width=N;for(var Se=o.text.firstChild.getClientRects(),Ne=0;Ne<Se.length-1;Ne++){var st=Se[Ne],xt=Se[Ne+1];Math.abs(st.bottom-xt.bottom)>2&&ie.push((st.bottom+xt.top)/2-C.top)}}ie.push(C.bottom-C.top)}}function Yo(r,o,C){if(r.line==o)return{map:r.measure.map,cache:r.measure.cache};if(r.rest){for(var k=0;k<r.rest.length;k++)if(r.rest[k]==o)return{map:r.measure.maps[k],cache:r.measure.caches[k]};for(var N=0;N<r.rest.length;N++)if(Ar(r.rest[N])>C)return{map:r.measure.maps[N],cache:r.measure.caches[N],before:!0}}}function sl(r,o){o=Wn(o);var C=Ar(o),k=r.display.externalMeasured=new Hl(r.doc,o,C);k.lineN=C;var N=k.built=Ks(r,k);return k.text=N.pre,lt(r.display.lineMeasure,N.pre),k}function Ps(r,o,C,k){return yl(r,Sc(r,o),C,k)}function Tc(r,o){if(o>=r.display.viewFrom&&o<r.display.viewTo)return r.display.view[iu(r,o)];var C=r.display.externalMeasured;if(C&&o>=C.lineN&&o<C.lineN+C.size)return C}function Sc(r,o){var C=Ar(o),k=Tc(r,C);k&&!k.text?k=null:k&&k.changes&&(ls(r,k,C,Gs(r)),r.curOp.forceUpdate=!0),k||(k=sl(r,o));var N=Yo(k,o,C);return{line:o,view:k,rect:null,map:N.map,cache:N.cache,before:N.before,hasHeights:!1}}function yl(r,o,C,k,N){o.before&&(C=-1);var ie=C+(k||""),Se;return o.cache.hasOwnProperty(ie)?Se=o.cache[ie]:(o.rect||(o.rect=o.view.text.getBoundingClientRect()),o.hasHeights||(jl(r,o.view,o.rect),o.hasHeights=!0),Se=Sd(r,o,C,k),Se.bogus||(o.cache[ie]=Se)),{left:Se.left,right:Se.right,top:N?Se.rtop:Se.top,bottom:N?Se.rbottom:Se.bottom}}var ks={left:0,right:0,top:0,bottom:0};function hc(r,o,C){for(var k,N,ie,Se,Ne,st,xt=0;xt<r.length;xt+=3)if(Ne=r[xt],st=r[xt+1],o<Ne?(N=0,ie=1,Se="left"):o<st?(N=o-Ne,ie=N+1):(xt==r.length-3||o==st&&r[xt+3]>o)&&(ie=st-Ne,N=ie-1,o>=st&&(Se="right")),N!=null){if(k=r[xt+2],Ne==st&&C==(k.insertLeft?"left":"right")&&(Se=C),C=="left"&&N==0)for(;xt&&r[xt-2]==r[xt-3]&&r[xt-1].insertLeft;)k=r[(xt-=3)+2],Se="left";if(C=="right"&&N==st-Ne)for(;xt<r.length-3&&r[xt+3]==r[xt+4]&&!r[xt+5].insertLeft;)k=r[(xt+=3)+2],Se="right";break}return{node:k,start:N,end:ie,collapse:Se,coverStart:Ne,coverEnd:st}}function Td(r,o){var C=ks;if(o=="left")for(var k=0;k<r.length&&(C=r[k]).left==C.right;k++);else for(var N=r.length-1;N>=0&&(C=r[N]).left==C.right;N--);return C}function Sd(r,o,C,k){var N=hc(o.map,C,k),ie=N.node,Se=N.start,Ne=N.end,st=N.collapse,xt;if(ie.nodeType==3){for(var ln=0;ln<4;ln++){for(;Se&&Wt(o.line.text.charAt(N.coverStart+Se));)--Se;for(;N.coverStart+Ne<N.coverEnd&&Wt(o.line.text.charAt(N.coverStart+Ne));)++Ne;if(p&&d<9&&Se==0&&Ne==N.coverEnd-N.coverStart?xt=ie.parentNode.getBoundingClientRect():xt=Td(te(ie,Se,Ne).getClientRects(),k),xt.left||xt.right||Se==0)break;Ne=Se,Se=Se-1,st="right"}p&&d<11&&(xt=Ad(r.display.measure,xt))}else{Se>0&&(st=k="right");var An;r.options.lineWrapping&&(An=ie.getClientRects()).length>1?xt=An[k=="right"?An.length-1:0]:xt=ie.getBoundingClientRect()}if(p&&d<9&&!Se&&(!xt||!xt.left&&!xt.right)){var dr=ie.parentNode.getClientRects()[0];dr?xt={left:dr.left,right:dr.left+Fc(r.display),top:dr.top,bottom:dr.bottom}:xt=ks}for(var qn=xt.top-o.rect.top,Wr=xt.bottom-o.rect.top,ri=(qn+Wr)/2,wi=o.view.measure.heights,ji=0;ji<wi.length-1&&!(ri<wi[ji]);ji++);var ia=ji?wi[ji-1]:0,Qi=wi[ji],Vi={left:(st=="right"?xt.right:xt.left)-o.rect.left,right:(st=="left"?xt.left:xt.right)-o.rect.left,top:ia,bottom:Qi};return!xt.left&&!xt.right&&(Vi.bogus=!0),r.options.singleCursorHeightPerLine||(Vi.rtop=qn,Vi.rbottom=Wr),Vi}function Ad(r,o){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!mn(r))return o;var C=screen.logicalXDPI/screen.deviceXDPI,k=screen.logicalYDPI/screen.deviceYDPI;return{left:o.left*C,right:o.right*C,top:o.top*k,bottom:o.bottom*k}}function fd(r){if(r.measure&&(r.measure.cache={},r.measure.heights=null,r.rest))for(var o=0;o<r.rest.length;o++)r.measure.caches[o]={}}function gf(r){r.display.externalMeasure=null,Qe(r.display.lineMeasure);for(var o=0;o<r.display.view.length;o++)fd(r.display.view[o])}function Tl(r){gf(r),r.display.cachedCharWidth=r.display.cachedTextHeight=r.display.cachedPaddingH=null,r.options.lineWrapping||(r.display.maxLineChanged=!0),r.display.lineNumChars=null}function mf(r){return D&&q?-(r.body.getBoundingClientRect().left-parseInt(getComputedStyle(r.body).marginLeft)):r.defaultView.pageXOffset||(r.documentElement||r.body).scrollLeft}function Ud(r){return D&&q?-(r.body.getBoundingClientRect().top-parseInt(getComputedStyle(r.body).marginTop)):r.defaultView.pageYOffset||(r.documentElement||r.body).scrollTop}function Mu(r){var o=Wn(r),C=o.widgets,k=0;if(C)for(var N=0;N<C.length;++N)C[N].above&&(k+=Jr(C[N]));return k}function nu(r,o,C,k,N){if(!N){var ie=Mu(o);C.top+=ie,C.bottom+=ie}if(k=="line")return C;k||(k="local");var Se=Da(o);if(k=="local"?Se+=fi(r.display):Se-=r.display.viewOffset,k=="page"||k=="window"){var Ne=r.display.lineSpace.getBoundingClientRect();Se+=Ne.top+(k=="window"?0:Ud(J(r)));var st=Ne.left+(k=="window"?0:mf(J(r)));C.left+=st,C.right+=st}return C.top+=Se,C.bottom+=Se,C}function Vl(r,o,C){if(C=="div")return o;var k=o.left,N=o.top;if(C=="page")k-=mf(J(r)),N-=Ud(J(r));else if(C=="local"||!C){var ie=r.display.sizer.getBoundingClientRect();k+=ie.left,N+=ie.top}var Se=r.display.lineSpace.getBoundingClientRect();return{left:k-Se.left,top:N-Se.top}}function hd(r,o,C,k,N){return k||(k=Vn(r.doc,o.line)),nu(r,k,Ps(r,k,o.ch,N),C)}function Ac(r,o,C,k,N,ie){k=k||Vn(r.doc,o.line),N||(N=Sc(r,k));function Se(Wr,ri){var wi=yl(r,N,Wr,ri?"right":"left",ie);return ri?wi.left=wi.right:wi.right=wi.left,nu(r,k,wi,C)}var Ne=$i(k,r.doc.direction),st=o.ch,xt=o.sticky;if(st>=k.text.length?(st=k.text.length,xt="before"):st<=0&&(st=0,xt="after"),!Ne)return Se(xt=="before"?st-1:st,xt=="before");function ln(Wr,ri,wi){var ji=Ne[ri],ia=ji.level==1;return Se(wi?Wr-1:Wr,ia!=wi)}var An=ii(Ne,st,xt),dr=jr,qn=ln(st,An,xt=="before");return dr!=null&&(qn.other=ln(st,dr,xt!="before")),qn}function tc(r,o){var C=0;o=Yr(r.doc,o),r.options.lineWrapping||(C=Fc(r.display)*o.ch);var k=Vn(r.doc,o.line),N=Da(k)+fi(r.display);return{left:C,right:C,top:N,bottom:N+k.height}}function Nf(r,o,C,k,N){var ie=He(r,o,C);return ie.xRel=N,k&&(ie.outside=k),ie}function qu(r,o,C){var k=r.doc;if(C+=r.display.viewOffset,C<0)return Nf(k.first,0,null,-1,-1);var N=Fr(k,C),ie=k.first+k.size-1;if(N>ie)return Nf(k.first+k.size-1,Vn(k,ie).text.length,null,1,1);o<0&&(o=0);for(var Se=Vn(k,N);;){var Ne=pd(r,Se,N,o,C),st=Nl(Se,Ne.ch+(Ne.xRel>0||Ne.outside>0?1:0));if(!st)return Ne;var xt=st.find(1);if(xt.line==N)return xt;Se=Vn(k,N=xt.line)}}function Hd(r,o,C,k){k-=Mu(o);var N=o.text.length,ie=Nn(function(Se){return yl(r,C,Se-1).bottom<=k},N,0);return N=Nn(function(Se){return yl(r,C,Se).top>k},ie,N),{begin:ie,end:N}}function jd(r,o,C,k){C||(C=Sc(r,o));var N=nu(r,o,yl(r,C,k),"line").top;return Hd(r,o,C,N)}function Vd(r,o,C,k){return r.bottom<=C?!1:r.top>C?!0:(k?r.left:r.right)>o}function pd(r,o,C,k,N){N-=Da(o);var ie=Sc(r,o),Se=Mu(o),Ne=0,st=o.text.length,xt=!0,ln=$i(o,r.doc.direction);if(ln){var An=(r.options.lineWrapping?Rf:Yd)(r,o,C,ie,ln,k,N);xt=An.level!=1,Ne=xt?An.from:An.to-1,st=xt?An.to:An.from-1}var dr=null,qn=null,Wr=Nn(function(Wa){var Ia=yl(r,ie,Wa);return Ia.top+=Se,Ia.bottom+=Se,Vd(Ia,k,N,!1)?(Ia.top<=N&&Ia.left<=k&&(dr=Wa,qn=Ia),!0):!1},Ne,st),ri,wi,ji=!1;if(qn){var ia=k-qn.left<qn.right-k,Qi=ia==xt;Wr=dr+(Qi?0:1),wi=Qi?"after":"before",ri=ia?qn.left:qn.right}else{!xt&&(Wr==st||Wr==Ne)&&Wr++,wi=Wr==0?"after":Wr==o.text.length?"before":yl(r,ie,Wr-(xt?1:0)).bottom+Se<=N==xt?"after":"before";var Vi=Ac(r,He(C,Wr,wi),"line",o,ie);ri=Vi.left,ji=N<Vi.top?-1:N>=Vi.bottom?1:0}return Wr=xn(o.text,Wr,1),Nf(C,Wr,wi,ji,k-ri)}function Yd(r,o,C,k,N,ie,Se){var Ne=Nn(function(An){var dr=N[An],qn=dr.level!=1;return Vd(Ac(r,He(C,qn?dr.to:dr.from,qn?"before":"after"),"line",o,k),ie,Se,!0)},0,N.length-1),st=N[Ne];if(Ne>0){var xt=st.level!=1,ln=Ac(r,He(C,xt?st.from:st.to,xt?"after":"before"),"line",o,k);Vd(ln,ie,Se,!0)&&ln.top>Se&&(st=N[Ne-1])}return st}function Rf(r,o,C,k,N,ie,Se){var Ne=Hd(r,o,k,Se),st=Ne.begin,xt=Ne.end;/\s/.test(o.text.charAt(xt-1))&&xt--;for(var ln=null,An=null,dr=0;dr<N.length;dr++){var qn=N[dr];if(!(qn.from>=xt||qn.to<=st)){var Wr=qn.level!=1,ri=yl(r,k,Wr?Math.min(xt,qn.to)-1:Math.max(st,qn.from)).right,wi=ri<ie?ie-ri+1e9:ri-ie;(!ln||An>wi)&&(ln=qn,An=wi)}}return ln||(ln=N[N.length-1]),ln.from<st&&(ln={from:st,to:ln.to,level:ln.level}),ln.to>xt&&(ln={from:ln.from,to:xt,level:ln.level}),ln}var ru;function vd(r){if(r.cachedTextHeight!=null)return r.cachedTextHeight;if(ru==null){ru=Te("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)ru.appendChild(document.createTextNode("x")),ru.appendChild(Te("br"));ru.appendChild(document.createTextNode("x"))}lt(r.measure,ru);var C=ru.offsetHeight/50;return C>3&&(r.cachedTextHeight=C),Qe(r.measure),C||1}function Fc(r){if(r.cachedCharWidth!=null)return r.cachedCharWidth;var o=Te("span","xxxxxxxxxx"),C=Te("pre",[o],"CodeMirror-line-like");lt(r.measure,C);var k=o.getBoundingClientRect(),N=(k.right-k.left)/10;return N>2&&(r.cachedCharWidth=N),N||10}function Gs(r){for(var o=r.display,C={},k={},N=o.gutters.clientLeft,ie=o.gutters.firstChild,Se=0;ie;ie=ie.nextSibling,++Se){var Ne=r.display.gutterSpecs[Se].className;C[Ne]=ie.offsetLeft+ie.clientLeft+N,k[Ne]=ie.clientWidth}return{fixedPos:Kd(o),gutterTotalWidth:o.gutters.offsetWidth,gutterLeft:C,gutterWidth:k,wrapperWidth:o.wrapper.clientWidth}}function Kd(r){return r.scroller.getBoundingClientRect().left-r.sizer.getBoundingClientRect().left}function Gd(r){var o=vd(r.display),C=r.options.lineWrapping,k=C&&Math.max(5,r.display.scroller.clientWidth/Fc(r.display)-3);return function(N){if(yo(r.doc,N))return 0;var ie=0;if(N.widgets)for(var Se=0;Se<N.widgets.length;Se++)N.widgets[Se].height&&(ie+=N.widgets[Se].height);return C?ie+(Math.ceil(N.text.length/k)||1)*o:ie+o}}function $u(r){var o=r.doc,C=Gd(r);o.iter(function(k){var N=C(k);N!=k.height&&oi(k,N)})}function Xu(r,o,C,k){var N=r.display;if(!C&&vt(o).getAttribute("cm-not-content")=="true")return null;var ie,Se,Ne=N.lineSpace.getBoundingClientRect();try{ie=o.clientX-Ne.left,Se=o.clientY-Ne.top}catch(An){return null}var st=qu(r,ie,Se),xt;if(k&&st.xRel>0&&(xt=Vn(r.doc,st.line).text).length==st.ch){var ln=Ze(xt,xt.length,r.options.tabSize)-xt.length;st=He(st.line,Math.max(0,Math.round((ie-Ua(r.display).left)/Fc(r.display))-ln))}return st}function iu(r,o){if(o>=r.display.viewTo||(o-=r.display.viewFrom,o<0))return null;for(var C=r.display.view,k=0;k<C.length;k++)if(o-=C[k].size,o<0)return k}function Pl(r,o,C,k){o==null&&(o=r.doc.first),C==null&&(C=r.doc.first+r.doc.size),k||(k=0);var N=r.display;if(k&&C<N.viewTo&&(N.updateLineNumbers==null||N.updateLineNumbers>o)&&(N.updateLineNumbers=o),r.curOp.viewChanged=!0,o>=N.viewTo)vs&&Ca(r.doc,o)<N.viewTo&&zs(r);else if(C<=N.viewFrom)vs&&Qr(r.doc,C+k)>N.viewFrom?zs(r):(N.viewFrom+=k,N.viewTo+=k);else if(o<=N.viewFrom&&C>=N.viewTo)zs(r);else if(o<=N.viewFrom){var ie=qd(r,C,C+k,1);ie?(N.view=N.view.slice(ie.index),N.viewFrom=ie.lineN,N.viewTo+=k):zs(r)}else if(C>=N.viewTo){var Se=qd(r,o,o,-1);Se?(N.view=N.view.slice(0,Se.index),N.viewTo=Se.lineN):zs(r)}else{var Ne=qd(r,o,o,-1),st=qd(r,C,C+k,1);Ne&&st?(N.view=N.view.slice(0,Ne.index).concat(Cc(r,Ne.lineN,st.lineN)).concat(N.view.slice(st.index)),N.viewTo+=k):zs(r)}var xt=N.externalMeasured;xt&&(C<xt.lineN?xt.lineN+=k:o<xt.lineN+xt.size&&(N.externalMeasured=null))}function ll(r,o,C){r.curOp.viewChanged=!0;var k=r.display,N=r.display.externalMeasured;if(N&&o>=N.lineN&&o<N.lineN+N.size&&(k.externalMeasured=null),!(o<k.viewFrom||o>=k.viewTo)){var ie=k.view[iu(r,o)];if(ie.node!=null){var Se=ie.changes||(ie.changes=[]);ye(Se,C)==-1&&Se.push(C)}}}function zs(r){r.display.viewFrom=r.display.viewTo=r.doc.first,r.display.view=[],r.display.viewOffset=0}function qd(r,o,C,k){var N=iu(r,o),ie,Se=r.display.view;if(!vs||C==r.doc.first+r.doc.size)return{index:N,lineN:C};for(var Ne=r.display.viewFrom,st=0;st<N;st++)Ne+=Se[st].size;if(Ne!=o){if(k>0){if(N==Se.length-1)return null;ie=Ne+Se[N].size-o,N++}else ie=Ne-o;o+=ie,C+=ie}for(;Ca(r.doc,C)!=C;){if(N==(k<0?0:Se.length-1))return null;C+=k*Se[N-(k<0?1:0)].size,N+=k}return{index:N,lineN:C}}function vu(r,o,C){var k=r.display,N=k.view;N.length==0||o>=k.viewTo||C<=k.viewFrom?(k.view=Cc(r,o,C),k.viewFrom=o):(k.viewFrom>o?k.view=Cc(r,o,k.viewFrom).concat(k.view):k.viewFrom<o&&(k.view=k.view.slice(iu(r,o))),k.viewFrom=o,k.viewTo<C?k.view=k.view.concat(Cc(r,k.viewTo,C)):k.viewTo>C&&(k.view=k.view.slice(0,iu(r,C)))),k.viewTo=C}function $d(r){for(var o=r.display.view,C=0,k=0;k<o.length;k++){var N=o[k];!N.hidden&&(!N.node||N.changes)&&++C}return C}function Md(r){r.display.input.showSelection(r.display.input.prepareSelection())}function gd(r,o){o===void 0&&(o=!0);var C=r.doc,k={},N=k.cursors=document.createDocumentFragment(),ie=k.selection=document.createDocumentFragment(),Se=r.options.$customCursor;Se&&(o=!0);for(var Ne=0;Ne<C.sel.ranges.length;Ne++)if(!(!o&&Ne==C.sel.primIndex)){var st=C.sel.ranges[Ne];if(!(st.from().line>=r.display.viewTo||st.to().line<r.display.viewFrom)){var xt=st.empty();if(Se){var ln=Se(r,st);ln&&bf(r,ln,N)}else(xt||r.options.showCursorWhenSelecting)&&bf(r,st.head,N);xt||yf(r,st,ie)}}return k}function bf(r,o,C){var k=Ac(r,o,"div",null,null,!r.options.singleCursorHeightPerLine),N=C.appendChild(Te("div","\xA0","CodeMirror-cursor"));if(N.style.left=k.left+"px",N.style.top=k.top+"px",N.style.height=Math.max(0,k.bottom-k.top)*r.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(r.getWrapperElement().className)){var ie=hd(r,o,"div",null,null),Se=ie.right-ie.left;N.style.width=(Se>0?Se:r.defaultCharWidth())+"px"}if(k.other){var Ne=C.appendChild(Te("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));Ne.style.display="",Ne.style.left=k.other.left+"px",Ne.style.top=k.other.top+"px",Ne.style.height=(k.other.bottom-k.other.top)*.85+"px"}}function pc(r,o){return r.top-o.top||r.left-o.left}function yf(r,o,C){var k=r.display,N=r.doc,ie=document.createDocumentFragment(),Se=Ua(r.display),Ne=Se.left,st=Math.max(k.sizerWidth,_o(r)-k.sizer.offsetLeft)-Se.right,xt=N.direction=="ltr";function ln(Qi,Vi,Wa,Ia){Vi<0&&(Vi=0),Vi=Math.round(Vi),Ia=Math.round(Ia),ie.appendChild(Te("div",null,"CodeMirror-selected","position: absolute; left: "+Qi+`px;
                             top: `+Vi+"px; width: "+(Wa==null?st-Qi:Wa)+`px;
                             height: `+(Ia-Vi)+"px"))}function An(Qi,Vi,Wa){var Ia=Vn(N,Qi),ha=Ia.text.length,Es,dl;function Ts(Ao,sc){return hd(r,He(Qi,Ao),"div",Ia,sc)}function Yc(Ao,sc,ql){var $s=jd(r,Ia,null,Ao),Hs=sc=="ltr"==(ql=="after")?"left":"right",fl=ql=="after"?$s.begin:$s.end-(/\s/.test(Ia.text.charAt($s.end-1))?2:1);return Ts(fl,Hs)[Hs]}var Gl=$i(Ia,N.direction);return Cr(Gl,Vi||0,Wa==null?ha:Wa,function(Ao,sc,ql,$s){var Hs=ql=="ltr",fl=Ts(Ao,Hs?"left":"right"),$l=Ts(sc-1,Hs?"right":"left"),Bd=Vi==null&&Ao==0,ku=Wa==null&&sc==ha,Fl=$s==0,sd=!Gl||$s==Gl.length-1;if($l.top-fl.top<=3){var Ll=(xt?Bd:ku)&&Fl,Mh=(xt?ku:Bd)&&sd,Fd=Ll?Ne:(Hs?fl:$l).left,Mf=Mh?st:(Hs?$l:fl).right;ln(Fd,fl.top,Mf-Fd,fl.bottom)}else{var Df,yc,sf,uh;Hs?(Df=xt&&Bd&&Fl?Ne:fl.left,yc=xt?st:Yc(Ao,ql,"before"),sf=xt?Ne:Yc(sc,ql,"after"),uh=xt&&ku&&sd?st:$l.right):(Df=xt?Yc(Ao,ql,"before"):Ne,yc=!xt&&Bd&&Fl?st:fl.right,sf=!xt&&ku&&sd?Ne:$l.left,uh=xt?Yc(sc,ql,"after"):st),ln(Df,fl.top,yc-Df,fl.bottom),fl.bottom<$l.top&&ln(Ne,fl.bottom,null,$l.top),ln(sf,$l.top,uh-sf,$l.bottom)}(!Es||pc(fl,Es)<0)&&(Es=fl),pc($l,Es)<0&&(Es=$l),(!dl||pc(fl,dl)<0)&&(dl=fl),pc($l,dl)<0&&(dl=$l)}),{start:Es,end:dl}}var dr=o.from(),qn=o.to();if(dr.line==qn.line)An(dr.line,dr.ch,qn.ch);else{var Wr=Vn(N,dr.line),ri=Vn(N,qn.line),wi=Wn(Wr)==Wn(ri),ji=An(dr.line,dr.ch,wi?Wr.text.length+1:null).end,ia=An(qn.line,wi?0:null,qn.ch).start;wi&&(ji.top<ia.top-2?(ln(ji.right,ji.top,null,ji.bottom),ln(Ne,ia.top,ia.left,ia.bottom)):ln(ji.right,ji.top,ia.left-ji.right,ji.bottom)),ji.bottom<ia.top&&ln(Ne,ji.bottom,null,ia.top)}C.appendChild(ie)}function Du(r){if(!!r.state.focused){var o=r.display;clearInterval(o.blinker);var C=!0;o.cursorDiv.style.visibility="",r.options.cursorBlinkRate>0?o.blinker=setInterval(function(){r.hasFocus()||Iu(r),o.cursorDiv.style.visibility=(C=!C)?"":"hidden"},r.options.cursorBlinkRate):r.options.cursorBlinkRate<0&&(o.cursorDiv.style.visibility="hidden")}}function Qu(r){r.hasFocus()||(r.display.input.focus(),r.state.focused||Sl(r))}function Xd(r){r.state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,r.state.focused&&Iu(r))},100)}function Sl(r,o){r.state.delayingBlurEvent&&!r.state.draggingText&&(r.state.delayingBlurEvent=!1),r.options.readOnly!="nocursor"&&(r.state.focused||(qt(r,"focus",r,o),r.state.focused=!0,ae(r.display.wrapper,"CodeMirror-focused"),!r.curOp&&r.display.selForContextMenu!=r.doc.sel&&(r.display.input.reset(),v&&setTimeout(function(){return r.display.input.reset(!0)},20)),r.display.input.receivedFocus()),Du(r))}function Iu(r,o){r.state.delayingBlurEvent||(r.state.focused&&(qt(r,"blur",r,o),r.state.focused=!1,dt(r.display.wrapper,"CodeMirror-focused")),clearInterval(r.display.blinker),setTimeout(function(){r.state.focused||(r.display.shift=!1)},150))}function md(r){for(var o=r.display,C=o.lineDiv.offsetTop,k=Math.max(0,o.scroller.getBoundingClientRect().top),N=o.lineDiv.getBoundingClientRect().top,ie=0,Se=0;Se<o.view.length;Se++){var Ne=o.view[Se],st=r.options.lineWrapping,xt=void 0,ln=0;if(!Ne.hidden){if(N+=Ne.line.height,p&&d<8){var An=Ne.node.offsetTop+Ne.node.offsetHeight;xt=An-C,C=An}else{var dr=Ne.node.getBoundingClientRect();xt=dr.bottom-dr.top,!st&&Ne.text.firstChild&&(ln=Ne.text.firstChild.getBoundingClientRect().right-dr.left-1)}var qn=Ne.line.height-xt;if((qn>.005||qn<-.005)&&(N<k&&(ie-=qn),oi(Ne.line,xt),Lu(Ne.line),Ne.rest))for(var Wr=0;Wr<Ne.rest.length;Wr++)Lu(Ne.rest[Wr]);if(ln>r.display.sizerWidth){var ri=Math.ceil(ln/Fc(r.display));ri>r.display.maxLineLength&&(r.display.maxLineLength=ri,r.display.maxLine=Ne.line,r.display.maxLineChanged=!0)}}}Math.abs(ie)>2&&(o.scroller.scrollTop+=ie)}function Lu(r){if(r.widgets)for(var o=0;o<r.widgets.length;++o){var C=r.widgets[o],k=C.node.parentNode;k&&(C.height=k.offsetHeight)}}function Ou(r,o,C){var k=C&&C.top!=null?Math.max(0,C.top):r.scroller.scrollTop;k=Math.floor(k-fi(r));var N=C&&C.bottom!=null?C.bottom:k+r.wrapper.clientHeight,ie=Fr(o,k),Se=Fr(o,N);if(C&&C.ensure){var Ne=C.ensure.from.line,st=C.ensure.to.line;Ne<ie?(ie=Ne,Se=Fr(o,Da(Vn(o,Ne))+r.wrapper.clientHeight)):Math.min(st,o.lastLine())>=Se&&(ie=Fr(o,Da(Vn(o,st))-r.wrapper.clientHeight),Se=st)}return{from:ie,to:Math.max(Se,ie+1)}}function Zc(r,o){if(!Zt(r,"scrollCursorIntoView")){var C=r.display,k=C.sizer.getBoundingClientRect(),N=null,ie=C.wrapper.ownerDocument;if(o.top+k.top<0?N=!0:o.bottom+k.top>(ie.defaultView.innerHeight||ie.documentElement.clientHeight)&&(N=!1),N!=null&&!E){var Se=Te("div","\u200B",null,`position: absolute;
                         top: `+(o.top-C.viewOffset-fi(r.display))+`px;
                         height: `+(o.bottom-o.top+ma(r)+C.barHeight)+`px;
                         left: `+o.left+"px; width: "+Math.max(2,o.right-o.left)+"px;");r.display.lineSpace.appendChild(Se),Se.scrollIntoView(N),r.display.lineSpace.removeChild(Se)}}}function _f(r,o,C,k){k==null&&(k=0);var N;!r.options.lineWrapping&&o==C&&(C=o.sticky=="before"?He(o.line,o.ch+1,"before"):o,o=o.ch?He(o.line,o.sticky=="before"?o.ch-1:o.ch,"after"):o);for(var ie=0;ie<5;ie++){var Se=!1,Ne=Ac(r,o),st=!C||C==o?Ne:Ac(r,C);N={left:Math.min(Ne.left,st.left),top:Math.min(Ne.top,st.top)-k,right:Math.max(Ne.left,st.left),bottom:Math.max(Ne.bottom,st.bottom)+k};var xt=Ju(r,N),ln=r.doc.scrollTop,An=r.doc.scrollLeft;if(xt.scrollTop!=null&&(au(r,xt.scrollTop),Math.abs(r.doc.scrollTop-ln)>1&&(Se=!0)),xt.scrollLeft!=null&&(bd(r,xt.scrollLeft),Math.abs(r.doc.scrollLeft-An)>1&&(Se=!0)),!Se)break}return N}function xf(r,o){var C=Ju(r,o);C.scrollTop!=null&&au(r,C.scrollTop),C.scrollLeft!=null&&bd(r,C.scrollLeft)}function Ju(r,o){var C=r.display,k=vd(r.display);o.top<0&&(o.top=0);var N=r.curOp&&r.curOp.scrollTop!=null?r.curOp.scrollTop:C.scroller.scrollTop,ie=$o(r),Se={};o.bottom-o.top>ie&&(o.bottom=o.top+ie);var Ne=r.doc.height+za(C),st=o.top<k,xt=o.bottom>Ne-k;if(o.top<N)Se.scrollTop=st?0:o.top;else if(o.bottom>N+ie){var ln=Math.min(o.top,(xt?Ne:o.bottom)-ie);ln!=N&&(Se.scrollTop=ln)}var An=r.options.fixedGutter?0:C.gutters.offsetWidth,dr=r.curOp&&r.curOp.scrollLeft!=null?r.curOp.scrollLeft:C.scroller.scrollLeft-An,qn=_o(r)-C.gutters.offsetWidth,Wr=o.right-o.left>qn;return Wr&&(o.right=o.left+qn),o.left<10?Se.scrollLeft=0:o.left<dr?Se.scrollLeft=Math.max(0,o.left+An-(Wr?0:10)):o.right>qn+dr-3&&(Se.scrollLeft=o.right+(Wr?0:10)-qn),Se}function Qd(r,o){o!=null&&(Jd(r),r.curOp.scrollTop=(r.curOp.scrollTop==null?r.doc.scrollTop:r.curOp.scrollTop)+o)}function nc(r){Jd(r);var o=r.getCursor();r.curOp.scrollToPos={from:o,to:o,margin:r.options.cursorScrollMargin}}function Nu(r,o,C){(o!=null||C!=null)&&Jd(r),o!=null&&(r.curOp.scrollLeft=o),C!=null&&(r.curOp.scrollTop=C)}function Dd(r,o){Jd(r),r.curOp.scrollToPos=o}function Jd(r){var o=r.curOp.scrollToPos;if(o){r.curOp.scrollToPos=null;var C=tc(r,o.from),k=tc(r,o.to);Pf(r,C,k,o.margin)}}function Pf(r,o,C,k){var N=Ju(r,{left:Math.min(o.left,C.left),top:Math.min(o.top,C.top)-k,right:Math.max(o.right,C.right),bottom:Math.max(o.bottom,C.bottom)+k});Nu(r,N.scrollLeft,N.scrollTop)}function au(r,o){Math.abs(r.doc.scrollTop-o)<2||(O||qe(r,{top:o}),Ka(r,o,!0),O&&qe(r),Al(r,100))}function Ka(r,o,C){o=Math.max(0,Math.min(r.display.scroller.scrollHeight-r.display.scroller.clientHeight,o)),!(r.display.scroller.scrollTop==o&&!C)&&(r.doc.scrollTop=o,r.display.scrollbars.setScrollTop(o),r.display.scroller.scrollTop!=o&&(r.display.scroller.scrollTop=o))}function bd(r,o,C,k){o=Math.max(0,Math.min(o,r.display.scroller.scrollWidth-r.display.scroller.clientWidth)),!((C?o==r.doc.scrollLeft:Math.abs(r.doc.scrollLeft-o)<2)&&!k)&&(r.doc.scrollLeft=o,Jn(r),r.display.scroller.scrollLeft!=o&&(r.display.scroller.scrollLeft=o),r.display.scrollbars.setScrollLeft(o))}function ef(r){var o=r.display,C=o.gutters.offsetWidth,k=Math.round(r.doc.height+za(r.display));return{clientHeight:o.scroller.clientHeight,viewHeight:o.wrapper.clientHeight,scrollWidth:o.scroller.scrollWidth,clientWidth:o.scroller.clientWidth,viewWidth:o.wrapper.clientWidth,barLeft:r.options.fixedGutter?C:0,docHeight:k,scrollHeight:k+ma(r)+o.barHeight,nativeBarWidth:o.nativeBarWidth,gutterWidth:C}}var vc=function(r,o,C){this.cm=C;var k=this.vert=Te("div",[Te("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),N=this.horiz=Te("div",[Te("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");k.tabIndex=N.tabIndex=-1,r(k),r(N),Vr(k,"scroll",function(){k.clientHeight&&o(k.scrollTop,"vertical")}),Vr(N,"scroll",function(){N.clientWidth&&o(N.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vc.prototype.update=function(r){var o=r.scrollWidth>r.clientWidth+1,C=r.scrollHeight>r.clientHeight+1,k=r.nativeBarWidth;if(C){this.vert.style.display="block",this.vert.style.bottom=o?k+"px":"0";var N=r.viewHeight-(o?k:0);this.vert.firstChild.style.height=Math.max(0,r.scrollHeight-r.clientHeight+N)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(o){this.horiz.style.display="block",this.horiz.style.right=C?k+"px":"0",this.horiz.style.left=r.barLeft+"px";var ie=r.viewWidth-r.barLeft-(C?k:0);this.horiz.firstChild.style.width=Math.max(0,r.scrollWidth-r.clientWidth+ie)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&r.clientHeight>0&&(k==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:C?k:0,bottom:o?k:0}},vc.prototype.setScrollLeft=function(r){this.horiz.scrollLeft!=r&&(this.horiz.scrollLeft=r),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vc.prototype.setScrollTop=function(r){this.vert.scrollTop!=r&&(this.vert.scrollTop=r),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vc.prototype.zeroWidthHack=function(){var r=le&&!z?"12px":"18px";this.horiz.style.height=this.vert.style.width=r,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new We,this.disableVert=new We},vc.prototype.enableZeroWidthBar=function(r,o,C){r.style.visibility="";function k(){var N=r.getBoundingClientRect(),ie=C=="vert"?document.elementFromPoint(N.right-1,(N.top+N.bottom)/2):document.elementFromPoint((N.right+N.left)/2,N.bottom-1);ie!=r?r.style.visibility="hidden":o.set(1e3,k)}o.set(1e3,k)},vc.prototype.clear=function(){var r=this.horiz.parentNode;r.removeChild(this.horiz),r.removeChild(this.vert)};var wf=function(){};wf.prototype.update=function(){return{bottom:0,right:0}},wf.prototype.setScrollLeft=function(){},wf.prototype.setScrollTop=function(){},wf.prototype.clear=function(){};function ed(r,o){o||(o=ef(r));var C=r.display.barWidth,k=r.display.barHeight;kf(r,o);for(var N=0;N<4&&C!=r.display.barWidth||k!=r.display.barHeight;N++)C!=r.display.barWidth&&r.options.lineWrapping&&md(r),kf(r,ef(r)),C=r.display.barWidth,k=r.display.barHeight}function kf(r,o){var C=r.display,k=C.scrollbars.update(o);C.sizer.style.paddingRight=(C.barWidth=k.right)+"px",C.sizer.style.paddingBottom=(C.barHeight=k.bottom)+"px",C.heightForcer.style.borderBottom=k.bottom+"px solid transparent",k.right&&k.bottom?(C.scrollbarFiller.style.display="block",C.scrollbarFiller.style.height=k.bottom+"px",C.scrollbarFiller.style.width=k.right+"px"):C.scrollbarFiller.style.display="",k.bottom&&r.options.coverGutterNextToScrollbar&&r.options.fixedGutter?(C.gutterFiller.style.display="block",C.gutterFiller.style.height=k.bottom+"px",C.gutterFiller.style.width=o.gutterWidth+"px"):C.gutterFiller.style.display=""}var Bf={native:vc,null:wf};function gu(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&dt(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new Bf[r.options.scrollbarStyle](function(o){r.display.wrapper.insertBefore(o,r.display.scrollbarFiller),Vr(o,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),o.setAttribute("cm-not-content","true")},function(o,C){C=="horizontal"?bd(r,o):au(r,o)},r),r.display.scrollbars.addClass&&ae(r.display.wrapper,r.display.scrollbars.addClass)}var xh=0;function Id(r){r.curOp={cm:r,viewChanged:!1,startHeight:r.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xh,markArrays:null},bl(r.curOp)}function Ds(r){var o=r.curOp;o&&tu(o,function(C){for(var k=0;k<C.ops.length;k++)C.ops[k].cm.curOp=null;yd(C)})}function yd(r){for(var o=r.ops,C=0;C<o.length;C++)Ff(o[C]);for(var k=0;k<o.length;k++)mu(o[k]);for(var N=0;N<o.length;N++)tf(o[N]);for(var ie=0;ie<o.length;ie++)wh(o[ie]);for(var Se=0;Se<o.length;Se++)Ef(o[Se])}function Ff(r){var o=r.cm,C=o.display;nf(o),r.updateMaxLine&&Fs(o),r.mustUpdate=r.viewChanged||r.forceUpdate||r.scrollTop!=null||r.scrollToPos&&(r.scrollToPos.from.line<C.viewFrom||r.scrollToPos.to.line>=C.viewTo)||C.maxLineChanged&&o.options.lineWrapping,r.update=r.mustUpdate&&new cl(o,r.mustUpdate&&{top:r.scrollTop,ensure:r.scrollToPos},r.forceUpdate)}function mu(r){r.updatedDisplay=r.mustUpdate&&Xe(r.cm,r.update)}function tf(r){var o=r.cm,C=o.display;r.updatedDisplay&&md(o),r.barMeasure=ef(o),C.maxLineChanged&&!o.options.lineWrapping&&(r.adjustWidthTo=Ps(o,C.maxLine,C.maxLine.text.length).left+3,o.display.sizerWidth=r.adjustWidthTo,r.barMeasure.scrollWidth=Math.max(C.scroller.clientWidth,C.sizer.offsetLeft+r.adjustWidthTo+ma(o)+o.display.barWidth),r.maxScrollLeft=Math.max(0,C.sizer.offsetLeft+r.adjustWidthTo-_o(o))),(r.updatedDisplay||r.selectionChanged)&&(r.preparedSelection=C.input.prepareSelection())}function wh(r){var o=r.cm;r.adjustWidthTo!=null&&(o.display.sizer.style.minWidth=r.adjustWidthTo+"px",r.maxScrollLeft<o.doc.scrollLeft&&bd(o,Math.min(o.display.scroller.scrollLeft,r.maxScrollLeft),!0),o.display.maxLineChanged=!1);var C=r.focus&&r.focus==ue(J(o));r.preparedSelection&&o.display.input.showSelection(r.preparedSelection,C),(r.updatedDisplay||r.startHeight!=o.doc.height)&&ed(o,r.barMeasure),r.updatedDisplay&&fn(o,r.barMeasure),r.selectionChanged&&Du(o),o.state.focused&&r.updateInput&&o.display.input.reset(r.typing),C&&Qu(r.cm)}function Ef(r){var o=r.cm,C=o.display,k=o.doc;if(r.updatedDisplay&&gt(o,r.update),C.wheelStartX!=null&&(r.scrollTop!=null||r.scrollLeft!=null||r.scrollToPos)&&(C.wheelStartX=C.wheelStartY=null),r.scrollTop!=null&&Ka(o,r.scrollTop,r.forceScroll),r.scrollLeft!=null&&bd(o,r.scrollLeft,!0,!0),r.scrollToPos){var N=_f(o,Yr(k,r.scrollToPos.from),Yr(k,r.scrollToPos.to),r.scrollToPos.margin);Zc(o,N)}var ie=r.maybeHiddenMarkers,Se=r.maybeUnhiddenMarkers;if(ie)for(var Ne=0;Ne<ie.length;++Ne)ie[Ne].lines.length||qt(ie[Ne],"hide");if(Se)for(var st=0;st<Se.length;++st)Se[st].lines.length&&qt(Se[st],"unhide");C.wrapper.offsetHeight&&(k.scrollTop=o.display.scroller.scrollTop),r.changeObjs&&qt(o,"changes",o,r.changeObjs),r.update&&r.update.finish()}function tl(r,o){if(r.curOp)return o();Id(r);try{return o()}finally{Ds(r)}}function Xo(r,o){return function(){if(r.curOp)return o.apply(r,arguments);Id(r);try{return o.apply(r,arguments)}finally{Ds(r)}}}function Ko(r){return function(){if(this.curOp)return r.apply(this,arguments);Id(this);try{return r.apply(this,arguments)}finally{Ds(this)}}}function Ws(r){return function(){var o=this.cm;if(!o||o.curOp)return r.apply(this,arguments);Id(o);try{return r.apply(this,arguments)}finally{Ds(o)}}}function Al(r,o){r.doc.highlightFrontier<r.display.viewTo&&r.state.highlight.set(o,K(rc,r))}function rc(r){var o=r.doc;if(!(o.highlightFrontier>=r.display.viewTo)){var C=+new Date+r.options.workTime,k=Do(r,o.highlightFrontier),N=[];o.iter(k.line,Math.min(o.first+o.size,r.display.viewTo+500),function(ie){if(k.line>=r.display.viewFrom){var Se=ie.styles,Ne=ie.text.length>r.options.maxHighlightLength?Un(o.mode,k.state):null,st=Io(r,ie,k,!0);Ne&&(k.state=Ne),ie.styles=st.styles;var xt=ie.styleClasses,ln=st.classes;ln?ie.styleClasses=ln:xt&&(ie.styleClasses=null);for(var An=!Se||Se.length!=ie.styles.length||xt!=ln&&(!xt||!ln||xt.bgClass!=ln.bgClass||xt.textClass!=ln.textClass),dr=0;!An&&dr<Se.length;++dr)An=Se[dr]!=ie.styles[dr];An&&N.push(k.line),ie.stateAfter=k.save(),k.nextLine()}else ie.text.length<=r.options.maxHighlightLength&&Ti(r,ie.text,k),ie.stateAfter=k.line%5==0?k.save():null,k.nextLine();if(+new Date>C)return Al(r,r.options.workDelay),!0}),o.highlightFrontier=k.line,o.modeFrontier=Math.max(o.modeFrontier,k.line),N.length&&tl(r,function(){for(var ie=0;ie<N.length;ie++)ll(r,N[ie],"text")})}}var cl=function(r,o,C){var k=r.display;this.viewport=o,this.visible=Ou(k,r.doc,o),this.editorIsHidden=!k.wrapper.offsetWidth,this.wrapperHeight=k.wrapper.clientHeight,this.wrapperWidth=k.wrapper.clientWidth,this.oldDisplayWidth=_o(r),this.force=C,this.dims=Gs(r),this.events=[]};cl.prototype.signal=function(r,o){pe(r,o)&&this.events.push(arguments)},cl.prototype.finish=function(){for(var r=0;r<this.events.length;r++)qt.apply(null,this.events[r])};function nf(r){var o=r.display;!o.scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=ma(r)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=ma(r)+"px",o.scrollbarsClipped=!0)}function _l(r){if(r.hasFocus())return null;var o=ue(J(r));if(!o||!fe(r.display.lineDiv,o))return null;var C={activeElt:o};if(window.getSelection){var k=X(r).getSelection();k.anchorNode&&k.extend&&fe(r.display.lineDiv,k.anchorNode)&&(C.anchorNode=k.anchorNode,C.anchorOffset=k.anchorOffset,C.focusNode=k.focusNode,C.focusOffset=k.focusOffset)}return C}function be(r){if(!(!r||!r.activeElt||r.activeElt==ue(r.activeElt.ownerDocument))&&(r.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(r.activeElt.nodeName)&&r.anchorNode&&fe(document.body,r.anchorNode)&&fe(document.body,r.focusNode))){var o=r.activeElt.ownerDocument,C=o.defaultView.getSelection(),k=o.createRange();k.setEnd(r.anchorNode,r.anchorOffset),k.collapse(!1),C.removeAllRanges(),C.addRange(k),C.extend(r.focusNode,r.focusOffset)}}function Xe(r,o){var C=r.display,k=r.doc;if(o.editorIsHidden)return zs(r),!1;if(!o.force&&o.visible.from>=C.viewFrom&&o.visible.to<=C.viewTo&&(C.updateLineNumbers==null||C.updateLineNumbers>=C.viewTo)&&C.renderedView==C.view&&$d(r)==0)return!1;br(r)&&(zs(r),o.dims=Gs(r));var N=k.first+k.size,ie=Math.max(o.visible.from-r.options.viewportMargin,k.first),Se=Math.min(N,o.visible.to+r.options.viewportMargin);C.viewFrom<ie&&ie-C.viewFrom<20&&(ie=Math.max(k.first,C.viewFrom)),C.viewTo>Se&&C.viewTo-Se<20&&(Se=Math.min(N,C.viewTo)),vs&&(ie=Ca(r.doc,ie),Se=Qr(r.doc,Se));var Ne=ie!=C.viewFrom||Se!=C.viewTo||C.lastWrapHeight!=o.wrapperHeight||C.lastWrapWidth!=o.wrapperWidth;vu(r,ie,Se),C.viewOffset=Da(Vn(r.doc,C.viewFrom)),r.display.mover.style.top=C.viewOffset+"px";var st=$d(r);if(!Ne&&st==0&&!o.force&&C.renderedView==C.view&&(C.updateLineNumbers==null||C.updateLineNumbers>=C.viewTo))return!1;var xt=_l(r);return st>4&&(C.lineDiv.style.display="none"),Ht(r,C.updateLineNumbers,o.dims),st>4&&(C.lineDiv.style.display=""),C.renderedView=C.view,be(xt),Qe(C.cursorDiv),Qe(C.selectionDiv),C.gutters.style.height=C.sizer.style.minHeight=0,Ne&&(C.lastWrapHeight=o.wrapperHeight,C.lastWrapWidth=o.wrapperWidth,Al(r,400)),C.updateLineNumbers=null,!0}function gt(r,o){for(var C=o.viewport,k=!0;;k=!1){if(!k||!r.options.lineWrapping||o.oldDisplayWidth==_o(r)){if(C&&C.top!=null&&(C={top:Math.min(r.doc.height+za(r.display)-$o(r),C.top)}),o.visible=Ou(r.display,r.doc,C),o.visible.from>=r.display.viewFrom&&o.visible.to<=r.display.viewTo)break}else k&&(o.visible=Ou(r.display,r.doc,C));if(!Xe(r,o))break;md(r);var N=ef(r);Md(r),ed(r,N),fn(r,N),o.force=!1}o.signal(r,"update",r),(r.display.viewFrom!=r.display.reportedViewFrom||r.display.viewTo!=r.display.reportedViewTo)&&(o.signal(r,"viewportChange",r,r.display.viewFrom,r.display.viewTo),r.display.reportedViewFrom=r.display.viewFrom,r.display.reportedViewTo=r.display.viewTo)}function qe(r,o){var C=new cl(r,o);if(Xe(r,C)){md(r),gt(r,C);var k=ef(r);Md(r),ed(r,k),fn(r,k),C.finish()}}function Ht(r,o,C){var k=r.display,N=r.options.lineNumbers,ie=k.lineDiv,Se=ie.firstChild;function Ne(Wr){var ri=Wr.nextSibling;return v&&le&&r.display.currentWheelTarget==Wr?Wr.style.display="none":Wr.parentNode.removeChild(Wr),ri}for(var st=k.view,xt=k.viewFrom,ln=0;ln<st.length;ln++){var An=st[ln];if(!An.hidden)if(!An.node||An.node.parentNode!=ie){var dr=ot(r,An,xt,C);ie.insertBefore(dr,Se)}else{for(;Se!=An.node;)Se=Ne(Se);var qn=N&&o!=null&&o<=xt&&An.lineNumber;An.changes&&(ye(An.changes,"gutter")>-1&&(qn=!1),ls(r,An,xt,C)),qn&&(Qe(An.lineNumber),An.lineNumber.appendChild(document.createTextNode(Hr(r.options,xt)))),Se=An.node.nextSibling}xt+=An.size}for(;Se;)Se=Ne(Se)}function dn(r){var o=r.gutters.offsetWidth;r.sizer.style.marginLeft=o+"px",po(r,"gutterChanged",r)}function fn(r,o){r.display.sizer.style.minHeight=o.docHeight+"px",r.display.heightForcer.style.top=o.docHeight+"px",r.display.gutters.style.height=o.docHeight+r.display.barHeight+ma(r)+"px"}function Jn(r){var o=r.display,C=o.view;if(!(!o.alignWidgets&&(!o.gutters.firstChild||!r.options.fixedGutter))){for(var k=Kd(o)-o.scroller.scrollLeft+r.doc.scrollLeft,N=o.gutters.offsetWidth,ie=k+"px",Se=0;Se<C.length;Se++)if(!C[Se].hidden){r.options.fixedGutter&&(C[Se].gutter&&(C[Se].gutter.style.left=ie),C[Se].gutterBackground&&(C[Se].gutterBackground.style.left=ie));var Ne=C[Se].alignable;if(Ne)for(var st=0;st<Ne.length;st++)Ne[st].style.left=ie}r.options.fixedGutter&&(o.gutters.style.left=k+N+"px")}}function br(r){if(!r.options.lineNumbers)return!1;var o=r.doc,C=Hr(r.options,o.first+o.size-1),k=r.display;if(C.length!=k.lineNumChars){var N=k.measure.appendChild(Te("div",[Te("div",C)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ie=N.firstChild.offsetWidth,Se=N.offsetWidth-ie;return k.lineGutter.style.width="",k.lineNumInnerWidth=Math.max(ie,k.lineGutter.offsetWidth-Se)+1,k.lineNumWidth=k.lineNumInnerWidth+Se,k.lineNumChars=k.lineNumInnerWidth?C.length:-1,k.lineGutter.style.width=k.lineNumWidth+"px",dn(r.display),!0}return!1}function Or(r,o){for(var C=[],k=!1,N=0;N<r.length;N++){var ie=r[N],Se=null;if(typeof ie!="string"&&(Se=ie.style,ie=ie.className),ie=="CodeMirror-linenumbers")if(o)k=!0;else continue;C.push({className:ie,style:Se})}return o&&!k&&C.push({className:"CodeMirror-linenumbers",style:null}),C}function Gr(r){var o=r.gutters,C=r.gutterSpecs;Qe(o),r.lineGutter=null;for(var k=0;k<C.length;++k){var N=C[k],ie=N.className,Se=N.style,Ne=o.appendChild(Te("div",null,"CodeMirror-gutter "+ie));Se&&(Ne.style.cssText=Se),ie=="CodeMirror-linenumbers"&&(r.lineGutter=Ne,Ne.style.width=(r.lineNumWidth||1)+"px")}o.style.display=C.length?"":"none",dn(r)}function Fi(r){Gr(r.display),Pl(r),Jn(r)}function Ga(r,o,C,k){var N=this;this.input=C,N.scrollbarFiller=Te("div",null,"CodeMirror-scrollbar-filler"),N.scrollbarFiller.setAttribute("cm-not-content","true"),N.gutterFiller=Te("div",null,"CodeMirror-gutter-filler"),N.gutterFiller.setAttribute("cm-not-content","true"),N.lineDiv=Je("div",null,"CodeMirror-code"),N.selectionDiv=Te("div",null,null,"position: relative; z-index: 1"),N.cursorDiv=Te("div",null,"CodeMirror-cursors"),N.measure=Te("div",null,"CodeMirror-measure"),N.lineMeasure=Te("div",null,"CodeMirror-measure"),N.lineSpace=Je("div",[N.measure,N.lineMeasure,N.selectionDiv,N.cursorDiv,N.lineDiv],null,"position: relative; outline: none");var ie=Je("div",[N.lineSpace],"CodeMirror-lines");N.mover=Te("div",[ie],null,"position: relative"),N.sizer=Te("div",[N.mover],"CodeMirror-sizer"),N.sizerWidth=null,N.heightForcer=Te("div",null,null,"position: absolute; height: "+Ie+"px; width: 1px;"),N.gutters=Te("div",null,"CodeMirror-gutters"),N.lineGutter=null,N.scroller=Te("div",[N.sizer,N.heightForcer,N.gutters],"CodeMirror-scroll"),N.scroller.setAttribute("tabIndex","-1"),N.wrapper=Te("div",[N.scrollbarFiller,N.gutterFiller,N.scroller],"CodeMirror"),D&&T>=105&&(N.wrapper.style.clipPath="inset(0px)"),N.wrapper.setAttribute("translate","no"),p&&d<8&&(N.gutters.style.zIndex=-1,N.scroller.style.paddingRight=0),!v&&!(O&&j)&&(N.scroller.draggable=!0),r&&(r.appendChild?r.appendChild(N.wrapper):r(N.wrapper)),N.viewFrom=N.viewTo=o.first,N.reportedViewFrom=N.reportedViewTo=o.first,N.view=[],N.renderedView=null,N.externalMeasured=null,N.viewOffset=0,N.lastWrapHeight=N.lastWrapWidth=0,N.updateLineNumbers=null,N.nativeBarWidth=N.barHeight=N.barWidth=0,N.scrollbarsClipped=!1,N.lineNumWidth=N.lineNumInnerWidth=N.lineNumChars=null,N.alignWidgets=!1,N.cachedCharWidth=N.cachedTextHeight=N.cachedPaddingH=null,N.maxLine=null,N.maxLineLength=0,N.maxLineChanged=!1,N.wheelDX=N.wheelDY=N.wheelStartX=N.wheelStartY=null,N.shift=!1,N.selForContextMenu=null,N.activeTouch=null,N.gutterSpecs=Or(k.gutters,k.lineNumbers),Gr(N),C.init(N)}var Ra=0,oo=null;p?oo=-.53:O?oo=15:D?oo=-.7:g&&(oo=-1/3);function nl(r){var o=r.wheelDeltaX,C=r.wheelDeltaY;return o==null&&r.detail&&r.axis==r.HORIZONTAL_AXIS&&(o=r.detail),C==null&&r.detail&&r.axis==r.VERTICAL_AXIS?C=r.detail:C==null&&(C=r.wheelDelta),{x:o,y:C}}function xl(r){var o=nl(r);return o.x*=oo,o.y*=oo,o}function ih(r,o){D&&T==102&&(r.display.chromeScrollHack==null?r.display.sizer.style.pointerEvents="none":clearTimeout(r.display.chromeScrollHack),r.display.chromeScrollHack=setTimeout(function(){r.display.chromeScrollHack=null,r.display.sizer.style.pointerEvents=""},100));var C=nl(o),k=C.x,N=C.y,ie=oo;o.deltaMode===0&&(k=o.deltaX,N=o.deltaY,ie=1);var Se=r.display,Ne=Se.scroller,st=Ne.scrollWidth>Ne.clientWidth,xt=Ne.scrollHeight>Ne.clientHeight;if(!!(k&&st||N&&xt)){if(N&&le&&v){e:for(var ln=o.target,An=Se.view;ln!=Ne;ln=ln.parentNode)for(var dr=0;dr<An.length;dr++)if(An[dr].node==ln){r.display.currentWheelTarget=ln;break e}}if(k&&!O&&!S&&ie!=null){N&&xt&&au(r,Math.max(0,Ne.scrollTop+N*ie)),bd(r,Math.max(0,Ne.scrollLeft+k*ie)),(!N||N&&xt)&&me(o),Se.wheelStartX=null;return}if(N&&ie!=null){var qn=N*ie,Wr=r.doc.scrollTop,ri=Wr+Se.wrapper.clientHeight;qn<0?Wr=Math.max(0,Wr+qn-50):ri=Math.min(r.doc.height,ri+qn+50),qe(r,{top:Wr,bottom:ri})}Ra<20&&o.deltaMode!==0&&(Se.wheelStartX==null?(Se.wheelStartX=Ne.scrollLeft,Se.wheelStartY=Ne.scrollTop,Se.wheelDX=k,Se.wheelDY=N,setTimeout(function(){if(Se.wheelStartX!=null){var wi=Ne.scrollLeft-Se.wheelStartX,ji=Ne.scrollTop-Se.wheelStartY,ia=ji&&Se.wheelDY&&ji/Se.wheelDY||wi&&Se.wheelDX&&wi/Se.wheelDX;Se.wheelStartX=Se.wheelStartY=null,ia&&(oo=(oo*Ra+ia)/(Ra+1),++Ra)}},200)):(Se.wheelDX+=k,Se.wheelDY+=N))}}var zc=function(r,o){this.ranges=r,this.primIndex=o};zc.prototype.primary=function(){return this.ranges[this.primIndex]},zc.prototype.equals=function(r){if(r==this)return!0;if(r.primIndex!=this.primIndex||r.ranges.length!=this.ranges.length)return!1;for(var o=0;o<this.ranges.length;o++){var C=this.ranges[o],k=r.ranges[o];if(!Pn(C.anchor,k.anchor)||!Pn(C.head,k.head))return!1}return!0},zc.prototype.deepCopy=function(){for(var r=[],o=0;o<this.ranges.length;o++)r[o]=new us(En(this.ranges[o].anchor),En(this.ranges[o].head));return new zc(r,this.primIndex)},zc.prototype.somethingSelected=function(){for(var r=0;r<this.ranges.length;r++)if(!this.ranges[r].empty())return!0;return!1},zc.prototype.contains=function(r,o){o||(o=r);for(var C=0;C<this.ranges.length;C++){var k=this.ranges[C];if(kt(o,k.from())>=0&&kt(r,k.to())<=0)return C}return-1};var us=function(r,o){this.anchor=r,this.head=o};us.prototype.from=function(){return Gn(this.anchor,this.head)},us.prototype.to=function(){return Qn(this.anchor,this.head)},us.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Mc(r,o,C){var k=r&&r.options.selectionsMayTouch,N=o[C];o.sort(function(dr,qn){return kt(dr.from(),qn.from())}),C=ye(o,N);for(var ie=1;ie<o.length;ie++){var Se=o[ie],Ne=o[ie-1],st=kt(Ne.to(),Se.from());if(k&&!Se.empty()?st>0:st>=0){var xt=Gn(Ne.from(),Se.from()),ln=Qn(Ne.to(),Se.to()),An=Ne.empty()?Se.from()==Se.head:Ne.from()==Ne.head;ie<=C&&--C,o.splice(--ie,2,new us(An?ln:xt,An?xt:ln))}}return new zc(o,C)}function Wc(r,o){return new zc([new us(r,o||r)],0)}function Uc(r){return r.text?He(r.from.line+r.text.length-1,wt(r.text).length+(r.text.length==1?r.from.ch:0)):r.to}function _d(r,o){if(kt(r,o.from)<0)return r;if(kt(r,o.to)<=0)return Uc(o);var C=r.line+o.text.length-(o.to.line-o.from.line)-1,k=r.ch;return r.line==o.to.line&&(k+=Uc(o).ch-o.to.ch),He(C,k)}function rl(r,o){for(var C=[],k=0;k<r.sel.ranges.length;k++){var N=r.sel.ranges[k];C.push(new us(_d(N.anchor,o),_d(N.head,o)))}return Mc(r.cm,C,r.sel.primIndex)}function Hc(r,o,C){return r.line==o.line?He(C.line,r.ch-o.ch+C.ch):He(C.line+(r.line-o.line),r.ch)}function bu(r,o,C){for(var k=[],N=He(r.first,0),ie=N,Se=0;Se<o.length;Se++){var Ne=o[Se],st=Hc(Ne.from,N,ie),xt=Hc(Uc(Ne),N,ie);if(N=Ne.to,ie=xt,C=="around"){var ln=r.sel.ranges[Se],An=kt(ln.head,ln.anchor)<0;k[Se]=new us(An?xt:st,An?st:xt)}else k[Se]=new us(st,st)}return new zc(k,r.sel.primIndex)}function Ru(r){r.doc.mode=cr(r.options,r.doc.modeOption),gc(r)}function gc(r){r.doc.iter(function(o){o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null)}),r.doc.modeFrontier=r.doc.highlightFrontier=r.doc.first,Al(r,100),r.state.modeGen++,r.curOp&&Pl(r)}function td(r,o){return o.from.ch==0&&o.to.ch==0&&wt(o.text)==""&&(!r.cm||r.cm.options.wholeLineUpdateBefore)}function ic(r,o,C,k){function N(ia){return C?C[ia]:null}function ie(ia,Qi,Vi){Cl(ia,Qi,Vi,k),po(ia,"change",ia,o)}function Se(ia,Qi){for(var Vi=[],Wa=ia;Wa<Qi;++Wa)Vi.push(new gs(xt[Wa],N(Wa),k));return Vi}var Ne=o.from,st=o.to,xt=o.text,ln=Vn(r,Ne.line),An=Vn(r,st.line),dr=wt(xt),qn=N(xt.length-1),Wr=st.line-Ne.line;if(o.full)r.insert(0,Se(0,xt.length)),r.remove(xt.length,r.size-xt.length);else if(td(r,o)){var ri=Se(0,xt.length-1);ie(An,An.text,qn),Wr&&r.remove(Ne.line,Wr),ri.length&&r.insert(Ne.line,ri)}else if(ln==An)if(xt.length==1)ie(ln,ln.text.slice(0,Ne.ch)+dr+ln.text.slice(st.ch),qn);else{var wi=Se(1,xt.length-1);wi.push(new gs(dr+ln.text.slice(st.ch),qn,k)),ie(ln,ln.text.slice(0,Ne.ch)+xt[0],N(0)),r.insert(Ne.line+1,wi)}else if(xt.length==1)ie(ln,ln.text.slice(0,Ne.ch)+xt[0]+An.text.slice(st.ch),N(0)),r.remove(Ne.line+1,Wr);else{ie(ln,ln.text.slice(0,Ne.ch)+xt[0],N(0)),ie(An,dr+An.text.slice(st.ch),qn);var ji=Se(1,xt.length-1);Wr>1&&r.remove(Ne.line+1,Wr-1),r.insert(Ne.line+1,ji)}po(r,"change",r,o)}function Dc(r,o,C){function k(N,ie,Se){if(N.linked)for(var Ne=0;Ne<N.linked.length;++Ne){var st=N.linked[Ne];if(st.doc!=ie){var xt=Se&&st.sharedHist;C&&!xt||(o(st.doc,xt),k(st.doc,N,xt))}}}k(r,null,!0)}function Pu(r,o){if(o.cm)throw new Error("This document is already in use.");r.doc=o,o.cm=r,$u(r),Ru(r),Zf(r),r.options.direction=o.direction,r.options.lineWrapping||Fs(r),r.options.mode=o.modeOption,Pl(r)}function Zf(r){(r.doc.direction=="rtl"?ae:dt)(r.display.lineDiv,"CodeMirror-rtl")}function Cf(r){tl(r,function(){Zf(r),Pl(r)})}function nd(r){this.done=[],this.undone=[],this.undoDepth=r?r.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=r?r.maxGeneration:1}function ac(r,o){var C={from:En(o.from),to:Uc(o),text:ci(r,o.from,o.to)};return rf(r,C,o.from.line,o.to.line+1),Dc(r,function(k){return rf(k,C,o.from.line,o.to.line+1)},!0),C}function yu(r){for(;r.length;){var o=wt(r);if(o.ranges)r.pop();else break}}function _u(r,o){if(o)return yu(r.done),wt(r.done);if(r.done.length&&!wt(r.done).ranges)return wt(r.done);if(r.done.length>1&&!r.done[r.done.length-2].ranges)return r.done.pop(),wt(r.done)}function wl(r,o,C,k){var N=r.history;N.undone.length=0;var ie=+new Date,Se,Ne;if((N.lastOp==k||N.lastOrigin==o.origin&&o.origin&&(o.origin.charAt(0)=="+"&&N.lastModTime>ie-(r.cm?r.cm.options.historyEventDelay:500)||o.origin.charAt(0)=="*"))&&(Se=_u(N,N.lastOp==k)))Ne=wt(Se.changes),kt(o.from,o.to)==0&&kt(o.from,Ne.to)==0?Ne.to=Uc(o):Se.changes.push(ac(r,o));else{var st=wt(N.done);for((!st||!st.ranges)&&Tf(r.sel,N.done),Se={changes:[ac(r,o)],generation:N.generation},N.done.push(Se);N.done.length>N.undoDepth;)N.done.shift(),N.done[0].ranges||N.done.shift()}N.done.push(C),N.generation=++N.maxGeneration,N.lastModTime=N.lastSelTime=ie,N.lastOp=N.lastSelOp=k,N.lastOrigin=N.lastSelOrigin=o.origin,Ne||qt(r,"historyAdded")}function kh(r,o,C,k){var N=o.charAt(0);return N=="*"||N=="+"&&C.ranges.length==k.ranges.length&&C.somethingSelected()==k.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)}function kl(r,o,C,k){var N=r.history,ie=k&&k.origin;C==N.lastSelOp||ie&&N.lastSelOrigin==ie&&(N.lastModTime==N.lastSelTime&&N.lastOrigin==ie||kh(r,ie,wt(N.done),o))?N.done[N.done.length-1]=o:Tf(o,N.done),N.lastSelTime=+new Date,N.lastSelOrigin=ie,N.lastSelOp=C,k&&k.clearRedo!==!1&&yu(N.undone)}function Tf(r,o){var C=wt(o);C&&C.ranges&&C.equals(r)||o.push(r)}function rf(r,o,C,k){var N=o["spans_"+r.id],ie=0;r.iter(Math.max(r.first,C),Math.min(r.first+r.size,k),function(Se){Se.markedSpans&&((N||(N=o["spans_"+r.id]={}))[ie]=Se.markedSpans),++ie})}function xd(r){if(!r)return null;for(var o,C=0;C<r.length;++C)r[C].marker.explicitlyCleared?o||(o=r.slice(0,C)):o&&o.push(r[C]);return o?o.length?o:null:r}function mc(r,o){var C=o["spans_"+r.id];if(!C)return null;for(var k=[],N=0;N<o.text.length;++N)k.push(xd(C[N]));return k}function bs(r,o){var C=mc(r,o),k=Po(r,o);if(!C)return k;if(!k)return C;for(var N=0;N<C.length;++N){var ie=C[N],Se=k[N];if(ie&&Se){e:for(var Ne=0;Ne<Se.length;++Ne){for(var st=Se[Ne],xt=0;xt<ie.length;++xt)if(ie[xt].marker==st.marker)continue e;ie.push(st)}}else Se&&(C[N]=Se)}return C}function rs(r,o,C){for(var k=[],N=0;N<r.length;++N){var ie=r[N];if(ie.ranges){k.push(C?zc.prototype.deepCopy.call(ie):ie);continue}var Se=ie.changes,Ne=[];k.push({changes:Ne});for(var st=0;st<Se.length;++st){var xt=Se[st],ln=void 0;if(Ne.push({from:xt.from,to:xt.to,text:xt.text}),o)for(var An in xt)(ln=An.match(/^spans_(\d+)$/))&&ye(o,Number(ln[1]))>-1&&(wt(Ne)[An]=xt[An],delete xt[An])}}return k}function Oa(r,o,C,k){if(k){var N=r.anchor;if(C){var ie=kt(o,N)<0;ie!=kt(C,N)<0?(N=o,o=C):ie!=kt(o,C)<0&&(o=C)}return new us(N,o)}else return new us(C||o,o)}function Wo(r,o,C,k,N){N==null&&(N=r.cm&&(r.cm.display.shift||r.extend)),t(r,new zc([Oa(r.sel.primary(),o,C,N)],0),k)}function bc(r,o,C){for(var k=[],N=r.cm&&(r.cm.display.shift||r.extend),ie=0;ie<r.sel.ranges.length;ie++)k[ie]=Oa(r.sel.ranges[ie],o[ie],null,N);var Se=Mc(r.cm,k,r.sel.primIndex);t(r,Se,C)}function oc(r,o,C,k){var N=r.sel.ranges.slice(0);N[o]=C,t(r,Mc(r.cm,N,r.sel.primIndex),k)}function ou(r,o,C,k){t(r,Wc(o,C),k)}function at(r,o,C){var k={ranges:o.ranges,update:function(N){this.ranges=[];for(var ie=0;ie<N.length;ie++)this.ranges[ie]=new us(Yr(r,N[ie].anchor),Yr(r,N[ie].head))},origin:C&&C.origin};return qt(r,"beforeSelectionChange",r,k),r.cm&&qt(r.cm,"beforeSelectionChange",r.cm,k),k.ranges!=o.ranges?Mc(r.cm,k.ranges,k.ranges.length-1):o}function F(r,o,C){var k=r.history.done,N=wt(k);N&&N.ranges?(k[k.length-1]=o,a(r,o,C)):t(r,o,C)}function t(r,o,C){a(r,o,C),kl(r,r.sel,r.cm?r.cm.curOp.id:NaN,C)}function a(r,o,C){(pe(r,"beforeSelectionChange")||r.cm&&pe(r.cm,"beforeSelectionChange"))&&(o=at(r,o,C));var k=C&&C.bias||(kt(o.primary().head,r.sel.primary().head)<0?-1:1);i(r,h(r,o,k,!0)),!(C&&C.scroll===!1)&&r.cm&&r.cm.getOption("readOnly")!="nocursor"&&nc(r.cm)}function i(r,o){o.equals(r.sel)||(r.sel=o,r.cm&&(r.cm.curOp.updateInput=1,r.cm.curOp.selectionChanged=!0,Ee(r.cm)),po(r,"cursorActivity",r))}function s(r){i(r,h(r,r.sel,null,!1))}function h(r,o,C,k){for(var N,ie=0;ie<o.ranges.length;ie++){var Se=o.ranges[ie],Ne=o.ranges.length==r.sel.ranges.length&&r.sel.ranges[ie],st=I(r,Se.anchor,Ne&&Ne.anchor,C,k),xt=Se.head==Se.anchor?st:I(r,Se.head,Ne&&Ne.head,C,k);(N||st!=Se.anchor||xt!=Se.head)&&(N||(N=o.ranges.slice(0,ie)),N[ie]=new us(st,xt))}return N?Mc(r.cm,N,o.primIndex):o}function w(r,o,C,k,N){var ie=Vn(r,o.line);if(ie.markedSpans)for(var Se=0;Se<ie.markedSpans.length;++Se){var Ne=ie.markedSpans[Se],st=Ne.marker,xt="selectLeft"in st?!st.selectLeft:st.inclusiveLeft,ln="selectRight"in st?!st.selectRight:st.inclusiveRight;if((Ne.from==null||(xt?Ne.from<=o.ch:Ne.from<o.ch))&&(Ne.to==null||(ln?Ne.to>=o.ch:Ne.to>o.ch))){if(N&&(qt(st,"beforeCursorEnter"),st.explicitlyCleared))if(ie.markedSpans){--Se;continue}else break;if(!st.atomic)continue;if(C){var An=st.find(k<0?1:-1),dr=void 0;if((k<0?ln:xt)&&(An=B(r,An,-k,An&&An.line==o.line?ie:null)),An&&An.line==o.line&&(dr=kt(An,C))&&(k<0?dr<0:dr>0))return w(r,An,o,k,N)}var qn=st.find(k<0?-1:1);return(k<0?xt:ln)&&(qn=B(r,qn,k,qn.line==o.line?ie:null)),qn?w(r,qn,o,k,N):null}}return o}function I(r,o,C,k,N){var ie=k||1,Se=w(r,o,C,ie,N)||!N&&w(r,o,C,ie,!0)||w(r,o,C,-ie,N)||!N&&w(r,o,C,-ie,!0);return Se||(r.cantEdit=!0,He(r.first,0))}function B(r,o,C,k){return C<0&&o.ch==0?o.line>r.first?Yr(r,He(o.line-1)):null:C>0&&o.ch==(k||Vn(r,o.line)).text.length?o.line<r.first+r.size-1?He(o.line+1,0):null:new He(o.line,o.ch+C)}function W(r){r.setSelection(He(r.firstLine(),0),He(r.lastLine()),Ye)}function G(r,o,C){var k={canceled:!1,from:o.from,to:o.to,text:o.text,origin:o.origin,cancel:function(){return k.canceled=!0}};return C&&(k.update=function(N,ie,Se,Ne){N&&(k.from=Yr(r,N)),ie&&(k.to=Yr(r,ie)),Se&&(k.text=Se),Ne!==void 0&&(k.origin=Ne)}),qt(r,"beforeChange",r,k),r.cm&&qt(r.cm,"beforeChange",r.cm,k),k.canceled?(r.cm&&(r.cm.curOp.updateInput=2),null):{from:k.from,to:k.to,text:k.text,origin:k.origin}}function H(r,o,C){if(r.cm){if(!r.cm.curOp)return Xo(r.cm,H)(r,o,C);if(r.cm.state.suppressEdits)return}if(!((pe(r,"beforeChange")||r.cm&&pe(r.cm,"beforeChange"))&&(o=G(r,o,!0),!o))){var k=Ol&&!C&&Ys(r,o.from,o.to);if(k)for(var N=k.length-1;N>=0;--N)he(r,{from:k[N].from,to:k[N].to,text:N?[""]:o.text,origin:o.origin});else he(r,o)}}function he(r,o){if(!(o.text.length==1&&o.text[0]==""&&kt(o.from,o.to)==0)){var C=rl(r,o);wl(r,o,C,r.cm?r.cm.curOp.id:NaN),rt(r,o,C,Po(r,o));var k=[];Dc(r,function(N,ie){!ie&&ye(k,N.history)==-1&&(Bt(N.history,o),k.push(N.history)),rt(N,o,null,Po(N,o))})}}function ge(r,o,C){var k=r.cm&&r.cm.state.suppressEdits;if(!(k&&!C)){for(var N=r.history,ie,Se=r.sel,Ne=o=="undo"?N.done:N.undone,st=o=="undo"?N.undone:N.done,xt=0;xt<Ne.length&&(ie=Ne[xt],!(C?ie.ranges&&!ie.equals(r.sel):!ie.ranges));xt++);if(xt!=Ne.length){for(N.lastOrigin=N.lastSelOrigin=null;;)if(ie=Ne.pop(),ie.ranges){if(Tf(ie,st),C&&!ie.equals(r.sel)){t(r,ie,{clearRedo:!1});return}Se=ie}else if(k){Ne.push(ie);return}else break;var ln=[];Tf(Se,st),st.push({changes:ln,generation:N.generation}),N.generation=ie.generation||++N.maxGeneration;for(var An=pe(r,"beforeChange")||r.cm&&pe(r.cm,"beforeChange"),dr=function(ri){var wi=ie.changes[ri];if(wi.origin=o,An&&!G(r,wi,!1))return Ne.length=0,{};ln.push(ac(r,wi));var ji=ri?rl(r,wi):wt(Ne);rt(r,wi,ji,bs(r,wi)),!ri&&r.cm&&r.cm.scrollIntoView({from:wi.from,to:Uc(wi)});var ia=[];Dc(r,function(Qi,Vi){!Vi&&ye(ia,Qi.history)==-1&&(Bt(Qi.history,wi),ia.push(Qi.history)),rt(Qi,wi,null,bs(Qi,wi))})},qn=ie.changes.length-1;qn>=0;--qn){var Wr=dr(qn);if(Wr)return Wr.v}}}}function Oe(r,o){if(o!=0&&(r.first+=o,r.sel=new zc(jt(r.sel.ranges,function(N){return new us(He(N.anchor.line+o,N.anchor.ch),He(N.head.line+o,N.head.ch))}),r.sel.primIndex),r.cm)){Pl(r.cm,r.first,r.first-o,o);for(var C=r.cm.display,k=C.viewFrom;k<C.viewTo;k++)ll(r.cm,k,"gutter")}}function rt(r,o,C,k){if(r.cm&&!r.cm.curOp)return Xo(r.cm,rt)(r,o,C,k);if(o.to.line<r.first){Oe(r,o.text.length-1-(o.to.line-o.from.line));return}if(!(o.from.line>r.lastLine())){if(o.from.line<r.first){var N=o.text.length-1-(r.first-o.from.line);Oe(r,N),o={from:He(r.first,0),to:He(o.to.line+N,o.to.ch),text:[wt(o.text)],origin:o.origin}}var ie=r.lastLine();o.to.line>ie&&(o={from:o.from,to:He(ie,Vn(r,ie).text.length),text:[o.text[0]],origin:o.origin}),o.removed=ci(r,o.from,o.to),C||(C=rl(r,o)),r.cm?bt(r.cm,o,k):ic(r,o,k),a(r,C,Ye),r.cantEdit&&I(r,He(r.firstLine(),0))&&(r.cantEdit=!1)}}function bt(r,o,C){var k=r.doc,N=r.display,ie=o.from,Se=o.to,Ne=!1,st=ie.line;r.options.lineWrapping||(st=Ar(Wn(Vn(k,ie.line))),k.iter(st,Se.line+1,function(qn){if(qn==N.maxLine)return Ne=!0,!0})),k.sel.contains(o.from,o.to)>-1&&Ee(r),ic(k,o,C,Gd(r)),r.options.lineWrapping||(k.iter(st,ie.line+o.text.length,function(qn){var Wr=Uo(qn);Wr>N.maxLineLength&&(N.maxLine=qn,N.maxLineLength=Wr,N.maxLineChanged=!0,Ne=!1)}),Ne&&(r.curOp.updateMaxLine=!0)),As(k,ie.line),Al(r,400);var xt=o.text.length-(Se.line-ie.line)-1;o.full?Pl(r):ie.line==Se.line&&o.text.length==1&&!td(r.doc,o)?ll(r,ie.line,"text"):Pl(r,ie.line,Se.line+1,xt);var ln=pe(r,"changes"),An=pe(r,"change");if(An||ln){var dr={from:ie,to:Se,text:o.text,removed:o.removed,origin:o.origin};An&&po(r,"change",r,dr),ln&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(dr)}r.display.selForContextMenu=null}function Ct(r,o,C,k,N){var ie;k||(k=C),kt(k,C)<0&&(ie=[k,C],C=ie[0],k=ie[1]),typeof o=="string"&&(o=r.splitLines(o)),H(r,{from:C,to:k,text:o,origin:N})}function Dt(r,o,C,k){C<r.line?r.line+=k:o<r.line&&(r.line=o,r.ch=0)}function Ot(r,o,C,k){for(var N=0;N<r.length;++N){var ie=r[N],Se=!0;if(ie.ranges){ie.copied||(ie=r[N]=ie.deepCopy(),ie.copied=!0);for(var Ne=0;Ne<ie.ranges.length;Ne++)Dt(ie.ranges[Ne].anchor,o,C,k),Dt(ie.ranges[Ne].head,o,C,k);continue}for(var st=0;st<ie.changes.length;++st){var xt=ie.changes[st];if(C<xt.from.line)xt.from=He(xt.from.line+k,xt.from.ch),xt.to=He(xt.to.line+k,xt.to.ch);else if(o<=xt.to.line){Se=!1;break}}Se||(r.splice(0,N+1),N=0)}}function Bt(r,o){var C=o.from.line,k=o.to.line,N=o.text.length-(k-C)-1;Ot(r.done,C,k,N),Ot(r.undone,C,k,N)}function Nt(r,o,C,k){var N=o,ie=o;return typeof o=="number"?ie=Vn(r,Li(r,o)):N=Ar(o),N==null?null:(k(ie,N)&&r.cm&&ll(r.cm,N,C),ie)}function In(r){this.lines=r,this.parent=null;for(var o=0,C=0;C<r.length;++C)r[C].parent=this,o+=r[C].height;this.height=o}In.prototype={chunkSize:function(){return this.lines.length},removeInner:function(r,o){for(var C=r,k=r+o;C<k;++C){var N=this.lines[C];this.height-=N.height,Tu(N),po(N,"delete")}this.lines.splice(r,o)},collapse:function(r){r.push.apply(r,this.lines)},insertInner:function(r,o,C){this.height+=C,this.lines=this.lines.slice(0,r).concat(o).concat(this.lines.slice(r));for(var k=0;k<o.length;++k)o[k].parent=this},iterN:function(r,o,C){for(var k=r+o;r<k;++r)if(C(this.lines[r]))return!0}};function en(r){this.children=r;for(var o=0,C=0,k=0;k<r.length;++k){var N=r[k];o+=N.chunkSize(),C+=N.height,N.parent=this}this.size=o,this.height=C,this.parent=null}en.prototype={chunkSize:function(){return this.size},removeInner:function(r,o){this.size-=o;for(var C=0;C<this.children.length;++C){var k=this.children[C],N=k.chunkSize();if(r<N){var ie=Math.min(o,N-r),Se=k.height;if(k.removeInner(r,ie),this.height-=Se-k.height,N==ie&&(this.children.splice(C--,1),k.parent=null),(o-=ie)==0)break;r=0}else r-=N}if(this.size-o<25&&(this.children.length>1||!(this.children[0]instanceof In))){var Ne=[];this.collapse(Ne),this.children=[new In(Ne)],this.children[0].parent=this}},collapse:function(r){for(var o=0;o<this.children.length;++o)this.children[o].collapse(r)},insertInner:function(r,o,C){this.size+=o.length,this.height+=C;for(var k=0;k<this.children.length;++k){var N=this.children[k],ie=N.chunkSize();if(r<=ie){if(N.insertInner(r,o,C),N.lines&&N.lines.length>50){for(var Se=N.lines.length%25+25,Ne=Se;Ne<N.lines.length;){var st=new In(N.lines.slice(Ne,Ne+=25));N.height-=st.height,this.children.splice(++k,0,st),st.parent=this}N.lines=N.lines.slice(0,Se),this.maybeSpill()}break}r-=ie}},maybeSpill:function(){if(!(this.children.length<=10)){var r=this;do{var o=r.children.splice(r.children.length-5,5),C=new en(o);if(r.parent){r.size-=C.size,r.height-=C.height;var N=ye(r.parent.children,r);r.parent.children.splice(N+1,0,C)}else{var k=new en(r.children);k.parent=r,r.children=[k,C],r=k}C.parent=r.parent}while(r.children.length>10);r.parent.maybeSpill()}},iterN:function(r,o,C){for(var k=0;k<this.children.length;++k){var N=this.children[k],ie=N.chunkSize();if(r<ie){var Se=Math.min(o,ie-r);if(N.iterN(r,Se,C))return!0;if((o-=Se)==0)break;r=0}else r-=ie}}};var Fn=function(r,o,C){if(C)for(var k in C)C.hasOwnProperty(k)&&(this[k]=C[k]);this.doc=r,this.node=o};Fn.prototype.clear=function(){var r=this.doc.cm,o=this.line.widgets,C=this.line,k=Ar(C);if(!(k==null||!o)){for(var N=0;N<o.length;++N)o[N]==this&&o.splice(N--,1);o.length||(C.widgets=null);var ie=Jr(this);oi(C,Math.max(0,C.height-ie)),r&&(tl(r,function(){rr(r,C,-ie),ll(r,k,"widget")}),po(r,"lineWidgetCleared",r,this,k))}},Fn.prototype.changed=function(){var r=this,o=this.height,C=this.doc.cm,k=this.line;this.height=null;var N=Jr(this)-o;!N||(yo(this.doc,k)||oi(k,k.height+N),C&&tl(C,function(){C.curOp.forceUpdate=!0,rr(C,k,N),po(C,"lineWidgetChanged",C,r,Ar(k))}))},oe(Fn);function rr(r,o,C){Da(o)<(r.curOp&&r.curOp.scrollTop||r.doc.scrollTop)&&Qd(r,C)}function Yn(r,o,C,k){var N=new Fn(r,C,k),ie=r.cm;return ie&&N.noHScroll&&(ie.display.alignWidgets=!0),Nt(r,o,"widget",function(Se){var Ne=Se.widgets||(Se.widgets=[]);if(N.insertAt==null?Ne.push(N):Ne.splice(Math.min(Ne.length,Math.max(0,N.insertAt)),0,N),N.line=Se,ie&&!yo(r,Se)){var st=Da(Se)<r.scrollTop;oi(Se,Se.height+Jr(N)),st&&Qd(ie,N.height),ie.curOp.forceUpdate=!0}return!0}),ie&&po(ie,"lineWidgetAdded",ie,N,typeof o=="number"?o:Ar(o)),N}var ur=0,xr=function(r,o){this.lines=[],this.type=o,this.doc=r,this.id=++ur};xr.prototype.clear=function(){if(!this.explicitlyCleared){var r=this.doc.cm,o=r&&!r.curOp;if(o&&Id(r),pe(this,"clear")){var C=this.find();C&&po(this,"clear",C.from,C.to)}for(var k=null,N=null,ie=0;ie<this.lines.length;++ie){var Se=this.lines[ie],Ne=nn(Se.markedSpans,this);r&&!this.collapsed?ll(r,Ar(Se),"text"):r&&(Ne.to!=null&&(N=Ar(Se)),Ne.from!=null&&(k=Ar(Se))),Se.markedSpans=Ku(Se.markedSpans,Ne),Ne.from==null&&this.collapsed&&!yo(this.doc,Se)&&r&&oi(Se,vd(r.display))}if(r&&this.collapsed&&!r.options.lineWrapping)for(var st=0;st<this.lines.length;++st){var xt=Wn(this.lines[st]),ln=Uo(xt);ln>r.display.maxLineLength&&(r.display.maxLine=xt,r.display.maxLineLength=ln,r.display.maxLineChanged=!0)}k!=null&&r&&this.collapsed&&Pl(r,k,N+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,r&&s(r.doc)),r&&po(r,"markerCleared",r,this,k,N),o&&Ds(r),this.parent&&this.parent.clear()}},xr.prototype.find=function(r,o){r==null&&this.type=="bookmark"&&(r=1);for(var C,k,N=0;N<this.lines.length;++N){var ie=this.lines[N],Se=nn(ie.markedSpans,this);if(Se.from!=null&&(C=He(o?ie:Ar(ie),Se.from),r==-1))return C;if(Se.to!=null&&(k=He(o?ie:Ar(ie),Se.to),r==1))return k}return C&&{from:C,to:k}},xr.prototype.changed=function(){var r=this,o=this.find(-1,!0),C=this,k=this.doc.cm;!o||!k||tl(k,function(){var N=o.line,ie=Ar(o.line),Se=Tc(k,ie);if(Se&&(fd(Se),k.curOp.selectionChanged=k.curOp.forceUpdate=!0),k.curOp.updateMaxLine=!0,!yo(C.doc,N)&&C.height!=null){var Ne=C.height;C.height=null;var st=Jr(C)-Ne;st&&oi(N,N.height+st)}po(k,"markerChanged",k,r)})},xr.prototype.attachLine=function(r){if(!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(!o.maybeHiddenMarkers||ye(o.maybeHiddenMarkers,this)==-1)&&(o.maybeUnhiddenMarkers||(o.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(r)},xr.prototype.detachLine=function(r){if(this.lines.splice(ye(this.lines,r),1),!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(o.maybeHiddenMarkers||(o.maybeHiddenMarkers=[])).push(this)}},oe(xr);function Lr(r,o,C,k,N){if(k&&k.shared)return Rr(r,o,C,k,N);if(r.cm&&!r.cm.curOp)return Xo(r.cm,Lr)(r,o,C,k,N);var ie=new xr(r,N),Se=kt(o,C);if(k&&ze(k,ie,!1),Se>0||Se==0&&ie.clearWhenEmpty!==!1)return ie;if(ie.replacedWith&&(ie.collapsed=!0,ie.widgetNode=Je("span",[ie.replacedWith],"CodeMirror-widget"),k.handleMouseEvents||ie.widgetNode.setAttribute("cm-ignore-events","true"),k.insertLeft&&(ie.widgetNode.insertLeft=!0)),ie.collapsed){if(_a(r,o.line,o,C,ie)||o.line!=C.line&&_a(r,C.line,o,C,ie))throw new Error("Inserting collapsed marker partially overlapping an existing one");Qs()}ie.addToHistory&&wl(r,{from:o,to:C,origin:"markText"},r.sel,NaN);var Ne=o.line,st=r.cm,xt;if(r.iter(Ne,C.line+1,function(An){st&&ie.collapsed&&!st.options.lineWrapping&&Wn(An)==st.display.maxLine&&(xt=!0),ie.collapsed&&Ne!=o.line&&oi(An,0),al(An,new Js(ie,Ne==o.line?o.ch:null,Ne==C.line?C.ch:null),r.cm&&r.cm.curOp),++Ne}),ie.collapsed&&r.iter(o.line,C.line+1,function(An){yo(r,An)&&oi(An,0)}),ie.clearOnEnter&&Vr(ie,"beforeCursorEnter",function(){return ie.clear()}),ie.readOnly&&(Os(),(r.history.done.length||r.history.undone.length)&&r.clearHistory()),ie.collapsed&&(ie.id=++ur,ie.atomic=!0),st){if(xt&&(st.curOp.updateMaxLine=!0),ie.collapsed)Pl(st,o.line,C.line+1);else if(ie.className||ie.startStyle||ie.endStyle||ie.css||ie.attributes||ie.title)for(var ln=o.line;ln<=C.line;ln++)ll(st,ln,"text");ie.atomic&&s(st.doc),po(st,"markerAdded",st,ie)}return ie}var er=function(r,o){this.markers=r,this.primary=o;for(var C=0;C<r.length;++C)r[C].parent=this};er.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var r=0;r<this.markers.length;++r)this.markers[r].clear();po(this,"clear")}},er.prototype.find=function(r,o){return this.primary.find(r,o)},oe(er);function Rr(r,o,C,k,N){k=ze(k),k.shared=!1;var ie=[Lr(r,o,C,k,N)],Se=ie[0],Ne=k.widgetNode;return Dc(r,function(st){Ne&&(k.widgetNode=Ne.cloneNode(!0)),ie.push(Lr(st,Yr(st,o),Yr(st,C),k,N));for(var xt=0;xt<st.linked.length;++xt)if(st.linked[xt].isParent)return;Se=wt(ie)}),new er(ie,Se)}function Wi(r){return r.findMarks(He(r.first,0),r.clipPos(He(r.lastLine())),function(o){return o.parent})}function ai(r,o){for(var C=0;C<o.length;C++){var k=o[C],N=k.find(),ie=r.clipPos(N.from),Se=r.clipPos(N.to);if(kt(ie,Se)){var Ne=Lr(r,ie,Se,k.primary,k.primary.type);k.markers.push(Ne),Ne.parent=k}}}function ra(r){for(var o=function(k){var N=r[k],ie=[N.primary.doc];Dc(N.primary.doc,function(st){return ie.push(st)});for(var Se=0;Se<N.markers.length;Se++){var Ne=N.markers[Se];ye(ie,Ne.doc)==-1&&(Ne.parent=null,N.markers.splice(Se--,1))}},C=0;C<r.length;C++)o(C)}var ea=0,pa=function(r,o,C,k,N){if(!(this instanceof pa))return new pa(r,o,C,k,N);C==null&&(C=0),en.call(this,[new In([new gs("",null)])]),this.first=C,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=C;var ie=He(C,0);this.sel=Wc(ie),this.history=new nd(null),this.id=++ea,this.modeOption=o,this.lineSep=k,this.direction=N=="rtl"?"rtl":"ltr",this.extend=!1,typeof r=="string"&&(r=this.splitLines(r)),ic(this,{from:ie,to:ie,text:r}),t(this,Wc(ie),Ye)};pa.prototype=Ft(en.prototype,{constructor:pa,iter:function(r,o,C){C?this.iterN(r-this.first,o-r,C):this.iterN(this.first,this.first+this.size,r)},insert:function(r,o){for(var C=0,k=0;k<o.length;++k)C+=o[k].height;this.insertInner(r-this.first,o,C)},remove:function(r,o){this.removeInner(r-this.first,o)},getValue:function(r){var o=mi(this,this.first,this.first+this.size);return r===!1?o:o.join(r||this.lineSeparator())},setValue:Ws(function(r){var o=He(this.first,0),C=this.first+this.size-1;H(this,{from:o,to:He(C,Vn(this,C).text.length),text:this.splitLines(r),origin:"setValue",full:!0},!0),this.cm&&Nu(this.cm,0,0),t(this,Wc(o),Ye)}),replaceRange:function(r,o,C,k){o=Yr(this,o),C=C?Yr(this,C):o,Ct(this,r,o,C,k)},getRange:function(r,o,C){var k=ci(this,Yr(this,r),Yr(this,o));return C===!1?k:C===""?k.join(""):k.join(C||this.lineSeparator())},getLine:function(r){var o=this.getLineHandle(r);return o&&o.text},getLineHandle:function(r){if(lr(this,r))return Vn(this,r)},getLineNumber:function(r){return Ar(r)},getLineHandleVisualStart:function(r){return typeof r=="number"&&(r=Vn(this,r)),Wn(r)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(r){return Yr(this,r)},getCursor:function(r){var o=this.sel.primary(),C;return r==null||r=="head"?C=o.head:r=="anchor"?C=o.anchor:r=="end"||r=="to"||r===!1?C=o.to():C=o.from(),C},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ws(function(r,o,C){ou(this,Yr(this,typeof r=="number"?He(r,o||0):r),null,C)}),setSelection:Ws(function(r,o,C){ou(this,Yr(this,r),Yr(this,o||r),C)}),extendSelection:Ws(function(r,o,C){Wo(this,Yr(this,r),o&&Yr(this,o),C)}),extendSelections:Ws(function(r,o){bc(this,bi(this,r),o)}),extendSelectionsBy:Ws(function(r,o){var C=jt(this.sel.ranges,r);bc(this,bi(this,C),o)}),setSelections:Ws(function(r,o,C){if(!!r.length){for(var k=[],N=0;N<r.length;N++)k[N]=new us(Yr(this,r[N].anchor),Yr(this,r[N].head||r[N].anchor));o==null&&(o=Math.min(r.length-1,this.sel.primIndex)),t(this,Mc(this.cm,k,o),C)}}),addSelection:Ws(function(r,o,C){var k=this.sel.ranges.slice(0);k.push(new us(Yr(this,r),Yr(this,o||r))),t(this,Mc(this.cm,k,k.length-1),C)}),getSelection:function(r){for(var o=this.sel.ranges,C,k=0;k<o.length;k++){var N=ci(this,o[k].from(),o[k].to());C=C?C.concat(N):N}return r===!1?C:C.join(r||this.lineSeparator())},getSelections:function(r){for(var o=[],C=this.sel.ranges,k=0;k<C.length;k++){var N=ci(this,C[k].from(),C[k].to());r!==!1&&(N=N.join(r||this.lineSeparator())),o[k]=N}return o},replaceSelection:function(r,o,C){for(var k=[],N=0;N<this.sel.ranges.length;N++)k[N]=r;this.replaceSelections(k,o,C||"+input")},replaceSelections:Ws(function(r,o,C){for(var k=[],N=this.sel,ie=0;ie<N.ranges.length;ie++){var Se=N.ranges[ie];k[ie]={from:Se.from(),to:Se.to(),text:this.splitLines(r[ie]),origin:C}}for(var Ne=o&&o!="end"&&bu(this,k,o),st=k.length-1;st>=0;st--)H(this,k[st]);Ne?F(this,Ne):this.cm&&nc(this.cm)}),undo:Ws(function(){ge(this,"undo")}),redo:Ws(function(){ge(this,"redo")}),undoSelection:Ws(function(){ge(this,"undo",!0)}),redoSelection:Ws(function(){ge(this,"redo",!0)}),setExtending:function(r){this.extend=r},getExtending:function(){return this.extend},historySize:function(){for(var r=this.history,o=0,C=0,k=0;k<r.done.length;k++)r.done[k].ranges||++o;for(var N=0;N<r.undone.length;N++)r.undone[N].ranges||++C;return{undo:o,redo:C}},clearHistory:function(){var r=this;this.history=new nd(this.history),Dc(this,function(o){return o.history=r.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(r){return r&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(r){return this.history.generation==(r||this.cleanGeneration)},getHistory:function(){return{done:rs(this.history.done),undone:rs(this.history.undone)}},setHistory:function(r){var o=this.history=new nd(this.history);o.done=rs(r.done.slice(0),null,!0),o.undone=rs(r.undone.slice(0),null,!0)},setGutterMarker:Ws(function(r,o,C){return Nt(this,r,"gutter",function(k){var N=k.gutterMarkers||(k.gutterMarkers={});return N[o]=C,!C&&Me(N)&&(k.gutterMarkers=null),!0})}),clearGutter:Ws(function(r){var o=this;this.iter(function(C){C.gutterMarkers&&C.gutterMarkers[r]&&Nt(o,C,"gutter",function(){return C.gutterMarkers[r]=null,Me(C.gutterMarkers)&&(C.gutterMarkers=null),!0})})}),lineInfo:function(r){var o;if(typeof r=="number"){if(!lr(this,r)||(o=r,r=Vn(this,r),!r))return null}else if(o=Ar(r),o==null)return null;return{line:o,handle:r,text:r.text,gutterMarkers:r.gutterMarkers,textClass:r.textClass,bgClass:r.bgClass,wrapClass:r.wrapClass,widgets:r.widgets}},addLineClass:Ws(function(r,o,C){return Nt(this,r,o=="gutter"?"gutter":"class",function(k){var N=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";if(!k[N])k[N]=C;else{if(je(C).test(k[N]))return!1;k[N]+=" "+C}return!0})}),removeLineClass:Ws(function(r,o,C){return Nt(this,r,o=="gutter"?"gutter":"class",function(k){var N=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass",ie=k[N];if(ie)if(C==null)k[N]=null;else{var Se=ie.match(je(C));if(!Se)return!1;var Ne=Se.index+Se[0].length;k[N]=ie.slice(0,Se.index)+(!Se.index||Ne==ie.length?"":" ")+ie.slice(Ne)||null}else return!1;return!0})}),addLineWidget:Ws(function(r,o,C){return Yn(this,r,o,C)}),removeLineWidget:function(r){r.clear()},markText:function(r,o,C){return Lr(this,Yr(this,r),Yr(this,o),C,C&&C.type||"range")},setBookmark:function(r,o){var C={replacedWith:o&&(o.nodeType==null?o.widget:o),insertLeft:o&&o.insertLeft,clearWhenEmpty:!1,shared:o&&o.shared,handleMouseEvents:o&&o.handleMouseEvents};return r=Yr(this,r),Lr(this,r,r,C,"bookmark")},findMarksAt:function(r){r=Yr(this,r);var o=[],C=Vn(this,r.line).markedSpans;if(C)for(var k=0;k<C.length;++k){var N=C[k];(N.from==null||N.from<=r.ch)&&(N.to==null||N.to>=r.ch)&&o.push(N.marker.parent||N.marker)}return o},findMarks:function(r,o,C){r=Yr(this,r),o=Yr(this,o);var k=[],N=r.line;return this.iter(r.line,o.line+1,function(ie){var Se=ie.markedSpans;if(Se)for(var Ne=0;Ne<Se.length;Ne++){var st=Se[Ne];!(st.to!=null&&N==r.line&&r.ch>=st.to||st.from==null&&N!=r.line||st.from!=null&&N==o.line&&st.from>=o.ch)&&(!C||C(st.marker))&&k.push(st.marker.parent||st.marker)}++N}),k},getAllMarks:function(){var r=[];return this.iter(function(o){var C=o.markedSpans;if(C)for(var k=0;k<C.length;++k)C[k].from!=null&&r.push(C[k].marker)}),r},posFromIndex:function(r){var o,C=this.first,k=this.lineSeparator().length;return this.iter(function(N){var ie=N.text.length+k;if(ie>r)return o=r,!0;r-=ie,++C}),Yr(this,He(C,o))},indexFromPos:function(r){r=Yr(this,r);var o=r.ch;if(r.line<this.first||r.ch<0)return 0;var C=this.lineSeparator().length;return this.iter(this.first,r.line,function(k){o+=k.text.length+C}),o},copy:function(r){var o=new pa(mi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,o.sel=this.sel,o.extend=!1,r&&(o.history.undoDepth=this.history.undoDepth,o.setHistory(this.getHistory())),o},linkedDoc:function(r){r||(r={});var o=this.first,C=this.first+this.size;r.from!=null&&r.from>o&&(o=r.from),r.to!=null&&r.to<C&&(C=r.to);var k=new pa(mi(this,o,C),r.mode||this.modeOption,o,this.lineSep,this.direction);return r.sharedHist&&(k.history=this.history),(this.linked||(this.linked=[])).push({doc:k,sharedHist:r.sharedHist}),k.linked=[{doc:this,isParent:!0,sharedHist:r.sharedHist}],ai(k,Wi(this)),k},unlinkDoc:function(r){if(r instanceof ba&&(r=r.doc),this.linked)for(var o=0;o<this.linked.length;++o){var C=this.linked[o];if(C.doc==r){this.linked.splice(o,1),r.unlinkDoc(this),ra(Wi(this));break}}if(r.history==this.history){var k=[r.id];Dc(r,function(N){return k.push(N.id)},!0),r.history=new nd(null),r.history.done=rs(this.history.done,k),r.history.undone=rs(this.history.undone,k)}},iterLinkedDocs:function(r){Dc(this,r)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(r){return this.lineSep?r.split(this.lineSep):Yt(r)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ws(function(r){r!="rtl"&&(r="ltr"),r!=this.direction&&(this.direction=r,this.iter(function(o){return o.order=null}),this.cm&&Cf(this.cm))})}),pa.prototype.eachLine=pa.prototype.iter;var ro=0;function io(r){var o=this;if(Aa(o),!(Zt(o,r)||ui(o.display,r))){me(r),p&&(ro=+new Date);var C=Xu(o,r,!0),k=r.dataTransfer.files;if(!(!C||o.isReadOnly()))if(k&&k.length&&window.FileReader&&window.File)for(var N=k.length,ie=Array(N),Se=0,Ne=function(){++Se==N&&Xo(o,function(){C=Yr(o.doc,C);var qn={from:C,to:C,text:o.doc.splitLines(ie.filter(function(Wr){return Wr!=null}).join(o.doc.lineSeparator())),origin:"paste"};H(o.doc,qn),F(o.doc,Wc(Yr(o.doc,C),Yr(o.doc,Uc(qn))))})()},st=function(qn,Wr){if(o.options.allowDropFileTypes&&ye(o.options.allowDropFileTypes,qn.type)==-1){Ne();return}var ri=new FileReader;ri.onerror=function(){return Ne()},ri.onload=function(){var wi=ri.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(wi)){Ne();return}ie[Wr]=wi,Ne()},ri.readAsText(qn)},xt=0;xt<k.length;xt++)st(k[xt],xt);else{if(o.state.draggingText&&o.doc.sel.contains(C)>-1){o.state.draggingText(r),setTimeout(function(){return o.display.input.focus()},20);return}try{var ln=r.dataTransfer.getData("Text");if(ln){var An;if(o.state.draggingText&&!o.state.draggingText.copy&&(An=o.listSelections()),a(o.doc,Wc(C,C)),An)for(var dr=0;dr<An.length;++dr)Ct(o.doc,"",An[dr].anchor,An[dr].head,"drag");o.replaceSelection(ln,"around","paste"),o.display.input.focus()}}catch(qn){}}}}function ka(r,o){if(p&&(!r.state.draggingText||+new Date-ro<100)){ht(o);return}if(!(Zt(r,o)||ui(r.display,o))&&(o.dataTransfer.setData("Text",r.getSelection()),o.dataTransfer.effectAllowed="copyMove",o.dataTransfer.setDragImage&&!g)){var C=Te("img",null,null,"position: fixed; left: 0; top: 0;");C.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",S&&(C.width=C.height=1,r.display.wrapper.appendChild(C),C._top=C.offsetTop),o.dataTransfer.setDragImage(C,0,0),S&&C.parentNode.removeChild(C)}}function To(r,o){var C=Xu(r,o);if(!!C){var k=document.createDocumentFragment();bf(r,C,k),r.display.dragCursor||(r.display.dragCursor=Te("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),lt(r.display.dragCursor,k)}}function Aa(r){r.display.dragCursor&&(r.display.lineSpace.removeChild(r.display.dragCursor),r.display.dragCursor=null)}function Xi(r){if(!!document.getElementsByClassName){for(var o=document.getElementsByClassName("CodeMirror"),C=[],k=0;k<o.length;k++){var N=o[k].CodeMirror;N&&C.push(N)}C.length&&C[0].operation(function(){for(var ie=0;ie<C.length;ie++)r(C[ie])})}}var Zi=!1;function Ui(){Zi||(va(),Zi=!0)}function va(){var r;Vr(window,"resize",function(){r==null&&(r=setTimeout(function(){r=null,Xi(Pa)},100))}),Vr(window,"blur",function(){return Xi(Iu)})}function Pa(r){var o=r.display;o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.scrollbarsClipped=!1,r.setSize()}for(var Sa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},xa=0;xa<10;xa++)Sa[xa+48]=Sa[xa+96]=String(xa);for(var Qo=65;Qo<=90;Qo++)Sa[Qo]=String.fromCharCode(Qo);for(var so=1;so<=12;so++)Sa[so+111]=Sa[so+63235]="F"+so;var Ho={};Ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ho.default=le?Ho.macDefault:Ho.pcDefault;function is(r){var o=r.split(/-(?!$)/);r=o[o.length-1];for(var C,k,N,ie,Se=0;Se<o.length-1;Se++){var Ne=o[Se];if(/^(cmd|meta|m)$/i.test(Ne))ie=!0;else if(/^a(lt)?$/i.test(Ne))C=!0;else if(/^(c|ctrl|control)$/i.test(Ne))k=!0;else if(/^s(hift)?$/i.test(Ne))N=!0;else throw new Error("Unrecognized modifier name: "+Ne)}return C&&(r="Alt-"+r),k&&(r="Ctrl-"+r),ie&&(r="Cmd-"+r),N&&(r="Shift-"+r),r}function ds(r){var o={};for(var C in r)if(r.hasOwnProperty(C)){var k=r[C];if(/^(name|fallthrough|(de|at)tach)$/.test(C))continue;if(k=="..."){delete r[C];continue}for(var N=jt(C.split(" "),is),ie=0;ie<N.length;ie++){var Se=void 0,Ne=void 0;ie==N.length-1?(Ne=N.join(" "),Se=k):(Ne=N.slice(0,ie+1).join(" "),Se="...");var st=o[Ne];if(!st)o[Ne]=Se;else if(st!=Se)throw new Error("Inconsistent bindings for "+Ne)}delete r[C]}for(var xt in o)r[xt]=o[xt];return r}function ys(r,o,C,k){o=So(o);var N=o.call?o.call(r,k):o[r];if(N===!1)return"nothing";if(N==="...")return"multi";if(N!=null&&C(N))return"handled";if(o.fallthrough){if(Object.prototype.toString.call(o.fallthrough)!="[object Array]")return ys(r,o.fallthrough,C,k);for(var ie=0;ie<o.fallthrough.length;ie++){var Se=ys(r,o.fallthrough[ie],C,k);if(Se)return Se}}}function qa(r){var o=typeof r=="string"?r:Sa[r.keyCode];return o=="Ctrl"||o=="Alt"||o=="Shift"||o=="Mod"}function oa(r,o,C){var k=r;return o.altKey&&k!="Alt"&&(r="Alt-"+r),(De?o.metaKey:o.ctrlKey)&&k!="Ctrl"&&(r="Ctrl-"+r),(De?o.ctrlKey:o.metaKey)&&k!="Mod"&&(r="Cmd-"+r),!C&&o.shiftKey&&k!="Shift"&&(r="Shift-"+r),r}function Qa(r,o){if(S&&r.keyCode==34&&r.char)return!1;var C=Sa[r.keyCode];return C==null||r.altGraphKey?!1:(r.keyCode==3&&r.code&&(C=r.code),oa(C,r,o))}function So(r){return typeof r=="string"?Ho[r]:r}function qs(r,o){for(var C=r.doc.sel.ranges,k=[],N=0;N<C.length;N++){for(var ie=o(C[N]);k.length&&kt(ie.from,wt(k).to)<=0;){var Se=k.pop();if(kt(Se.from,ie.from)<0){ie.from=Se.from;break}}k.push(ie)}tl(r,function(){for(var Ne=k.length-1;Ne>=0;Ne--)Ct(r.doc,"",k[Ne].from,k[Ne].to,"+delete");nc(r)})}function Bl(r,o,C){var k=xn(r.text,o+C,C);return k<0||k>r.text.length?null:k}function jc(r,o,C){var k=Bl(r,o.ch,C);return k==null?null:new He(o.line,k,C<0?"after":"before")}function Ic(r,o,C,k,N){if(r){o.doc.direction=="rtl"&&(N=-N);var ie=$i(C,o.doc.direction);if(ie){var Se=N<0?wt(ie):ie[0],Ne=N<0==(Se.level==1),st=Ne?"after":"before",xt;if(Se.level>0||o.doc.direction=="rtl"){var ln=Sc(o,C);xt=N<0?C.text.length-1:0;var An=yl(o,ln,xt).top;xt=Nn(function(dr){return yl(o,ln,dr).top==An},N<0==(Se.level==1)?Se.from:Se.to-1,xt),st=="before"&&(xt=Bl(C,xt,1))}else xt=N<0?Se.to:Se.from;return new He(k,xt,st)}}return new He(k,N<0?C.text.length:0,N<0?"before":"after")}function rd(r,o,C,k){var N=$i(o,r.doc.direction);if(!N)return jc(o,C,k);C.ch>=o.text.length?(C.ch=o.text.length,C.sticky="before"):C.ch<=0&&(C.ch=0,C.sticky="after");var ie=ii(N,C.ch,C.sticky),Se=N[ie];if(r.doc.direction=="ltr"&&Se.level%2==0&&(k>0?Se.to>C.ch:Se.from<C.ch))return jc(o,C,k);var Ne=function(ji,ia){return Bl(o,ji instanceof He?ji.ch:ji,ia)},st,xt=function(ji){return r.options.lineWrapping?(st=st||Sc(r,o),jd(r,o,st,ji)):{begin:0,end:o.text.length}},ln=xt(C.sticky=="before"?Ne(C,-1):C.ch);if(r.doc.direction=="rtl"||Se.level==1){var An=Se.level==1==k<0,dr=Ne(C,An?1:-1);if(dr!=null&&(An?dr<=Se.to&&dr<=ln.end:dr>=Se.from&&dr>=ln.begin)){var qn=An?"before":"after";return new He(C.line,dr,qn)}}var Wr=function(ji,ia,Qi){for(var Vi=function(Es,dl){return dl?new He(C.line,Ne(Es,1),"before"):new He(C.line,Es,"after")};ji>=0&&ji<N.length;ji+=ia){var Wa=N[ji],Ia=ia>0==(Wa.level!=1),ha=Ia?Qi.begin:Ne(Qi.end,-1);if(Wa.from<=ha&&ha<Wa.to||(ha=Ia?Wa.from:Ne(Wa.to,-1),Qi.begin<=ha&&ha<Qi.end))return Vi(ha,Ia)}},ri=Wr(ie+k,k,ln);if(ri)return ri;var wi=k>0?ln.end:Ne(ln.begin,-1);return wi!=null&&!(k>0&&wi==o.text.length)&&(ri=Wr(k>0?0:N.length-1,k,xt(wi)),ri)?ri:null}var su={selectAll:W,singleSelection:function(r){return r.setSelection(r.getCursor("anchor"),r.getCursor("head"),Ye)},killLine:function(r){return qs(r,function(o){if(o.empty()){var C=Vn(r.doc,o.head.line).text.length;return o.head.ch==C&&o.head.line<r.lastLine()?{from:o.head,to:He(o.head.line+1,0)}:{from:o.head,to:He(o.head.line,C)}}else return{from:o.from(),to:o.to()}})},deleteLine:function(r){return qs(r,function(o){return{from:He(o.from().line,0),to:Yr(r.doc,He(o.to().line+1,0))}})},delLineLeft:function(r){return qs(r,function(o){return{from:He(o.from().line,0),to:o.from()}})},delWrappedLineLeft:function(r){return qs(r,function(o){var C=r.charCoords(o.head,"div").top+5,k=r.coordsChar({left:0,top:C},"div");return{from:k,to:o.from()}})},delWrappedLineRight:function(r){return qs(r,function(o){var C=r.charCoords(o.head,"div").top+5,k=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:C},"div");return{from:o.from(),to:k}})},undo:function(r){return r.undo()},redo:function(r){return r.redo()},undoSelection:function(r){return r.undoSelection()},redoSelection:function(r){return r.redoSelection()},goDocStart:function(r){return r.extendSelection(He(r.firstLine(),0))},goDocEnd:function(r){return r.extendSelection(He(r.lastLine()))},goLineStart:function(r){return r.extendSelectionsBy(function(o){return id(r,o.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(r){return r.extendSelectionsBy(function(o){return Bu(r,o.head)},{origin:"+move",bias:1})},goLineEnd:function(r){return r.extendSelectionsBy(function(o){return lu(r,o.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(o){var C=r.cursorCoords(o.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:C},"div")},tt)},goLineLeft:function(r){return r.extendSelectionsBy(function(o){var C=r.cursorCoords(o.head,"div").top+5;return r.coordsChar({left:0,top:C},"div")},tt)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(o){var C=r.cursorCoords(o.head,"div").top+5,k=r.coordsChar({left:0,top:C},"div");return k.ch<r.getLine(k.line).search(/\S/)?Bu(r,o.head):k},tt)},goLineUp:function(r){return r.moveV(-1,"line")},goLineDown:function(r){return r.moveV(1,"line")},goPageUp:function(r){return r.moveV(-1,"page")},goPageDown:function(r){return r.moveV(1,"page")},goCharLeft:function(r){return r.moveH(-1,"char")},goCharRight:function(r){return r.moveH(1,"char")},goColumnLeft:function(r){return r.moveH(-1,"column")},goColumnRight:function(r){return r.moveH(1,"column")},goWordLeft:function(r){return r.moveH(-1,"word")},goGroupRight:function(r){return r.moveH(1,"group")},goGroupLeft:function(r){return r.moveH(-1,"group")},goWordRight:function(r){return r.moveH(1,"word")},delCharBefore:function(r){return r.deleteH(-1,"codepoint")},delCharAfter:function(r){return r.deleteH(1,"char")},delWordBefore:function(r){return r.deleteH(-1,"word")},delWordAfter:function(r){return r.deleteH(1,"word")},delGroupBefore:function(r){return r.deleteH(-1,"group")},delGroupAfter:function(r){return r.deleteH(1,"group")},indentAuto:function(r){return r.indentSelection("smart")},indentMore:function(r){return r.indentSelection("add")},indentLess:function(r){return r.indentSelection("subtract")},insertTab:function(r){return r.replaceSelection("	")},insertSoftTab:function(r){for(var o=[],C=r.listSelections(),k=r.options.tabSize,N=0;N<C.length;N++){var ie=C[N].from(),Se=Ze(r.getLine(ie.line),ie.ch,k);o.push(et(k-Se%k))}r.replaceSelections(o)},defaultTab:function(r){r.somethingSelected()?r.indentSelection("add"):r.execCommand("insertTab")},transposeChars:function(r){return tl(r,function(){for(var o=r.listSelections(),C=[],k=0;k<o.length;k++)if(!!o[k].empty()){var N=o[k].head,ie=Vn(r.doc,N.line).text;if(ie){if(N.ch==ie.length&&(N=new He(N.line,N.ch-1)),N.ch>0)N=new He(N.line,N.ch+1),r.replaceRange(ie.charAt(N.ch-1)+ie.charAt(N.ch-2),He(N.line,N.ch-2),N,"+transpose");else if(N.line>r.doc.first){var Se=Vn(r.doc,N.line-1).text;Se&&(N=new He(N.line,1),r.replaceRange(ie.charAt(0)+r.doc.lineSeparator()+Se.charAt(Se.length-1),He(N.line-1,Se.length-1),N,"+transpose"))}}C.push(new us(N,N))}r.setSelections(C)})},newlineAndIndent:function(r){return tl(r,function(){for(var o=r.listSelections(),C=o.length-1;C>=0;C--)r.replaceRange(r.doc.lineSeparator(),o[C].anchor,o[C].head,"+input");o=r.listSelections();for(var k=0;k<o.length;k++)r.indentLine(o[k].from().line,null,!0);nc(r)})},openLine:function(r){return r.replaceSelection(`
`,"start")},toggleOverwrite:function(r){return r.toggleOverwrite()}};function id(r,o){var C=Vn(r.doc,o),k=Wn(C);return k!=C&&(o=Ar(k)),Ic(!0,r,k,o,1)}function lu(r,o){var C=Vn(r.doc,o),k=Di(C);return k!=C&&(o=Ar(k)),Ic(!0,r,C,o,-1)}function Bu(r,o){var C=id(r,o.line),k=Vn(r.doc,C.line),N=$i(k,r.doc.direction);if(!N||N[0].level==0){var ie=Math.max(C.ch,k.text.search(/\S/)),Se=o.line==C.line&&o.ch<=ie&&o.ch;return He(C.line,Se?0:ie,C.sticky)}return C}function Ld(r,o,C){if(typeof o=="string"&&(o=su[o],!o))return!1;r.display.input.ensurePolled();var k=r.display.shift,N=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),C&&(r.display.shift=!1),N=o(r)!=Ue}finally{r.display.shift=k,r.state.suppressEdits=!1}return N}function xu(r,o,C){for(var k=0;k<r.state.keyMaps.length;k++){var N=ys(o,r.state.keyMaps[k],C,r);if(N)return N}return r.options.extraKeys&&ys(o,r.options.extraKeys,C,r)||ys(o,r.options.keyMap,C,r)}var Od=new We;function Yl(r,o,C,k){var N=r.state.keySeq;if(N){if(qa(o))return"handled";if(/\'$/.test(o)?r.state.keySeq=null:Od.set(50,function(){r.state.keySeq==N&&(r.state.keySeq=null,r.display.input.reset())}),Vc(r,N+" "+o,C,k))return!0}return Vc(r,o,C,k)}function Vc(r,o,C,k){var N=xu(r,o,k);return N=="multi"&&(r.state.keySeq=o),N=="handled"&&po(r,"keyHandled",r,o,C),(N=="handled"||N=="multi")&&(me(C),Du(r)),!!N}function Fu(r,o){var C=Qa(o,!0);return C?o.shiftKey&&!r.state.keySeq?Yl(r,"Shift-"+C,o,function(k){return Ld(r,k,!0)})||Yl(r,C,o,function(k){if(typeof k=="string"?/^go[A-Z]/.test(k):k.motion)return Ld(r,k)}):Yl(r,C,o,function(k){return Ld(r,k)}):!1}function Kl(r,o,C){return Yl(r,"'"+C+"'",o,function(k){return Ld(r,k,!0)})}var Us=null;function Oo(r){var o=this;if(!(r.target&&r.target!=o.display.input.getField())&&(o.curOp.focus=ue(J(o)),!Zt(o,r))){p&&d<11&&r.keyCode==27&&(r.returnValue=!1);var C=r.keyCode;o.display.shift=C==16||r.shiftKey;var k=Fu(o,r);S&&(Us=k?C:null,!k&&C==88&&!Dn&&(le?r.metaKey:r.ctrlKey)&&o.replaceSelection("",null,"cut")),O&&!le&&!k&&C==46&&r.shiftKey&&!r.ctrlKey&&document.execCommand&&document.execCommand("cut"),C==18&&!/\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className)&&xo(o)}}function xo(r){var o=r.display.lineDiv;ae(o,"CodeMirror-crosshair");function C(k){(k.keyCode==18||!k.altKey)&&(dt(o,"CodeMirror-crosshair"),Tr(document,"keyup",C),Tr(document,"mouseover",C))}Vr(document,"keyup",C),Vr(document,"mouseover",C)}function _s(r){r.keyCode==16&&(this.doc.sel.shift=!1),Zt(this,r)}function Ml(r){var o=this;if(!(r.target&&r.target!=o.display.input.getField())&&!(ui(o.display,r)||Zt(o,r)||r.ctrlKey&&!r.altKey||le&&r.metaKey)){var C=r.keyCode,k=r.charCode;if(S&&C==Us){Us=null,me(r);return}if(!(S&&(!r.which||r.which<10)&&Fu(o,r))){var N=String.fromCharCode(k==null?C:k);N!="\b"&&(Kl(o,r,N)||o.display.input.onKeyPress(r))}}}var zf=400,Is=function(r,o,C){this.time=r,this.pos=o,this.button=C};Is.prototype.compare=function(r,o,C){return this.time+zf>r&&kt(o,this.pos)==0&&C==this.button};var ad,cu;function ul(r,o){var C=+new Date;return cu&&cu.compare(C,r,o)?(ad=cu=null,"triple"):ad&&ad.compare(C,r,o)?(cu=new Is(C,r,o),ad=null,"double"):(ad=new Is(C,r,o),cu=null,"single")}function Zu(r){var o=this,C=o.display;if(!(Zt(o,r)||C.activeTouch&&C.input.supportsTouch())){if(C.input.ensurePolled(),C.shift=r.shiftKey,ui(C,r)){v||(C.scroller.draggable=!1,setTimeout(function(){return C.scroller.draggable=!0},100));return}if(!Uf(o,r)){var k=Xu(o,r),N=St(r),ie=k?ul(k,N):"single";X(o).focus(),N==1&&o.state.selectingText&&o.state.selectingText(r),!(k&&Eh(o,N,k,ie,r))&&(N==1?k?Ch(o,k,ie,r):vt(r)==C.scroller&&me(r):N==2?(k&&Wo(o.doc,k),setTimeout(function(){return C.input.focus()},20)):N==3&&(we?o.display.input.onContextMenu(r):Xd(o)))}}}function Eh(r,o,C,k,N){var ie="Click";return k=="double"?ie="Double"+ie:k=="triple"&&(ie="Triple"+ie),ie=(o==1?"Left":o==2?"Middle":"Right")+ie,Yl(r,oa(ie,N),N,function(Se){if(typeof Se=="string"&&(Se=su[Se]),!Se)return!1;var Ne=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),Ne=Se(r,C)!=Ue}finally{r.state.suppressEdits=!1}return Ne})}function od(r,o,C){var k=r.getOption("configureMouse"),N=k?k(r,o,C):{};if(N.unit==null){var ie=ce?C.shiftKey&&C.metaKey:C.altKey;N.unit=ie?"rectangle":o=="single"?"char":o=="double"?"word":"line"}return(N.extend==null||r.doc.extend)&&(N.extend=r.doc.extend||C.shiftKey),N.addNew==null&&(N.addNew=le?C.metaKey:C.ctrlKey),N.moveOnDrag==null&&(N.moveOnDrag=!(le?C.altKey:C.ctrlKey)),N}function Ch(r,o,C,k){p?setTimeout(K(Qu,r),0):r.curOp.focus=ue(J(r));var N=od(r,C,k),ie=r.doc.sel,Se;r.options.dragDrop&&It&&!r.isReadOnly()&&C=="single"&&(Se=ie.contains(o))>-1&&(kt((Se=ie.ranges[Se]).from(),o)<0||o.xRel>0)&&(kt(Se.to(),o)>0||o.xRel<0)?Wf(r,k,o,N):Sf(r,k,o,N)}function Wf(r,o,C,k){var N=r.display,ie=!1,Se=Xo(r,function(xt){v&&(N.scroller.draggable=!1),r.state.draggingText=!1,r.state.delayingBlurEvent&&(r.hasFocus()?r.state.delayingBlurEvent=!1:Xd(r)),Tr(N.wrapper.ownerDocument,"mouseup",Se),Tr(N.wrapper.ownerDocument,"mousemove",Ne),Tr(N.scroller,"dragstart",st),Tr(N.scroller,"drop",Se),ie||(me(xt),k.addNew||Wo(r.doc,C,null,null,k.extend),v&&!g||p&&d==9?setTimeout(function(){N.wrapper.ownerDocument.body.focus({preventScroll:!0}),N.input.focus()},20):N.input.focus())}),Ne=function(xt){ie=ie||Math.abs(o.clientX-xt.clientX)+Math.abs(o.clientY-xt.clientY)>=10},st=function(){return ie=!0};v&&(N.scroller.draggable=!0),r.state.draggingText=Se,Se.copy=!k.moveOnDrag,Vr(N.wrapper.ownerDocument,"mouseup",Se),Vr(N.wrapper.ownerDocument,"mousemove",Ne),Vr(N.scroller,"dragstart",st),Vr(N.scroller,"drop",Se),r.state.delayingBlurEvent=!0,setTimeout(function(){return N.input.focus()},20),N.scroller.dragDrop&&N.scroller.dragDrop()}function Th(r,o,C){if(C=="char")return new us(o,o);if(C=="word")return r.findWordAt(o);if(C=="line")return new us(He(o.line,0),Yr(r.doc,He(o.line+1,0)));var k=C(r,o);return new us(k.from,k.to)}function Sf(r,o,C,k){p&&Xd(r);var N=r.display,ie=r.doc;me(o);var Se,Ne,st=ie.sel,xt=st.ranges;if(k.addNew&&!k.extend?(Ne=ie.sel.contains(C),Ne>-1?Se=xt[Ne]:Se=new us(C,C)):(Se=ie.sel.primary(),Ne=ie.sel.primIndex),k.unit=="rectangle")k.addNew||(Se=new us(C,C)),C=Xu(r,o,!0,!0),Ne=-1;else{var ln=Th(r,C,k.unit);k.extend?Se=Oa(Se,ln.anchor,ln.head,k.extend):Se=ln}k.addNew?Ne==-1?(Ne=xt.length,t(ie,Mc(r,xt.concat([Se]),Ne),{scroll:!1,origin:"*mouse"})):xt.length>1&&xt[Ne].empty()&&k.unit=="char"&&!k.extend?(t(ie,Mc(r,xt.slice(0,Ne).concat(xt.slice(Ne+1)),0),{scroll:!1,origin:"*mouse"}),st=ie.sel):oc(ie,Ne,Se,Ae):(Ne=0,t(ie,new zc([Se],0),Ae),st=ie.sel);var An=C;function dr(Qi){if(kt(An,Qi)!=0)if(An=Qi,k.unit=="rectangle"){for(var Vi=[],Wa=r.options.tabSize,Ia=Ze(Vn(ie,C.line).text,C.ch,Wa),ha=Ze(Vn(ie,Qi.line).text,Qi.ch,Wa),Es=Math.min(Ia,ha),dl=Math.max(Ia,ha),Ts=Math.min(C.line,Qi.line),Yc=Math.min(r.lastLine(),Math.max(C.line,Qi.line));Ts<=Yc;Ts++){var Gl=Vn(ie,Ts).text,Ao=it(Gl,Es,Wa);Es==dl?Vi.push(new us(He(Ts,Ao),He(Ts,Ao))):Gl.length>Ao&&Vi.push(new us(He(Ts,Ao),He(Ts,it(Gl,dl,Wa))))}Vi.length||Vi.push(new us(C,C)),t(ie,Mc(r,st.ranges.slice(0,Ne).concat(Vi),Ne),{origin:"*mouse",scroll:!1}),r.scrollIntoView(Qi)}else{var sc=Se,ql=Th(r,Qi,k.unit),$s=sc.anchor,Hs;kt(ql.anchor,$s)>0?(Hs=ql.head,$s=Gn(sc.from(),ql.anchor)):(Hs=ql.anchor,$s=Qn(sc.to(),ql.head));var fl=st.ranges.slice(0);fl[Ne]=ah(r,new us(Yr(ie,$s),Hs)),t(ie,Mc(r,fl,Ne),Ae)}}var qn=N.wrapper.getBoundingClientRect(),Wr=0;function ri(Qi){var Vi=++Wr,Wa=Xu(r,Qi,!0,k.unit=="rectangle");if(!!Wa)if(kt(Wa,An)!=0){r.curOp.focus=ue(J(r)),dr(Wa);var Ia=Ou(N,ie);(Wa.line>=Ia.to||Wa.line<Ia.from)&&setTimeout(Xo(r,function(){Wr==Vi&&ri(Qi)}),150)}else{var ha=Qi.clientY<qn.top?-20:Qi.clientY>qn.bottom?20:0;ha&&setTimeout(Xo(r,function(){Wr==Vi&&(N.scroller.scrollTop+=ha,ri(Qi))}),50)}}function wi(Qi){r.state.selectingText=!1,Wr=1/0,Qi&&(me(Qi),N.input.focus()),Tr(N.wrapper.ownerDocument,"mousemove",ji),Tr(N.wrapper.ownerDocument,"mouseup",ia),ie.history.lastSelOrigin=null}var ji=Xo(r,function(Qi){Qi.buttons===0||!St(Qi)?wi(Qi):ri(Qi)}),ia=Xo(r,wi);r.state.selectingText=ia,Vr(N.wrapper.ownerDocument,"mousemove",ji),Vr(N.wrapper.ownerDocument,"mouseup",ia)}function ah(r,o){var C=o.anchor,k=o.head,N=Vn(r.doc,C.line);if(kt(C,k)==0&&C.sticky==k.sticky)return o;var ie=$i(N);if(!ie)return o;var Se=ii(ie,C.ch,C.sticky),Ne=ie[Se];if(Ne.from!=C.ch&&Ne.to!=C.ch)return o;var st=Se+(Ne.from==C.ch==(Ne.level!=1)?0:1);if(st==0||st==ie.length)return o;var xt;if(k.line!=C.line)xt=(k.line-C.line)*(r.doc.direction=="ltr"?1:-1)>0;else{var ln=ii(ie,k.ch,k.sticky),An=ln-Se||(k.ch-C.ch)*(Ne.level==1?-1:1);ln==st-1||ln==st?xt=An<0:xt=An>0}var dr=ie[st+(xt?-1:0)],qn=xt==(dr.level==1),Wr=qn?dr.from:dr.to,ri=qn?"after":"before";return C.ch==Wr&&C.sticky==ri?o:new us(new He(C.line,Wr,ri),k)}function Nd(r,o,C,k){var N,ie;if(o.touches)N=o.touches[0].clientX,ie=o.touches[0].clientY;else try{N=o.clientX,ie=o.clientY}catch(dr){return!1}if(N>=Math.floor(r.display.gutters.getBoundingClientRect().right))return!1;k&&me(o);var Se=r.display,Ne=Se.lineDiv.getBoundingClientRect();if(ie>Ne.bottom||!pe(r,C))return nt(o);ie-=Ne.top-Se.viewOffset;for(var st=0;st<r.display.gutterSpecs.length;++st){var xt=Se.gutters.childNodes[st];if(xt&&xt.getBoundingClientRect().right>=N){var ln=Fr(r.doc,ie),An=r.display.gutterSpecs[st];return qt(r,C,r,ln,An.className,o),nt(o)}}}function Uf(r,o){return Nd(r,o,"gutterClick",!0)}function Hf(r,o){ui(r.display,o)||jh(r,o)||Zt(r,o,"contextmenu")||we||r.display.input.onContextMenu(o)}function jh(r,o){return pe(r,"gutterContextMenu")?Nd(r,o,"gutterContextMenu",!1):!1}function zu(r){r.display.wrapper.className=r.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+r.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Tl(r)}var af={toString:function(){return"CodeMirror.Init"}},Af={},jf={};function of(r){var o=r.optionHandlers;function C(k,N,ie,Se){r.defaults[k]=N,ie&&(o[k]=Se?function(Ne,st,xt){xt!=af&&ie(Ne,st,xt)}:ie)}r.defineOption=C,r.Init=af,C("value","",function(k,N){return k.setValue(N)},!0),C("mode",null,function(k,N){k.doc.modeOption=N,Ru(k)},!0),C("indentUnit",2,Ru,!0),C("indentWithTabs",!1),C("smartIndent",!0),C("tabSize",4,function(k){gc(k),Tl(k),Pl(k)},!0),C("lineSeparator",null,function(k,N){if(k.doc.lineSep=N,!!N){var ie=[],Se=k.doc.first;k.doc.iter(function(st){for(var xt=0;;){var ln=st.text.indexOf(N,xt);if(ln==-1)break;xt=ln+N.length,ie.push(He(Se,ln))}Se++});for(var Ne=ie.length-1;Ne>=0;Ne--)Ct(k.doc,N,ie[Ne],He(ie[Ne].line,ie[Ne].ch+N.length))}}),C("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(k,N,ie){k.state.specialChars=new RegExp(N.source+(N.test("	")?"":"|	"),"g"),ie!=af&&k.refresh()}),C("specialCharPlaceholder",Zs,function(k){return k.refresh()},!0),C("electricChars",!0),C("inputStyle",j?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),C("spellcheck",!1,function(k,N){return k.getInputField().spellcheck=N},!0),C("autocorrect",!1,function(k,N){return k.getInputField().autocorrect=N},!0),C("autocapitalize",!1,function(k,N){return k.getInputField().autocapitalize=N},!0),C("rtlMoveVisually",!se),C("wholeLineUpdateBefore",!0),C("theme","default",function(k){zu(k),Fi(k)},!0),C("keyMap","default",function(k,N,ie){var Se=So(N),Ne=ie!=af&&So(ie);Ne&&Ne.detach&&Ne.detach(k,Se),Se.attach&&Se.attach(k,Ne||null)}),C("extraKeys",null),C("configureMouse",null),C("lineWrapping",!1,uo,!0),C("gutters",[],function(k,N){k.display.gutterSpecs=Or(N,k.options.lineNumbers),Fi(k)},!0),C("fixedGutter",!0,function(k,N){k.display.gutters.style.left=N?Kd(k.display)+"px":"0",k.refresh()},!0),C("coverGutterNextToScrollbar",!1,function(k){return ed(k)},!0),C("scrollbarStyle","native",function(k){gu(k),ed(k),k.display.scrollbars.setScrollTop(k.doc.scrollTop),k.display.scrollbars.setScrollLeft(k.doc.scrollLeft)},!0),C("lineNumbers",!1,function(k,N){k.display.gutterSpecs=Or(k.options.gutters,N),Fi(k)},!0),C("firstLineNumber",1,Fi,!0),C("lineNumberFormatter",function(k){return k},Fi,!0),C("showCursorWhenSelecting",!1,Md,!0),C("resetSelectionOnContextMenu",!0),C("lineWiseCopyCut",!0),C("pasteLinesPerSelection",!0),C("selectionsMayTouch",!1),C("readOnly",!1,function(k,N){N=="nocursor"&&(Iu(k),k.display.input.blur()),k.display.input.readOnlyChanged(N)}),C("screenReaderLabel",null,function(k,N){N=N===""?null:N,k.display.input.screenReaderLabelChanged(N)}),C("disableInput",!1,function(k,N){N||k.display.input.reset()},!0),C("dragDrop",!0,oh),C("allowDropFileTypes",null),C("cursorBlinkRate",530),C("cursorScrollMargin",0),C("cursorHeight",1,Md,!0),C("singleCursorHeightPerLine",!0,Md,!0),C("workTime",100),C("workDelay",100),C("flattenSpans",!0,gc,!0),C("addModeClass",!1,gc,!0),C("pollInterval",100),C("undoDepth",200,function(k,N){return k.doc.history.undoDepth=N}),C("historyEventDelay",1250),C("viewportMargin",10,function(k){return k.refresh()},!0),C("maxHighlightLength",1e4,gc,!0),C("moveInputWithCursor",!0,function(k,N){N||k.display.input.resetPosition()}),C("tabindex",null,function(k,N){return k.display.input.getField().tabIndex=N||""}),C("autofocus",null),C("direction","ltr",function(k,N){return k.doc.setDirection(N)},!0),C("phrases",null)}function oh(r,o,C){var k=C&&C!=af;if(!o!=!k){var N=r.display.dragFunctions,ie=o?Vr:Tr;ie(r.display.scroller,"dragstart",N.start),ie(r.display.scroller,"dragenter",N.enter),ie(r.display.scroller,"dragover",N.over),ie(r.display.scroller,"dragleave",N.leave),ie(r.display.scroller,"drop",N.drop)}}function uo(r){r.options.lineWrapping?(ae(r.display.wrapper,"CodeMirror-wrap"),r.display.sizer.style.minWidth="",r.display.sizerWidth=null):(dt(r.display.wrapper,"CodeMirror-wrap"),Fs(r)),$u(r),Pl(r),Tl(r),setTimeout(function(){return ed(r)},100)}function ba(r,o){var C=this;if(!(this instanceof ba))return new ba(r,o);this.options=o=o?ze(o):{},ze(Af,o,!1);var k=o.value;typeof k=="string"?k=new pa(k,o.mode,null,o.lineSeparator,o.direction):o.mode&&(k.modeOption=o.mode),this.doc=k;var N=new ba.inputStyles[o.inputStyle](this),ie=this.display=new Ga(r,k,N,o);ie.wrapper.CodeMirror=this,zu(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),gu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new We,keySeq:null,specialChars:null},o.autofocus&&!j&&ie.input.focus(),p&&d<11&&setTimeout(function(){return C.display.input.reset(!0)},20),vo(this),Ui(),Id(this),this.curOp.forceUpdate=!0,Pu(this,k),o.autofocus&&!j||this.hasFocus()?setTimeout(function(){C.hasFocus()&&!C.state.focused&&Sl(C)},20):Iu(this);for(var Se in jf)jf.hasOwnProperty(Se)&&jf[Se](this,o[Se],af);br(this),o.finishInit&&o.finishInit(this);for(var Ne=0;Ne<Wu.length;++Ne)Wu[Ne](this);Ds(this),v&&o.lineWrapping&&getComputedStyle(ie.lineDiv).textRendering=="optimizelegibility"&&(ie.lineDiv.style.textRendering="auto")}ba.defaults=Af,ba.optionHandlers=jf;function vo(r){var o=r.display;Vr(o.scroller,"mousedown",Xo(r,Zu)),p&&d<11?Vr(o.scroller,"dblclick",Xo(r,function(st){if(!Zt(r,st)){var xt=Xu(r,st);if(!(!xt||Uf(r,st)||ui(r.display,st))){me(st);var ln=r.findWordAt(xt);Wo(r.doc,ln.anchor,ln.head)}}})):Vr(o.scroller,"dblclick",function(st){return Zt(r,st)||me(st)}),Vr(o.scroller,"contextmenu",function(st){return Hf(r,st)}),Vr(o.input.getField(),"contextmenu",function(st){o.scroller.contains(st.target)||Hf(r,st)});var C,k={end:0};function N(){o.activeTouch&&(C=setTimeout(function(){return o.activeTouch=null},1e3),k=o.activeTouch,k.end=+new Date)}function ie(st){if(st.touches.length!=1)return!1;var xt=st.touches[0];return xt.radiusX<=1&&xt.radiusY<=1}function Se(st,xt){if(xt.left==null)return!0;var ln=xt.left-st.left,An=xt.top-st.top;return ln*ln+An*An>20*20}Vr(o.scroller,"touchstart",function(st){if(!Zt(r,st)&&!ie(st)&&!Uf(r,st)){o.input.ensurePolled(),clearTimeout(C);var xt=+new Date;o.activeTouch={start:xt,moved:!1,prev:xt-k.end<=300?k:null},st.touches.length==1&&(o.activeTouch.left=st.touches[0].pageX,o.activeTouch.top=st.touches[0].pageY)}}),Vr(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),Vr(o.scroller,"touchend",function(st){var xt=o.activeTouch;if(xt&&!ui(o,st)&&xt.left!=null&&!xt.moved&&new Date-xt.start<300){var ln=r.coordsChar(o.activeTouch,"page"),An;!xt.prev||Se(xt,xt.prev)?An=new us(ln,ln):!xt.prev.prev||Se(xt,xt.prev.prev)?An=r.findWordAt(ln):An=new us(He(ln.line,0),Yr(r.doc,He(ln.line+1,0))),r.setSelection(An.anchor,An.head),r.focus(),me(st)}N()}),Vr(o.scroller,"touchcancel",N),Vr(o.scroller,"scroll",function(){o.scroller.clientHeight&&(au(r,o.scroller.scrollTop),bd(r,o.scroller.scrollLeft,!0),qt(r,"scroll",r))}),Vr(o.scroller,"mousewheel",function(st){return ih(r,st)}),Vr(o.scroller,"DOMMouseScroll",function(st){return ih(r,st)}),Vr(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(st){Zt(r,st)||ht(st)},over:function(st){Zt(r,st)||(To(r,st),ht(st))},start:function(st){return ka(r,st)},drop:Xo(r,io),leave:function(st){Zt(r,st)||Aa(r)}};var Ne=o.input.getField();Vr(Ne,"keyup",function(st){return _s.call(r,st)}),Vr(Ne,"keydown",Xo(r,Oo)),Vr(Ne,"keypress",Xo(r,Ml)),Vr(Ne,"focus",function(st){return Sl(r,st)}),Vr(Ne,"blur",function(st){return Iu(r,st)})}var Wu=[];ba.defineInitHook=function(r){return Wu.push(r)};function uu(r,o,C,k){var N=r.doc,ie;C==null&&(C="add"),C=="smart"&&(N.mode.indent?ie=Do(r,o).state:C="prev");var Se=r.options.tabSize,Ne=Vn(N,o),st=Ze(Ne.text,null,Se);Ne.stateAfter&&(Ne.stateAfter=null);var xt=Ne.text.match(/^\s*/)[0],ln;if(!k&&!/\S/.test(Ne.text))ln=0,C="not";else if(C=="smart"&&(ln=N.mode.indent(ie,Ne.text.slice(xt.length),Ne.text),ln==Ue||ln>150)){if(!k)return;C="prev"}C=="prev"?o>N.first?ln=Ze(Vn(N,o-1).text,null,Se):ln=0:C=="add"?ln=st+r.options.indentUnit:C=="subtract"?ln=st-r.options.indentUnit:typeof C=="number"&&(ln=st+C),ln=Math.max(0,ln);var An="",dr=0;if(r.options.indentWithTabs)for(var qn=Math.floor(ln/Se);qn;--qn)dr+=Se,An+="	";if(dr<ln&&(An+=et(ln-dr)),An!=xt)return Ct(N,An,He(o,0),He(o,xt.length),"+input"),Ne.stateAfter=null,!0;for(var Wr=0;Wr<N.sel.ranges.length;Wr++){var ri=N.sel.ranges[Wr];if(ri.head.line==o&&ri.head.ch<xt.length){var wi=He(o,xt.length);oc(N,Wr,new us(wi,wi));break}}}var Dl=null;function Vf(r){Dl=r}function wu(r,o,C,k,N){var ie=r.doc;r.display.shift=!1,k||(k=ie.sel);var Se=+new Date-200,Ne=N=="paste"||r.state.pasteIncoming>Se,st=Yt(o),xt=null;if(Ne&&k.ranges.length>1)if(Dl&&Dl.text.join(`
`)==o){if(k.ranges.length%Dl.text.length==0){xt=[];for(var ln=0;ln<Dl.text.length;ln++)xt.push(ie.splitLines(Dl.text[ln]))}}else st.length==k.ranges.length&&r.options.pasteLinesPerSelection&&(xt=jt(st,function(ji){return[ji]}));for(var An=r.curOp.updateInput,dr=k.ranges.length-1;dr>=0;dr--){var qn=k.ranges[dr],Wr=qn.from(),ri=qn.to();qn.empty()&&(C&&C>0?Wr=He(Wr.line,Wr.ch-C):r.state.overwrite&&!Ne?ri=He(ri.line,Math.min(Vn(ie,ri.line).text.length,ri.ch+wt(st).length)):Ne&&Dl&&Dl.lineWise&&Dl.text.join(`
`)==st.join(`
`)&&(Wr=ri=He(Wr.line,0)));var wi={from:Wr,to:ri,text:xt?xt[dr%xt.length]:st,origin:N||(Ne?"paste":r.state.cutIncoming>Se?"cut":"+input")};H(r.doc,wi),po(r,"inputRead",r,wi)}o&&!Ne&&sh(r,o),nc(r),r.curOp.updateInput<2&&(r.curOp.updateInput=An),r.curOp.typing=!0,r.state.pasteIncoming=r.state.cutIncoming=-1}function Rd(r,o){var C=r.clipboardData&&r.clipboardData.getData("Text");if(C)return r.preventDefault(),!o.isReadOnly()&&!o.options.disableInput&&o.hasFocus()&&tl(o,function(){return wu(o,C,0,null,"paste")}),!0}function sh(r,o){if(!(!r.options.electricChars||!r.options.smartIndent))for(var C=r.doc.sel,k=C.ranges.length-1;k>=0;k--){var N=C.ranges[k];if(!(N.head.ch>100||k&&C.ranges[k-1].head.line==N.head.line)){var ie=r.getModeAt(N.head),Se=!1;if(ie.electricChars){for(var Ne=0;Ne<ie.electricChars.length;Ne++)if(o.indexOf(ie.electricChars.charAt(Ne))>-1){Se=uu(r,N.head.line,"smart");break}}else ie.electricInput&&ie.electricInput.test(Vn(r.doc,N.head.line).text.slice(0,N.head.ch))&&(Se=uu(r,N.head.line,"smart"));Se&&po(r,"electricInput",r,N.head.line)}}}function Gp(r){for(var o=[],C=[],k=0;k<r.doc.sel.ranges.length;k++){var N=r.doc.sel.ranges[k].head.line,ie={anchor:He(N,0),head:He(N+1,0)};C.push(ie),o.push(r.getRange(ie.anchor,ie.head))}return{text:o,ranges:C}}function Tp(r,o,C,k){r.setAttribute("autocorrect",C?"on":"off"),r.setAttribute("autocapitalize",k?"on":"off"),r.setAttribute("spellcheck",!!o)}function qp(){var r=Te("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),o=Te("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?r.style.width="1000px":r.setAttribute("wrap","off"),Y&&(r.style.border="1px solid black"),o}function Vh(r){var o=r.optionHandlers,C=r.helpers={};r.prototype={constructor:r,focus:function(){X(this).focus(),this.display.input.focus()},setOption:function(k,N){var ie=this.options,Se=ie[k];ie[k]==N&&k!="mode"||(ie[k]=N,o.hasOwnProperty(k)&&Xo(this,o[k])(this,N,Se),qt(this,"optionChange",this,k))},getOption:function(k){return this.options[k]},getDoc:function(){return this.doc},addKeyMap:function(k,N){this.state.keyMaps[N?"push":"unshift"](So(k))},removeKeyMap:function(k){for(var N=this.state.keyMaps,ie=0;ie<N.length;++ie)if(N[ie]==k||N[ie].name==k)return N.splice(ie,1),!0},addOverlay:Ko(function(k,N){var ie=k.token?k:r.getMode(this.options,k);if(ie.startState)throw new Error("Overlays may not be stateful.");on(this.state.overlays,{mode:ie,modeSpec:k,opaque:N&&N.opaque,priority:N&&N.priority||0},function(Se){return Se.priority}),this.state.modeGen++,Pl(this)}),removeOverlay:Ko(function(k){for(var N=this.state.overlays,ie=0;ie<N.length;++ie){var Se=N[ie].modeSpec;if(Se==k||typeof k=="string"&&Se.name==k){N.splice(ie,1),this.state.modeGen++,Pl(this);return}}}),indentLine:Ko(function(k,N,ie){typeof N!="string"&&typeof N!="number"&&(N==null?N=this.options.smartIndent?"smart":"prev":N=N?"add":"subtract"),lr(this.doc,k)&&uu(this,k,N,ie)}),indentSelection:Ko(function(k){for(var N=this.doc.sel.ranges,ie=-1,Se=0;Se<N.length;Se++){var Ne=N[Se];if(Ne.empty())Ne.head.line>ie&&(uu(this,Ne.head.line,k,!0),ie=Ne.head.line,Se==this.doc.sel.primIndex&&nc(this));else{var st=Ne.from(),xt=Ne.to(),ln=Math.max(ie,st.line);ie=Math.min(this.lastLine(),xt.line-(xt.ch?0:1))+1;for(var An=ln;An<ie;++An)uu(this,An,k);var dr=this.doc.sel.ranges;st.ch==0&&N.length==dr.length&&dr[Se].from().ch>0&&oc(this.doc,Se,new us(st,dr[Se].to()),Ye)}}}),getTokenAt:function(k,N){return Zl(this,k,N)},getLineTokens:function(k,N){return Zl(this,He(k),N,!0)},getTokenTypeAt:function(k){k=Yr(this.doc,k);var N=eo(this,Vn(this.doc,k.line)),ie=0,Se=(N.length-1)/2,Ne=k.ch,st;if(Ne==0)st=N[2];else for(;;){var xt=ie+Se>>1;if((xt?N[xt*2-1]:0)>=Ne)Se=xt;else if(N[xt*2+1]<Ne)ie=xt+1;else{st=N[xt*2+2];break}}var ln=st?st.indexOf("overlay "):-1;return ln<0?st:ln==0?null:st.slice(0,ln-1)},getModeAt:function(k){var N=this.doc.mode;return N.innerMode?r.innerMode(N,this.getTokenAt(k).state).mode:N},getHelper:function(k,N){return this.getHelpers(k,N)[0]},getHelpers:function(k,N){var ie=[];if(!C.hasOwnProperty(N))return ie;var Se=C[N],Ne=this.getModeAt(k);if(typeof Ne[N]=="string")Se[Ne[N]]&&ie.push(Se[Ne[N]]);else if(Ne[N])for(var st=0;st<Ne[N].length;st++){var xt=Se[Ne[N][st]];xt&&ie.push(xt)}else Ne.helperType&&Se[Ne.helperType]?ie.push(Se[Ne.helperType]):Se[Ne.name]&&ie.push(Se[Ne.name]);for(var ln=0;ln<Se._global.length;ln++){var An=Se._global[ln];An.pred(Ne,this)&&ye(ie,An.val)==-1&&ie.push(An.val)}return ie},getStateAfter:function(k,N){var ie=this.doc;return k=Li(ie,k==null?ie.first+ie.size-1:k),Do(this,k+1,N).state},cursorCoords:function(k,N){var ie,Se=this.doc.sel.primary();return k==null?ie=Se.head:typeof k=="object"?ie=Yr(this.doc,k):ie=k?Se.from():Se.to(),Ac(this,ie,N||"page")},charCoords:function(k,N){return hd(this,Yr(this.doc,k),N||"page")},coordsChar:function(k,N){return k=Vl(this,k,N||"page"),qu(this,k.left,k.top)},lineAtHeight:function(k,N){return k=Vl(this,{top:k,left:0},N||"page").top,Fr(this.doc,k+this.display.viewOffset)},heightAtLine:function(k,N,ie){var Se=!1,Ne;if(typeof k=="number"){var st=this.doc.first+this.doc.size-1;k<this.doc.first?k=this.doc.first:k>st&&(k=st,Se=!0),Ne=Vn(this.doc,k)}else Ne=k;return nu(this,Ne,{top:0,left:0},N||"page",ie||Se).top+(Se?this.doc.height-Da(Ne):0)},defaultTextHeight:function(){return vd(this.display)},defaultCharWidth:function(){return Fc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(k,N,ie,Se,Ne){var st=this.display;k=Ac(this,Yr(this.doc,k));var xt=k.bottom,ln=k.left;if(N.style.position="absolute",N.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(N),st.sizer.appendChild(N),Se=="over")xt=k.top;else if(Se=="above"||Se=="near"){var An=Math.max(st.wrapper.clientHeight,this.doc.height),dr=Math.max(st.sizer.clientWidth,st.lineSpace.clientWidth);(Se=="above"||k.bottom+N.offsetHeight>An)&&k.top>N.offsetHeight?xt=k.top-N.offsetHeight:k.bottom+N.offsetHeight<=An&&(xt=k.bottom),ln+N.offsetWidth>dr&&(ln=dr-N.offsetWidth)}N.style.top=xt+"px",N.style.left=N.style.right="",Ne=="right"?(ln=st.sizer.clientWidth-N.offsetWidth,N.style.right="0px"):(Ne=="left"?ln=0:Ne=="middle"&&(ln=(st.sizer.clientWidth-N.offsetWidth)/2),N.style.left=ln+"px"),ie&&xf(this,{left:ln,top:xt,right:ln+N.offsetWidth,bottom:xt+N.offsetHeight})},triggerOnKeyDown:Ko(Oo),triggerOnKeyPress:Ko(Ml),triggerOnKeyUp:_s,triggerOnMouseDown:Ko(Zu),execCommand:function(k){if(su.hasOwnProperty(k))return su[k].call(null,this)},triggerElectric:Ko(function(k){sh(this,k)}),findPosH:function(k,N,ie,Se){var Ne=1;N<0&&(Ne=-1,N=-N);for(var st=Yr(this.doc,k),xt=0;xt<N&&(st=Sh(this.doc,st,Ne,ie,Se),!st.hitSide);++xt);return st},moveH:Ko(function(k,N){var ie=this;this.extendSelectionsBy(function(Se){return ie.display.shift||ie.doc.extend||Se.empty()?Sh(ie.doc,Se.head,k,N,ie.options.rtlMoveVisually):k<0?Se.from():Se.to()},tt)}),deleteH:Ko(function(k,N){var ie=this.doc.sel,Se=this.doc;ie.somethingSelected()?Se.replaceSelection("",null,"+delete"):qs(this,function(Ne){var st=Sh(Se,Ne.head,k,N,!1);return k<0?{from:st,to:Ne.head}:{from:Ne.head,to:st}})}),findPosV:function(k,N,ie,Se){var Ne=1,st=Se;N<0&&(Ne=-1,N=-N);for(var xt=Yr(this.doc,k),ln=0;ln<N;++ln){var An=Ac(this,xt,"div");if(st==null?st=An.left:An.left=st,xt=Pd(this,An,Ne,ie),xt.hitSide)break}return xt},moveV:Ko(function(k,N){var ie=this,Se=this.doc,Ne=[],st=!this.display.shift&&!Se.extend&&Se.sel.somethingSelected();if(Se.extendSelectionsBy(function(ln){if(st)return k<0?ln.from():ln.to();var An=Ac(ie,ln.head,"div");ln.goalColumn!=null&&(An.left=ln.goalColumn),Ne.push(An.left);var dr=Pd(ie,An,k,N);return N=="page"&&ln==Se.sel.primary()&&Qd(ie,hd(ie,dr,"div").top-An.top),dr},tt),Ne.length)for(var xt=0;xt<Se.sel.ranges.length;xt++)Se.sel.ranges[xt].goalColumn=Ne[xt]}),findWordAt:function(k){var N=this.doc,ie=Vn(N,k.line).text,Se=k.ch,Ne=k.ch;if(ie){var st=this.getHelper(k,"wordChars");(k.sticky=="before"||Ne==ie.length)&&Se?--Se:++Ne;for(var xt=ie.charAt(Se),ln=Jt(xt,st)?function(An){return Jt(An,st)}:/\s/.test(xt)?function(An){return/\s/.test(An)}:function(An){return!/\s/.test(An)&&!Jt(An)};Se>0&&ln(ie.charAt(Se-1));)--Se;for(;Ne<ie.length&&ln(ie.charAt(Ne));)++Ne}return new us(He(k.line,Se),He(k.line,Ne))},toggleOverwrite:function(k){k!=null&&k==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ae(this.display.cursorDiv,"CodeMirror-overwrite"):dt(this.display.cursorDiv,"CodeMirror-overwrite"),qt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ue(J(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ko(function(k,N){Nu(this,k,N)}),getScrollInfo:function(){var k=this.display.scroller;return{left:k.scrollLeft,top:k.scrollTop,height:k.scrollHeight-ma(this)-this.display.barHeight,width:k.scrollWidth-ma(this)-this.display.barWidth,clientHeight:$o(this),clientWidth:_o(this)}},scrollIntoView:Ko(function(k,N){k==null?(k={from:this.doc.sel.primary().head,to:null},N==null&&(N=this.options.cursorScrollMargin)):typeof k=="number"?k={from:He(k,0),to:null}:k.from==null&&(k={from:k,to:null}),k.to||(k.to=k.from),k.margin=N||0,k.from.line!=null?Dd(this,k):Pf(this,k.from,k.to,k.margin)}),setSize:Ko(function(k,N){var ie=this,Se=function(st){return typeof st=="number"||/^\d+$/.test(String(st))?st+"px":st};k!=null&&(this.display.wrapper.style.width=Se(k)),N!=null&&(this.display.wrapper.style.height=Se(N)),this.options.lineWrapping&&gf(this);var Ne=this.display.viewFrom;this.doc.iter(Ne,this.display.viewTo,function(st){if(st.widgets){for(var xt=0;xt<st.widgets.length;xt++)if(st.widgets[xt].noHScroll){ll(ie,Ne,"widget");break}}++Ne}),this.curOp.forceUpdate=!0,qt(this,"refresh",this)}),operation:function(k){return tl(this,k)},startOperation:function(){return Id(this)},endOperation:function(){return Ds(this)},refresh:Ko(function(){var k=this.display.cachedTextHeight;Pl(this),this.curOp.forceUpdate=!0,Tl(this),Nu(this,this.doc.scrollLeft,this.doc.scrollTop),dn(this.display),(k==null||Math.abs(k-vd(this.display))>.5||this.options.lineWrapping)&&$u(this),qt(this,"refresh",this)}),swapDoc:Ko(function(k){var N=this.doc;return N.cm=null,this.state.selectingText&&this.state.selectingText(),Pu(this,k),Tl(this),this.display.input.reset(),Nu(this,k.scrollLeft,k.scrollTop),this.curOp.forceScroll=!0,po(this,"swapDoc",this,N),N}),phrase:function(k){var N=this.options.phrases;return N&&Object.prototype.hasOwnProperty.call(N,k)?N[k]:k},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},oe(r),r.registerHelper=function(k,N,ie){C.hasOwnProperty(k)||(C[k]=r[k]={_global:[]}),C[k][N]=ie},r.registerGlobalHelper=function(k,N,ie,Se){r.registerHelper(k,N,Se),C[k]._global.push({pred:ie,val:Se})}}function Sh(r,o,C,k,N){var ie=o,Se=C,Ne=Vn(r,o.line),st=N&&r.direction=="rtl"?-C:C;function xt(){var ia=o.line+st;return ia<r.first||ia>=r.first+r.size?!1:(o=new He(ia,o.ch,o.sticky),Ne=Vn(r,ia))}function ln(ia){var Qi;if(k=="codepoint"){var Vi=Ne.text.charCodeAt(o.ch+(C>0?0:-1));if(isNaN(Vi))Qi=null;else{var Wa=C>0?Vi>=55296&&Vi<56320:Vi>=56320&&Vi<57343;Qi=new He(o.line,Math.max(0,Math.min(Ne.text.length,o.ch+C*(Wa?2:1))),-C)}}else N?Qi=rd(r.cm,Ne,o,C):Qi=jc(Ne,o,C);if(Qi==null)if(!ia&&xt())o=Ic(N,r.cm,Ne,o.line,st);else return!1;else o=Qi;return!0}if(k=="char"||k=="codepoint")ln();else if(k=="column")ln(!0);else if(k=="word"||k=="group")for(var An=null,dr=k=="group",qn=r.cm&&r.cm.getHelper(o,"wordChars"),Wr=!0;!(C<0&&!ln(!Wr));Wr=!1){var ri=Ne.text.charAt(o.ch)||`
`,wi=Jt(ri,qn)?"w":dr&&ri==`
`?"n":!dr||/\s/.test(ri)?null:"p";if(dr&&!Wr&&!wi&&(wi="s"),An&&An!=wi){C<0&&(C=1,ln(),o.sticky="after");break}if(wi&&(An=wi),C>0&&!ln(!Wr))break}var ji=I(r,o,ie,Se,!0);return Pn(ie,ji)&&(ji.hitSide=!0),ji}function Pd(r,o,C,k){var N=r.doc,ie=o.left,Se;if(k=="page"){var Ne=Math.min(r.display.wrapper.clientHeight,X(r).innerHeight||N(r).documentElement.clientHeight),st=Math.max(Ne-.5*vd(r.display),3);Se=(C>0?o.bottom:o.top)+C*st}else k=="line"&&(Se=C>0?o.bottom+3:o.top-3);for(var xt;xt=qu(r,ie,Se),!!xt.outside;){if(C<0?Se<=0:Se>=N.height){xt.hitSide=!0;break}Se+=C*5}return xt}var fs=function(r){this.cm=r,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new We,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};fs.prototype.init=function(r){var o=this,C=this,k=C.cm,N=C.div=r.lineDiv;N.contentEditable=!0,Tp(N,k.options.spellcheck,k.options.autocorrect,k.options.autocapitalize);function ie(Ne){for(var st=Ne.target;st;st=st.parentNode){if(st==N)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(st.className))break}return!1}Vr(N,"paste",function(Ne){!ie(Ne)||Zt(k,Ne)||Rd(Ne,k)||d<=11&&setTimeout(Xo(k,function(){return o.updateFromDOM()}),20)}),Vr(N,"compositionstart",function(Ne){o.composing={data:Ne.data,done:!1}}),Vr(N,"compositionupdate",function(Ne){o.composing||(o.composing={data:Ne.data,done:!1})}),Vr(N,"compositionend",function(Ne){o.composing&&(Ne.data!=o.composing.data&&o.readFromDOMSoon(),o.composing.done=!0)}),Vr(N,"touchstart",function(){return C.forceCompositionEnd()}),Vr(N,"input",function(){o.composing||o.readFromDOMSoon()});function Se(Ne){if(!(!ie(Ne)||Zt(k,Ne))){if(k.somethingSelected())Vf({lineWise:!1,text:k.getSelections()}),Ne.type=="cut"&&k.replaceSelection("",null,"cut");else if(k.options.lineWiseCopyCut){var st=Gp(k);Vf({lineWise:!0,text:st.text}),Ne.type=="cut"&&k.operation(function(){k.setSelections(st.ranges,0,Ye),k.replaceSelection("",null,"cut")})}else return;if(Ne.clipboardData){Ne.clipboardData.clearData();var xt=Dl.text.join(`
`);if(Ne.clipboardData.setData("Text",xt),Ne.clipboardData.getData("Text")==xt){Ne.preventDefault();return}}var ln=qp(),An=ln.firstChild;Tp(An),k.display.lineSpace.insertBefore(ln,k.display.lineSpace.firstChild),An.value=Dl.text.join(`
`);var dr=ue(N.ownerDocument);ve(An),setTimeout(function(){k.display.lineSpace.removeChild(ln),dr.focus(),dr==N&&C.showPrimarySelection()},50)}}Vr(N,"copy",Se),Vr(N,"cut",Se)},fs.prototype.screenReaderLabelChanged=function(r){r?this.div.setAttribute("aria-label",r):this.div.removeAttribute("aria-label")},fs.prototype.prepareSelection=function(){var r=gd(this.cm,!1);return r.focus=ue(this.div.ownerDocument)==this.div,r},fs.prototype.showSelection=function(r,o){!r||!this.cm.display.view.length||((r.focus||o)&&this.showPrimarySelection(),this.showMultipleSelections(r))},fs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},fs.prototype.showPrimarySelection=function(){var r=this.getSelection(),o=this.cm,C=o.doc.sel.primary(),k=C.from(),N=C.to();if(o.display.viewTo==o.display.viewFrom||k.line>=o.display.viewTo||N.line<o.display.viewFrom){r.removeAllRanges();return}var ie=ch(o,r.anchorNode,r.anchorOffset),Se=ch(o,r.focusNode,r.focusOffset);if(!(ie&&!ie.bad&&Se&&!Se.bad&&kt(Gn(ie,Se),k)==0&&kt(Qn(ie,Se),N)==0)){var Ne=o.display.view,st=k.line>=o.display.viewFrom&&lh(o,k)||{node:Ne[0].measure.map[2],offset:0},xt=N.line<o.display.viewTo&&lh(o,N);if(!xt){var ln=Ne[Ne.length-1].measure,An=ln.maps?ln.maps[ln.maps.length-1]:ln.map;xt={node:An[An.length-1],offset:An[An.length-2]-An[An.length-3]}}if(!st||!xt){r.removeAllRanges();return}var dr=r.rangeCount&&r.getRangeAt(0),qn;try{qn=te(st.node,st.offset,xt.offset,xt.node)}catch(Wr){}qn&&(!O&&o.state.focused?(r.collapse(st.node,st.offset),qn.collapsed||(r.removeAllRanges(),r.addRange(qn))):(r.removeAllRanges(),r.addRange(qn)),dr&&r.anchorNode==null?r.addRange(dr):O&&this.startGracePeriod()),this.rememberSelection()}},fs.prototype.startGracePeriod=function(){var r=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){r.gracePeriod=!1,r.selectionChanged()&&r.cm.operation(function(){return r.cm.curOp.selectionChanged=!0})},20)},fs.prototype.showMultipleSelections=function(r){lt(this.cm.display.cursorDiv,r.cursors),lt(this.cm.display.selectionDiv,r.selection)},fs.prototype.rememberSelection=function(){var r=this.getSelection();this.lastAnchorNode=r.anchorNode,this.lastAnchorOffset=r.anchorOffset,this.lastFocusNode=r.focusNode,this.lastFocusOffset=r.focusOffset},fs.prototype.selectionInEditor=function(){var r=this.getSelection();if(!r.rangeCount)return!1;var o=r.getRangeAt(0).commonAncestorContainer;return fe(this.div,o)},fs.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ue(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},fs.prototype.blur=function(){this.div.blur()},fs.prototype.getField=function(){return this.div},fs.prototype.supportsTouch=function(){return!0},fs.prototype.receivedFocus=function(){var r=this,o=this;this.selectionInEditor()?setTimeout(function(){return r.pollSelection()},20):tl(this.cm,function(){return o.cm.curOp.selectionChanged=!0});function C(){o.cm.state.focused&&(o.pollSelection(),o.polling.set(o.cm.options.pollInterval,C))}this.polling.set(this.cm.options.pollInterval,C)},fs.prototype.selectionChanged=function(){var r=this.getSelection();return r.anchorNode!=this.lastAnchorNode||r.anchorOffset!=this.lastAnchorOffset||r.focusNode!=this.lastFocusNode||r.focusOffset!=this.lastFocusOffset},fs.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var r=this.getSelection(),o=this.cm;if(q&&D&&this.cm.display.gutterSpecs.length&&Sp(r.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var C=ch(o,r.anchorNode,r.anchorOffset),k=ch(o,r.focusNode,r.focusOffset);C&&k&&tl(o,function(){t(o.doc,Wc(C,k),Ye),(C.bad||k.bad)&&(o.curOp.selectionChanged=!0)})}}},fs.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var r=this.cm,o=r.display,C=r.doc.sel.primary(),k=C.from(),N=C.to();if(k.ch==0&&k.line>r.firstLine()&&(k=He(k.line-1,Vn(r.doc,k.line-1).length)),N.ch==Vn(r.doc,N.line).text.length&&N.line<r.lastLine()&&(N=He(N.line+1,0)),k.line<o.viewFrom||N.line>o.viewTo-1)return!1;var ie,Se,Ne;k.line==o.viewFrom||(ie=iu(r,k.line))==0?(Se=Ar(o.view[0].line),Ne=o.view[0].node):(Se=Ar(o.view[ie].line),Ne=o.view[ie-1].node.nextSibling);var st=iu(r,N.line),xt,ln;if(st==o.view.length-1?(xt=o.viewTo-1,ln=o.lineDiv.lastChild):(xt=Ar(o.view[st+1].line)-1,ln=o.view[st+1].node.previousSibling),!Ne)return!1;for(var An=r.doc.splitLines(Kf(r,Ne,ln,Se,xt)),dr=ci(r.doc,He(Se,0),He(xt,Vn(r.doc,xt).text.length));An.length>1&&dr.length>1;)if(wt(An)==wt(dr))An.pop(),dr.pop(),xt--;else if(An[0]==dr[0])An.shift(),dr.shift(),Se++;else break;for(var qn=0,Wr=0,ri=An[0],wi=dr[0],ji=Math.min(ri.length,wi.length);qn<ji&&ri.charCodeAt(qn)==wi.charCodeAt(qn);)++qn;for(var ia=wt(An),Qi=wt(dr),Vi=Math.min(ia.length-(An.length==1?qn:0),Qi.length-(dr.length==1?qn:0));Wr<Vi&&ia.charCodeAt(ia.length-Wr-1)==Qi.charCodeAt(Qi.length-Wr-1);)++Wr;if(An.length==1&&dr.length==1&&Se==k.line)for(;qn&&qn>k.ch&&ia.charCodeAt(ia.length-Wr-1)==Qi.charCodeAt(Qi.length-Wr-1);)qn--,Wr++;An[An.length-1]=ia.slice(0,ia.length-Wr).replace(/^\u200b+/,""),An[0]=An[0].slice(qn).replace(/\u200b+$/,"");var Wa=He(Se,qn),Ia=He(xt,dr.length?wt(dr).length-Wr:0);if(An.length>1||An[0]||kt(Wa,Ia))return Ct(r.doc,An,Wa,Ia,"+input"),!0},fs.prototype.ensurePolled=function(){this.forceCompositionEnd()},fs.prototype.reset=function(){this.forceCompositionEnd()},fs.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},fs.prototype.readFromDOMSoon=function(){var r=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(r.readDOMTimeout=null,r.composing)if(r.composing.done)r.composing=null;else return;r.updateFromDOM()},80))},fs.prototype.updateFromDOM=function(){var r=this;(this.cm.isReadOnly()||!this.pollContent())&&tl(this.cm,function(){return Pl(r.cm)})},fs.prototype.setUneditable=function(r){r.contentEditable="false"},fs.prototype.onKeyPress=function(r){r.charCode==0||this.composing||(r.preventDefault(),this.cm.isReadOnly()||Xo(this.cm,wu)(this.cm,String.fromCharCode(r.charCode==null?r.keyCode:r.charCode),0))},fs.prototype.readOnlyChanged=function(r){this.div.contentEditable=String(r!="nocursor")},fs.prototype.onContextMenu=function(){},fs.prototype.resetPosition=function(){},fs.prototype.needsContentAttribute=!0;function lh(r,o){var C=Tc(r,o.line);if(!C||C.hidden)return null;var k=Vn(r.doc,o.line),N=Yo(C,k,o.line),ie=$i(k,r.doc.direction),Se="left";if(ie){var Ne=ii(ie,o.ch);Se=Ne%2?"right":"left"}var st=hc(N.map,o.ch,Se);return st.offset=st.collapse=="right"?st.end:st.start,st}function Sp(r){for(var o=r;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}function Yf(r,o){return o&&(r.bad=!0),r}function Kf(r,o,C,k,N){var ie="",Se=!1,Ne=r.doc.lineSeparator(),st=!1;function xt(qn){return function(Wr){return Wr.id==qn}}function ln(){Se&&(ie+=Ne,st&&(ie+=Ne),Se=st=!1)}function An(qn){qn&&(ln(),ie+=qn)}function dr(qn){if(qn.nodeType==1){var Wr=qn.getAttribute("cm-text");if(Wr){An(Wr);return}var ri=qn.getAttribute("cm-marker"),wi;if(ri){var ji=r.findMarks(He(k,0),He(N+1,0),xt(+ri));ji.length&&(wi=ji[0].find(0))&&An(ci(r.doc,wi.from,wi.to).join(Ne));return}if(qn.getAttribute("contenteditable")=="false")return;var ia=/^(pre|div|p|li|table|br)$/i.test(qn.nodeName);if(!/^br$/i.test(qn.nodeName)&&qn.textContent.length==0)return;ia&&ln();for(var Qi=0;Qi<qn.childNodes.length;Qi++)dr(qn.childNodes[Qi]);/^(pre|p)$/i.test(qn.nodeName)&&(st=!0),ia&&(Se=!0)}else qn.nodeType==3&&An(qn.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;dr(o),o!=C;)o=o.nextSibling,st=!1;return ie}function ch(r,o,C){var k;if(o==r.display.lineDiv){if(k=r.display.lineDiv.childNodes[C],!k)return Yf(r.clipPos(He(r.display.viewTo-1)),!0);o=null,C=0}else for(k=o;;k=k.parentNode){if(!k||k==r.display.lineDiv)return null;if(k.parentNode&&k.parentNode==r.display.lineDiv)break}for(var N=0;N<r.display.view.length;N++){var ie=r.display.view[N];if(ie.node==k)return Ap(ie,o,C)}}function Ap(r,o,C){var k=r.text.firstChild,N=!1;if(!o||!fe(k,o))return Yf(He(Ar(r.line),0),!0);if(o==k&&(N=!0,o=k.childNodes[C],C=0,!o)){var ie=r.rest?wt(r.rest):r.line;return Yf(He(Ar(ie),ie.text.length),N)}var Se=o.nodeType==3?o:null,Ne=o;for(!Se&&o.childNodes.length==1&&o.firstChild.nodeType==3&&(Se=o.firstChild,C&&(C=Se.nodeValue.length));Ne.parentNode!=k;)Ne=Ne.parentNode;var st=r.measure,xt=st.maps;function ln(wi,ji,ia){for(var Qi=-1;Qi<(xt?xt.length:0);Qi++)for(var Vi=Qi<0?st.map:xt[Qi],Wa=0;Wa<Vi.length;Wa+=3){var Ia=Vi[Wa+2];if(Ia==wi||Ia==ji){var ha=Ar(Qi<0?r.line:r.rest[Qi]),Es=Vi[Wa]+ia;return(ia<0||Ia!=wi)&&(Es=Vi[Wa+(ia?1:0)]),He(ha,Es)}}}var An=ln(Se,Ne,C);if(An)return Yf(An,N);for(var dr=Ne.nextSibling,qn=Se?Se.nodeValue.length-C:0;dr;dr=dr.nextSibling){if(An=ln(dr,dr.firstChild,0),An)return Yf(He(An.line,An.ch-qn),N);qn+=dr.textContent.length}for(var Wr=Ne.previousSibling,ri=C;Wr;Wr=Wr.previousSibling){if(An=ln(Wr,Wr.firstChild,-1),An)return Yf(He(An.line,An.ch+ri),N);ri+=Wr.textContent.length}}var Il=function(r){this.cm=r,this.prevInput="",this.pollingFast=!1,this.polling=new We,this.hasSelection=!1,this.composing=null,this.resetting=!1};Il.prototype.init=function(r){var o=this,C=this,k=this.cm;this.createField(r);var N=this.textarea;r.wrapper.insertBefore(this.wrapper,r.wrapper.firstChild),Y&&(N.style.width="0px"),Vr(N,"input",function(){p&&d>=9&&o.hasSelection&&(o.hasSelection=null),C.poll()}),Vr(N,"paste",function(Se){Zt(k,Se)||Rd(Se,k)||(k.state.pasteIncoming=+new Date,C.fastPoll())});function ie(Se){if(!Zt(k,Se)){if(k.somethingSelected())Vf({lineWise:!1,text:k.getSelections()});else if(k.options.lineWiseCopyCut){var Ne=Gp(k);Vf({lineWise:!0,text:Ne.text}),Se.type=="cut"?k.setSelections(Ne.ranges,null,Ye):(C.prevInput="",N.value=Ne.text.join(`
`),ve(N))}else return;Se.type=="cut"&&(k.state.cutIncoming=+new Date)}}Vr(N,"cut",ie),Vr(N,"copy",ie),Vr(r.scroller,"paste",function(Se){if(!(ui(r,Se)||Zt(k,Se))){if(!N.dispatchEvent){k.state.pasteIncoming=+new Date,C.focus();return}var Ne=new Event("paste");Ne.clipboardData=Se.clipboardData,N.dispatchEvent(Ne)}}),Vr(r.lineSpace,"selectstart",function(Se){ui(r,Se)||me(Se)}),Vr(N,"compositionstart",function(){var Se=k.getCursor("from");C.composing&&C.composing.range.clear(),C.composing={start:Se,range:k.markText(Se,k.getCursor("to"),{className:"CodeMirror-composing"})}}),Vr(N,"compositionend",function(){C.composing&&(C.poll(),C.composing.range.clear(),C.composing=null)})},Il.prototype.createField=function(r){this.wrapper=qp(),this.textarea=this.wrapper.firstChild;var o=this.cm.options;Tp(this.textarea,o.spellcheck,o.autocorrect,o.autocapitalize)},Il.prototype.screenReaderLabelChanged=function(r){r?this.textarea.setAttribute("aria-label",r):this.textarea.removeAttribute("aria-label")},Il.prototype.prepareSelection=function(){var r=this.cm,o=r.display,C=r.doc,k=gd(r);if(r.options.moveInputWithCursor){var N=Ac(r,C.sel.primary().head,"div"),ie=o.wrapper.getBoundingClientRect(),Se=o.lineDiv.getBoundingClientRect();k.teTop=Math.max(0,Math.min(o.wrapper.clientHeight-10,N.top+Se.top-ie.top)),k.teLeft=Math.max(0,Math.min(o.wrapper.clientWidth-10,N.left+Se.left-ie.left))}return k},Il.prototype.showSelection=function(r){var o=this.cm,C=o.display;lt(C.cursorDiv,r.cursors),lt(C.selectionDiv,r.selection),r.teTop!=null&&(this.wrapper.style.top=r.teTop+"px",this.wrapper.style.left=r.teLeft+"px")},Il.prototype.reset=function(r){if(!(this.contextMenuPending||this.composing&&r)){var o=this.cm;if(this.resetting=!0,o.somethingSelected()){this.prevInput="";var C=o.getSelection();this.textarea.value=C,o.state.focused&&ve(this.textarea),p&&d>=9&&(this.hasSelection=C)}else r||(this.prevInput=this.textarea.value="",p&&d>=9&&(this.hasSelection=null));this.resetting=!1}},Il.prototype.getField=function(){return this.textarea},Il.prototype.supportsTouch=function(){return!1},Il.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!j||ue(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(r){}},Il.prototype.blur=function(){this.textarea.blur()},Il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Il.prototype.receivedFocus=function(){this.slowPoll()},Il.prototype.slowPoll=function(){var r=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){r.poll(),r.cm.state.focused&&r.slowPoll()})},Il.prototype.fastPoll=function(){var r=!1,o=this;o.pollingFast=!0;function C(){var k=o.poll();!k&&!r?(r=!0,o.polling.set(60,C)):(o.pollingFast=!1,o.slowPoll())}o.polling.set(20,C)},Il.prototype.poll=function(){var r=this,o=this.cm,C=this.textarea,k=this.prevInput;if(this.contextMenuPending||this.resetting||!o.state.focused||Mn(C)&&!k&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var N=C.value;if(N==k&&!o.somethingSelected())return!1;if(p&&d>=9&&this.hasSelection===N||le&&/[\uf700-\uf7ff]/.test(N))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var ie=N.charCodeAt(0);if(ie==8203&&!k&&(k="\u200B"),ie==8666)return this.reset(),this.cm.execCommand("undo")}for(var Se=0,Ne=Math.min(k.length,N.length);Se<Ne&&k.charCodeAt(Se)==N.charCodeAt(Se);)++Se;return tl(o,function(){wu(o,N.slice(Se),k.length-Se,null,r.composing?"*compose":null),N.length>1e3||N.indexOf(`
`)>-1?C.value=r.prevInput="":r.prevInput=N,r.composing&&(r.composing.range.clear(),r.composing.range=o.markText(r.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Il.prototype.onKeyPress=function(){p&&d>=9&&(this.hasSelection=null),this.fastPoll()},Il.prototype.onContextMenu=function(r){var o=this,C=o.cm,k=C.display,N=o.textarea;o.contextMenuPending&&o.contextMenuPending();var ie=Xu(C,r),Se=k.scroller.scrollTop;if(!ie||S)return;var Ne=C.options.resetSelectionOnContextMenu;Ne&&C.doc.sel.contains(ie)==-1&&Xo(C,t)(C.doc,Wc(ie),Ye);var st=N.style.cssText,xt=o.wrapper.style.cssText,ln=o.wrapper.offsetParent.getBoundingClientRect();o.wrapper.style.cssText="position: static",N.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(r.clientY-ln.top-5)+"px; left: "+(r.clientX-ln.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var An;v&&(An=N.ownerDocument.defaultView.scrollY),k.input.focus(),v&&N.ownerDocument.defaultView.scrollTo(null,An),k.input.reset(),C.somethingSelected()||(N.value=o.prevInput=" "),o.contextMenuPending=qn,k.selForContextMenu=C.doc.sel,clearTimeout(k.detectingSelectAll);function dr(){if(N.selectionStart!=null){var ri=C.somethingSelected(),wi="\u200B"+(ri?N.value:"");N.value="\u21DA",N.value=wi,o.prevInput=ri?"":"\u200B",N.selectionStart=1,N.selectionEnd=wi.length,k.selForContextMenu=C.doc.sel}}function qn(){if(o.contextMenuPending==qn&&(o.contextMenuPending=!1,o.wrapper.style.cssText=xt,N.style.cssText=st,p&&d<9&&k.scrollbars.setScrollTop(k.scroller.scrollTop=Se),N.selectionStart!=null)){(!p||p&&d<9)&&dr();var ri=0,wi=function(){k.selForContextMenu==C.doc.sel&&N.selectionStart==0&&N.selectionEnd>0&&o.prevInput=="\u200B"?Xo(C,W)(C):ri++<10?k.detectingSelectAll=setTimeout(wi,500):(k.selForContextMenu=null,k.input.reset())};k.detectingSelectAll=setTimeout(wi,200)}}if(p&&d>=9&&dr(),we){ht(r);var Wr=function(){Tr(window,"mouseup",Wr),setTimeout(qn,20)};Vr(window,"mouseup",Wr)}else setTimeout(qn,50)},Il.prototype.readOnlyChanged=function(r){r||this.reset(),this.textarea.disabled=r=="nocursor",this.textarea.readOnly=!!r},Il.prototype.setUneditable=function(){},Il.prototype.needsContentAttribute=!1;function $p(r,o){if(o=o?ze(o):{},o.value=r.value,!o.tabindex&&r.tabIndex&&(o.tabindex=r.tabIndex),!o.placeholder&&r.placeholder&&(o.placeholder=r.placeholder),o.autofocus==null){var C=ue(r.ownerDocument);o.autofocus=C==r||r.getAttribute("autofocus")!=null&&C==document.body}function k(){r.value=Ne.getValue()}var N;if(r.form&&(Vr(r.form,"submit",k),!o.leaveSubmitMethodAlone)){var ie=r.form;N=ie.submit;try{var Se=ie.submit=function(){k(),ie.submit=N,ie.submit(),ie.submit=Se}}catch(st){}}o.finishInit=function(st){st.save=k,st.getTextArea=function(){return r},st.toTextArea=function(){st.toTextArea=isNaN,k(),r.parentNode.removeChild(st.getWrapperElement()),r.style.display="",r.form&&(Tr(r.form,"submit",k),!o.leaveSubmitMethodAlone&&typeof r.form.submit=="function"&&(r.form.submit=N))}},r.style.display="none";var Ne=ba(function(st){return r.parentNode.insertBefore(st,r.nextSibling)},o);return Ne}function Xp(r){r.off=Tr,r.on=Vr,r.wheelEventPixels=xl,r.Doc=pa,r.splitLines=Yt,r.countColumn=Ze,r.findColumn=it,r.isWordChar=_t,r.Pass=Ue,r.signal=qt,r.Line=gs,r.changeEnd=Uc,r.scrollbarModel=Bf,r.Pos=He,r.cmpPos=kt,r.modes=On,r.mimeModes=Rn,r.resolveMode=tr,r.getMode=cr,r.modeExtensions=ar,r.extendMode=Zn,r.copyState=Un,r.startState=gi,r.innerMode=yi,r.commands=su,r.keyMap=Ho,r.keyName=Qa,r.isModifierKey=qa,r.lookupKey=ys,r.normalizeKeyMap=ds,r.StringStream=Xr,r.SharedTextMarker=er,r.TextMarker=xr,r.LineWidget=Fn,r.e_preventDefault=me,r.e_stopPropagation=Pe,r.e_stop=ht,r.addClass=ae,r.contains=fe,r.rmClass=dt,r.keyNames=Sa}of(ba),Vh(ba);var Mp="iter insert remove copy getEditor constructor".split(" ");for(var Ah in pa.prototype)pa.prototype.hasOwnProperty(Ah)&&ye(Mp,Ah)<0&&(ba.prototype[Ah]=function(r){return function(){return r.apply(this.doc,arguments)}}(pa.prototype[Ah]));return oe(pa),ba.inputStyles={textarea:Il,contenteditable:fs},ba.defineMode=function(r){!ba.defaults.mode&&r!="null"&&(ba.defaults.mode=r),Kn.apply(this,arguments)},ba.defineMIME=jn,ba.defineMode("null",function(){return{token:function(r){return r.skipToEnd()}}}),ba.defineMIME("text/plain","null"),ba.defineExtension=function(r,o){ba.prototype[r]=o},ba.defineDocExtension=function(r,o){pa.prototype[r]=o},ba.fromTextArea=$p,Xp(ba),ba.version="5.65.12",ba})},64617:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";function U(ae,de,ve,J,X,K){this.indented=ae,this.column=de,this.type=ve,this.info=J,this.align=X,this.prev=K}function x(ae,de,ve,J){var X=ae.indented;return ae.context&&ae.context.type=="statement"&&ve!="statement"&&(X=ae.context.indented),ae.context=new U(X,de,ve,J,null,ae.context)}function m(ae){var de=ae.context.type;return(de==")"||de=="]"||de=="}")&&(ae.indented=ae.context.indented),ae.context=ae.context.prev}function p(ae,de,ve){if(de.prevToken=="variable"||de.prevToken=="type"||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(ae.string.slice(0,ve))||de.typeAtEndOfLine&&ae.column()==ae.indentation())return!0}function d(ae){for(;;){if(!ae||ae.type=="top")return!0;if(ae.type=="}"&&ae.prev.info!="namespace")return!1;ae=ae.prev}}O.defineMode("clike",function(ae,de){var ve=ae.indentUnit,J=de.statementIndentUnit||ve,X=de.dontAlignCalls,K=de.keywords||{},ze=de.types||{},Ze=de.builtin||{},We=de.blockKeywords||{},ye=de.defKeywords||{},Ie=de.atoms||{},Ue=de.hooks||{},Ye=de.multiLineStrings,Ae=de.indentStatements!==!1,tt=de.indentSwitch!==!1,it=de.namespaceSeparator,Ve=de.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,et=de.numberStart||/[\d\.]/,wt=de.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,jt=de.isOperatorChar||/[+\-*&%=<>!?|\/]/,on=de.isIdentifierChar||/[\w\$_\xa1-\uffff]/,bn=de.isReservedIdentifier||!1,Ft,Mt;function _t(Wt,xn){var Nn=Wt.next();if(Ue[Nn]){var Cr=Ue[Nn](Wt,xn);if(Cr!==!1)return Cr}if(Nn=='"'||Nn=="'")return xn.tokenize=Jt(Nn),xn.tokenize(Wt,xn);if(et.test(Nn)){if(Wt.backUp(1),Wt.match(wt))return"number";Wt.next()}if(Ve.test(Nn))return Ft=Nn,null;if(Nn=="/"){if(Wt.eat("*"))return xn.tokenize=Me,Me(Wt,xn);if(Wt.eat("/"))return Wt.skipToEnd(),"comment"}if(jt.test(Nn)){for(;!Wt.match(/^\/[\/*]/,!1)&&Wt.eat(jt););return"operator"}if(Wt.eatWhile(on),it)for(;Wt.match(it);)Wt.eatWhile(on);var jr=Wt.current();return M(K,jr)?(M(We,jr)&&(Ft="newstatement"),M(ye,jr)&&(Mt=!0),"keyword"):M(ze,jr)?"type":M(Ze,jr)||bn&&bn(jr)?(M(We,jr)&&(Ft="newstatement"),"builtin"):M(Ie,jr)?"atom":"variable"}function Jt(Wt){return function(xn,Nn){for(var Cr=!1,jr,ii=!1;(jr=xn.next())!=null;){if(jr==Wt&&!Cr){ii=!0;break}Cr=!Cr&&jr=="\\"}return(ii||!(Cr||Ye))&&(Nn.tokenize=null),"string"}}function Me(Wt,xn){for(var Nn=!1,Cr;Cr=Wt.next();){if(Cr=="/"&&Nn){xn.tokenize=null;break}Nn=Cr=="*"}return"comment"}function yn(Wt,xn){de.typeFirstDefinitions&&Wt.eol()&&d(xn.context)&&(xn.typeAtEndOfLine=p(Wt,xn,Wt.pos))}return{startState:function(Wt){return{tokenize:null,context:new U((Wt||0)-ve,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(Wt,xn){var Nn=xn.context;if(Wt.sol()&&(Nn.align==null&&(Nn.align=!1),xn.indented=Wt.indentation(),xn.startOfLine=!0),Wt.eatSpace())return yn(Wt,xn),null;Ft=Mt=null;var Cr=(xn.tokenize||_t)(Wt,xn);if(Cr=="comment"||Cr=="meta")return Cr;if(Nn.align==null&&(Nn.align=!0),Ft==";"||Ft==":"||Ft==","&&Wt.match(/^\s*(?:\/\/.*)?$/,!1))for(;xn.context.type=="statement";)m(xn);else if(Ft=="{")x(xn,Wt.column(),"}");else if(Ft=="[")x(xn,Wt.column(),"]");else if(Ft=="(")x(xn,Wt.column(),")");else if(Ft=="}"){for(;Nn.type=="statement";)Nn=m(xn);for(Nn.type=="}"&&(Nn=m(xn));Nn.type=="statement";)Nn=m(xn)}else Ft==Nn.type?m(xn):Ae&&((Nn.type=="}"||Nn.type=="top")&&Ft!=";"||Nn.type=="statement"&&Ft=="newstatement")&&x(xn,Wt.column(),"statement",Wt.current());if(Cr=="variable"&&(xn.prevToken=="def"||de.typeFirstDefinitions&&p(Wt,xn,Wt.start)&&d(xn.context)&&Wt.match(/^\s*\(/,!1))&&(Cr="def"),Ue.token){var jr=Ue.token(Wt,xn,Cr);jr!==void 0&&(Cr=jr)}return Cr=="def"&&de.styleDefs===!1&&(Cr="variable"),xn.startOfLine=!1,xn.prevToken=Mt?"def":Cr||Ft,yn(Wt,xn),Cr},indent:function(Wt,xn){if(Wt.tokenize!=_t&&Wt.tokenize!=null||Wt.typeAtEndOfLine)return O.Pass;var Nn=Wt.context,Cr=xn&&xn.charAt(0),jr=Cr==Nn.type;if(Nn.type=="statement"&&Cr=="}"&&(Nn=Nn.prev),de.dontIndentStatements)for(;Nn.type=="statement"&&de.dontIndentStatements.test(Nn.info);)Nn=Nn.prev;if(Ue.indent){var ii=Ue.indent(Wt,Nn,xn,ve);if(typeof ii=="number")return ii}var xi=Nn.prev&&Nn.prev.info=="switch";if(de.allmanIndentation&&/[{(]/.test(Cr)){for(;Nn.type!="top"&&Nn.type!="}";)Nn=Nn.prev;return Nn.indented}return Nn.type=="statement"?Nn.indented+(Cr=="{"?0:J):Nn.align&&(!X||Nn.type!=")")?Nn.column+(jr?0:1):Nn.type==")"&&!jr?Nn.indented+J:Nn.indented+(jr?0:ve)+(!jr&&xi&&!/^(?:case|default)\b/.test(xn)?ve:0)},electricInput:tt?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function v(ae){for(var de={},ve=ae.split(" "),J=0;J<ve.length;++J)de[ve[J]]=!0;return de}function M(ae,de){return typeof ae=="function"?ae(de):ae.propertyIsEnumerable(de)}var D="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",T="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",S="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",g="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",z=v("int long char short double float unsigned signed void bool"),E=v("SEL instancetype id Class Protocol BOOL");function Y(ae){return M(z,ae)||/.+_t$/.test(ae)}function q(ae){return Y(ae)||M(E,ae)}var j="case do else for if switch while struct enum union",le="struct enum union";function ce(ae,de){if(!de.startOfLine)return!1;for(var ve,J=null;ve=ae.peek();){if(ve=="\\"&&ae.match(/^.$/)){J=ce;break}else if(ve=="/"&&ae.match(/^\/[\/\*]/,!1))break;ae.next()}return de.tokenize=J,"meta"}function se(ae,de){return de.prevToken=="type"?"type":!1}function ne(ae){return!ae||ae.length<2||ae[0]!="_"?!1:ae[1]=="_"||ae[1]!==ae[1].toLowerCase()}function De(ae){return ae.eatWhile(/[\w\.']/),"number"}function we(ae,de){if(ae.backUp(1),ae.match(/^(?:R|u8R|uR|UR|LR)/)){var ve=ae.match(/^"([^\s\\()]{0,16})\(/);return ve?(de.cpp11RawStringDelim=ve[1],de.tokenize=Qe,Qe(ae,de)):!1}return ae.match(/^(?:u8|u|U|L)/)?ae.match(/^["']/,!1)?"string":!1:(ae.next(),!1)}function je(ae){var de=/(\w+)::~?(\w+)$/.exec(ae);return de&&de[1]==de[2]}function dt(ae,de){for(var ve;(ve=ae.next())!=null;)if(ve=='"'&&!ae.eat('"')){de.tokenize=null;break}return"string"}function Qe(ae,de){var ve=de.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),J=ae.match(new RegExp(".*?\\)"+ve+'"'));return J?de.tokenize=null:ae.skipToEnd(),"string"}function lt(ae,de){typeof ae=="string"&&(ae=[ae]);var ve=[];function J(K){if(K)for(var ze in K)K.hasOwnProperty(ze)&&ve.push(ze)}J(de.keywords),J(de.types),J(de.builtin),J(de.atoms),ve.length&&(de.helperType=ae[0],O.registerHelper("hintWords",ae[0],ve));for(var X=0;X<ae.length;++X)O.defineMIME(ae[X],de)}lt(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:v(D),types:Y,blockKeywords:v(j),defKeywords:v(le),typeFirstDefinitions:!0,atoms:v("NULL true false"),isReservedIdentifier:ne,hooks:{"#":ce,"*":se},modeProps:{fold:["brace","include"]}}),lt(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:v(D+" "+T),types:Y,blockKeywords:v(j+" class try catch"),defKeywords:v(le+" class namespace"),typeFirstDefinitions:!0,atoms:v("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:ne,hooks:{"#":ce,"*":se,u:we,U:we,L:we,R:we,0:De,1:De,2:De,3:De,4:De,5:De,6:De,7:De,8:De,9:De,token:function(ae,de,ve){if(ve=="variable"&&ae.peek()=="("&&(de.prevToken==";"||de.prevToken==null||de.prevToken=="}")&&je(ae.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),lt("text/x-java",{name:"clike",keywords:v("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:v("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:v("catch class do else finally for if switch try while"),defKeywords:v("class interface enum @interface"),typeFirstDefinitions:!0,atoms:v("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(ae){return ae.match("interface",!1)?!1:(ae.eatWhile(/[\w\$_]/),"meta")},'"':function(ae,de){return ae.match(/""$/)?(de.tokenize=Te,de.tokenize(ae,de)):!1}},modeProps:{fold:["brace","import"]}}),lt("text/x-csharp",{name:"clike",keywords:v("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in init interface internal is lock namespace new operator out override params private protected public readonly record ref required return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:v("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:v("catch class do else finally for foreach if struct switch try while"),defKeywords:v("class interface namespace record struct var"),typeFirstDefinitions:!0,atoms:v("true false null"),hooks:{"@":function(ae,de){return ae.eat('"')?(de.tokenize=dt,dt(ae,de)):(ae.eatWhile(/[\w\$_]/),"meta")}}});function Te(ae,de){for(var ve=!1;!ae.eol();){if(!ve&&ae.match('"""')){de.tokenize=null;break}ve=ae.next()=="\\"&&!ve}return"string"}function Je(ae){return function(de,ve){for(var J;J=de.next();)if(J=="*"&&de.eat("/"))if(ae==1){ve.tokenize=null;break}else return ve.tokenize=Je(ae-1),ve.tokenize(de,ve);else if(J=="/"&&de.eat("*"))return ve.tokenize=Je(ae+1),ve.tokenize(de,ve);return"comment"}}lt("text/x-scala",{name:"clike",keywords:v("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:v("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:v("catch class enum do else finally for forSome if match switch try while"),defKeywords:v("class enum def object package trait type val var"),atoms:v("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(ae){return ae.eatWhile(/[\w\$_]/),"meta"},'"':function(ae,de){return ae.match('""')?(de.tokenize=Te,de.tokenize(ae,de)):!1},"'":function(ae){return ae.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(ae,de){var ve=de.context;return ve.type=="}"&&ve.align&&ae.eat(">")?(de.context=new U(ve.indented,ve.column,ve.type,ve.info,null,ve.prev),"operator"):!1},"/":function(ae,de){return ae.eat("*")?(de.tokenize=Je(1),de.tokenize(ae,de)):!1}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});function te(ae){return function(de,ve){for(var J=!1,X,K=!1;!de.eol();){if(!ae&&!J&&de.match('"')){K=!0;break}if(ae&&de.match('"""')){K=!0;break}X=de.next(),!J&&X=="$"&&de.match("{")&&de.skipTo("}"),J=!J&&X=="\\"&&!ae}return(K||!ae)&&(ve.tokenize=null),"string"}}lt("text/x-kotlin",{name:"clike",keywords:v("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"),types:v("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:v("catch class do else finally for if where try while enum"),defKeywords:v("class val var object interface fun"),atoms:v("true false null this"),hooks:{"@":function(ae){return ae.eatWhile(/[\w\$_]/),"meta"},"*":function(ae,de){return de.prevToken=="."?"variable":"operator"},'"':function(ae,de){return de.tokenize=te(ae.match('""')),de.tokenize(ae,de)},"/":function(ae,de){return ae.eat("*")?(de.tokenize=Je(1),de.tokenize(ae,de)):!1},indent:function(ae,de,ve,J){var X=ve&&ve.charAt(0);if((ae.prevToken=="}"||ae.prevToken==")")&&ve=="")return ae.indented;if(ae.prevToken=="operator"&&ve!="}"&&ae.context.type!="}"||ae.prevToken=="variable"&&X=="."||(ae.prevToken=="}"||ae.prevToken==")")&&X==".")return J*2+de.indented;if(de.align&&de.type=="}")return de.indented+(ae.context.type==(ve||"").charAt(0)?0:J)}},modeProps:{closeBrackets:{triples:'"'}}}),lt(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:v("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:v("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:v("for while do if else struct"),builtin:v("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:v("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":ce},modeProps:{fold:["brace","include"]}}),lt("text/x-nesc",{name:"clike",keywords:v(D+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:Y,blockKeywords:v(j),atoms:v("null true false"),hooks:{"#":ce},modeProps:{fold:["brace","include"]}}),lt("text/x-objectivec",{name:"clike",keywords:v(D+" "+S),types:q,builtin:v(g),blockKeywords:v(j+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:v(le+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:v("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:ne,hooks:{"#":ce,"*":se},modeProps:{fold:["brace","include"]}}),lt("text/x-objectivec++",{name:"clike",keywords:v(D+" "+S+" "+T),types:q,builtin:v(g),blockKeywords:v(j+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:v(le+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:v("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:ne,hooks:{"#":ce,"*":se,u:we,U:we,L:we,R:we,0:De,1:De,2:De,3:De,4:De,5:De,6:De,7:De,8:De,9:De,token:function(ae,de,ve){if(ve=="variable"&&ae.peek()=="("&&(de.prevToken==";"||de.prevToken==null||de.prevToken=="}")&&je(ae.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),lt("text/x-squirrel",{name:"clike",keywords:v("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:Y,blockKeywords:v("case catch class else for foreach if switch try while"),defKeywords:v("function local class"),typeFirstDefinitions:!0,atoms:v("true false null"),hooks:{"#":ce},modeProps:{fold:["brace","include"]}});var fe=null;function ue(ae){return function(de,ve){for(var J=!1,X,K=!1;!de.eol();){if(!J&&de.match('"')&&(ae=="single"||de.match('""'))){K=!0;break}if(!J&&de.match("``")){fe=ue(ae),K=!0;break}X=de.next(),J=ae=="single"&&!J&&X=="\\"}return K&&(ve.tokenize=null),"string"}}lt("text/x-ceylon",{name:"clike",keywords:v("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(ae){var de=ae.charAt(0);return de===de.toUpperCase()&&de!==de.toLowerCase()},blockKeywords:v("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:v("class dynamic function interface module object package value"),builtin:v("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:v("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(ae){return ae.eatWhile(/[\w\$_]/),"meta"},'"':function(ae,de){return de.tokenize=ue(ae.match('""')?"triple":"single"),de.tokenize(ae,de)},"`":function(ae,de){return!fe||!ae.match("`")?!1:(de.tokenize=fe,fe=null,de.tokenize(ae,de))},"'":function(ae){return ae.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(ae,de,ve){if((ve=="variable"||ve=="type")&&de.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},79294:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("cmake",function(){var U=/({)?[a-zA-Z0-9_]+(})?/;function x(p,d){for(var v,M,D=!1;!p.eol()&&(v=p.next())!=d.pending;){if(v==="$"&&M!="\\"&&d.pending=='"'){D=!0;break}M=v}return D&&p.backUp(1),v==d.pending?d.continueString=!1:d.continueString=!0,"string"}function m(p,d){var v=p.next();return v==="$"?p.match(U)?"variable-2":"variable":d.continueString?(p.backUp(1),x(p,d)):p.match(/(\s+)?\w+\(/)||p.match(/(\s+)?\w+\ \(/)?(p.backUp(1),"def"):v=="#"?(p.skipToEnd(),"comment"):v=="'"||v=='"'?(d.pending=v,x(p,d)):v=="("||v==")"?"bracket":v.match(/[0-9]/)?"number":(p.eatWhile(/[\w-]/),null)}return{startState:function(){var p={};return p.inDefinition=!1,p.inInclude=!1,p.continueString=!1,p.pending=!1,p},token:function(p,d){return p.eatSpace()?null:m(p,d)}}}),O.defineMIME("text/x-cmake","cmake")})},48220:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("css",function(dt,Qe){var lt=Qe.inline;Qe.propertyKeywords||(Qe=O.resolveMode("text/css"));var Te=dt.indentUnit,Je=Qe.tokenHooks,te=Qe.documentTypes||{},fe=Qe.mediaTypes||{},ue=Qe.mediaFeatures||{},ae=Qe.mediaValueKeywords||{},de=Qe.propertyKeywords||{},ve=Qe.nonStandardPropertyKeywords||{},J=Qe.fontProperties||{},X=Qe.counterDescriptors||{},K=Qe.colorKeywords||{},ze=Qe.valueKeywords||{},Ze=Qe.allowNested,We=Qe.lineComment,ye=Qe.supportsAtComponent===!0,Ie=dt.highlightNonStandardPropertyKeywords!==!1,Ue,Ye;function Ae(_t,Jt){return Ue=Jt,_t}function tt(_t,Jt){var Me=_t.next();if(Je[Me]){var yn=Je[Me](_t,Jt);if(yn!==!1)return yn}if(Me=="@")return _t.eatWhile(/[\w\\\-]/),Ae("def",_t.current());if(Me=="="||(Me=="~"||Me=="|")&&_t.eat("="))return Ae(null,"compare");if(Me=='"'||Me=="'")return Jt.tokenize=it(Me),Jt.tokenize(_t,Jt);if(Me=="#")return _t.eatWhile(/[\w\\\-]/),Ae("atom","hash");if(Me=="!")return _t.match(/^\s*\w*/),Ae("keyword","important");if(/\d/.test(Me)||Me=="."&&_t.eat(/\d/))return _t.eatWhile(/[\w.%]/),Ae("number","unit");if(Me==="-"){if(/[\d.]/.test(_t.peek()))return _t.eatWhile(/[\w.%]/),Ae("number","unit");if(_t.match(/^-[\w\\\-]*/))return _t.eatWhile(/[\w\\\-]/),_t.match(/^\s*:/,!1)?Ae("variable-2","variable-definition"):Ae("variable-2","variable");if(_t.match(/^\w+-/))return Ae("meta","meta")}else return/[,+>*\/]/.test(Me)?Ae(null,"select-op"):Me=="."&&_t.match(/^-?[_a-z][_a-z0-9-]*/i)?Ae("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Me)?Ae(null,Me):_t.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(_t.current())&&(Jt.tokenize=Ve),Ae("variable callee","variable")):/[\w\\\-]/.test(Me)?(_t.eatWhile(/[\w\\\-]/),Ae("property","word")):Ae(null,null)}function it(_t){return function(Jt,Me){for(var yn=!1,Wt;(Wt=Jt.next())!=null;){if(Wt==_t&&!yn){_t==")"&&Jt.backUp(1);break}yn=!yn&&Wt=="\\"}return(Wt==_t||!yn&&_t!=")")&&(Me.tokenize=null),Ae("string","string")}}function Ve(_t,Jt){return _t.next(),_t.match(/^\s*[\"\')]/,!1)?Jt.tokenize=null:Jt.tokenize=it(")"),Ae(null,"(")}function et(_t,Jt,Me){this.type=_t,this.indent=Jt,this.prev=Me}function wt(_t,Jt,Me,yn){return _t.context=new et(Me,Jt.indentation()+(yn===!1?0:Te),_t.context),Me}function jt(_t){return _t.context.prev&&(_t.context=_t.context.prev),_t.context.type}function on(_t,Jt,Me){return Mt[Me.context.type](_t,Jt,Me)}function bn(_t,Jt,Me,yn){for(var Wt=yn||1;Wt>0;Wt--)Me.context=Me.context.prev;return on(_t,Jt,Me)}function Ft(_t){var Jt=_t.current().toLowerCase();ze.hasOwnProperty(Jt)?Ye="atom":K.hasOwnProperty(Jt)?Ye="keyword":Ye="variable"}var Mt={};return Mt.top=function(_t,Jt,Me){if(_t=="{")return wt(Me,Jt,"block");if(_t=="}"&&Me.context.prev)return jt(Me);if(ye&&/@component/i.test(_t))return wt(Me,Jt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(_t))return wt(Me,Jt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(_t))return wt(Me,Jt,"atBlock");if(/^@(font-face|counter-style)/i.test(_t))return Me.stateArg=_t,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(_t))return"keyframes";if(_t&&_t.charAt(0)=="@")return wt(Me,Jt,"at");if(_t=="hash")Ye="builtin";else if(_t=="word")Ye="tag";else{if(_t=="variable-definition")return"maybeprop";if(_t=="interpolation")return wt(Me,Jt,"interpolation");if(_t==":")return"pseudo";if(Ze&&_t=="(")return wt(Me,Jt,"parens")}return Me.context.type},Mt.block=function(_t,Jt,Me){if(_t=="word"){var yn=Jt.current().toLowerCase();return de.hasOwnProperty(yn)?(Ye="property","maybeprop"):ve.hasOwnProperty(yn)?(Ye=Ie?"string-2":"property","maybeprop"):Ze?(Ye=Jt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ye+=" error","maybeprop")}else return _t=="meta"?"block":!Ze&&(_t=="hash"||_t=="qualifier")?(Ye="error","block"):Mt.top(_t,Jt,Me)},Mt.maybeprop=function(_t,Jt,Me){return _t==":"?wt(Me,Jt,"prop"):on(_t,Jt,Me)},Mt.prop=function(_t,Jt,Me){if(_t==";")return jt(Me);if(_t=="{"&&Ze)return wt(Me,Jt,"propBlock");if(_t=="}"||_t=="{")return bn(_t,Jt,Me);if(_t=="(")return wt(Me,Jt,"parens");if(_t=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Jt.current()))Ye+=" error";else if(_t=="word")Ft(Jt);else if(_t=="interpolation")return wt(Me,Jt,"interpolation");return"prop"},Mt.propBlock=function(_t,Jt,Me){return _t=="}"?jt(Me):_t=="word"?(Ye="property","maybeprop"):Me.context.type},Mt.parens=function(_t,Jt,Me){return _t=="{"||_t=="}"?bn(_t,Jt,Me):_t==")"?jt(Me):_t=="("?wt(Me,Jt,"parens"):_t=="interpolation"?wt(Me,Jt,"interpolation"):(_t=="word"&&Ft(Jt),"parens")},Mt.pseudo=function(_t,Jt,Me){return _t=="meta"?"pseudo":_t=="word"?(Ye="variable-3",Me.context.type):on(_t,Jt,Me)},Mt.documentTypes=function(_t,Jt,Me){return _t=="word"&&te.hasOwnProperty(Jt.current())?(Ye="tag",Me.context.type):Mt.atBlock(_t,Jt,Me)},Mt.atBlock=function(_t,Jt,Me){if(_t=="(")return wt(Me,Jt,"atBlock_parens");if(_t=="}"||_t==";")return bn(_t,Jt,Me);if(_t=="{")return jt(Me)&&wt(Me,Jt,Ze?"block":"top");if(_t=="interpolation")return wt(Me,Jt,"interpolation");if(_t=="word"){var yn=Jt.current().toLowerCase();yn=="only"||yn=="not"||yn=="and"||yn=="or"?Ye="keyword":fe.hasOwnProperty(yn)?Ye="attribute":ue.hasOwnProperty(yn)?Ye="property":ae.hasOwnProperty(yn)?Ye="keyword":de.hasOwnProperty(yn)?Ye="property":ve.hasOwnProperty(yn)?Ye=Ie?"string-2":"property":ze.hasOwnProperty(yn)?Ye="atom":K.hasOwnProperty(yn)?Ye="keyword":Ye="error"}return Me.context.type},Mt.atComponentBlock=function(_t,Jt,Me){return _t=="}"?bn(_t,Jt,Me):_t=="{"?jt(Me)&&wt(Me,Jt,Ze?"block":"top",!1):(_t=="word"&&(Ye="error"),Me.context.type)},Mt.atBlock_parens=function(_t,Jt,Me){return _t==")"?jt(Me):_t=="{"||_t=="}"?bn(_t,Jt,Me,2):Mt.atBlock(_t,Jt,Me)},Mt.restricted_atBlock_before=function(_t,Jt,Me){return _t=="{"?wt(Me,Jt,"restricted_atBlock"):_t=="word"&&Me.stateArg=="@counter-style"?(Ye="variable","restricted_atBlock_before"):on(_t,Jt,Me)},Mt.restricted_atBlock=function(_t,Jt,Me){return _t=="}"?(Me.stateArg=null,jt(Me)):_t=="word"?(Me.stateArg=="@font-face"&&!J.hasOwnProperty(Jt.current().toLowerCase())||Me.stateArg=="@counter-style"&&!X.hasOwnProperty(Jt.current().toLowerCase())?Ye="error":Ye="property","maybeprop"):"restricted_atBlock"},Mt.keyframes=function(_t,Jt,Me){return _t=="word"?(Ye="variable","keyframes"):_t=="{"?wt(Me,Jt,"top"):on(_t,Jt,Me)},Mt.at=function(_t,Jt,Me){return _t==";"?jt(Me):_t=="{"||_t=="}"?bn(_t,Jt,Me):(_t=="word"?Ye="tag":_t=="hash"&&(Ye="builtin"),"at")},Mt.interpolation=function(_t,Jt,Me){return _t=="}"?jt(Me):_t=="{"||_t==";"?bn(_t,Jt,Me):(_t=="word"?Ye="variable":_t!="variable"&&_t!="("&&_t!=")"&&(Ye="error"),"interpolation")},{startState:function(_t){return{tokenize:null,state:lt?"block":"top",stateArg:null,context:new et(lt?"block":"top",_t||0,null)}},token:function(_t,Jt){if(!Jt.tokenize&&_t.eatSpace())return null;var Me=(Jt.tokenize||tt)(_t,Jt);return Me&&typeof Me=="object"&&(Ue=Me[1],Me=Me[0]),Ye=Me,Ue!="comment"&&(Jt.state=Mt[Jt.state](Ue,_t,Jt)),Ye},indent:function(_t,Jt){var Me=_t.context,yn=Jt&&Jt.charAt(0),Wt=Me.indent;return Me.type=="prop"&&(yn=="}"||yn==")")&&(Me=Me.prev),Me.prev&&(yn=="}"&&(Me.type=="block"||Me.type=="top"||Me.type=="interpolation"||Me.type=="restricted_atBlock")?(Me=Me.prev,Wt=Me.indent):(yn==")"&&(Me.type=="parens"||Me.type=="atBlock_parens")||yn=="{"&&(Me.type=="at"||Me.type=="atBlock"))&&(Wt=Math.max(0,Me.indent-Te))),Wt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:We,fold:"brace"}});function U(dt){for(var Qe={},lt=0;lt<dt.length;++lt)Qe[dt[lt].toLowerCase()]=!0;return Qe}var x=["domain","regexp","url","url-prefix"],m=U(x),p=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],d=U(p),v=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],M=U(v),D=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],T=U(D),S=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],g=U(S),z=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],E=U(z),Y=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],q=U(Y),j=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],le=U(j),ce=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],se=U(ce),ne=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],De=U(ne),we=x.concat(p).concat(v).concat(D).concat(S).concat(z).concat(ce).concat(ne);O.registerHelper("hintWords","css",we);function je(dt,Qe){for(var lt=!1,Te;(Te=dt.next())!=null;){if(lt&&Te=="/"){Qe.tokenize=null;break}lt=Te=="*"}return["comment","comment"]}O.defineMIME("text/css",{documentTypes:m,mediaTypes:d,mediaFeatures:M,mediaValueKeywords:T,propertyKeywords:g,nonStandardPropertyKeywords:E,fontProperties:q,counterDescriptors:le,colorKeywords:se,valueKeywords:De,tokenHooks:{"/":function(dt,Qe){return dt.eat("*")?(Qe.tokenize=je,je(dt,Qe)):!1}},name:"css"}),O.defineMIME("text/x-scss",{mediaTypes:d,mediaFeatures:M,mediaValueKeywords:T,propertyKeywords:g,nonStandardPropertyKeywords:E,colorKeywords:se,valueKeywords:De,fontProperties:q,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(dt,Qe){return dt.eat("/")?(dt.skipToEnd(),["comment","comment"]):dt.eat("*")?(Qe.tokenize=je,je(dt,Qe)):["operator","operator"]},":":function(dt){return dt.match(/^\s*\{/,!1)?[null,null]:!1},$:function(dt){return dt.match(/^[\w-]+/),dt.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(dt){return dt.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),O.defineMIME("text/x-less",{mediaTypes:d,mediaFeatures:M,mediaValueKeywords:T,propertyKeywords:g,nonStandardPropertyKeywords:E,colorKeywords:se,valueKeywords:De,fontProperties:q,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(dt,Qe){return dt.eat("/")?(dt.skipToEnd(),["comment","comment"]):dt.eat("*")?(Qe.tokenize=je,je(dt,Qe)):["operator","operator"]},"@":function(dt){return dt.eat("{")?[null,"interpolation"]:dt.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(dt.eatWhile(/[\w\\\-]/),dt.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),O.defineMIME("text/x-gss",{documentTypes:m,mediaTypes:d,mediaFeatures:M,propertyKeywords:g,nonStandardPropertyKeywords:E,fontProperties:q,counterDescriptors:le,colorKeywords:se,valueKeywords:De,supportsAtComponent:!0,tokenHooks:{"/":function(dt,Qe){return dt.eat("*")?(Qe.tokenize=je,je(dt,Qe)):!1}},name:"css",helperType:"gss"})})},76942:function(ut,Ce,f){(function(O){O(f(13187),f(64617))})(function(O){"use strict";var U="this super static final const abstract class extends external factory implements mixin get native set typedef with enum throw rethrow assert break case continue default in return new deferred async await covariant try catch finally do else for if switch while import library export part of show hide is as extension on yield late required".split(" "),x="try catch finally do else for if switch while".split(" "),m="true false null".split(" "),p="void bool num int double dynamic var String Null Never".split(" ");function d(E){for(var Y={},q=0;q<E.length;++q)Y[E[q]]=!0;return Y}function v(E){(E.interpolationStack||(E.interpolationStack=[])).push(E.tokenize)}function M(E){return(E.interpolationStack||(E.interpolationStack=[])).pop()}function D(E){return E.interpolationStack?E.interpolationStack.length:0}O.defineMIME("application/dart",{name:"clike",keywords:d(U),blockKeywords:d(x),builtin:d(p),atoms:d(m),hooks:{"@":function(E){return E.eatWhile(/[\w\$_\.]/),"meta"},"'":function(E,Y){return T("'",E,Y,!1)},'"':function(E,Y){return T('"',E,Y,!1)},r:function(E,Y){var q=E.peek();return q=="'"||q=='"'?T(E.next(),E,Y,!0):!1},"}":function(E,Y){return D(Y)>0?(Y.tokenize=M(Y),null):!1},"/":function(E,Y){return E.eat("*")?(Y.tokenize=z(1),Y.tokenize(E,Y)):!1},token:function(E,Y,q){if(q=="variable"){var j=RegExp("^[_$]*[A-Z][a-zA-Z0-9_$]*$","g");if(j.test(E.current()))return"variable-2"}}}});function T(E,Y,q,j){var le=!1;if(Y.eat(E))if(Y.eat(E))le=!0;else return"string";function ce(se,ne){for(var De=!1;!se.eol();){if(!j&&!De&&se.peek()=="$")return v(ne),ne.tokenize=S,"string";var we=se.next();if(we==E&&!De&&(!le||se.match(E+E))){ne.tokenize=null;break}De=!j&&!De&&we=="\\"}return"string"}return q.tokenize=ce,ce(Y,q)}function S(E,Y){return E.eat("$"),E.eat("{")?Y.tokenize=null:Y.tokenize=g,null}function g(E,Y){return E.eatWhile(/[\w_]/),Y.tokenize=M(Y),"variable"}function z(E){return function(Y,q){for(var j;j=Y.next();)if(j=="*"&&Y.eat("/"))if(E==1){q.tokenize=null;break}else return q.tokenize=z(E-1),q.tokenize(Y,q);else if(j=="/"&&Y.eat("*"))return q.tokenize=z(E+1),q.tokenize(Y,q);return"comment"}}O.registerHelper("hintWords","application/dart",U.concat(m).concat(p)),O.defineMode("dart",function(E){return O.getMode(E,"application/dart")},"clike")})},94079:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("diff",function(){var U={"+":"positive","-":"negative","@":"meta"};return{token:function(x){var m=x.string.search(/[\t ]+?$/);if(!x.sol()||m===0)return x.skipToEnd(),("error "+(U[x.string.charAt(0)]||"")).replace(/ $/,"");var p=U[x.peek()]||x.skipToEnd();return m===-1?x.skipToEnd():x.pos=m,p}}}),O.defineMIME("text/x-diff","diff")})},3728:function(ut,Ce,f){(function(O){O(f(13187),f(72186))})(function(O){"use strict";var U="from",x=new RegExp("^(\\s*)\\b("+U+")\\b","i"),m=["run","cmd","entrypoint","shell"],p=new RegExp("^(\\s*)("+m.join("|")+")(\\s+\\[)","i"),d="expose",v=new RegExp("^(\\s*)("+d+")(\\s+)","i"),M=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"],D=[U,d].concat(m).concat(M),T="("+D.join("|")+")",S=new RegExp("^(\\s*)"+T+"(\\s*)(#.*)?$","i"),g=new RegExp("^(\\s*)"+T+"(\\s+)","i");O.defineSimpleMode("dockerfile",{start:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:x,token:[null,"keyword"],sol:!0,next:"from"},{regex:S,token:[null,"keyword",null,"error"],sol:!0},{regex:p,token:[null,"keyword",null],sol:!0,next:"array"},{regex:v,token:[null,"keyword",null],sol:!0,next:"expose"},{regex:g,token:[null,"keyword",null],sol:!0,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\s*$/,token:null,next:"start"},{regex:/(\s*)(#.*)$/,token:[null,"error"],next:"start"},{regex:/(\s*\S+\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\']|\\.)/,token:"string"},{regex:/'/,token:"string",pop:!0}],double:[{regex:/(?:[^\\"]|\\.)/,token:"string"},{regex:/"/,token:"string",pop:!0}],array:[{regex:/\]/,token:null,next:"start"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"}],expose:[{regex:/\d+$/,token:"number",next:"start"},{regex:/[^\d]+$/,token:null,next:"start"},{regex:/\d+/,token:"number"},{regex:/[^\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:/"(?:[^\\"]|\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/'(?:[^\\']|\\.)*'?$/,token:"string",next:"start"},{regex:/'/,token:"string",push:"single"},{regex:/[^#"']+[\\`]$/,token:null},{regex:/[^#"']+$/,token:null,next:"start"},{regex:/[^#"']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}}),O.defineMIME("text/x-dockerfile","dockerfile")})},25209:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMIME("text/x-erlang","erlang"),O.defineMode("erlang",function(U){"use strict";var x=["-type","-spec","-export_type","-opaque"],m=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],p=/[\->,;]/,d=["->",";",","],v=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],M=/[\+\-\*\/<>=\|:!]/,D=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"],T=/[<\(\[\{]/,S=["<<","(","[","{"],g=/[>\)\]\}]/,z=["}","]",")",">>"],E=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],Y=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],q=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/,j=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;function le(ye,Ie){if(Ie.in_string)return Ie.in_string=!ne(ye),Qe(Ie,ye,"string");if(Ie.in_atom)return Ie.in_atom=!De(ye),Qe(Ie,ye,"atom");if(ye.eatSpace())return Qe(Ie,ye,"whitespace");if(!te(Ie)&&ye.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/))return dt(ye.current(),x)?Qe(Ie,ye,"type"):Qe(Ie,ye,"attribute");var Ue=ye.next();if(Ue=="%")return ye.skipToEnd(),Qe(Ie,ye,"comment");if(Ue==":")return Qe(Ie,ye,"colon");if(Ue=="?")return ye.eatSpace(),ye.eatWhile(q),Qe(Ie,ye,"macro");if(Ue=="#")return ye.eatSpace(),ye.eatWhile(q),Qe(Ie,ye,"record");if(Ue=="$")return ye.next()=="\\"&&!ye.match(j)?Qe(Ie,ye,"error"):Qe(Ie,ye,"number");if(Ue==".")return Qe(Ie,ye,"dot");if(Ue=="'"){if(!(Ie.in_atom=!De(ye))){if(ye.match(/\s*\/\s*[0-9]/,!1))return ye.match(/\s*\/\s*[0-9]/,!0),Qe(Ie,ye,"fun");if(ye.match(/\s*\(/,!1)||ye.match(/\s*:/,!1))return Qe(Ie,ye,"function")}return Qe(Ie,ye,"atom")}if(Ue=='"')return Ie.in_string=!ne(ye),Qe(Ie,ye,"string");if(/[A-Z_Ø-ÞÀ-Ö]/.test(Ue))return ye.eatWhile(q),Qe(Ie,ye,"variable");if(/[a-z_ß-öø-ÿ]/.test(Ue)){if(ye.eatWhile(q),ye.match(/\s*\/\s*[0-9]/,!1))return ye.match(/\s*\/\s*[0-9]/,!0),Qe(Ie,ye,"fun");var Ye=ye.current();return dt(Ye,m)?Qe(Ie,ye,"keyword"):dt(Ye,v)?Qe(Ie,ye,"operator"):ye.match(/\s*\(/,!1)?dt(Ye,Y)&&(te(Ie).token!=":"||te(Ie,2).token=="erlang")?Qe(Ie,ye,"builtin"):dt(Ye,E)?Qe(Ie,ye,"guard"):Qe(Ie,ye,"function"):je(ye)==":"?Ye=="erlang"?Qe(Ie,ye,"builtin"):Qe(Ie,ye,"function"):dt(Ye,["true","false"])?Qe(Ie,ye,"boolean"):Qe(Ie,ye,"atom")}var Ae=/[0-9]/,tt=/[0-9a-zA-Z]/;return Ae.test(Ue)?(ye.eatWhile(Ae),ye.eat("#")?ye.eatWhile(tt)||ye.backUp(1):ye.eat(".")&&(ye.eatWhile(Ae)?ye.eat(/[eE]/)&&(ye.eat(/[-+]/)?ye.eatWhile(Ae)||ye.backUp(2):ye.eatWhile(Ae)||ye.backUp(1)):ye.backUp(1)),Qe(Ie,ye,"number")):ce(ye,T,S)?Qe(Ie,ye,"open_paren"):ce(ye,g,z)?Qe(Ie,ye,"close_paren"):se(ye,p,d)?Qe(Ie,ye,"separator"):se(ye,M,D)?Qe(Ie,ye,"operator"):Qe(Ie,ye,null)}function ce(ye,Ie,Ue){if(ye.current().length==1&&Ie.test(ye.current())){for(ye.backUp(1);Ie.test(ye.peek());)if(ye.next(),dt(ye.current(),Ue))return!0;ye.backUp(ye.current().length-1)}return!1}function se(ye,Ie,Ue){if(ye.current().length==1&&Ie.test(ye.current())){for(;Ie.test(ye.peek());)ye.next();for(;0<ye.current().length;){if(dt(ye.current(),Ue))return!0;ye.backUp(1)}ye.next()}return!1}function ne(ye){return we(ye,'"',"\\")}function De(ye){return we(ye,"'","\\")}function we(ye,Ie,Ue){for(;!ye.eol();){var Ye=ye.next();if(Ye==Ie)return!0;Ye==Ue&&ye.next()}return!1}function je(ye){var Ie=ye.match(/^\s*([^\s%])/,!1);return Ie?Ie[1]:""}function dt(ye,Ie){return-1<Ie.indexOf(ye)}function Qe(ye,Ie,Ue){switch(fe(ye,Te(Ue,Ie)),Ue){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"atom";case"builtin":return"builtin";case"close_paren":return null;case"colon":return null;case"comment":return"comment";case"dot":return null;case"error":return"error";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"open_paren":return null;case"operator":return"operator";case"record":return"bracket";case"separator":return null;case"string":return"string";case"type":return"def";case"variable":return"variable";default:return null}}function lt(ye,Ie,Ue,Ye){return{token:ye,column:Ie,indent:Ue,type:Ye}}function Te(ye,Ie){return lt(Ie.current(),Ie.column(),Ie.indentation(),ye)}function Je(ye){return lt(ye,0,0,ye)}function te(ye,Ie){var Ue=ye.tokenStack.length,Ye=Ie||1;return Ue<Ye?!1:ye.tokenStack[Ue-Ye]}function fe(ye,Ie){Ie.type=="comment"||Ie.type=="whitespace"||(ye.tokenStack=ue(ye.tokenStack,Ie),ye.tokenStack=ae(ye.tokenStack))}function ue(ye,Ie){var Ue=ye.length-1;return 0<Ue&&ye[Ue].type==="record"&&Ie.type==="dot"?ye.pop():(0<Ue&&ye[Ue].type==="group"&&ye.pop(),ye.push(Ie)),ye}function ae(ye){if(!ye.length)return ye;var Ie=ye.length-1;if(ye[Ie].type==="dot")return[];if(Ie>1&&ye[Ie].type==="fun"&&ye[Ie-1].token==="fun")return ye.slice(0,Ie-1);switch(ye[Ie].token){case"}":return de(ye,{g:["{"]});case"]":return de(ye,{i:["["]});case")":return de(ye,{i:["("]});case">>":return de(ye,{i:["<<"]});case"end":return de(ye,{i:["begin","case","fun","if","receive","try"]});case",":return de(ye,{e:["begin","try","when","->",",","(","[","{","<<"]});case"->":return de(ye,{r:["when"],m:["try","if","case","receive"]});case";":return de(ye,{E:["case","fun","if","receive","try","when"]});case"catch":return de(ye,{e:["try"]});case"of":return de(ye,{e:["case"]});case"after":return de(ye,{e:["receive","try"]});default:return ye}}function de(ye,Ie){for(var Ue in Ie)for(var Ye=ye.length-1,Ae=Ie[Ue],tt=Ye-1;-1<tt;tt--)if(dt(ye[tt].token,Ae)){var it=ye.slice(0,tt);switch(Ue){case"m":return it.concat(ye[tt]).concat(ye[Ye]);case"r":return it.concat(ye[Ye]);case"i":return it;case"g":return it.concat(Je("group"));case"E":return it.concat(ye[tt]);case"e":return it.concat(ye[tt])}}return Ue=="E"?[]:ye}function ve(ye,Ie){var Ue,Ye=U.indentUnit,Ae=J(Ie),tt=te(ye,1),it=te(ye,2);return ye.in_string||ye.in_atom?O.Pass:it?tt.token=="when"?tt.column+Ye:Ae==="when"&&it.type==="function"?it.indent+Ye:Ae==="("&&tt.token==="fun"?tt.column+3:Ae==="catch"&&(Ue=ze(ye,["try"]))?Ue.column:dt(Ae,["end","after","of"])?(Ue=ze(ye,["begin","case","fun","if","receive","try"]),Ue?Ue.column:O.Pass):dt(Ae,z)?(Ue=ze(ye,S),Ue?Ue.column:O.Pass):dt(tt.token,[",","|","||"])||dt(Ae,[",","|","||"])?(Ue=X(ye),Ue?Ue.column+Ue.token.length:Ye):tt.token=="->"?dt(it.token,["receive","case","if","try"])?it.column+Ye+Ye:it.column+Ye:dt(tt.token,S)?tt.column+tt.token.length:(Ue=K(ye),We(Ue)?Ue.column+Ye:0):0}function J(ye){var Ie=ye.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/);return We(Ie)&&Ie.index===0?Ie[0]:""}function X(ye){var Ie=ye.tokenStack.slice(0,-1),Ue=Ze(Ie,"type",["open_paren"]);return We(Ie[Ue])?Ie[Ue]:!1}function K(ye){var Ie=ye.tokenStack,Ue=Ze(Ie,"type",["open_paren","separator","keyword"]),Ye=Ze(Ie,"type",["operator"]);return We(Ue)&&We(Ye)&&Ue<Ye?Ie[Ue+1]:We(Ue)?Ie[Ue]:!1}function ze(ye,Ie){var Ue=ye.tokenStack,Ye=Ze(Ue,"token",Ie);return We(Ue[Ye])?Ue[Ye]:!1}function Ze(ye,Ie,Ue){for(var Ye=ye.length-1;-1<Ye;Ye--)if(dt(ye[Ye][Ie],Ue))return Ye;return!1}function We(ye){return ye!==!1&&ye!=null}return{startState:function(){return{tokenStack:[],in_string:!1,in_atom:!1}},token:function(ye,Ie){return le(ye,Ie)},indent:function(ye,Ie){return ve(ye,Ie)},lineComment:"%"}})})},49672:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("go",function(U){var x=U.indentUnit,m={break:!0,case:!0,chan:!0,const:!0,continue:!0,default:!0,defer:!0,else:!0,fallthrough:!0,for:!0,func:!0,go:!0,goto:!0,if:!0,import:!0,interface:!0,map:!0,package:!0,range:!0,return:!0,select:!0,struct:!0,switch:!0,type:!0,var:!0,bool:!0,byte:!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,int:!0,uint:!0,uintptr:!0,error:!0,rune:!0,any:!0,comparable:!0},p={true:!0,false:!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,delete:!0,imag:!0,len:!0,make:!0,new:!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},d=/[+\-*&^%:=<>!|\/]/,v;function M(E,Y){var q=E.next();if(q=='"'||q=="'"||q=="`")return Y.tokenize=D(q),Y.tokenize(E,Y);if(/[\d\.]/.test(q))return q=="."?E.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):q=="0"?E.match(/^[xX][0-9a-fA-F]+/)||E.match(/^0[0-7]+/):E.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(q))return v=q,null;if(q=="/"){if(E.eat("*"))return Y.tokenize=T,T(E,Y);if(E.eat("/"))return E.skipToEnd(),"comment"}if(d.test(q))return E.eatWhile(d),"operator";E.eatWhile(/[\w\$_\xa1-\uffff]/);var j=E.current();return m.propertyIsEnumerable(j)?((j=="case"||j=="default")&&(v="case"),"keyword"):p.propertyIsEnumerable(j)?"atom":"variable"}function D(E){return function(Y,q){for(var j=!1,le,ce=!1;(le=Y.next())!=null;){if(le==E&&!j){ce=!0;break}j=!j&&E!="`"&&le=="\\"}return(ce||!(j||E=="`"))&&(q.tokenize=M),"string"}}function T(E,Y){for(var q=!1,j;j=E.next();){if(j=="/"&&q){Y.tokenize=M;break}q=j=="*"}return"comment"}function S(E,Y,q,j,le){this.indented=E,this.column=Y,this.type=q,this.align=j,this.prev=le}function g(E,Y,q){return E.context=new S(E.indented,Y,q,null,E.context)}function z(E){if(!!E.context.prev){var Y=E.context.type;return(Y==")"||Y=="]"||Y=="}")&&(E.indented=E.context.indented),E.context=E.context.prev}}return{startState:function(E){return{tokenize:null,context:new S((E||0)-x,0,"top",!1),indented:0,startOfLine:!0}},token:function(E,Y){var q=Y.context;if(E.sol()&&(q.align==null&&(q.align=!1),Y.indented=E.indentation(),Y.startOfLine=!0,q.type=="case"&&(q.type="}")),E.eatSpace())return null;v=null;var j=(Y.tokenize||M)(E,Y);return j=="comment"||(q.align==null&&(q.align=!0),v=="{"?g(Y,E.column(),"}"):v=="["?g(Y,E.column(),"]"):v=="("?g(Y,E.column(),")"):v=="case"?q.type="case":(v=="}"&&q.type=="}"||v==q.type)&&z(Y),Y.startOfLine=!1),j},indent:function(E,Y){if(E.tokenize!=M&&E.tokenize!=null)return O.Pass;var q=E.context,j=Y&&Y.charAt(0);if(q.type=="case"&&/^(?:case|default)\b/.test(Y))return E.context.type="}",q.indented;var le=j==q.type;return q.align?q.column+(le?0:1):q.indented+(le?0:x)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),O.defineMIME("text/x-go","go")})},63156:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("groovy",function(U){function x(le){for(var ce={},se=le.split(" "),ne=0;ne<se.length;++ne)ce[se[ne]]=!0;return ce}var m=x("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws trait transient try void volatile while"),p=x("catch class def do else enum finally for if interface switch trait try while"),d=x("return break continue"),v=x("null true false this"),M;function D(le,ce){var se=le.next();if(se=='"'||se=="'")return T(se,le,ce);if(/[\[\]{}\(\),;\:\.]/.test(se))return M=se,null;if(/\d/.test(se))return le.eatWhile(/[\w\.]/),le.eat(/eE/)&&(le.eat(/\+\-/),le.eatWhile(/\d/)),"number";if(se=="/"){if(le.eat("*"))return ce.tokenize.push(z),z(le,ce);if(le.eat("/"))return le.skipToEnd(),"comment";if(E(ce.lastToken,!1))return T(se,le,ce)}if(se=="-"&&le.eat(">"))return M="->",null;if(/[+\-*&%=<>!?|\/~]/.test(se))return le.eatWhile(/[+\-*&%=<>|~]/),"operator";if(le.eatWhile(/[\w\$_]/),se=="@")return le.eatWhile(/[\w\$_\.]/),"meta";if(ce.lastToken==".")return"property";if(le.eat(":"))return M="proplabel","property";var ne=le.current();return v.propertyIsEnumerable(ne)?"atom":m.propertyIsEnumerable(ne)?(p.propertyIsEnumerable(ne)?M="newstatement":d.propertyIsEnumerable(ne)&&(M="standalone"),"keyword"):"variable"}D.isBase=!0;function T(le,ce,se){var ne=!1;if(le!="/"&&ce.eat(le))if(ce.eat(le))ne=!0;else return"string";function De(we,je){for(var dt=!1,Qe,lt=!ne;(Qe=we.next())!=null;){if(Qe==le&&!dt){if(!ne)break;if(we.match(le+le)){lt=!0;break}}if(le=='"'&&Qe=="$"&&!dt){if(we.eat("{"))return je.tokenize.push(S()),"string";if(we.match(/^\w/,!1))return je.tokenize.push(g),"string"}dt=!dt&&Qe=="\\"}return lt&&je.tokenize.pop(),"string"}return se.tokenize.push(De),De(ce,se)}function S(){var le=1;function ce(se,ne){if(se.peek()=="}"){if(le--,le==0)return ne.tokenize.pop(),ne.tokenize[ne.tokenize.length-1](se,ne)}else se.peek()=="{"&&le++;return D(se,ne)}return ce.isBase=!0,ce}function g(le,ce){var se=le.match(/^(\.|[\w\$_]+)/);return se?se[0]=="."?null:"variable":(ce.tokenize.pop(),ce.tokenize[ce.tokenize.length-1](le,ce))}function z(le,ce){for(var se=!1,ne;ne=le.next();){if(ne=="/"&&se){ce.tokenize.pop();break}se=ne=="*"}return"comment"}function E(le,ce){return!le||le=="operator"||le=="->"||/[\.\[\{\(,;:]/.test(le)||le=="newstatement"||le=="keyword"||le=="proplabel"||le=="standalone"&&!ce}function Y(le,ce,se,ne,De){this.indented=le,this.column=ce,this.type=se,this.align=ne,this.prev=De}function q(le,ce,se){return le.context=new Y(le.indented,ce,se,null,le.context)}function j(le){var ce=le.context.type;return(ce==")"||ce=="]"||ce=="}")&&(le.indented=le.context.indented),le.context=le.context.prev}return{startState:function(le){return{tokenize:[D],context:new Y((le||0)-U.indentUnit,0,"top",!1),indented:0,startOfLine:!0,lastToken:null}},token:function(le,ce){var se=ce.context;if(le.sol()&&(se.align==null&&(se.align=!1),ce.indented=le.indentation(),ce.startOfLine=!0,se.type=="statement"&&!E(ce.lastToken,!0)&&(j(ce),se=ce.context)),le.eatSpace())return null;M=null;var ne=ce.tokenize[ce.tokenize.length-1](le,ce);if(ne=="comment")return ne;if(se.align==null&&(se.align=!0),(M==";"||M==":")&&se.type=="statement")j(ce);else if(M=="->"&&se.type=="statement"&&se.prev.type=="}")j(ce),ce.context.align=!1;else if(M=="{")q(ce,le.column(),"}");else if(M=="[")q(ce,le.column(),"]");else if(M=="(")q(ce,le.column(),")");else if(M=="}"){for(;se.type=="statement";)se=j(ce);for(se.type=="}"&&(se=j(ce));se.type=="statement";)se=j(ce)}else M==se.type?j(ce):(se.type=="}"||se.type=="top"||se.type=="statement"&&M=="newstatement")&&q(ce,le.column(),"statement");return ce.startOfLine=!1,ce.lastToken=M||ne,ne},indent:function(le,ce){if(!le.tokenize[le.tokenize.length-1].isBase)return O.Pass;var se=ce&&ce.charAt(0),ne=le.context;ne.type=="statement"&&!E(le.lastToken,!0)&&(ne=ne.prev);var De=se==ne.type;return ne.type=="statement"?ne.indented+(se=="{"?0:U.indentUnit):ne.align?ne.column+(De?0:1):ne.indented+(De?0:U.indentUnit)},electricChars:"{}",closeBrackets:{triples:`'"`},fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),O.defineMIME("text/x-groovy","groovy")})},13440:function(ut,Ce,f){(function(O){O(f(13187),f(36941),f(13838),f(48220))})(function(O){"use strict";var U={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function x(T,S,g){var z=T.current(),E=z.search(S);return E>-1?T.backUp(z.length-E):z.match(/<\/?$/)&&(T.backUp(z.length),T.match(S,!1)||T.match(z)),g}var m={};function p(T){var S=m[T];return S||(m[T]=new RegExp("\\s+"+T+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function d(T,S){var g=T.match(p(S));return g?/^\s*(.*?)\s*$/.exec(g[2])[1]:""}function v(T,S){return new RegExp((S?"^":"")+"</\\s*"+T+"\\s*>","i")}function M(T,S){for(var g in T)for(var z=S[g]||(S[g]=[]),E=T[g],Y=E.length-1;Y>=0;Y--)z.unshift(E[Y])}function D(T,S){for(var g=0;g<T.length;g++){var z=T[g];if(!z[0]||z[1].test(d(S,z[0])))return z[2]}}O.defineMode("htmlmixed",function(T,S){var g=O.getMode(T,{name:"xml",htmlMode:!0,multilineTagIndentFactor:S.multilineTagIndentFactor,multilineTagIndentPastTag:S.multilineTagIndentPastTag,allowMissingTagName:S.allowMissingTagName}),z={},E=S&&S.tags,Y=S&&S.scriptTypes;if(M(U,z),E&&M(E,z),Y)for(var q=Y.length-1;q>=0;q--)z.script.unshift(["type",Y[q].matches,Y[q].mode]);function j(le,ce){var se=g.token(le,ce.htmlState),ne=/\btag\b/.test(se),De;if(ne&&!/[<>\s\/]/.test(le.current())&&(De=ce.htmlState.tagName&&ce.htmlState.tagName.toLowerCase())&&z.hasOwnProperty(De))ce.inTag=De+" ";else if(ce.inTag&&ne&&/>$/.test(le.current())){var we=/^([\S]+) (.*)/.exec(ce.inTag);ce.inTag=null;var je=le.current()==">"&&D(z[we[1]],we[2]),dt=O.getMode(T,je),Qe=v(we[1],!0),lt=v(we[1],!1);ce.token=function(Te,Je){return Te.match(Qe,!1)?(Je.token=j,Je.localState=Je.localMode=null,null):x(Te,lt,Je.localMode.token(Te,Je.localState))},ce.localMode=dt,ce.localState=O.startState(dt,g.indent(ce.htmlState,"",""))}else ce.inTag&&(ce.inTag+=le.current(),le.eol()&&(ce.inTag+=" "));return se}return{startState:function(){var le=O.startState(g);return{token:j,inTag:null,localMode:null,localState:null,htmlState:le}},copyState:function(le){var ce;return le.localState&&(ce=O.copyState(le.localMode,le.localState)),{token:le.token,inTag:le.inTag,localMode:le.localMode,localState:ce,htmlState:O.copyState(g,le.htmlState)}},token:function(le,ce){return ce.token(le,ce)},indent:function(le,ce,se){return!le.localMode||/^\s*<\//.test(ce)?g.indent(le.htmlState,ce,se):le.localMode.indent?le.localMode.indent(le.localState,ce,se):O.Pass},innerMode:function(le){return{state:le.localState||le.htmlState,mode:le.localMode||g}}}},"xml","javascript","css"),O.defineMIME("text/html","htmlmixed")})},36096:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("http",function(){function U(T,S){return T.skipToEnd(),S.cur=M,"error"}function x(T,S){return T.match(/^HTTP\/\d\.\d/)?(S.cur=m,"keyword"):T.match(/^[A-Z]+/)&&/[ \t]/.test(T.peek())?(S.cur=d,"keyword"):U(T,S)}function m(T,S){var g=T.match(/^\d+/);if(!g)return U(T,S);S.cur=p;var z=Number(g[0]);return z>=100&&z<200?"positive informational":z>=200&&z<300?"positive success":z>=300&&z<400?"positive redirect":z>=400&&z<500?"negative client-error":z>=500&&z<600?"negative server-error":"error"}function p(T,S){return T.skipToEnd(),S.cur=M,null}function d(T,S){return T.eatWhile(/\S/),S.cur=v,"string-2"}function v(T,S){return T.match(/^HTTP\/\d\.\d$/)?(S.cur=M,"keyword"):U(T,S)}function M(T){return T.sol()&&!T.eat(/[ \t]/)?T.match(/^.*?:/)?"atom":(T.skipToEnd(),"error"):(T.skipToEnd(),"string")}function D(T){return T.skipToEnd(),null}return{token:function(T,S){var g=S.cur;return g!=M&&g!=D&&T.eatSpace()?null:g(T,S)},blankLine:function(T){T.cur=D},startState:function(){return{cur:x}}}}),O.defineMIME("message/http","http")})},13838:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("javascript",function(U,x){var m=U.indentUnit,p=x.statementIndent,d=x.jsonld,v=x.json||d,M=x.trackScope!==!1,D=x.typescript,T=x.wordCharacters||/[\w$\xa1-\uffff]/,S=function(){function He(Yr){return{type:Yr,style:"keyword"}}var kt=He("keyword a"),Pn=He("keyword b"),En=He("keyword c"),Qn=He("keyword d"),Gn=He("operator"),Li={type:"atom",style:"atom"};return{if:He("if"),while:kt,with:kt,else:Pn,do:Pn,try:Pn,finally:Pn,return:Qn,break:Qn,continue:Qn,new:He("new"),delete:En,void:En,throw:En,debugger:He("debugger"),var:He("var"),const:He("var"),let:He("var"),function:He("function"),catch:He("catch"),for:He("for"),switch:He("switch"),case:He("case"),default:He("default"),in:Gn,typeof:Gn,instanceof:Gn,true:Li,false:Li,null:Li,undefined:Li,NaN:Li,Infinity:Li,this:He("this"),class:He("class"),super:He("atom"),yield:En,export:He("export"),import:He("import"),extends:En,await:En}}(),g=/[+\-*&%=<>!?|~^@]/,z=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(He){for(var kt=!1,Pn,En=!1;(Pn=He.next())!=null;){if(!kt){if(Pn=="/"&&!En)return;Pn=="["?En=!0:En&&Pn=="]"&&(En=!1)}kt=!kt&&Pn=="\\"}}var Y,q;function j(He,kt,Pn){return Y=He,q=Pn,kt}function le(He,kt){var Pn=He.next();if(Pn=='"'||Pn=="'")return kt.tokenize=ce(Pn),kt.tokenize(He,kt);if(Pn=="."&&He.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return j("number","number");if(Pn=="."&&He.match(".."))return j("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Pn))return j(Pn);if(Pn=="="&&He.eat(">"))return j("=>","operator");if(Pn=="0"&&He.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return j("number","number");if(/\d/.test(Pn))return He.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),j("number","number");if(Pn=="/")return He.eat("*")?(kt.tokenize=se,se(He,kt)):He.eat("/")?(He.skipToEnd(),j("comment","comment")):Hr(He,kt,1)?(E(He),He.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),j("regexp","string-2")):(He.eat("="),j("operator","operator",He.current()));if(Pn=="`")return kt.tokenize=ne,ne(He,kt);if(Pn=="#"&&He.peek()=="!")return He.skipToEnd(),j("meta","meta");if(Pn=="#"&&He.eatWhile(T))return j("variable","property");if(Pn=="<"&&He.match("!--")||Pn=="-"&&He.match("->")&&!/\S/.test(He.string.slice(0,He.start)))return He.skipToEnd(),j("comment","comment");if(g.test(Pn))return(Pn!=">"||!kt.lexical||kt.lexical.type!=">")&&(He.eat("=")?(Pn=="!"||Pn=="=")&&He.eat("="):/[<>*+\-|&?]/.test(Pn)&&(He.eat(Pn),Pn==">"&&He.eat(Pn))),Pn=="?"&&He.eat(".")?j("."):j("operator","operator",He.current());if(T.test(Pn)){He.eatWhile(T);var En=He.current();if(kt.lastType!="."){if(S.propertyIsEnumerable(En)){var Qn=S[En];return j(Qn.type,Qn.style,En)}if(En=="async"&&He.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return j("async","keyword",En)}return j("variable","variable",En)}}function ce(He){return function(kt,Pn){var En=!1,Qn;if(d&&kt.peek()=="@"&&kt.match(z))return Pn.tokenize=le,j("jsonld-keyword","meta");for(;(Qn=kt.next())!=null&&!(Qn==He&&!En);)En=!En&&Qn=="\\";return En||(Pn.tokenize=le),j("string","string")}}function se(He,kt){for(var Pn=!1,En;En=He.next();){if(En=="/"&&Pn){kt.tokenize=le;break}Pn=En=="*"}return j("comment","comment")}function ne(He,kt){for(var Pn=!1,En;(En=He.next())!=null;){if(!Pn&&(En=="`"||En=="$"&&He.eat("{"))){kt.tokenize=le;break}Pn=!Pn&&En=="\\"}return j("quasi","string-2",He.current())}var De="([{}])";function we(He,kt){kt.fatArrowAt&&(kt.fatArrowAt=null);var Pn=He.string.indexOf("=>",He.start);if(!(Pn<0)){if(D){var En=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(He.string.slice(He.start,Pn));En&&(Pn=En.index)}for(var Qn=0,Gn=!1,Li=Pn-1;Li>=0;--Li){var Yr=He.string.charAt(Li),Bi=De.indexOf(Yr);if(Bi>=0&&Bi<3){if(!Qn){++Li;break}if(--Qn==0){Yr=="("&&(Gn=!0);break}}else if(Bi>=3&&Bi<6)++Qn;else if(T.test(Yr))Gn=!0;else if(/["'\/`]/.test(Yr))for(;;--Li){if(Li==0)return;var bi=He.string.charAt(Li-1);if(bi==Yr&&He.string.charAt(Li-2)!="\\"){Li--;break}}else if(Gn&&!Qn){++Li;break}}Gn&&!Qn&&(kt.fatArrowAt=Li)}}var je={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function dt(He,kt,Pn,En,Qn,Gn){this.indented=He,this.column=kt,this.type=Pn,this.prev=Qn,this.info=Gn,En!=null&&(this.align=En)}function Qe(He,kt){if(!M)return!1;for(var Pn=He.localVars;Pn;Pn=Pn.next)if(Pn.name==kt)return!0;for(var En=He.context;En;En=En.prev)for(var Pn=En.vars;Pn;Pn=Pn.next)if(Pn.name==kt)return!0}function lt(He,kt,Pn,En,Qn){var Gn=He.cc;for(Te.state=He,Te.stream=Qn,Te.marked=null,Te.cc=Gn,Te.style=kt,He.lexical.hasOwnProperty("align")||(He.lexical.align=!0);;){var Li=Gn.length?Gn.pop():v?Ae:Ue;if(Li(Pn,En)){for(;Gn.length&&Gn[Gn.length-1].lex;)Gn.pop()();return Te.marked?Te.marked:Pn=="variable"&&Qe(He,En)?"variable-2":kt}}}var Te={state:null,column:null,marked:null,cc:null};function Je(){for(var He=arguments.length-1;He>=0;He--)Te.cc.push(arguments[He])}function te(){return Je.apply(null,arguments),!0}function fe(He,kt){for(var Pn=kt;Pn;Pn=Pn.next)if(Pn.name==He)return!0;return!1}function ue(He){var kt=Te.state;if(Te.marked="def",!!M){if(kt.context){if(kt.lexical.info=="var"&&kt.context&&kt.context.block){var Pn=ae(He,kt.context);if(Pn!=null){kt.context=Pn;return}}else if(!fe(He,kt.localVars)){kt.localVars=new J(He,kt.localVars);return}}x.globalVars&&!fe(He,kt.globalVars)&&(kt.globalVars=new J(He,kt.globalVars))}}function ae(He,kt){if(kt)if(kt.block){var Pn=ae(He,kt.prev);return Pn?Pn==kt.prev?kt:new ve(Pn,kt.vars,!0):null}else return fe(He,kt.vars)?kt:new ve(kt.prev,new J(He,kt.vars),!1);else return null}function de(He){return He=="public"||He=="private"||He=="protected"||He=="abstract"||He=="readonly"}function ve(He,kt,Pn){this.prev=He,this.vars=kt,this.block=Pn}function J(He,kt){this.name=He,this.next=kt}var X=new J("this",new J("arguments",null));function K(){Te.state.context=new ve(Te.state.context,Te.state.localVars,!1),Te.state.localVars=X}function ze(){Te.state.context=new ve(Te.state.context,Te.state.localVars,!0),Te.state.localVars=null}K.lex=ze.lex=!0;function Ze(){Te.state.localVars=Te.state.context.vars,Te.state.context=Te.state.context.prev}Ze.lex=!0;function We(He,kt){var Pn=function(){var En=Te.state,Qn=En.indented;if(En.lexical.type=="stat")Qn=En.lexical.indented;else for(var Gn=En.lexical;Gn&&Gn.type==")"&&Gn.align;Gn=Gn.prev)Qn=Gn.indented;En.lexical=new dt(Qn,Te.stream.column(),He,null,En.lexical,kt)};return Pn.lex=!0,Pn}function ye(){var He=Te.state;He.lexical.prev&&(He.lexical.type==")"&&(He.indented=He.lexical.indented),He.lexical=He.lexical.prev)}ye.lex=!0;function Ie(He){function kt(Pn){return Pn==He?te():He==";"||Pn=="}"||Pn==")"||Pn=="]"?Je():te(kt)}return kt}function Ue(He,kt){return He=="var"?te(We("vardef",kt),St,Ie(";"),ye):He=="keyword a"?te(We("form"),it,Ue,ye):He=="keyword b"?te(We("form"),Ue,ye):He=="keyword d"?Te.stream.match(/^\s*$/,!1)?te():te(We("stat"),et,Ie(";"),ye):He=="debugger"?te(Ie(";")):He=="{"?te(We("}"),ze,xi,ye,Ze):He==";"?te():He=="if"?(Te.state.lexical.info=="else"&&Te.state.cc[Te.state.cc.length-1]==ye&&Te.state.cc.pop()(),te(We("form"),it,Ue,ye,Yt)):He=="function"?te(mn):He=="for"?te(We("form"),ze,Mn,Ue,Ze,ye):He=="class"||D&&kt=="interface"?(Te.marked="keyword",te(We("form",He=="class"?He:kt),tr,ye)):He=="variable"?D&&kt=="declare"?(Te.marked="keyword",te(Ue)):D&&(kt=="module"||kt=="enum"||kt=="type")&&Te.stream.match(/^\s*\w/,!1)?(Te.marked="keyword",kt=="enum"?te(Ar):kt=="type"?te(Rn,Ie("operator"),Tr,Ie(";")):te(We("form"),It,Ie("{"),We("}"),xi,ye,ye)):D&&kt=="namespace"?(Te.marked="keyword",te(We("form"),Ae,Ue,ye)):D&&kt=="abstract"?(Te.marked="keyword",te(Ue)):te(We("stat"),yn):He=="switch"?te(We("form"),it,Ie("{"),We("}","switch"),ze,xi,ye,ye,Ze):He=="case"?te(Ae,Ie(":")):He=="default"?te(Ie(":")):He=="catch"?te(We("form"),K,Ye,Ue,ye,Ze):He=="export"?te(We("stat"),Un,ye):He=="import"?te(We("stat"),gi,ye):He=="async"?te(Ue):kt=="@"?te(Ae,Ue):Je(We("stat"),Ae,Ie(";"),ye)}function Ye(He){if(He=="(")return te(Kn,Ie(")"))}function Ae(He,kt){return Ve(He,kt,!1)}function tt(He,kt){return Ve(He,kt,!0)}function it(He){return He!="("?Je():te(We(")"),et,Ie(")"),ye)}function Ve(He,kt,Pn){if(Te.state.fatArrowAt==Te.stream.start){var En=Pn?Mt:Ft;if(He=="(")return te(K,We(")"),jr(Kn,")"),ye,Ie("=>"),En,Ze);if(He=="variable")return Je(K,It,Ie("=>"),En,Ze)}var Qn=Pn?jt:wt;return je.hasOwnProperty(He)?te(Qn):He=="function"?te(mn,Qn):He=="class"||D&&kt=="interface"?(Te.marked="keyword",te(We("form"),jn,ye)):He=="keyword c"||He=="async"?te(Pn?tt:Ae):He=="("?te(We(")"),et,Ie(")"),ye,Qn):He=="operator"||He=="spread"?te(Pn?tt:Ae):He=="["?te(We("]"),oi,ye,Qn):He=="{"?ii(xn,"}",null,Qn):He=="quasi"?Je(on,Qn):He=="new"?te(_t(Pn)):te()}function et(He){return He.match(/[;\}\)\],]/)?Je():Je(Ae)}function wt(He,kt){return He==","?te(et):jt(He,kt,!1)}function jt(He,kt,Pn){var En=Pn==!1?wt:jt,Qn=Pn==!1?Ae:tt;if(He=="=>")return te(K,Pn?Mt:Ft,Ze);if(He=="operator")return/\+\+|--/.test(kt)||D&&kt=="!"?te(En):D&&kt=="<"&&Te.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?te(We(">"),jr(Tr,">"),ye,En):kt=="?"?te(Ae,Ie(":"),Qn):te(Qn);if(He=="quasi")return Je(on,En);if(He!=";"){if(He=="(")return ii(tt,")","call",En);if(He==".")return te(Wt,En);if(He=="[")return te(We("]"),et,Ie("]"),ye,En);if(D&&kt=="as")return Te.marked="keyword",te(Tr,En);if(He=="regexp")return Te.state.lastType=Te.marked="operator",Te.stream.backUp(Te.stream.pos-Te.stream.start-1),te(Qn)}}function on(He,kt){return He!="quasi"?Je():kt.slice(kt.length-2)!="${"?te(on):te(et,bn)}function bn(He){if(He=="}")return Te.marked="string-2",Te.state.tokenize=ne,te(on)}function Ft(He){return we(Te.stream,Te.state),Je(He=="{"?Ue:Ae)}function Mt(He){return we(Te.stream,Te.state),Je(He=="{"?Ue:tt)}function _t(He){return function(kt){return kt=="."?te(He?Me:Jt):kt=="variable"&&D?te(nt,He?jt:wt):Je(He?tt:Ae)}}function Jt(He,kt){if(kt=="target")return Te.marked="keyword",te(wt)}function Me(He,kt){if(kt=="target")return Te.marked="keyword",te(jt)}function yn(He){return He==":"?te(ye,Ue):Je(wt,Ie(";"),ye)}function Wt(He){if(He=="variable")return Te.marked="property",te()}function xn(He,kt){if(He=="async")return Te.marked="property",te(xn);if(He=="variable"||Te.style=="keyword"){if(Te.marked="property",kt=="get"||kt=="set")return te(Nn);var Pn;return D&&Te.state.fatArrowAt==Te.stream.start&&(Pn=Te.stream.match(/^\s*:\s*/,!1))&&(Te.state.fatArrowAt=Te.stream.pos+Pn[0].length),te(Cr)}else{if(He=="number"||He=="string")return Te.marked=d?"property":Te.style+" property",te(Cr);if(He=="jsonld-keyword")return te(Cr);if(D&&de(kt))return Te.marked="keyword",te(xn);if(He=="[")return te(Ae,$i,Ie("]"),Cr);if(He=="spread")return te(tt,Cr);if(kt=="*")return Te.marked="keyword",te(xn);if(He==":")return Je(Cr)}}function Nn(He){return He!="variable"?Je(Cr):(Te.marked="property",te(mn))}function Cr(He){if(He==":")return te(tt);if(He=="(")return Je(mn)}function jr(He,kt,Pn){function En(Qn,Gn){if(Pn?Pn.indexOf(Qn)>-1:Qn==","){var Li=Te.state.lexical;return Li.info=="call"&&(Li.pos=(Li.pos||0)+1),te(function(Yr,Bi){return Yr==kt||Bi==kt?Je():Je(He)},En)}return Qn==kt||Gn==kt?te():Pn&&Pn.indexOf(";")>-1?Je(He):te(Ie(kt))}return function(Qn,Gn){return Qn==kt||Gn==kt?te():Je(He,En)}}function ii(He,kt,Pn){for(var En=3;En<arguments.length;En++)Te.cc.push(arguments[En]);return te(We(kt,Pn),jr(He,kt),ye)}function xi(He){return He=="}"?te():Je(Ue,xi)}function $i(He,kt){if(D){if(He==":")return te(Tr);if(kt=="?")return te($i)}}function _i(He,kt){if(D&&(He==":"||kt=="in"))return te(Tr)}function Vr(He){if(D&&He==":")return Te.stream.match(/^\s*\w+\s+is\b/,!1)?te(Ae,Kr,Tr):te(Tr)}function Kr(He,kt){if(kt=="is")return Te.marked="keyword",te()}function Tr(He,kt){if(kt=="keyof"||kt=="typeof"||kt=="infer"||kt=="readonly")return Te.marked="keyword",te(kt=="typeof"?tt:Tr);if(He=="variable"||kt=="void")return Te.marked="type",te(Pe);if(kt=="|"||kt=="&")return te(Tr);if(He=="string"||He=="number"||He=="atom")return te(Pe);if(He=="[")return te(We("]"),jr(Tr,"]",","),ye,Pe);if(He=="{")return te(We("}"),Zt,ye,Pe);if(He=="(")return te(jr(me,")"),qt,Pe);if(He=="<")return te(jr(Tr,">"),Tr);if(He=="quasi")return Je(pe,Pe)}function qt(He){if(He=="=>")return te(Tr)}function Zt(He){return He.match(/[\}\)\]]/)?te():He==","||He==";"?te(Zt):Je(Ee,Zt)}function Ee(He,kt){if(He=="variable"||Te.style=="keyword")return Te.marked="property",te(Ee);if(kt=="?"||He=="number"||He=="string")return te(Ee);if(He==":")return te(Tr);if(He=="[")return te(Ie("variable"),_i,Ie("]"),Ee);if(He=="(")return Je(On,Ee);if(!He.match(/[;\}\)\],]/))return te()}function pe(He,kt){return He!="quasi"?Je():kt.slice(kt.length-2)!="${"?te(pe):te(Tr,oe)}function oe(He){if(He=="}")return Te.marked="string-2",Te.state.tokenize=ne,te(pe)}function me(He,kt){return He=="variable"&&Te.stream.match(/^\s*[?:]/,!1)||kt=="?"?te(me):He==":"?te(Tr):He=="spread"?te(me):Je(Tr)}function Pe(He,kt){if(kt=="<")return te(We(">"),jr(Tr,">"),ye,Pe);if(kt=="|"||He=="."||kt=="&")return te(Tr);if(He=="[")return te(Tr,Ie("]"),Pe);if(kt=="extends"||kt=="implements")return Te.marked="keyword",te(Tr);if(kt=="?")return te(Tr,Ie(":"),Tr)}function nt(He,kt){if(kt=="<")return te(We(">"),jr(Tr,">"),ye,Pe)}function ht(){return Je(Tr,vt)}function vt(He,kt){if(kt=="=")return te(Tr)}function St(He,kt){return kt=="enum"?(Te.marked="keyword",te(Ar)):Je(It,$i,Lt,Gt)}function It(He,kt){if(D&&de(kt))return Te.marked="keyword",te(It);if(He=="variable")return ue(kt),te();if(He=="spread")return te(It);if(He=="[")return ii(Tt,"]");if(He=="{")return ii(Kt,"}")}function Kt(He,kt){return He=="variable"&&!Te.stream.match(/^\s*:/,!1)?(ue(kt),te(Lt)):(He=="variable"&&(Te.marked="property"),He=="spread"?te(It):He=="}"?Je():He=="["?te(Ae,Ie("]"),Ie(":"),Kt):te(Ie(":"),It,Lt))}function Tt(){return Je(It,Lt)}function Lt(He,kt){if(kt=="=")return te(tt)}function Gt(He){if(He==",")return te(St)}function Yt(He,kt){if(He=="keyword b"&&kt=="else")return te(We("form","else"),Ue,ye)}function Mn(He,kt){if(kt=="await")return te(Mn);if(He=="(")return te(We(")"),Dn,ye)}function Dn(He){return He=="var"?te(St,wn):He=="variable"?te(wn):Je(wn)}function wn(He,kt){return He==")"?te():He==";"?te(wn):kt=="in"||kt=="of"?(Te.marked="keyword",te(Ae,wn)):Je(Ae,wn)}function mn(He,kt){if(kt=="*")return Te.marked="keyword",te(mn);if(He=="variable")return ue(kt),te(mn);if(He=="(")return te(K,We(")"),jr(Kn,")"),ye,Vr,Ue,Ze);if(D&&kt=="<")return te(We(">"),jr(ht,">"),ye,mn)}function On(He,kt){if(kt=="*")return Te.marked="keyword",te(On);if(He=="variable")return ue(kt),te(On);if(He=="(")return te(K,We(")"),jr(Kn,")"),ye,Vr,Ze);if(D&&kt=="<")return te(We(">"),jr(ht,">"),ye,On)}function Rn(He,kt){if(He=="keyword"||He=="variable")return Te.marked="type",te(Rn);if(kt=="<")return te(We(">"),jr(ht,">"),ye)}function Kn(He,kt){return kt=="@"&&te(Ae,Kn),He=="spread"?te(Kn):D&&de(kt)?(Te.marked="keyword",te(Kn)):D&&He=="this"?te($i,Lt):Je(It,$i,Lt)}function jn(He,kt){return He=="variable"?tr(He,kt):cr(He,kt)}function tr(He,kt){if(He=="variable")return ue(kt),te(cr)}function cr(He,kt){if(kt=="<")return te(We(">"),jr(ht,">"),ye,cr);if(kt=="extends"||kt=="implements"||D&&He==",")return kt=="implements"&&(Te.marked="keyword"),te(D?Tr:Ae,cr);if(He=="{")return te(We("}"),ar,ye)}function ar(He,kt){if(He=="async"||He=="variable"&&(kt=="static"||kt=="get"||kt=="set"||D&&de(kt))&&Te.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return Te.marked="keyword",te(ar);if(He=="variable"||Te.style=="keyword")return Te.marked="property",te(Zn,ar);if(He=="number"||He=="string")return te(Zn,ar);if(He=="[")return te(Ae,$i,Ie("]"),Zn,ar);if(kt=="*")return Te.marked="keyword",te(ar);if(D&&He=="(")return Je(On,ar);if(He==";"||He==",")return te(ar);if(He=="}")return te();if(kt=="@")return te(Ae,ar)}function Zn(He,kt){if(kt=="!"||kt=="?")return te(Zn);if(He==":")return te(Tr,Lt);if(kt=="=")return te(tt);var Pn=Te.state.lexical.prev,En=Pn&&Pn.info=="interface";return Je(En?On:mn)}function Un(He,kt){return kt=="*"?(Te.marked="keyword",te(mi,Ie(";"))):kt=="default"?(Te.marked="keyword",te(Ae,Ie(";"))):He=="{"?te(jr(yi,"}"),mi,Ie(";")):Je(Ue)}function yi(He,kt){if(kt=="as")return Te.marked="keyword",te(Ie("variable"));if(He=="variable")return Je(tt,yi)}function gi(He){return He=="string"?te():He=="("?Je(Ae):He=="."?Je(wt):Je(Xr,Vn,mi)}function Xr(He,kt){return He=="{"?ii(Xr,"}"):(He=="variable"&&ue(kt),kt=="*"&&(Te.marked="keyword"),te(ci))}function Vn(He){if(He==",")return te(Xr,Vn)}function ci(He,kt){if(kt=="as")return Te.marked="keyword",te(Xr)}function mi(He,kt){if(kt=="from")return Te.marked="keyword",te(Ae)}function oi(He){return He=="]"?te():Je(jr(tt,"]"))}function Ar(){return Je(We("form"),It,Ie("{"),We("}"),jr(Fr,"}"),ye,ye)}function Fr(){return Je(It,Lt)}function lr(He,kt){return He.lastType=="operator"||He.lastType==","||g.test(kt.charAt(0))||/[,.]/.test(kt.charAt(0))}function Hr(He,kt,Pn){return kt.tokenize==le&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(kt.lastType)||kt.lastType=="quasi"&&/\{\s*$/.test(He.string.slice(0,He.pos-(Pn||0)))}return{startState:function(He){var kt={tokenize:le,lastType:"sof",cc:[],lexical:new dt((He||0)-m,0,"block",!1),localVars:x.localVars,context:x.localVars&&new ve(null,null,!1),indented:He||0};return x.globalVars&&typeof x.globalVars=="object"&&(kt.globalVars=x.globalVars),kt},token:function(He,kt){if(He.sol()&&(kt.lexical.hasOwnProperty("align")||(kt.lexical.align=!1),kt.indented=He.indentation(),we(He,kt)),kt.tokenize!=se&&He.eatSpace())return null;var Pn=kt.tokenize(He,kt);return Y=="comment"?Pn:(kt.lastType=Y=="operator"&&(q=="++"||q=="--")?"incdec":Y,lt(kt,Pn,Y,q,He))},indent:function(He,kt){if(He.tokenize==se||He.tokenize==ne)return O.Pass;if(He.tokenize!=le)return 0;var Pn=kt&&kt.charAt(0),En=He.lexical,Qn;if(!/^\s*else\b/.test(kt))for(var Gn=He.cc.length-1;Gn>=0;--Gn){var Li=He.cc[Gn];if(Li==ye)En=En.prev;else if(Li!=Yt&&Li!=Ze)break}for(;(En.type=="stat"||En.type=="form")&&(Pn=="}"||(Qn=He.cc[He.cc.length-1])&&(Qn==wt||Qn==jt)&&!/^[,\.=+\-*:?[\(]/.test(kt));)En=En.prev;p&&En.type==")"&&En.prev.type=="stat"&&(En=En.prev);var Yr=En.type,Bi=Pn==Yr;return Yr=="vardef"?En.indented+(He.lastType=="operator"||He.lastType==","?En.info.length+1:0):Yr=="form"&&Pn=="{"?En.indented:Yr=="form"?En.indented+m:Yr=="stat"?En.indented+(lr(He,kt)?p||m:0):En.info=="switch"&&!Bi&&x.doubleIndentSwitch!=!1?En.indented+(/^(?:case|default)\b/.test(kt)?m:2*m):En.align?En.column+(Bi?0:1):En.indented+(Bi?0:m)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:d,jsonMode:v,expressionAllowed:Hr,skipExpression:function(He){lt(He,"atom","atom","true",new O.StringStream("",2,null))}}}),O.registerHelper("wordChars","javascript",/[\w$]/),O.defineMIME("text/javascript","javascript"),O.defineMIME("text/ecmascript","javascript"),O.defineMIME("application/javascript","javascript"),O.defineMIME("application/x-javascript","javascript"),O.defineMIME("application/ecmascript","javascript"),O.defineMIME("application/json",{name:"javascript",json:!0}),O.defineMIME("application/x-json",{name:"javascript",json:!0}),O.defineMIME("application/manifest+json",{name:"javascript",json:!0}),O.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),O.defineMIME("text/typescript",{name:"javascript",typescript:!0}),O.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},1049:function(ut,Ce,f){(function(O){O(f(13187),f(36941),f(13838))})(function(O){"use strict";function U(m,p,d,v){this.state=m,this.mode=p,this.depth=d,this.prev=v}function x(m){return new U(O.copyState(m.mode,m.state),m.mode,m.depth,m.prev&&x(m.prev))}O.defineMode("jsx",function(m,p){var d=O.getMode(m,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1,allowMissingTagName:!0}),v=O.getMode(m,p&&p.base||"javascript");function M(g){var z=g.tagName;g.tagName=null;var E=d.indent(g,"","");return g.tagName=z,E}function D(g,z){return z.context.mode==d?T(g,z,z.context):S(g,z,z.context)}function T(g,z,E){if(E.depth==2)return g.match(/^.*?\*\//)?E.depth=1:g.skipToEnd(),"comment";if(g.peek()=="{"){d.skipAttribute(E.state);var Y=M(E.state),q=E.state.context;if(q&&g.match(/^[^>]*>\s*$/,!1)){for(;q.prev&&!q.startOfLine;)q=q.prev;q.startOfLine?Y-=m.indentUnit:E.prev.state.lexical&&(Y=E.prev.state.lexical.indented)}else E.depth==1&&(Y+=m.indentUnit);return z.context=new U(O.startState(v,Y),v,0,z.context),null}if(E.depth==1){if(g.peek()=="<")return d.skipAttribute(E.state),z.context=new U(O.startState(d,M(E.state)),d,0,z.context),null;if(g.match("//"))return g.skipToEnd(),"comment";if(g.match("/*"))return E.depth=2,D(g,z)}var j=d.token(g,E.state),le=g.current(),ce;return/\btag\b/.test(j)?/>$/.test(le)?E.state.context?E.depth=0:z.context=z.context.prev:/^</.test(le)&&(E.depth=1):!j&&(ce=le.indexOf("{"))>-1&&g.backUp(le.length-ce),j}function S(g,z,E){if(g.peek()=="<"&&v.expressionAllowed(g,E.state))return z.context=new U(O.startState(d,v.indent(E.state,"","")),d,0,z.context),v.skipExpression(E.state),null;var Y=v.token(g,E.state);if(!Y&&E.depth!=null){var q=g.current();q=="{"?E.depth++:q=="}"&&--E.depth==0&&(z.context=z.context.prev)}return Y}return{startState:function(){return{context:new U(O.startState(v),v)}},copyState:function(g){return{context:x(g.context)}},token:D,indent:function(g,z,E){return g.context.mode.indent(g.context.state,z,E)},innerMode:function(g){return g.context}}},"xml","javascript"),O.defineMIME("text/jsx","jsx"),O.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})})},65798:function(ut,Ce,f){(function(O){O(f(13187),f(36941),f(49608))})(function(O){"use strict";O.defineMode("markdown",function(U,x){var m=O.getMode(U,"text/html"),p=m.name=="null";function d(X){if(O.findModeByName){var K=O.findModeByName(X);K&&(X=K.mime||K.mimes[0])}var ze=O.getMode(U,X);return ze.name=="null"?null:ze}x.highlightFormatting===void 0&&(x.highlightFormatting=!1),x.maxBlockquoteDepth===void 0&&(x.maxBlockquoteDepth=0),x.taskLists===void 0&&(x.taskLists=!1),x.strikethrough===void 0&&(x.strikethrough=!1),x.emoji===void 0&&(x.emoji=!1),x.fencedCodeBlockHighlighting===void 0&&(x.fencedCodeBlockHighlighting=!0),x.fencedCodeBlockDefaultMode===void 0&&(x.fencedCodeBlockDefaultMode="text/plain"),x.xml===void 0&&(x.xml=!0),x.tokenTypeOverrides===void 0&&(x.tokenTypeOverrides={});var v={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var M in v)v.hasOwnProperty(M)&&x.tokenTypeOverrides[M]&&(v[M]=x.tokenTypeOverrides[M]);var D=/^([*\-_])(?:\s*\1){2,}\s*$/,T=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,S=/^\[(x| )\](?=\s)/i,g=x.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,z=/^ {0,3}(?:\={1,}|-{2,})\s*$/,E=/^[^#!\[\]*_\\<>` "'(~:]+/,Y=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,q=/^\s*\[[^\]]+?\]:.*$/,j=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,le="    ";function ce(X,K,ze){return K.f=K.inline=ze,ze(X,K)}function se(X,K,ze){return K.f=K.block=ze,ze(X,K)}function ne(X){return!X||!/\S/.test(X.string)}function De(X){if(X.linkTitle=!1,X.linkHref=!1,X.linkText=!1,X.em=!1,X.strong=!1,X.strikethrough=!1,X.quote=0,X.indentedCode=!1,X.f==je){var K=p;if(!K){var ze=O.innerMode(m,X.htmlState);K=ze.mode.name=="xml"&&ze.state.tagStart===null&&!ze.state.context&&ze.state.tokenize.isInText}K&&(X.f=Te,X.block=we,X.htmlState=null)}return X.trailingSpace=0,X.trailingSpaceNewLine=!1,X.prevLine=X.thisLine,X.thisLine={stream:null},null}function we(X,K){var ze=X.column()===K.indentation,Ze=ne(K.prevLine.stream),We=K.indentedCode,ye=K.prevLine.hr,Ie=K.list!==!1,Ue=(K.listStack[K.listStack.length-1]||0)+3;K.indentedCode=!1;var Ye=K.indentation;if(K.indentationDiff===null&&(K.indentationDiff=K.indentation,Ie)){for(K.list=null;Ye<K.listStack[K.listStack.length-1];)K.listStack.pop(),K.listStack.length?K.indentation=K.listStack[K.listStack.length-1]:K.list=!1;K.list!==!1&&(K.indentationDiff=Ye-K.listStack[K.listStack.length-1])}var Ae=!Ze&&!ye&&!K.prevLine.header&&(!Ie||!We)&&!K.prevLine.fencedCodeEnd,tt=(K.list===!1||ye||Ze)&&K.indentation<=Ue&&X.match(D),it=null;if(K.indentationDiff>=4&&(We||K.prevLine.fencedCodeEnd||K.prevLine.header||Ze))return X.skipToEnd(),K.indentedCode=!0,v.code;if(X.eatSpace())return null;if(ze&&K.indentation<=Ue&&(it=X.match(g))&&it[1].length<=6)return K.quote=0,K.header=it[1].length,K.thisLine.header=!0,x.highlightFormatting&&(K.formatting="header"),K.f=K.inline,Qe(K);if(K.indentation<=Ue&&X.eat(">"))return K.quote=ze?1:K.quote+1,x.highlightFormatting&&(K.formatting="quote"),X.eatSpace(),Qe(K);if(!tt&&!K.setext&&ze&&K.indentation<=Ue&&(it=X.match(T))){var Ve=it[1]?"ol":"ul";return K.indentation=Ye+X.current().length,K.list=!0,K.quote=0,K.listStack.push(K.indentation),K.em=!1,K.strong=!1,K.code=!1,K.strikethrough=!1,x.taskLists&&X.match(S,!1)&&(K.taskList=!0),K.f=K.inline,x.highlightFormatting&&(K.formatting=["list","list-"+Ve]),Qe(K)}else{if(ze&&K.indentation<=Ue&&(it=X.match(Y,!0)))return K.quote=0,K.fencedEndRE=new RegExp(it[1]+"+ *$"),K.localMode=x.fencedCodeBlockHighlighting&&d(it[2]||x.fencedCodeBlockDefaultMode),K.localMode&&(K.localState=O.startState(K.localMode)),K.f=K.block=dt,x.highlightFormatting&&(K.formatting="code-block"),K.code=-1,Qe(K);if(K.setext||(!Ae||!Ie)&&!K.quote&&K.list===!1&&!K.code&&!tt&&!q.test(X.string)&&(it=X.lookAhead(1))&&(it=it.match(z)))return K.setext?(K.header=K.setext,K.setext=0,X.skipToEnd(),x.highlightFormatting&&(K.formatting="header")):(K.header=it[0].charAt(0)=="="?1:2,K.setext=K.header),K.thisLine.header=!0,K.f=K.inline,Qe(K);if(tt)return X.skipToEnd(),K.hr=!0,K.thisLine.hr=!0,v.hr;if(X.peek()==="[")return ce(X,K,ae)}return ce(X,K,K.inline)}function je(X,K){var ze=m.token(X,K.htmlState);if(!p){var Ze=O.innerMode(m,K.htmlState);(Ze.mode.name=="xml"&&Ze.state.tagStart===null&&!Ze.state.context&&Ze.state.tokenize.isInText||K.md_inside&&X.current().indexOf(">")>-1)&&(K.f=Te,K.block=we,K.htmlState=null)}return ze}function dt(X,K){var ze=K.listStack[K.listStack.length-1]||0,Ze=K.indentation<ze,We=ze+3;if(K.fencedEndRE&&K.indentation<=We&&(Ze||X.match(K.fencedEndRE))){x.highlightFormatting&&(K.formatting="code-block");var ye;return Ze||(ye=Qe(K)),K.localMode=K.localState=null,K.block=we,K.f=Te,K.fencedEndRE=null,K.code=0,K.thisLine.fencedCodeEnd=!0,Ze?se(X,K,K.block):ye}else return K.localMode?K.localMode.token(X,K.localState):(X.skipToEnd(),v.code)}function Qe(X){var K=[];if(X.formatting){K.push(v.formatting),typeof X.formatting=="string"&&(X.formatting=[X.formatting]);for(var ze=0;ze<X.formatting.length;ze++)K.push(v.formatting+"-"+X.formatting[ze]),X.formatting[ze]==="header"&&K.push(v.formatting+"-"+X.formatting[ze]+"-"+X.header),X.formatting[ze]==="quote"&&(!x.maxBlockquoteDepth||x.maxBlockquoteDepth>=X.quote?K.push(v.formatting+"-"+X.formatting[ze]+"-"+X.quote):K.push("error"))}if(X.taskOpen)return K.push("meta"),K.length?K.join(" "):null;if(X.taskClosed)return K.push("property"),K.length?K.join(" "):null;if(X.linkHref?K.push(v.linkHref,"url"):(X.strong&&K.push(v.strong),X.em&&K.push(v.em),X.strikethrough&&K.push(v.strikethrough),X.emoji&&K.push(v.emoji),X.linkText&&K.push(v.linkText),X.code&&K.push(v.code),X.image&&K.push(v.image),X.imageAltText&&K.push(v.imageAltText,"link"),X.imageMarker&&K.push(v.imageMarker)),X.header&&K.push(v.header,v.header+"-"+X.header),X.quote&&(K.push(v.quote),!x.maxBlockquoteDepth||x.maxBlockquoteDepth>=X.quote?K.push(v.quote+"-"+X.quote):K.push(v.quote+"-"+x.maxBlockquoteDepth)),X.list!==!1){var Ze=(X.listStack.length-1)%3;Ze?Ze===1?K.push(v.list2):K.push(v.list3):K.push(v.list1)}return X.trailingSpaceNewLine?K.push("trailing-space-new-line"):X.trailingSpace&&K.push("trailing-space-"+(X.trailingSpace%2?"a":"b")),K.length?K.join(" "):null}function lt(X,K){if(X.match(E,!0))return Qe(K)}function Te(X,K){var ze=K.text(X,K);if(typeof ze!="undefined")return ze;if(K.list)return K.list=null,Qe(K);if(K.taskList){var Ze=X.match(S,!0)[1]===" ";return Ze?K.taskOpen=!0:K.taskClosed=!0,x.highlightFormatting&&(K.formatting="task"),K.taskList=!1,Qe(K)}if(K.taskOpen=!1,K.taskClosed=!1,K.header&&X.match(/^#+$/,!0))return x.highlightFormatting&&(K.formatting="header"),Qe(K);var We=X.next();if(K.linkTitle){K.linkTitle=!1;var ye=We;We==="("&&(ye=")"),ye=(ye+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Ie="^\\s*(?:[^"+ye+"\\\\]+|\\\\\\\\|\\\\.)"+ye;if(X.match(new RegExp(Ie),!0))return v.linkHref}if(We==="`"){var Ue=K.formatting;x.highlightFormatting&&(K.formatting="code"),X.eatWhile("`");var Ye=X.current().length;if(K.code==0&&(!K.quote||Ye==1))return K.code=Ye,Qe(K);if(Ye==K.code){var Ae=Qe(K);return K.code=0,Ae}else return K.formatting=Ue,Qe(K)}else if(K.code)return Qe(K);if(We==="\\"&&(X.next(),x.highlightFormatting)){var tt=Qe(K),it=v.formatting+"-escape";return tt?tt+" "+it:it}if(We==="!"&&X.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return K.imageMarker=!0,K.image=!0,x.highlightFormatting&&(K.formatting="image"),Qe(K);if(We==="["&&K.imageMarker&&X.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return K.imageMarker=!1,K.imageAltText=!0,x.highlightFormatting&&(K.formatting="image"),Qe(K);if(We==="]"&&K.imageAltText){x.highlightFormatting&&(K.formatting="image");var tt=Qe(K);return K.imageAltText=!1,K.image=!1,K.inline=K.f=te,tt}if(We==="["&&!K.image)return K.linkText&&X.match(/^.*?\]/)||(K.linkText=!0,x.highlightFormatting&&(K.formatting="link")),Qe(K);if(We==="]"&&K.linkText){x.highlightFormatting&&(K.formatting="link");var tt=Qe(K);return K.linkText=!1,K.inline=K.f=X.match(/\(.*?\)| ?\[.*?\]/,!1)?te:Te,tt}if(We==="<"&&X.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){K.f=K.inline=Je,x.highlightFormatting&&(K.formatting="link");var tt=Qe(K);return tt?tt+=" ":tt="",tt+v.linkInline}if(We==="<"&&X.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){K.f=K.inline=Je,x.highlightFormatting&&(K.formatting="link");var tt=Qe(K);return tt?tt+=" ":tt="",tt+v.linkEmail}if(x.xml&&We==="<"&&X.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Ve=X.string.indexOf(">",X.pos);if(Ve!=-1){var et=X.string.substring(X.start,Ve);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(et)&&(K.md_inside=!0)}return X.backUp(1),K.htmlState=O.startState(m),se(X,K,je)}if(x.xml&&We==="<"&&X.match(/^\/\w*?>/))return K.md_inside=!1,"tag";if(We==="*"||We==="_"){for(var wt=1,jt=X.pos==1?" ":X.string.charAt(X.pos-2);wt<3&&X.eat(We);)wt++;var on=X.peek()||" ",bn=!/\s/.test(on)&&(!j.test(on)||/\s/.test(jt)||j.test(jt)),Ft=!/\s/.test(jt)&&(!j.test(jt)||/\s/.test(on)||j.test(on)),Mt=null,_t=null;if(wt%2&&(!K.em&&bn&&(We==="*"||!Ft||j.test(jt))?Mt=!0:K.em==We&&Ft&&(We==="*"||!bn||j.test(on))&&(Mt=!1)),wt>1&&(!K.strong&&bn&&(We==="*"||!Ft||j.test(jt))?_t=!0:K.strong==We&&Ft&&(We==="*"||!bn||j.test(on))&&(_t=!1)),_t!=null||Mt!=null){x.highlightFormatting&&(K.formatting=Mt==null?"strong":_t==null?"em":"strong em"),Mt===!0&&(K.em=We),_t===!0&&(K.strong=We);var Ae=Qe(K);return Mt===!1&&(K.em=!1),_t===!1&&(K.strong=!1),Ae}}else if(We===" "&&(X.eat("*")||X.eat("_"))){if(X.peek()===" ")return Qe(K);X.backUp(1)}if(x.strikethrough){if(We==="~"&&X.eatWhile(We)){if(K.strikethrough){x.highlightFormatting&&(K.formatting="strikethrough");var Ae=Qe(K);return K.strikethrough=!1,Ae}else if(X.match(/^[^\s]/,!1))return K.strikethrough=!0,x.highlightFormatting&&(K.formatting="strikethrough"),Qe(K)}else if(We===" "&&X.match("~~",!0)){if(X.peek()===" ")return Qe(K);X.backUp(2)}}if(x.emoji&&We===":"&&X.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){K.emoji=!0,x.highlightFormatting&&(K.formatting="emoji");var Jt=Qe(K);return K.emoji=!1,Jt}return We===" "&&(X.match(/^ +$/,!1)?K.trailingSpace++:K.trailingSpace&&(K.trailingSpaceNewLine=!0)),Qe(K)}function Je(X,K){var ze=X.next();if(ze===">"){K.f=K.inline=Te,x.highlightFormatting&&(K.formatting="link");var Ze=Qe(K);return Ze?Ze+=" ":Ze="",Ze+v.linkInline}return X.match(/^[^>]+/,!0),v.linkInline}function te(X,K){if(X.eatSpace())return null;var ze=X.next();return ze==="("||ze==="["?(K.f=K.inline=ue(ze==="("?")":"]"),x.highlightFormatting&&(K.formatting="link-string"),K.linkHref=!0,Qe(K)):"error"}var fe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ue(X){return function(K,ze){var Ze=K.next();if(Ze===X){ze.f=ze.inline=Te,x.highlightFormatting&&(ze.formatting="link-string");var We=Qe(ze);return ze.linkHref=!1,We}return K.match(fe[X]),ze.linkHref=!0,Qe(ze)}}function ae(X,K){return X.match(/^([^\]\\]|\\.)*\]:/,!1)?(K.f=de,X.next(),x.highlightFormatting&&(K.formatting="link"),K.linkText=!0,Qe(K)):ce(X,K,Te)}function de(X,K){if(X.match("]:",!0)){K.f=K.inline=ve,x.highlightFormatting&&(K.formatting="link");var ze=Qe(K);return K.linkText=!1,ze}return X.match(/^([^\]\\]|\\.)+/,!0),v.linkText}function ve(X,K){return X.eatSpace()?null:(X.match(/^[^\s]+/,!0),X.peek()===void 0?K.linkTitle=!0:X.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),K.f=K.inline=Te,v.linkHref+" url")}var J={startState:function(){return{f:we,prevLine:{stream:null},thisLine:{stream:null},block:we,htmlState:null,indentation:0,inline:Te,text:lt,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(X){return{f:X.f,prevLine:X.prevLine,thisLine:X.thisLine,block:X.block,htmlState:X.htmlState&&O.copyState(m,X.htmlState),indentation:X.indentation,localMode:X.localMode,localState:X.localMode?O.copyState(X.localMode,X.localState):null,inline:X.inline,text:X.text,formatting:!1,linkText:X.linkText,linkTitle:X.linkTitle,linkHref:X.linkHref,code:X.code,em:X.em,strong:X.strong,strikethrough:X.strikethrough,emoji:X.emoji,header:X.header,setext:X.setext,hr:X.hr,taskList:X.taskList,list:X.list,listStack:X.listStack.slice(0),quote:X.quote,indentedCode:X.indentedCode,trailingSpace:X.trailingSpace,trailingSpaceNewLine:X.trailingSpaceNewLine,md_inside:X.md_inside,fencedEndRE:X.fencedEndRE}},token:function(X,K){if(K.formatting=!1,X!=K.thisLine.stream){if(K.header=0,K.hr=!1,X.match(/^\s*$/,!0))return De(K),null;if(K.prevLine=K.thisLine,K.thisLine={stream:X},K.taskList=!1,K.trailingSpace=0,K.trailingSpaceNewLine=!1,!K.localState&&(K.f=K.block,K.f!=je)){var ze=X.match(/^\s*/,!0)[0].replace(/\t/g,le).length;if(K.indentation=ze,K.indentationDiff=null,ze>0)return null}}return K.f(X,K)},innerMode:function(X){return X.block==je?{state:X.htmlState,mode:m}:X.localState?{state:X.localState,mode:X.localMode}:{state:X,mode:J}},indent:function(X,K,ze){return X.block==je&&m.indent?m.indent(X.htmlState,K,ze):X.localState&&X.localMode.indent?X.localMode.indent(X.localState,K,ze):O.Pass},blankLine:De,getType:Qe,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return J},"xml"),O.defineMIME("text/markdown","markdown"),O.defineMIME("text/x-markdown","markdown")})},49608:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var U=0;U<O.modeInfo.length;U++){var x=O.modeInfo[U];x.mimes&&(x.mime=x.mimes[0])}O.findModeByMIME=function(m){m=m.toLowerCase();for(var p=0;p<O.modeInfo.length;p++){var d=O.modeInfo[p];if(d.mime==m)return d;if(d.mimes){for(var v=0;v<d.mimes.length;v++)if(d.mimes[v]==m)return d}}if(/\+xml$/.test(m))return O.findModeByMIME("application/xml");if(/\+json$/.test(m))return O.findModeByMIME("application/json")},O.findModeByExtension=function(m){m=m.toLowerCase();for(var p=0;p<O.modeInfo.length;p++){var d=O.modeInfo[p];if(d.ext){for(var v=0;v<d.ext.length;v++)if(d.ext[v]==m)return d}}},O.findModeByFileName=function(m){for(var p=0;p<O.modeInfo.length;p++){var d=O.modeInfo[p];if(d.file&&d.file.test(m))return d}var v=m.lastIndexOf("."),M=v>-1&&m.substring(v+1,m.length);if(M)return O.findModeByExtension(M)},O.findModeByName=function(m){m=m.toLowerCase();for(var p=0;p<O.modeInfo.length;p++){var d=O.modeInfo[p];if(d.name.toLowerCase()==m)return d;if(d.alias){for(var v=0;v<d.alias.length;v++)if(d.alias[v].toLowerCase()==m)return d}}}})},20905:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("nginx",function(U){function x(E){for(var Y={},q=E.split(" "),j=0;j<q.length;++j)Y[q[j]]=!0;return Y}var m=x("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),p=x("http mail events server types location upstream charset_map limit_except if geo map"),d=x("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),v=U.indentUnit,M;function D(E,Y){return M=Y,E}function T(E,Y){E.eatWhile(/[\w\$_]/);var q=E.current();if(m.propertyIsEnumerable(q))return"keyword";if(p.propertyIsEnumerable(q))return"variable-2";if(d.propertyIsEnumerable(q))return"string-2";var j=E.next();if(j=="@")return E.eatWhile(/[\w\\\-]/),D("meta",E.current());if(j=="/"&&E.eat("*"))return Y.tokenize=S,S(E,Y);if(j=="<"&&E.eat("!"))return Y.tokenize=g,g(E,Y);if(j=="=")D(null,"compare");else return(j=="~"||j=="|")&&E.eat("=")?D(null,"compare"):j=='"'||j=="'"?(Y.tokenize=z(j),Y.tokenize(E,Y)):j=="#"?(E.skipToEnd(),D("comment","comment")):j=="!"?(E.match(/^\s*\w*/),D("keyword","important")):/\d/.test(j)?(E.eatWhile(/[\w.%]/),D("number","unit")):/[,.+>*\/]/.test(j)?D(null,"select-op"):/[;{}:\[\]]/.test(j)?D(null,j):(E.eatWhile(/[\w\\\-]/),D("variable","variable"))}function S(E,Y){for(var q=!1,j;(j=E.next())!=null;){if(q&&j=="/"){Y.tokenize=T;break}q=j=="*"}return D("comment","comment")}function g(E,Y){for(var q=0,j;(j=E.next())!=null;){if(q>=2&&j==">"){Y.tokenize=T;break}q=j=="-"?q+1:0}return D("comment","comment")}function z(E){return function(Y,q){for(var j=!1,le;(le=Y.next())!=null&&!(le==E&&!j);)j=!j&&le=="\\";return j||(q.tokenize=T),D("string","string")}}return{startState:function(E){return{tokenize:T,baseIndent:E||0,stack:[]}},token:function(E,Y){if(E.eatSpace())return null;M=null;var q=Y.tokenize(E,Y),j=Y.stack[Y.stack.length-1];return M=="hash"&&j=="rule"?q="atom":q=="variable"&&(j=="rule"?q="number":(!j||j=="@media{")&&(q="tag")),j=="rule"&&/^[\{\};]$/.test(M)&&Y.stack.pop(),M=="{"?j=="@media"?Y.stack[Y.stack.length-1]="@media{":Y.stack.push("{"):M=="}"?Y.stack.pop():M=="@media"?Y.stack.push("@media"):j=="{"&&M!="comment"&&Y.stack.push("rule"),q},indent:function(E,Y){var q=E.stack.length;return/^\}/.test(Y)&&(q-=E.stack[E.stack.length-1]=="rule"?2:1),E.baseIndent+q*v},electricChars:"}"}}),O.defineMIME("text/x-nginx-conf","nginx")})},25325:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("octave",function(){function U(Y){return new RegExp("^(("+Y.join(")|(")+"))\\b")}var x=new RegExp("^[\\+\\-\\*/&|\\^~<>!@'\\\\]"),m=new RegExp("^[\\(\\[\\{\\},:=;\\.]"),p=new RegExp("^((==)|(~=)|(<=)|(>=)|(<<)|(>>)|(\\.[\\+\\-\\*/\\^\\\\]))"),d=new RegExp("^((!=)|(\\+=)|(\\-=)|(\\*=)|(/=)|(&=)|(\\|=)|(\\^=))"),v=new RegExp("^((>>=)|(<<=))"),M=new RegExp("^[\\]\\)]"),D=new RegExp("^[_A-Za-z\xA1-\uFFFF][_A-Za-z0-9\xA1-\uFFFF]*"),T=U(["error","eval","function","abs","acos","atan","asin","cos","cosh","exp","log","prod","sum","log10","max","min","sign","sin","sinh","sqrt","tan","reshape","break","zeros","default","margin","round","ones","rand","syn","ceil","floor","size","clear","zeros","eye","mean","std","cov","det","eig","inv","norm","rank","trace","expm","logm","sqrtm","linspace","plot","title","xlabel","ylabel","legend","text","grid","meshgrid","mesh","num2str","fft","ifft","arrayfun","cellfun","input","fliplr","flipud","ismember"]),S=U(["return","case","switch","else","elseif","end","endif","endfunction","if","otherwise","do","for","while","try","catch","classdef","properties","events","methods","global","persistent","endfor","endwhile","printf","sprintf","disp","until","continue","pkg"]);function g(Y,q){return!Y.sol()&&Y.peek()==="'"?(Y.next(),q.tokenize=E,"operator"):(q.tokenize=E,E(Y,q))}function z(Y,q){return Y.match(/^.*%}/)?(q.tokenize=E,"comment"):(Y.skipToEnd(),"comment")}function E(Y,q){if(Y.eatSpace())return null;if(Y.match("%{"))return q.tokenize=z,Y.skipToEnd(),"comment";if(Y.match(/^[%#]/))return Y.skipToEnd(),"comment";if(Y.match(/^[0-9\.+-]/,!1)){if(Y.match(/^[+-]?0x[0-9a-fA-F]+[ij]?/))return Y.tokenize=E,"number";if(Y.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?[ij]?/)||Y.match(/^[+-]?\d+([EeDd][+-]?\d+)?[ij]?/))return"number"}if(Y.match(U(["nan","NaN","inf","Inf"])))return"number";var j=Y.match(/^"(?:[^"]|"")*("|$)/)||Y.match(/^'(?:[^']|'')*('|$)/);return j?j[1]?"string":"string error":Y.match(S)?"keyword":Y.match(T)?"builtin":Y.match(D)?"variable":Y.match(x)||Y.match(p)?"operator":Y.match(m)||Y.match(d)||Y.match(v)?null:Y.match(M)?(q.tokenize=g,null):(Y.next(),"error")}return{startState:function(){return{tokenize:E}},token:function(Y,q){var j=q.tokenize(Y,q);return(j==="number"||j==="variable")&&(q.tokenize=g),j},lineComment:"%",fold:"indent"}}),O.defineMIME("text/x-octave","octave")})},7876:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("pascal",function(){function U(T){for(var S={},g=T.split(" "),z=0;z<g.length;++z)S[g[z]]=!0;return S}var x=U("absolute and array asm begin case const constructor destructor div do downto else end file for function goto if implementation in inherited inline interface label mod nil not object of operator or packed procedure program record reintroduce repeat self set shl shr string then to type unit until uses var while with xor as class dispinterface except exports finalization finally initialization inline is library on out packed property raise resourcestring threadvar try absolute abstract alias assembler bitpacked break cdecl continue cppdecl cvar default deprecated dynamic enumerator experimental export external far far16 forward generic helper implements index interrupt iocheck local message name near nodefault noreturn nostackframe oldfpccall otherwise overload override pascal platform private protected public published read register reintroduce result safecall saveregisters softfloat specialize static stdcall stored strict unaligned unimplemented varargs virtual write"),m={null:!0},p=/[+\-*&%=<>!?|\/]/;function d(T,S){var g=T.next();if(g=="#"&&S.startOfLine)return T.skipToEnd(),"meta";if(g=='"'||g=="'")return S.tokenize=v(g),S.tokenize(T,S);if(g=="("&&T.eat("*"))return S.tokenize=M,M(T,S);if(g=="{")return S.tokenize=D,D(T,S);if(/[\[\]\(\),;\:\.]/.test(g))return null;if(/\d/.test(g))return T.eatWhile(/[\w\.]/),"number";if(g=="/"&&T.eat("/"))return T.skipToEnd(),"comment";if(p.test(g))return T.eatWhile(p),"operator";T.eatWhile(/[\w\$_]/);var z=T.current();return x.propertyIsEnumerable(z)?"keyword":m.propertyIsEnumerable(z)?"atom":"variable"}function v(T){return function(S,g){for(var z=!1,E,Y=!1;(E=S.next())!=null;){if(E==T&&!z){Y=!0;break}z=!z&&E=="\\"}return(Y||!z)&&(g.tokenize=null),"string"}}function M(T,S){for(var g=!1,z;z=T.next();){if(z==")"&&g){S.tokenize=null;break}g=z=="*"}return"comment"}function D(T,S){for(var g;g=T.next();)if(g=="}"){S.tokenize=null;break}return"comment"}return{startState:function(){return{tokenize:null}},token:function(T,S){if(T.eatSpace())return null;var g=(S.tokenize||d)(T,S);return g=="comment"||g=="meta",g},electricChars:"{}"}}),O.defineMIME("text/x-pascal","pascal")})},11012:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("perl",function(){var d={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,if:[1,1],elsif:[1,1],else:[1,1],while:[1,1],unless:[1,1],for:[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,break:1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,continue:[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,default:1,defined:1,delete:1,die:1,do:1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,goto:1,grep:1,hex:1,import:1,index:1,int:1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,new:1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,package:1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,return:1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},v="string-2",M=/[goseximacplud]/;function D(g,z,E,Y,q){return z.chain=null,z.style=null,z.tail=null,z.tokenize=function(j,le){for(var ce=!1,se,ne=0;se=j.next();){if(se===E[ne]&&!ce)return E[++ne]!==void 0?(le.chain=E[ne],le.style=Y,le.tail=q):q&&j.eatWhile(q),le.tokenize=S,Y;ce=!ce&&se=="\\"}return Y},z.tokenize(g,z)}function T(g,z,E){return z.tokenize=function(Y,q){return Y.string==E&&(q.tokenize=S),Y.skipToEnd(),"string"},z.tokenize(g,z)}function S(g,z){if(g.eatSpace())return null;if(z.chain)return D(g,z,z.chain,z.style,z.tail);if(g.match(/^(\-?((\d[\d_]*)?\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F_]+|0b[01_]+|\d[\d_]*(e[+-]?\d+)?)/))return"number";if(g.match(/^<<(?=[_a-zA-Z])/))return g.eatWhile(/\w/),T(g,z,g.current().substr(2));if(g.sol()&&g.match(/^\=item(?!\w)/))return T(g,z,"=cut");var E=g.next();if(E=='"'||E=="'"){if(x(g,3)=="<<"+E){var Y=g.pos;g.eatWhile(/\w/);var q=g.current().substr(1);if(q&&g.eat(E))return T(g,z,q);g.pos=Y}return D(g,z,[E],"string")}if(E=="q"){var j=U(g,-2);if(!(j&&/\w/.test(j))){if(j=U(g,0),j=="x"){if(j=U(g,1),j=="(")return p(g,2),D(g,z,[")"],v,M);if(j=="[")return p(g,2),D(g,z,["]"],v,M);if(j=="{")return p(g,2),D(g,z,["}"],v,M);if(j=="<")return p(g,2),D(g,z,[">"],v,M);if(/[\^'"!~\/]/.test(j))return p(g,1),D(g,z,[g.eat(j)],v,M)}else if(j=="q"){if(j=U(g,1),j=="(")return p(g,2),D(g,z,[")"],"string");if(j=="[")return p(g,2),D(g,z,["]"],"string");if(j=="{")return p(g,2),D(g,z,["}"],"string");if(j=="<")return p(g,2),D(g,z,[">"],"string");if(/[\^'"!~\/]/.test(j))return p(g,1),D(g,z,[g.eat(j)],"string")}else if(j=="w"){if(j=U(g,1),j=="(")return p(g,2),D(g,z,[")"],"bracket");if(j=="[")return p(g,2),D(g,z,["]"],"bracket");if(j=="{")return p(g,2),D(g,z,["}"],"bracket");if(j=="<")return p(g,2),D(g,z,[">"],"bracket");if(/[\^'"!~\/]/.test(j))return p(g,1),D(g,z,[g.eat(j)],"bracket")}else if(j=="r"){if(j=U(g,1),j=="(")return p(g,2),D(g,z,[")"],v,M);if(j=="[")return p(g,2),D(g,z,["]"],v,M);if(j=="{")return p(g,2),D(g,z,["}"],v,M);if(j=="<")return p(g,2),D(g,z,[">"],v,M);if(/[\^'"!~\/]/.test(j))return p(g,1),D(g,z,[g.eat(j)],v,M)}else if(/[\^'"!~\/(\[{<]/.test(j)){if(j=="(")return p(g,1),D(g,z,[")"],"string");if(j=="[")return p(g,1),D(g,z,["]"],"string");if(j=="{")return p(g,1),D(g,z,["}"],"string");if(j=="<")return p(g,1),D(g,z,[">"],"string");if(/[\^'"!~\/]/.test(j))return D(g,z,[g.eat(j)],"string")}}}if(E=="m"){var j=U(g,-2);if(!(j&&/\w/.test(j))&&(j=g.eat(/[(\[{<\^'"!~\/]/),j)){if(/[\^'"!~\/]/.test(j))return D(g,z,[j],v,M);if(j=="(")return D(g,z,[")"],v,M);if(j=="[")return D(g,z,["]"],v,M);if(j=="{")return D(g,z,["}"],v,M);if(j=="<")return D(g,z,[">"],v,M)}}if(E=="s"){var j=/[\/>\]})\w]/.test(U(g,-2));if(!j&&(j=g.eat(/[(\[{<\^'"!~\/]/),j))return j=="["?D(g,z,["]","]"],v,M):j=="{"?D(g,z,["}","}"],v,M):j=="<"?D(g,z,[">",">"],v,M):j=="("?D(g,z,[")",")"],v,M):D(g,z,[j,j],v,M)}if(E=="y"){var j=/[\/>\]})\w]/.test(U(g,-2));if(!j&&(j=g.eat(/[(\[{<\^'"!~\/]/),j))return j=="["?D(g,z,["]","]"],v,M):j=="{"?D(g,z,["}","}"],v,M):j=="<"?D(g,z,[">",">"],v,M):j=="("?D(g,z,[")",")"],v,M):D(g,z,[j,j],v,M)}if(E=="t"){var j=/[\/>\]})\w]/.test(U(g,-2));if(!j&&(j=g.eat("r"),j&&(j=g.eat(/[(\[{<\^'"!~\/]/),j)))return j=="["?D(g,z,["]","]"],v,M):j=="{"?D(g,z,["}","}"],v,M):j=="<"?D(g,z,[">",">"],v,M):j=="("?D(g,z,[")",")"],v,M):D(g,z,[j,j],v,M)}if(E=="`")return D(g,z,[E],"variable-2");if(E=="/")return/~\s*$/.test(x(g))?D(g,z,[E],v,M):"operator";if(E=="$"){var Y=g.pos;if(g.eatWhile(/\d/)||g.eat("{")&&g.eatWhile(/\d/)&&g.eat("}"))return"variable-2";g.pos=Y}if(/[$@%]/.test(E)){var Y=g.pos;if(g.eat("^")&&g.eat(/[A-Z]/)||!/[@$%&]/.test(U(g,-2))&&g.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var j=g.current();if(d[j])return"variable-2"}g.pos=Y}if(/[$@%&]/.test(E)&&(g.eatWhile(/[\w$]/)||g.eat("{")&&g.eatWhile(/[\w$]/)&&g.eat("}"))){var j=g.current();return d[j]?"variable-2":"variable"}if(E=="#"&&U(g,-2)!="$")return g.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(E)){var Y=g.pos;if(g.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),d[g.current()])return"operator";g.pos=Y}if(E=="_"&&g.pos==1){if(m(g,6)=="_END__")return D(g,z,["\0"],"comment");if(m(g,7)=="_DATA__")return D(g,z,["\0"],"variable-2");if(m(g,7)=="_C__")return D(g,z,["\0"],"string")}if(/\w/.test(E)){var Y=g.pos;if(U(g,-2)=="{"&&(U(g,0)=="}"||g.eatWhile(/\w/)&&U(g,0)=="}"))return"string";g.pos=Y}if(/[A-Z]/.test(E)){var le=U(g,-2),Y=g.pos;if(g.eatWhile(/[A-Z_]/),/[\da-z]/.test(U(g,0)))g.pos=Y;else{var j=d[g.current()];return j?(j[1]&&(j=j[0]),le!=":"?j==1?"keyword":j==2?"def":j==3?"atom":j==4?"operator":j==5?"variable-2":"meta":"meta"):"meta"}}if(/[a-zA-Z_]/.test(E)){var le=U(g,-2);g.eatWhile(/\w/);var j=d[g.current()];return j?(j[1]&&(j=j[0]),le!=":"?j==1?"keyword":j==2?"def":j==3?"atom":j==4?"operator":j==5?"variable-2":"meta":"meta"):"meta"}return null}return{startState:function(){return{tokenize:S,chain:null,style:null,tail:null}},token:function(g,z){return(z.tokenize||S)(g,z)},lineComment:"#"}}),O.registerHelper("wordChars","perl",/[\w$]/),O.defineMIME("text/x-perl","perl");function U(d,v){return d.string.charAt(d.pos+(v||0))}function x(d,v){if(v){var M=d.pos-v;return d.string.substr(M>=0?M:0,v)}else return d.string.substr(0,d.pos-1)}function m(d,v){var M=d.string.length,D=M-d.pos+1;return d.string.substr(d.pos,v&&v<M?v:D)}function p(d,v){var M=d.pos+v,D;M<=0?d.pos=0:M>=(D=d.string.length-1)?d.pos=D:d.pos=M}})},87907:function(ut,Ce,f){(function(O){O(f(13187),f(13440),f(64617))})(function(O){"use strict";function U(T){for(var S={},g=T.split(" "),z=0;z<g.length;++z)S[g[z]]=!0;return S}function x(T,S,g){return T.length==0?m(S):function(z,E){for(var Y=T[0],q=0;q<Y.length;q++)if(z.match(Y[q][0]))return E.tokenize=x(T.slice(1),S),Y[q][1];return E.tokenize=m(S,g),"string"}}function m(T,S){return function(g,z){return p(g,z,T,S)}}function p(T,S,g,z){if(z!==!1&&T.match("${",!1)||T.match("{$",!1))return S.tokenize=null,"string";if(z!==!1&&T.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return T.match("[",!1)&&(S.tokenize=x([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],g,z)),T.match(/^->\w/,!1)&&(S.tokenize=x([[["->",null]],[[/[\w]+/,"variable"]]],g,z)),"variable-2";for(var E=!1;!T.eol()&&(E||z===!1||!T.match("{$",!1)&&!T.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!E&&T.match(g)){S.tokenize=null,S.tokStack.pop(),S.tokStack.pop();break}E=T.next()=="\\"&&!E}return"string"}var d="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally readonly match",v="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",M="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage memory_get_peak_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";O.registerHelper("hintWords","php",[d,v,M].join(" ").split(" ")),O.registerHelper("wordChars","php",/[\w$]/);var D={name:"clike",helperType:"php",keywords:U(d),blockKeywords:U("catch do else elseif for foreach if switch try while finally"),defKeywords:U("class enum function interface namespace trait"),atoms:U(v),builtin:U(M),multiLineStrings:!0,hooks:{$:function(T){return T.eatWhile(/[\w\$_]/),"variable-2"},"<":function(T,S){var g;if(g=T.match(/^<<\s*/)){var z=T.eat(/['"]/);T.eatWhile(/[\w\.]/);var E=T.current().slice(g[0].length+(z?2:1));if(z&&T.eat(z),E)return(S.tokStack||(S.tokStack=[])).push(E,0),S.tokenize=m(E,z!="'"),"string"}return!1},"#":function(T){for(;!T.eol()&&!T.match("?>",!1);)T.next();return"comment"},"/":function(T){if(T.eat("/")){for(;!T.eol()&&!T.match("?>",!1);)T.next();return"comment"}return!1},'"':function(T,S){return(S.tokStack||(S.tokStack=[])).push('"',0),S.tokenize=m('"'),"string"},"{":function(T,S){return S.tokStack&&S.tokStack.length&&S.tokStack[S.tokStack.length-1]++,!1},"}":function(T,S){return S.tokStack&&S.tokStack.length>0&&!--S.tokStack[S.tokStack.length-1]&&(S.tokenize=m(S.tokStack[S.tokStack.length-2])),!1}}};O.defineMode("php",function(T,S){var g=O.getMode(T,S&&S.htmlMode||"text/html"),z=O.getMode(T,D);function E(Y,q){var j=q.curMode==z;if(Y.sol()&&q.pending&&q.pending!='"'&&q.pending!="'"&&(q.pending=null),j)return j&&q.php.tokenize==null&&Y.match("?>")?(q.curMode=g,q.curState=q.html,q.php.context.prev||(q.php=null),"meta"):z.token(Y,q.curState);if(Y.match(/^<\?\w*/))return q.curMode=z,q.php||(q.php=O.startState(z,g.indent(q.html,"",""))),q.curState=q.php,"meta";if(q.pending=='"'||q.pending=="'"){for(;!Y.eol()&&Y.next()!=q.pending;);var le="string"}else if(q.pending&&Y.pos<q.pending.end){Y.pos=q.pending.end;var le=q.pending.style}else var le=g.token(Y,q.curState);q.pending&&(q.pending=null);var ce=Y.current(),se=ce.search(/<\?/),ne;return se!=-1&&(le=="string"&&(ne=ce.match(/[\'\"]$/))&&!/\?>/.test(ce)?q.pending=ne[0]:q.pending={end:Y.pos,style:le},Y.backUp(ce.length-se)),le}return{startState:function(){var Y=O.startState(g),q=S.startOpen?O.startState(z):null;return{html:Y,php:q,curMode:S.startOpen?z:g,curState:S.startOpen?q:Y,pending:null}},copyState:function(Y){var q=Y.html,j=O.copyState(g,q),le=Y.php,ce=le&&O.copyState(z,le),se;return Y.curMode==g?se=j:se=ce,{html:j,php:ce,curMode:Y.curMode,curState:se,pending:Y.pending}},token:E,indent:function(Y,q,j){return Y.curMode!=z&&/^\s*<\//.test(q)||Y.curMode==z&&/^\?>/.test(q)?g.indent(Y.html,q,j):Y.curMode.indent(Y.curState,q,j)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(Y){return{state:Y.curState,mode:Y.curMode}}}},"htmlmixed","clike"),O.defineMIME("application/x-httpd-php","php"),O.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),O.defineMIME("text/x-php",D)})},16358:function(ut,Ce,f){(function(O){"use strict";O(f(13187))})(function(O){"use strict";O.defineMode("powershell",function(){function U(Je,te){te=te||{};for(var fe=te.prefix!==void 0?te.prefix:"^",ue=te.suffix!==void 0?te.suffix:"\\b",ae=0;ae<Je.length;ae++)Je[ae]instanceof RegExp?Je[ae]=Je[ae].source:Je[ae]=Je[ae].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(fe+"("+Je.join("|")+")"+ue,"i")}var x="(?=[^A-Za-z\\d\\-_]|$)",m=/[\w\-:]/,p=U([/begin|break|catch|continue|data|default|do|dynamicparam/,/else|elseif|end|exit|filter|finally|for|foreach|from|function|if|in/,/param|process|return|switch|throw|trap|try|until|where|while/],{suffix:x}),d=/[\[\]{},;`\\\.]|@[({]/,v=U(["f",/b?not/,/[ic]?split/,"join",/is(not)?/,"as",/[ic]?(eq|ne|[gl][te])/,/[ic]?(not)?(like|match|contains)/,/[ic]?replace/,/b?(and|or|xor)/],{prefix:"-"}),M=/[+\-*\/%]=|\+\+|--|\.\.|[+\-*&^%:=!|\/]|<(?!#)|(?!#)>/,D=U([v,M],{suffix:""}),T=/^((0x[\da-f]+)|((\d+\.\d+|\d\.|\.\d+|\d+)(e[\+\-]?\d+)?))[ld]?([kmgtp]b)?/i,S=/^[A-Za-z\_][A-Za-z\-\_\d]*\b/,g=/[A-Z]:|%|\?/i,z=U([/Add-(Computer|Content|History|Member|PSSnapin|Type)/,/Checkpoint-Computer/,/Clear-(Content|EventLog|History|Host|Item(Property)?|Variable)/,/Compare-Object/,/Complete-Transaction/,/Connect-PSSession/,/ConvertFrom-(Csv|Json|SecureString|StringData)/,/Convert-Path/,/ConvertTo-(Csv|Html|Json|SecureString|Xml)/,/Copy-Item(Property)?/,/Debug-Process/,/Disable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,/Disconnect-PSSession/,/Enable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,/(Enter|Exit)-PSSession/,/Export-(Alias|Clixml|Console|Counter|Csv|FormatData|ModuleMember|PSSession)/,/ForEach-Object/,/Format-(Custom|List|Table|Wide)/,new RegExp("Get-(Acl|Alias|AuthenticodeSignature|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Counter|Credential|Culture|Date|Event|EventLog|EventSubscriber|ExecutionPolicy|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job|Location|Member|Module|PfxCertificate|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|Verb|WinEvent|WmiObject)"),/Group-Object/,/Import-(Alias|Clixml|Counter|Csv|LocalizedData|Module|PSSession)/,/ImportSystemModules/,/Invoke-(Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)/,/Join-Path/,/Limit-EventLog/,/Measure-(Command|Object)/,/Move-Item(Property)?/,new RegExp("New-(Alias|Event|EventLog|Item(Property)?|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy|WinEvent)"),/Out-(Default|File|GridView|Host|Null|Printer|String)/,/Pause/,/(Pop|Push)-Location/,/Read-Host/,/Receive-(Job|PSSession)/,/Register-(EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)/,/Remove-(Computer|Event|EventLog|Item(Property)?|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)/,/Rename-(Computer|Item(Property)?)/,/Reset-ComputerMachinePassword/,/Resolve-Path/,/Restart-(Computer|Service)/,/Restore-Computer/,/Resume-(Job|Service)/,/Save-Help/,/Select-(Object|String|Xml)/,/Send-MailMessage/,new RegExp("Set-(Acl|Alias|AuthenticodeSignature|Content|Date|ExecutionPolicy|Item(Property)?|Location|PSBreakpoint|PSDebug|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)"),/Show-(Command|ControlPanelItem|EventLog)/,/Sort-Object/,/Split-Path/,/Start-(Job|Process|Service|Sleep|Transaction|Transcript)/,/Stop-(Computer|Job|Process|Service|Transcript)/,/Suspend-(Job|Service)/,/TabExpansion2/,/Tee-Object/,/Test-(ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)/,/Trace-Command/,/Unblock-File/,/Undo-Transaction/,/Unregister-(Event|PSSessionConfiguration)/,/Update-(FormatData|Help|List|TypeData)/,/Use-Transaction/,/Wait-(Event|Job|Process)/,/Where-Object/,/Write-(Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning)/,/cd|help|mkdir|more|oss|prompt/,/ac|asnp|cat|cd|chdir|clc|clear|clhy|cli|clp|cls|clv|cnsn|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|dnsn|ebp/,/echo|epal|epcsv|epsn|erase|etsn|exsn|fc|fl|foreach|ft|fw|gal|gbp|gc|gci|gcm|gcs|gdr|ghy|gi|gjb|gl|gm|gmo|gp|gps/,/group|gsn|gsnp|gsv|gu|gv|gwmi|h|history|icm|iex|ihy|ii|ipal|ipcsv|ipmo|ipsn|irm|ise|iwmi|iwr|kill|lp|ls|man|md/,/measure|mi|mount|move|mp|mv|nal|ndr|ni|nmo|npssc|nsn|nv|ogv|oh|popd|ps|pushd|pwd|r|rbp|rcjb|rcsn|rd|rdr|ren|ri/,/rjb|rm|rmdir|rmo|rni|rnp|rp|rsn|rsnp|rujb|rv|rvpa|rwmi|sajb|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls/,/sort|sp|spjb|spps|spsv|start|sujb|sv|swmi|tee|trcm|type|where|wjb|write/],{prefix:"",suffix:""}),E=U([/[$?^_]|Args|ConfirmPreference|ConsoleFileName|DebugPreference|Error|ErrorActionPreference|ErrorView|ExecutionContext/,/FormatEnumerationLimit|Home|Host|Input|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount/,/MaximumHistoryCount|MaximumVariableCount|MyInvocation|NestedPromptLevel|OutputEncoding|Pid|Profile|ProgressPreference/,/PSBoundParameters|PSCommandPath|PSCulture|PSDefaultParameterValues|PSEmailServer|PSHome|PSScriptRoot|PSSessionApplicationName/,/PSSessionConfigurationName|PSSessionOption|PSUICulture|PSVersionTable|Pwd|ShellId|StackTrace|VerbosePreference/,/WarningPreference|WhatIfPreference/,/Event|EventArgs|EventSubscriber|Sender/,/Matches|Ofs|ForEach|LastExitCode|PSCmdlet|PSItem|PSSenderInfo|This/,/true|false|null/],{prefix:"\\$",suffix:""}),Y=U([g,z,E],{suffix:x}),q={keyword:p,number:T,operator:D,builtin:Y,punctuation:d,identifier:S};function j(Je,te){var fe=te.returnStack[te.returnStack.length-1];if(fe&&fe.shouldReturnFrom(te))return te.tokenize=fe.tokenize,te.returnStack.pop(),te.tokenize(Je,te);if(Je.eatSpace())return null;if(Je.eat("("))return te.bracketNesting+=1,"punctuation";if(Je.eat(")"))return te.bracketNesting-=1,"punctuation";for(var ue in q)if(Je.match(q[ue]))return ue;var ae=Je.next();if(ae==="'")return le(Je,te);if(ae==="$")return dt(Je,te);if(ae==='"')return ce(Je,te);if(ae==="<"&&Je.eat("#"))return te.tokenize=je,je(Je,te);if(ae==="#")return Je.skipToEnd(),"comment";if(ae==="@"){var de=Je.eat(/["']/);if(de&&Je.eol())return te.tokenize=lt,te.startQuote=de[0],lt(Je,te);if(Je.eol())return"error";if(Je.peek().match(/[({]/))return"punctuation";if(Je.peek().match(m))return dt(Je,te)}return"error"}function le(Je,te){for(var fe;(fe=Je.peek())!=null;)if(Je.next(),fe==="'"&&!Je.eat("'"))return te.tokenize=j,"string";return"error"}function ce(Je,te){for(var fe;(fe=Je.peek())!=null;){if(fe==="$")return te.tokenize=se,"string";if(Je.next(),fe==="`"){Je.next();continue}if(fe==='"'&&!Je.eat('"'))return te.tokenize=j,"string"}return"error"}function se(Je,te){return we(Je,te,ce)}function ne(Je,te){return te.tokenize=lt,te.startQuote='"',lt(Je,te)}function De(Je,te){return we(Je,te,ne)}function we(Je,te,fe){if(Je.match("$(")){var ue=te.bracketNesting;return te.returnStack.push({shouldReturnFrom:function(ae){return ae.bracketNesting===ue},tokenize:fe}),te.tokenize=j,te.bracketNesting+=1,"punctuation"}else return Je.next(),te.returnStack.push({shouldReturnFrom:function(){return!0},tokenize:fe}),te.tokenize=dt,te.tokenize(Je,te)}function je(Je,te){for(var fe=!1,ue;(ue=Je.next())!=null;){if(fe&&ue==">"){te.tokenize=j;break}fe=ue==="#"}return"comment"}function dt(Je,te){var fe=Je.peek();return Je.eat("{")?(te.tokenize=Qe,Qe(Je,te)):fe!=null&&fe.match(m)?(Je.eatWhile(m),te.tokenize=j,"variable-2"):(te.tokenize=j,"error")}function Qe(Je,te){for(var fe;(fe=Je.next())!=null;)if(fe==="}"){te.tokenize=j;break}return"variable-2"}function lt(Je,te){var fe=te.startQuote;if(Je.sol()&&Je.match(new RegExp(fe+"@")))te.tokenize=j;else if(fe==='"')for(;!Je.eol();){var ue=Je.peek();if(ue==="$")return te.tokenize=De,"string";Je.next(),ue==="`"&&Je.next()}else Je.skipToEnd();return"string"}var Te={startState:function(){return{returnStack:[],bracketNesting:0,tokenize:j}},token:function(Je,te){return te.tokenize(Je,te)},blockCommentStart:"<#",blockCommentEnd:"#>",lineComment:"#",fold:"brace"};return Te}),O.defineMIME("application/x-powershell","powershell")})},28733:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";function U(v){return new RegExp("^(("+v.join(")|(")+"))\\b","i")}var x=["package","message","import","syntax","required","optional","repeated","reserved","default","extensions","packed","bool","bytes","double","enum","float","string","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","option","service","rpc","returns"],m=U(x);O.registerHelper("hintWords","protobuf",x);var p=new RegExp("^[_A-Za-z\xA1-\uFFFF][_A-Za-z0-9\xA1-\uFFFF]*");function d(v){return v.eatSpace()?null:v.match("//")?(v.skipToEnd(),"comment"):v.match(/^[0-9\.+-]/,!1)&&(v.match(/^[+-]?0x[0-9a-fA-F]+/)||v.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?/)||v.match(/^[+-]?\d+([EeDd][+-]?\d+)?/))?"number":v.match(/^"([^"]|(""))*"/)||v.match(/^'([^']|(''))*'/)?"string":v.match(m)?"keyword":v.match(p)?"variable":(v.next(),null)}O.defineMode("protobuf",function(){return{token:d,fold:"brace"}}),O.defineMIME("text/x-protobuf","protobuf")})},16859:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";function U(M){return new RegExp("^(("+M.join(")|(")+"))\\b")}var x=U(["and","or","not","is"]),m=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in","False","True"],p=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];O.registerHelper("hintWords","python",m.concat(p).concat(["exec","print"]));function d(M){return M.scopes[M.scopes.length-1]}O.defineMode("python",function(M,D){for(var T="error",S=D.delimiters||D.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,g=[D.singleOperators,D.doubleOperators,D.doubleDelimiters,D.tripleDelimiters,D.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],z=0;z<g.length;z++)g[z]||g.splice(z--,1);var E=D.hangingIndent||M.indentUnit,Y=m,q=p;D.extra_keywords!=null&&(Y=Y.concat(D.extra_keywords)),D.extra_builtins!=null&&(q=q.concat(D.extra_builtins));var j=!(D.version&&Number(D.version)<3);if(j){var le=D.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;Y=Y.concat(["nonlocal","None","aiter","anext","async","await","breakpoint","match","case"]),q=q.concat(["ascii","bytes","exec","print"]);var ce=new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`,"i")}else{var le=D.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;Y=Y.concat(["exec","print"]),q=q.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","None"]);var ce=new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`,"i")}var se=U(Y),ne=U(q);function De(fe,ue){var ae=fe.sol()&&ue.lastToken!="\\";if(ae&&(ue.indent=fe.indentation()),ae&&d(ue).type=="py"){var de=d(ue).offset;if(fe.eatSpace()){var ve=fe.indentation();return ve>de?Qe(ue):ve<de&&Te(fe,ue)&&fe.peek()!="#"&&(ue.errorToken=!0),null}else{var J=we(fe,ue);return de>0&&Te(fe,ue)&&(J+=" "+T),J}}return we(fe,ue)}function we(fe,ue,ae){if(fe.eatSpace())return null;if(!ae&&fe.match(/^#.*/))return"comment";if(fe.match(/^[0-9\.]/,!1)){var de=!1;if(fe.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(de=!0),fe.match(/^[\d_]+\.\d*/)&&(de=!0),fe.match(/^\.\d+/)&&(de=!0),de)return fe.eat(/J/i),"number";var ve=!1;if(fe.match(/^0x[0-9a-f_]+/i)&&(ve=!0),fe.match(/^0b[01_]+/i)&&(ve=!0),fe.match(/^0o[0-7_]+/i)&&(ve=!0),fe.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(fe.eat(/J/i),ve=!0),fe.match(/^0(?![\dx])/i)&&(ve=!0),ve)return fe.eat(/L/i),"number"}if(fe.match(ce)){var J=fe.current().toLowerCase().indexOf("f")!==-1;return J?(ue.tokenize=je(fe.current(),ue.tokenize),ue.tokenize(fe,ue)):(ue.tokenize=dt(fe.current(),ue.tokenize),ue.tokenize(fe,ue))}for(var X=0;X<g.length;X++)if(fe.match(g[X]))return"operator";return fe.match(S)?"punctuation":ue.lastToken=="."&&fe.match(le)?"property":fe.match(se)||fe.match(x)?"keyword":fe.match(ne)?"builtin":fe.match(/^(self|cls)\b/)?"variable-2":fe.match(le)?ue.lastToken=="def"||ue.lastToken=="class"?"def":"variable":(fe.next(),ae?null:T)}function je(fe,ue){for(;"rubf".indexOf(fe.charAt(0).toLowerCase())>=0;)fe=fe.substr(1);var ae=fe.length==1,de="string";function ve(X){return function(K,ze){var Ze=we(K,ze,!0);return Ze=="punctuation"&&(K.current()=="{"?ze.tokenize=ve(X+1):K.current()=="}"&&(X>1?ze.tokenize=ve(X-1):ze.tokenize=J)),Ze}}function J(X,K){for(;!X.eol();)if(X.eatWhile(/[^'"\{\}\\]/),X.eat("\\")){if(X.next(),ae&&X.eol())return de}else{if(X.match(fe))return K.tokenize=ue,de;if(X.match("{{"))return de;if(X.match("{",!1))return K.tokenize=ve(0),X.current()?de:K.tokenize(X,K);if(X.match("}}"))return de;if(X.match("}"))return T;X.eat(/['"]/)}if(ae){if(D.singleLineStringErrors)return T;K.tokenize=ue}return de}return J.isString=!0,J}function dt(fe,ue){for(;"rubf".indexOf(fe.charAt(0).toLowerCase())>=0;)fe=fe.substr(1);var ae=fe.length==1,de="string";function ve(J,X){for(;!J.eol();)if(J.eatWhile(/[^'"\\]/),J.eat("\\")){if(J.next(),ae&&J.eol())return de}else{if(J.match(fe))return X.tokenize=ue,de;J.eat(/['"]/)}if(ae){if(D.singleLineStringErrors)return T;X.tokenize=ue}return de}return ve.isString=!0,ve}function Qe(fe){for(;d(fe).type!="py";)fe.scopes.pop();fe.scopes.push({offset:d(fe).offset+M.indentUnit,type:"py",align:null})}function lt(fe,ue,ae){var de=fe.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:fe.column()+1;ue.scopes.push({offset:ue.indent+E,type:ae,align:de})}function Te(fe,ue){for(var ae=fe.indentation();ue.scopes.length>1&&d(ue).offset>ae;){if(d(ue).type!="py")return!0;ue.scopes.pop()}return d(ue).offset!=ae}function Je(fe,ue){fe.sol()&&(ue.beginningOfLine=!0,ue.dedent=!1);var ae=ue.tokenize(fe,ue),de=fe.current();if(ue.beginningOfLine&&de=="@")return fe.match(le,!1)?"meta":j?"operator":T;if(/\S/.test(de)&&(ue.beginningOfLine=!1),(ae=="variable"||ae=="builtin")&&ue.lastToken=="meta"&&(ae="meta"),(de=="pass"||de=="return")&&(ue.dedent=!0),de=="lambda"&&(ue.lambda=!0),de==":"&&!ue.lambda&&d(ue).type=="py"&&fe.match(/^\s*(?:#|$)/,!1)&&Qe(ue),de.length==1&&!/string|comment/.test(ae)){var ve="[({".indexOf(de);if(ve!=-1&&lt(fe,ue,"])}".slice(ve,ve+1)),ve="])}".indexOf(de),ve!=-1)if(d(ue).type==de)ue.indent=ue.scopes.pop().offset-E;else return T}return ue.dedent&&fe.eol()&&d(ue).type=="py"&&ue.scopes.length>1&&ue.scopes.pop(),ae}var te={startState:function(fe){return{tokenize:De,scopes:[{offset:fe||0,type:"py",align:null}],indent:fe||0,lastToken:null,lambda:!1,dedent:0}},token:function(fe,ue){var ae=ue.errorToken;ae&&(ue.errorToken=!1);var de=Je(fe,ue);return de&&de!="comment"&&(ue.lastToken=de=="keyword"||de=="punctuation"?fe.current():de),de=="punctuation"&&(de=null),fe.eol()&&ue.lambda&&(ue.lambda=!1),ae?de+" "+T:de},indent:function(fe,ue){if(fe.tokenize!=De)return fe.tokenize.isString?O.Pass:0;var ae=d(fe),de=ae.type==ue.charAt(0)||ae.type=="py"&&!fe.dedent&&/^(else:|elif |except |finally:)/.test(ue);return ae.align!=null?ae.align-(de?1:0):ae.offset-(de?E:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:`'"`},lineComment:"#",fold:"indent"};return te}),O.defineMIME("text/x-python","python");var v=function(M){return M.split(" ")};O.defineMIME("text/x-cython",{name:"python",extra_keywords:v("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})},46002:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.registerHelper("wordChars","r",/[\w.]/),O.defineMode("r",function(U){function x(De){for(var we={},je=0;je<De.length;++je)we[De[je]]=!0;return we}var m=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],p=["list","quote","bquote","eval","return","call","parse","deparse"],d=["if","else","repeat","while","function","for","in","next","break"],v=["if","else","repeat","while","function","for"];O.registerHelper("hintWords","r",m.concat(p,d));var M=x(m),D=x(p),T=x(d),S=x(v),g=/[+\-*\/^<>=!&|~$:]/,z;function E(De,we){z=null;var je=De.next();if(je=="#")return De.skipToEnd(),"comment";if(je=="0"&&De.eat("x"))return De.eatWhile(/[\da-f]/i),"number";if(je=="."&&De.eat(/\d/))return De.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(je))return De.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if(je=="'"||je=='"')return we.tokenize=Y(je),"string";if(je=="`")return De.match(/[^`]+`/),"variable-3";if(je=="."&&De.match(/.(?:[.]|\d+)/))return"keyword";if(/[a-zA-Z\.]/.test(je)){De.eatWhile(/[\w\.]/);var dt=De.current();return M.propertyIsEnumerable(dt)?"atom":T.propertyIsEnumerable(dt)?(S.propertyIsEnumerable(dt)&&!De.match(/\s*if(\s+|$)/,!1)&&(z="block"),"keyword"):D.propertyIsEnumerable(dt)?"builtin":"variable"}else return je=="%"?(De.skipTo("%")&&De.next(),"operator variable-2"):je=="<"&&De.eat("-")||je=="<"&&De.match("<-")||je=="-"&&De.match(/>>?/)?"operator arrow":je=="="&&we.ctx.argList?"arg-is":g.test(je)?je=="$"?"operator dollar":(De.eatWhile(g),"operator"):/[\(\){}\[\];]/.test(je)?(z=je,je==";"?"semi":null):null}function Y(De){return function(we,je){if(we.eat("\\")){var dt=we.next();return dt=="x"?we.match(/^[a-f0-9]{2}/i):(dt=="u"||dt=="U")&&we.eat("{")&&we.skipTo("}")?we.next():dt=="u"?we.match(/^[a-f0-9]{4}/i):dt=="U"?we.match(/^[a-f0-9]{8}/i):/[0-7]/.test(dt)&&we.match(/^[0-7]{1,2}/),"string-2"}else{for(var Qe;(Qe=we.next())!=null;){if(Qe==De){je.tokenize=E;break}if(Qe=="\\"){we.backUp(1);break}}return"string"}}}var q=1,j=2,le=4;function ce(De,we,je){De.ctx={type:we,indent:De.indent,flags:0,column:je.column(),prev:De.ctx}}function se(De,we){var je=De.ctx;De.ctx={type:je.type,indent:je.indent,flags:je.flags|we,column:je.column,prev:je.prev}}function ne(De){De.indent=De.ctx.indent,De.ctx=De.ctx.prev}return{startState:function(){return{tokenize:E,ctx:{type:"top",indent:-U.indentUnit,flags:j},indent:0,afterIdent:!1}},token:function(De,we){if(De.sol()&&((we.ctx.flags&3)==0&&(we.ctx.flags|=j),we.ctx.flags&le&&ne(we),we.indent=De.indentation()),De.eatSpace())return null;var je=we.tokenize(De,we);return je!="comment"&&(we.ctx.flags&j)==0&&se(we,q),(z==";"||z=="{"||z=="}")&&we.ctx.type=="block"&&ne(we),z=="{"?ce(we,"}",De):z=="("?(ce(we,")",De),we.afterIdent&&(we.ctx.argList=!0)):z=="["?ce(we,"]",De):z=="block"?ce(we,"block",De):z==we.ctx.type?ne(we):we.ctx.type=="block"&&je!="comment"&&se(we,le),we.afterIdent=je=="variable"||je=="keyword",je},indent:function(De,we){if(De.tokenize!=E)return 0;var je=we&&we.charAt(0),dt=De.ctx,Qe=je==dt.type;return dt.flags&le&&(dt=dt.prev),dt.type=="block"?dt.indent+(je=="{"?0:U.indentUnit):dt.flags&q?dt.column+(Qe?0:1):dt.indent+(Qe?0:U.indentUnit)},lineComment:"#"}}),O.defineMIME("text/x-rsrc","r")})},5592:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";function U(D){for(var T={},S=0,g=D.length;S<g;++S)T[D[S]]=!0;return T}var x=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"],m=U(x),p=U(["def","class","case","for","while","until","module","catch","loop","proc","begin"]),d=U(["end","until"]),v={"[":"]","{":"}","(":")"},M={"]":"[","}":"{",")":"("};O.defineMode("ruby",function(D){var T;function S(ce,se,ne){return ne.tokenize.push(ce),ce(se,ne)}function g(ce,se){if(ce.sol()&&ce.match("=begin")&&ce.eol())return se.tokenize.push(le),"comment";if(ce.eatSpace())return null;var ne=ce.next(),De;if(ne=="`"||ne=="'"||ne=='"')return S(q(ne,"string",ne=='"'||ne=="`"),ce,se);if(ne=="/")return z(ce)?S(q(ne,"string-2",!0),ce,se):"operator";if(ne=="%"){var we="string",je=!0;ce.eat("s")?we="atom":ce.eat(/[WQ]/)?we="string":ce.eat(/[r]/)?we="string-2":ce.eat(/[wxq]/)&&(we="string",je=!1);var dt=ce.eat(/[^\w\s=]/);return dt?(v.propertyIsEnumerable(dt)&&(dt=v[dt]),S(q(dt,we,je,!0),ce,se)):"operator"}else{if(ne=="#")return ce.skipToEnd(),"comment";if(ne=="<"&&(De=ce.match(/^<([-~])[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return S(j(De[2],De[1]),ce,se);if(ne=="0")return ce.eat("x")?ce.eatWhile(/[\da-fA-F]/):ce.eat("b")?ce.eatWhile(/[01]/):ce.eatWhile(/[0-7]/),"number";if(/\d/.test(ne))return ce.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if(ne=="?"){for(;ce.match(/^\\[CM]-/););return ce.eat("\\")?ce.eatWhile(/\w/):ce.next(),"string"}else{if(ne==":")return ce.eat("'")?S(q("'","atom",!1),ce,se):ce.eat('"')?S(q('"',"atom",!0),ce,se):ce.eat(/[\<\>]/)?(ce.eat(/[\<\>]/),"atom"):ce.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":ce.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(ce.eatWhile(/[\w$\xa1-\uffff]/),ce.eat(/[\?\!\=]/),"atom"):"operator";if(ne=="@"&&ce.match(/^@?[a-zA-Z_\xa1-\uffff]/))return ce.eat("@"),ce.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if(ne=="$")return ce.eat(/[a-zA-Z_]/)?ce.eatWhile(/[\w]/):ce.eat(/\d/)?ce.eat(/\d/):ce.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(ne))return ce.eatWhile(/[\w\xa1-\uffff]/),ce.eat(/[\?\!]/),ce.eat(":")?"atom":"ident";if(ne=="|"&&(se.varList||se.lastTok=="{"||se.lastTok=="do"))return T="|",null;if(/[\(\)\[\]{}\\;]/.test(ne))return T=ne,null;if(ne=="-"&&ce.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(ne)){var Qe=ce.eatWhile(/[=+\-\/*:\.^%<>~|]/);return ne=="."&&!Qe&&(T="."),"operator"}else return null}}}function z(ce){for(var se=ce.pos,ne=0,De,we=!1,je=!1;(De=ce.next())!=null;)if(je)je=!1;else{if("[{(".indexOf(De)>-1)ne++;else if("]})".indexOf(De)>-1){if(ne--,ne<0)break}else if(De=="/"&&ne==0){we=!0;break}je=De=="\\"}return ce.backUp(ce.pos-se),we}function E(ce){return ce||(ce=1),function(se,ne){if(se.peek()=="}"){if(ce==1)return ne.tokenize.pop(),ne.tokenize[ne.tokenize.length-1](se,ne);ne.tokenize[ne.tokenize.length-1]=E(ce-1)}else se.peek()=="{"&&(ne.tokenize[ne.tokenize.length-1]=E(ce+1));return g(se,ne)}}function Y(){var ce=!1;return function(se,ne){return ce?(ne.tokenize.pop(),ne.tokenize[ne.tokenize.length-1](se,ne)):(ce=!0,g(se,ne))}}function q(ce,se,ne,De){return function(we,je){var dt=!1,Qe;for(je.context.type==="read-quoted-paused"&&(je.context=je.context.prev,we.eat("}"));(Qe=we.next())!=null;){if(Qe==ce&&(De||!dt)){je.tokenize.pop();break}if(ne&&Qe=="#"&&!dt){if(we.eat("{")){ce=="}"&&(je.context={prev:je.context,type:"read-quoted-paused"}),je.tokenize.push(E());break}else if(/[@\$]/.test(we.peek())){je.tokenize.push(Y());break}}dt=!dt&&Qe=="\\"}return se}}function j(ce,se){return function(ne,De){return se&&ne.eatSpace(),ne.match(ce)?De.tokenize.pop():ne.skipToEnd(),"string"}}function le(ce,se){return ce.sol()&&ce.match("=end")&&ce.eol()&&se.tokenize.pop(),ce.skipToEnd(),"comment"}return{startState:function(){return{tokenize:[g],indented:0,context:{type:"top",indented:-D.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(ce,se){T=null,ce.sol()&&(se.indented=ce.indentation());var ne=se.tokenize[se.tokenize.length-1](ce,se),De,we=T;if(ne=="ident"){var je=ce.current();ne=se.lastTok=="."?"property":m.propertyIsEnumerable(ce.current())?"keyword":/^[A-Z]/.test(je)?"tag":se.lastTok=="def"||se.lastTok=="class"||se.varList?"def":"variable",ne=="keyword"&&(we=je,p.propertyIsEnumerable(je)?De="indent":d.propertyIsEnumerable(je)?De="dedent":((je=="if"||je=="unless")&&ce.column()==ce.indentation()||je=="do"&&se.context.indented<se.indented)&&(De="indent"))}return(T||ne&&ne!="comment")&&(se.lastTok=we),T=="|"&&(se.varList=!se.varList),De=="indent"||/[\(\[\{]/.test(T)?se.context={prev:se.context,type:T||ne,indented:se.indented}:(De=="dedent"||/[\)\]\}]/.test(T))&&se.context.prev&&(se.context=se.context.prev),ce.eol()&&(se.continuedLine=T=="\\"||ne=="operator"),ne},indent:function(ce,se){if(ce.tokenize[ce.tokenize.length-1]!=g)return O.Pass;var ne=se&&se.charAt(0),De=ce.context,we=De.type==M[ne]||De.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(se);return De.indented+(we?0:D.indentUnit)+(ce.continuedLine?D.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}}),O.defineMIME("text/x-ruby","ruby"),O.registerHelper("hintWords","ruby",x)})},88089:function(ut,Ce,f){(function(O){O(f(13187),f(72186))})(function(O){"use strict";O.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\s+mut)?|fn|enum|mod|struct|type|union)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,token:"keyword"},{regex:/\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\b/,token:"atom"},{regex:/\b(?:true|false|Some|None|Ok|Err)\b/,token:"builtin"},{regex:/\b(fn)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),O.defineMIME("text/x-rustsrc","rust"),O.defineMIME("text/rust","rust")})},86809:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("shell",function(){var U={};function x(z,E){for(var Y=0;Y<E.length;Y++)U[E[Y]]=z}var m=["true","false"],p=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],d=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];O.registerHelper("hintWords","shell",m.concat(p,d)),x("atom",m),x("keyword",p),x("builtin",d);function v(z,E){if(z.eatSpace())return null;var Y=z.sol(),q=z.next();if(q==="\\")return z.next(),null;if(q==="'"||q==='"'||q==="`")return E.tokens.unshift(M(q,q==="`"?"quote":"string")),g(z,E);if(q==="#")return Y&&z.eat("!")?(z.skipToEnd(),"meta"):(z.skipToEnd(),"comment");if(q==="$")return E.tokens.unshift(T),g(z,E);if(q==="+"||q==="=")return"operator";if(q==="-")return z.eat("-"),z.eatWhile(/\w/),"attribute";if(q=="<"){if(z.match("<<"))return"operator";var j=z.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(j)return E.tokens.unshift(S(j[1])),"string-2"}if(/\d/.test(q)&&(z.eatWhile(/\d/),z.eol()||!/\w/.test(z.peek())))return"number";z.eatWhile(/[\w-]/);var le=z.current();return z.peek()==="="&&/\w+/.test(le)?"def":U.hasOwnProperty(le)?U[le]:null}function M(z,E){var Y=z=="("?")":z=="{"?"}":z;return function(q,j){for(var le,ce=!1;(le=q.next())!=null;){if(le===Y&&!ce){j.tokens.shift();break}else if(le==="$"&&!ce&&z!=="'"&&q.peek()!=Y){ce=!0,q.backUp(1),j.tokens.unshift(T);break}else{if(!ce&&z!==Y&&le===z)return j.tokens.unshift(M(z,E)),g(q,j);if(!ce&&/['"]/.test(le)&&!/['"]/.test(z)){j.tokens.unshift(D(le,"string")),q.backUp(1);break}}ce=!ce&&le==="\\"}return E}}function D(z,E){return function(Y,q){return q.tokens[0]=M(z,E),Y.next(),g(Y,q)}}var T=function(z,E){E.tokens.length>1&&z.eat("$");var Y=z.next();return/['"({]/.test(Y)?(E.tokens[0]=M(Y,Y=="("?"quote":Y=="{"?"def":"string"),g(z,E)):(/\d/.test(Y)||z.eatWhile(/\w/),E.tokens.shift(),"def")};function S(z){return function(E,Y){return E.sol()&&E.string==z&&Y.tokens.shift(),E.skipToEnd(),"string-2"}}function g(z,E){return(E.tokens[0]||v)(z,E)}return{startState:function(){return{tokens:[]}},token:function(z,E){return g(z,E)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),O.defineMIME("text/x-sh","shell"),O.defineMIME("application/x-sh","shell")})},80861:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("sql",function(D,T){var S=T.client||{},g=T.atoms||{false:!0,true:!0,null:!0},z=T.builtin||v(M),E=T.keywords||v(d),Y=T.operatorChars||/^[*+\-%<>!=&|~^\/]/,q=T.support||{},j=T.hooks||{},le=T.dateSQL||{date:!0,time:!0,timestamp:!0},ce=T.backslashStringEscapes!==!1,se=T.brackets||/^[\{}\(\)\[\]]/,ne=T.punctuation||/^[;.,:]/;function De(lt,Te){var Je=lt.next();if(j[Je]){var te=j[Je](lt,Te);if(te!==!1)return te}if(q.hexNumber&&(Je=="0"&&lt.match(/^[xX][0-9a-fA-F]+/)||(Je=="x"||Je=="X")&&lt.match(/^'[0-9a-fA-F]*'/)))return"number";if(q.binaryNumber&&((Je=="b"||Je=="B")&&lt.match(/^'[01]*'/)||Je=="0"&&lt.match(/^b[01]+/)))return"number";if(Je.charCodeAt(0)>47&&Je.charCodeAt(0)<58)return lt.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),q.decimallessFloat&&lt.match(/^\.(?!\.)/),"number";if(Je=="?"&&(lt.eatSpace()||lt.eol()||lt.eat(";")))return"variable-3";if(Je=="'"||Je=='"'&&q.doubleQuote)return Te.tokenize=we(Je),Te.tokenize(lt,Te);if((q.nCharCast&&(Je=="n"||Je=="N")||q.charsetCast&&Je=="_"&&lt.match(/[a-z][a-z0-9]*/i))&&(lt.peek()=="'"||lt.peek()=='"'))return"keyword";if(q.escapeConstant&&(Je=="e"||Je=="E")&&(lt.peek()=="'"||lt.peek()=='"'&&q.doubleQuote))return Te.tokenize=function(ue,ae){return(ae.tokenize=we(ue.next(),!0))(ue,ae)},"keyword";if(q.commentSlashSlash&&Je=="/"&&lt.eat("/"))return lt.skipToEnd(),"comment";if(q.commentHash&&Je=="#"||Je=="-"&&lt.eat("-")&&(!q.commentSpaceRequired||lt.eat(" ")))return lt.skipToEnd(),"comment";if(Je=="/"&&lt.eat("*"))return Te.tokenize=je(1),Te.tokenize(lt,Te);if(Je=="."){if(q.zerolessFloat&&lt.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(lt.match(/^\.+/))return null;if(lt.match(/^[\w\d_$#]+/))return"variable-2"}else{if(Y.test(Je))return lt.eatWhile(Y),"operator";if(se.test(Je))return"bracket";if(ne.test(Je))return lt.eatWhile(ne),"punctuation";if(Je=="{"&&(lt.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||lt.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";lt.eatWhile(/^[_\w\d]/);var fe=lt.current().toLowerCase();return le.hasOwnProperty(fe)&&(lt.match(/^( )+'[^']*'/)||lt.match(/^( )+"[^"]*"/))?"number":g.hasOwnProperty(fe)?"atom":z.hasOwnProperty(fe)?"type":E.hasOwnProperty(fe)?"keyword":S.hasOwnProperty(fe)?"builtin":null}}function we(lt,Te){return function(Je,te){for(var fe=!1,ue;(ue=Je.next())!=null;){if(ue==lt&&!fe){te.tokenize=De;break}fe=(ce||Te)&&!fe&&ue=="\\"}return"string"}}function je(lt){return function(Te,Je){var te=Te.match(/^.*?(\/\*|\*\/)/);return te?te[1]=="/*"?Je.tokenize=je(lt+1):lt>1?Je.tokenize=je(lt-1):Je.tokenize=De:Te.skipToEnd(),"comment"}}function dt(lt,Te,Je){Te.context={prev:Te.context,indent:lt.indentation(),col:lt.column(),type:Je}}function Qe(lt){lt.indent=lt.context.indent,lt.context=lt.context.prev}return{startState:function(){return{tokenize:De,context:null}},token:function(lt,Te){if(lt.sol()&&Te.context&&Te.context.align==null&&(Te.context.align=!1),Te.tokenize==De&&lt.eatSpace())return null;var Je=Te.tokenize(lt,Te);if(Je=="comment")return Je;Te.context&&Te.context.align==null&&(Te.context.align=!0);var te=lt.current();return te=="("?dt(lt,Te,")"):te=="["?dt(lt,Te,"]"):Te.context&&Te.context.type==te&&Qe(Te),Je},indent:function(lt,Te){var Je=lt.context;if(!Je)return O.Pass;var te=Te.charAt(0)==Je.type;return Je.align?Je.col+(te?0:1):Je.indent+(te?0:D.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:q.commentSlashSlash?"//":q.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``",config:T}});function U(D){for(var T;(T=D.next())!=null;)if(T=="`"&&!D.eat("`"))return"variable-2";return D.backUp(D.current().length-1),D.eatWhile(/\w/)?"variable-2":null}function x(D){for(var T;(T=D.next())!=null;)if(T=='"'&&!D.eat('"'))return"variable-2";return D.backUp(D.current().length-1),D.eatWhile(/\w/)?"variable-2":null}function m(D){return D.eat("@")&&(D.match("session."),D.match("local."),D.match("global.")),D.eat("'")?(D.match(/^.*'/),"variable-2"):D.eat('"')?(D.match(/^.*"/),"variable-2"):D.eat("`")?(D.match(/^.*`/),"variable-2"):D.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function p(D){return D.eat("N")?"atom":D.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var d="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function v(D){for(var T={},S=D.split(" "),g=0;g<S.length;++g)T[S[g]]=!0;return T}var M="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";O.defineMIME("text/x-sql",{name:"sql",keywords:v(d+"begin"),builtin:v(M),atoms:v("false true null unknown"),dateSQL:v("date time timestamp"),support:v("doubleQuote binaryNumber hexNumber")}),O.defineMIME("text/x-mssql",{name:"sql",client:v("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:v(d+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:v("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:v("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:v("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":m}}),O.defineMIME("text/x-mysql",{name:"sql",client:v("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:v(d+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:v("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:v("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:v("date time timestamp"),support:v("decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":m,"`":U,"\\":p}}),O.defineMIME("text/x-mariadb",{name:"sql",client:v("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:v(d+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group group_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:v("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:v("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:v("date time timestamp"),support:v("decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":m,"`":U,"\\":p}}),O.defineMIME("text/x-sqlite",{name:"sql",client:v("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:v(d+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:v("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:v("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:v("date time timestamp datetime"),support:v("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":m,":":m,"?":m,$:m,'"':x,"`":U}}),O.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:v("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:v("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:v("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:v("commentSlashSlash decimallessFloat"),hooks:{}}),O.defineMIME("text/x-plsql",{name:"sql",client:v("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:v("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:v("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:v("date time timestamp"),support:v("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),O.defineMIME("text/x-hive",{name:"sql",keywords:v("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:v("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:v("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:v("date timestamp"),support:v("doubleQuote binaryNumber hexNumber")}),O.defineMIME("text/x-pgsql",{name:"sql",client:v("source"),keywords:v(d+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:v("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:v("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:v("date time timestamp"),support:v("decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),O.defineMIME("text/x-gql",{name:"sql",keywords:v("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:v("false true"),builtin:v("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),O.defineMIME("text/x-gpsql",{name:"sql",client:v("source"),keywords:v("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:v("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:v("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:v("date time timestamp"),support:v("decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),O.defineMIME("text/x-sparksql",{name:"sql",keywords:v("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:v("abs acos acosh add_months aggregate and any approx_count_distinct approx_percentile array array_contains array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_repeat array_sort array_union arrays_overlap arrays_zip ascii asin asinh assert_true atan atan2 atanh avg base64 between bigint bin binary bit_and bit_count bit_get bit_length bit_or bit_xor bool_and bool_or boolean bround btrim cardinality case cast cbrt ceil ceiling char char_length character_length chr coalesce collect_list collect_set concat concat_ws conv corr cos cosh cot count count_if count_min_sketch covar_pop covar_samp crc32 cume_dist current_catalog current_database current_date current_timestamp current_timezone current_user date date_add date_format date_from_unix_date date_part date_sub date_trunc datediff day dayofmonth dayofweek dayofyear decimal decode degrees delimited dense_rank div double e element_at elt encode every exists exp explode explode_outer expm1 extract factorial filter find_in_set first first_value flatten float floor forall format_number format_string from_csv from_json from_unixtime from_utc_timestamp get_json_object getbit greatest grouping grouping_id hash hex hour hypot if ifnull in initcap inline inline_outer input_file_block_length input_file_block_start input_file_name inputformat instr int isnan isnotnull isnull java_method json_array_length json_object_keys json_tuple kurtosis lag last last_day last_value lcase lead least left length levenshtein like ln locate log log10 log1p log2 lower lpad ltrim make_date make_dt_interval make_interval make_timestamp make_ym_interval map map_concat map_entries map_filter map_from_arrays map_from_entries map_keys map_values map_zip_with max max_by md5 mean min min_by minute mod monotonically_increasing_id month months_between named_struct nanvl negative next_day not now nth_value ntile nullif nvl nvl2 octet_length or outputformat overlay parse_url percent_rank percentile percentile_approx pi pmod posexplode posexplode_outer position positive pow power printf quarter radians raise_error rand randn random rank rcfile reflect regexp regexp_extract regexp_extract_all regexp_like regexp_replace repeat replace reverse right rint rlike round row_number rpad rtrim schema_of_csv schema_of_json second sentences sequence sequencefile serde session_window sha sha1 sha2 shiftleft shiftright shiftrightunsigned shuffle sign signum sin sinh size skewness slice smallint some sort_array soundex space spark_partition_id split sqrt stack std stddev stddev_pop stddev_samp str_to_map string struct substr substring substring_index sum tan tanh textfile timestamp timestamp_micros timestamp_millis timestamp_seconds tinyint to_csv to_date to_json to_timestamp to_unix_timestamp to_utc_timestamp transform transform_keys transform_values translate trim trunc try_add try_divide typeof ucase unbase64 unhex uniontype unix_date unix_micros unix_millis unix_seconds unix_timestamp upper uuid var_pop var_samp variance version weekday weekofyear when width_bucket window xpath xpath_boolean xpath_double xpath_float xpath_int xpath_long xpath_number xpath_short xpath_string xxhash64 year zip_with"),atoms:v("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:v("date time timestamp"),support:v("doubleQuote zerolessFloat")}),O.defineMIME("text/x-esper",{name:"sql",client:v("source"),keywords:v("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:v("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:v("time"),support:v("decimallessFloat zerolessFloat binaryNumber hexNumber")}),O.defineMIME("text/x-trino",{name:"sql",keywords:v("abs absent acos add admin after all all_match alter analyze and any any_match approx_distinct approx_most_frequent approx_percentile approx_set arbitrary array_agg array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_sort array_union arrays_overlap as asc asin at at_timezone atan atan2 authorization avg bar bernoulli beta_cdf between bing_tile bing_tile_at bing_tile_coordinates bing_tile_polygon bing_tile_quadkey bing_tile_zoom_level bing_tiles_around bit_count bitwise_and bitwise_and_agg bitwise_left_shift bitwise_not bitwise_or bitwise_or_agg bitwise_right_shift bitwise_right_shift_arithmetic bitwise_xor bool_and bool_or both by call cardinality cascade case cast catalogs cbrt ceil ceiling char2hexint checksum chr classify coalesce codepoint column columns combinations comment commit committed concat concat_ws conditional constraint contains contains_sequence convex_hull_agg copartition corr cos cosh cosine_similarity count count_if covar_pop covar_samp crc32 create cross cube cume_dist current current_catalog current_date current_groups current_path current_role current_schema current_time current_timestamp current_timezone current_user data date_add date_diff date_format date_parse date_trunc day day_of_month day_of_week day_of_year deallocate default define definer degrees delete dense_rank deny desc describe descriptor distinct distributed dow doy drop e element_at else empty empty_approx_set encoding end error escape evaluate_classifier_predictions every except excluding execute exists exp explain extract false features fetch filter final first first_value flatten floor following for format format_datetime format_number from from_base from_base32 from_base64 from_base64url from_big_endian_32 from_big_endian_64 from_encoded_polyline from_geojson_geometry from_hex from_ieee754_32 from_ieee754_64 from_iso8601_date from_iso8601_timestamp from_iso8601_timestamp_nanos from_unixtime from_unixtime_nanos from_utf8 full functions geometric_mean geometry_from_hadoop_shape geometry_invalid_reason geometry_nearest_points geometry_to_bing_tiles geometry_union geometry_union_agg grant granted grants graphviz great_circle_distance greatest group grouping groups hamming_distance hash_counts having histogram hmac_md5 hmac_sha1 hmac_sha256 hmac_sha512 hour human_readable_seconds if ignore in including index infinity initial inner input insert intersect intersection_cardinality into inverse_beta_cdf inverse_normal_cdf invoker io is is_finite is_infinite is_json_scalar is_nan isolation jaccard_index join json_array json_array_contains json_array_get json_array_length json_exists json_extract json_extract_scalar json_format json_object json_parse json_query json_size json_value keep key keys kurtosis lag last last_day_of_month last_value lateral lead leading learn_classifier learn_libsvm_classifier learn_libsvm_regressor learn_regressor least left length level levenshtein_distance like limit line_interpolate_point line_interpolate_points line_locate_point listagg ln local localtime localtimestamp log log10 log2 logical lower lpad ltrim luhn_check make_set_digest map_agg map_concat map_entries map_filter map_from_entries map_keys map_union map_values map_zip_with match match_recognize matched matches materialized max max_by md5 measures merge merge_set_digest millisecond min min_by minute mod month multimap_agg multimap_from_entries murmur3 nan natural next nfc nfd nfkc nfkd ngrams no none none_match normal_cdf normalize not now nth_value ntile null nullif nulls numeric_histogram object objectid_timestamp of offset omit on one only option or order ordinality outer output over overflow parse_data_size parse_datetime parse_duration partition partitions passing past path pattern per percent_rank permute pi position pow power preceding prepare privileges properties prune qdigest_agg quarter quotes radians rand random range rank read recursive reduce reduce_agg refresh regexp_count regexp_extract regexp_extract_all regexp_like regexp_position regexp_replace regexp_split regr_intercept regr_slope regress rename render repeat repeatable replace reset respect restrict returning reverse revoke rgb right role roles rollback rollup round row_number rows rpad rtrim running scalar schema schemas second security seek select sequence serializable session set sets sha1 sha256 sha512 show shuffle sign simplify_geometry sin skewness skip slice some soundex spatial_partitioning spatial_partitions split split_part split_to_map split_to_multimap spooky_hash_v2_32 spooky_hash_v2_64 sqrt st_area st_asbinary st_astext st_boundary st_buffer st_centroid st_contains st_convexhull st_coorddim st_crosses st_difference st_dimension st_disjoint st_distance st_endpoint st_envelope st_envelopeaspts st_equals st_exteriorring st_geometries st_geometryfromtext st_geometryn st_geometrytype st_geomfrombinary st_interiorringn st_interiorrings st_intersection st_intersects st_isclosed st_isempty st_isring st_issimple st_isvalid st_length st_linefromtext st_linestring st_multipoint st_numgeometries st_numinteriorring st_numpoints st_overlaps st_point st_pointn st_points st_polygon st_relate st_startpoint st_symdifference st_touches st_union st_within st_x st_xmax st_xmin st_y st_ymax st_ymin start starts_with stats stddev stddev_pop stddev_samp string strpos subset substr substring sum system table tables tablesample tan tanh tdigest_agg text then ties timestamp_objectid timezone_hour timezone_minute to to_base to_base32 to_base64 to_base64url to_big_endian_32 to_big_endian_64 to_char to_date to_encoded_polyline to_geojson_geometry to_geometry to_hex to_ieee754_32 to_ieee754_64 to_iso8601 to_milliseconds to_spherical_geography to_timestamp to_unixtime to_utf8 trailing transaction transform transform_keys transform_values translate trim trim_array true truncate try try_cast type typeof uescape unbounded uncommitted unconditional union unique unknown unmatched unnest update upper url_decode url_encode url_extract_fragment url_extract_host url_extract_parameter url_extract_path url_extract_port url_extract_protocol url_extract_query use user using utf16 utf32 utf8 validate value value_at_quantile values values_at_quantiles var_pop var_samp variance verbose version view week week_of_year when where width_bucket wilson_interval_lower wilson_interval_upper window with with_timezone within without word_stem work wrapper write xxhash64 year year_of_week yow zip zip_with"),builtin:v("array bigint bingtile boolean char codepoints color date decimal double function geometry hyperloglog int integer interval ipaddress joniregexp json json2016 jsonpath kdbtree likepattern map model objectid p4hyperloglog precision qdigest re2jregexp real regressor row setdigest smallint sphericalgeography tdigest time timestamp tinyint uuid varbinary varchar zone"),atoms:v("false true null unknown"),operatorChars:/^[[\]|<>=!\-+*/%]/,dateSQL:v("date time timestamp zone"),support:v("decimallessFloat zerolessFloat hexNumber")})})},65973:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";function U(je){for(var dt={},Qe=0;Qe<je.length;Qe++)dt[je[Qe]]=!0;return dt}var x=U(["_","var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","isolated","nonisolated","catch","do","rethrows","throw","throws","async","await","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),m=U(["var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),p=U(["true","false","nil","self","super","_"]),d=U(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),v="+-/*%=|&<>~^?!",M=":;,.(){}[]",D=/^\-?0b[01][01_]*/,T=/^\-?0o[0-7][0-7_]*/,S=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,g=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,z=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,E=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,Y=/^\#[A-Za-z]+/,q=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function j(je,dt,Qe){if(je.sol()&&(dt.indented=je.indentation()),je.eatSpace())return null;var lt=je.peek();if(lt=="/"){if(je.match("//"))return je.skipToEnd(),"comment";if(je.match("/*"))return dt.tokenize.push(se),se(je,dt)}if(je.match(Y))return"builtin";if(je.match(q))return"attribute";if(je.match(D)||je.match(T)||je.match(S)||je.match(g))return"number";if(je.match(E))return"property";if(v.indexOf(lt)>-1)return je.next(),"operator";if(M.indexOf(lt)>-1)return je.next(),je.match(".."),"punctuation";var Te;if(Te=je.match(/("""|"|')/)){var Je=ce.bind(null,Te[0]);return dt.tokenize.push(Je),Je(je,dt)}if(je.match(z)){var te=je.current();return d.hasOwnProperty(te)?"variable-2":p.hasOwnProperty(te)?"atom":x.hasOwnProperty(te)?(m.hasOwnProperty(te)&&(dt.prev="define"),"keyword"):Qe=="define"?"def":"variable"}return je.next(),null}function le(){var je=0;return function(dt,Qe,lt){var Te=j(dt,Qe,lt);if(Te=="punctuation"){if(dt.current()=="(")++je;else if(dt.current()==")"){if(je==0)return dt.backUp(1),Qe.tokenize.pop(),Qe.tokenize[Qe.tokenize.length-1](dt,Qe);--je}}return Te}}function ce(je,dt,Qe){for(var lt=je.length==1,Te,Je=!1;Te=dt.peek();)if(Je){if(dt.next(),Te=="(")return Qe.tokenize.push(le()),"string";Je=!1}else{if(dt.match(je))return Qe.tokenize.pop(),"string";dt.next(),Je=Te=="\\"}return lt&&Qe.tokenize.pop(),"string"}function se(je,dt){for(var Qe;Qe=je.next();)if(Qe==="/"&&je.eat("*"))dt.tokenize.push(se);else if(Qe==="*"&&je.eat("/")){dt.tokenize.pop();break}return"comment"}function ne(je,dt,Qe){this.prev=je,this.align=dt,this.indented=Qe}function De(je,dt){var Qe=dt.match(/^\s*($|\/[\/\*])/,!1)?null:dt.column()+1;je.context=new ne(je.context,Qe,je.indented)}function we(je){je.context&&(je.indented=je.context.indented,je.context=je.context.prev)}O.defineMode("swift",function(je){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(dt,Qe){var lt=Qe.prev;Qe.prev=null;var Te=Qe.tokenize[Qe.tokenize.length-1]||j,Je=Te(dt,Qe,lt);if(!Je||Je=="comment"?Qe.prev=lt:Qe.prev||(Qe.prev=Je),Je=="punctuation"){var te=/[\(\[\{]|([\]\)\}])/.exec(dt.current());te&&(te[1]?we:De)(Qe,dt)}return Je},indent:function(dt,Qe){var lt=dt.context;if(!lt)return 0;var Te=/^[\]\}\)]/.test(Qe);return lt.align!=null?lt.align-(Te?1:0):lt.indented+(Te?0:je.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),O.defineMIME("text/x-swift","swift")})},63776:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("vb",function(U,x){var m="error";function p(de){return new RegExp("^(("+de.join(")|(")+"))\\b","i")}var d=new RegExp("^[\\+\\-\\*/%&\\\\|\\^~<>!]"),v=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),M=new RegExp("^((==)|(<>)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),D=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),T=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),S=new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),g=["class","module","sub","enum","select","while","if","function","get","set","property","try","structure","synclock","using","with"],z=["else","elseif","case","catch","finally"],E=["next","loop"],Y=["and","andalso","or","orelse","xor","in","not","is","isnot","like"],q=p(Y),j=["#const","#else","#elseif","#end","#if","#region","addhandler","addressof","alias","as","byref","byval","cbool","cbyte","cchar","cdate","cdbl","cdec","cint","clng","cobj","compare","const","continue","csbyte","cshort","csng","cstr","cuint","culng","cushort","declare","default","delegate","dim","directcast","each","erase","error","event","exit","explicit","false","for","friend","gettype","goto","handles","implements","imports","infer","inherits","interface","isfalse","istrue","lib","me","mod","mustinherit","mustoverride","my","mybase","myclass","namespace","narrowing","new","nothing","notinheritable","notoverridable","of","off","on","operator","option","optional","out","overloads","overridable","overrides","paramarray","partial","private","protected","public","raiseevent","readonly","redim","removehandler","resume","return","shadows","shared","static","step","stop","strict","then","throw","to","true","trycast","typeof","until","until","when","widening","withevents","writeonly"],le=["object","boolean","char","string","byte","sbyte","short","ushort","int16","uint16","integer","uinteger","int32","uint32","long","ulong","int64","uint64","decimal","single","double","float","date","datetime","intptr","uintptr"],ce=p(j),se=p(le),ne='"',De=p(g),we=p(z),je=p(E),dt=p(["end"]),Qe=p(["do"]),lt=null;O.registerHelper("hintWords","vb",g.concat(z).concat(E).concat(Y).concat(j).concat(le));function Te(de,ve){ve.currentIndent++}function Je(de,ve){ve.currentIndent--}function te(de,ve){if(de.eatSpace())return null;var J=de.peek();if(J==="'")return de.skipToEnd(),"comment";if(de.match(/^((&H)|(&O))?[0-9\.a-f]/i,!1)){var X=!1;if((de.match(/^\d*\.\d+F?/i)||de.match(/^\d+\.\d*F?/)||de.match(/^\.\d+F?/))&&(X=!0),X)return de.eat(/J/i),"number";var K=!1;if(de.match(/^&H[0-9a-f]+/i)||de.match(/^&O[0-7]+/i)?K=!0:de.match(/^[1-9]\d*F?/)?(de.eat(/J/i),K=!0):de.match(/^0(?![\dx])/i)&&(K=!0),K)return de.eat(/L/i),"number"}return de.match(ne)?(ve.tokenize=fe(de.current()),ve.tokenize(de,ve)):de.match(T)||de.match(D)?null:de.match(M)||de.match(d)||de.match(q)?"operator":de.match(v)?null:de.match(Qe)?(Te(de,ve),ve.doInCurrentLine=!0,"keyword"):de.match(De)?(ve.doInCurrentLine?ve.doInCurrentLine=!1:Te(de,ve),"keyword"):de.match(we)?"keyword":de.match(dt)?(Je(de,ve),Je(de,ve),"keyword"):de.match(je)?(Je(de,ve),"keyword"):de.match(se)||de.match(ce)?"keyword":de.match(S)?"variable":(de.next(),m)}function fe(de){var ve=de.length==1,J="string";return function(X,K){for(;!X.eol();){if(X.eatWhile(/[^'"]/),X.match(de))return K.tokenize=te,J;X.eat(/['"]/)}if(ve){if(x.singleLineStringErrors)return m;K.tokenize=te}return J}}function ue(de,ve){var J=ve.tokenize(de,ve),X=de.current();if(X===".")return J=ve.tokenize(de,ve),J==="variable"?"variable":m;var K="[({".indexOf(X);return K!==-1&&Te(de,ve),lt==="dedent"&&Je(de,ve)||(K="])}".indexOf(X),K!==-1&&Je(de,ve))?m:J}var ae={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:te,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1}},token:function(de,ve){de.sol()&&(ve.currentIndent+=ve.nextLineIndent,ve.nextLineIndent=0,ve.doInCurrentLine=0);var J=ue(de,ve);return ve.lastToken={style:J,content:de.current()},J},indent:function(de,ve){var J=ve.replace(/^\s+|\s+$/g,"");return J.match(je)||J.match(dt)||J.match(we)?U.indentUnit*(de.currentIndent-1):de.currentIndent<0?0:de.currentIndent*U.indentUnit},lineComment:"'"};return ae}),O.defineMIME("text/x-vb","vb")})},58977:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("velocity",function(){function U(g){for(var z={},E=g.split(" "),Y=0;Y<E.length;++Y)z[E[Y]]=!0;return z}var x=U("#end #else #break #stop #[[ #]] #{end} #{else} #{break} #{stop}"),m=U("#if #elseif #foreach #set #include #parse #macro #define #evaluate #{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}"),p=U("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent.count $foreach.parent.hasNext $foreach.parent.first $foreach.parent.last $foreach.parent $velocityCount $!bodyContent $bodyContent"),d=/[+\-*&%=<>!?:\/|]/;function v(g,z,E){return z.tokenize=E,E(g,z)}function M(g,z){var E=z.beforeParams;z.beforeParams=!1;var Y=g.next();if(Y=="'"&&!z.inString&&z.inParams)return z.lastTokenWasBuiltin=!1,v(g,z,D(Y));if(Y=='"'){if(z.lastTokenWasBuiltin=!1,z.inString)return z.inString=!1,"string";if(z.inParams)return v(g,z,D(Y))}else{if(/[\[\]{}\(\),;\.]/.test(Y))return Y=="("&&E?z.inParams=!0:Y==")"&&(z.inParams=!1,z.lastTokenWasBuiltin=!0),null;if(/\d/.test(Y))return z.lastTokenWasBuiltin=!1,g.eatWhile(/[\w\.]/),"number";if(Y=="#"&&g.eat("*"))return z.lastTokenWasBuiltin=!1,v(g,z,T);if(Y=="#"&&g.match(/ *\[ *\[/))return z.lastTokenWasBuiltin=!1,v(g,z,S);if(Y=="#"&&g.eat("#"))return z.lastTokenWasBuiltin=!1,g.skipToEnd(),"comment";if(Y=="$")return g.eat("!"),g.eatWhile(/[\w\d\$_\.{}-]/),p&&p.propertyIsEnumerable(g.current())?"keyword":(z.lastTokenWasBuiltin=!0,z.beforeParams=!0,"builtin");if(d.test(Y))return z.lastTokenWasBuiltin=!1,g.eatWhile(d),"operator";g.eatWhile(/[\w\$_{}@]/);var q=g.current();return x&&x.propertyIsEnumerable(q)?"keyword":m&&m.propertyIsEnumerable(q)||g.current().match(/^#@?[a-z0-9_]+ *$/i)&&g.peek()=="("&&!(m&&m.propertyIsEnumerable(q.toLowerCase()))?(z.beforeParams=!0,z.lastTokenWasBuiltin=!1,"keyword"):z.inString?(z.lastTokenWasBuiltin=!1,"string"):g.pos>q.length&&g.string.charAt(g.pos-q.length-1)=="."&&z.lastTokenWasBuiltin?"builtin":(z.lastTokenWasBuiltin=!1,null)}}function D(g){return function(z,E){for(var Y=!1,q,j=!1;(q=z.next())!=null;){if(q==g&&!Y){j=!0;break}if(g=='"'&&z.peek()=="$"&&!Y){E.inString=!0,j=!0;break}Y=!Y&&q=="\\"}return j&&(E.tokenize=M),"string"}}function T(g,z){for(var E=!1,Y;Y=g.next();){if(Y=="#"&&E){z.tokenize=M;break}E=Y=="*"}return"comment"}function S(g,z){for(var E=0,Y;Y=g.next();){if(Y=="#"&&E==2){z.tokenize=M;break}Y=="]"?E++:Y!=" "&&(E=0)}return"meta"}return{startState:function(){return{tokenize:M,beforeParams:!1,inParams:!1,inString:!1,lastTokenWasBuiltin:!1}},token:function(g,z){return g.eatSpace()?null:z.tokenize(g,z)},blockCommentStart:"#*",blockCommentEnd:"*#",lineComment:"##",fold:"velocity"}}),O.defineMIME("text/velocity","velocity")})},36941:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";var U={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},x={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};O.defineMode("xml",function(m,p){var d=m.indentUnit,v={},M=p.htmlMode?U:x;for(var D in M)v[D]=M[D];for(var D in p)v[D]=p[D];var T,S;function g(te,fe){function ue(ve){return fe.tokenize=ve,ve(te,fe)}var ae=te.next();if(ae=="<")return te.eat("!")?te.eat("[")?te.match("CDATA[")?ue(Y("atom","]]>")):null:te.match("--")?ue(Y("comment","-->")):te.match("DOCTYPE",!0,!0)?(te.eatWhile(/[\w\._\-]/),ue(q(1))):null:te.eat("?")?(te.eatWhile(/[\w\._\-]/),fe.tokenize=Y("meta","?>"),"meta"):(T=te.eat("/")?"closeTag":"openTag",fe.tokenize=z,"tag bracket");if(ae=="&"){var de;return te.eat("#")?te.eat("x")?de=te.eatWhile(/[a-fA-F\d]/)&&te.eat(";"):de=te.eatWhile(/[\d]/)&&te.eat(";"):de=te.eatWhile(/[\w\.\-:]/)&&te.eat(";"),de?"atom":"error"}else return te.eatWhile(/[^&<]/),null}g.isInText=!0;function z(te,fe){var ue=te.next();if(ue==">"||ue=="/"&&te.eat(">"))return fe.tokenize=g,T=ue==">"?"endTag":"selfcloseTag","tag bracket";if(ue=="=")return T="equals",null;if(ue=="<"){fe.tokenize=g,fe.state=ne,fe.tagName=fe.tagStart=null;var ae=fe.tokenize(te,fe);return ae?ae+" tag error":"tag error"}else return/[\'\"]/.test(ue)?(fe.tokenize=E(ue),fe.stringStartCol=te.column(),fe.tokenize(te,fe)):(te.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function E(te){var fe=function(ue,ae){for(;!ue.eol();)if(ue.next()==te){ae.tokenize=z;break}return"string"};return fe.isInAttribute=!0,fe}function Y(te,fe){return function(ue,ae){for(;!ue.eol();){if(ue.match(fe)){ae.tokenize=g;break}ue.next()}return te}}function q(te){return function(fe,ue){for(var ae;(ae=fe.next())!=null;){if(ae=="<")return ue.tokenize=q(te+1),ue.tokenize(fe,ue);if(ae==">")if(te==1){ue.tokenize=g;break}else return ue.tokenize=q(te-1),ue.tokenize(fe,ue)}return"meta"}}function j(te){return te&&te.toLowerCase()}function le(te,fe,ue){this.prev=te.context,this.tagName=fe||"",this.indent=te.indented,this.startOfLine=ue,(v.doNotIndent.hasOwnProperty(fe)||te.context&&te.context.noIndent)&&(this.noIndent=!0)}function ce(te){te.context&&(te.context=te.context.prev)}function se(te,fe){for(var ue;;){if(!te.context||(ue=te.context.tagName,!v.contextGrabbers.hasOwnProperty(j(ue))||!v.contextGrabbers[j(ue)].hasOwnProperty(j(fe))))return;ce(te)}}function ne(te,fe,ue){return te=="openTag"?(ue.tagStart=fe.column(),De):te=="closeTag"?we:ne}function De(te,fe,ue){return te=="word"?(ue.tagName=fe.current(),S="tag",Qe):v.allowMissingTagName&&te=="endTag"?(S="tag bracket",Qe(te,fe,ue)):(S="error",De)}function we(te,fe,ue){if(te=="word"){var ae=fe.current();return ue.context&&ue.context.tagName!=ae&&v.implicitlyClosed.hasOwnProperty(j(ue.context.tagName))&&ce(ue),ue.context&&ue.context.tagName==ae||v.matchClosing===!1?(S="tag",je):(S="tag error",dt)}else return v.allowMissingTagName&&te=="endTag"?(S="tag bracket",je(te,fe,ue)):(S="error",dt)}function je(te,fe,ue){return te!="endTag"?(S="error",je):(ce(ue),ne)}function dt(te,fe,ue){return S="error",je(te,fe,ue)}function Qe(te,fe,ue){if(te=="word")return S="attribute",lt;if(te=="endTag"||te=="selfcloseTag"){var ae=ue.tagName,de=ue.tagStart;return ue.tagName=ue.tagStart=null,te=="selfcloseTag"||v.autoSelfClosers.hasOwnProperty(j(ae))?se(ue,ae):(se(ue,ae),ue.context=new le(ue,ae,de==ue.indented)),ne}return S="error",Qe}function lt(te,fe,ue){return te=="equals"?Te:(v.allowMissing||(S="error"),Qe(te,fe,ue))}function Te(te,fe,ue){return te=="string"?Je:te=="word"&&v.allowUnquoted?(S="string",Qe):(S="error",Qe(te,fe,ue))}function Je(te,fe,ue){return te=="string"?Je:Qe(te,fe,ue)}return{startState:function(te){var fe={tokenize:g,state:ne,indented:te||0,tagName:null,tagStart:null,context:null};return te!=null&&(fe.baseIndent=te),fe},token:function(te,fe){if(!fe.tagName&&te.sol()&&(fe.indented=te.indentation()),te.eatSpace())return null;T=null;var ue=fe.tokenize(te,fe);return(ue||T)&&ue!="comment"&&(S=null,fe.state=fe.state(T||ue,te,fe),S&&(ue=S=="error"?ue+" error":S)),ue},indent:function(te,fe,ue){var ae=te.context;if(te.tokenize.isInAttribute)return te.tagStart==te.indented?te.stringStartCol+1:te.indented+d;if(ae&&ae.noIndent)return O.Pass;if(te.tokenize!=z&&te.tokenize!=g)return ue?ue.match(/^(\s*)/)[0].length:0;if(te.tagName)return v.multilineTagIndentPastTag!==!1?te.tagStart+te.tagName.length+2:te.tagStart+d*(v.multilineTagIndentFactor||1);if(v.alignCDATA&&/<!\[CDATA\[/.test(fe))return 0;var de=fe&&/^<(\/)?([\w_:\.-]*)/.exec(fe);if(de&&de[1])for(;ae;)if(ae.tagName==de[2]){ae=ae.prev;break}else if(v.implicitlyClosed.hasOwnProperty(j(ae.tagName)))ae=ae.prev;else break;else if(de)for(;ae;){var ve=v.contextGrabbers[j(ae.tagName)];if(ve&&ve.hasOwnProperty(j(de[2])))ae=ae.prev;else break}for(;ae&&ae.prev&&!ae.startOfLine;)ae=ae.prev;return ae?ae.indent+d:te.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:v.htmlMode?"html":"xml",helperType:v.htmlMode?"html":"xml",skipAttribute:function(te){te.state==Te&&(te.state=Qe)},xmlCurrentTag:function(te){return te.tagName?{name:te.tagName,close:te.type=="closeTag"}:null},xmlCurrentContext:function(te){for(var fe=[],ue=te.context;ue;ue=ue.prev)fe.push(ue.tagName);return fe.reverse()}}}),O.defineMIME("text/xml","xml"),O.defineMIME("application/xml","xml"),O.mimeModes.hasOwnProperty("text/html")||O.defineMIME("text/html",{name:"xml",htmlMode:!0})})},95368:function(ut,Ce,f){(function(O){O(f(13187))})(function(O){"use strict";O.defineMode("yaml",function(){var U=["true","false","on","off","yes","no"],x=new RegExp("\\b(("+U.join(")|(")+"))$","i");return{token:function(m,p){var d=m.peek(),v=p.escaped;if(p.escaped=!1,d=="#"&&(m.pos==0||/\s/.test(m.string.charAt(m.pos-1))))return m.skipToEnd(),"comment";if(m.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(p.literal&&m.indentation()>p.keyCol)return m.skipToEnd(),"string";if(p.literal&&(p.literal=!1),m.sol()){if(p.keyCol=0,p.pair=!1,p.pairStart=!1,m.match("---")||m.match("..."))return"def";if(m.match(/\s*-\s+/))return"meta"}if(m.match(/^(\{|\}|\[|\])/))return d=="{"?p.inlinePairs++:d=="}"?p.inlinePairs--:d=="["?p.inlineList++:p.inlineList--,"meta";if(p.inlineList>0&&!v&&d==",")return m.next(),"meta";if(p.inlinePairs>0&&!v&&d==",")return p.keyCol=0,p.pair=!1,p.pairStart=!1,m.next(),"meta";if(p.pairStart){if(m.match(/^\s*(\||\>)\s*/))return p.literal=!0,"meta";if(m.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(p.inlinePairs==0&&m.match(/^\s*-?[0-9\.\,]+\s?$/)||p.inlinePairs>0&&m.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(m.match(x))return"keyword"}return!p.pair&&m.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(p.pair=!0,p.keyCol=m.indentation(),"atom"):p.pair&&m.match(/^:\s*/)?(p.pairStart=!0,"meta"):(p.pairStart=!1,p.escaped=d=="\\",m.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),O.defineMIME("text/x-yaml","yaml"),O.defineMIME("text/yaml","yaml")})},85386:function(ut){var Ce=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},f=-1,O=1,U=0;Ce.Diff=function(x,m){return[x,m]},Ce.prototype.diff_main=function(x,m,p,d){typeof d=="undefined"&&(this.Diff_Timeout<=0?d=Number.MAX_VALUE:d=new Date().getTime()+this.Diff_Timeout*1e3);var v=d;if(x==null||m==null)throw new Error("Null input. (diff_main)");if(x==m)return x?[new Ce.Diff(U,x)]:[];typeof p=="undefined"&&(p=!0);var M=p,D=this.diff_commonPrefix(x,m),T=x.substring(0,D);x=x.substring(D),m=m.substring(D),D=this.diff_commonSuffix(x,m);var S=x.substring(x.length-D);x=x.substring(0,x.length-D),m=m.substring(0,m.length-D);var g=this.diff_compute_(x,m,M,v);return T&&g.unshift(new Ce.Diff(U,T)),S&&g.push(new Ce.Diff(U,S)),this.diff_cleanupMerge(g),g},Ce.prototype.diff_compute_=function(x,m,p,d){var v;if(!x)return[new Ce.Diff(O,m)];if(!m)return[new Ce.Diff(f,x)];var M=x.length>m.length?x:m,D=x.length>m.length?m:x,T=M.indexOf(D);if(T!=-1)return v=[new Ce.Diff(O,M.substring(0,T)),new Ce.Diff(U,D),new Ce.Diff(O,M.substring(T+D.length))],x.length>m.length&&(v[0][0]=v[2][0]=f),v;if(D.length==1)return[new Ce.Diff(f,x),new Ce.Diff(O,m)];var S=this.diff_halfMatch_(x,m);if(S){var g=S[0],z=S[1],E=S[2],Y=S[3],q=S[4],j=this.diff_main(g,E,p,d),le=this.diff_main(z,Y,p,d);return j.concat([new Ce.Diff(U,q)],le)}return p&&x.length>100&&m.length>100?this.diff_lineMode_(x,m,d):this.diff_bisect_(x,m,d)},Ce.prototype.diff_lineMode_=function(x,m,p){var d=this.diff_linesToChars_(x,m);x=d.chars1,m=d.chars2;var v=d.lineArray,M=this.diff_main(x,m,!1,p);this.diff_charsToLines_(M,v),this.diff_cleanupSemantic(M),M.push(new Ce.Diff(U,""));for(var D=0,T=0,S=0,g="",z="";D<M.length;){switch(M[D][0]){case O:S++,z+=M[D][1];break;case f:T++,g+=M[D][1];break;case U:if(T>=1&&S>=1){M.splice(D-T-S,T+S),D=D-T-S;for(var E=this.diff_main(g,z,!1,p),Y=E.length-1;Y>=0;Y--)M.splice(D,0,E[Y]);D=D+E.length}S=0,T=0,g="",z="";break}D++}return M.pop(),M},Ce.prototype.diff_bisect_=function(x,m,p){for(var d=x.length,v=m.length,M=Math.ceil((d+v)/2),D=M,T=2*M,S=new Array(T),g=new Array(T),z=0;z<T;z++)S[z]=-1,g[z]=-1;S[D+1]=0,g[D+1]=0;for(var E=d-v,Y=E%2!=0,q=0,j=0,le=0,ce=0,se=0;se<M&&!(new Date().getTime()>p);se++){for(var ne=-se+q;ne<=se-j;ne+=2){var De=D+ne,we;ne==-se||ne!=se&&S[De-1]<S[De+1]?we=S[De+1]:we=S[De-1]+1;for(var je=we-ne;we<d&&je<v&&x.charAt(we)==m.charAt(je);)we++,je++;if(S[De]=we,we>d)j+=2;else if(je>v)q+=2;else if(Y){var dt=D+E-ne;if(dt>=0&&dt<T&&g[dt]!=-1){var Qe=d-g[dt];if(we>=Qe)return this.diff_bisectSplit_(x,m,we,je,p)}}}for(var lt=-se+le;lt<=se-ce;lt+=2){var dt=D+lt,Qe;lt==-se||lt!=se&&g[dt-1]<g[dt+1]?Qe=g[dt+1]:Qe=g[dt-1]+1;for(var Te=Qe-lt;Qe<d&&Te<v&&x.charAt(d-Qe-1)==m.charAt(v-Te-1);)Qe++,Te++;if(g[dt]=Qe,Qe>d)ce+=2;else if(Te>v)le+=2;else if(!Y){var De=D+E-lt;if(De>=0&&De<T&&S[De]!=-1){var we=S[De],je=D+we-De;if(Qe=d-Qe,we>=Qe)return this.diff_bisectSplit_(x,m,we,je,p)}}}}return[new Ce.Diff(f,x),new Ce.Diff(O,m)]},Ce.prototype.diff_bisectSplit_=function(x,m,p,d,v){var M=x.substring(0,p),D=m.substring(0,d),T=x.substring(p),S=m.substring(d),g=this.diff_main(M,D,!1,v),z=this.diff_main(T,S,!1,v);return g.concat(z)},Ce.prototype.diff_linesToChars_=function(x,m){var p=[],d={};p[0]="";function v(S){for(var g="",z=0,E=-1,Y=p.length;E<S.length-1;){E=S.indexOf(`
`,z),E==-1&&(E=S.length-1);var q=S.substring(z,E+1);(d.hasOwnProperty?d.hasOwnProperty(q):d[q]!==void 0)?g+=String.fromCharCode(d[q]):(Y==M&&(q=S.substring(z),E=S.length),g+=String.fromCharCode(Y),d[q]=Y,p[Y++]=q),z=E+1}return g}var M=4e4,D=v(x);M=65535;var T=v(m);return{chars1:D,chars2:T,lineArray:p}},Ce.prototype.diff_charsToLines_=function(x,m){for(var p=0;p<x.length;p++){for(var d=x[p][1],v=[],M=0;M<d.length;M++)v[M]=m[d.charCodeAt(M)];x[p][1]=v.join("")}},Ce.prototype.diff_commonPrefix=function(x,m){if(!x||!m||x.charAt(0)!=m.charAt(0))return 0;for(var p=0,d=Math.min(x.length,m.length),v=d,M=0;p<v;)x.substring(M,v)==m.substring(M,v)?(p=v,M=p):d=v,v=Math.floor((d-p)/2+p);return v},Ce.prototype.diff_commonSuffix=function(x,m){if(!x||!m||x.charAt(x.length-1)!=m.charAt(m.length-1))return 0;for(var p=0,d=Math.min(x.length,m.length),v=d,M=0;p<v;)x.substring(x.length-v,x.length-M)==m.substring(m.length-v,m.length-M)?(p=v,M=p):d=v,v=Math.floor((d-p)/2+p);return v},Ce.prototype.diff_commonOverlap_=function(x,m){var p=x.length,d=m.length;if(p==0||d==0)return 0;p>d?x=x.substring(p-d):p<d&&(m=m.substring(0,p));var v=Math.min(p,d);if(x==m)return v;for(var M=0,D=1;;){var T=x.substring(v-D),S=m.indexOf(T);if(S==-1)return M;D+=S,(S==0||x.substring(v-D)==m.substring(0,D))&&(M=D,D++)}},Ce.prototype.diff_halfMatch_=function(x,m){if(this.Diff_Timeout<=0)return null;var p=x.length>m.length?x:m,d=x.length>m.length?m:x;if(p.length<4||d.length*2<p.length)return null;var v=this;function M(j,le,ce){for(var se=j.substring(ce,ce+Math.floor(j.length/4)),ne=-1,De="",we,je,dt,Qe;(ne=le.indexOf(se,ne+1))!=-1;){var lt=v.diff_commonPrefix(j.substring(ce),le.substring(ne)),Te=v.diff_commonSuffix(j.substring(0,ce),le.substring(0,ne));De.length<Te+lt&&(De=le.substring(ne-Te,ne)+le.substring(ne,ne+lt),we=j.substring(0,ce-Te),je=j.substring(ce+lt),dt=le.substring(0,ne-Te),Qe=le.substring(ne+lt))}return De.length*2>=j.length?[we,je,dt,Qe,De]:null}var D=M(p,d,Math.ceil(p.length/4)),T=M(p,d,Math.ceil(p.length/2)),S;if(!D&&!T)return null;T?D?S=D[4].length>T[4].length?D:T:S=T:S=D;var g,z,E,Y;x.length>m.length?(g=S[0],z=S[1],E=S[2],Y=S[3]):(E=S[0],Y=S[1],g=S[2],z=S[3]);var q=S[4];return[g,z,E,Y,q]},Ce.prototype.diff_cleanupSemantic=function(x){for(var m=!1,p=[],d=0,v=null,M=0,D=0,T=0,S=0,g=0;M<x.length;)x[M][0]==U?(p[d++]=M,D=S,T=g,S=0,g=0,v=x[M][1]):(x[M][0]==O?S+=x[M][1].length:g+=x[M][1].length,v&&v.length<=Math.max(D,T)&&v.length<=Math.max(S,g)&&(x.splice(p[d-1],0,new Ce.Diff(f,v)),x[p[d-1]+1][0]=O,d--,d--,M=d>0?p[d-1]:-1,D=0,T=0,S=0,g=0,v=null,m=!0)),M++;for(m&&this.diff_cleanupMerge(x),this.diff_cleanupSemanticLossless(x),M=1;M<x.length;){if(x[M-1][0]==f&&x[M][0]==O){var z=x[M-1][1],E=x[M][1],Y=this.diff_commonOverlap_(z,E),q=this.diff_commonOverlap_(E,z);Y>=q?(Y>=z.length/2||Y>=E.length/2)&&(x.splice(M,0,new Ce.Diff(U,E.substring(0,Y))),x[M-1][1]=z.substring(0,z.length-Y),x[M+1][1]=E.substring(Y),M++):(q>=z.length/2||q>=E.length/2)&&(x.splice(M,0,new Ce.Diff(U,z.substring(0,q))),x[M-1][0]=O,x[M-1][1]=E.substring(0,E.length-q),x[M+1][0]=f,x[M+1][1]=z.substring(q),M++),M++}M++}},Ce.prototype.diff_cleanupSemanticLossless=function(x){function m(q,j){if(!q||!j)return 6;var le=q.charAt(q.length-1),ce=j.charAt(0),se=le.match(Ce.nonAlphaNumericRegex_),ne=ce.match(Ce.nonAlphaNumericRegex_),De=se&&le.match(Ce.whitespaceRegex_),we=ne&&ce.match(Ce.whitespaceRegex_),je=De&&le.match(Ce.linebreakRegex_),dt=we&&ce.match(Ce.linebreakRegex_),Qe=je&&q.match(Ce.blanklineEndRegex_),lt=dt&&j.match(Ce.blanklineStartRegex_);return Qe||lt?5:je||dt?4:se&&!De&&we?3:De||we?2:se||ne?1:0}for(var p=1;p<x.length-1;){if(x[p-1][0]==U&&x[p+1][0]==U){var d=x[p-1][1],v=x[p][1],M=x[p+1][1],D=this.diff_commonSuffix(d,v);if(D){var T=v.substring(v.length-D);d=d.substring(0,d.length-D),v=T+v.substring(0,v.length-D),M=T+M}for(var S=d,g=v,z=M,E=m(d,v)+m(v,M);v.charAt(0)===M.charAt(0);){d+=v.charAt(0),v=v.substring(1)+M.charAt(0),M=M.substring(1);var Y=m(d,v)+m(v,M);Y>=E&&(E=Y,S=d,g=v,z=M)}x[p-1][1]!=S&&(S?x[p-1][1]=S:(x.splice(p-1,1),p--),x[p][1]=g,z?x[p+1][1]=z:(x.splice(p+1,1),p--))}p++}},Ce.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,Ce.whitespaceRegex_=/\s/,Ce.linebreakRegex_=/[\r\n]/,Ce.blanklineEndRegex_=/\n\r?\n$/,Ce.blanklineStartRegex_=/^\r?\n\r?\n/,Ce.prototype.diff_cleanupEfficiency=function(x){for(var m=!1,p=[],d=0,v=null,M=0,D=!1,T=!1,S=!1,g=!1;M<x.length;)x[M][0]==U?(x[M][1].length<this.Diff_EditCost&&(S||g)?(p[d++]=M,D=S,T=g,v=x[M][1]):(d=0,v=null),S=g=!1):(x[M][0]==f?g=!0:S=!0,v&&(D&&T&&S&&g||v.length<this.Diff_EditCost/2&&D+T+S+g==3)&&(x.splice(p[d-1],0,new Ce.Diff(f,v)),x[p[d-1]+1][0]=O,d--,v=null,D&&T?(S=g=!0,d=0):(d--,M=d>0?p[d-1]:-1,S=g=!1),m=!0)),M++;m&&this.diff_cleanupMerge(x)},Ce.prototype.diff_cleanupMerge=function(x){x.push(new Ce.Diff(U,""));for(var m=0,p=0,d=0,v="",M="",D;m<x.length;)switch(x[m][0]){case O:d++,M+=x[m][1],m++;break;case f:p++,v+=x[m][1],m++;break;case U:p+d>1?(p!==0&&d!==0&&(D=this.diff_commonPrefix(M,v),D!==0&&(m-p-d>0&&x[m-p-d-1][0]==U?x[m-p-d-1][1]+=M.substring(0,D):(x.splice(0,0,new Ce.Diff(U,M.substring(0,D))),m++),M=M.substring(D),v=v.substring(D)),D=this.diff_commonSuffix(M,v),D!==0&&(x[m][1]=M.substring(M.length-D)+x[m][1],M=M.substring(0,M.length-D),v=v.substring(0,v.length-D))),m-=p+d,x.splice(m,p+d),v.length&&(x.splice(m,0,new Ce.Diff(f,v)),m++),M.length&&(x.splice(m,0,new Ce.Diff(O,M)),m++),m++):m!==0&&x[m-1][0]==U?(x[m-1][1]+=x[m][1],x.splice(m,1)):m++,d=0,p=0,v="",M="";break}x[x.length-1][1]===""&&x.pop();var T=!1;for(m=1;m<x.length-1;)x[m-1][0]==U&&x[m+1][0]==U&&(x[m][1].substring(x[m][1].length-x[m-1][1].length)==x[m-1][1]?(x[m][1]=x[m-1][1]+x[m][1].substring(0,x[m][1].length-x[m-1][1].length),x[m+1][1]=x[m-1][1]+x[m+1][1],x.splice(m-1,1),T=!0):x[m][1].substring(0,x[m+1][1].length)==x[m+1][1]&&(x[m-1][1]+=x[m+1][1],x[m][1]=x[m][1].substring(x[m+1][1].length)+x[m+1][1],x.splice(m+1,1),T=!0)),m++;T&&this.diff_cleanupMerge(x)},Ce.prototype.diff_xIndex=function(x,m){var p=0,d=0,v=0,M=0,D;for(D=0;D<x.length&&(x[D][0]!==O&&(p+=x[D][1].length),x[D][0]!==f&&(d+=x[D][1].length),!(p>m));D++)v=p,M=d;return x.length!=D&&x[D][0]===f?M:M+(m-v)},Ce.prototype.diff_prettyHtml=function(x){for(var m=[],p=/&/g,d=/</g,v=/>/g,M=/\n/g,D=0;D<x.length;D++){var T=x[D][0],S=x[D][1],g=S.replace(p,"&amp;").replace(d,"&lt;").replace(v,"&gt;").replace(M,"&para;<br>");switch(T){case O:m[D]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case f:m[D]='<del style="background:#ffe6e6;">'+g+"</del>";break;case U:m[D]="<span>"+g+"</span>";break}}return m.join("")},Ce.prototype.diff_text1=function(x){for(var m=[],p=0;p<x.length;p++)x[p][0]!==O&&(m[p]=x[p][1]);return m.join("")},Ce.prototype.diff_text2=function(x){for(var m=[],p=0;p<x.length;p++)x[p][0]!==f&&(m[p]=x[p][1]);return m.join("")},Ce.prototype.diff_levenshtein=function(x){for(var m=0,p=0,d=0,v=0;v<x.length;v++){var M=x[v][0],D=x[v][1];switch(M){case O:p+=D.length;break;case f:d+=D.length;break;case U:m+=Math.max(p,d),p=0,d=0;break}}return m+=Math.max(p,d),m},Ce.prototype.diff_toDelta=function(x){for(var m=[],p=0;p<x.length;p++)switch(x[p][0]){case O:m[p]="+"+encodeURI(x[p][1]);break;case f:m[p]="-"+x[p][1].length;break;case U:m[p]="="+x[p][1].length;break}return m.join("	").replace(/%20/g," ")},Ce.prototype.diff_fromDelta=function(x,m){for(var p=[],d=0,v=0,M=m.split(/\t/g),D=0;D<M.length;D++){var T=M[D].substring(1);switch(M[D].charAt(0)){case"+":try{p[d++]=new Ce.Diff(O,decodeURI(T))}catch(z){throw new Error("Illegal escape in diff_fromDelta: "+T)}break;case"-":case"=":var S=parseInt(T,10);if(isNaN(S)||S<0)throw new Error("Invalid number in diff_fromDelta: "+T);var g=x.substring(v,v+=S);M[D].charAt(0)=="="?p[d++]=new Ce.Diff(U,g):p[d++]=new Ce.Diff(f,g);break;default:if(M[D])throw new Error("Invalid diff operation in diff_fromDelta: "+M[D])}}if(v!=x.length)throw new Error("Delta length ("+v+") does not equal source text length ("+x.length+").");return p},Ce.prototype.match_main=function(x,m,p){if(x==null||m==null||p==null)throw new Error("Null input. (match_main)");return p=Math.max(0,Math.min(p,x.length)),x==m?0:x.length?x.substring(p,p+m.length)==m?p:this.match_bitap_(x,m,p):-1},Ce.prototype.match_bitap_=function(x,m,p){if(m.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var d=this.match_alphabet_(m),v=this;function M(we,je){var dt=we/m.length,Qe=Math.abs(p-je);return v.Match_Distance?dt+Qe/v.Match_Distance:Qe?1:dt}var D=this.Match_Threshold,T=x.indexOf(m,p);T!=-1&&(D=Math.min(M(0,T),D),T=x.lastIndexOf(m,p+m.length),T!=-1&&(D=Math.min(M(0,T),D)));var S=1<<m.length-1;T=-1;for(var g,z,E=m.length+x.length,Y,q=0;q<m.length;q++){for(g=0,z=E;g<z;)M(q,p+z)<=D?g=z:E=z,z=Math.floor((E-g)/2+g);E=z;var j=Math.max(1,p-z+1),le=Math.min(p+z,x.length)+m.length,ce=Array(le+2);ce[le+1]=(1<<q)-1;for(var se=le;se>=j;se--){var ne=d[x.charAt(se-1)];if(q===0?ce[se]=(ce[se+1]<<1|1)&ne:ce[se]=(ce[se+1]<<1|1)&ne|((Y[se+1]|Y[se])<<1|1)|Y[se+1],ce[se]&S){var De=M(q,se-1);if(De<=D)if(D=De,T=se-1,T>p)j=Math.max(1,2*p-T);else break}}if(M(q+1,p)>D)break;Y=ce}return T},Ce.prototype.match_alphabet_=function(x){for(var m={},p=0;p<x.length;p++)m[x.charAt(p)]=0;for(var p=0;p<x.length;p++)m[x.charAt(p)]|=1<<x.length-p-1;return m},Ce.prototype.patch_addContext_=function(x,m){if(m.length!=0){if(x.start2===null)throw Error("patch not initialized");for(var p=m.substring(x.start2,x.start2+x.length1),d=0;m.indexOf(p)!=m.lastIndexOf(p)&&p.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,p=m.substring(x.start2-d,x.start2+x.length1+d);d+=this.Patch_Margin;var v=m.substring(x.start2-d,x.start2);v&&x.diffs.unshift(new Ce.Diff(U,v));var M=m.substring(x.start2+x.length1,x.start2+x.length1+d);M&&x.diffs.push(new Ce.Diff(U,M)),x.start1-=v.length,x.start2-=v.length,x.length1+=v.length+M.length,x.length2+=v.length+M.length}},Ce.prototype.patch_make=function(x,m,p){var d,v;if(typeof x=="string"&&typeof m=="string"&&typeof p=="undefined")d=x,v=this.diff_main(d,m,!0),v.length>2&&(this.diff_cleanupSemantic(v),this.diff_cleanupEfficiency(v));else if(x&&typeof x=="object"&&typeof m=="undefined"&&typeof p=="undefined")v=x,d=this.diff_text1(v);else if(typeof x=="string"&&m&&typeof m=="object"&&typeof p=="undefined")d=x,v=m;else if(typeof x=="string"&&typeof m=="string"&&p&&typeof p=="object")d=x,v=p;else throw new Error("Unknown call format to patch_make.");if(v.length===0)return[];for(var M=[],D=new Ce.patch_obj,T=0,S=0,g=0,z=d,E=d,Y=0;Y<v.length;Y++){var q=v[Y][0],j=v[Y][1];switch(!T&&q!==U&&(D.start1=S,D.start2=g),q){case O:D.diffs[T++]=v[Y],D.length2+=j.length,E=E.substring(0,g)+j+E.substring(g);break;case f:D.length1+=j.length,D.diffs[T++]=v[Y],E=E.substring(0,g)+E.substring(g+j.length);break;case U:j.length<=2*this.Patch_Margin&&T&&v.length!=Y+1?(D.diffs[T++]=v[Y],D.length1+=j.length,D.length2+=j.length):j.length>=2*this.Patch_Margin&&T&&(this.patch_addContext_(D,z),M.push(D),D=new Ce.patch_obj,T=0,z=E,S=g);break}q!==O&&(S+=j.length),q!==f&&(g+=j.length)}return T&&(this.patch_addContext_(D,z),M.push(D)),M},Ce.prototype.patch_deepCopy=function(x){for(var m=[],p=0;p<x.length;p++){var d=x[p],v=new Ce.patch_obj;v.diffs=[];for(var M=0;M<d.diffs.length;M++)v.diffs[M]=new Ce.Diff(d.diffs[M][0],d.diffs[M][1]);v.start1=d.start1,v.start2=d.start2,v.length1=d.length1,v.length2=d.length2,m[p]=v}return m},Ce.prototype.patch_apply=function(x,m){if(x.length==0)return[m,[]];x=this.patch_deepCopy(x);var p=this.patch_addPadding(x);m=p+m+p,this.patch_splitMax(x);for(var d=0,v=[],M=0;M<x.length;M++){var D=x[M].start2+d,T=this.diff_text1(x[M].diffs),S,g=-1;if(T.length>this.Match_MaxBits?(S=this.match_main(m,T.substring(0,this.Match_MaxBits),D),S!=-1&&(g=this.match_main(m,T.substring(T.length-this.Match_MaxBits),D+T.length-this.Match_MaxBits),(g==-1||S>=g)&&(S=-1))):S=this.match_main(m,T,D),S==-1)v[M]=!1,d-=x[M].length2-x[M].length1;else{v[M]=!0,d=S-D;var z;if(g==-1?z=m.substring(S,S+T.length):z=m.substring(S,g+this.Match_MaxBits),T==z)m=m.substring(0,S)+this.diff_text2(x[M].diffs)+m.substring(S+T.length);else{var E=this.diff_main(T,z,!1);if(T.length>this.Match_MaxBits&&this.diff_levenshtein(E)/T.length>this.Patch_DeleteThreshold)v[M]=!1;else{this.diff_cleanupSemanticLossless(E);for(var Y=0,q,j=0;j<x[M].diffs.length;j++){var le=x[M].diffs[j];le[0]!==U&&(q=this.diff_xIndex(E,Y)),le[0]===O?m=m.substring(0,S+q)+le[1]+m.substring(S+q):le[0]===f&&(m=m.substring(0,S+q)+m.substring(S+this.diff_xIndex(E,Y+le[1].length))),le[0]!==f&&(Y+=le[1].length)}}}}}return m=m.substring(p.length,m.length-p.length),[m,v]},Ce.prototype.patch_addPadding=function(x){for(var m=this.Patch_Margin,p="",d=1;d<=m;d++)p+=String.fromCharCode(d);for(var d=0;d<x.length;d++)x[d].start1+=m,x[d].start2+=m;var v=x[0],M=v.diffs;if(M.length==0||M[0][0]!=U)M.unshift(new Ce.Diff(U,p)),v.start1-=m,v.start2-=m,v.length1+=m,v.length2+=m;else if(m>M[0][1].length){var D=m-M[0][1].length;M[0][1]=p.substring(M[0][1].length)+M[0][1],v.start1-=D,v.start2-=D,v.length1+=D,v.length2+=D}if(v=x[x.length-1],M=v.diffs,M.length==0||M[M.length-1][0]!=U)M.push(new Ce.Diff(U,p)),v.length1+=m,v.length2+=m;else if(m>M[M.length-1][1].length){var D=m-M[M.length-1][1].length;M[M.length-1][1]+=p.substring(0,D),v.length1+=D,v.length2+=D}return p},Ce.prototype.patch_splitMax=function(x){for(var m=this.Match_MaxBits,p=0;p<x.length;p++)if(!(x[p].length1<=m)){var d=x[p];x.splice(p--,1);for(var v=d.start1,M=d.start2,D="";d.diffs.length!==0;){var T=new Ce.patch_obj,S=!0;for(T.start1=v-D.length,T.start2=M-D.length,D!==""&&(T.length1=T.length2=D.length,T.diffs.push(new Ce.Diff(U,D)));d.diffs.length!==0&&T.length1<m-this.Patch_Margin;){var g=d.diffs[0][0],z=d.diffs[0][1];g===O?(T.length2+=z.length,M+=z.length,T.diffs.push(d.diffs.shift()),S=!1):g===f&&T.diffs.length==1&&T.diffs[0][0]==U&&z.length>2*m?(T.length1+=z.length,v+=z.length,S=!1,T.diffs.push(new Ce.Diff(g,z)),d.diffs.shift()):(z=z.substring(0,m-T.length1-this.Patch_Margin),T.length1+=z.length,v+=z.length,g===U?(T.length2+=z.length,M+=z.length):S=!1,T.diffs.push(new Ce.Diff(g,z)),z==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(z.length))}D=this.diff_text2(T.diffs),D=D.substring(D.length-this.Patch_Margin);var E=this.diff_text1(d.diffs).substring(0,this.Patch_Margin);E!==""&&(T.length1+=E.length,T.length2+=E.length,T.diffs.length!==0&&T.diffs[T.diffs.length-1][0]===U?T.diffs[T.diffs.length-1][1]+=E:T.diffs.push(new Ce.Diff(U,E))),S||x.splice(++p,0,T)}}},Ce.prototype.patch_toText=function(x){for(var m=[],p=0;p<x.length;p++)m[p]=x[p];return m.join("")},Ce.prototype.patch_fromText=function(x){var m=[];if(!x)return m;for(var p=x.split(`
`),d=0,v=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;d<p.length;){var M=p[d].match(v);if(!M)throw new Error("Invalid patch string: "+p[d]);var D=new Ce.patch_obj;for(m.push(D),D.start1=parseInt(M[1],10),M[2]===""?(D.start1--,D.length1=1):M[2]=="0"?D.length1=0:(D.start1--,D.length1=parseInt(M[2],10)),D.start2=parseInt(M[3],10),M[4]===""?(D.start2--,D.length2=1):M[4]=="0"?D.length2=0:(D.start2--,D.length2=parseInt(M[4],10)),d++;d<p.length;){var T=p[d].charAt(0);try{var S=decodeURI(p[d].substring(1))}catch(g){throw new Error("Illegal escape in patch_fromText: "+S)}if(T=="-")D.diffs.push(new Ce.Diff(f,S));else if(T=="+")D.diffs.push(new Ce.Diff(O,S));else if(T==" ")D.diffs.push(new Ce.Diff(U,S));else{if(T=="@")break;if(T!=="")throw new Error('Invalid patch mode "'+T+'" in: '+S)}d++}}return m},Ce.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},Ce.patch_obj.prototype.toString=function(){var x,m;this.length1===0?x=this.start1+",0":this.length1==1?x=this.start1+1:x=this.start1+1+","+this.length1,this.length2===0?m=this.start2+",0":this.length2==1?m=this.start2+1:m=this.start2+1+","+this.length2;for(var p=["@@ -"+x+" +"+m+` @@
`],d,v=0;v<this.diffs.length;v++){switch(this.diffs[v][0]){case O:d="+";break;case f:d="-";break;case U:d=" ";break}p[v+1]=d+encodeURI(this.diffs[v][1])+`
`}return p.join("").replace(/%20/g," ")},ut.exports=Ce,ut.exports.diff_match_patch=Ce,ut.exports.DIFF_DELETE=f,ut.exports.DIFF_INSERT=O,ut.exports.DIFF_EQUAL=U},33582:function(ut){(function(Ce,f){ut.exports=f()})(this,function(){"use strict";function Ce(yn){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Wt){return typeof Wt}:function(Wt){return Wt&&typeof Symbol=="function"&&Wt.constructor===Symbol&&Wt!==Symbol.prototype?"symbol":typeof Wt},Ce(yn)}function f(yn,Wt){return f=Object.setPrototypeOf||function(Nn,Cr){return Nn.__proto__=Cr,Nn},f(yn,Wt)}function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(yn){return!1}}function U(yn,Wt,xn){return O()?U=Reflect.construct:U=function(Cr,jr,ii){var xi=[null];xi.push.apply(xi,jr);var $i=Function.bind.apply(Cr,xi),_i=new $i;return ii&&f(_i,ii.prototype),_i},U.apply(null,arguments)}function x(yn){return m(yn)||p(yn)||d(yn)||M()}function m(yn){if(Array.isArray(yn))return v(yn)}function p(yn){if(typeof Symbol!="undefined"&&yn[Symbol.iterator]!=null||yn["@@iterator"]!=null)return Array.from(yn)}function d(yn,Wt){if(!!yn){if(typeof yn=="string")return v(yn,Wt);var xn=Object.prototype.toString.call(yn).slice(8,-1);if(xn==="Object"&&yn.constructor&&(xn=yn.constructor.name),xn==="Map"||xn==="Set")return Array.from(yn);if(xn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xn))return v(yn,Wt)}}function v(yn,Wt){(Wt==null||Wt>yn.length)&&(Wt=yn.length);for(var xn=0,Nn=new Array(Wt);xn<Wt;xn++)Nn[xn]=yn[xn];return Nn}function M(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=Object.hasOwnProperty,T=Object.setPrototypeOf,S=Object.isFrozen,g=Object.getPrototypeOf,z=Object.getOwnPropertyDescriptor,E=Object.freeze,Y=Object.seal,q=Object.create,j=typeof Reflect!="undefined"&&Reflect,le=j.apply,ce=j.construct;le||(le=function(Wt,xn,Nn){return Wt.apply(xn,Nn)}),E||(E=function(Wt){return Wt}),Y||(Y=function(Wt){return Wt}),ce||(ce=function(Wt,xn){return U(Wt,x(xn))});var se=fe(Array.prototype.forEach),ne=fe(Array.prototype.pop),De=fe(Array.prototype.push),we=fe(String.prototype.toLowerCase),je=fe(String.prototype.toString),dt=fe(String.prototype.match),Qe=fe(String.prototype.replace),lt=fe(String.prototype.indexOf),Te=fe(String.prototype.trim),Je=fe(RegExp.prototype.test),te=ue(TypeError);function fe(yn){return function(Wt){for(var xn=arguments.length,Nn=new Array(xn>1?xn-1:0),Cr=1;Cr<xn;Cr++)Nn[Cr-1]=arguments[Cr];return le(yn,Wt,Nn)}}function ue(yn){return function(){for(var Wt=arguments.length,xn=new Array(Wt),Nn=0;Nn<Wt;Nn++)xn[Nn]=arguments[Nn];return ce(yn,xn)}}function ae(yn,Wt,xn){xn=xn||we,T&&T(yn,null);for(var Nn=Wt.length;Nn--;){var Cr=Wt[Nn];if(typeof Cr=="string"){var jr=xn(Cr);jr!==Cr&&(S(Wt)||(Wt[Nn]=jr),Cr=jr)}yn[Cr]=!0}return yn}function de(yn){var Wt=q(null),xn;for(xn in yn)le(D,yn,[xn])===!0&&(Wt[xn]=yn[xn]);return Wt}function ve(yn,Wt){for(;yn!==null;){var xn=z(yn,Wt);if(xn){if(xn.get)return fe(xn.get);if(typeof xn.value=="function")return fe(xn.value)}yn=g(yn)}function Nn(Cr){return console.warn("fallback value for",Cr),null}return Nn}var J=E(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),X=E(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),K=E(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ze=E(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ze=E(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),We=E(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ye=E(["#text"]),Ie=E(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ue=E(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ye=E(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ae=E(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tt=Y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),it=Y(/<%[\w\W]*|[\w\W]*%>/gm),Ve=Y(/\${[\w\W]*}/gm),et=Y(/^data-[\-\w.\u00B7-\uFFFF]/),wt=Y(/^aria-[\-\w]+$/),jt=Y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),on=Y(/^(?:\w+script|data):/i),bn=Y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ft=Y(/^html$/i),Mt=function(){return typeof window=="undefined"?null:window},_t=function(Wt,xn){if(Ce(Wt)!=="object"||typeof Wt.createPolicy!="function")return null;var Nn=null,Cr="data-tt-policy-suffix";xn.currentScript&&xn.currentScript.hasAttribute(Cr)&&(Nn=xn.currentScript.getAttribute(Cr));var jr="dompurify"+(Nn?"#"+Nn:"");try{return Wt.createPolicy(jr,{createHTML:function(xi){return xi},createScriptURL:function(xi){return xi}})}catch(ii){return console.warn("TrustedTypes policy "+jr+" could not be created."),null}};function Jt(){var yn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt(),Wt=function(Wn){return Jt(Wn)};if(Wt.version="2.4.3",Wt.removed=[],!yn||!yn.document||yn.document.nodeType!==9)return Wt.isSupported=!1,Wt;var xn=yn.document,Nn=yn.document,Cr=yn.DocumentFragment,jr=yn.HTMLTemplateElement,ii=yn.Node,xi=yn.Element,$i=yn.NodeFilter,_i=yn.NamedNodeMap,Vr=_i===void 0?yn.NamedNodeMap||yn.MozNamedAttrMap:_i,Kr=yn.HTMLFormElement,Tr=yn.DOMParser,qt=yn.trustedTypes,Zt=xi.prototype,Ee=ve(Zt,"cloneNode"),pe=ve(Zt,"nextSibling"),oe=ve(Zt,"childNodes"),me=ve(Zt,"parentNode");if(typeof jr=="function"){var Pe=Nn.createElement("template");Pe.content&&Pe.content.ownerDocument&&(Nn=Pe.content.ownerDocument)}var nt=_t(qt,xn),ht=nt?nt.createHTML(""):"",vt=Nn,St=vt.implementation,It=vt.createNodeIterator,Kt=vt.createDocumentFragment,Tt=vt.getElementsByTagName,Lt=xn.importNode,Gt={};try{Gt=de(Nn).documentMode?Nn.documentMode:{}}catch(_a){}var Yt={};Wt.isSupported=typeof me=="function"&&St&&typeof St.createHTMLDocument!="undefined"&&Gt!==9;var Mn=tt,Dn=it,wn=Ve,mn=et,On=wt,Rn=on,Kn=bn,jn=jt,tr=null,cr=ae({},[].concat(x(J),x(X),x(K),x(Ze),x(ye))),ar=null,Zn=ae({},[].concat(x(Ie),x(Ue),x(Ye),x(Ae))),Un=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yi=null,gi=null,Xr=!0,Vn=!0,ci=!1,mi=!1,oi=!1,Ar=!1,Fr=!1,lr=!1,Hr=!1,He=!1,kt=!0,Pn=!1,En="user-content-",Qn=!0,Gn=!1,Li={},Yr=null,Bi=ae({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bi=null,Ma=ae({},["audio","video","img","source","image","track"]),Ya=null,Io=ae({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eo="http://www.w3.org/1998/Math/MathML",Do="http://www.w3.org/2000/svg",Ti="http://www.w3.org/1999/xhtml",sa=Ti,Vs=!1,El=null,Zl=ae({},[eo,Do,Ti],je),bo,vl=["application/xhtml+xml","text/html"],dc="text/html",As,Ol=null,vs=Nn.createElement("form"),Os=function(Wn){return Wn instanceof RegExp||Wn instanceof Function},Qs=function(Wn){Ol&&Ol===Wn||((!Wn||Ce(Wn)!=="object")&&(Wn={}),Wn=de(Wn),bo=vl.indexOf(Wn.PARSER_MEDIA_TYPE)===-1?bo=dc:bo=Wn.PARSER_MEDIA_TYPE,As=bo==="application/xhtml+xml"?je:we,tr="ALLOWED_TAGS"in Wn?ae({},Wn.ALLOWED_TAGS,As):cr,ar="ALLOWED_ATTR"in Wn?ae({},Wn.ALLOWED_ATTR,As):Zn,El="ALLOWED_NAMESPACES"in Wn?ae({},Wn.ALLOWED_NAMESPACES,je):Zl,Ya="ADD_URI_SAFE_ATTR"in Wn?ae(de(Io),Wn.ADD_URI_SAFE_ATTR,As):Io,bi="ADD_DATA_URI_TAGS"in Wn?ae(de(Ma),Wn.ADD_DATA_URI_TAGS,As):Ma,Yr="FORBID_CONTENTS"in Wn?ae({},Wn.FORBID_CONTENTS,As):Bi,yi="FORBID_TAGS"in Wn?ae({},Wn.FORBID_TAGS,As):{},gi="FORBID_ATTR"in Wn?ae({},Wn.FORBID_ATTR,As):{},Li="USE_PROFILES"in Wn?Wn.USE_PROFILES:!1,Xr=Wn.ALLOW_ARIA_ATTR!==!1,Vn=Wn.ALLOW_DATA_ATTR!==!1,ci=Wn.ALLOW_UNKNOWN_PROTOCOLS||!1,mi=Wn.SAFE_FOR_TEMPLATES||!1,oi=Wn.WHOLE_DOCUMENT||!1,lr=Wn.RETURN_DOM||!1,Hr=Wn.RETURN_DOM_FRAGMENT||!1,He=Wn.RETURN_TRUSTED_TYPE||!1,Fr=Wn.FORCE_BODY||!1,kt=Wn.SANITIZE_DOM!==!1,Pn=Wn.SANITIZE_NAMED_PROPS||!1,Qn=Wn.KEEP_CONTENT!==!1,Gn=Wn.IN_PLACE||!1,jn=Wn.ALLOWED_URI_REGEXP||jn,sa=Wn.NAMESPACE||Ti,Wn.CUSTOM_ELEMENT_HANDLING&&Os(Wn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Un.tagNameCheck=Wn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Wn.CUSTOM_ELEMENT_HANDLING&&Os(Wn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Un.attributeNameCheck=Wn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Wn.CUSTOM_ELEMENT_HANDLING&&typeof Wn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Un.allowCustomizedBuiltInElements=Wn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),mi&&(Vn=!1),Hr&&(lr=!0),Li&&(tr=ae({},x(ye)),ar=[],Li.html===!0&&(ae(tr,J),ae(ar,Ie)),Li.svg===!0&&(ae(tr,X),ae(ar,Ue),ae(ar,Ae)),Li.svgFilters===!0&&(ae(tr,K),ae(ar,Ue),ae(ar,Ae)),Li.mathMl===!0&&(ae(tr,Ze),ae(ar,Ye),ae(ar,Ae))),Wn.ADD_TAGS&&(tr===cr&&(tr=de(tr)),ae(tr,Wn.ADD_TAGS,As)),Wn.ADD_ATTR&&(ar===Zn&&(ar=de(ar)),ae(ar,Wn.ADD_ATTR,As)),Wn.ADD_URI_SAFE_ATTR&&ae(Ya,Wn.ADD_URI_SAFE_ATTR,As),Wn.FORBID_CONTENTS&&(Yr===Bi&&(Yr=de(Yr)),ae(Yr,Wn.FORBID_CONTENTS,As)),Qn&&(tr["#text"]=!0),oi&&ae(tr,["html","head","body"]),tr.table&&(ae(tr,["tbody"]),delete yi.tbody),E&&E(Wn),Ol=Wn)},Js=ae({},["mi","mo","mn","ms","mtext"]),nn=ae({},["foreignobject","desc","title","annotation-xml"]),Ku=ae({},["title","style","font","a","script"]),al=ae({},X);ae(al,K),ae(al,ze);var Lo=ae({},Ze);ae(Lo,We);var zl=function(Wn){var Di=me(Wn);(!Di||!Di.tagName)&&(Di={namespaceURI:sa,tagName:"template"});var Hi=we(Wn.tagName),Ca=we(Di.tagName);return El[Wn.namespaceURI]?Wn.namespaceURI===Do?Di.namespaceURI===Ti?Hi==="svg":Di.namespaceURI===eo?Hi==="svg"&&(Ca==="annotation-xml"||Js[Ca]):Boolean(al[Hi]):Wn.namespaceURI===eo?Di.namespaceURI===Ti?Hi==="math":Di.namespaceURI===Do?Hi==="math"&&nn[Ca]:Boolean(Lo[Hi]):Wn.namespaceURI===Ti?Di.namespaceURI===Do&&!nn[Ca]||Di.namespaceURI===eo&&!Js[Ca]?!1:!Lo[Hi]&&(Ku[Hi]||!al[Hi]):!!(bo==="application/xhtml+xml"&&El[Wn.namespaceURI]):!1},Po=function(Wn){De(Wt.removed,{element:Wn});try{Wn.parentNode.removeChild(Wn)}catch(Di){try{Wn.outerHTML=ht}catch(Hi){Wn.remove()}}},Ec=function(Wn,Di){try{De(Wt.removed,{attribute:Di.getAttributeNode(Wn),from:Di})}catch(Hi){De(Wt.removed,{attribute:null,from:Di})}if(Di.removeAttribute(Wn),Wn==="is"&&!ar[Wn])if(lr||Hr)try{Po(Di)}catch(Hi){}else try{Di.setAttribute(Wn,"")}catch(Hi){}},Ys=function(Wn){var Di,Hi;if(Fr)Wn="<remove></remove>"+Wn;else{var Ca=dt(Wn,/^[\r\n\t ]+/);Hi=Ca&&Ca[0]}bo==="application/xhtml+xml"&&sa===Ti&&(Wn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Wn+"</body></html>");var Qr=nt?nt.createHTML(Wn):Wn;if(sa===Ti)try{Di=new Tr().parseFromString(Qr,bo)}catch(ko){}if(!Di||!Di.documentElement){Di=St.createDocument(sa,"template",null);try{Di.documentElement.innerHTML=Vs?ht:Qr}catch(ko){}}var yo=Di.body||Di.documentElement;return Wn&&Hi&&yo.insertBefore(Nn.createTextNode(Hi),yo.childNodes[0]||null),sa===Ti?Tt.call(Di,oi?"html":"body")[0]:oi?Di.documentElement:yo},Rc=function(Wn){return It.call(Wn.ownerDocument||Wn,Wn,$i.SHOW_ELEMENT|$i.SHOW_COMMENT|$i.SHOW_TEXT,null,!1)},Cu=function(Wn){return Wn instanceof Kr&&(typeof Wn.nodeName!="string"||typeof Wn.textContent!="string"||typeof Wn.removeChild!="function"||!(Wn.attributes instanceof Vr)||typeof Wn.removeAttribute!="function"||typeof Wn.setAttribute!="function"||typeof Wn.namespaceURI!="string"||typeof Wn.insertBefore!="function"||typeof Wn.hasChildNodes!="function")},Wl=function(Wn){return Ce(ii)==="object"?Wn instanceof ii:Wn&&Ce(Wn)==="object"&&typeof Wn.nodeType=="number"&&typeof Wn.nodeName=="string"},ol=function(Wn,Di,Hi){!Yt[Wn]||se(Yt[Wn],function(Ca){Ca.call(Wt,Di,Hi,Ol)})},pu=function(Wn){var Di;if(ol("beforeSanitizeElements",Wn,null),Cu(Wn)||Je(/[\u0080-\uFFFF]/,Wn.nodeName))return Po(Wn),!0;var Hi=As(Wn.nodeName);if(ol("uponSanitizeElement",Wn,{tagName:Hi,allowedTags:tr}),Wn.hasChildNodes()&&!Wl(Wn.firstElementChild)&&(!Wl(Wn.content)||!Wl(Wn.content.firstElementChild))&&Je(/<[/\w]/g,Wn.innerHTML)&&Je(/<[/\w]/g,Wn.textContent)||Hi==="select"&&Je(/<template/i,Wn.innerHTML))return Po(Wn),!0;if(!tr[Hi]||yi[Hi]){if(!yi[Hi]&&Ul(Hi)&&(Un.tagNameCheck instanceof RegExp&&Je(Un.tagNameCheck,Hi)||Un.tagNameCheck instanceof Function&&Un.tagNameCheck(Hi)))return!1;if(Qn&&!Yr[Hi]){var Ca=me(Wn)||Wn.parentNode,Qr=oe(Wn)||Wn.childNodes;if(Qr&&Ca)for(var yo=Qr.length,ko=yo-1;ko>=0;--ko)Ca.insertBefore(Ee(Qr[ko],!0),pe(Wn))}return Po(Wn),!0}return Wn instanceof xi&&!zl(Wn)||(Hi==="noscript"||Hi==="noembed")&&Je(/<\/no(script|embed)/i,Wn.innerHTML)?(Po(Wn),!0):(mi&&Wn.nodeType===3&&(Di=Wn.textContent,Di=Qe(Di,Mn," "),Di=Qe(Di,Dn," "),Di=Qe(Di,wn," "),Wn.textContent!==Di&&(De(Wt.removed,{element:Wn.cloneNode()}),Wn.textContent=Di)),ol("afterSanitizeElements",Wn,null),!1)},Pc=function(Wn,Di,Hi){if(kt&&(Di==="id"||Di==="name")&&(Hi in Nn||Hi in vs))return!1;if(!(Vn&&!gi[Di]&&Je(mn,Di))){if(!(Xr&&Je(On,Di))){if(!ar[Di]||gi[Di]){if(!(Ul(Wn)&&(Un.tagNameCheck instanceof RegExp&&Je(Un.tagNameCheck,Wn)||Un.tagNameCheck instanceof Function&&Un.tagNameCheck(Wn))&&(Un.attributeNameCheck instanceof RegExp&&Je(Un.attributeNameCheck,Di)||Un.attributeNameCheck instanceof Function&&Un.attributeNameCheck(Di))||Di==="is"&&Un.allowCustomizedBuiltInElements&&(Un.tagNameCheck instanceof RegExp&&Je(Un.tagNameCheck,Hi)||Un.tagNameCheck instanceof Function&&Un.tagNameCheck(Hi))))return!1}else if(!Ya[Di]){if(!Je(jn,Qe(Hi,Kn,""))){if(!((Di==="src"||Di==="xlink:href"||Di==="href")&&Wn!=="script"&&lt(Hi,"data:")===0&&bi[Wn])){if(!(ci&&!Je(Rn,Qe(Hi,Kn,"")))){if(Hi)return!1}}}}}}return!0},Ul=function(Wn){return Wn.indexOf("-")>0},Bc=function(Wn){var Di,Hi,Ca,Qr;ol("beforeSanitizeAttributes",Wn,null);var yo=Wn.attributes;if(!!yo){var ko={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ar};for(Qr=yo.length;Qr--;){Di=yo[Qr];var Da=Di,Uo=Da.name,Fs=Da.namespaceURI;if(Hi=Uo==="value"?Di.value:Te(Di.value),Ca=As(Uo),ko.attrName=Ca,ko.attrValue=Hi,ko.keepAttr=!0,ko.forceKeepAttr=void 0,ol("uponSanitizeAttribute",Wn,ko),Hi=ko.attrValue,!ko.forceKeepAttr&&(Ec(Uo,Wn),!!ko.keepAttr)){if(Je(/\/>/i,Hi)){Ec(Uo,Wn);continue}mi&&(Hi=Qe(Hi,Mn," "),Hi=Qe(Hi,Dn," "),Hi=Qe(Hi,wn," "));var gs=As(Wn.nodeName);if(!!Pc(gs,Ca,Hi)){if(Pn&&(Ca==="id"||Ca==="name")&&(Ec(Uo,Wn),Hi=En+Hi),nt&&Ce(qt)==="object"&&typeof qt.getAttributeType=="function"&&!Fs)switch(qt.getAttributeType(gs,Ca)){case"TrustedHTML":Hi=nt.createHTML(Hi);break;case"TrustedScriptURL":Hi=nt.createScriptURL(Hi);break}try{Fs?Wn.setAttributeNS(Fs,Uo,Hi):Wn.setAttribute(Uo,Hi),ne(Wt.removed)}catch(Cl){}}}}ol("afterSanitizeAttributes",Wn,null)}},Nl=function _a(Wn){var Di,Hi=Rc(Wn);for(ol("beforeSanitizeShadowDOM",Wn,null);Di=Hi.nextNode();)ol("uponSanitizeShadowNode",Di,null),!pu(Di)&&(Di.content instanceof Cr&&_a(Di.content),Bc(Di));ol("afterSanitizeShadowDOM",Wn,null)};return Wt.sanitize=function(_a){var Wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Di,Hi,Ca,Qr,yo;if(Vs=!_a,Vs&&(_a="<!-->"),typeof _a!="string"&&!Wl(_a)){if(typeof _a.toString!="function")throw te("toString is not a function");if(_a=_a.toString(),typeof _a!="string")throw te("dirty is not a string, aborting")}if(!Wt.isSupported){if(Ce(yn.toStaticHTML)==="object"||typeof yn.toStaticHTML=="function"){if(typeof _a=="string")return yn.toStaticHTML(_a);if(Wl(_a))return yn.toStaticHTML(_a.outerHTML)}return _a}if(Ar||Qs(Wn),Wt.removed=[],typeof _a=="string"&&(Gn=!1),Gn){if(_a.nodeName){var ko=As(_a.nodeName);if(!tr[ko]||yi[ko])throw te("root node is forbidden and cannot be sanitized in-place")}}else if(_a instanceof ii)Di=Ys("<!---->"),Hi=Di.ownerDocument.importNode(_a,!0),Hi.nodeType===1&&Hi.nodeName==="BODY"||Hi.nodeName==="HTML"?Di=Hi:Di.appendChild(Hi);else{if(!lr&&!mi&&!oi&&_a.indexOf("<")===-1)return nt&&He?nt.createHTML(_a):_a;if(Di=Ys(_a),!Di)return lr?null:He?ht:""}Di&&Fr&&Po(Di.firstChild);for(var Da=Rc(Gn?_a:Di);Ca=Da.nextNode();)Ca.nodeType===3&&Ca===Qr||pu(Ca)||(Ca.content instanceof Cr&&Nl(Ca.content),Bc(Ca),Qr=Ca);if(Qr=null,Gn)return _a;if(lr){if(Hr)for(yo=Kt.call(Di.ownerDocument);Di.firstChild;)yo.appendChild(Di.firstChild);else yo=Di;return ar.shadowroot&&(yo=Lt.call(xn,yo,!0)),yo}var Uo=oi?Di.outerHTML:Di.innerHTML;return oi&&tr["!doctype"]&&Di.ownerDocument&&Di.ownerDocument.doctype&&Di.ownerDocument.doctype.name&&Je(Ft,Di.ownerDocument.doctype.name)&&(Uo="<!DOCTYPE "+Di.ownerDocument.doctype.name+`>
`+Uo),mi&&(Uo=Qe(Uo,Mn," "),Uo=Qe(Uo,Dn," "),Uo=Qe(Uo,wn," ")),nt&&He?nt.createHTML(Uo):Uo},Wt.setConfig=function(_a){Qs(_a),Ar=!0},Wt.clearConfig=function(){Ol=null,Ar=!1},Wt.isValidAttribute=function(_a,Wn,Di){Ol||Qs({});var Hi=As(_a),Ca=As(Wn);return Pc(Hi,Ca,Di)},Wt.addHook=function(_a,Wn){typeof Wn=="function"&&(Yt[_a]=Yt[_a]||[],De(Yt[_a],Wn))},Wt.removeHook=function(_a){if(Yt[_a])return ne(Yt[_a])},Wt.removeHooks=function(_a){Yt[_a]&&(Yt[_a]=[])},Wt.removeAllHooks=function(){Yt={}},Wt}var Me=Jt();return Me})},25328:function(ut,Ce,f){var O=f(14224),U;(function(x){var m=Object.hasOwnProperty,p=Array.isArray?Array.isArray:function(X){return Object.prototype.toString.call(X)==="[object Array]"},d=10,v=typeof O=="object"&&typeof O.nextTick=="function",M=typeof Symbol=="function",D=typeof Reflect=="object",T=typeof setImmediate=="function",S=T?setImmediate:setTimeout,g=M?D&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(J){var X=Object.getOwnPropertyNames(J);return X.push.apply(X,Object.getOwnPropertySymbols(J)),X}:Object.keys;function z(){this._events={},this._conf&&E.call(this,this._conf)}function E(J){J&&(this._conf=J,J.delimiter&&(this.delimiter=J.delimiter),J.maxListeners!==x&&(this._maxListeners=J.maxListeners),J.wildcard&&(this.wildcard=J.wildcard),J.newListener&&(this._newListener=J.newListener),J.removeListener&&(this._removeListener=J.removeListener),J.verboseMemoryLeak&&(this.verboseMemoryLeak=J.verboseMemoryLeak),J.ignoreErrors&&(this.ignoreErrors=J.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function Y(J,X){var K="(node) warning: possible EventEmitter memory leak detected. "+J+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(K+=" Event name: "+X+"."),typeof O!="undefined"&&O.emitWarning){var ze=new Error(K);ze.name="MaxListenersExceededWarning",ze.emitter=this,ze.count=J,O.emitWarning(ze)}else console.error(K),console.trace&&console.trace()}var q=function(J,X,K){var ze=arguments.length;switch(ze){case 0:return[];case 1:return[J];case 2:return[J,X];case 3:return[J,X,K];default:for(var Ze=new Array(ze);ze--;)Ze[ze]=arguments[ze];return Ze}};function j(J,X){for(var K={},ze,Ze=J.length,We=X?X.length:0,ye=0;ye<Ze;ye++)ze=J[ye],K[ze]=ye<We?X[ye]:x;return K}function le(J,X,K){this._emitter=J,this._target=X,this._listeners={},this._listenersCount=0;var ze,Ze;if((K.on||K.off)&&(ze=K.on,Ze=K.off),X.addEventListener?(ze=X.addEventListener,Ze=X.removeEventListener):X.addListener?(ze=X.addListener,Ze=X.removeListener):X.on&&(ze=X.on,Ze=X.off),!ze&&!Ze)throw Error("target does not implement any known event API");if(typeof ze!="function")throw TypeError("on method must be a function");if(typeof Ze!="function")throw TypeError("off method must be a function");this._on=ze,this._off=Ze;var We=J._observers;We?We.push(this):J._observers=[this]}Object.assign(le.prototype,{subscribe:function(J,X,K){var ze=this,Ze=this._target,We=this._emitter,ye=this._listeners,Ie=function(){var Ue=q.apply(null,arguments),Ye={data:Ue,name:X,original:J};if(K){var Ae=K.call(Ze,Ye);Ae!==!1&&We.emit.apply(We,[Ye.name].concat(Ue));return}We.emit.apply(We,[X].concat(Ue))};if(ye[J])throw Error("Event '"+J+"' is already listening");this._listenersCount++,We._newListener&&We._removeListener&&!ze._onNewListener?(this._onNewListener=function(Ue){Ue===X&&ye[J]===null&&(ye[J]=Ie,ze._on.call(Ze,J,Ie))},We.on("newListener",this._onNewListener),this._onRemoveListener=function(Ue){Ue===X&&!We.hasListeners(Ue)&&ye[J]&&(ye[J]=null,ze._off.call(Ze,J,Ie))},ye[J]=null,We.on("removeListener",this._onRemoveListener)):(ye[J]=Ie,ze._on.call(Ze,J,Ie))},unsubscribe:function(J){var X=this,K=this._listeners,ze=this._emitter,Ze,We,ye=this._off,Ie=this._target,Ue;if(J&&typeof J!="string")throw TypeError("event must be a string");function Ye(){X._onNewListener&&(ze.off("newListener",X._onNewListener),ze.off("removeListener",X._onRemoveListener),X._onNewListener=null,X._onRemoveListener=null);var Ae=dt.call(ze,X);ze._observers.splice(Ae,1)}if(J){if(Ze=K[J],!Ze)return;ye.call(Ie,J,Ze),delete K[J],--this._listenersCount||Ye()}else{for(We=g(K),Ue=We.length;Ue-- >0;)J=We[Ue],ye.call(Ie,J,K[J]);this._listeners={},this._listenersCount=0,Ye()}}});function ce(J,X,K,ze){var Ze=Object.assign({},X);if(!J)return Ze;if(typeof J!="object")throw TypeError("options must be an object");var We=Object.keys(J),ye=We.length,Ie,Ue,Ye;function Ae(it){throw Error('Invalid "'+Ie+'" option value'+(it?". Reason: "+it:""))}for(var tt=0;tt<ye;tt++){if(Ie=We[tt],!ze&&!m.call(X,Ie))throw Error('Unknown "'+Ie+'" option');Ue=J[Ie],Ue!==x&&(Ye=K[Ie],Ze[Ie]=Ye?Ye(Ue,Ae):Ue)}return Ze}function se(J,X){return(typeof J!="function"||!J.hasOwnProperty("prototype"))&&X("value must be a constructor"),J}function ne(J){var X="value must be type of "+J.join("|"),K=J.length,ze=J[0],Ze=J[1];return K===1?function(We,ye){if(typeof We===ze)return We;ye(X)}:K===2?function(We,ye){var Ie=typeof We;if(Ie===ze||Ie===Ze)return We;ye(X)}:function(We,ye){for(var Ie=typeof We,Ue=K;Ue-- >0;)if(Ie===J[Ue])return We;ye(X)}}var De=ne(["function"]),we=ne(["object","function"]);function je(J,X,K){var ze,Ze,We=0,ye,Ie=new J(function(Ue,Ye,Ae){K=ce(K,{timeout:0,overload:!1},{timeout:function(et,wt){return et*=1,(typeof et!="number"||et<0||!Number.isFinite(et))&&wt("timeout must be a positive number"),et}}),ze=!K.overload&&typeof J.prototype.cancel=="function"&&typeof Ae=="function";function tt(){Ze&&(Ze=null),We&&(clearTimeout(We),We=0)}var it=function(et){tt(),Ue(et)},Ve=function(et){tt(),Ye(et)};ze?X(it,Ve,Ae):(Ze=[function(et){Ve(et||Error("canceled"))}],X(it,Ve,function(et){if(ye)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof et!="function")throw TypeError("onCancel callback must be a function");Ze.push(et)}),ye=!0),K.timeout>0&&(We=setTimeout(function(){var et=Error("timeout");et.code="ETIMEDOUT",We=0,Ie.cancel(et),Ye(et)},K.timeout))});return ze||(Ie.cancel=function(Ue){if(!!Ze){for(var Ye=Ze.length,Ae=1;Ae<Ye;Ae++)Ze[Ae](Ue);Ze[0](Ue),Ze=null}}),Ie}function dt(J){var X=this._observers;if(!X)return-1;for(var K=X.length,ze=0;ze<K;ze++)if(X[ze]._target===J)return ze;return-1}function Qe(J,X,K,ze,Ze){if(!K)return null;if(ze===0){var We=typeof X;if(We==="string"){var ye,Ie,Ue=0,Ye=0,Ae=this.delimiter,tt=Ae.length;if((Ie=X.indexOf(Ae))!==-1){ye=new Array(5);do ye[Ue++]=X.slice(Ye,Ie),Ye=Ie+tt;while((Ie=X.indexOf(Ae,Ye))!==-1);ye[Ue++]=X.slice(Ye),X=ye,Ze=Ue}else X=[X],Ze=1}else We==="object"?Ze=X.length:(X=[X],Ze=1)}var it=null,Ve,et,wt,jt,on,bn=X[ze],Ft=X[ze+1],Mt,_t;if(ze===Ze)K._listeners&&(typeof K._listeners=="function"?(J&&J.push(K._listeners),it=[K]):(J&&J.push.apply(J,K._listeners),it=[K]));else if(bn==="*"){for(Mt=g(K),Ie=Mt.length;Ie-- >0;)Ve=Mt[Ie],Ve!=="_listeners"&&(_t=Qe(J,X,K[Ve],ze+1,Ze),_t&&(it?it.push.apply(it,_t):it=_t));return it}else if(bn==="**"){for(on=ze+1===Ze||ze+2===Ze&&Ft==="*",on&&K._listeners&&(it=Qe(J,X,K,Ze,Ze)),Mt=g(K),Ie=Mt.length;Ie-- >0;)Ve=Mt[Ie],Ve!=="_listeners"&&(Ve==="*"||Ve==="**"?(K[Ve]._listeners&&!on&&(_t=Qe(J,X,K[Ve],Ze,Ze),_t&&(it?it.push.apply(it,_t):it=_t)),_t=Qe(J,X,K[Ve],ze,Ze)):Ve===Ft?_t=Qe(J,X,K[Ve],ze+2,Ze):_t=Qe(J,X,K[Ve],ze,Ze),_t&&(it?it.push.apply(it,_t):it=_t));return it}else K[bn]&&(it=Qe(J,X,K[bn],ze+1,Ze));if(et=K["*"],et&&Qe(J,X,et,ze+1,Ze),wt=K["**"],wt)if(ze<Ze)for(wt._listeners&&Qe(J,X,wt,Ze,Ze),Mt=g(wt),Ie=Mt.length;Ie-- >0;)Ve=Mt[Ie],Ve!=="_listeners"&&(Ve===Ft?Qe(J,X,wt[Ve],ze+2,Ze):Ve===bn?Qe(J,X,wt[Ve],ze+1,Ze):(jt={},jt[Ve]=wt[Ve],Qe(J,X,{"**":jt},ze+1,Ze)));else wt._listeners?Qe(J,X,wt,Ze,Ze):wt["*"]&&wt["*"]._listeners&&Qe(J,X,wt["*"],Ze,Ze);return it}function lt(J,X,K){var ze=0,Ze=0,We,ye=this.delimiter,Ie=ye.length,Ue;if(typeof J=="string")if((We=J.indexOf(ye))!==-1){Ue=new Array(5);do Ue[ze++]=J.slice(Ze,We),Ze=We+Ie;while((We=J.indexOf(ye,Ze))!==-1);Ue[ze++]=J.slice(Ze)}else Ue=[J],ze=1;else Ue=J,ze=J.length;if(ze>1){for(We=0;We+1<ze;We++)if(Ue[We]==="**"&&Ue[We+1]==="**")return}var Ye=this.listenerTree,Ae;for(We=0;We<ze;We++)if(Ae=Ue[We],Ye=Ye[Ae]||(Ye[Ae]={}),We===ze-1)return Ye._listeners?(typeof Ye._listeners=="function"&&(Ye._listeners=[Ye._listeners]),K?Ye._listeners.unshift(X):Ye._listeners.push(X),!Ye._listeners.warned&&this._maxListeners>0&&Ye._listeners.length>this._maxListeners&&(Ye._listeners.warned=!0,Y.call(this,Ye._listeners.length,Ae))):Ye._listeners=X,!0;return!0}function Te(J,X,K,ze){for(var Ze=g(J),We=Ze.length,ye,Ie,Ue,Ye=J._listeners,Ae;We-- >0;)Ie=Ze[We],ye=J[Ie],Ie==="_listeners"?Ue=K:Ue=K?K.concat(Ie):[Ie],Ae=ze||typeof Ie=="symbol",Ye&&X.push(Ae?Ue:Ue.join(this.delimiter)),typeof ye=="object"&&Te.call(this,ye,X,Ue,Ae);return X}function Je(J){for(var X=g(J),K=X.length,ze,Ze,We;K-- >0;)Ze=X[K],ze=J[Ze],ze&&(We=!0,Ze!=="_listeners"&&!Je(ze)&&delete J[Ze]);return We}function te(J,X,K){this.emitter=J,this.event=X,this.listener=K}te.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function fe(J,X,K){if(K===!0)Ze=!0;else if(K===!1)ze=!0;else{if(!K||typeof K!="object")throw TypeError("options should be an object or true");var ze=K.async,Ze=K.promisify,We=K.nextTick,ye=K.objectify}if(ze||We||Ze){var Ie=X,Ue=X._origin||X;if(We&&!v)throw Error("process.nextTick is not supported");Ze===x&&(Ze=X.constructor.name==="AsyncFunction"),X=function(){var Ye=arguments,Ae=this,tt=this.event;return Ze?We?Promise.resolve():new Promise(function(it){S(it)}).then(function(){return Ae.event=tt,Ie.apply(Ae,Ye)}):(We?O.nextTick:S)(function(){Ae.event=tt,Ie.apply(Ae,Ye)})},X._async=!0,X._origin=Ue}return[X,ye?new te(this,J,X):this]}function ue(J){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,E.call(this,J)}ue.EventEmitter2=ue,ue.prototype.listenTo=function(J,X,K){if(typeof J!="object")throw TypeError("target musts be an object");var ze=this;K=ce(K,{on:x,off:x,reducers:x},{on:De,off:De,reducers:we});function Ze(We){if(typeof We!="object")throw TypeError("events must be an object");var ye=K.reducers,Ie=dt.call(ze,J),Ue;Ie===-1?Ue=new le(ze,J,K):Ue=ze._observers[Ie];for(var Ye=g(We),Ae=Ye.length,tt,it=typeof ye=="function",Ve=0;Ve<Ae;Ve++)tt=Ye[Ve],Ue.subscribe(tt,We[tt]||tt,it?ye:ye&&ye[tt])}return p(X)?Ze(j(X)):Ze(typeof X=="string"?j(X.split(/\s+/)):X),this},ue.prototype.stopListeningTo=function(J,X){var K=this._observers;if(!K)return!1;var ze=K.length,Ze,We=!1;if(J&&typeof J!="object")throw TypeError("target should be an object");for(;ze-- >0;)Ze=K[ze],(!J||Ze._target===J)&&(Ze.unsubscribe(X),We=!0);return We},ue.prototype.delimiter=".",ue.prototype.setMaxListeners=function(J){J!==x&&(this._maxListeners=J,this._conf||(this._conf={}),this._conf.maxListeners=J)},ue.prototype.getMaxListeners=function(){return this._maxListeners},ue.prototype.event="",ue.prototype.once=function(J,X,K){return this._once(J,X,!1,K)},ue.prototype.prependOnceListener=function(J,X,K){return this._once(J,X,!0,K)},ue.prototype._once=function(J,X,K,ze){return this._many(J,1,X,K,ze)},ue.prototype.many=function(J,X,K,ze){return this._many(J,X,K,!1,ze)},ue.prototype.prependMany=function(J,X,K,ze){return this._many(J,X,K,!0,ze)},ue.prototype._many=function(J,X,K,ze,Ze){var We=this;if(typeof K!="function")throw new Error("many only accepts instances of Function");function ye(){return--X===0&&We.off(J,ye),K.apply(this,arguments)}return ye._origin=K,this._on(J,ye,ze,Ze)},ue.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||z.call(this);var J=arguments[0],X,K=this.wildcard,ze,Ze,We,ye,Ie;if(J==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(K&&(X=J,J!=="newListener"&&J!=="removeListener"&&typeof J=="object")){if(Ze=J.length,M){for(We=0;We<Ze;We++)if(typeof J[We]=="symbol"){Ie=!0;break}}Ie||(J=J.join(this.delimiter))}var Ue=arguments.length,Ye;if(this._all&&this._all.length)for(Ye=this._all.slice(),We=0,Ze=Ye.length;We<Ze;We++)switch(this.event=J,Ue){case 1:Ye[We].call(this,J);break;case 2:Ye[We].call(this,J,arguments[1]);break;case 3:Ye[We].call(this,J,arguments[1],arguments[2]);break;default:Ye[We].apply(this,arguments)}if(K)Ye=[],Qe.call(this,Ye,X,this.listenerTree,0,Ze);else if(Ye=this._events[J],typeof Ye=="function"){switch(this.event=J,Ue){case 1:Ye.call(this);break;case 2:Ye.call(this,arguments[1]);break;case 3:Ye.call(this,arguments[1],arguments[2]);break;default:for(ze=new Array(Ue-1),ye=1;ye<Ue;ye++)ze[ye-1]=arguments[ye];Ye.apply(this,ze)}return!0}else Ye&&(Ye=Ye.slice());if(Ye&&Ye.length){if(Ue>3)for(ze=new Array(Ue-1),ye=1;ye<Ue;ye++)ze[ye-1]=arguments[ye];for(We=0,Ze=Ye.length;We<Ze;We++)switch(this.event=J,Ue){case 1:Ye[We].call(this);break;case 2:Ye[We].call(this,arguments[1]);break;case 3:Ye[We].call(this,arguments[1],arguments[2]);break;default:Ye[We].apply(this,ze)}return!0}else if(!this.ignoreErrors&&!this._all&&J==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},ue.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||z.call(this);var J=arguments[0],X=this.wildcard,K,ze,Ze,We,ye,Ie;if(J==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(X&&(K=J,J!=="newListener"&&J!=="removeListener"&&typeof J=="object")){if(We=J.length,M){for(ye=0;ye<We;ye++)if(typeof J[ye]=="symbol"){ze=!0;break}}ze||(J=J.join(this.delimiter))}var Ue=[],Ye=arguments.length,Ae;if(this._all)for(ye=0,We=this._all.length;ye<We;ye++)switch(this.event=J,Ye){case 1:Ue.push(this._all[ye].call(this,J));break;case 2:Ue.push(this._all[ye].call(this,J,arguments[1]));break;case 3:Ue.push(this._all[ye].call(this,J,arguments[1],arguments[2]));break;default:Ue.push(this._all[ye].apply(this,arguments))}if(X?(Ae=[],Qe.call(this,Ae,K,this.listenerTree,0)):Ae=this._events[J],typeof Ae=="function")switch(this.event=J,Ye){case 1:Ue.push(Ae.call(this));break;case 2:Ue.push(Ae.call(this,arguments[1]));break;case 3:Ue.push(Ae.call(this,arguments[1],arguments[2]));break;default:for(Ze=new Array(Ye-1),Ie=1;Ie<Ye;Ie++)Ze[Ie-1]=arguments[Ie];Ue.push(Ae.apply(this,Ze))}else if(Ae&&Ae.length){if(Ae=Ae.slice(),Ye>3)for(Ze=new Array(Ye-1),Ie=1;Ie<Ye;Ie++)Ze[Ie-1]=arguments[Ie];for(ye=0,We=Ae.length;ye<We;ye++)switch(this.event=J,Ye){case 1:Ue.push(Ae[ye].call(this));break;case 2:Ue.push(Ae[ye].call(this,arguments[1]));break;case 3:Ue.push(Ae[ye].call(this,arguments[1],arguments[2]));break;default:Ue.push(Ae[ye].apply(this,Ze))}}else if(!this.ignoreErrors&&!this._all&&J==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(Ue)},ue.prototype.on=function(J,X,K){return this._on(J,X,!1,K)},ue.prototype.prependListener=function(J,X,K){return this._on(J,X,!0,K)},ue.prototype.onAny=function(J){return this._onAny(J,!1)},ue.prototype.prependAny=function(J){return this._onAny(J,!0)},ue.prototype.addListener=ue.prototype.on,ue.prototype._onAny=function(J,X){if(typeof J!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),X?this._all.unshift(J):this._all.push(J),this},ue.prototype._on=function(J,X,K,ze){if(typeof J=="function")return this._onAny(J,X),this;if(typeof X!="function")throw new Error("on only accepts instances of Function");this._events||z.call(this);var Ze=this,We;return ze!==x&&(We=fe.call(this,J,X,ze),X=We[0],Ze=We[1]),this._newListener&&this.emit("newListener",J,X),this.wildcard?(lt.call(this,J,X,K),Ze):(this._events[J]?(typeof this._events[J]=="function"&&(this._events[J]=[this._events[J]]),K?this._events[J].unshift(X):this._events[J].push(X),!this._events[J].warned&&this._maxListeners>0&&this._events[J].length>this._maxListeners&&(this._events[J].warned=!0,Y.call(this,this._events[J].length,J))):this._events[J]=X,Ze)},ue.prototype.off=function(J,X){if(typeof X!="function")throw new Error("removeListener only takes instances of Function");var K,ze=[];if(this.wildcard){var Ze=typeof J=="string"?J.split(this.delimiter):J.slice();if(ze=Qe.call(this,null,Ze,this.listenerTree,0),!ze)return this}else{if(!this._events[J])return this;K=this._events[J],ze.push({_listeners:K})}for(var We=0;We<ze.length;We++){var ye=ze[We];if(K=ye._listeners,p(K)){for(var Ie=-1,Ue=0,Ye=K.length;Ue<Ye;Ue++)if(K[Ue]===X||K[Ue].listener&&K[Ue].listener===X||K[Ue]._origin&&K[Ue]._origin===X){Ie=Ue;break}if(Ie<0)continue;return this.wildcard?ye._listeners.splice(Ie,1):this._events[J].splice(Ie,1),K.length===0&&(this.wildcard?delete ye._listeners:delete this._events[J]),this._removeListener&&this.emit("removeListener",J,X),this}else(K===X||K.listener&&K.listener===X||K._origin&&K._origin===X)&&(this.wildcard?delete ye._listeners:delete this._events[J],this._removeListener&&this.emit("removeListener",J,X))}return this.listenerTree&&Je(this.listenerTree),this},ue.prototype.offAny=function(J){var X=0,K=0,ze;if(J&&this._all&&this._all.length>0){for(ze=this._all,X=0,K=ze.length;X<K;X++)if(J===ze[X])return ze.splice(X,1),this._removeListener&&this.emit("removeListenerAny",J),this}else{if(ze=this._all,this._removeListener)for(X=0,K=ze.length;X<K;X++)this.emit("removeListenerAny",ze[X]);this._all=[]}return this},ue.prototype.removeListener=ue.prototype.off,ue.prototype.removeAllListeners=function(J){if(J===x)return!this._events||z.call(this),this;if(this.wildcard){var X=Qe.call(this,null,J,this.listenerTree,0),K,ze;if(!X)return this;for(ze=0;ze<X.length;ze++)K=X[ze],K._listeners=null;this.listenerTree&&Je(this.listenerTree)}else this._events&&(this._events[J]=null);return this},ue.prototype.listeners=function(J){var X=this._events,K,ze,Ze,We,ye;if(J===x){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!X)return[];for(K=g(X),We=K.length,Ze=[];We-- >0;)ze=X[K[We]],typeof ze=="function"?Ze.push(ze):Ze.push.apply(Ze,ze);return Ze}else{if(this.wildcard){if(ye=this.listenerTree,!ye)return[];var Ie=[],Ue=typeof J=="string"?J.split(this.delimiter):J.slice();return Qe.call(this,Ie,Ue,ye,0),Ie}return X?(ze=X[J],ze?typeof ze=="function"?[ze]:ze:[]):[]}},ue.prototype.eventNames=function(J){var X=this._events;return this.wildcard?Te.call(this,this.listenerTree,[],null,J):X?g(X):[]},ue.prototype.listenerCount=function(J){return this.listeners(J).length},ue.prototype.hasListeners=function(J){if(this.wildcard){var X=[],K=typeof J=="string"?J.split(this.delimiter):J.slice();return Qe.call(this,X,K,this.listenerTree,0),X.length>0}var ze=this._events,Ze=this._all;return!!(Ze&&Ze.length||ze&&(J===x?g(ze).length:ze[J]))},ue.prototype.listenersAny=function(){return this._all?this._all:[]},ue.prototype.waitFor=function(J,X){var K=this,ze=typeof X;return ze==="number"?X={timeout:X}:ze==="function"&&(X={filter:X}),X=ce(X,{timeout:0,filter:x,handleError:!1,Promise,overload:!1},{filter:De,Promise:se}),je(X.Promise,function(Ze,We,ye){function Ie(){var Ue=X.filter;if(!(Ue&&!Ue.apply(K,arguments)))if(K.off(J,Ie),X.handleError){var Ye=arguments[0];Ye?We(Ye):Ze(q.apply(null,arguments).slice(1))}else Ze(q.apply(null,arguments))}ye(function(){K.off(J,Ie)}),K._on(J,Ie,!1)},{timeout:X.timeout,overload:X.overload})};function ae(J,X,K){K=ce(K,{Promise,timeout:0,overload:!1},{Promise:se});var ze=K.Promise;return je(ze,function(Ze,We,ye){var Ie;if(typeof J.addEventListener=="function"){Ie=function(){Ze(q.apply(null,arguments))},ye(function(){J.removeEventListener(X,Ie)}),J.addEventListener(X,Ie,{once:!0});return}var Ue=function(){Ye&&J.removeListener("error",Ye),Ze(q.apply(null,arguments))},Ye;X!=="error"&&(Ye=function(Ae){J.removeListener(X,Ue),We(Ae)},J.once("error",Ye)),ye(function(){Ye&&J.removeListener("error",Ye),J.removeListener(X,Ue)}),J.once(X,Ue)},{timeout:K.timeout,overload:K.overload})}var de=ue.prototype;if(Object.defineProperties(ue,{defaultMaxListeners:{get:function(){return de._maxListeners},set:function(J){if(typeof J!="number"||J<0||Number.isNaN(J))throw TypeError("n must be a non-negative number");de._maxListeners=J},enumerable:!0},once:{value:ae,writable:!0,configurable:!0}}),Object.defineProperties(de,{_maxListeners:{value:d,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),!0)U=function(){return ue}.call(Ce,f,Ce,ut),U!==x&&(ut.exports=U);else var ve})()},21254:function(ut){(function(Ce,f){ut.exports=f()})(this,function(){"use strict";var Ce=/^(b|B)$/,f={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},O={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},U={floor:Math.floor,ceil:Math.ceil};function x(m){var p,d,v,M,D,T,S,g,z,E,Y,q,j,le,ce,se,ne,De,we,je,dt,Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lt=[],Te=0;if(isNaN(m))throw new TypeError("Invalid number");if(v=Qe.bits===!0,ce=Qe.unix===!0,q=Qe.pad===!0,d=Qe.base||2,j=Qe.round!==void 0?Qe.round:ce?1:2,S=Qe.locale!==void 0?Qe.locale:"",g=Qe.localeOptions||{},se=Qe.separator!==void 0?Qe.separator:"",ne=Qe.spacer!==void 0?Qe.spacer:ce?"":" ",we=Qe.symbols||{},De=d===2&&Qe.standard||"jedec",Y=Qe.output||"string",D=Qe.fullform===!0,T=Qe.fullforms instanceof Array?Qe.fullforms:[],p=Qe.exponent!==void 0?Qe.exponent:-1,je=U[Qe.roundingMethod]||Math.round,z=(E=Number(m))<0,M=d>2?1e3:1024,dt=isNaN(Qe.precision)===!1?parseInt(Qe.precision,10):0,z&&(E=-E),(p===-1||isNaN(p))&&(p=Math.floor(Math.log(E)/Math.log(M)))<0&&(p=0),p>8&&(dt>0&&(dt+=8-p),p=8),Y==="exponent")return p;if(E===0)lt[0]=0,le=lt[1]=ce?"":f[De][v?"bits":"bytes"][p];else{Te=E/(d===2?Math.pow(2,10*p):Math.pow(1e3,p)),v&&(Te*=8)>=M&&p<8&&(Te/=M,p++);var Je=Math.pow(10,p>0?j:0);lt[0]=je(Te*Je)/Je,lt[0]===M&&p<8&&Qe.exponent===void 0&&(lt[0]=1,p++),le=lt[1]=d===10&&p===1?v?"kb":"kB":f[De][v?"bits":"bytes"][p],ce&&(lt[1]=De==="jedec"?lt[1].charAt(0):p>0?lt[1].replace(/B$/,""):lt[1],Ce.test(lt[1])&&(lt[0]=Math.floor(lt[0]),lt[1]=""))}if(z&&(lt[0]=-lt[0]),dt>0&&(lt[0]=lt[0].toPrecision(dt)),lt[1]=we[lt[1]]||lt[1],S===!0?lt[0]=lt[0].toLocaleString():S.length>0?lt[0]=lt[0].toLocaleString(S,g):se.length>0&&(lt[0]=lt[0].toString().replace(".",se)),q&&Number.isInteger(lt[0])===!1&&j>0){var te=se||".",fe=lt[0].toString().split(te),ue=fe[1]||"",ae=ue.length,de=j-ae;lt[0]="".concat(fe[0]).concat(te).concat(ue.padEnd(ae+de,"0"))}return D&&(lt[1]=T[p]?T[p]:O[De][p]+(v?"bit":"byte")+(lt[0]===1?"":"s")),Y==="array"?lt:Y==="object"?{value:lt[0],symbol:lt[1],exponent:p,unit:le}:lt.join(ne)}return x.partial=function(m){return function(p){return x(p,m)}},x})},45869:function(ut,Ce){"use strict";var f;f={value:!0};for(var O=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),U={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},x={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:O?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},m={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},p=1;p<20;p++)m["f"+p]=111+p;function d(z,E,Y){E&&!("byKey"in E)&&(Y=E,E=null),Array.isArray(z)||(z=[z]);var q=z.map(function(ce){return D(ce,E)}),j=function(se){return q.some(function(ne){return T(ne,se)})},le=Y==null?j:j(Y);return le}function v(z,E){return d(z,E)}function M(z,E){return d(z,{byKey:!0},E)}function D(z,E){var Y=E&&E.byKey,q={};z=z.replace("++","+add");var j=z.split("+"),le=j.length;for(var ce in U)q[U[ce]]=!1;var se=!0,ne=!1,De=void 0;try{for(var we=j[Symbol.iterator](),je;!(se=(je=we.next()).done);se=!0){var dt=je.value,Qe=dt.endsWith("?")&&dt.length>1;Qe&&(dt=dt.slice(0,-1));var lt=g(dt),Te=U[lt];if(dt.length>1&&!Te&&!x[dt]&&!m[lt])throw new TypeError('Unknown modifier: "'+dt+'"');(le===1||!Te)&&(Y?q.key=lt:q.which=S(dt)),Te&&(q[Te]=Qe?null:!0)}}catch(Je){ne=!0,De=Je}finally{try{!se&&we.return&&we.return()}finally{if(ne)throw De}}return q}function T(z,E){for(var Y in z){var q=z[Y],j=void 0;if(q!=null&&(Y==="key"&&E.key!=null?j=E.key.toLowerCase():Y==="which"?j=q===91&&E.which===93?91:E.which:j=E[Y],!(j==null&&q===!1)&&j!==q))return!1}return!0}function S(z){z=g(z);var E=m[z]||z.toUpperCase().charCodeAt(0);return E}function g(z){return z=z.toLowerCase(),z=x[z]||z,z}Ce.ZP=d,Ce.P6=d,f=v,f=M,f=D,f=T,f=S,f=g},41925:function(ut){(function(Ce){var f,O={},U={16:!1,18:!1,17:!1,91:!1},x="all",m={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},p={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},d=function(Te){return p[Te]||Te.toUpperCase().charCodeAt(0)},v=[];for(f=1;f<20;f++)p["f"+f]=111+f;function M(Te,Je){for(var te=Te.length;te--;)if(Te[te]===Je)return te;return-1}function D(Te,Je){if(Te.length!=Je.length)return!1;for(var te=0;te<Te.length;te++)if(Te[te]!==Je[te])return!1;return!0}var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function S(Te){for(f in U)U[f]=Te[T[f]]}function g(Te){var Je,te,fe,ue,ae,de;if(Je=Te.keyCode,M(v,Je)==-1&&v.push(Je),(Je==93||Je==224)&&(Je=91),Je in U){U[Je]=!0;for(fe in m)m[fe]==Je&&(Y[fe]=!0);return}if(S(Te),!!Y.filter.call(this,Te)&&Je in O){for(de=ne(),ue=0;ue<O[Je].length;ue++)if(te=O[Je][ue],te.scope==de||te.scope=="all"){ae=te.mods.length>0;for(fe in U)(!U[fe]&&M(te.mods,+fe)>-1||U[fe]&&M(te.mods,+fe)==-1)&&(ae=!1);(te.mods.length==0&&!U[16]&&!U[18]&&!U[17]&&!U[91]||ae)&&te.method(Te,te)===!1&&(Te.preventDefault?Te.preventDefault():Te.returnValue=!1,Te.stopPropagation&&Te.stopPropagation(),Te.cancelBubble&&(Te.cancelBubble=!0))}}}function z(Te){var Je=Te.keyCode,te,fe=M(v,Je);if(fe>=0&&v.splice(fe,1),(Je==93||Je==224)&&(Je=91),Je in U){U[Je]=!1;for(te in m)m[te]==Je&&(Y[te]=!1)}}function E(){for(f in U)U[f]=!1;for(f in m)Y[f]=!1}function Y(Te,Je,te){var fe,ue;fe=we(Te),te===void 0&&(te=Je,Je="all");for(var ae=0;ae<fe.length;ae++)ue=[],Te=fe[ae].split("+"),Te.length>1&&(ue=je(Te),Te=[Te[Te.length-1]]),Te=Te[0],Te=d(Te),Te in O||(O[Te]=[]),O[Te].push({shortcut:fe[ae],scope:Je,method:te,key:fe[ae],mods:ue})}function q(Te,Je){var te,fe,ue=[],ae,de,ve;for(te=we(Te),de=0;de<te.length;de++){if(fe=te[de].split("+"),fe.length>1&&(ue=je(fe),Te=fe[fe.length-1]),Te=d(Te),Je===void 0&&(Je=ne()),!O[Te])return;for(ae=0;ae<O[Te].length;ae++)ve=O[Te][ae],ve.scope===Je&&D(ve.mods,ue)&&(O[Te][ae]={})}}function j(Te){return typeof Te=="string"&&(Te=d(Te)),M(v,Te)!=-1}function le(){return v.slice(0)}function ce(Te){var Je=(Te.target||Te.srcElement).tagName;return!(Je=="INPUT"||Je=="SELECT"||Je=="TEXTAREA")}for(f in m)Y[f]=!1;function se(Te){x=Te||"all"}function ne(){return x||"all"}function De(Te){var Je,te,fe;for(Je in O)for(te=O[Je],fe=0;fe<te.length;)te[fe].scope===Te?te.splice(fe,1):fe++}function we(Te){var Je;return Te=Te.replace(/\s/g,""),Je=Te.split(","),Je[Je.length-1]==""&&(Je[Je.length-2]+=","),Je}function je(Te){for(var Je=Te.slice(0,Te.length-1),te=0;te<Je.length;te++)Je[te]=m[Je[te]];return Je}function dt(Te,Je,te){Te.addEventListener?Te.addEventListener(Je,te,!1):Te.attachEvent&&Te.attachEvent("on"+Je,function(){te(window.event)})}dt(document,"keydown",function(Te){g(Te)}),dt(document,"keyup",z),dt(window,"focus",E);var Qe=Ce.key;function lt(){var Te=Ce.key;return Ce.key=Qe,Te}Ce.key=Y,Ce.key.setScope=se,Ce.key.getScope=ne,Ce.key.deleteScope=De,Ce.key.filter=ce,Ce.key.isPressed=j,Ce.key.getPressedKeyCodes=le,Ce.key.noConflict=lt,Ce.key.unbind=q,ut.exports=Y})(this)},86494:function(ut,Ce,f){"use strict";function O(se){var ne=Array.prototype.slice.call(arguments,1);return ne.forEach(function(De){!De||Object.keys(De).forEach(function(we){se[we]=De[we]})}),se}function U(se){return Object.prototype.toString.call(se)}function x(se){return U(se)==="[object String]"}function m(se){return U(se)==="[object Object]"}function p(se){return U(se)==="[object RegExp]"}function d(se){return U(se)==="[object Function]"}function v(se){return se.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var M={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function D(se){return Object.keys(se||{}).reduce(function(ne,De){return ne||M.hasOwnProperty(De)},!1)}var T={"http:":{validate:function(se,ne,De){var we=se.slice(ne);return De.re.http||(De.re.http=new RegExp("^\\/\\/"+De.re.src_auth+De.re.src_host_port_strict+De.re.src_path,"i")),De.re.http.test(we)?we.match(De.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(se,ne,De){var we=se.slice(ne);return De.re.no_http||(De.re.no_http=new RegExp("^"+De.re.src_auth+"(?:localhost|(?:(?:"+De.re.src_domain+")\\.)+"+De.re.src_domain_root+")"+De.re.src_port+De.re.src_host_terminator+De.re.src_path,"i")),De.re.no_http.test(we)?ne>=3&&se[ne-3]===":"||ne>=3&&se[ne-3]==="/"?0:we.match(De.re.no_http)[0].length:0}},"mailto:":{validate:function(se,ne,De){var we=se.slice(ne);return De.re.mailto||(De.re.mailto=new RegExp("^"+De.re.src_email_name+"@"+De.re.src_host_strict,"i")),De.re.mailto.test(we)?we.match(De.re.mailto)[0].length:0}}},S="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",g="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function z(se){se.__index__=-1,se.__text_cache__=""}function E(se){return function(ne,De){var we=ne.slice(De);return se.test(we)?we.match(se)[0].length:0}}function Y(){return function(se,ne){ne.normalize(se)}}function q(se){var ne=se.re=f(37030)(se.__opts__),De=se.__tlds__.slice();se.onCompile(),se.__tlds_replaced__||De.push(S),De.push(ne.src_xn),ne.src_tlds=De.join("|");function we(lt){return lt.replace("%TLDS%",ne.src_tlds)}ne.email_fuzzy=RegExp(we(ne.tpl_email_fuzzy),"i"),ne.link_fuzzy=RegExp(we(ne.tpl_link_fuzzy),"i"),ne.link_no_ip_fuzzy=RegExp(we(ne.tpl_link_no_ip_fuzzy),"i"),ne.host_fuzzy_test=RegExp(we(ne.tpl_host_fuzzy_test),"i");var je=[];se.__compiled__={};function dt(lt,Te){throw new Error('(LinkifyIt) Invalid schema "'+lt+'": '+Te)}Object.keys(se.__schemas__).forEach(function(lt){var Te=se.__schemas__[lt];if(Te!==null){var Je={validate:null,link:null};if(se.__compiled__[lt]=Je,m(Te)){p(Te.validate)?Je.validate=E(Te.validate):d(Te.validate)?Je.validate=Te.validate:dt(lt,Te),d(Te.normalize)?Je.normalize=Te.normalize:Te.normalize?dt(lt,Te):Je.normalize=Y();return}if(x(Te)){je.push(lt);return}dt(lt,Te)}}),je.forEach(function(lt){!se.__compiled__[se.__schemas__[lt]]||(se.__compiled__[lt].validate=se.__compiled__[se.__schemas__[lt]].validate,se.__compiled__[lt].normalize=se.__compiled__[se.__schemas__[lt]].normalize)}),se.__compiled__[""]={validate:null,normalize:Y()};var Qe=Object.keys(se.__compiled__).filter(function(lt){return lt.length>0&&se.__compiled__[lt]}).map(v).join("|");se.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+ne.src_ZPCc+"))("+Qe+")","i"),se.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+ne.src_ZPCc+"))("+Qe+")","ig"),se.re.schema_at_start=RegExp("^"+se.re.schema_search.source,"i"),se.re.pretest=RegExp("("+se.re.schema_test.source+")|("+se.re.host_fuzzy_test.source+")|@","i"),z(se)}function j(se,ne){var De=se.__index__,we=se.__last_index__,je=se.__text_cache__.slice(De,we);this.schema=se.__schema__.toLowerCase(),this.index=De+ne,this.lastIndex=we+ne,this.raw=je,this.text=je,this.url=je}function le(se,ne){var De=new j(se,ne);return se.__compiled__[De.schema].normalize(De,se),De}function ce(se,ne){if(!(this instanceof ce))return new ce(se,ne);ne||D(se)&&(ne=se,se={}),this.__opts__=O({},M,ne),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=O({},T,se),this.__compiled__={},this.__tlds__=g,this.__tlds_replaced__=!1,this.re={},q(this)}ce.prototype.add=function(ne,De){return this.__schemas__[ne]=De,q(this),this},ce.prototype.set=function(ne){return this.__opts__=O(this.__opts__,ne),this},ce.prototype.test=function(ne){if(this.__text_cache__=ne,this.__index__=-1,!ne.length)return!1;var De,we,je,dt,Qe,lt,Te,Je,te;if(this.re.schema_test.test(ne)){for(Te=this.re.schema_search,Te.lastIndex=0;(De=Te.exec(ne))!==null;)if(dt=this.testSchemaAt(ne,De[2],Te.lastIndex),dt){this.__schema__=De[2],this.__index__=De.index+De[1].length,this.__last_index__=De.index+De[0].length+dt;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(Je=ne.search(this.re.host_fuzzy_test),Je>=0&&(this.__index__<0||Je<this.__index__)&&(we=ne.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(Qe=we.index+we[1].length,(this.__index__<0||Qe<this.__index__)&&(this.__schema__="",this.__index__=Qe,this.__last_index__=we.index+we[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(te=ne.indexOf("@"),te>=0&&(je=ne.match(this.re.email_fuzzy))!==null&&(Qe=je.index+je[1].length,lt=je.index+je[0].length,(this.__index__<0||Qe<this.__index__||Qe===this.__index__&&lt>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=Qe,this.__last_index__=lt))),this.__index__>=0},ce.prototype.pretest=function(ne){return this.re.pretest.test(ne)},ce.prototype.testSchemaAt=function(ne,De,we){return this.__compiled__[De.toLowerCase()]?this.__compiled__[De.toLowerCase()].validate(ne,we,this):0},ce.prototype.match=function(ne){var De=0,we=[];this.__index__>=0&&this.__text_cache__===ne&&(we.push(le(this,De)),De=this.__last_index__);for(var je=De?ne.slice(De):ne;this.test(je);)we.push(le(this,De)),je=je.slice(this.__last_index__),De+=this.__last_index__;return we.length?we:null},ce.prototype.matchAtStart=function(ne){if(this.__text_cache__=ne,this.__index__=-1,!ne.length)return null;var De=this.re.schema_at_start.exec(ne);if(!De)return null;var we=this.testSchemaAt(ne,De[2],De[0].length);return we?(this.__schema__=De[2],this.__index__=De.index+De[1].length,this.__last_index__=De.index+De[0].length+we,le(this,0)):null},ce.prototype.tlds=function(ne,De){return ne=Array.isArray(ne)?ne:[ne],De?(this.__tlds__=this.__tlds__.concat(ne).sort().filter(function(we,je,dt){return we!==dt[je-1]}).reverse(),q(this),this):(this.__tlds__=ne.slice(),this.__tlds_replaced__=!0,q(this),this)},ce.prototype.normalize=function(ne){ne.schema||(ne.url="http://"+ne.url),ne.schema==="mailto:"&&!/^mailto:/i.test(ne.url)&&(ne.url="mailto:"+ne.url)},ce.prototype.onCompile=function(){},ut.exports=ce},37030:function(ut,Ce,f){"use strict";ut.exports=function(O){var U={};O=O||{},U.src_Any=f(50757).source,U.src_Cc=f(18436).source,U.src_Z=f(87613).source,U.src_P=f(97942).source,U.src_ZPCc=[U.src_Z,U.src_P,U.src_Cc].join("|"),U.src_ZCc=[U.src_Z,U.src_Cc].join("|");var x="[><\uFF5C]";return U.src_pseudo_letter="(?:(?!"+x+"|"+U.src_ZPCc+")"+U.src_Any+")",U.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",U.src_auth="(?:(?:(?!"+U.src_ZCc+"|[@/\\[\\]()]).)+@)?",U.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",U.src_host_terminator="(?=$|"+x+"|"+U.src_ZPCc+")(?!"+(O["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+U.src_ZPCc+"))",U.src_path="(?:[/?#](?:(?!"+U.src_ZCc+"|"+x+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+U.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+U.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+U.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+U.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+U.src_ZCc+"|[']).)+\\'|\\'(?="+U.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+U.src_ZCc+"|[.]|$)|"+(O["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+U.src_ZCc+"|$)|;(?!"+U.src_ZCc+"|$)|\\!+(?!"+U.src_ZCc+"|[!]|$)|\\?(?!"+U.src_ZCc+"|[?]|$))+|\\/)?",U.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',U.src_xn="xn--[a-z0-9\\-]{1,59}",U.src_domain_root="(?:"+U.src_xn+"|"+U.src_pseudo_letter+"{1,63})",U.src_domain="(?:"+U.src_xn+"|(?:"+U.src_pseudo_letter+")|(?:"+U.src_pseudo_letter+"(?:-|"+U.src_pseudo_letter+"){0,61}"+U.src_pseudo_letter+"))",U.src_host="(?:(?:(?:(?:"+U.src_domain+")\\.)*"+U.src_domain+"))",U.tpl_host_fuzzy="(?:"+U.src_ip4+"|(?:(?:(?:"+U.src_domain+")\\.)+(?:%TLDS%)))",U.tpl_host_no_ip_fuzzy="(?:(?:(?:"+U.src_domain+")\\.)+(?:%TLDS%))",U.src_host_strict=U.src_host+U.src_host_terminator,U.tpl_host_fuzzy_strict=U.tpl_host_fuzzy+U.src_host_terminator,U.src_host_port_strict=U.src_host+U.src_port+U.src_host_terminator,U.tpl_host_port_fuzzy_strict=U.tpl_host_fuzzy+U.src_port+U.src_host_terminator,U.tpl_host_port_no_ip_fuzzy_strict=U.tpl_host_no_ip_fuzzy+U.src_port+U.src_host_terminator,U.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+U.src_ZPCc+"|>|$))",U.tpl_email_fuzzy="(^|"+x+'|"|\\(|'+U.src_ZCc+")("+U.src_email_name+"@"+U.tpl_host_fuzzy_strict+")",U.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+U.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+U.tpl_host_port_fuzzy_strict+U.src_path+")",U.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+U.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+U.tpl_host_port_no_ip_fuzzy_strict+U.src_path+")",U}},45170:function(ut,Ce,f){var O=f(13807);function U(x,m){var p=x==null?0:x.length;return!!p&&O(x,m,0)>-1}ut.exports=U},94936:function(ut){function Ce(f,O,U){for(var x=-1,m=f==null?0:f.length;++x<m;)if(U(O,f[x]))return!0;return!1}ut.exports=Ce},54527:function(ut){function Ce(f,O,U){return f===f&&(U!==void 0&&(f=f<=U?f:U),O!==void 0&&(f=f>=O?f:O)),f}ut.exports=Ce},92504:function(ut){function Ce(f,O,U,x){for(var m=f.length,p=U+(x?1:-1);x?p--:++p<m;)if(O(f[p],p,f))return p;return-1}ut.exports=Ce},98768:function(ut,Ce,f){var O=f(28486),U=f(89465);function x(m,p,d,v,M){var D=-1,T=m.length;for(d||(d=U),M||(M=[]);++D<T;){var S=m[D];p>0&&d(S)?p>1?x(S,p-1,d,v,M):O(M,S):v||(M[M.length]=S)}return M}ut.exports=x},13807:function(ut,Ce,f){var O=f(92504),U=f(99940),x=f(3729);function m(p,d,v){return d===d?x(p,d,v):O(p,U,v)}ut.exports=m},99940:function(ut){function Ce(f){return f!==f}ut.exports=Ce},43846:function(ut){function Ce(f,O,U){var x=-1,m=f.length;O<0&&(O=-O>m?0:m+O),U=U>m?m:U,U<0&&(U+=m),m=O>U?0:U-O>>>0,O>>>=0;for(var p=Array(m);++x<m;)p[x]=f[x+O];return p}ut.exports=Ce},95453:function(ut,Ce,f){var O=f(78188),U=f(45170),x=f(94936),m=f(29880),p=f(17319),d=f(79967),v=200;function M(D,T,S){var g=-1,z=U,E=D.length,Y=!0,q=[],j=q;if(S)Y=!1,z=x;else if(E>=v){var le=T?null:p(D);if(le)return d(le);Y=!1,z=m,j=new O}else j=T?[]:q;e:for(;++g<E;){var ce=D[g],se=T?T(ce):ce;if(ce=S||ce!==0?ce:0,Y&&se===se){for(var ne=j.length;ne--;)if(j[ne]===se)continue e;T&&j.push(se),q.push(ce)}else z(j,se,S)||(j!==q&&j.push(se),q.push(ce))}return q}ut.exports=M},42933:function(ut,Ce,f){var O=f(60399),U=f(25674),x=f(39118),m=f(77817);function p(d,v){return v=O(v,d),d=x(d,v),d==null||delete d[m(U(v))]}ut.exports=p},17319:function(ut,Ce,f){var O=f(81956),U=f(43226),x=f(79967),m=1/0,p=O&&1/x(new O([,-0]))[1]==m?function(d){return new O(d)}:U;ut.exports=p},59211:function(ut,Ce,f){var O=f(69143);function U(x){return O(x)?void 0:x}ut.exports=U},54874:function(ut,Ce,f){var O=f(22612),U=f(20323),x=f(71564);function m(p){return x(U(p,void 0,O),p+"")}ut.exports=m},89465:function(ut,Ce,f){var O=f(74396),U=f(30353),x=f(24669),m=O?O.isConcatSpreadable:void 0;function p(d){return x(d)||U(d)||!!(m&&d&&d[m])}ut.exports=p},39118:function(ut,Ce,f){var O=f(97499),U=f(43846);function x(m,p){return p.length<2?m:O(m,U(p,0,-1))}ut.exports=x},3729:function(ut){function Ce(f,O,U){for(var x=U-1,m=f.length;++x<m;)if(f[x]===O)return x;return-1}ut.exports=Ce},31521:function(ut,Ce,f){var O=f(92504),U=f(5673),x=f(20426),m=Math.max,p=Math.min;function d(v,M,D){var T=v==null?0:v.length;if(!T)return-1;var S=T-1;return D!==void 0&&(S=x(D),S=D<0?m(T+S,0):p(S,T-1)),O(v,U(M,3),S,!0)}ut.exports=d},22612:function(ut,Ce,f){var O=f(98768);function U(x){var m=x==null?0:x.length;return m?O(x,1):[]}ut.exports=U},31223:function(ut,Ce,f){var O=f(6620);function U(x,m){return O(x,m)}ut.exports=U},96789:function(ut,Ce,f){var O=f(20426);function U(x){return typeof x=="number"&&x==O(x)}ut.exports=U},89300:function(ut){function Ce(f){return f===void 0}ut.exports=Ce},25674:function(ut){function Ce(f){var O=f==null?0:f.length;return O?f[O-1]:void 0}ut.exports=Ce},43226:function(ut){function Ce(){}ut.exports=Ce},33103:function(ut,Ce,f){var O=f(75697),U=f(67410),x=f(42933),m=f(60399),p=f(92434),d=f(59211),v=f(54874),M=f(21699),D=1,T=2,S=4,g=v(function(z,E){var Y={};if(z==null)return Y;var q=!1;E=O(E,function(le){return le=m(le,z),q||(q=le.length>1),le}),p(z,M(z),Y),q&&(Y=U(Y,D|T|S,d));for(var j=E.length;j--;)x(Y,E[j]);return Y});ut.exports=g},96889:function(ut,Ce,f){var O=f(54527),U=f(73150),x=f(20426),m=f(8389);function p(d,v,M){return d=m(d),M=M==null?0:O(x(M),0,d.length),v=U(v),d.slice(M,M+v.length)==v}ut.exports=p},70986:function(ut,Ce,f){var O=f(12448),U=1/0,x=17976931348623157e292;function m(p){if(!p)return p===0?p:0;if(p=O(p),p===U||p===-U){var d=p<0?-1:1;return d*x}return p===p?p:0}ut.exports=m},20426:function(ut,Ce,f){var O=f(70986);function U(x){var m=O(x),p=m%1;return m===m?p?m-p:m:0}ut.exports=U},2600:function(ut,Ce,f){var O=f(5673),U=f(95453);function x(m,p){return m&&m.length?U(m,O(p,2)):[]}ut.exports=x},24885:function(ut){"use strict";ut.exports=function(f,O,U){function x(g){return g.trim().split(" ",2)[0]===O}function m(g,z,E,Y,q){return g[z].nesting===1&&g[z].attrJoin("class",O),q.renderToken(g,z,E,Y,q)}U=U||{};var p=3,d=U.marker||":",v=d.charCodeAt(0),M=d.length,D=U.validate||x,T=U.render||m;function S(g,z,E,Y){var q,j,le,ce,se,ne,De,we,je=!1,dt=g.bMarks[z]+g.tShift[z],Qe=g.eMarks[z];if(v!==g.src.charCodeAt(dt))return!1;for(q=dt+1;q<=Qe&&d[(q-dt)%M]===g.src[q];q++);if(le=Math.floor((q-dt)/M),le<p||(q-=(q-dt)%M,ce=g.src.slice(dt,q),se=g.src.slice(q,Qe),!D(se,ce)))return!1;if(Y)return!0;for(j=z;j++,!(j>=E||(dt=g.bMarks[j]+g.tShift[j],Qe=g.eMarks[j],dt<Qe&&g.sCount[j]<g.blkIndent));)if(v===g.src.charCodeAt(dt)&&!(g.sCount[j]-g.blkIndent>=4)){for(q=dt+1;q<=Qe&&d[(q-dt)%M]===g.src[q];q++);if(!(Math.floor((q-dt)/M)<le)&&(q-=(q-dt)%M,q=g.skipSpaces(q),!(q<Qe))){je=!0;break}}return De=g.parentType,we=g.lineMax,g.parentType="container",g.lineMax=j,ne=g.push("container_"+O+"_open","div",1),ne.markup=ce,ne.block=!0,ne.info=se,ne.map=[z,j],g.md.block.tokenize(g,z+1,j),ne=g.push("container_"+O+"_close","div",-1),ne.markup=g.src.slice(dt,q),ne.block=!0,g.parentType=De,g.lineMax=we,g.line=j+(je?1:0),!0}f.block.ruler.before("fence","container_"+O,S,{alt:["paragraph","reference","blockquote","list"]}),f.renderer.rules["container_"+O+"_open"]=T,f.renderer.rules["container_"+O+"_close"]=T}},86150:function(ut){"use strict";ut.exports=function(f){function O(x,m){var p,d,v,M,D,T=x.pos,S=x.src.charCodeAt(T);if(m||S!==61||(d=x.scanDelims(x.pos,!0),M=d.length,D=String.fromCharCode(S),M<2))return!1;for(M%2&&(v=x.push("text","",0),v.content=D,M--),p=0;p<M;p+=2)v=x.push("text","",0),v.content=D+D,!(!d.can_open&&!d.can_close)&&x.delimiters.push({marker:S,length:0,jump:p/2,token:x.tokens.length-1,end:-1,open:d.can_open,close:d.can_close});return x.pos+=d.length,!0}function U(x,m){var p,d,v,M,D,T=[],S=m.length;for(p=0;p<S;p++)v=m[p],v.marker===61&&v.end!==-1&&(M=m[v.end],D=x.tokens[v.token],D.type="mark_open",D.tag="mark",D.nesting=1,D.markup="==",D.content="",D=x.tokens[M.token],D.type="mark_close",D.tag="mark",D.nesting=-1,D.markup="==",D.content="",x.tokens[M.token-1].type==="text"&&x.tokens[M.token-1].content==="="&&T.push(M.token-1));for(;T.length;){for(p=T.pop(),d=p+1;d<x.tokens.length&&x.tokens[d].type==="mark_close";)d++;d--,p!==d&&(D=x.tokens[d],x.tokens[d]=x.tokens[p],x.tokens[p]=D)}}f.inline.ruler.before("emphasis","mark",O),f.inline.ruler2.before("emphasis","mark",function(x){var m,p=x.tokens_meta,d=(x.tokens_meta||[]).length;for(U(x,x.delimiters),m=0;m<d;m++)p[m]&&p[m].delimiters&&U(x,p[m].delimiters)})}},36138:function(ut){"use strict";var Ce=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function f(O,U){var x,m,p,d=O.posMax,v=O.pos;if(O.src.charCodeAt(v)!==126||U||v+2>=d)return!1;for(O.pos=v+1;O.pos<d;){if(O.src.charCodeAt(O.pos)===126){x=!0;break}O.md.inline.skipToken(O)}return!x||v+1===O.pos||(m=O.src.slice(v+1,O.pos),m.match(/(^|[^\\])(\\\\)*\s/))?(O.pos=v,!1):(O.posMax=O.pos,O.pos=v+1,p=O.push("sub_open","sub",1),p.markup="~",p=O.push("text","",0),p.content=m.replace(Ce,"$1"),p=O.push("sub_close","sub",-1),p.markup="~",O.pos=O.posMax+1,O.posMax=d,!0)}ut.exports=function(U){U.inline.ruler.after("emphasis","sub",f)}},2366:function(ut){"use strict";var Ce=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function f(O,U){var x,m,p,d=O.posMax,v=O.pos;if(O.src.charCodeAt(v)!==94||U||v+2>=d)return!1;for(O.pos=v+1;O.pos<d;){if(O.src.charCodeAt(O.pos)===94){x=!0;break}O.md.inline.skipToken(O)}return!x||v+1===O.pos||(m=O.src.slice(v+1,O.pos),m.match(/(^|[^\\])(\\\\)*\s/))?(O.pos=v,!1):(O.posMax=O.pos,O.pos=v+1,p=O.push("sup_open","sup",1),p.markup="^",p=O.push("text","",0),p.content=m.replace(Ce,"$1"),p=O.push("sup_close","sup",-1),p.markup="^",O.pos=O.posMax+1,O.posMax=d,!0)}ut.exports=function(U){U.inline.ruler.after("emphasis","sup",f)}},42952:function(ut,Ce,f){"use strict";ut.exports=f(11388)},53593:function(ut,Ce,f){"use strict";ut.exports=f(66973)},84361:function(ut){"use strict";ut.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},3007:function(ut){"use strict";var Ce="[a-zA-Z_:][a-zA-Z0-9:._-]*",f="[^\"'=<>`\\x00-\\x20]+",O="'[^']*'",U='"[^"]*"',x="(?:"+f+"|"+O+"|"+U+")",m="(?:\\s+"+Ce+"(?:\\s*=\\s*"+x+")?)",p="<[A-Za-z][A-Za-z0-9\\-]*"+m+"*\\s*\\/?>",d="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",v="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",M="<[?][\\s\\S]*?[?]>",D="<![A-Z]+\\s+[^>]*>",T="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",S=new RegExp("^(?:"+p+"|"+d+"|"+v+"|"+M+"|"+D+"|"+T+")"),g=new RegExp("^(?:"+p+"|"+d+")");ut.exports.n=S,ut.exports.q=g},31117:function(ut,Ce,f){"use strict";function O(te){return Object.prototype.toString.call(te)}function U(te){return O(te)==="[object String]"}var x=Object.prototype.hasOwnProperty;function m(te,fe){return x.call(te,fe)}function p(te){var fe=Array.prototype.slice.call(arguments,1);return fe.forEach(function(ue){if(!!ue){if(typeof ue!="object")throw new TypeError(ue+"must be object");Object.keys(ue).forEach(function(ae){te[ae]=ue[ae]})}}),te}function d(te,fe,ue){return[].concat(te.slice(0,fe),ue,te.slice(fe+1))}function v(te){return!(te>=55296&&te<=57343||te>=64976&&te<=65007||(te&65535)===65535||(te&65535)===65534||te>=0&&te<=8||te===11||te>=14&&te<=31||te>=127&&te<=159||te>1114111)}function M(te){if(te>65535){te-=65536;var fe=55296+(te>>10),ue=56320+(te&1023);return String.fromCharCode(fe,ue)}return String.fromCharCode(te)}var D=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,T=/&([a-z#][a-z0-9]{1,31});/gi,S=new RegExp(D.source+"|"+T.source,"gi"),g=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,z=f(53593);function E(te,fe){var ue=0;return m(z,fe)?z[fe]:fe.charCodeAt(0)===35&&g.test(fe)&&(ue=fe[1].toLowerCase()==="x"?parseInt(fe.slice(2),16):parseInt(fe.slice(1),10),v(ue))?M(ue):te}function Y(te){return te.indexOf("\\")<0?te:te.replace(D,"$1")}function q(te){return te.indexOf("\\")<0&&te.indexOf("&")<0?te:te.replace(S,function(fe,ue,ae){return ue||E(fe,ae)})}var j=/[&<>"]/,le=/[&<>"]/g,ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function se(te){return ce[te]}function ne(te){return j.test(te)?te.replace(le,se):te}var De=/[.?*+^$[\]\\(){}|-]/g;function we(te){return te.replace(De,"\\$&")}function je(te){switch(te){case 9:case 32:return!0}return!1}function dt(te){if(te>=8192&&te<=8202)return!0;switch(te){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var Qe=f(97942);function lt(te){return Qe.test(te)}function Te(te){switch(te){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Je(te){return te=te.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(te=te.replace(/ẞ/g,"\xDF")),te.toLowerCase().toUpperCase()}Ce.lib={},Ce.lib.mdurl=f(12449),Ce.lib.ucmicro=f(21977),Ce.assign=p,Ce.isString=U,Ce.has=m,Ce.unescapeMd=Y,Ce.unescapeAll=q,Ce.isValidEntityCode=v,Ce.fromCodePoint=M,Ce.escapeHtml=ne,Ce.arrayReplaceAt=d,Ce.isSpace=je,Ce.isWhiteSpace=dt,Ce.isMdAsciiPunct=Te,Ce.isPunctChar=lt,Ce.escapeRE=we,Ce.normalizeReference=Je},49352:function(ut,Ce,f){"use strict";Ce.parseLinkLabel=f(44686),Ce.parseLinkDestination=f(15443),Ce.parseLinkTitle=f(51929)},15443:function(ut,Ce,f){"use strict";var O=f(31117).unescapeAll;ut.exports=function(x,m,p){var d,v,M=0,D=m,T={ok:!1,pos:0,lines:0,str:""};if(x.charCodeAt(m)===60){for(m++;m<p;){if(d=x.charCodeAt(m),d===10||d===60)return T;if(d===62)return T.pos=m+1,T.str=O(x.slice(D+1,m)),T.ok=!0,T;if(d===92&&m+1<p){m+=2;continue}m++}return T}for(v=0;m<p&&(d=x.charCodeAt(m),!(d===32||d<32||d===127));){if(d===92&&m+1<p){if(x.charCodeAt(m+1)===32)break;m+=2;continue}if(d===40&&(v++,v>32))return T;if(d===41){if(v===0)break;v--}m++}return D===m||v!==0||(T.str=O(x.slice(D,m)),T.lines=M,T.pos=m,T.ok=!0),T}},44686:function(ut){"use strict";ut.exports=function(f,O,U){var x,m,p,d,v=-1,M=f.posMax,D=f.pos;for(f.pos=O+1,x=1;f.pos<M;){if(p=f.src.charCodeAt(f.pos),p===93&&(x--,x===0)){m=!0;break}if(d=f.pos,f.md.inline.skipToken(f),p===91){if(d===f.pos-1)x++;else if(U)return f.pos=D,-1}}return m&&(v=f.pos),f.pos=D,v}},51929:function(ut,Ce,f){"use strict";var O=f(31117).unescapeAll;ut.exports=function(x,m,p){var d,v,M=0,D=m,T={ok:!1,pos:0,lines:0,str:""};if(m>=p||(v=x.charCodeAt(m),v!==34&&v!==39&&v!==40))return T;for(m++,v===40&&(v=41);m<p;){if(d=x.charCodeAt(m),d===v)return T.pos=m+1,T.lines=M,T.str=O(x.slice(D+1,m)),T.ok=!0,T;if(d===40&&v===41)return T;d===10?M++:d===92&&m+1<p&&(m++,x.charCodeAt(m)===10&&M++),m++}return T}},11388:function(ut,Ce,f){"use strict";var O=f(31117),U=f(49352),x=f(5201),m=f(74444),p=f(77288),d=f(92716),v=f(86494),M=f(12449),D=f(98238),T={default:f(69952),zero:f(53017),commonmark:f(46457)},S=/^(vbscript|javascript|file|data):/,g=/^data:image\/(gif|png|jpeg|webp);/;function z(le){var ce=le.trim().toLowerCase();return S.test(ce)?!!g.test(ce):!0}var E=["http:","https:","mailto:"];function Y(le){var ce=M.parse(le,!0);if(ce.hostname&&(!ce.protocol||E.indexOf(ce.protocol)>=0))try{ce.hostname=D.toASCII(ce.hostname)}catch(se){}return M.encode(M.format(ce))}function q(le){var ce=M.parse(le,!0);if(ce.hostname&&(!ce.protocol||E.indexOf(ce.protocol)>=0))try{ce.hostname=D.toUnicode(ce.hostname)}catch(se){}return M.decode(M.format(ce),M.decode.defaultChars+"%")}function j(le,ce){if(!(this instanceof j))return new j(le,ce);ce||O.isString(le)||(ce=le||{},le="default"),this.inline=new d,this.block=new p,this.core=new m,this.renderer=new x,this.linkify=new v,this.validateLink=z,this.normalizeLink=Y,this.normalizeLinkText=q,this.utils=O,this.helpers=O.assign({},U),this.options={},this.configure(le),ce&&this.set(ce)}j.prototype.set=function(le){return O.assign(this.options,le),this},j.prototype.configure=function(le){var ce=this,se;if(O.isString(le)&&(se=le,le=T[se],!le))throw new Error('Wrong `markdown-it` preset "'+se+'", check name');if(!le)throw new Error("Wrong `markdown-it` preset, can't be empty");return le.options&&ce.set(le.options),le.components&&Object.keys(le.components).forEach(function(ne){le.components[ne].rules&&ce[ne].ruler.enableOnly(le.components[ne].rules),le.components[ne].rules2&&ce[ne].ruler2.enableOnly(le.components[ne].rules2)}),this},j.prototype.enable=function(le,ce){var se=[];Array.isArray(le)||(le=[le]),["core","block","inline"].forEach(function(De){se=se.concat(this[De].ruler.enable(le,!0))},this),se=se.concat(this.inline.ruler2.enable(le,!0));var ne=le.filter(function(De){return se.indexOf(De)<0});if(ne.length&&!ce)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+ne);return this},j.prototype.disable=function(le,ce){var se=[];Array.isArray(le)||(le=[le]),["core","block","inline"].forEach(function(De){se=se.concat(this[De].ruler.disable(le,!0))},this),se=se.concat(this.inline.ruler2.disable(le,!0));var ne=le.filter(function(De){return se.indexOf(De)<0});if(ne.length&&!ce)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+ne);return this},j.prototype.use=function(le){var ce=[this].concat(Array.prototype.slice.call(arguments,1));return le.apply(le,ce),this},j.prototype.parse=function(le,ce){if(typeof le!="string")throw new Error("Input data should be a String");var se=new this.core.State(le,this,ce);return this.core.process(se),se.tokens},j.prototype.render=function(le,ce){return ce=ce||{},this.renderer.render(this.parse(le,ce),this.options,ce)},j.prototype.parseInline=function(le,ce){var se=new this.core.State(le,this,ce);return se.inlineMode=!0,this.core.process(se),se.tokens},j.prototype.renderInline=function(le,ce){return ce=ce||{},this.renderer.render(this.parseInline(le,ce),this.options,ce)},ut.exports=j},77288:function(ut,Ce,f){"use strict";var O=f(77250),U=[["table",f(44445),["paragraph","reference"]],["code",f(42536)],["fence",f(30528),["paragraph","reference","blockquote","list"]],["blockquote",f(90186),["paragraph","reference","blockquote","list"]],["hr",f(61408),["paragraph","reference","blockquote","list"]],["list",f(7102),["paragraph","reference","blockquote"]],["reference",f(49862)],["html_block",f(15916),["paragraph","reference","blockquote"]],["heading",f(45845),["paragraph","reference","blockquote"]],["lheading",f(83984)],["paragraph",f(12398)]];function x(){this.ruler=new O;for(var m=0;m<U.length;m++)this.ruler.push(U[m][0],U[m][1],{alt:(U[m][2]||[]).slice()})}x.prototype.tokenize=function(m,p,d){for(var v,M,D=this.ruler.getRules(""),T=D.length,S=p,g=!1,z=m.md.options.maxNesting;S<d&&(m.line=S=m.skipEmptyLines(S),!(S>=d||m.sCount[S]<m.blkIndent));){if(m.level>=z){m.line=d;break}for(M=0;M<T&&(v=D[M](m,S,d,!1),!v);M++);m.tight=!g,m.isEmpty(m.line-1)&&(g=!0),S=m.line,S<d&&m.isEmpty(S)&&(g=!0,S++,m.line=S)}},x.prototype.parse=function(m,p,d,v){var M;!m||(M=new this.State(m,p,d,v),this.tokenize(M,M.line,M.lineMax))},x.prototype.State=f(2189),ut.exports=x},74444:function(ut,Ce,f){"use strict";var O=f(77250),U=[["normalize",f(93475)],["block",f(89630)],["inline",f(53647)],["linkify",f(837)],["replacements",f(27295)],["smartquotes",f(30133)],["text_join",f(93365)]];function x(){this.ruler=new O;for(var m=0;m<U.length;m++)this.ruler.push(U[m][0],U[m][1])}x.prototype.process=function(m){var p,d,v;for(v=this.ruler.getRules(""),p=0,d=v.length;p<d;p++)v[p](m)},x.prototype.State=f(86943),ut.exports=x},92716:function(ut,Ce,f){"use strict";var O=f(77250),U=[["text",f(47072)],["linkify",f(4118)],["newline",f(42175)],["escape",f(26955)],["backticks",f(34389)],["strikethrough",f(55494).w],["emphasis",f(89282).w],["link",f(17194)],["image",f(46648)],["autolink",f(18257)],["html_inline",f(82694)],["entity",f(62365)]],x=[["balance_pairs",f(89518)],["strikethrough",f(55494).g],["emphasis",f(89282).g],["fragments_join",f(38492)]];function m(){var p;for(this.ruler=new O,p=0;p<U.length;p++)this.ruler.push(U[p][0],U[p][1]);for(this.ruler2=new O,p=0;p<x.length;p++)this.ruler2.push(x[p][0],x[p][1])}m.prototype.skipToken=function(p){var d,v,M=p.pos,D=this.ruler.getRules(""),T=D.length,S=p.md.options.maxNesting,g=p.cache;if(typeof g[M]!="undefined"){p.pos=g[M];return}if(p.level<S)for(v=0;v<T&&(p.level++,d=D[v](p,!0),p.level--,!d);v++);else p.pos=p.posMax;d||p.pos++,g[M]=p.pos},m.prototype.tokenize=function(p){for(var d,v,M=this.ruler.getRules(""),D=M.length,T=p.posMax,S=p.md.options.maxNesting;p.pos<T;){if(p.level<S)for(v=0;v<D&&(d=M[v](p,!1),!d);v++);if(d){if(p.pos>=T)break;continue}p.pending+=p.src[p.pos++]}p.pending&&p.pushPending()},m.prototype.parse=function(p,d,v,M){var D,T,S,g=new this.State(p,d,v,M);for(this.tokenize(g),T=this.ruler2.getRules(""),S=T.length,D=0;D<S;D++)T[D](g)},m.prototype.State=f(78716),ut.exports=m},46457:function(ut){"use strict";ut.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},69952:function(ut){"use strict";ut.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},53017:function(ut){"use strict";ut.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},5201:function(ut,Ce,f){"use strict";var O=f(31117).assign,U=f(31117).unescapeAll,x=f(31117).escapeHtml,m={};m.code_inline=function(d,v,M,D,T){var S=d[v];return"<code"+T.renderAttrs(S)+">"+x(d[v].content)+"</code>"},m.code_block=function(d,v,M,D,T){var S=d[v];return"<pre"+T.renderAttrs(S)+"><code>"+x(d[v].content)+`</code></pre>
`},m.fence=function(d,v,M,D,T){var S=d[v],g=S.info?U(S.info).trim():"",z="",E="",Y,q,j,le,ce;return g&&(j=g.split(/(\s+)/g),z=j[0],E=j.slice(2).join("")),M.highlight?Y=M.highlight(S.content,z,E)||x(S.content):Y=x(S.content),Y.indexOf("<pre")===0?Y+`
`:g?(q=S.attrIndex("class"),le=S.attrs?S.attrs.slice():[],q<0?le.push(["class",M.langPrefix+z]):(le[q]=le[q].slice(),le[q][1]+=" "+M.langPrefix+z),ce={attrs:le},"<pre><code"+T.renderAttrs(ce)+">"+Y+`</code></pre>
`):"<pre><code"+T.renderAttrs(S)+">"+Y+`</code></pre>
`},m.image=function(d,v,M,D,T){var S=d[v];return S.attrs[S.attrIndex("alt")][1]=T.renderInlineAsText(S.children,M,D),T.renderToken(d,v,M)},m.hardbreak=function(d,v,M){return M.xhtmlOut?`<br />
`:`<br>
`},m.softbreak=function(d,v,M){return M.breaks?M.xhtmlOut?`<br />
`:`<br>
`:`
`},m.text=function(d,v){return x(d[v].content)},m.html_block=function(d,v){return d[v].content},m.html_inline=function(d,v){return d[v].content};function p(){this.rules=O({},m)}p.prototype.renderAttrs=function(v){var M,D,T;if(!v.attrs)return"";for(T="",M=0,D=v.attrs.length;M<D;M++)T+=" "+x(v.attrs[M][0])+'="'+x(v.attrs[M][1])+'"';return T},p.prototype.renderToken=function(v,M,D){var T,S="",g=!1,z=v[M];return z.hidden?"":(z.block&&z.nesting!==-1&&M&&v[M-1].hidden&&(S+=`
`),S+=(z.nesting===-1?"</":"<")+z.tag,S+=this.renderAttrs(z),z.nesting===0&&D.xhtmlOut&&(S+=" /"),z.block&&(g=!0,z.nesting===1&&M+1<v.length&&(T=v[M+1],(T.type==="inline"||T.hidden||T.nesting===-1&&T.tag===z.tag)&&(g=!1))),S+=g?`>
`:">",S)},p.prototype.renderInline=function(d,v,M){for(var D,T="",S=this.rules,g=0,z=d.length;g<z;g++)D=d[g].type,typeof S[D]!="undefined"?T+=S[D](d,g,v,M,this):T+=this.renderToken(d,g,v);return T},p.prototype.renderInlineAsText=function(d,v,M){for(var D="",T=0,S=d.length;T<S;T++)d[T].type==="text"?D+=d[T].content:d[T].type==="image"?D+=this.renderInlineAsText(d[T].children,v,M):d[T].type==="softbreak"&&(D+=`
`);return D},p.prototype.render=function(d,v,M){var D,T,S,g="",z=this.rules;for(D=0,T=d.length;D<T;D++)S=d[D].type,S==="inline"?g+=this.renderInline(d[D].children,v,M):typeof z[S]!="undefined"?g+=z[d[D].type](d,D,v,M,this):g+=this.renderToken(d,D,v,M);return g},ut.exports=p},77250:function(ut){"use strict";function Ce(){this.__rules__=[],this.__cache__=null}Ce.prototype.__find__=function(f){for(var O=0;O<this.__rules__.length;O++)if(this.__rules__[O].name===f)return O;return-1},Ce.prototype.__compile__=function(){var f=this,O=[""];f.__rules__.forEach(function(U){!U.enabled||U.alt.forEach(function(x){O.indexOf(x)<0&&O.push(x)})}),f.__cache__={},O.forEach(function(U){f.__cache__[U]=[],f.__rules__.forEach(function(x){!x.enabled||U&&x.alt.indexOf(U)<0||f.__cache__[U].push(x.fn)})})},Ce.prototype.at=function(f,O,U){var x=this.__find__(f),m=U||{};if(x===-1)throw new Error("Parser rule not found: "+f);this.__rules__[x].fn=O,this.__rules__[x].alt=m.alt||[],this.__cache__=null},Ce.prototype.before=function(f,O,U,x){var m=this.__find__(f),p=x||{};if(m===-1)throw new Error("Parser rule not found: "+f);this.__rules__.splice(m,0,{name:O,enabled:!0,fn:U,alt:p.alt||[]}),this.__cache__=null},Ce.prototype.after=function(f,O,U,x){var m=this.__find__(f),p=x||{};if(m===-1)throw new Error("Parser rule not found: "+f);this.__rules__.splice(m+1,0,{name:O,enabled:!0,fn:U,alt:p.alt||[]}),this.__cache__=null},Ce.prototype.push=function(f,O,U){var x=U||{};this.__rules__.push({name:f,enabled:!0,fn:O,alt:x.alt||[]}),this.__cache__=null},Ce.prototype.enable=function(f,O){Array.isArray(f)||(f=[f]);var U=[];return f.forEach(function(x){var m=this.__find__(x);if(m<0){if(O)return;throw new Error("Rules manager: invalid rule name "+x)}this.__rules__[m].enabled=!0,U.push(x)},this),this.__cache__=null,U},Ce.prototype.enableOnly=function(f,O){Array.isArray(f)||(f=[f]),this.__rules__.forEach(function(U){U.enabled=!1}),this.enable(f,O)},Ce.prototype.disable=function(f,O){Array.isArray(f)||(f=[f]);var U=[];return f.forEach(function(x){var m=this.__find__(x);if(m<0){if(O)return;throw new Error("Rules manager: invalid rule name "+x)}this.__rules__[m].enabled=!1,U.push(x)},this),this.__cache__=null,U},Ce.prototype.getRules=function(f){return this.__cache__===null&&this.__compile__(),this.__cache__[f]||[]},ut.exports=Ce},90186:function(ut,Ce,f){"use strict";var O=f(31117).isSpace;ut.exports=function(x,m,p,d){var v,M,D,T,S,g,z,E,Y,q,j,le,ce,se,ne,De,we,je,dt,Qe,lt=x.lineMax,Te=x.bMarks[m]+x.tShift[m],Je=x.eMarks[m];if(x.sCount[m]-x.blkIndent>=4||x.src.charCodeAt(Te++)!==62)return!1;if(d)return!0;for(T=Y=x.sCount[m]+1,x.src.charCodeAt(Te)===32?(Te++,T++,Y++,v=!1,De=!0):x.src.charCodeAt(Te)===9?(De=!0,(x.bsCount[m]+Y)%4===3?(Te++,T++,Y++,v=!1):v=!0):De=!1,q=[x.bMarks[m]],x.bMarks[m]=Te;Te<Je&&(M=x.src.charCodeAt(Te),O(M));){M===9?Y+=4-(Y+x.bsCount[m]+(v?1:0))%4:Y++;Te++}for(j=[x.bsCount[m]],x.bsCount[m]=x.sCount[m]+1+(De?1:0),g=Te>=Je,se=[x.sCount[m]],x.sCount[m]=Y-T,ne=[x.tShift[m]],x.tShift[m]=Te-x.bMarks[m],je=x.md.block.ruler.getRules("blockquote"),ce=x.parentType,x.parentType="blockquote",E=m+1;E<p&&(Qe=x.sCount[E]<x.blkIndent,Te=x.bMarks[E]+x.tShift[E],Je=x.eMarks[E],!(Te>=Je));E++){if(x.src.charCodeAt(Te++)===62&&!Qe){for(T=Y=x.sCount[E]+1,x.src.charCodeAt(Te)===32?(Te++,T++,Y++,v=!1,De=!0):x.src.charCodeAt(Te)===9?(De=!0,(x.bsCount[E]+Y)%4===3?(Te++,T++,Y++,v=!1):v=!0):De=!1,q.push(x.bMarks[E]),x.bMarks[E]=Te;Te<Je&&(M=x.src.charCodeAt(Te),O(M));){M===9?Y+=4-(Y+x.bsCount[E]+(v?1:0))%4:Y++;Te++}g=Te>=Je,j.push(x.bsCount[E]),x.bsCount[E]=x.sCount[E]+1+(De?1:0),se.push(x.sCount[E]),x.sCount[E]=Y-T,ne.push(x.tShift[E]),x.tShift[E]=Te-x.bMarks[E];continue}if(g)break;for(we=!1,D=0,S=je.length;D<S;D++)if(je[D](x,E,p,!0)){we=!0;break}if(we){x.lineMax=E,x.blkIndent!==0&&(q.push(x.bMarks[E]),j.push(x.bsCount[E]),ne.push(x.tShift[E]),se.push(x.sCount[E]),x.sCount[E]-=x.blkIndent);break}q.push(x.bMarks[E]),j.push(x.bsCount[E]),ne.push(x.tShift[E]),se.push(x.sCount[E]),x.sCount[E]=-1}for(le=x.blkIndent,x.blkIndent=0,dt=x.push("blockquote_open","blockquote",1),dt.markup=">",dt.map=z=[m,0],x.md.block.tokenize(x,m,E),dt=x.push("blockquote_close","blockquote",-1),dt.markup=">",x.lineMax=lt,x.parentType=ce,z[1]=x.line,D=0;D<ne.length;D++)x.bMarks[D+m]=q[D],x.tShift[D+m]=ne[D],x.sCount[D+m]=se[D],x.bsCount[D+m]=j[D];return x.blkIndent=le,!0}},42536:function(ut){"use strict";ut.exports=function(f,O,U){var x,m,p;if(f.sCount[O]-f.blkIndent<4)return!1;for(m=x=O+1;x<U;){if(f.isEmpty(x)){x++;continue}if(f.sCount[x]-f.blkIndent>=4){x++,m=x;continue}break}return f.line=m,p=f.push("code_block","code",0),p.content=f.getLines(O,m,4+f.blkIndent,!1)+`
`,p.map=[O,f.line],!0}},30528:function(ut){"use strict";ut.exports=function(f,O,U,x){var m,p,d,v,M,D,T,S=!1,g=f.bMarks[O]+f.tShift[O],z=f.eMarks[O];if(f.sCount[O]-f.blkIndent>=4||g+3>z||(m=f.src.charCodeAt(g),m!==126&&m!==96)||(M=g,g=f.skipChars(g,m),p=g-M,p<3)||(T=f.src.slice(M,g),d=f.src.slice(g,z),m===96&&d.indexOf(String.fromCharCode(m))>=0))return!1;if(x)return!0;for(v=O;v++,!(v>=U||(g=M=f.bMarks[v]+f.tShift[v],z=f.eMarks[v],g<z&&f.sCount[v]<f.blkIndent));)if(f.src.charCodeAt(g)===m&&!(f.sCount[v]-f.blkIndent>=4)&&(g=f.skipChars(g,m),!(g-M<p)&&(g=f.skipSpaces(g),!(g<z)))){S=!0;break}return p=f.sCount[O],f.line=v+(S?1:0),D=f.push("fence","code",0),D.info=d,D.content=f.getLines(O+1,v,p,!0),D.markup=T,D.map=[O,f.line],!0}},45845:function(ut,Ce,f){"use strict";var O=f(31117).isSpace;ut.exports=function(x,m,p,d){var v,M,D,T,S=x.bMarks[m]+x.tShift[m],g=x.eMarks[m];if(x.sCount[m]-x.blkIndent>=4||(v=x.src.charCodeAt(S),v!==35||S>=g))return!1;for(M=1,v=x.src.charCodeAt(++S);v===35&&S<g&&M<=6;)M++,v=x.src.charCodeAt(++S);return M>6||S<g&&!O(v)?!1:(d||(g=x.skipSpacesBack(g,S),D=x.skipCharsBack(g,35,S),D>S&&O(x.src.charCodeAt(D-1))&&(g=D),x.line=m+1,T=x.push("heading_open","h"+String(M),1),T.markup="########".slice(0,M),T.map=[m,x.line],T=x.push("inline","",0),T.content=x.src.slice(S,g).trim(),T.map=[m,x.line],T.children=[],T=x.push("heading_close","h"+String(M),-1),T.markup="########".slice(0,M)),!0)}},61408:function(ut,Ce,f){"use strict";var O=f(31117).isSpace;ut.exports=function(x,m,p,d){var v,M,D,T,S=x.bMarks[m]+x.tShift[m],g=x.eMarks[m];if(x.sCount[m]-x.blkIndent>=4||(v=x.src.charCodeAt(S++),v!==42&&v!==45&&v!==95))return!1;for(M=1;S<g;){if(D=x.src.charCodeAt(S++),D!==v&&!O(D))return!1;D===v&&M++}return M<3?!1:(d||(x.line=m+1,T=x.push("hr","hr",0),T.map=[m,x.line],T.markup=Array(M+1).join(String.fromCharCode(v))),!0)}},15916:function(ut,Ce,f){"use strict";var O=f(84361),U=f(3007).q,x=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+O.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(U.source+"\\s*$"),/^$/,!1]];ut.exports=function(p,d,v,M){var D,T,S,g,z=p.bMarks[d]+p.tShift[d],E=p.eMarks[d];if(p.sCount[d]-p.blkIndent>=4||!p.md.options.html||p.src.charCodeAt(z)!==60)return!1;for(g=p.src.slice(z,E),D=0;D<x.length&&!x[D][0].test(g);D++);if(D===x.length)return!1;if(M)return x[D][2];if(T=d+1,!x[D][1].test(g)){for(;T<v&&!(p.sCount[T]<p.blkIndent);T++)if(z=p.bMarks[T]+p.tShift[T],E=p.eMarks[T],g=p.src.slice(z,E),x[D][1].test(g)){g.length!==0&&T++;break}}return p.line=T,S=p.push("html_block","",0),S.map=[d,T],S.content=p.getLines(d,T,p.blkIndent,!0),!0}},83984:function(ut){"use strict";ut.exports=function(f,O,U){var x,m,p,d,v,M,D,T,S,g=O+1,z,E=f.md.block.ruler.getRules("paragraph");if(f.sCount[O]-f.blkIndent>=4)return!1;for(z=f.parentType,f.parentType="paragraph";g<U&&!f.isEmpty(g);g++)if(!(f.sCount[g]-f.blkIndent>3)){if(f.sCount[g]>=f.blkIndent&&(M=f.bMarks[g]+f.tShift[g],D=f.eMarks[g],M<D&&(S=f.src.charCodeAt(M),(S===45||S===61)&&(M=f.skipChars(M,S),M=f.skipSpaces(M),M>=D)))){T=S===61?1:2;break}if(!(f.sCount[g]<0)){for(m=!1,p=0,d=E.length;p<d;p++)if(E[p](f,g,U,!0)){m=!0;break}if(m)break}}return T?(x=f.getLines(O,g,f.blkIndent,!1).trim(),f.line=g+1,v=f.push("heading_open","h"+String(T),1),v.markup=String.fromCharCode(S),v.map=[O,f.line],v=f.push("inline","",0),v.content=x,v.map=[O,f.line-1],v.children=[],v=f.push("heading_close","h"+String(T),-1),v.markup=String.fromCharCode(S),f.parentType=z,!0):!1}},7102:function(ut,Ce,f){"use strict";var O=f(31117).isSpace;function U(p,d){var v,M,D,T;return M=p.bMarks[d]+p.tShift[d],D=p.eMarks[d],v=p.src.charCodeAt(M++),v!==42&&v!==45&&v!==43||M<D&&(T=p.src.charCodeAt(M),!O(T))?-1:M}function x(p,d){var v,M=p.bMarks[d]+p.tShift[d],D=M,T=p.eMarks[d];if(D+1>=T||(v=p.src.charCodeAt(D++),v<48||v>57))return-1;for(;;){if(D>=T)return-1;if(v=p.src.charCodeAt(D++),v>=48&&v<=57){if(D-M>=10)return-1;continue}if(v===41||v===46)break;return-1}return D<T&&(v=p.src.charCodeAt(D),!O(v))?-1:D}function m(p,d){var v,M,D=p.level+2;for(v=d+2,M=p.tokens.length-2;v<M;v++)p.tokens[v].level===D&&p.tokens[v].type==="paragraph_open"&&(p.tokens[v+2].hidden=!0,p.tokens[v].hidden=!0,v+=2)}ut.exports=function(d,v,M,D){var T,S,g,z,E,Y,q,j,le,ce,se,ne,De,we,je,dt,Qe,lt,Te,Je,te,fe,ue,ae,de,ve,J,X,K=!1,ze=!0;if(d.sCount[v]-d.blkIndent>=4||d.listIndent>=0&&d.sCount[v]-d.listIndent>=4&&d.sCount[v]<d.blkIndent)return!1;if(D&&d.parentType==="paragraph"&&d.sCount[v]>=d.blkIndent&&(K=!0),(ue=x(d,v))>=0){if(q=!0,de=d.bMarks[v]+d.tShift[v],De=Number(d.src.slice(de,ue-1)),K&&De!==1)return!1}else if((ue=U(d,v))>=0)q=!1;else return!1;if(K&&d.skipSpaces(ue)>=d.eMarks[v])return!1;if(ne=d.src.charCodeAt(ue-1),D)return!0;for(se=d.tokens.length,q?(X=d.push("ordered_list_open","ol",1),De!==1&&(X.attrs=[["start",De]])):X=d.push("bullet_list_open","ul",1),X.map=ce=[v,0],X.markup=String.fromCharCode(ne),je=v,ae=!1,J=d.md.block.ruler.getRules("list"),lt=d.parentType,d.parentType="list";je<M;){for(fe=ue,we=d.eMarks[je],Y=dt=d.sCount[je]+ue-(d.bMarks[v]+d.tShift[v]);fe<we;){if(T=d.src.charCodeAt(fe),T===9)dt+=4-(dt+d.bsCount[je])%4;else if(T===32)dt++;else break;fe++}if(S=fe,S>=we?E=1:E=dt-Y,E>4&&(E=1),z=Y+E,X=d.push("list_item_open","li",1),X.markup=String.fromCharCode(ne),X.map=j=[v,0],q&&(X.info=d.src.slice(de,ue-1)),te=d.tight,Je=d.tShift[v],Te=d.sCount[v],Qe=d.listIndent,d.listIndent=d.blkIndent,d.blkIndent=z,d.tight=!0,d.tShift[v]=S-d.bMarks[v],d.sCount[v]=dt,S>=we&&d.isEmpty(v+1)?d.line=Math.min(d.line+2,M):d.md.block.tokenize(d,v,M,!0),(!d.tight||ae)&&(ze=!1),ae=d.line-v>1&&d.isEmpty(d.line-1),d.blkIndent=d.listIndent,d.listIndent=Qe,d.tShift[v]=Je,d.sCount[v]=Te,d.tight=te,X=d.push("list_item_close","li",-1),X.markup=String.fromCharCode(ne),je=v=d.line,j[1]=je,S=d.bMarks[v],je>=M||d.sCount[je]<d.blkIndent||d.sCount[v]-d.blkIndent>=4)break;for(ve=!1,g=0,le=J.length;g<le;g++)if(J[g](d,je,M,!0)){ve=!0;break}if(ve)break;if(q){if(ue=x(d,je),ue<0)break;de=d.bMarks[je]+d.tShift[je]}else if(ue=U(d,je),ue<0)break;if(ne!==d.src.charCodeAt(ue-1))break}return q?X=d.push("ordered_list_close","ol",-1):X=d.push("bullet_list_close","ul",-1),X.markup=String.fromCharCode(ne),ce[1]=je,d.line=je,d.parentType=lt,ze&&m(d,se),!0}},12398:function(ut){"use strict";ut.exports=function(f,O){var U,x,m,p,d,v,M=O+1,D=f.md.block.ruler.getRules("paragraph"),T=f.lineMax;for(v=f.parentType,f.parentType="paragraph";M<T&&!f.isEmpty(M);M++)if(!(f.sCount[M]-f.blkIndent>3)&&!(f.sCount[M]<0)){for(x=!1,m=0,p=D.length;m<p;m++)if(D[m](f,M,T,!0)){x=!0;break}if(x)break}return U=f.getLines(O,M,f.blkIndent,!1).trim(),f.line=M,d=f.push("paragraph_open","p",1),d.map=[O,f.line],d=f.push("inline","",0),d.content=U,d.map=[O,f.line],d.children=[],d=f.push("paragraph_close","p",-1),f.parentType=v,!0}},49862:function(ut,Ce,f){"use strict";var O=f(31117).normalizeReference,U=f(31117).isSpace;ut.exports=function(m,p,d,v){var M,D,T,S,g,z,E,Y,q,j,le,ce,se,ne,De,we,je=0,dt=m.bMarks[p]+m.tShift[p],Qe=m.eMarks[p],lt=p+1;if(m.sCount[p]-m.blkIndent>=4||m.src.charCodeAt(dt)!==91)return!1;for(;++dt<Qe;)if(m.src.charCodeAt(dt)===93&&m.src.charCodeAt(dt-1)!==92){if(dt+1===Qe||m.src.charCodeAt(dt+1)!==58)return!1;break}for(S=m.lineMax,De=m.md.block.ruler.getRules("reference"),j=m.parentType,m.parentType="reference";lt<S&&!m.isEmpty(lt);lt++)if(!(m.sCount[lt]-m.blkIndent>3)&&!(m.sCount[lt]<0)){for(ne=!1,z=0,E=De.length;z<E;z++)if(De[z](m,lt,S,!0)){ne=!0;break}if(ne)break}for(se=m.getLines(p,lt,m.blkIndent,!1).trim(),Qe=se.length,dt=1;dt<Qe;dt++){if(M=se.charCodeAt(dt),M===91)return!1;if(M===93){q=dt;break}else M===10?je++:M===92&&(dt++,dt<Qe&&se.charCodeAt(dt)===10&&je++)}if(q<0||se.charCodeAt(q+1)!==58)return!1;for(dt=q+2;dt<Qe;dt++)if(M=se.charCodeAt(dt),M===10)je++;else if(!U(M))break;if(le=m.md.helpers.parseLinkDestination(se,dt,Qe),!le.ok||(g=m.md.normalizeLink(le.str),!m.md.validateLink(g)))return!1;for(dt=le.pos,je+=le.lines,D=dt,T=je,ce=dt;dt<Qe;dt++)if(M=se.charCodeAt(dt),M===10)je++;else if(!U(M))break;for(le=m.md.helpers.parseLinkTitle(se,dt,Qe),dt<Qe&&ce!==dt&&le.ok?(we=le.str,dt=le.pos,je+=le.lines):(we="",dt=D,je=T);dt<Qe&&(M=se.charCodeAt(dt),!!U(M));)dt++;if(dt<Qe&&se.charCodeAt(dt)!==10&&we)for(we="",dt=D,je=T;dt<Qe&&(M=se.charCodeAt(dt),!!U(M));)dt++;return dt<Qe&&se.charCodeAt(dt)!==10||(Y=O(se.slice(1,q)),!Y)?!1:(v||(typeof m.env.references=="undefined"&&(m.env.references={}),typeof m.env.references[Y]=="undefined"&&(m.env.references[Y]={title:we,href:g}),m.parentType=j,m.line=p+je+1),!0)}},2189:function(ut,Ce,f){"use strict";var O=f(58539),U=f(31117).isSpace;function x(m,p,d,v){var M,D,T,S,g,z,E,Y;for(this.src=m,this.md=p,this.env=d,this.tokens=v,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",D=this.src,Y=!1,T=S=z=E=0,g=D.length;S<g;S++){if(M=D.charCodeAt(S),!Y)if(U(M)){z++,M===9?E+=4-E%4:E++;continue}else Y=!0;(M===10||S===g-1)&&(M!==10&&S++,this.bMarks.push(T),this.eMarks.push(S),this.tShift.push(z),this.sCount.push(E),this.bsCount.push(0),Y=!1,z=0,E=0,T=S+1)}this.bMarks.push(D.length),this.eMarks.push(D.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}x.prototype.push=function(m,p,d){var v=new O(m,p,d);return v.block=!0,d<0&&this.level--,v.level=this.level,d>0&&this.level++,this.tokens.push(v),v},x.prototype.isEmpty=function(p){return this.bMarks[p]+this.tShift[p]>=this.eMarks[p]},x.prototype.skipEmptyLines=function(p){for(var d=this.lineMax;p<d&&!(this.bMarks[p]+this.tShift[p]<this.eMarks[p]);p++);return p},x.prototype.skipSpaces=function(p){for(var d,v=this.src.length;p<v&&(d=this.src.charCodeAt(p),!!U(d));p++);return p},x.prototype.skipSpacesBack=function(p,d){if(p<=d)return p;for(;p>d;)if(!U(this.src.charCodeAt(--p)))return p+1;return p},x.prototype.skipChars=function(p,d){for(var v=this.src.length;p<v&&this.src.charCodeAt(p)===d;p++);return p},x.prototype.skipCharsBack=function(p,d,v){if(p<=v)return p;for(;p>v;)if(d!==this.src.charCodeAt(--p))return p+1;return p},x.prototype.getLines=function(p,d,v,M){var D,T,S,g,z,E,Y,q=p;if(p>=d)return"";for(E=new Array(d-p),D=0;q<d;q++,D++){for(T=0,Y=g=this.bMarks[q],q+1<d||M?z=this.eMarks[q]+1:z=this.eMarks[q];g<z&&T<v;){if(S=this.src.charCodeAt(g),U(S))S===9?T+=4-(T+this.bsCount[q])%4:T++;else if(g-Y<this.tShift[q])T++;else break;g++}T>v?E[D]=new Array(T-v+1).join(" ")+this.src.slice(g,z):E[D]=this.src.slice(g,z)}return E.join("")},x.prototype.Token=O,ut.exports=x},44445:function(ut,Ce,f){"use strict";var O=f(31117).isSpace;function U(m,p){var d=m.bMarks[p]+m.tShift[p],v=m.eMarks[p];return m.src.slice(d,v)}function x(m){var p=[],d=0,v=m.length,M,D=!1,T=0,S="";for(M=m.charCodeAt(d);d<v;)M===124&&(D?(S+=m.substring(T,d-1),T=d):(p.push(S+m.substring(T,d)),S="",T=d+1)),D=M===92,d++,M=m.charCodeAt(d);return p.push(S+m.substring(T)),p}ut.exports=function(p,d,v,M){var D,T,S,g,z,E,Y,q,j,le,ce,se,ne,De,we,je,dt,Qe;if(d+2>v||(E=d+1,p.sCount[E]<p.blkIndent)||p.sCount[E]-p.blkIndent>=4||(S=p.bMarks[E]+p.tShift[E],S>=p.eMarks[E])||(dt=p.src.charCodeAt(S++),dt!==124&&dt!==45&&dt!==58)||S>=p.eMarks[E]||(Qe=p.src.charCodeAt(S++),Qe!==124&&Qe!==45&&Qe!==58&&!O(Qe))||dt===45&&O(Qe))return!1;for(;S<p.eMarks[E];){if(D=p.src.charCodeAt(S),D!==124&&D!==45&&D!==58&&!O(D))return!1;S++}for(T=U(p,d+1),Y=T.split("|"),le=[],g=0;g<Y.length;g++){if(ce=Y[g].trim(),!ce){if(g===0||g===Y.length-1)continue;return!1}if(!/^:?-+:?$/.test(ce))return!1;ce.charCodeAt(ce.length-1)===58?le.push(ce.charCodeAt(0)===58?"center":"right"):ce.charCodeAt(0)===58?le.push("left"):le.push("")}if(T=U(p,d).trim(),T.indexOf("|")===-1||p.sCount[d]-p.blkIndent>=4||(Y=x(T),Y.length&&Y[0]===""&&Y.shift(),Y.length&&Y[Y.length-1]===""&&Y.pop(),q=Y.length,q===0||q!==le.length))return!1;if(M)return!0;for(De=p.parentType,p.parentType="table",je=p.md.block.ruler.getRules("blockquote"),j=p.push("table_open","table",1),j.map=se=[d,0],j=p.push("thead_open","thead",1),j.map=[d,d+1],j=p.push("tr_open","tr",1),j.map=[d,d+1],g=0;g<Y.length;g++)j=p.push("th_open","th",1),le[g]&&(j.attrs=[["style","text-align:"+le[g]]]),j=p.push("inline","",0),j.content=Y[g].trim(),j.children=[],j=p.push("th_close","th",-1);for(j=p.push("tr_close","tr",-1),j=p.push("thead_close","thead",-1),E=d+2;E<v&&!(p.sCount[E]<p.blkIndent);E++){for(we=!1,g=0,z=je.length;g<z;g++)if(je[g](p,E,v,!0)){we=!0;break}if(we||(T=U(p,E).trim(),!T)||p.sCount[E]-p.blkIndent>=4)break;for(Y=x(T),Y.length&&Y[0]===""&&Y.shift(),Y.length&&Y[Y.length-1]===""&&Y.pop(),E===d+2&&(j=p.push("tbody_open","tbody",1),j.map=ne=[d+2,0]),j=p.push("tr_open","tr",1),j.map=[E,E+1],g=0;g<q;g++)j=p.push("td_open","td",1),le[g]&&(j.attrs=[["style","text-align:"+le[g]]]),j=p.push("inline","",0),j.content=Y[g]?Y[g].trim():"",j.children=[],j=p.push("td_close","td",-1);j=p.push("tr_close","tr",-1)}return ne&&(j=p.push("tbody_close","tbody",-1),ne[1]=E),j=p.push("table_close","table",-1),se[1]=E,p.parentType=De,p.line=E,!0}},89630:function(ut){"use strict";ut.exports=function(f){var O;f.inlineMode?(O=new f.Token("inline","",0),O.content=f.src,O.map=[0,1],O.children=[],f.tokens.push(O)):f.md.block.parse(f.src,f.md,f.env,f.tokens)}},53647:function(ut){"use strict";ut.exports=function(f){var O=f.tokens,U,x,m;for(x=0,m=O.length;x<m;x++)U=O[x],U.type==="inline"&&f.md.inline.parse(U.content,f.md,f.env,U.children)}},837:function(ut,Ce,f){"use strict";var O=f(31117).arrayReplaceAt;function U(m){return/^<a[>\s]/i.test(m)}function x(m){return/^<\/a\s*>/i.test(m)}ut.exports=function(p){var d,v,M,D,T,S,g,z,E,Y,q,j,le,ce,se,ne,De=p.tokens,we;if(!!p.md.options.linkify){for(v=0,M=De.length;v<M;v++)if(!(De[v].type!=="inline"||!p.md.linkify.pretest(De[v].content)))for(D=De[v].children,le=0,d=D.length-1;d>=0;d--){if(S=D[d],S.type==="link_close"){for(d--;D[d].level!==S.level&&D[d].type!=="link_open";)d--;continue}if(S.type==="html_inline"&&(U(S.content)&&le>0&&le--,x(S.content)&&le++),!(le>0)&&S.type==="text"&&p.md.linkify.test(S.content)){for(E=S.content,we=p.md.linkify.match(E),g=[],j=S.level,q=0,we.length>0&&we[0].index===0&&d>0&&D[d-1].type==="text_special"&&(we=we.slice(1)),z=0;z<we.length;z++)ce=we[z].url,se=p.md.normalizeLink(ce),p.md.validateLink(se)&&(ne=we[z].text,we[z].schema?we[z].schema==="mailto:"&&!/^mailto:/i.test(ne)?ne=p.md.normalizeLinkText("mailto:"+ne).replace(/^mailto:/,""):ne=p.md.normalizeLinkText(ne):ne=p.md.normalizeLinkText("http://"+ne).replace(/^http:\/\//,""),Y=we[z].index,Y>q&&(T=new p.Token("text","",0),T.content=E.slice(q,Y),T.level=j,g.push(T)),T=new p.Token("link_open","a",1),T.attrs=[["href",se]],T.level=j++,T.markup="linkify",T.info="auto",g.push(T),T=new p.Token("text","",0),T.content=ne,T.level=j,g.push(T),T=new p.Token("link_close","a",-1),T.level=--j,T.markup="linkify",T.info="auto",g.push(T),q=we[z].lastIndex);q<E.length&&(T=new p.Token("text","",0),T.content=E.slice(q),T.level=j,g.push(T)),De[v].children=D=O(D,d,g)}}}}},93475:function(ut){"use strict";var Ce=/\r\n?|\n/g,f=/\0/g;ut.exports=function(U){var x;x=U.src.replace(Ce,`
`),x=x.replace(f,"\uFFFD"),U.src=x}},27295:function(ut){"use strict";var Ce=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,f=/\((c|tm|r)\)/i,O=/\((c|tm|r)\)/ig,U={c:"\xA9",r:"\xAE",tm:"\u2122"};function x(d,v){return U[v.toLowerCase()]}function m(d){var v,M,D=0;for(v=d.length-1;v>=0;v--)M=d[v],M.type==="text"&&!D&&(M.content=M.content.replace(O,x)),M.type==="link_open"&&M.info==="auto"&&D--,M.type==="link_close"&&M.info==="auto"&&D++}function p(d){var v,M,D=0;for(v=d.length-1;v>=0;v--)M=d[v],M.type==="text"&&!D&&Ce.test(M.content)&&(M.content=M.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),M.type==="link_open"&&M.info==="auto"&&D--,M.type==="link_close"&&M.info==="auto"&&D++}ut.exports=function(v){var M;if(!!v.md.options.typographer)for(M=v.tokens.length-1;M>=0;M--)v.tokens[M].type==="inline"&&(f.test(v.tokens[M].content)&&m(v.tokens[M].children),Ce.test(v.tokens[M].content)&&p(v.tokens[M].children))}},30133:function(ut,Ce,f){"use strict";var O=f(31117).isWhiteSpace,U=f(31117).isPunctChar,x=f(31117).isMdAsciiPunct,m=/['"]/,p=/['"]/g,d="\u2019";function v(D,T,S){return D.slice(0,T)+S+D.slice(T+1)}function M(D,T){var S,g,z,E,Y,q,j,le,ce,se,ne,De,we,je,dt,Qe,lt,Te,Je,te,fe;for(Je=[],S=0;S<D.length;S++){for(g=D[S],j=D[S].level,lt=Je.length-1;lt>=0&&!(Je[lt].level<=j);lt--);if(Je.length=lt+1,g.type!=="text")continue;z=g.content,Y=0,q=z.length;e:for(;Y<q&&(p.lastIndex=Y,E=p.exec(z),!!E);){if(dt=Qe=!0,Y=E.index+1,Te=E[0]==="'",ce=32,E.index-1>=0)ce=z.charCodeAt(E.index-1);else for(lt=S-1;lt>=0&&!(D[lt].type==="softbreak"||D[lt].type==="hardbreak");lt--)if(!!D[lt].content){ce=D[lt].content.charCodeAt(D[lt].content.length-1);break}if(se=32,Y<q)se=z.charCodeAt(Y);else for(lt=S+1;lt<D.length&&!(D[lt].type==="softbreak"||D[lt].type==="hardbreak");lt++)if(!!D[lt].content){se=D[lt].content.charCodeAt(0);break}if(ne=x(ce)||U(String.fromCharCode(ce)),De=x(se)||U(String.fromCharCode(se)),we=O(ce),je=O(se),je?dt=!1:De&&(we||ne||(dt=!1)),we?Qe=!1:ne&&(je||De||(Qe=!1)),se===34&&E[0]==='"'&&ce>=48&&ce<=57&&(Qe=dt=!1),dt&&Qe&&(dt=ne,Qe=De),!dt&&!Qe){Te&&(g.content=v(g.content,E.index,d));continue}if(Qe){for(lt=Je.length-1;lt>=0&&(le=Je[lt],!(Je[lt].level<j));lt--)if(le.single===Te&&Je[lt].level===j){le=Je[lt],Te?(te=T.md.options.quotes[2],fe=T.md.options.quotes[3]):(te=T.md.options.quotes[0],fe=T.md.options.quotes[1]),g.content=v(g.content,E.index,fe),D[le.token].content=v(D[le.token].content,le.pos,te),Y+=fe.length-1,le.token===S&&(Y+=te.length-1),z=g.content,q=z.length,Je.length=lt;continue e}}dt?Je.push({token:S,pos:E.index,single:Te,level:j}):Qe&&Te&&(g.content=v(g.content,E.index,d))}}}ut.exports=function(T){var S;if(!!T.md.options.typographer)for(S=T.tokens.length-1;S>=0;S--)T.tokens[S].type!=="inline"||!m.test(T.tokens[S].content)||M(T.tokens[S].children,T)}},86943:function(ut,Ce,f){"use strict";var O=f(58539);function U(x,m,p){this.src=x,this.env=p,this.tokens=[],this.inlineMode=!1,this.md=m}U.prototype.Token=O,ut.exports=U},93365:function(ut){"use strict";ut.exports=function(f){var O,U,x,m,p,d,v=f.tokens;for(O=0,U=v.length;O<U;O++)if(v[O].type==="inline"){for(x=v[O].children,p=x.length,m=0;m<p;m++)x[m].type==="text_special"&&(x[m].type="text");for(m=d=0;m<p;m++)x[m].type==="text"&&m+1<p&&x[m+1].type==="text"?x[m+1].content=x[m].content+x[m+1].content:(m!==d&&(x[d]=x[m]),d++);m!==d&&(x.length=d)}}},18257:function(ut){"use strict";var Ce=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,f=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;ut.exports=function(U,x){var m,p,d,v,M,D,T=U.pos;if(U.src.charCodeAt(T)!==60)return!1;for(M=U.pos,D=U.posMax;;){if(++T>=D||(v=U.src.charCodeAt(T),v===60))return!1;if(v===62)break}return m=U.src.slice(M+1,T),f.test(m)?(p=U.md.normalizeLink(m),U.md.validateLink(p)?(x||(d=U.push("link_open","a",1),d.attrs=[["href",p]],d.markup="autolink",d.info="auto",d=U.push("text","",0),d.content=U.md.normalizeLinkText(m),d=U.push("link_close","a",-1),d.markup="autolink",d.info="auto"),U.pos+=m.length+2,!0):!1):Ce.test(m)?(p=U.md.normalizeLink("mailto:"+m),U.md.validateLink(p)?(x||(d=U.push("link_open","a",1),d.attrs=[["href",p]],d.markup="autolink",d.info="auto",d=U.push("text","",0),d.content=U.md.normalizeLinkText(m),d=U.push("link_close","a",-1),d.markup="autolink",d.info="auto"),U.pos+=m.length+2,!0):!1):!1}},34389:function(ut){"use strict";ut.exports=function(f,O){var U,x,m,p,d,v,M,D,T=f.pos,S=f.src.charCodeAt(T);if(S!==96)return!1;for(U=T,T++,x=f.posMax;T<x&&f.src.charCodeAt(T)===96;)T++;if(m=f.src.slice(U,T),M=m.length,f.backticksScanned&&(f.backticks[M]||0)<=U)return O||(f.pending+=m),f.pos+=M,!0;for(d=v=T;(d=f.src.indexOf("`",v))!==-1;){for(v=d+1;v<x&&f.src.charCodeAt(v)===96;)v++;if(D=v-d,D===M)return O||(p=f.push("code_inline","code",0),p.markup=m,p.content=f.src.slice(T,d).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),f.pos=v,!0;f.backticks[D]=d}return f.backticksScanned=!0,O||(f.pending+=m),f.pos+=M,!0}},89518:function(ut){"use strict";function Ce(f,O){var U,x,m,p,d,v,M,D,T={},S=O.length;if(!!S){var g=0,z=-2,E=[];for(U=0;U<S;U++)if(m=O[U],E.push(0),(O[g].marker!==m.marker||z!==m.token-1)&&(g=U),z=m.token,m.length=m.length||0,!!m.close){for(T.hasOwnProperty(m.marker)||(T[m.marker]=[-1,-1,-1,-1,-1,-1]),d=T[m.marker][(m.open?3:0)+m.length%3],x=g-E[g]-1,v=x;x>d;x-=E[x]+1)if(p=O[x],p.marker===m.marker&&p.open&&p.end<0&&(M=!1,(p.close||m.open)&&(p.length+m.length)%3===0&&(p.length%3!==0||m.length%3!==0)&&(M=!0),!M)){D=x>0&&!O[x-1].open?E[x-1]+1:0,E[U]=U-x+D,E[x]=D,m.open=!1,p.end=U,p.close=!1,v=-1,z=-2;break}v!==-1&&(T[m.marker][(m.open?3:0)+(m.length||0)%3]=v)}}}ut.exports=function(O){var U,x=O.tokens_meta,m=O.tokens_meta.length;for(Ce(O,O.delimiters),U=0;U<m;U++)x[U]&&x[U].delimiters&&Ce(O,x[U].delimiters)}},89282:function(ut){"use strict";ut.exports.w=function(O,U){var x,m,p,d=O.pos,v=O.src.charCodeAt(d);if(U||v!==95&&v!==42)return!1;for(m=O.scanDelims(O.pos,v===42),x=0;x<m.length;x++)p=O.push("text","",0),p.content=String.fromCharCode(v),O.delimiters.push({marker:v,length:m.length,token:O.tokens.length-1,end:-1,open:m.can_open,close:m.can_close});return O.pos+=m.length,!0};function Ce(f,O){var U,x,m,p,d,v,M=O.length;for(U=M-1;U>=0;U--)x=O[U],!(x.marker!==95&&x.marker!==42)&&x.end!==-1&&(m=O[x.end],v=U>0&&O[U-1].end===x.end+1&&O[U-1].marker===x.marker&&O[U-1].token===x.token-1&&O[x.end+1].token===m.token+1,d=String.fromCharCode(x.marker),p=f.tokens[x.token],p.type=v?"strong_open":"em_open",p.tag=v?"strong":"em",p.nesting=1,p.markup=v?d+d:d,p.content="",p=f.tokens[m.token],p.type=v?"strong_close":"em_close",p.tag=v?"strong":"em",p.nesting=-1,p.markup=v?d+d:d,p.content="",v&&(f.tokens[O[U-1].token].content="",f.tokens[O[x.end+1].token].content="",U--))}ut.exports.g=function(O){var U,x=O.tokens_meta,m=O.tokens_meta.length;for(Ce(O,O.delimiters),U=0;U<m;U++)x[U]&&x[U].delimiters&&Ce(O,x[U].delimiters)}},62365:function(ut,Ce,f){"use strict";var O=f(53593),U=f(31117).has,x=f(31117).isValidEntityCode,m=f(31117).fromCodePoint,p=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,d=/^&([a-z][a-z0-9]{1,31});/i;ut.exports=function(M,D){var T,S,g,z,E=M.pos,Y=M.posMax;if(M.src.charCodeAt(E)!==38||E+1>=Y)return!1;if(T=M.src.charCodeAt(E+1),T===35){if(g=M.src.slice(E).match(p),g)return D||(S=g[1][0].toLowerCase()==="x"?parseInt(g[1].slice(1),16):parseInt(g[1],10),z=M.push("text_special","",0),z.content=x(S)?m(S):m(65533),z.markup=g[0],z.info="entity"),M.pos+=g[0].length,!0}else if(g=M.src.slice(E).match(d),g&&U(O,g[1]))return D||(z=M.push("text_special","",0),z.content=O[g[1]],z.markup=g[0],z.info="entity"),M.pos+=g[0].length,!0;return!1}},26955:function(ut,Ce,f){"use strict";for(var O=f(31117).isSpace,U=[],x=0;x<256;x++)U.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(m){U[m.charCodeAt(0)]=1}),ut.exports=function(p,d){var v,M,D,T,S,g=p.pos,z=p.posMax;if(p.src.charCodeAt(g)!==92||(g++,g>=z))return!1;if(v=p.src.charCodeAt(g),v===10){for(d||p.push("hardbreak","br",0),g++;g<z&&(v=p.src.charCodeAt(g),!!O(v));)g++;return p.pos=g,!0}return T=p.src[g],v>=55296&&v<=56319&&g+1<z&&(M=p.src.charCodeAt(g+1),M>=56320&&M<=57343&&(T+=p.src[g+1],g++)),D="\\"+T,d||(S=p.push("text_special","",0),v<256&&U[v]!==0?S.content=T:S.content=D,S.markup=D,S.info="escape"),p.pos=g+1,!0}},38492:function(ut){"use strict";ut.exports=function(f){var O,U,x=0,m=f.tokens,p=f.tokens.length;for(O=U=0;O<p;O++)m[O].nesting<0&&x--,m[O].level=x,m[O].nesting>0&&x++,m[O].type==="text"&&O+1<p&&m[O+1].type==="text"?m[O+1].content=m[O].content+m[O+1].content:(O!==U&&(m[U]=m[O]),U++);O!==U&&(m.length=U)}},82694:function(ut,Ce,f){"use strict";var O=f(3007).n;function U(p){return/^<a[>\s]/i.test(p)}function x(p){return/^<\/a\s*>/i.test(p)}function m(p){var d=p|32;return d>=97&&d<=122}ut.exports=function(d,v){var M,D,T,S,g=d.pos;return!d.md.options.html||(T=d.posMax,d.src.charCodeAt(g)!==60||g+2>=T)||(M=d.src.charCodeAt(g+1),M!==33&&M!==63&&M!==47&&!m(M))||(D=d.src.slice(g).match(O),!D)?!1:(v||(S=d.push("html_inline","",0),S.content=d.src.slice(g,g+D[0].length),U(S.content)&&d.linkLevel++,x(S.content)&&d.linkLevel--),d.pos+=D[0].length,!0)}},46648:function(ut,Ce,f){"use strict";var O=f(31117).normalizeReference,U=f(31117).isSpace;ut.exports=function(m,p){var d,v,M,D,T,S,g,z,E,Y,q,j,le,ce="",se=m.pos,ne=m.posMax;if(m.src.charCodeAt(m.pos)!==33||m.src.charCodeAt(m.pos+1)!==91||(S=m.pos+2,T=m.md.helpers.parseLinkLabel(m,m.pos+1,!1),T<0))return!1;if(g=T+1,g<ne&&m.src.charCodeAt(g)===40){for(g++;g<ne&&(v=m.src.charCodeAt(g),!(!U(v)&&v!==10));g++);if(g>=ne)return!1;for(le=g,E=m.md.helpers.parseLinkDestination(m.src,g,m.posMax),E.ok&&(ce=m.md.normalizeLink(E.str),m.md.validateLink(ce)?g=E.pos:ce=""),le=g;g<ne&&(v=m.src.charCodeAt(g),!(!U(v)&&v!==10));g++);if(E=m.md.helpers.parseLinkTitle(m.src,g,m.posMax),g<ne&&le!==g&&E.ok)for(Y=E.str,g=E.pos;g<ne&&(v=m.src.charCodeAt(g),!(!U(v)&&v!==10));g++);else Y="";if(g>=ne||m.src.charCodeAt(g)!==41)return m.pos=se,!1;g++}else{if(typeof m.env.references=="undefined")return!1;if(g<ne&&m.src.charCodeAt(g)===91?(le=g+1,g=m.md.helpers.parseLinkLabel(m,g),g>=0?D=m.src.slice(le,g++):g=T+1):g=T+1,D||(D=m.src.slice(S,T)),z=m.env.references[O(D)],!z)return m.pos=se,!1;ce=z.href,Y=z.title}return p||(M=m.src.slice(S,T),m.md.inline.parse(M,m.md,m.env,j=[]),q=m.push("image","img",0),q.attrs=d=[["src",ce],["alt",""]],q.children=j,q.content=M,Y&&d.push(["title",Y])),m.pos=g,m.posMax=ne,!0}},17194:function(ut,Ce,f){"use strict";var O=f(31117).normalizeReference,U=f(31117).isSpace;ut.exports=function(m,p){var d,v,M,D,T,S,g,z,E,Y="",q="",j=m.pos,le=m.posMax,ce=m.pos,se=!0;if(m.src.charCodeAt(m.pos)!==91||(T=m.pos+1,D=m.md.helpers.parseLinkLabel(m,m.pos,!0),D<0))return!1;if(S=D+1,S<le&&m.src.charCodeAt(S)===40){for(se=!1,S++;S<le&&(v=m.src.charCodeAt(S),!(!U(v)&&v!==10));S++);if(S>=le)return!1;if(ce=S,g=m.md.helpers.parseLinkDestination(m.src,S,m.posMax),g.ok){for(Y=m.md.normalizeLink(g.str),m.md.validateLink(Y)?S=g.pos:Y="",ce=S;S<le&&(v=m.src.charCodeAt(S),!(!U(v)&&v!==10));S++);if(g=m.md.helpers.parseLinkTitle(m.src,S,m.posMax),S<le&&ce!==S&&g.ok)for(q=g.str,S=g.pos;S<le&&(v=m.src.charCodeAt(S),!(!U(v)&&v!==10));S++);}(S>=le||m.src.charCodeAt(S)!==41)&&(se=!0),S++}if(se){if(typeof m.env.references=="undefined")return!1;if(S<le&&m.src.charCodeAt(S)===91?(ce=S+1,S=m.md.helpers.parseLinkLabel(m,S),S>=0?M=m.src.slice(ce,S++):S=D+1):S=D+1,M||(M=m.src.slice(T,D)),z=m.env.references[O(M)],!z)return m.pos=j,!1;Y=z.href,q=z.title}return p||(m.pos=T,m.posMax=D,E=m.push("link_open","a",1),E.attrs=d=[["href",Y]],q&&d.push(["title",q]),m.linkLevel++,m.md.inline.tokenize(m),m.linkLevel--,E=m.push("link_close","a",-1)),m.pos=S,m.posMax=le,!0}},4118:function(ut){"use strict";var Ce=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;ut.exports=function(O,U){var x,m,p,d,v,M,D,T;return!O.md.options.linkify||O.linkLevel>0||(x=O.pos,m=O.posMax,x+3>m)||O.src.charCodeAt(x)!==58||O.src.charCodeAt(x+1)!==47||O.src.charCodeAt(x+2)!==47||(p=O.pending.match(Ce),!p)||(d=p[1],v=O.md.linkify.matchAtStart(O.src.slice(x-d.length)),!v)||(M=v.url,M=M.replace(/\*+$/,""),D=O.md.normalizeLink(M),!O.md.validateLink(D))?!1:(U||(O.pending=O.pending.slice(0,-d.length),T=O.push("link_open","a",1),T.attrs=[["href",D]],T.markup="linkify",T.info="auto",T=O.push("text","",0),T.content=O.md.normalizeLinkText(M),T=O.push("link_close","a",-1),T.markup="linkify",T.info="auto"),O.pos+=M.length-d.length,!0)}},42175:function(ut,Ce,f){"use strict";var O=f(31117).isSpace;ut.exports=function(x,m){var p,d,v,M=x.pos;if(x.src.charCodeAt(M)!==10)return!1;if(p=x.pending.length-1,d=x.posMax,!m)if(p>=0&&x.pending.charCodeAt(p)===32)if(p>=1&&x.pending.charCodeAt(p-1)===32){for(v=p-1;v>=1&&x.pending.charCodeAt(v-1)===32;)v--;x.pending=x.pending.slice(0,v),x.push("hardbreak","br",0)}else x.pending=x.pending.slice(0,-1),x.push("softbreak","br",0);else x.push("softbreak","br",0);for(M++;M<d&&O(x.src.charCodeAt(M));)M++;return x.pos=M,!0}},78716:function(ut,Ce,f){"use strict";var O=f(58539),U=f(31117).isWhiteSpace,x=f(31117).isPunctChar,m=f(31117).isMdAsciiPunct;function p(d,v,M,D){this.src=d,this.env=M,this.md=v,this.tokens=D,this.tokens_meta=Array(D.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}p.prototype.pushPending=function(){var d=new O("text","",0);return d.content=this.pending,d.level=this.pendingLevel,this.tokens.push(d),this.pending="",d},p.prototype.push=function(d,v,M){this.pending&&this.pushPending();var D=new O(d,v,M),T=null;return M<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),D.level=this.level,M>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],T={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(D),this.tokens_meta.push(T),D},p.prototype.scanDelims=function(d,v){var M=d,D,T,S,g,z,E,Y,q,j,le=!0,ce=!0,se=this.posMax,ne=this.src.charCodeAt(d);for(D=d>0?this.src.charCodeAt(d-1):32;M<se&&this.src.charCodeAt(M)===ne;)M++;return S=M-d,T=M<se?this.src.charCodeAt(M):32,Y=m(D)||x(String.fromCharCode(D)),j=m(T)||x(String.fromCharCode(T)),E=U(D),q=U(T),q?le=!1:j&&(E||Y||(le=!1)),E?ce=!1:Y&&(q||j||(ce=!1)),v?(g=le,z=ce):(g=le&&(!ce||Y),z=ce&&(!le||j)),{can_open:g,can_close:z,length:S}},p.prototype.Token=O,ut.exports=p},55494:function(ut){"use strict";ut.exports.w=function(O,U){var x,m,p,d,v,M=O.pos,D=O.src.charCodeAt(M);if(U||D!==126||(m=O.scanDelims(O.pos,!0),d=m.length,v=String.fromCharCode(D),d<2))return!1;for(d%2&&(p=O.push("text","",0),p.content=v,d--),x=0;x<d;x+=2)p=O.push("text","",0),p.content=v+v,O.delimiters.push({marker:D,length:0,token:O.tokens.length-1,end:-1,open:m.can_open,close:m.can_close});return O.pos+=m.length,!0};function Ce(f,O){var U,x,m,p,d,v=[],M=O.length;for(U=0;U<M;U++)m=O[U],m.marker===126&&m.end!==-1&&(p=O[m.end],d=f.tokens[m.token],d.type="s_open",d.tag="s",d.nesting=1,d.markup="~~",d.content="",d=f.tokens[p.token],d.type="s_close",d.tag="s",d.nesting=-1,d.markup="~~",d.content="",f.tokens[p.token-1].type==="text"&&f.tokens[p.token-1].content==="~"&&v.push(p.token-1));for(;v.length;){for(U=v.pop(),x=U+1;x<f.tokens.length&&f.tokens[x].type==="s_close";)x++;x--,U!==x&&(d=f.tokens[x],f.tokens[x]=f.tokens[U],f.tokens[U]=d)}}ut.exports.g=function(O){var U,x=O.tokens_meta,m=O.tokens_meta.length;for(Ce(O,O.delimiters),U=0;U<m;U++)x[U]&&x[U].delimiters&&Ce(O,x[U].delimiters)}},47072:function(ut){"use strict";function Ce(f){switch(f){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}ut.exports=function(O,U){for(var x=O.pos;x<O.posMax&&!Ce(O.src.charCodeAt(x));)x++;return x===O.pos?!1:(U||(O.pending+=O.src.slice(O.pos,x)),O.pos=x,!0)}},58539:function(ut){"use strict";function Ce(f,O,U){this.type=f,this.tag=O,this.attrs=null,this.map=null,this.nesting=U,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ce.prototype.attrIndex=function(O){var U,x,m;if(!this.attrs)return-1;for(U=this.attrs,x=0,m=U.length;x<m;x++)if(U[x][0]===O)return x;return-1},Ce.prototype.attrPush=function(O){this.attrs?this.attrs.push(O):this.attrs=[O]},Ce.prototype.attrSet=function(O,U){var x=this.attrIndex(O),m=[O,U];x<0?this.attrPush(m):this.attrs[x]=m},Ce.prototype.attrGet=function(O){var U=this.attrIndex(O),x=null;return U>=0&&(x=this.attrs[U][1]),x},Ce.prototype.attrJoin=function(O,U){var x=this.attrIndex(O);x<0?this.attrPush([O,U]):this.attrs[x][1]=this.attrs[x][1]+" "+U},ut.exports=Ce},18585:function(ut){"use strict";var Ce={};function f(U){var x,m,p=Ce[U];if(p)return p;for(p=Ce[U]=[],x=0;x<128;x++)m=String.fromCharCode(x),p.push(m);for(x=0;x<U.length;x++)m=U.charCodeAt(x),p[m]="%"+("0"+m.toString(16).toUpperCase()).slice(-2);return p}function O(U,x){var m;return typeof x!="string"&&(x=O.defaultChars),m=f(x),U.replace(/(%[a-f0-9]{2})+/gi,function(p){var d,v,M,D,T,S,g,z="";for(d=0,v=p.length;d<v;d+=3){if(M=parseInt(p.slice(d+1,d+3),16),M<128){z+=m[M];continue}if((M&224)===192&&d+3<v&&(D=parseInt(p.slice(d+4,d+6),16),(D&192)===128)){g=M<<6&1984|D&63,g<128?z+="\uFFFD\uFFFD":z+=String.fromCharCode(g),d+=3;continue}if((M&240)===224&&d+6<v&&(D=parseInt(p.slice(d+4,d+6),16),T=parseInt(p.slice(d+7,d+9),16),(D&192)===128&&(T&192)===128)){g=M<<12&61440|D<<6&4032|T&63,g<2048||g>=55296&&g<=57343?z+="\uFFFD\uFFFD\uFFFD":z+=String.fromCharCode(g),d+=6;continue}if((M&248)===240&&d+9<v&&(D=parseInt(p.slice(d+4,d+6),16),T=parseInt(p.slice(d+7,d+9),16),S=parseInt(p.slice(d+10,d+12),16),(D&192)===128&&(T&192)===128&&(S&192)===128)){g=M<<18&1835008|D<<12&258048|T<<6&4032|S&63,g<65536||g>1114111?z+="\uFFFD\uFFFD\uFFFD\uFFFD":(g-=65536,z+=String.fromCharCode(55296+(g>>10),56320+(g&1023))),d+=9;continue}z+="\uFFFD"}return z})}O.defaultChars=";/?:@&=+$,#",O.componentChars="",ut.exports=O},5704:function(ut){"use strict";var Ce={};function f(U){var x,m,p=Ce[U];if(p)return p;for(p=Ce[U]=[],x=0;x<128;x++)m=String.fromCharCode(x),/^[0-9a-z]$/i.test(m)?p.push(m):p.push("%"+("0"+x.toString(16).toUpperCase()).slice(-2));for(x=0;x<U.length;x++)p[U.charCodeAt(x)]=U[x];return p}function O(U,x,m){var p,d,v,M,D,T="";for(typeof x!="string"&&(m=x,x=O.defaultChars),typeof m=="undefined"&&(m=!0),D=f(x),p=0,d=U.length;p<d;p++){if(v=U.charCodeAt(p),m&&v===37&&p+2<d&&/^[0-9a-f]{2}$/i.test(U.slice(p+1,p+3))){T+=U.slice(p,p+3),p+=2;continue}if(v<128){T+=D[v];continue}if(v>=55296&&v<=57343){if(v>=55296&&v<=56319&&p+1<d&&(M=U.charCodeAt(p+1),M>=56320&&M<=57343)){T+=encodeURIComponent(U[p]+U[p+1]),p++;continue}T+="%EF%BF%BD";continue}T+=encodeURIComponent(U[p])}return T}O.defaultChars=";/?:@&=+$,-_.!~*'()#",O.componentChars="-_.!~*'()",ut.exports=O},39481:function(ut){"use strict";ut.exports=function(f){var O="";return O+=f.protocol||"",O+=f.slashes?"//":"",O+=f.auth?f.auth+"@":"",f.hostname&&f.hostname.indexOf(":")!==-1?O+="["+f.hostname+"]":O+=f.hostname||"",O+=f.port?":"+f.port:"",O+=f.pathname||"",O+=f.search||"",O+=f.hash||"",O}},12449:function(ut,Ce,f){"use strict";ut.exports.encode=f(5704),ut.exports.decode=f(18585),ut.exports.format=f(39481),ut.exports.parse=f(25979)},25979:function(ut){"use strict";function Ce(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var f=/^([a-z0-9.+-]+:)/i,O=/:[0-9]*$/,U=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,x=["<",">",'"',"`"," ","\r",`
`,"	"],m=["{","}","|","\\","^","`"].concat(x),p=["'"].concat(m),d=["%","/","?",";","#"].concat(p),v=["/","?","#"],M=255,D=/^[+a-z0-9A-Z_-]{0,63}$/,T=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function z(E,Y){if(E&&E instanceof Ce)return E;var q=new Ce;return q.parse(E,Y),q}Ce.prototype.parse=function(E,Y){var q,j,le,ce,se,ne=E;if(ne=ne.trim(),!Y&&E.split("#").length===1){var De=U.exec(ne);if(De)return this.pathname=De[1],De[2]&&(this.search=De[2]),this}var we=f.exec(ne);if(we&&(we=we[0],le=we.toLowerCase(),this.protocol=we,ne=ne.substr(we.length)),(Y||we||ne.match(/^\/\/[^@\/]+@[^@\/]+/))&&(se=ne.substr(0,2)==="//",se&&!(we&&S[we])&&(ne=ne.substr(2),this.slashes=!0)),!S[we]&&(se||we&&!g[we])){var je=-1;for(q=0;q<v.length;q++)ce=ne.indexOf(v[q]),ce!==-1&&(je===-1||ce<je)&&(je=ce);var dt,Qe;for(je===-1?Qe=ne.lastIndexOf("@"):Qe=ne.lastIndexOf("@",je),Qe!==-1&&(dt=ne.slice(0,Qe),ne=ne.slice(Qe+1),this.auth=dt),je=-1,q=0;q<d.length;q++)ce=ne.indexOf(d[q]),ce!==-1&&(je===-1||ce<je)&&(je=ce);je===-1&&(je=ne.length),ne[je-1]===":"&&je--;var lt=ne.slice(0,je);ne=ne.slice(je),this.parseHost(lt),this.hostname=this.hostname||"";var Te=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Te){var Je=this.hostname.split(/\./);for(q=0,j=Je.length;q<j;q++){var te=Je[q];if(!!te&&!te.match(D)){for(var fe="",ue=0,ae=te.length;ue<ae;ue++)te.charCodeAt(ue)>127?fe+="x":fe+=te[ue];if(!fe.match(D)){var de=Je.slice(0,q),ve=Je.slice(q+1),J=te.match(T);J&&(de.push(J[1]),ve.unshift(J[2])),ve.length&&(ne=ve.join(".")+ne),this.hostname=de.join(".");break}}}}this.hostname.length>M&&(this.hostname=""),Te&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var X=ne.indexOf("#");X!==-1&&(this.hash=ne.substr(X),ne=ne.slice(0,X));var K=ne.indexOf("?");return K!==-1&&(this.search=ne.substr(K),ne=ne.slice(0,K)),ne&&(this.pathname=ne),g[le]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Ce.prototype.parseHost=function(E){var Y=O.exec(E);Y&&(Y=Y[0],Y!==":"&&(this.port=Y.substr(1)),E=E.substr(0,E.length-Y.length)),E&&(this.hostname=E)},ut.exports=z},57699:function(ut,Ce){"use strict";var f=Number.isNaN||function(p){return typeof p=="number"&&p!==p};function O(m,p){return!!(m===p||f(m)&&f(p))}function U(m,p){if(m.length!==p.length)return!1;for(var d=0;d<m.length;d++)if(!O(m[d],p[d]))return!1;return!0}function x(m,p){p===void 0&&(p=U);var d,v=[],M,D=!1;function T(){for(var S=[],g=0;g<arguments.length;g++)S[g]=arguments[g];return D&&d===this&&p(S,v)||(M=m.apply(this,S),D=!0,d=this,v=S),M}return T}Ce.Z=x},81050:function(ut,Ce,f){"use strict";f.d(Ce,{a:function(){return pc},b:function(){return _c},c:function(){return Ee},d:function(){return ll},e:function(){return qt},f:function(){return ud},g:function(){return qe},h:function(){return Ab},i:function(){return fp},j:function(){return t},k:function(){return i},l:function(){return Me},m:function(){return rs},n:function(){return jr},o:function(){return eh},p:function(){return Ea},s:function(){return oo}});function O(e){for(var n=[],u=1;u<arguments.length;u++)n[u-1]=arguments[u];var b=Array.from(typeof e=="string"?[e]:e);b[b.length-1]=b[b.length-1].replace(/\r?\n([\t ]*)$/,"");var y=b.reduce(function(V,ee){var _e=ee.match(/\n([\t ]+|(?!\s).)/g);return _e?V.concat(_e.map(function(Le){var Fe,Re;return(Re=(Fe=Le.match(/[\t ]/g))===null||Fe===void 0?void 0:Fe.length)!==null&&Re!==void 0?Re:0})):V},[]);if(y.length){var L=new RegExp(`
[	 ]{`+Math.min.apply(Math,y)+"}","g");b=b.map(function(V){return V.replace(L,`
`)})}b[0]=b[0].replace(/^\r?\n/,"");var P=b[0];return n.forEach(function(V,ee){var _e=P.match(/(?:^|\n)( *)$/),Le=_e?_e[1]:"",Fe=V;typeof V=="string"&&V.includes(`
`)&&(Fe=String(V).split(`
`).map(function(Re,Ke){return Ke===0?Re:""+Le+Re}).join(`
`)),P+=Fe+b[ee+1]}),P}var U=O,x=f(74637),m=f.n(x),p=f(85804),d=f(87823),v=f(33582),M=f.n(v),D=f(63658),T=f(10557),g=(e,n)=>{const u=D.Z.parse(e);for(const b in n)u[b]=T.Z.channel.clamp[b](n[b]);return D.Z.stringify(u)},E=(e,n)=>{const u=D.Z.parse(e),b={};for(const y in n)!n[y]||(b[y]=u[y]+n[y]);return g(e,b)},Y=f(829),j=(e,n,u=0,b=1)=>{if(typeof e!="number")return g(e,{a:n});const y=Y.Z.set({r:T.Z.channel.clamp.r(e),g:T.Z.channel.clamp.g(n),b:T.Z.channel.clamp.b(u),a:T.Z.channel.clamp.a(b)});return D.Z.stringify(y)},ce=(e,n,u=50)=>{const{r:b,g:y,b:L,a:P}=D.Z.parse(e),{r:V,g:ee,b:_e,a:Le}=D.Z.parse(n),Fe=u/100,Re=Fe*2-1,Ke=P-Le,sn=((Re*Ke===-1?Re:(Re+Ke)/(1+Re*Ke))+1)/2,an=1-sn,hn=b*sn+V*an,Xt=y*sn+ee*an,zn=L*sn+_e*an,nr=P*Fe+Le*(1-Fe);return j(hn,Xt,zn,nr)},ne=(e,n=100)=>{const u=D.Z.parse(e);return u.r=255-u.r,u.g=255-u.g,u.b=255-u.b,ce(u,e,n)},De=f(65686),we=f(24857),je=f(59332),dt=f(90137),Qe=f(42727),lt=f(24963),Te=f(39564),Je=f(64160);const te=[];for(let e=0;e<256;++e)te.push((e+256).toString(16).slice(1));function fe(e,n=0){return(te[e[n+0]]+te[e[n+1]]+te[e[n+2]]+te[e[n+3]]+"-"+te[e[n+4]]+te[e[n+5]]+"-"+te[e[n+6]]+te[e[n+7]]+"-"+te[e[n+8]]+te[e[n+9]]+"-"+te[e[n+10]]+te[e[n+11]]+te[e[n+12]]+te[e[n+13]]+te[e[n+14]]+te[e[n+15]]).toLowerCase()}function ue(e,n=0){const u=fe(e,n);if(!validate(u))throw TypeError("Stringified UUID is invalid");return u}var ae=null,de=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ve(e){return typeof e=="string"&&de.test(e)}var J=ve;function X(e){if(!J(e))throw TypeError("Invalid UUID");let n;const u=new Uint8Array(16);return u[0]=(n=parseInt(e.slice(0,8),16))>>>24,u[1]=n>>>16&255,u[2]=n>>>8&255,u[3]=n&255,u[4]=(n=parseInt(e.slice(9,13),16))>>>8,u[5]=n&255,u[6]=(n=parseInt(e.slice(14,18),16))>>>8,u[7]=n&255,u[8]=(n=parseInt(e.slice(19,23),16))>>>8,u[9]=n&255,u[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,u[11]=n/4294967296&255,u[12]=n>>>24&255,u[13]=n>>>16&255,u[14]=n>>>8&255,u[15]=n&255,u}var K=X;function ze(e){e=unescape(encodeURIComponent(e));const n=[];for(let u=0;u<e.length;++u)n.push(e.charCodeAt(u));return n}const Ze="6ba7b810-9dad-11d1-80b4-00c04fd430c8",We="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ye(e,n,u){function b(y,L,P,V){var ee;if(typeof y=="string"&&(y=ze(y)),typeof L=="string"&&(L=K(L)),((ee=L)===null||ee===void 0?void 0:ee.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _e=new Uint8Array(16+y.length);if(_e.set(L),_e.set(y,L.length),_e=u(_e),_e[6]=_e[6]&15|n,_e[8]=_e[8]&63|128,P){V=V||0;for(let Le=0;Le<16;++Le)P[V+Le]=_e[Le];return P}return fe(_e)}try{b.name=e}catch(y){}return b.DNS=Ze,b.URL=We,b}function Ie(e,n,u,b){switch(e){case 0:return n&u^~n&b;case 1:return n^u^b;case 2:return n&u^n&b^u&b;case 3:return n^u^b}}function Ue(e,n){return e<<n|e>>>32-n}function Ye(e){const n=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const P=unescape(encodeURIComponent(e));e=[];for(let V=0;V<P.length;++V)e.push(P.charCodeAt(V))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const b=e.length/4+2,y=Math.ceil(b/16),L=new Array(y);for(let P=0;P<y;++P){const V=new Uint32Array(16);for(let ee=0;ee<16;++ee)V[ee]=e[P*64+ee*4]<<24|e[P*64+ee*4+1]<<16|e[P*64+ee*4+2]<<8|e[P*64+ee*4+3];L[P]=V}L[y-1][14]=(e.length-1)*8/Math.pow(2,32),L[y-1][14]=Math.floor(L[y-1][14]),L[y-1][15]=(e.length-1)*8&4294967295;for(let P=0;P<y;++P){const V=new Uint32Array(80);for(let Ke=0;Ke<16;++Ke)V[Ke]=L[P][Ke];for(let Ke=16;Ke<80;++Ke)V[Ke]=Ue(V[Ke-3]^V[Ke-8]^V[Ke-14]^V[Ke-16],1);let ee=u[0],_e=u[1],Le=u[2],Fe=u[3],Re=u[4];for(let Ke=0;Ke<80;++Ke){const Ut=Math.floor(Ke/20),sn=Ue(ee,5)+Ie(Ut,_e,Le,Fe)+Re+n[Ut]+V[Ke]>>>0;Re=Fe,Fe=Le,Le=Ue(_e,30)>>>0,_e=ee,ee=sn}u[0]=u[0]+ee>>>0,u[1]=u[1]+_e>>>0,u[2]=u[2]+Le>>>0,u[3]=u[3]+Fe>>>0,u[4]=u[4]+Re>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,u[0]&255,u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,u[1]&255,u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,u[2]&255,u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,u[3]&255,u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,u[4]&255]}var Ae=Ye,it=ye("v5",80,Ae),Ve=f(91403),et=f(91476),wt=f(79182),jt=f(28278),on=f(69474),bn=f(15943),Ft=Object.defineProperty,Mt=(e,n,u)=>n in e?Ft(e,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[n]=u,_t=(e,n,u)=>(Mt(e,typeof n!="symbol"?n+"":n,u),u);const Jt={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Me={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},yn=function(e="fatal"){let n=Jt.fatal;typeof e=="string"?(e=e.toLowerCase(),e in Jt&&(n=Jt[e])):typeof e=="number"&&(n=e),Me.trace=()=>{},Me.debug=()=>{},Me.info=()=>{},Me.warn=()=>{},Me.error=()=>{},Me.fatal=()=>{},n<=Jt.fatal&&(Me.fatal=console.error?console.error.bind(console,Wt("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Wt("FATAL"))),n<=Jt.error&&(Me.error=console.error?console.error.bind(console,Wt("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Wt("ERROR"))),n<=Jt.warn&&(Me.warn=console.warn?console.warn.bind(console,Wt("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Wt("WARN"))),n<=Jt.info&&(Me.info=console.info?console.info.bind(console,Wt("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Wt("INFO"))),n<=Jt.debug&&(Me.debug=console.debug?console.debug.bind(console,Wt("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Wt("DEBUG"))),n<=Jt.trace&&(Me.trace=console.debug?console.debug.bind(console,Wt("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Wt("TRACE")))},Wt=e=>`%c${m()().format("ss.SSS")} : ${e} : `,xn=e=>e?Kr(e).replace(/\\n/g,"#br#").split("#br#"):[""],Nn=e=>M().sanitize(e),Cr=(e,n)=>{var u;if(((u=n.flowchart)==null?void 0:u.htmlLabels)!==!1){const b=n.securityLevel;b==="antiscript"||b==="strict"?e=Nn(e):b!=="loose"&&(e=Kr(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=Vr(e))}return e},jr=(e,n)=>e&&(n.dompurifyConfig?e=M().sanitize(Cr(e,n),n.dompurifyConfig).toString():e=M().sanitize(Cr(e,n),{FORBID_TAGS:["style"]}).toString(),e),ii=(e,n)=>typeof e=="string"?jr(e,n):e.flat().map(u=>jr(u,n)),xi=/<br\s*\/?>/gi,$i=e=>xi.test(e),_i=e=>e.split(xi),Vr=e=>e.replace(/#br#/g,"<br/>"),Kr=e=>e.replace(xi,"#br#"),Tr=e=>{let n="";return e&&(n=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,n=n.replaceAll(/\(/g,"\\("),n=n.replaceAll(/\)/g,"\\)")),n},qt=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),Zt=function(e){let n=e;if(e.split("~").length-1>=2){let u=n;do n=u,u=n.replace(/~([^\s,:;]+)~/,"<$1>");while(u!=n);return Zt(u)}else return n},Ee={getRows:xn,sanitizeText:jr,sanitizeTextOrArray:ii,hasBreaks:$i,splitBreaks:_i,lineBreakRegex:xi,removeScript:Nn,getUrl:Tr,evaluate:qt},pe=(e,n)=>n?E(e,{s:-40,l:10}):E(e,{s:-40,l:-10}),oe="#ffffff",me="#f2f2f2";class Pe{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||E(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||E(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||pe(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||pe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||pe(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||pe(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ne(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ne(this.tertiaryColor),this.lineColor=this.lineColor||ne(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,De.Z)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,De.Z)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ne(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,we.Z)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||E(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||E(this.primaryColor,{h:330}),this.darkMode)for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScale"+u]=(0,De.Z)(this["cScale"+u],75);else for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScale"+u]=(0,De.Z)(this["cScale"+u],25);for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScaleInv"+u]=this["cScaleInv"+u]||ne(this["cScale"+u]);for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this.darkMode?this["cScalePeer"+u]=this["cScalePeer"+u]||(0,we.Z)(this["cScale"+u],10):this["cScalePeer"+u]=this["cScalePeer"+u]||(0,De.Z)(this["cScale"+u],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScaleLabel"+u]=this["cScaleLabel"+u]||this.scaleLabelColor;const n=this.darkMode?-4:-1;for(let u=0;u<5;u++)this["surface"+u]=this["surface"+u]||E(this.mainBkg,{h:180,s:-15,l:n*(5+u*3)}),this["surfacePeer"+u]=this["surfacePeer"+u]||E(this.mainBkg,{h:180,s:-15,l:n*(8+u*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||E(this.primaryColor,{h:64}),this.fillType3=this.fillType3||E(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||E(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||E(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||E(this.primaryColor,{h:128}),this.fillType7=this.fillType7||E(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||E(this.primaryColor,{l:-10}),this.pie5=this.pie5||E(this.secondaryColor,{l:-10}),this.pie6=this.pie6||E(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||E(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||E(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||E(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||E(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||E(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||E(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,De.Z)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||E(this.primaryColor,{h:-30}),this.git4=this.git4||E(this.primaryColor,{h:-60}),this.git5=this.git5||E(this.primaryColor,{h:-90}),this.git6=this.git6||E(this.primaryColor,{h:60}),this.git7=this.git7||E(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,we.Z)(this.git0,25),this.git1=(0,we.Z)(this.git1,25),this.git2=(0,we.Z)(this.git2,25),this.git3=(0,we.Z)(this.git3,25),this.git4=(0,we.Z)(this.git4,25),this.git5=(0,we.Z)(this.git5,25),this.git6=(0,we.Z)(this.git6,25),this.git7=(0,we.Z)(this.git7,25)):(this.git0=(0,De.Z)(this.git0,25),this.git1=(0,De.Z)(this.git1,25),this.git2=(0,De.Z)(this.git2,25),this.git3=(0,De.Z)(this.git3,25),this.git4=(0,De.Z)(this.git4,25),this.git5=(0,De.Z)(this.git5,25),this.git6=(0,De.Z)(this.git6,25),this.git7=(0,De.Z)(this.git7,25)),this.gitInv0=this.gitInv0||ne(this.git0),this.gitInv1=this.gitInv1||ne(this.git1),this.gitInv2=this.gitInv2||ne(this.git2),this.gitInv3=this.gitInv3||ne(this.git3),this.gitInv4=this.gitInv4||ne(this.git4),this.gitInv5=this.gitInv5||ne(this.git5),this.gitInv6=this.gitInv6||ne(this.git6),this.gitInv7=this.gitInv7||ne(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oe,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||me}calculate(n){if(typeof n!="object"){this.updateColors();return}const u=Object.keys(n);u.forEach(b=>{this[b]=n[b]}),this.updateColors(),u.forEach(b=>{this[b]=n[b]})}}const nt=e=>{const n=new Pe;return n.calculate(e),n};class ht{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,we.Z)(this.primaryColor,16),this.tertiaryColor=E(this.primaryColor,{h:-160}),this.primaryBorderColor=ne(this.background),this.secondaryBorderColor=pe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pe(this.tertiaryColor,this.darkMode),this.primaryTextColor=ne(this.primaryColor),this.secondaryTextColor=ne(this.secondaryColor),this.tertiaryTextColor=ne(this.tertiaryColor),this.lineColor=ne(this.background),this.textColor=ne(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,we.Z)(ne("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=j(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,De.Z)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=j(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=j(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,we.Z)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,we.Z)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,we.Z)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=E(this.primaryColor,{h:64}),this.fillType3=E(this.secondaryColor,{h:64}),this.fillType4=E(this.primaryColor,{h:-64}),this.fillType5=E(this.secondaryColor,{h:-64}),this.fillType6=E(this.primaryColor,{h:128}),this.fillType7=E(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||E(this.primaryColor,{h:210}),this.cScale9=this.cScale9||E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||E(this.primaryColor,{h:330});for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||ne(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScalePeer"+n]=this["cScalePeer"+n]||(0,we.Z)(this["cScale"+n],10);for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||E(this.mainBkg,{h:30,s:-30,l:-(-10+n*4)}),this["surfacePeer"+n]=this["surfacePeer"+n]||E(this.mainBkg,{h:30,s:-30,l:-(-7+n*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["pie"+n]=this["cScale"+n];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,De.Z)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,we.Z)(this.secondaryColor,20),this.git1=(0,we.Z)(this.pie2||this.secondaryColor,20),this.git2=(0,we.Z)(this.pie3||this.tertiaryColor,20),this.git3=(0,we.Z)(this.pie4||E(this.primaryColor,{h:-30}),20),this.git4=(0,we.Z)(this.pie5||E(this.primaryColor,{h:-60}),20),this.git5=(0,we.Z)(this.pie6||E(this.primaryColor,{h:-90}),10),this.git6=(0,we.Z)(this.pie7||E(this.primaryColor,{h:60}),10),this.git7=(0,we.Z)(this.pie8||E(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ne(this.git0),this.gitInv1=this.gitInv1||ne(this.git1),this.gitInv2=this.gitInv2||ne(this.git2),this.gitInv3=this.gitInv3||ne(this.git3),this.gitInv4=this.gitInv4||ne(this.git4),this.gitInv5=this.gitInv5||ne(this.git5),this.gitInv6=this.gitInv6||ne(this.git6),this.gitInv7=this.gitInv7||ne(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,we.Z)(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,we.Z)(this.background,2)}calculate(n){if(typeof n!="object"){this.updateColors();return}const u=Object.keys(n);u.forEach(b=>{this[b]=n[b]}),this.updateColors(),u.forEach(b=>{this[b]=n[b]})}}const vt=e=>{const n=new ht;return n.calculate(e),n};class St{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=E(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=E(this.primaryColor,{h:-160}),this.primaryBorderColor=pe(this.primaryColor,this.darkMode),this.secondaryBorderColor=pe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pe(this.tertiaryColor,this.darkMode),this.primaryTextColor=ne(this.primaryColor),this.secondaryTextColor=ne(this.secondaryColor),this.tertiaryTextColor=ne(this.tertiaryColor),this.lineColor=ne(this.background),this.textColor=ne(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=j(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||E(this.primaryColor,{h:210}),this.cScale9=this.cScale9||E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||E(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||(0,De.Z)(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||(0,De.Z)(this.tertiaryColor,40);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=(0,De.Z)(this["cScale"+n],10),this["cScalePeer"+n]=this["cScalePeer"+n]||(0,De.Z)(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||E(this["cScale"+n],{h:180});for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||E(this.mainBkg,{h:30,l:-(5+n*5)}),this["surfacePeer"+n]=this["surfacePeer"+n]||E(this.mainBkg,{h:30,l:-(7+n*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ne(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ne(this.labelTextColor);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,we.Z)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=E(this.primaryColor,{h:64}),this.fillType3=E(this.secondaryColor,{h:64}),this.fillType4=E(this.primaryColor,{h:-64}),this.fillType5=E(this.secondaryColor,{h:-64}),this.fillType6=E(this.primaryColor,{h:128}),this.fillType7=E(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||E(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||E(this.primaryColor,{l:-10}),this.pie5=this.pie5||E(this.secondaryColor,{l:-30}),this.pie6=this.pie6||E(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||E(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||E(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||E(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||E(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||E(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||E(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||E(this.primaryColor,{h:-30}),this.git4=this.git4||E(this.primaryColor,{h:-60}),this.git5=this.git5||E(this.primaryColor,{h:-90}),this.git6=this.git6||E(this.primaryColor,{h:60}),this.git7=this.git7||E(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,we.Z)(this.git0,25),this.git1=(0,we.Z)(this.git1,25),this.git2=(0,we.Z)(this.git2,25),this.git3=(0,we.Z)(this.git3,25),this.git4=(0,we.Z)(this.git4,25),this.git5=(0,we.Z)(this.git5,25),this.git6=(0,we.Z)(this.git6,25),this.git7=(0,we.Z)(this.git7,25)):(this.git0=(0,De.Z)(this.git0,25),this.git1=(0,De.Z)(this.git1,25),this.git2=(0,De.Z)(this.git2,25),this.git3=(0,De.Z)(this.git3,25),this.git4=(0,De.Z)(this.git4,25),this.git5=(0,De.Z)(this.git5,25),this.git6=(0,De.Z)(this.git6,25),this.git7=(0,De.Z)(this.git7,25)),this.gitInv0=this.gitInv0||(0,De.Z)(ne(this.git0),25),this.gitInv1=this.gitInv1||ne(this.git1),this.gitInv2=this.gitInv2||ne(this.git2),this.gitInv3=this.gitInv3||ne(this.git3),this.gitInv4=this.gitInv4||ne(this.git4),this.gitInv5=this.gitInv5||ne(this.git5),this.gitInv6=this.gitInv6||ne(this.git6),this.gitInv7=this.gitInv7||ne(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ne(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ne(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oe,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||me}calculate(n){if(typeof n!="object"){this.updateColors();return}const u=Object.keys(n);u.forEach(b=>{this[b]=n[b]}),this.updateColors(),u.forEach(b=>{this[b]=n[b]})}}const It=e=>{const n=new St;return n.calculate(e),n};class Kt{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,we.Z)("#cde498",10),this.primaryBorderColor=pe(this.primaryColor,this.darkMode),this.secondaryBorderColor=pe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pe(this.tertiaryColor,this.darkMode),this.primaryTextColor=ne(this.primaryColor),this.secondaryTextColor=ne(this.secondaryColor),this.tertiaryTextColor=ne(this.primaryColor),this.lineColor=ne(this.background),this.textColor=ne(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||E(this.primaryColor,{h:210}),this.cScale9=this.cScale9||E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||E(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||(0,De.Z)(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||(0,De.Z)(this.tertiaryColor,40);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=(0,De.Z)(this["cScale"+n],10),this["cScalePeer"+n]=this["cScalePeer"+n]||(0,De.Z)(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||E(this["cScale"+n],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||E(this.mainBkg,{h:30,s:-30,l:-(5+n*5)}),this["surfacePeer"+n]=this["surfacePeer"+n]||E(this.mainBkg,{h:30,s:-30,l:-(8+n*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=(0,De.Z)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=E(this.primaryColor,{h:64}),this.fillType3=E(this.secondaryColor,{h:64}),this.fillType4=E(this.primaryColor,{h:-64}),this.fillType5=E(this.secondaryColor,{h:-64}),this.fillType6=E(this.primaryColor,{h:128}),this.fillType7=E(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||E(this.primaryColor,{l:-30}),this.pie5=this.pie5||E(this.secondaryColor,{l:-30}),this.pie6=this.pie6||E(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||E(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||E(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||E(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||E(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||E(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||E(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||E(this.primaryColor,{h:-30}),this.git4=this.git4||E(this.primaryColor,{h:-60}),this.git5=this.git5||E(this.primaryColor,{h:-90}),this.git6=this.git6||E(this.primaryColor,{h:60}),this.git7=this.git7||E(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,we.Z)(this.git0,25),this.git1=(0,we.Z)(this.git1,25),this.git2=(0,we.Z)(this.git2,25),this.git3=(0,we.Z)(this.git3,25),this.git4=(0,we.Z)(this.git4,25),this.git5=(0,we.Z)(this.git5,25),this.git6=(0,we.Z)(this.git6,25),this.git7=(0,we.Z)(this.git7,25)):(this.git0=(0,De.Z)(this.git0,25),this.git1=(0,De.Z)(this.git1,25),this.git2=(0,De.Z)(this.git2,25),this.git3=(0,De.Z)(this.git3,25),this.git4=(0,De.Z)(this.git4,25),this.git5=(0,De.Z)(this.git5,25),this.git6=(0,De.Z)(this.git6,25),this.git7=(0,De.Z)(this.git7,25)),this.gitInv0=this.gitInv0||ne(this.git0),this.gitInv1=this.gitInv1||ne(this.git1),this.gitInv2=this.gitInv2||ne(this.git2),this.gitInv3=this.gitInv3||ne(this.git3),this.gitInv4=this.gitInv4||ne(this.git4),this.gitInv5=this.gitInv5||ne(this.git5),this.gitInv6=this.gitInv6||ne(this.git6),this.gitInv7=this.gitInv7||ne(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oe,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||me}calculate(n){if(typeof n!="object"){this.updateColors();return}const u=Object.keys(n);u.forEach(b=>{this[b]=n[b]}),this.updateColors(),u.forEach(b=>{this[b]=n[b]})}}const Tt=e=>{const n=new Kt;return n.calculate(e),n};class Lt{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,we.Z)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=E(this.primaryColor,{h:-160}),this.primaryBorderColor=pe(this.primaryColor,this.darkMode),this.secondaryBorderColor=pe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pe(this.tertiaryColor,this.darkMode),this.primaryTextColor=ne(this.primaryColor),this.secondaryTextColor=ne(this.secondaryColor),this.tertiaryTextColor=ne(this.tertiaryColor),this.lineColor=ne(this.background),this.textColor=ne(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,we.Z)(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||ne(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||(0,we.Z)(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||(0,De.Z)(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||E(this.mainBkg,{l:-(5+n*5)}),this["surfacePeer"+n]=this["surfacePeer"+n]||E(this.mainBkg,{l:-(8+n*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=(0,we.Z)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=(0,we.Z)(this.contrast,30),this.sectionBkgColor2=(0,we.Z)(this.contrast,30),this.taskBorderColor=(0,De.Z)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,we.Z)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,De.Z)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=E(this.primaryColor,{h:64}),this.fillType3=E(this.secondaryColor,{h:64}),this.fillType4=E(this.primaryColor,{h:-64}),this.fillType5=E(this.secondaryColor,{h:-64}),this.fillType6=E(this.primaryColor,{h:128}),this.fillType7=E(this.secondaryColor,{h:128});for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["pie"+n]=this["cScale"+n];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,De.Z)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||E(this.primaryColor,{h:-30}),this.git4=this.pie5||E(this.primaryColor,{h:-60}),this.git5=this.pie6||E(this.primaryColor,{h:-90}),this.git6=this.pie7||E(this.primaryColor,{h:60}),this.git7=this.pie8||E(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ne(this.git0),this.gitInv1=this.gitInv1||ne(this.git1),this.gitInv2=this.gitInv2||ne(this.git2),this.gitInv3=this.gitInv3||ne(this.git3),this.gitInv4=this.gitInv4||ne(this.git4),this.gitInv5=this.gitInv5||ne(this.git5),this.gitInv6=this.gitInv6||ne(this.git6),this.gitInv7=this.gitInv7||ne(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oe,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||me}calculate(n){if(typeof n!="object"){this.updateColors();return}const u=Object.keys(n);u.forEach(b=>{this[b]=n[b]}),this.updateColors(),u.forEach(b=>{this[b]=n[b]})}}const Yt={base:{getThemeVariables:nt},dark:{getThemeVariables:vt},default:{getThemeVariables:It},forest:{getThemeVariables:Tt},neutral:{getThemeVariables:e=>{const n=new Lt;return n.calculate(e),n}}},Mn={theme:"default",themeVariables:Yt.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Mn.class&&(Mn.class.arrowMarkerAbsolute=Mn.arrowMarkerAbsolute),Mn.gitGraph&&(Mn.gitGraph.arrowMarkerAbsolute=Mn.arrowMarkerAbsolute);const Dn=(e,n="")=>Object.keys(e).reduce((u,b)=>Array.isArray(e[b])?u:typeof e[b]=="object"&&e[b]!==null?[...u,n+b,...Dn(e[b],"")]:[...u,n+b],[]),wn=Dn(Mn,""),mn=Mn;function On(e){return typeof e=="undefined"||e===null}function Rn(e){return typeof e=="object"&&e!==null}function Kn(e){return Array.isArray(e)?e:On(e)?[]:[e]}function jn(e,n){var u,b,y,L;if(n)for(L=Object.keys(n),u=0,b=L.length;u<b;u+=1)y=L[u],e[y]=n[y];return e}function tr(e,n){var u="",b;for(b=0;b<n;b+=1)u+=e;return u}function cr(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var ar=On,Zn=Rn,Un=Kn,yi=tr,gi=cr,Xr=jn,Vn={isNothing:ar,isObject:Zn,toArray:Un,repeat:yi,isNegativeZero:gi,extend:Xr};function ci(e,n){var u="",b=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(u+='in "'+e.mark.name+'" '),u+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(u+=`

`+e.mark.snippet),b+" "+u):b}function mi(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=ci(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}mi.prototype=Object.create(Error.prototype),mi.prototype.constructor=mi,mi.prototype.toString=function(n){return this.name+": "+ci(this,n)};var oi=mi;function Ar(e,n,u,b,y){var L="",P="",V=Math.floor(y/2)-1;return b-n>V&&(L=" ... ",n=b-V+L.length),u-b>V&&(P=" ...",u=b+V-P.length),{str:L+e.slice(n,u).replace(/\t/g,"\u2192")+P,pos:b-n+L.length}}function Fr(e,n){return Vn.repeat(" ",n-e.length)+e}function lr(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var u=/\r?\n|\r|\0/g,b=[0],y=[],L,P=-1;L=u.exec(e.buffer);)y.push(L.index),b.push(L.index+L[0].length),e.position<=L.index&&P<0&&(P=b.length-2);P<0&&(P=b.length-1);var V="",ee,_e,Le=Math.min(e.line+n.linesAfter,y.length).toString().length,Fe=n.maxLength-(n.indent+Le+3);for(ee=1;ee<=n.linesBefore&&!(P-ee<0);ee++)_e=Ar(e.buffer,b[P-ee],y[P-ee],e.position-(b[P]-b[P-ee]),Fe),V=Vn.repeat(" ",n.indent)+Fr((e.line-ee+1).toString(),Le)+" | "+_e.str+`
`+V;for(_e=Ar(e.buffer,b[P],y[P],e.position,Fe),V+=Vn.repeat(" ",n.indent)+Fr((e.line+1).toString(),Le)+" | "+_e.str+`
`,V+=Vn.repeat("-",n.indent+Le+3+_e.pos)+`^
`,ee=1;ee<=n.linesAfter&&!(P+ee>=y.length);ee++)_e=Ar(e.buffer,b[P+ee],y[P+ee],e.position-(b[P]-b[P+ee]),Fe),V+=Vn.repeat(" ",n.indent)+Fr((e.line+ee+1).toString(),Le)+" | "+_e.str+`
`;return V.replace(/\n$/,"")}var Hr=lr,He=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],kt=["scalar","sequence","mapping"];function Pn(e){var n={};return e!==null&&Object.keys(e).forEach(function(u){e[u].forEach(function(b){n[String(b)]=u})}),n}function En(e,n){if(n=n||{},Object.keys(n).forEach(function(u){if(He.indexOf(u)===-1)throw new oi('Unknown option "'+u+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(u){return u},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Pn(n.styleAliases||null),kt.indexOf(this.kind)===-1)throw new oi('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Qn=En;function Gn(e,n){var u=[];return e[n].forEach(function(b){var y=u.length;u.forEach(function(L,P){L.tag===b.tag&&L.kind===b.kind&&L.multi===b.multi&&(y=P)}),u[y]=b}),u}function Li(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,u;function b(y){y.multi?(e.multi[y.kind].push(y),e.multi.fallback.push(y)):e[y.kind][y.tag]=e.fallback[y.tag]=y}for(n=0,u=arguments.length;n<u;n+=1)arguments[n].forEach(b);return e}function Yr(e){return this.extend(e)}Yr.prototype.extend=function(n){var u=[],b=[];if(n instanceof Qn)b.push(n);else if(Array.isArray(n))b=b.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(u=u.concat(n.implicit)),n.explicit&&(b=b.concat(n.explicit));else throw new oi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");u.forEach(function(L){if(!(L instanceof Qn))throw new oi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(L.loadKind&&L.loadKind!=="scalar")throw new oi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(L.multi)throw new oi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),b.forEach(function(L){if(!(L instanceof Qn))throw new oi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var y=Object.create(Yr.prototype);return y.implicit=(this.implicit||[]).concat(u),y.explicit=(this.explicit||[]).concat(b),y.compiledImplicit=Gn(y,"implicit"),y.compiledExplicit=Gn(y,"explicit"),y.compiledTypeMap=Li(y.compiledImplicit,y.compiledExplicit),y};var Bi=Yr,bi=new Qn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ma=new Qn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Ya=new Qn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Io=new Bi({explicit:[bi,Ma,Ya]});function eo(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Do(){return null}function Ti(e){return e===null}var sa=new Qn("tag:yaml.org,2002:null",{kind:"scalar",resolve:eo,construct:Do,predicate:Ti,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Vs(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function El(e){return e==="true"||e==="True"||e==="TRUE"}function Zl(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bo=new Qn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Vs,construct:El,predicate:Zl,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function vl(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function dc(e){return 48<=e&&e<=55}function As(e){return 48<=e&&e<=57}function Ol(e){if(e===null)return!1;var n=e.length,u=0,b=!1,y;if(!n)return!1;if(y=e[u],(y==="-"||y==="+")&&(y=e[++u]),y==="0"){if(u+1===n)return!0;if(y=e[++u],y==="b"){for(u++;u<n;u++)if(y=e[u],y!=="_"){if(y!=="0"&&y!=="1")return!1;b=!0}return b&&y!=="_"}if(y==="x"){for(u++;u<n;u++)if(y=e[u],y!=="_"){if(!vl(e.charCodeAt(u)))return!1;b=!0}return b&&y!=="_"}if(y==="o"){for(u++;u<n;u++)if(y=e[u],y!=="_"){if(!dc(e.charCodeAt(u)))return!1;b=!0}return b&&y!=="_"}}if(y==="_")return!1;for(;u<n;u++)if(y=e[u],y!=="_"){if(!As(e.charCodeAt(u)))return!1;b=!0}return!(!b||y==="_")}function vs(e){var n=e,u=1,b;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),b=n[0],(b==="-"||b==="+")&&(b==="-"&&(u=-1),n=n.slice(1),b=n[0]),n==="0")return 0;if(b==="0"){if(n[1]==="b")return u*parseInt(n.slice(2),2);if(n[1]==="x")return u*parseInt(n.slice(2),16);if(n[1]==="o")return u*parseInt(n.slice(2),8)}return u*parseInt(n,10)}function Os(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Vn.isNegativeZero(e)}var Qs=new Qn("tag:yaml.org,2002:int",{kind:"scalar",resolve:Ol,construct:vs,predicate:Os,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Js=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function nn(e){return!(e===null||!Js.test(e)||e[e.length-1]==="_")}function Ku(e){var n,u;return n=e.replace(/_/g,"").toLowerCase(),u=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?u===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:u*parseFloat(n,10)}var al=/^[-+]?[0-9]+e/;function Lo(e,n){var u;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Vn.isNegativeZero(e))return"-0.0";return u=e.toString(10),al.test(u)?u.replace("e",".e"):u}function zl(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Vn.isNegativeZero(e))}var Po=new Qn("tag:yaml.org,2002:float",{kind:"scalar",resolve:nn,construct:Ku,predicate:zl,represent:Lo,defaultStyle:"lowercase"}),Ec=Io.extend({implicit:[sa,bo,Qs,Po]}),Ys=Ec,Rc=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Cu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Wl(e){return e===null?!1:Rc.exec(e)!==null||Cu.exec(e)!==null}function ol(e){var n,u,b,y,L,P,V,ee=0,_e=null,Le,Fe,Re;if(n=Rc.exec(e),n===null&&(n=Cu.exec(e)),n===null)throw new Error("Date resolve error");if(u=+n[1],b=+n[2]-1,y=+n[3],!n[4])return new Date(Date.UTC(u,b,y));if(L=+n[4],P=+n[5],V=+n[6],n[7]){for(ee=n[7].slice(0,3);ee.length<3;)ee+="0";ee=+ee}return n[9]&&(Le=+n[10],Fe=+(n[11]||0),_e=(Le*60+Fe)*6e4,n[9]==="-"&&(_e=-_e)),Re=new Date(Date.UTC(u,b,y,L,P,V,ee)),_e&&Re.setTime(Re.getTime()-_e),Re}function pu(e){return e.toISOString()}var Pc=new Qn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Wl,construct:ol,instanceOf:Date,represent:pu});function Ul(e){return e==="<<"||e===null}var Bc=new Qn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ul}),Nl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function _a(e){if(e===null)return!1;var n,u,b=0,y=e.length,L=Nl;for(u=0;u<y;u++)if(n=L.indexOf(e.charAt(u)),!(n>64)){if(n<0)return!1;b+=6}return b%8===0}function Wn(e){var n,u,b=e.replace(/[\r\n=]/g,""),y=b.length,L=Nl,P=0,V=[];for(n=0;n<y;n++)n%4===0&&n&&(V.push(P>>16&255),V.push(P>>8&255),V.push(P&255)),P=P<<6|L.indexOf(b.charAt(n));return u=y%4*6,u===0?(V.push(P>>16&255),V.push(P>>8&255),V.push(P&255)):u===18?(V.push(P>>10&255),V.push(P>>2&255)):u===12&&V.push(P>>4&255),new Uint8Array(V)}function Di(e){var n="",u=0,b,y,L=e.length,P=Nl;for(b=0;b<L;b++)b%3===0&&b&&(n+=P[u>>18&63],n+=P[u>>12&63],n+=P[u>>6&63],n+=P[u&63]),u=(u<<8)+e[b];return y=L%3,y===0?(n+=P[u>>18&63],n+=P[u>>12&63],n+=P[u>>6&63],n+=P[u&63]):y===2?(n+=P[u>>10&63],n+=P[u>>4&63],n+=P[u<<2&63],n+=P[64]):y===1&&(n+=P[u>>2&63],n+=P[u<<4&63],n+=P[64],n+=P[64]),n}function Hi(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Ca=new Qn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:_a,construct:Wn,predicate:Hi,represent:Di}),Qr=Object.prototype.hasOwnProperty,yo=Object.prototype.toString;function ko(e){if(e===null)return!0;var n=[],u,b,y,L,P,V=e;for(u=0,b=V.length;u<b;u+=1){if(y=V[u],P=!1,yo.call(y)!=="[object Object]")return!1;for(L in y)if(Qr.call(y,L))if(!P)P=!0;else return!1;if(!P)return!1;if(n.indexOf(L)===-1)n.push(L);else return!1}return!0}function Da(e){return e!==null?e:[]}var Uo=new Qn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ko,construct:Da}),Fs=Object.prototype.toString;function gs(e){if(e===null)return!0;var n,u,b,y,L,P=e;for(L=new Array(P.length),n=0,u=P.length;n<u;n+=1){if(b=P[n],Fs.call(b)!=="[object Object]"||(y=Object.keys(b),y.length!==1))return!1;L[n]=[y[0],b[y[0]]]}return!0}function Cl(e){if(e===null)return[];var n,u,b,y,L,P=e;for(L=new Array(P.length),n=0,u=P.length;n<u;n+=1)b=P[n],y=Object.keys(b),L[n]=[y[0],b[y[0]]];return L}var Tu=new Qn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:gs,construct:Cl}),Su=Object.prototype.hasOwnProperty;function ec(e){if(e===null)return!0;var n,u=e;for(n in u)if(Su.call(u,n)&&u[n]!==null)return!1;return!0}function Ns(e){return e!==null?e:{}}var Ks=new Qn("tag:yaml.org,2002:set",{kind:"mapping",resolve:ec,construct:Ns}),Zs=Ys.extend({implicit:[Pc,Bc],explicit:[Ca,Uo,Tu,Ks]}),ns=Object.prototype.hasOwnProperty,gl=1,zo=2,ml=3,Ms=4,Hl=1,Cc=2,Rs=3,bl=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,eu=/[\x85\u2028\u2029]/,tu=/[,\[\]\{\}]/,Rl=/^(?:!|!!|![a-z\-]+!)$/i,po=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Bo(e){return Object.prototype.toString.call(e)}function ls(e){return e===10||e===13}function el(e){return e===9||e===32}function cs(e){return e===9||e===32||e===10||e===13}function fc(e){return e===44||e===91||e===93||e===123||e===125}function ms(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Gu(e){return e===120?2:e===117?4:e===85?8:0}function dd(e){return 48<=e&&e<=57?e-48:-1}function Au(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function ot(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}for(var rn=new Array(256),pn=new Array(256),_n=0;_n<256;_n++)rn[_n]=Au(_n)?1:0,pn[_n]=Au(_n);function Jr(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||Zs,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ui(e,n){var u={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return u.snippet=Hr(u),new oi(n,u)}function fi(e,n){throw ui(e,n)}function za(e,n){e.onWarning&&e.onWarning.call(null,ui(e,n))}var Ua={YAML:function(n,u,b){var y,L,P;n.version!==null&&fi(n,"duplication of %YAML directive"),b.length!==1&&fi(n,"YAML directive accepts exactly one argument"),y=/^([0-9]+)\.([0-9]+)$/.exec(b[0]),y===null&&fi(n,"ill-formed argument of the YAML directive"),L=parseInt(y[1],10),P=parseInt(y[2],10),L!==1&&fi(n,"unacceptable YAML version of the document"),n.version=b[0],n.checkLineBreaks=P<2,P!==1&&P!==2&&za(n,"unsupported YAML version of the document")},TAG:function(n,u,b){var y,L;b.length!==2&&fi(n,"TAG directive accepts exactly two arguments"),y=b[0],L=b[1],Rl.test(y)||fi(n,"ill-formed tag handle (first argument) of the TAG directive"),ns.call(n.tagMap,y)&&fi(n,'there is a previously declared suffix for "'+y+'" tag handle'),po.test(L)||fi(n,"ill-formed tag prefix (second argument) of the TAG directive");try{L=decodeURIComponent(L)}catch(P){fi(n,"tag prefix is malformed: "+L)}n.tagMap[y]=L}};function ma(e,n,u,b){var y,L,P,V;if(n<u){if(V=e.input.slice(n,u),b)for(y=0,L=V.length;y<L;y+=1)P=V.charCodeAt(y),P===9||32<=P&&P<=1114111||fi(e,"expected valid JSON character");else bl.test(V)&&fi(e,"the stream contains non-printable characters");e.result+=V}}function _o(e,n,u,b){var y,L,P,V;for(Vn.isObject(u)||fi(e,"cannot merge mappings; the provided source object is unacceptable"),y=Object.keys(u),P=0,V=y.length;P<V;P+=1)L=y[P],ns.call(n,L)||(n[L]=u[L],b[L]=!0)}function $o(e,n,u,b,y,L,P,V,ee){var _e,Le;if(Array.isArray(y))for(y=Array.prototype.slice.call(y),_e=0,Le=y.length;_e<Le;_e+=1)Array.isArray(y[_e])&&fi(e,"nested arrays are not supported inside keys"),typeof y=="object"&&Bo(y[_e])==="[object Object]"&&(y[_e]="[object Object]");if(typeof y=="object"&&Bo(y)==="[object Object]"&&(y="[object Object]"),y=String(y),n===null&&(n={}),b==="tag:yaml.org,2002:merge")if(Array.isArray(L))for(_e=0,Le=L.length;_e<Le;_e+=1)_o(e,n,L[_e],u);else _o(e,n,L,u);else!e.json&&!ns.call(u,y)&&ns.call(n,y)&&(e.line=P||e.line,e.lineStart=V||e.lineStart,e.position=ee||e.position,fi(e,"duplicated mapping key")),y==="__proto__"?Object.defineProperty(n,y,{configurable:!0,enumerable:!0,writable:!0,value:L}):n[y]=L,delete u[y];return n}function jl(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):fi(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Yo(e,n,u){for(var b=0,y=e.input.charCodeAt(e.position);y!==0;){for(;el(y);)y===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),y=e.input.charCodeAt(++e.position);if(n&&y===35)do y=e.input.charCodeAt(++e.position);while(y!==10&&y!==13&&y!==0);if(ls(y))for(jl(e),y=e.input.charCodeAt(e.position),b++,e.lineIndent=0;y===32;)e.lineIndent++,y=e.input.charCodeAt(++e.position);else break}return u!==-1&&b!==0&&e.lineIndent<u&&za(e,"deficient indentation"),b}function sl(e){var n=e.position,u;return u=e.input.charCodeAt(n),!!((u===45||u===46)&&u===e.input.charCodeAt(n+1)&&u===e.input.charCodeAt(n+2)&&(n+=3,u=e.input.charCodeAt(n),u===0||cs(u)))}function Ps(e,n){n===1?e.result+=" ":n>1&&(e.result+=Vn.repeat(`
`,n-1))}function Tc(e,n,u){var b,y,L,P,V,ee,_e,Le,Fe=e.kind,Re=e.result,Ke;if(Ke=e.input.charCodeAt(e.position),cs(Ke)||fc(Ke)||Ke===35||Ke===38||Ke===42||Ke===33||Ke===124||Ke===62||Ke===39||Ke===34||Ke===37||Ke===64||Ke===96||(Ke===63||Ke===45)&&(y=e.input.charCodeAt(e.position+1),cs(y)||u&&fc(y)))return!1;for(e.kind="scalar",e.result="",L=P=e.position,V=!1;Ke!==0;){if(Ke===58){if(y=e.input.charCodeAt(e.position+1),cs(y)||u&&fc(y))break}else if(Ke===35){if(b=e.input.charCodeAt(e.position-1),cs(b))break}else{if(e.position===e.lineStart&&sl(e)||u&&fc(Ke))break;if(ls(Ke))if(ee=e.line,_e=e.lineStart,Le=e.lineIndent,Yo(e,!1,-1),e.lineIndent>=n){V=!0,Ke=e.input.charCodeAt(e.position);continue}else{e.position=P,e.line=ee,e.lineStart=_e,e.lineIndent=Le;break}}V&&(ma(e,L,P,!1),Ps(e,e.line-ee),L=P=e.position,V=!1),el(Ke)||(P=e.position+1),Ke=e.input.charCodeAt(++e.position)}return ma(e,L,P,!1),e.result?!0:(e.kind=Fe,e.result=Re,!1)}function Sc(e,n){var u,b,y;if(u=e.input.charCodeAt(e.position),u!==39)return!1;for(e.kind="scalar",e.result="",e.position++,b=y=e.position;(u=e.input.charCodeAt(e.position))!==0;)if(u===39)if(ma(e,b,e.position,!0),u=e.input.charCodeAt(++e.position),u===39)b=e.position,e.position++,y=e.position;else return!0;else ls(u)?(ma(e,b,y,!0),Ps(e,Yo(e,!1,n)),b=y=e.position):e.position===e.lineStart&&sl(e)?fi(e,"unexpected end of the document within a single quoted scalar"):(e.position++,y=e.position);fi(e,"unexpected end of the stream within a single quoted scalar")}function yl(e,n){var u,b,y,L,P,V;if(V=e.input.charCodeAt(e.position),V!==34)return!1;for(e.kind="scalar",e.result="",e.position++,u=b=e.position;(V=e.input.charCodeAt(e.position))!==0;){if(V===34)return ma(e,u,e.position,!0),e.position++,!0;if(V===92){if(ma(e,u,e.position,!0),V=e.input.charCodeAt(++e.position),ls(V))Yo(e,!1,n);else if(V<256&&rn[V])e.result+=pn[V],e.position++;else if((P=Gu(V))>0){for(y=P,L=0;y>0;y--)V=e.input.charCodeAt(++e.position),(P=ms(V))>=0?L=(L<<4)+P:fi(e,"expected hexadecimal character");e.result+=ot(L),e.position++}else fi(e,"unknown escape sequence");u=b=e.position}else ls(V)?(ma(e,u,b,!0),Ps(e,Yo(e,!1,n)),u=b=e.position):e.position===e.lineStart&&sl(e)?fi(e,"unexpected end of the document within a double quoted scalar"):(e.position++,b=e.position)}fi(e,"unexpected end of the stream within a double quoted scalar")}function ks(e,n){var u=!0,b,y,L,P=e.tag,V,ee=e.anchor,_e,Le,Fe,Re,Ke,Ut=Object.create(null),sn,an,hn,Xt;if(Xt=e.input.charCodeAt(e.position),Xt===91)Le=93,Ke=!1,V=[];else if(Xt===123)Le=125,Ke=!0,V={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=V),Xt=e.input.charCodeAt(++e.position);Xt!==0;){if(Yo(e,!0,n),Xt=e.input.charCodeAt(e.position),Xt===Le)return e.position++,e.tag=P,e.anchor=ee,e.kind=Ke?"mapping":"sequence",e.result=V,!0;u?Xt===44&&fi(e,"expected the node content, but found ','"):fi(e,"missed comma between flow collection entries"),an=sn=hn=null,Fe=Re=!1,Xt===63&&(_e=e.input.charCodeAt(e.position+1),cs(_e)&&(Fe=Re=!0,e.position++,Yo(e,!0,n))),b=e.line,y=e.lineStart,L=e.position,Tl(e,n,gl,!1,!0),an=e.tag,sn=e.result,Yo(e,!0,n),Xt=e.input.charCodeAt(e.position),(Re||e.line===b)&&Xt===58&&(Fe=!0,Xt=e.input.charCodeAt(++e.position),Yo(e,!0,n),Tl(e,n,gl,!1,!0),hn=e.result),Ke?$o(e,V,Ut,an,sn,hn,b,y,L):Fe?V.push($o(e,null,Ut,an,sn,hn,b,y,L)):V.push(sn),Yo(e,!0,n),Xt=e.input.charCodeAt(e.position),Xt===44?(u=!0,Xt=e.input.charCodeAt(++e.position)):u=!1}fi(e,"unexpected end of the stream within a flow collection")}function hc(e,n){var u,b,y=Hl,L=!1,P=!1,V=n,ee=0,_e=!1,Le,Fe;if(Fe=e.input.charCodeAt(e.position),Fe===124)b=!1;else if(Fe===62)b=!0;else return!1;for(e.kind="scalar",e.result="";Fe!==0;)if(Fe=e.input.charCodeAt(++e.position),Fe===43||Fe===45)Hl===y?y=Fe===43?Rs:Cc:fi(e,"repeat of a chomping mode identifier");else if((Le=dd(Fe))>=0)Le===0?fi(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):P?fi(e,"repeat of an indentation width identifier"):(V=n+Le-1,P=!0);else break;if(el(Fe)){do Fe=e.input.charCodeAt(++e.position);while(el(Fe));if(Fe===35)do Fe=e.input.charCodeAt(++e.position);while(!ls(Fe)&&Fe!==0)}for(;Fe!==0;){for(jl(e),e.lineIndent=0,Fe=e.input.charCodeAt(e.position);(!P||e.lineIndent<V)&&Fe===32;)e.lineIndent++,Fe=e.input.charCodeAt(++e.position);if(!P&&e.lineIndent>V&&(V=e.lineIndent),ls(Fe)){ee++;continue}if(e.lineIndent<V){y===Rs?e.result+=Vn.repeat(`
`,L?1+ee:ee):y===Hl&&L&&(e.result+=`
`);break}for(b?el(Fe)?(_e=!0,e.result+=Vn.repeat(`
`,L?1+ee:ee)):_e?(_e=!1,e.result+=Vn.repeat(`
`,ee+1)):ee===0?L&&(e.result+=" "):e.result+=Vn.repeat(`
`,ee):e.result+=Vn.repeat(`
`,L?1+ee:ee),L=!0,P=!0,ee=0,u=e.position;!ls(Fe)&&Fe!==0;)Fe=e.input.charCodeAt(++e.position);ma(e,u,e.position,!1)}return!0}function Td(e,n){var u,b=e.tag,y=e.anchor,L=[],P,V=!1,ee;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=L),ee=e.input.charCodeAt(e.position);ee!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,fi(e,"tab characters must not be used in indentation")),!(ee!==45||(P=e.input.charCodeAt(e.position+1),!cs(P))));){if(V=!0,e.position++,Yo(e,!0,-1)&&e.lineIndent<=n){L.push(null),ee=e.input.charCodeAt(e.position);continue}if(u=e.line,Tl(e,n,ml,!1,!0),L.push(e.result),Yo(e,!0,-1),ee=e.input.charCodeAt(e.position),(e.line===u||e.lineIndent>n)&&ee!==0)fi(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return V?(e.tag=b,e.anchor=y,e.kind="sequence",e.result=L,!0):!1}function Sd(e,n,u){var b,y,L,P,V,ee,_e=e.tag,Le=e.anchor,Fe={},Re=Object.create(null),Ke=null,Ut=null,sn=null,an=!1,hn=!1,Xt;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=Fe),Xt=e.input.charCodeAt(e.position);Xt!==0;){if(!an&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,fi(e,"tab characters must not be used in indentation")),b=e.input.charCodeAt(e.position+1),L=e.line,(Xt===63||Xt===58)&&cs(b))Xt===63?(an&&($o(e,Fe,Re,Ke,Ut,null,P,V,ee),Ke=Ut=sn=null),hn=!0,an=!0,y=!0):an?(an=!1,y=!0):fi(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,Xt=b;else{if(P=e.line,V=e.lineStart,ee=e.position,!Tl(e,u,zo,!1,!0))break;if(e.line===L){for(Xt=e.input.charCodeAt(e.position);el(Xt);)Xt=e.input.charCodeAt(++e.position);if(Xt===58)Xt=e.input.charCodeAt(++e.position),cs(Xt)||fi(e,"a whitespace character is expected after the key-value separator within a block mapping"),an&&($o(e,Fe,Re,Ke,Ut,null,P,V,ee),Ke=Ut=sn=null),hn=!0,an=!1,y=!1,Ke=e.tag,Ut=e.result;else if(hn)fi(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=_e,e.anchor=Le,!0}else if(hn)fi(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=_e,e.anchor=Le,!0}if((e.line===L||e.lineIndent>n)&&(an&&(P=e.line,V=e.lineStart,ee=e.position),Tl(e,n,Ms,!0,y)&&(an?Ut=e.result:sn=e.result),an||($o(e,Fe,Re,Ke,Ut,sn,P,V,ee),Ke=Ut=sn=null),Yo(e,!0,-1),Xt=e.input.charCodeAt(e.position)),(e.line===L||e.lineIndent>n)&&Xt!==0)fi(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return an&&$o(e,Fe,Re,Ke,Ut,null,P,V,ee),hn&&(e.tag=_e,e.anchor=Le,e.kind="mapping",e.result=Fe),hn}function Ad(e){var n,u=!1,b=!1,y,L,P;if(P=e.input.charCodeAt(e.position),P!==33)return!1;if(e.tag!==null&&fi(e,"duplication of a tag property"),P=e.input.charCodeAt(++e.position),P===60?(u=!0,P=e.input.charCodeAt(++e.position)):P===33?(b=!0,y="!!",P=e.input.charCodeAt(++e.position)):y="!",n=e.position,u){do P=e.input.charCodeAt(++e.position);while(P!==0&&P!==62);e.position<e.length?(L=e.input.slice(n,e.position),P=e.input.charCodeAt(++e.position)):fi(e,"unexpected end of the stream within a verbatim tag")}else{for(;P!==0&&!cs(P);)P===33&&(b?fi(e,"tag suffix cannot contain exclamation marks"):(y=e.input.slice(n-1,e.position+1),Rl.test(y)||fi(e,"named tag handle cannot contain such characters"),b=!0,n=e.position+1)),P=e.input.charCodeAt(++e.position);L=e.input.slice(n,e.position),tu.test(L)&&fi(e,"tag suffix cannot contain flow indicator characters")}L&&!po.test(L)&&fi(e,"tag name cannot contain such characters: "+L);try{L=decodeURIComponent(L)}catch(V){fi(e,"tag name is malformed: "+L)}return u?e.tag=L:ns.call(e.tagMap,y)?e.tag=e.tagMap[y]+L:y==="!"?e.tag="!"+L:y==="!!"?e.tag="tag:yaml.org,2002:"+L:fi(e,'undeclared tag handle "'+y+'"'),!0}function fd(e){var n,u;if(u=e.input.charCodeAt(e.position),u!==38)return!1;for(e.anchor!==null&&fi(e,"duplication of an anchor property"),u=e.input.charCodeAt(++e.position),n=e.position;u!==0&&!cs(u)&&!fc(u);)u=e.input.charCodeAt(++e.position);return e.position===n&&fi(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function gf(e){var n,u,b;if(b=e.input.charCodeAt(e.position),b!==42)return!1;for(b=e.input.charCodeAt(++e.position),n=e.position;b!==0&&!cs(b)&&!fc(b);)b=e.input.charCodeAt(++e.position);return e.position===n&&fi(e,"name of an alias node must contain at least one character"),u=e.input.slice(n,e.position),ns.call(e.anchorMap,u)||fi(e,'unidentified alias "'+u+'"'),e.result=e.anchorMap[u],Yo(e,!0,-1),!0}function Tl(e,n,u,b,y){var L,P,V,ee=1,_e=!1,Le=!1,Fe,Re,Ke,Ut,sn,an;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,L=P=V=Ms===u||ml===u,b&&Yo(e,!0,-1)&&(_e=!0,e.lineIndent>n?ee=1:e.lineIndent===n?ee=0:e.lineIndent<n&&(ee=-1)),ee===1)for(;Ad(e)||fd(e);)Yo(e,!0,-1)?(_e=!0,V=L,e.lineIndent>n?ee=1:e.lineIndent===n?ee=0:e.lineIndent<n&&(ee=-1)):V=!1;if(V&&(V=_e||y),(ee===1||Ms===u)&&(gl===u||zo===u?sn=n:sn=n+1,an=e.position-e.lineStart,ee===1?V&&(Td(e,an)||Sd(e,an,sn))||ks(e,sn)?Le=!0:(P&&hc(e,sn)||Sc(e,sn)||yl(e,sn)?Le=!0:gf(e)?(Le=!0,(e.tag!==null||e.anchor!==null)&&fi(e,"alias node should not have any properties")):Tc(e,sn,gl===u)&&(Le=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ee===0&&(Le=V&&Td(e,an))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&fi(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),Fe=0,Re=e.implicitTypes.length;Fe<Re;Fe+=1)if(Ut=e.implicitTypes[Fe],Ut.resolve(e.result)){e.result=Ut.construct(e.result),e.tag=Ut.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ns.call(e.typeMap[e.kind||"fallback"],e.tag))Ut=e.typeMap[e.kind||"fallback"][e.tag];else for(Ut=null,Ke=e.typeMap.multi[e.kind||"fallback"],Fe=0,Re=Ke.length;Fe<Re;Fe+=1)if(e.tag.slice(0,Ke[Fe].tag.length)===Ke[Fe].tag){Ut=Ke[Fe];break}Ut||fi(e,"unknown tag !<"+e.tag+">"),e.result!==null&&Ut.kind!==e.kind&&fi(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+Ut.kind+'", not "'+e.kind+'"'),Ut.resolve(e.result,e.tag)?(e.result=Ut.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):fi(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||Le}function mf(e){var n=e.position,u,b,y,L=!1,P;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(P=e.input.charCodeAt(e.position))!==0&&(Yo(e,!0,-1),P=e.input.charCodeAt(e.position),!(e.lineIndent>0||P!==37));){for(L=!0,P=e.input.charCodeAt(++e.position),u=e.position;P!==0&&!cs(P);)P=e.input.charCodeAt(++e.position);for(b=e.input.slice(u,e.position),y=[],b.length<1&&fi(e,"directive name must not be less than one character in length");P!==0;){for(;el(P);)P=e.input.charCodeAt(++e.position);if(P===35){do P=e.input.charCodeAt(++e.position);while(P!==0&&!ls(P));break}if(ls(P))break;for(u=e.position;P!==0&&!cs(P);)P=e.input.charCodeAt(++e.position);y.push(e.input.slice(u,e.position))}P!==0&&jl(e),ns.call(Ua,b)?Ua[b](e,b,y):za(e,'unknown document directive "'+b+'"')}if(Yo(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Yo(e,!0,-1)):L&&fi(e,"directives end mark is expected"),Tl(e,e.lineIndent-1,Ms,!1,!0),Yo(e,!0,-1),e.checkLineBreaks&&eu.test(e.input.slice(n,e.position))&&za(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&sl(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Yo(e,!0,-1));return}if(e.position<e.length-1)fi(e,"end of the stream or a document separator is expected");else return}function Ud(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var u=new Jr(e,n),b=e.indexOf("\0");for(b!==-1&&(u.position=b,fi(u,"null byte is not allowed in input")),u.input+="\0";u.input.charCodeAt(u.position)===32;)u.lineIndent+=1,u.position+=1;for(;u.position<u.length-1;)mf(u);return u.documents}function Mu(e,n,u){n!==null&&typeof n=="object"&&typeof u=="undefined"&&(u=n,n=null);var b=Ud(e,u);if(typeof n!="function")return b;for(var y=0,L=b.length;y<L;y+=1)n(b[y])}function nu(e,n){var u=Ud(e,n);if(u.length!==0){if(u.length===1)return u[0];throw new oi("expected a single document in the stream, but found more")}}var Vl=Mu,hd=nu,Ac={loadAll:Vl,load:hd},tc=Io,Nf=Ac.load;const qu=new RegExp("^-{3}\\s*[\\n\\r](.*?)[\\n\\r]-{3}\\s*[\\n\\r]+","s");function Hd(e,n){var u;const b=e.match(qu);if(b){const y=Nf(b[1],{schema:tc});return y!=null&&y.title&&((u=n.setDiagramTitle)==null||u.call(n,y.title)),e.slice(b[0].length)}else return e}const jd=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Vd=/\s*%%.*\n/gm,pd={},Yd=function(e,n){e=e.replace(qu,"").replace(jd,"").replace(Vd,`
`);for(const[u,{detector:b}]of Object.entries(pd))if(b(e,n))return u;throw new Error(`No diagram type detected for text: ${e}`)},Rf=(...e)=>{for(const{id:n,detector:u,loader:b}of e)ru(n,u,b)},ru=(e,n,u)=>{pd[e]?Me.error(`Detector with key ${e} already exists`):pd[e]={detector:n,loader:u},Me.debug(`Detector with key ${e} added${u?" with loader":""}`)},vd=e=>pd[e].loader,Fc=function(e,n,u){const{depth:b,clobber:y}=Object.assign({depth:2,clobber:!1},u);return Array.isArray(n)&&!Array.isArray(e)?(n.forEach(L=>Fc(e,L,u)),e):Array.isArray(n)&&Array.isArray(e)?(n.forEach(L=>{e.includes(L)||e.push(L)}),e):e===void 0||b<=0?e!=null&&typeof e=="object"&&typeof n=="object"?Object.assign(e,n):n:(n!==void 0&&typeof e=="object"&&typeof n=="object"&&Object.keys(n).forEach(L=>{typeof n[L]=="object"&&(e[L]===void 0||typeof e[L]=="object")?(e[L]===void 0&&(e[L]=Array.isArray(n[L])?[]:{}),e[L]=Fc(e[L],n[L],{depth:b-1,clobber:y})):(y||typeof e[L]!="object"&&typeof n[L]!="object")&&(e[L]=n[L])}),e)},Gs=Fc,Kd={curveBasis:d.$0Z,curveBasisClosed:d.Dts,curveBasisOpen:d.WQY,curveBumpX:d.qpX,curveBumpY:d.u93,curveBundle:d.tFB,curveCardinalClosed:d.OvA,curveCardinalOpen:d.dCK,curveCardinal:d.YY7,curveCatmullRomClosed:d.fGX,curveCatmullRomOpen:d.$m7,curveCatmullRom:d.zgE,curveLinear:d.c_6,curveLinearClosed:d.fxm,curveMonotoneX:d.FdL,curveMonotoneY:d.ak_,curveNatural:d.SxZ,curveStep:d.eA_,curveStepAfter:d.jsv,curveStepBefore:d.iJ},Gd=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$u=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Xu=function(e,n){const u=iu(e,/(?:init\b)|(?:initialize\b)/);let b={};if(Array.isArray(u)){const y=u.map(L=>L.args);nc(y),b=Gs(b,[...y])}else b=u.args;if(b){let y=Yd(e,n);["config"].forEach(L=>{b[L]!==void 0&&(y==="flowchart-v2"&&(y="flowchart"),b[y]=b[L],delete b[L])})}return b},iu=function(e,n=null){try{const u=new RegExp(`[%]{2}(?![{]${$u.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(u,"").replace(/'/gm,'"'),Me.debug(`Detecting diagram directive${n!==null?" type:"+n:""} based on the text:${e}`);let b;const y=[];for(;(b=Gd.exec(e))!==null;)if(b.index===Gd.lastIndex&&Gd.lastIndex++,b&&!n||n&&b[1]&&b[1].match(n)||n&&b[2]&&b[2].match(n)){const L=b[1]?b[1]:b[2],P=b[3]?b[3].trim():b[4]?JSON.parse(b[4].trim()):null;y.push({type:L,args:P})}return y.length===0&&y.push({type:e,args:null}),y.length===1?y[0]:y}catch(u){return Me.error(`ERROR: ${u.message} - Unable to parse directive
      ${n!==null?" type:"+n:""} based on the text:${e}`),{type:null,args:null}}},Pl=function(e,n){for(const[u,b]of n.entries())if(b.match(e))return u;return-1};function ll(e,n){if(!e)return n;const u=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Kd[u]||n}function zs(e,n){const u=e.trim();if(u)return n.securityLevel!=="loose"?(0,p.N)(u):u}const qd=(e,...n)=>{const u=e.split("."),b=u.length-1,y=u[b];let L=window;for(let P=0;P<b;P++)if(L=L[u[P]],!L)return;L[y](...n)};function vu(e,n){return e&&n?Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)):0}function $d(e){let n,u=0;e.forEach(L=>{u+=vu(L,n),n=L});let b=u/2,y;return n=void 0,e.forEach(L=>{if(n&&!y){const P=vu(L,n);if(P<b)b-=P;else{const V=b/P;V<=0&&(y=n),V>=1&&(y={x:L.x,y:L.y}),V>0&&V<1&&(y={x:(1-V)*n.x+V*L.x,y:(1-V)*n.y+V*L.y})}}n=L}),y}function Md(e){return e.length===1?e[0]:$d(e)}const gd=(e,n,u)=>{let b;Me.info(`our points ${JSON.stringify(n)}`),n[0]!==u&&(n=n.reverse());let L=25,P;b=void 0,n.forEach(Le=>{if(b&&!P){const Fe=vu(Le,b);if(Fe<L)L-=Fe;else{const Re=L/Fe;Re<=0&&(P=b),Re>=1&&(P={x:Le.x,y:Le.y}),Re>0&&Re<1&&(P={x:(1-Re)*b.x+Re*Le.x,y:(1-Re)*b.y+Re*Le.y})}}b=Le});const V=e?10:5,ee=Math.atan2(n[0].y-P.y,n[0].x-P.x),_e={x:0,y:0};return _e.x=Math.sin(ee)*V+(n[0].x+P.x)/2,_e.y=-Math.cos(ee)*V+(n[0].y+P.y)/2,_e};function bf(e,n,u){let b=JSON.parse(JSON.stringify(u)),y;Me.info("our points",b),n!=="start_left"&&n!=="start_right"&&(b=b.reverse()),b.forEach(Fe=>{y=Fe});let P=25+e,V;y=void 0,b.forEach(Fe=>{if(y&&!V){const Re=vu(Fe,y);if(Re<P)P-=Re;else{const Ke=P/Re;Ke<=0&&(V=y),Ke>=1&&(V={x:Fe.x,y:Fe.y}),Ke>0&&Ke<1&&(V={x:(1-Ke)*y.x+Ke*Fe.x,y:(1-Ke)*y.y+Ke*Fe.y})}}y=Fe});const ee=10+e*.5,_e=Math.atan2(b[0].y-V.y,b[0].x-V.x),Le={x:0,y:0};return Le.x=Math.sin(_e)*ee+(b[0].x+V.x)/2,Le.y=-Math.cos(_e)*ee+(b[0].y+V.y)/2,n==="start_left"&&(Le.x=Math.sin(_e+Math.PI)*ee+(b[0].x+V.x)/2,Le.y=-Math.cos(_e+Math.PI)*ee+(b[0].y+V.y)/2),n==="end_right"&&(Le.x=Math.sin(_e-Math.PI)*ee+(b[0].x+V.x)/2-5,Le.y=-Math.cos(_e-Math.PI)*ee+(b[0].y+V.y)/2-5),n==="end_left"&&(Le.x=Math.sin(_e)*ee+(b[0].x+V.x)/2-5,Le.y=-Math.cos(_e)*ee+(b[0].y+V.y)/2-5),Le}function pc(e){let n="",u="";for(const b of e)b!==void 0&&(b.startsWith("color:")||b.startsWith("text-align:")?u=u+b+";":n=n+b+";");return{style:n,labelStyle:u}}let yf=0;const Du=()=>(yf++,"id-"+Math.random().toString(36).substr(2,12)+"-"+yf);function Qu(e){let n="";const u="0123456789abcdef",b=u.length;for(let y=0;y<e;y++)n+=u.charAt(Math.floor(Math.random()*b));return n}const Xd=e=>Qu(e.length),Sl=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},Iu=function(e,n){const u=n.text.replace(Ee.lineBreakRegex," "),[,b]=au(n.fontSize),y=e.append("text");y.attr("x",n.x),y.attr("y",n.y),y.style("text-anchor",n.anchor),y.style("font-family",n.fontFamily),y.style("font-size",b),y.style("font-weight",n.fontWeight),y.attr("fill",n.fill),n.class!==void 0&&y.attr("class",n.class);const L=y.append("tspan");return L.attr("x",n.x+n.textMargin*2),L.attr("fill",n.fill),L.text(u),y},md=(0,je.Z)((e,n,u)=>{if(!e||(u=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},u),Ee.lineBreakRegex.test(e)))return e;const b=e.split(" "),y=[];let L="";return b.forEach((P,V)=>{const ee=Zc(`${P} `,u),_e=Zc(L,u);if(ee>n){const{hyphenatedStrings:Re,remainingWord:Ke}=Lu(P,n,"-",u);y.push(L,...Re),L=Ke}else _e+ee>=n?(y.push(L),L=P):L=[L,P].filter(Boolean).join(" ");V+1===b.length&&y.push(L)}),y.filter(P=>P!=="").join(u.joinWith)},(e,n,u)=>`${e}${n}${u.fontSize}${u.fontWeight}${u.fontFamily}${u.joinWith}`),Lu=(0,je.Z)((e,n,u="-",b)=>{b=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},b);const y=[...e],L=[];let P="";return y.forEach((V,ee)=>{const _e=`${P}${V}`;if(Zc(_e,b)>=n){const Fe=ee+1,Re=y.length===Fe,Ke=`${_e}${u}`;L.push(Re?_e:Ke),P=""}else P=_e}),{hyphenatedStrings:L,remainingWord:P}},(e,n,u="-",b)=>`${e}${n}${u}${b.fontSize}${b.fontWeight}${b.fontFamily}`);function Ou(e,n){return n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},n),_f(e,n).height}function Zc(e,n){return n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},n),_f(e,n).width}const _f=(0,je.Z)((e,n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},n);const{fontSize:u,fontFamily:b,fontWeight:y}=n;if(!e)return{width:0,height:0};const[,L]=au(u),P=["sans-serif",b],V=e.split(Ee.lineBreakRegex),ee=[],_e=(0,d.Ys)("body");if(!_e.remove)return{width:0,height:0,lineHeight:0};const Le=_e.append("svg");for(const Re of P){let Ke=0;const Ut={width:0,height:0,lineHeight:0};for(const sn of V){const an=Sl();an.text=sn;const hn=Iu(Le,an).style("font-size",L).style("font-weight",y).style("font-family",Re),Xt=(hn._groups||hn)[0][0].getBBox();Ut.width=Math.round(Math.max(Ut.width,Xt.width)),Ke=Math.round(Xt.height),Ut.height+=Ke,Ut.lineHeight=Math.round(Math.max(Ut.lineHeight,Ke))}ee.push(Ut)}Le.remove();const Fe=isNaN(ee[1].height)||isNaN(ee[1].width)||isNaN(ee[1].lineHeight)||ee[0].height>ee[1].height&&ee[0].width>ee[1].width&&ee[0].lineHeight>ee[1].lineHeight?0:1;return ee[Fe]},(e,n)=>`${e}${n.fontSize}${n.fontWeight}${n.fontFamily}`),xf=class{constructor(n,u){this.deterministic=n,this.seed=u,this.count=u?u.length:0}next(){return this.deterministic?this.count++:Date.now()}};let Ju;const Qd=function(e){return Ju=Ju||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ju.innerHTML=e,unescape(Ju.textContent)},nc=e=>{if(Me.debug("directiveSanitizer called with",e),typeof e=="object"&&(e.length?e.forEach(n=>nc(n)):Object.keys(e).forEach(n=>{Me.debug("Checking key",n),n.startsWith("__")&&(Me.debug("sanitize deleting __ option",n),delete e[n]),n.includes("proto")&&(Me.debug("sanitize deleting proto option",n),delete e[n]),n.includes("constr")&&(Me.debug("sanitize deleting constr option",n),delete e[n]),n.includes("themeCSS")&&(Me.debug("sanitizing themeCss option"),e[n]=Nu(e[n])),n.includes("fontFamily")&&(Me.debug("sanitizing fontFamily option"),e[n]=Nu(e[n])),n.includes("altFontFamily")&&(Me.debug("sanitizing altFontFamily option"),e[n]=Nu(e[n])),wn.includes(n)?typeof e[n]=="object"&&(Me.debug("sanitize deleting object",n),nc(e[n])):(Me.debug("sanitize deleting option",n),delete e[n])})),e.themeVariables){const n=Object.keys(e.themeVariables);for(const u of n){const b=e.themeVariables[u];b&&b.match&&!b.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[u]="")}}Me.debug("After sanitization",e)},Nu=e=>{let n=0,u=0;for(const b of e){if(n<u)return"{ /* ERROR: Unbalanced CSS */ }";b==="{"?n++:b==="}"&&u++}return n!==u?"{ /* ERROR: Unbalanced CSS */ }":e};function Dd(e){return"str"in e}function Jd(e){return e instanceof Error?e.message:String(e)}const Pf=(e,n,u,b)=>{if(!b)return;const y=e.node().getBBox();e.append("text").text(b).attr("x",y.x+y.width/2).attr("y",-u).attr("class",n)},au=e=>{if(typeof e=="number")return[e,e+"px"];const n=parseInt(e,10);return Number.isNaN(n)?[void 0,void 0]:e===String(n)?[n,e+"px"]:[n,e]},Ka={assignWithDepth:Gs,wrapLabel:md,calculateTextHeight:Ou,calculateTextWidth:Zc,calculateTextDimensions:_f,detectInit:Xu,detectDirective:iu,isSubstringInArray:Pl,interpolateToCurve:ll,calcLabelPosition:Md,calcCardinalityPosition:gd,calcTerminalLabelPosition:bf,formatUrl:zs,getStylesFromArray:pc,generateId:Du,random:Xd,runFunc:qd,entityDecode:Qd,initIdGenerator:xf,directiveSanitizer:nc,sanitizeCss:Nu,insertTitle:Pf,parseFontSize:au},tl={name:"mermaid",version:"9.4.0",description:"Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main:"./dist/mermaid.min.js",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts:{clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^6.0.0",cytoscape:"^3.23.0","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.1.0",d3:"^7.0.0","dagre-d3-es":"7.0.8",dompurify:"2.4.3",elkjs:"^0.8.2",khroma:"^2.0.0","lodash-es":"^4.17.21",moment:"^2.29.4","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2","ts-dedent":"^2.2.0",uuid:"^9.0.0"},devDependencies:{"@types/cytoscape":"^3.19.9","@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1","cpy-cli":"^4.2.0",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2","remark-frontmatter":"^4.0.1","remark-gfm":"^3.0.1",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.31","vitepress-plugin-search":"^1.0.4-alpha.16"},files:["dist","README.md"],sideEffects:["**/*.css","**/*.scss"]},Xo=Object.freeze(mn);let Ko=Gs({},Xo),Ws,Al=[],rc=Gs({},Xo);const cl=(e,n)=>{let u=Gs({},e),b={};for(const y of n)Ht(y),b=Gs(b,y);if(u=Gs(u,b),b.theme&&b.theme in Yt){const y=Gs({},Ws),L=Gs(y.themeVariables||{},b.themeVariables);u.theme&&u.theme in Yt&&(u.themeVariables=Yt[u.theme].getThemeVariables(L))}return rc=u,Gr(rc),rc},nf=e=>(Ko=Gs({},Xo),Ko=Gs(Ko,e),e.theme&&Yt[e.theme]&&(Ko.themeVariables=Yt[e.theme].getThemeVariables(e.themeVariables)),cl(Ko,Al),Ko),_l=e=>{Ws=Gs({},e)},be=e=>(Ko=Gs(Ko,e),cl(Ko,Al),Ko),Xe=()=>Gs({},Ko),gt=e=>(Gr(e),Gs(rc,e),qe()),qe=()=>Gs({},rc),Ht=e=>{var n;["secure",...(n=Ko.secure)!=null?n:[]].forEach(u=>{e[u]!==void 0&&(Me.debug(`Denied attempt to modify a secure key ${u}`,e[u]),delete e[u])}),Object.keys(e).forEach(u=>{u.indexOf("__")===0&&delete e[u]}),Object.keys(e).forEach(u=>{typeof e[u]=="string"&&(e[u].includes("<")||e[u].includes(">")||e[u].includes("url(data:"))&&delete e[u],typeof e[u]=="object"&&Ht(e[u])})},dn=e=>{e.fontFamily&&(e.themeVariables?e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily}):e.themeVariables={fontFamily:e.fontFamily}),Al.push(e),cl(Ko,Al)},fn=(e=Ko)=>{Al=[],cl(e,Al)};var Jn=(e=>(e.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",e))(Jn||{});const br={},Or=e=>{br[e]||(Me.warn(Jn[e]),br[e]=!0)},Gr=e=>{!e||(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&Or("LAZY_LOAD_DEPRECATED")},Fi=function(e,n){for(let u of n)e.attr(u[0],u[1])},Ga=function(e,n,u){let b=new Map;return u?(b.set("width","100%"),b.set("style",`max-width: ${n}px;`)):(b.set("height",e),b.set("width",n)),b},Ra=function(e,n,u,b){const y=Ga(n,u,b);Fi(e,y)},oo=function(e,n,u,b){const y=n.node().getBBox(),L=y.width,P=y.height;Me.info(`SVG bounds: ${L}x${P}`,y);let V=0,ee=0;Me.info(`Graph bounds: ${V}x${ee}`,e),V=L+u*2,ee=P+u*2,Me.info(`Calculated bounds: ${V}x${ee}`),Ra(n,ee,V,b);const _e=`${y.x-u} ${y.y-u} ${y.width+2*u} ${y.height+2*u}`;n.attr("viewBox",_e)},xl=e=>`g.classGroup text {
  fill: ${e.nodeBorder};
  fill: ${e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,zc=e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
`,Mc=()=>"",Uc=e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,rl=e=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${e.fontFamily};
      fill: ${e.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${e.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${e.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,bu=()=>"",gc=e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,ic=e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 100%;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,Pu=e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,Cf=e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,ac=e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,_u=e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,wl={flowchart:Uc,"flowchart-v2":Uc,sequence:Pu,gantt:rl,classDiagram:xl,"classDiagram-v2":xl,class:xl,stateDiagram:Cf,state:Cf,info:bu,pie:gc,er:zc,error:Mc,journey:ac,requirement:ic,c4:_u},kh=(e,n,u)=>{let b="";return e in wl&&wl[e]?b=wl[e](u):Me.warn(`No theme found for ${e}`),` & {
    font-family: ${u.fontFamily};
    font-size: ${u.fontSize};
    fill: ${u.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${u.errorBkgColor};
  }
  & .error-text {
    fill: ${u.errorTextColor};
    stroke: ${u.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${u.lineColor};
    stroke: ${u.lineColor};
  }
  & .marker.cross {
    stroke: ${u.lineColor};
  }

  & svg {
    font-family: ${u.fontFamily};
    font-size: ${u.fontSize};
  }

  ${b}

  ${n}
`},kl=(e,n)=>{wl[e]=n},Tf=kh;let rf="",xd="",mc="";const bs=e=>jr(e,qe()),rs=function(){rf="",mc="",xd=""},Oa=function(e){rf=bs(e).replace(/^\s+/g,"")},Wo=function(){return rf||xd},bc=function(e){mc=bs(e).replace(/\n\s+/g,`
`)},oc=function(){return mc},ou=function(e){xd=bs(e)},at=function(){return xd},t=Object.freeze(Object.defineProperty({__proto__:null,clear:rs,setAccTitle:Oa,getAccTitle:Wo,setAccDescription:bc,getAccDescription:oc,setDiagramTitle:ou,getDiagramTitle:at,default:{setAccTitle:Oa,getAccTitle:Wo,setDiagramTitle:ou,getDiagramTitle:at,getAccDescription:oc,setAccDescription:bc,clear:rs}},Symbol.toStringTag,{value:"Module"}));let a={};const i=function(e,n,u,b){Me.debug("parseDirective is being called",n,u,b);try{if(n!==void 0)switch(n=n.trim(),u){case"open_directive":a={};break;case"type_directive":if(!a)throw new Error("currentDirective is undefined");a.type=n.toLowerCase();break;case"arg_directive":if(!a)throw new Error("currentDirective is undefined");a.args=JSON.parse(n);break;case"close_directive":s(e,a,b),a=void 0;break}}catch(y){Me.error(`Error while rendering sequenceDiagram directive: ${n} jison context: ${u}`),Me.error(y.message)}},s=function(e,n,u){switch(Me.info(`Directive type=${n.type} with args:`,n.args),n.type){case"init":case"initialize":{["config"].forEach(b=>{n.args[b]!==void 0&&(u==="flowchart-v2"&&(u="flowchart"),n.args[u]=n.args[b],delete n.args[b])}),Me.info("sanitize in handleDirective",n.args),nc(n.args),Me.info("sanitize in handleDirective (done)",n.args),dn(n.args);break}case"wrap":case"nowrap":e&&e.setWrap&&e.setWrap(n.type==="wrap");break;case"themeCss":Me.warn("themeCss encountered");break;default:Me.warn(`Unhandled directive: source: '%%{${n.type}: ${JSON.stringify(n.args?n.args:{})}}%%`,n);break}},h=Me,w=yn,I=qe,B=e=>jr(e,I()),W=oo,G=()=>t,H=(e,n,u,b)=>i(e,n,u,b),he={},ge=(e,n,u)=>{if(he[e])throw new Error(`Diagram ${e} already registered.`);he[e]=n,u&&ru(e,u),kl(e,n.styles),n.injectUtils&&n.injectUtils(h,w,I,B,W,G(),H)},Oe=e=>{if(e in he)return he[e];throw new Error(`Diagram ${e} not found.`)};var rt=function(){var e=function($n,cn,Sn,kn){for(Sn=Sn||{},kn=$n.length;kn--;Sn[$n[kn]]=cn);return Sn},n=[1,4],u=[1,7],b=[1,5],y=[1,9],L=[1,6],P=[2,6],V=[1,16],ee=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],_e=[8,14,20,22,24,25,27,29,32,37,40],Le=[8,13,14,20,22,24,25,27,29,32,37,40],Fe=[1,26],Re=[6,8,14,50,55],Ke=[8,14,55],Ut=[1,53],sn=[1,52],an=[8,14,30,33,35,38,55],hn=[1,67],Xt=[1,68],zn=[1,69],nr=[8,14,33,35,42,55],kr={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(cn,Sn,kn,At,Ln,$e,sr){var ft=$e.length-1;switch(Ln){case 3:return $e[ft];case 4:return $e[ft-1];case 5:return At.setDirection($e[ft-3]),$e[ft-1];case 7:At.setOptions($e[ft-1]),this.$=$e[ft];break;case 8:$e[ft-1]+=$e[ft],this.$=$e[ft-1];break;case 10:this.$=[];break;case 11:$e[ft-1].push($e[ft]),this.$=$e[ft-1];break;case 12:this.$=$e[ft-1];break;case 17:this.$=$e[ft].trim(),At.setAccTitle(this.$);break;case 18:case 19:this.$=$e[ft].trim(),At.setAccDescription(this.$);break;case 20:At.addSection($e[ft].substr(8)),this.$=$e[ft].substr(8);break;case 22:At.checkout($e[ft]);break;case 23:At.branch($e[ft]);break;case 24:At.branch($e[ft-2],$e[ft]);break;case 25:At.cherryPick($e[ft],"",void 0);break;case 26:At.cherryPick($e[ft-2],"",$e[ft]);break;case 27:case 29:At.cherryPick($e[ft-2],"","");break;case 28:At.cherryPick($e[ft],"",$e[ft-2]);break;case 30:At.merge($e[ft],"","","");break;case 31:At.merge($e[ft-2],$e[ft],"","");break;case 32:At.merge($e[ft-2],"",$e[ft],"");break;case 33:At.merge($e[ft-2],"","",$e[ft]);break;case 34:At.merge($e[ft-4],$e[ft],"",$e[ft-2]);break;case 35:At.merge($e[ft-4],"",$e[ft],$e[ft-2]);break;case 36:At.merge($e[ft-4],"",$e[ft-2],$e[ft]);break;case 37:At.merge($e[ft-4],$e[ft-2],$e[ft],"");break;case 38:At.merge($e[ft-4],$e[ft-2],"",$e[ft]);break;case 39:At.merge($e[ft-4],$e[ft],$e[ft-2],"");break;case 40:At.merge($e[ft-6],$e[ft-4],$e[ft-2],$e[ft]);break;case 41:At.merge($e[ft-6],$e[ft],$e[ft-4],$e[ft-2]);break;case 42:At.merge($e[ft-6],$e[ft-4],$e[ft],$e[ft-2]);break;case 43:At.merge($e[ft-6],$e[ft-2],$e[ft-4],$e[ft]);break;case 44:At.merge($e[ft-6],$e[ft],$e[ft-2],$e[ft-4]);break;case 45:At.merge($e[ft-6],$e[ft-2],$e[ft],$e[ft-4]);break;case 46:At.commit($e[ft]);break;case 47:At.commit("","",At.commitType.NORMAL,$e[ft]);break;case 48:At.commit("","",$e[ft],"");break;case 49:At.commit("","",$e[ft],$e[ft-2]);break;case 50:At.commit("","",$e[ft-2],$e[ft]);break;case 51:At.commit("",$e[ft],At.commitType.NORMAL,"");break;case 52:At.commit("",$e[ft-2],At.commitType.NORMAL,$e[ft]);break;case 53:At.commit("",$e[ft],At.commitType.NORMAL,$e[ft-2]);break;case 54:At.commit("",$e[ft-2],$e[ft],"");break;case 55:At.commit("",$e[ft],$e[ft-2],"");break;case 56:At.commit("",$e[ft-4],$e[ft-2],$e[ft]);break;case 57:At.commit("",$e[ft-4],$e[ft],$e[ft-2]);break;case 58:At.commit("",$e[ft-2],$e[ft-4],$e[ft]);break;case 59:At.commit("",$e[ft],$e[ft-4],$e[ft-2]);break;case 60:At.commit("",$e[ft],$e[ft-2],$e[ft-4]);break;case 61:At.commit("",$e[ft-2],$e[ft],$e[ft-4]);break;case 62:At.commit($e[ft],"",At.commitType.NORMAL,"");break;case 63:At.commit($e[ft],"",At.commitType.NORMAL,$e[ft-2]);break;case 64:At.commit($e[ft-2],"",At.commitType.NORMAL,$e[ft]);break;case 65:At.commit($e[ft-2],"",$e[ft],"");break;case 66:At.commit($e[ft],"",$e[ft-2],"");break;case 67:At.commit($e[ft],$e[ft-2],At.commitType.NORMAL,"");break;case 68:At.commit($e[ft-2],$e[ft],At.commitType.NORMAL,"");break;case 69:At.commit($e[ft-4],"",$e[ft-2],$e[ft]);break;case 70:At.commit($e[ft-4],"",$e[ft],$e[ft-2]);break;case 71:At.commit($e[ft-2],"",$e[ft-4],$e[ft]);break;case 72:At.commit($e[ft],"",$e[ft-4],$e[ft-2]);break;case 73:At.commit($e[ft],"",$e[ft-2],$e[ft-4]);break;case 74:At.commit($e[ft-2],"",$e[ft],$e[ft-4]);break;case 75:At.commit($e[ft-4],$e[ft],$e[ft-2],"");break;case 76:At.commit($e[ft-4],$e[ft-2],$e[ft],"");break;case 77:At.commit($e[ft-2],$e[ft],$e[ft-4],"");break;case 78:At.commit($e[ft],$e[ft-2],$e[ft-4],"");break;case 79:At.commit($e[ft],$e[ft-4],$e[ft-2],"");break;case 80:At.commit($e[ft-2],$e[ft-4],$e[ft],"");break;case 81:At.commit($e[ft-4],$e[ft],At.commitType.NORMAL,$e[ft-2]);break;case 82:At.commit($e[ft-4],$e[ft-2],At.commitType.NORMAL,$e[ft]);break;case 83:At.commit($e[ft-2],$e[ft],At.commitType.NORMAL,$e[ft-4]);break;case 84:At.commit($e[ft],$e[ft-2],At.commitType.NORMAL,$e[ft-4]);break;case 85:At.commit($e[ft],$e[ft-4],At.commitType.NORMAL,$e[ft-2]);break;case 86:At.commit($e[ft-2],$e[ft-4],At.commitType.NORMAL,$e[ft]);break;case 87:At.commit($e[ft-6],$e[ft-4],$e[ft-2],$e[ft]);break;case 88:At.commit($e[ft-6],$e[ft-4],$e[ft],$e[ft-2]);break;case 89:At.commit($e[ft-6],$e[ft-2],$e[ft-4],$e[ft]);break;case 90:At.commit($e[ft-6],$e[ft],$e[ft-4],$e[ft-2]);break;case 91:At.commit($e[ft-6],$e[ft-2],$e[ft],$e[ft-4]);break;case 92:At.commit($e[ft-6],$e[ft],$e[ft-2],$e[ft-4]);break;case 93:At.commit($e[ft-4],$e[ft-6],$e[ft-2],$e[ft]);break;case 94:At.commit($e[ft-4],$e[ft-6],$e[ft],$e[ft-2]);break;case 95:At.commit($e[ft-2],$e[ft-6],$e[ft-4],$e[ft]);break;case 96:At.commit($e[ft],$e[ft-6],$e[ft-4],$e[ft-2]);break;case 97:At.commit($e[ft-2],$e[ft-6],$e[ft],$e[ft-4]);break;case 98:At.commit($e[ft],$e[ft-6],$e[ft-2],$e[ft-4]);break;case 99:At.commit($e[ft],$e[ft-4],$e[ft-2],$e[ft-6]);break;case 100:At.commit($e[ft-2],$e[ft-4],$e[ft],$e[ft-6]);break;case 101:At.commit($e[ft],$e[ft-2],$e[ft-4],$e[ft-6]);break;case 102:At.commit($e[ft-2],$e[ft],$e[ft-4],$e[ft-6]);break;case 103:At.commit($e[ft-4],$e[ft-2],$e[ft],$e[ft-6]);break;case 104:At.commit($e[ft-4],$e[ft],$e[ft-2],$e[ft-6]);break;case 105:At.commit($e[ft-2],$e[ft-4],$e[ft-6],$e[ft]);break;case 106:At.commit($e[ft],$e[ft-4],$e[ft-6],$e[ft-2]);break;case 107:At.commit($e[ft-2],$e[ft],$e[ft-6],$e[ft-4]);break;case 108:At.commit($e[ft],$e[ft-2],$e[ft-6],$e[ft-4]);break;case 109:At.commit($e[ft-4],$e[ft-2],$e[ft-6],$e[ft]);break;case 110:At.commit($e[ft-4],$e[ft],$e[ft-6],$e[ft-2]);break;case 111:this.$="";break;case 112:this.$=$e[ft];break;case 113:this.$=At.commitType.NORMAL;break;case 114:this.$=At.commitType.REVERSE;break;case 115:this.$=At.commitType.HIGHLIGHT;break;case 118:At.parseDirective("%%{","open_directive");break;case 119:At.parseDirective($e[ft],"type_directive");break;case 120:$e[ft]=$e[ft].trim().replace(/'/g,'"'),At.parseDirective($e[ft],"arg_directive");break;case 121:At.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:n,8:u,14:b,46:8,50:y,55:L},{1:[3]},{3:10,4:2,5:3,6:n,8:u,14:b,46:8,50:y,55:L},{3:11,4:2,5:3,6:n,8:u,14:b,46:8,50:y,55:L},{7:12,8:P,9:[1,13],10:[1,14],11:15,14:V},e(ee,[2,124]),e(ee,[2,125]),e(ee,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:P,11:15,14:V},{9:[1,21]},e(_e,[2,10],{12:22,13:[1,23]}),e(Le,[2,9]),{9:[1,25],48:24,53:Fe},e([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:P,11:15,14:V},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},e(Le,[2,8]),e(Re,[2,116]),{49:45,52:[1,46]},e(Re,[2,121]),{1:[2,4]},{8:[1,47]},e(_e,[2,11]),{4:48,8:u,14:b,55:L},e(_e,[2,13]),e(Ke,[2,14]),e(Ke,[2,15]),e(Ke,[2,16]),{21:[1,49]},{23:[1,50]},e(Ke,[2,19]),e(Ke,[2,20]),e(Ke,[2,21]),{28:51,34:Ut,54:sn},e(Ke,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:Ut,54:sn},{33:[1,61],35:[1,62]},{28:63,34:Ut,54:sn},{48:64,53:Fe},{53:[2,120]},{1:[2,5]},e(_e,[2,12]),e(Ke,[2,17]),e(Ke,[2,18]),e(Ke,[2,22]),e(an,[2,122]),e(an,[2,123]),e(Ke,[2,46]),{34:[1,65]},{39:66,43:hn,44:Xt,45:zn},{34:[1,70]},{34:[1,71]},e(Ke,[2,112]),e(Ke,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},e(Ke,[2,23],{30:[1,78]}),e(Re,[2,117]),e(Ke,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),e(Ke,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),e(nr,[2,113]),e(nr,[2,114]),e(nr,[2,115]),e(Ke,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),e(Ke,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:hn,44:Xt,45:zn},{34:[1,93]},e(Ke,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:hn,44:Xt,45:zn},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:hn,44:Xt,45:zn},{34:[1,106]},{34:[1,107]},{39:108,43:hn,44:Xt,45:zn},{34:[1,109]},e(Ke,[2,31],{35:[1,111],38:[1,110]}),e(Ke,[2,32],{33:[1,113],35:[1,112]}),e(Ke,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},e(Ke,[2,24]),e(Ke,[2,49],{33:[1,120],42:[1,121]}),e(Ke,[2,53],{38:[1,122],42:[1,123]}),e(Ke,[2,63],{33:[1,125],38:[1,124]}),e(Ke,[2,50],{33:[1,126],42:[1,127]}),e(Ke,[2,55],{35:[1,128],42:[1,129]}),e(Ke,[2,66],{33:[1,131],35:[1,130]}),e(Ke,[2,52],{38:[1,132],42:[1,133]}),e(Ke,[2,54],{35:[1,134],42:[1,135]}),e(Ke,[2,67],{35:[1,137],38:[1,136]}),e(Ke,[2,64],{33:[1,139],38:[1,138]}),e(Ke,[2,65],{33:[1,141],35:[1,140]}),e(Ke,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:hn,44:Xt,45:zn},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:hn,44:Xt,45:zn},e(Ke,[2,26]),e(Ke,[2,27]),e(Ke,[2,28]),e(Ke,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:hn,44:Xt,45:zn},{34:[1,153]},{39:154,43:hn,44:Xt,45:zn},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:hn,44:Xt,45:zn},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:hn,44:Xt,45:zn},{34:[1,167]},{39:168,43:hn,44:Xt,45:zn},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:hn,44:Xt,45:zn},{34:[1,173]},e(Ke,[2,37],{35:[1,174]}),e(Ke,[2,38],{38:[1,175]}),e(Ke,[2,36],{33:[1,176]}),e(Ke,[2,39],{35:[1,177]}),e(Ke,[2,34],{38:[1,178]}),e(Ke,[2,35],{33:[1,179]}),e(Ke,[2,60],{42:[1,180]}),e(Ke,[2,73],{33:[1,181]}),e(Ke,[2,61],{42:[1,182]}),e(Ke,[2,84],{38:[1,183]}),e(Ke,[2,74],{33:[1,184]}),e(Ke,[2,83],{38:[1,185]}),e(Ke,[2,59],{42:[1,186]}),e(Ke,[2,72],{33:[1,187]}),e(Ke,[2,58],{42:[1,188]}),e(Ke,[2,78],{35:[1,189]}),e(Ke,[2,71],{33:[1,190]}),e(Ke,[2,77],{35:[1,191]}),e(Ke,[2,57],{42:[1,192]}),e(Ke,[2,85],{38:[1,193]}),e(Ke,[2,56],{42:[1,194]}),e(Ke,[2,79],{35:[1,195]}),e(Ke,[2,80],{35:[1,196]}),e(Ke,[2,86],{38:[1,197]}),e(Ke,[2,70],{33:[1,198]}),e(Ke,[2,81],{38:[1,199]}),e(Ke,[2,69],{33:[1,200]}),e(Ke,[2,75],{35:[1,201]}),e(Ke,[2,76],{35:[1,202]}),e(Ke,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:hn,44:Xt,45:zn},{34:[1,206]},{34:[1,207]},{39:208,43:hn,44:Xt,45:zn},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:hn,44:Xt,45:zn},{34:[1,214]},{39:215,43:hn,44:Xt,45:zn},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:hn,44:Xt,45:zn},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:hn,44:Xt,45:zn},{34:[1,228]},{39:229,43:hn,44:Xt,45:zn},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:hn,44:Xt,45:zn},e(Ke,[2,40]),e(Ke,[2,42]),e(Ke,[2,41]),e(Ke,[2,43]),e(Ke,[2,45]),e(Ke,[2,44]),e(Ke,[2,101]),e(Ke,[2,102]),e(Ke,[2,99]),e(Ke,[2,100]),e(Ke,[2,104]),e(Ke,[2,103]),e(Ke,[2,108]),e(Ke,[2,107]),e(Ke,[2,106]),e(Ke,[2,105]),e(Ke,[2,110]),e(Ke,[2,109]),e(Ke,[2,98]),e(Ke,[2,97]),e(Ke,[2,96]),e(Ke,[2,95]),e(Ke,[2,93]),e(Ke,[2,94]),e(Ke,[2,92]),e(Ke,[2,91]),e(Ke,[2,90]),e(Ke,[2,89]),e(Ke,[2,87]),e(Ke,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(cn,Sn){if(Sn.recoverable)this.trace(cn);else{var kn=new Error(cn);throw kn.hash=Sn,kn}},parse:function(cn){var Sn=this,kn=[0],At=[],Ln=[null],$e=[],sr=this.table,ft="",or=0,na=0,Sr=2,Zr=1,zr=$e.slice.call(arguments,1),Nr=Object.create(this.lexer),Ir={yy:{}};for(var Oi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oi)&&(Ir.yy[Oi]=this.yy[Oi]);Nr.setInput(cn,Ir.yy),Ir.yy.lexer=Nr,Ir.yy.parser=this,typeof Nr.yylloc=="undefined"&&(Nr.yylloc={});var ki=Nr.yylloc;$e.push(ki);var mr=Nr.options&&Nr.options.ranges;typeof Ir.yy.parseError=="function"?this.parseError=Ir.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ba(){var Va;return Va=At.pop()||Nr.lex()||Zr,typeof Va!="number"&&(Va instanceof Array&&(At=Va,Va=At.pop()),Va=Sn.symbols_[Va]||Va),Va}for(var vr,hi,Mr,Er,Hn={},Cn,yr,un,li;;){if(hi=kn[kn.length-1],this.defaultActions[hi]?Mr=this.defaultActions[hi]:((vr===null||typeof vr=="undefined")&&(vr=Ba()),Mr=sr[hi]&&sr[hi][vr]),typeof Mr=="undefined"||!Mr.length||!Mr[0]){var zt="";li=[];for(Cn in sr[hi])this.terminals_[Cn]&&Cn>Sr&&li.push("'"+this.terminals_[Cn]+"'");Nr.showPosition?zt="Parse error on line "+(or+1)+`:
`+Nr.showPosition()+`
Expecting `+li.join(", ")+", got '"+(this.terminals_[vr]||vr)+"'":zt="Parse error on line "+(or+1)+": Unexpected "+(vr==Zr?"end of input":"'"+(this.terminals_[vr]||vr)+"'"),this.parseError(zt,{text:Nr.match,token:this.terminals_[vr]||vr,line:Nr.yylineno,loc:ki,expected:li})}if(Mr[0]instanceof Array&&Mr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+hi+", token: "+vr);switch(Mr[0]){case 1:kn.push(vr),Ln.push(Nr.yytext),$e.push(Nr.yylloc),kn.push(Mr[1]),vr=null,na=Nr.yyleng,ft=Nr.yytext,or=Nr.yylineno,ki=Nr.yylloc;break;case 2:if(yr=this.productions_[Mr[1]][1],Hn.$=Ln[Ln.length-yr],Hn._$={first_line:$e[$e.length-(yr||1)].first_line,last_line:$e[$e.length-1].last_line,first_column:$e[$e.length-(yr||1)].first_column,last_column:$e[$e.length-1].last_column},mr&&(Hn._$.range=[$e[$e.length-(yr||1)].range[0],$e[$e.length-1].range[1]]),Er=this.performAction.apply(Hn,[ft,na,or,Ir.yy,Mr[1],Ln,$e].concat(zr)),typeof Er!="undefined")return Er;yr&&(kn=kn.slice(0,-1*yr*2),Ln=Ln.slice(0,-1*yr),$e=$e.slice(0,-1*yr)),kn.push(this.productions_[Mr[1]][0]),Ln.push(Hn.$),$e.push(Hn._$),un=sr[kn[kn.length-2]][kn[kn.length-1]],kn.push(un);break;case 3:return!0}}return!0}},$r=function(){var $n={EOF:1,parseError:function(Sn,kn){if(this.yy.parser)this.yy.parser.parseError(Sn,kn);else throw new Error(Sn)},setInput:function(cn,Sn){return this.yy=Sn||this.yy||{},this._input=cn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var cn=this._input[0];this.yytext+=cn,this.yyleng++,this.offset++,this.match+=cn,this.matched+=cn;var Sn=cn.match(/(?:\r\n?|\n).*/g);return Sn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),cn},unput:function(cn){var Sn=cn.length,kn=cn.split(/(?:\r\n?|\n)/g);this._input=cn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Sn),this.offset-=Sn;var At=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),kn.length-1&&(this.yylineno-=kn.length-1);var Ln=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:kn?(kn.length===At.length?this.yylloc.first_column:0)+At[At.length-kn.length].length-kn[0].length:this.yylloc.first_column-Sn},this.options.ranges&&(this.yylloc.range=[Ln[0],Ln[0]+this.yyleng-Sn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(cn){this.unput(this.match.slice(cn))},pastInput:function(){var cn=this.matched.substr(0,this.matched.length-this.match.length);return(cn.length>20?"...":"")+cn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var cn=this.match;return cn.length<20&&(cn+=this._input.substr(0,20-cn.length)),(cn.substr(0,20)+(cn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var cn=this.pastInput(),Sn=new Array(cn.length+1).join("-");return cn+this.upcomingInput()+`
`+Sn+"^"},test_match:function(cn,Sn){var kn,At,Ln;if(this.options.backtrack_lexer&&(Ln={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ln.yylloc.range=this.yylloc.range.slice(0))),At=cn[0].match(/(?:\r\n?|\n).*/g),At&&(this.yylineno+=At.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:At?At[At.length-1].length-At[At.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+cn[0].length},this.yytext+=cn[0],this.match+=cn[0],this.matches=cn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(cn[0].length),this.matched+=cn[0],kn=this.performAction.call(this,this.yy,this,Sn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),kn)return kn;if(this._backtrack){for(var $e in Ln)this[$e]=Ln[$e];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var cn,Sn,kn,At;this._more||(this.yytext="",this.match="");for(var Ln=this._currentRules(),$e=0;$e<Ln.length;$e++)if(kn=this._input.match(this.rules[Ln[$e]]),kn&&(!Sn||kn[0].length>Sn[0].length)){if(Sn=kn,At=$e,this.options.backtrack_lexer){if(cn=this.test_match(kn,Ln[$e]),cn!==!1)return cn;if(this._backtrack){Sn=!1;continue}else return!1}else if(!this.options.flex)break}return Sn?(cn=this.test_match(Sn,Ln[At]),cn!==!1?cn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Sn=this.next();return Sn||this.lex()},begin:function(Sn){this.conditionStack.push(Sn)},popState:function(){var Sn=this.conditionStack.length-1;return Sn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Sn){return Sn=this.conditionStack.length-1-Math.abs(Sn||0),Sn>=0?this.conditionStack[Sn]:"INITIAL"},pushState:function(Sn){this.begin(Sn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Sn,kn,At,Ln){switch(At){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return $n}();kr.lexer=$r;function ir(){this.yy={}}return ir.prototype=kr,kr.Parser=ir,new ir}();rt.parser=rt;const bt=rt,Ct=e=>e.match(/^\s*gitGraph/)!==null;let Dt=qe().gitGraph.mainBranchName,Ot=qe().gitGraph.mainBranchOrder,Bt={},Nt=null,In={};In[Dt]={name:Dt,order:Ot};let en={};en[Dt]=Nt;let Fn=Dt,rr="LR",Yn=0;function ur(){return Xd({length:7})}const xr=function(e,n,u){cc.parseDirective(this,e,n,u)};function Lr(e,n){const u=Object.create(null);return e.reduce((b,y)=>{const L=n(y);return u[L]||(u[L]=!0,b.push(y)),b},[])}const er=function(e){rr=e};let Rr={};const Wi=function(e){Me.debug("options str",e),e=e&&e.trim(),e=e||"{}";try{Rr=JSON.parse(e)}catch(n){Me.error("error while parsing gitGraph options",n.message)}},ai=function(){return Rr},ra=function(e,n,u,b){Me.debug("Entering commit:",e,n,u,b),n=Ee.sanitizeText(n,qe()),e=Ee.sanitizeText(e,qe()),b=Ee.sanitizeText(b,qe());const y={id:n||Yn+"-"+ur(),message:e,seq:Yn++,type:u||so.NORMAL,tag:b||"",parents:Nt==null?[]:[Nt.id],branch:Fn};Nt=y,Bt[y.id]=y,en[Fn]=y.id,Me.debug("in pushCommit "+y.id)},ea=function(e,n){if(e=Ee.sanitizeText(e,qe()),en[e]===void 0)en[e]=Nt!=null?Nt.id:null,In[e]={name:e,order:n?parseInt(n,10):null},io(e),Me.debug("in createBranch");else{let u=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+e+'")');throw u.hash={text:"branch "+e,token:"branch "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+e+'"']},u}},pa=function(e,n,u,b){e=Ee.sanitizeText(e,qe()),n=Ee.sanitizeText(n,qe());const y=Bt[en[Fn]],L=Bt[en[e]];if(Fn===e){let V=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw V.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},V}else if(y===void 0||!y){let V=new Error('Incorrect usage of "merge". Current branch ('+Fn+")has no commits");throw V.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},V}else if(en[e]===void 0){let V=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw V.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+e]},V}else if(L===void 0||!L){let V=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw V.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},V}else if(y===L){let V=new Error('Incorrect usage of "merge". Both branches have same head');throw V.hash={text:"merge "+e,token:"merge "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},V}else if(n&&Bt[n]!==void 0){let V=new Error('Incorrect usage of "merge". Commit with id:'+n+" already exists, use different custom Id");throw V.hash={text:"merge "+e+n+u+b,token:"merge "+e+n+u+b,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+e+" "+n+"_UNIQUE "+u+" "+b]},V}const P={id:n||Yn+"-"+ur(),message:"merged branch "+e+" into "+Fn,seq:Yn++,parents:[Nt==null?null:Nt.id,en[e]],branch:Fn,type:so.MERGE,customType:u,customId:!!n,tag:b||""};Nt=P,Bt[P.id]=P,en[Fn]=P.id,Me.debug(en),Me.debug("in mergeBranch")},ro=function(e,n,u){if(Me.debug("Entering cherryPick:",e,n,u),e=Ee.sanitizeText(e,qe()),n=Ee.sanitizeText(n,qe()),u=Ee.sanitizeText(u,qe()),!e||Bt[e]===void 0){let L=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw L.hash={text:"cherryPick "+e+" "+n,token:"cherryPick "+e+" "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},L}let b=Bt[e],y=b.branch;if(b.type===so.MERGE){let L=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw L.hash={text:"cherryPick "+e+" "+n,token:"cherryPick "+e+" "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},L}if(!n||Bt[n]===void 0){if(y===Fn){let V=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw V.hash={text:"cherryPick "+e+" "+n,token:"cherryPick "+e+" "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},V}const L=Bt[en[Fn]];if(L===void 0||!L){let V=new Error('Incorrect usage of "cherry-pick". Current branch ('+Fn+")has no commits");throw V.hash={text:"cherryPick "+e+" "+n,token:"cherryPick "+e+" "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},V}const P={id:Yn+"-"+ur(),message:"cherry-picked "+b+" into "+Fn,seq:Yn++,parents:[Nt==null?null:Nt.id,b.id],branch:Fn,type:so.CHERRY_PICK,tag:u!=null?u:"cherry-pick:"+b.id};Nt=P,Bt[P.id]=P,en[Fn]=P.id,Me.debug(en),Me.debug("in cherryPick")}},io=function(e){if(e=Ee.sanitizeText(e,qe()),en[e]===void 0){let n=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw n.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},n}else{Fn=e;const n=en[Fn];Nt=Bt[n]}};function ka(e,n,u){const b=e.indexOf(n);b===-1?e.push(u):e.splice(b,1,u)}function To(e){const n=e.reduce((y,L)=>y.seq>L.seq?y:L,e[0]);let u="";e.forEach(function(y){y===n?u+="	*":u+="	|"});const b=[u,n.id,n.seq];for(let y in en)en[y]===n.id&&b.push(y);if(Me.debug(b.join(" ")),n.parents&&n.parents.length==2){const y=Bt[n.parents[0]];ka(e,n,y),e.push(Bt[n.parents[1]])}else{if(n.parents.length==0)return;{const y=Bt[n.parents];ka(e,n,y)}}e=Lr(e,y=>y.id),To(e)}const Aa=function(){Me.debug(Bt);const e=Pa()[0];To([e])},Xi=function(){Bt={},Nt=null;let e=qe().gitGraph.mainBranchName,n=qe().gitGraph.mainBranchOrder;en={},en[e]=null,In={},In[e]={name:e,order:n},Fn=e,Yn=0,rs()},Zi=function(){return Object.values(In).map((n,u)=>n.order!==null?n:Jg(dv({},n),{order:parseFloat(`0.${u}`,10)})).sort((n,u)=>n.order-u.order).map(({name:n})=>({name:n}))},Ui=function(){return en},va=function(){return Bt},Pa=function(){const e=Object.keys(Bt).map(function(n){return Bt[n]});return e.forEach(function(n){Me.debug(n.id)}),e.sort((n,u)=>n.seq-u.seq),e},Sa=function(){return Fn},xa=function(){return rr},Qo=function(){return Nt},so={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Ho={parseDirective:xr,getConfig:()=>qe().gitGraph,setDirection:er,setOptions:Wi,getOptions:ai,commit:ra,branch:ea,merge:pa,cherryPick:ro,checkout:io,prettyPrint:Aa,clear:Xi,getBranchesAsObjArray:Zi,getBranches:Ui,getCommits:va,getCommitsArray:Pa,getCurrentBranch:Sa,getDirection:xa,getHead:Qo,setAccTitle:Oa,getAccTitle:Wo,getAccDescription:oc,setAccDescription:bc,setDiagramTitle:ou,getDiagramTitle:at,commitType:so};let is={};const ds={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},ys=8;let qa={},oa={},Qa=[],So=0;const qs=()=>{qa={},oa={},is={},So=0,Qa=[]},Bl=e=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");let u=[];typeof e=="string"?u=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?u=e:u=[];for(const b of u){const y=document.createElementNS("http://www.w3.org/2000/svg","tspan");y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),y.setAttribute("dy","1em"),y.setAttribute("x","0"),y.setAttribute("class","row"),y.textContent=b.trim(),n.appendChild(y)}return n},jc=(e,n,u)=>{const b=I().gitGraph,y=e.append("g").attr("class","commit-bullets"),L=e.append("g").attr("class","commit-labels");let P=0;Object.keys(n).sort((_e,Le)=>n[_e].seq-n[Le].seq).forEach(_e=>{const Le=n[_e],Fe=qa[Le.branch].pos,Re=P+10;if(u){let Ke,Ut=Le.customType!==void 0&&Le.customType!==""?Le.customType:Le.type;switch(Ut){case ds.NORMAL:Ke="commit-normal";break;case ds.REVERSE:Ke="commit-reverse";break;case ds.HIGHLIGHT:Ke="commit-highlight";break;case ds.MERGE:Ke="commit-merge";break;case ds.CHERRY_PICK:Ke="commit-cherry-pick";break;default:Ke="commit-normal"}if(Ut===ds.HIGHLIGHT){const sn=y.append("rect");sn.attr("x",Re-10),sn.attr("y",Fe-10),sn.attr("height",20),sn.attr("width",20),sn.attr("class",`commit ${Le.id} commit-highlight${qa[Le.branch].index%ys} ${Ke}-outer`),y.append("rect").attr("x",Re-6).attr("y",Fe-6).attr("height",12).attr("width",12).attr("class",`commit ${Le.id} commit${qa[Le.branch].index%ys} ${Ke}-inner`)}else if(Ut===ds.CHERRY_PICK)y.append("circle").attr("cx",Re).attr("cy",Fe).attr("r",10).attr("class",`commit ${Le.id} ${Ke}`),y.append("circle").attr("cx",Re-3).attr("cy",Fe+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${Le.id} ${Ke}`),y.append("circle").attr("cx",Re+3).attr("cy",Fe+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${Le.id} ${Ke}`),y.append("line").attr("x1",Re+3).attr("y1",Fe+1).attr("x2",Re).attr("y2",Fe-5).attr("stroke","#fff").attr("class",`commit ${Le.id} ${Ke}`),y.append("line").attr("x1",Re-3).attr("y1",Fe+1).attr("x2",Re).attr("y2",Fe-5).attr("stroke","#fff").attr("class",`commit ${Le.id} ${Ke}`);else{const sn=y.append("circle");if(sn.attr("cx",Re),sn.attr("cy",Fe),sn.attr("r",Le.type===ds.MERGE?9:10),sn.attr("class",`commit ${Le.id} commit${qa[Le.branch].index%ys}`),Ut===ds.MERGE){const an=y.append("circle");an.attr("cx",Re),an.attr("cy",Fe),an.attr("r",6),an.attr("class",`commit ${Ke} ${Le.id} commit${qa[Le.branch].index%ys}`)}Ut===ds.REVERSE&&y.append("path").attr("d",`M ${Re-5},${Fe-5}L${Re+5},${Fe+5}M${Re-5},${Fe+5}L${Re+5},${Fe-5}`).attr("class",`commit ${Ke} ${Le.id} commit${qa[Le.branch].index%ys}`)}}if(oa[Le.id]={x:P+10,y:Fe},u){if(Le.type!==ds.CHERRY_PICK&&(Le.customId&&Le.type===ds.MERGE||Le.type!==ds.MERGE)&&b.showCommitLabel){const sn=L.append("g"),an=sn.insert("rect").attr("class","commit-label-bkg"),hn=sn.append("text").attr("x",P).attr("y",Fe+25).attr("class","commit-label").text(Le.id);let Xt=hn.node().getBBox();if(an.attr("x",P+10-Xt.width/2-2).attr("y",Fe+13.5).attr("width",Xt.width+2*2).attr("height",Xt.height+2*2),hn.attr("x",P+10-Xt.width/2),b.rotateCommitLabel){let zn=-7.5-(Xt.width+10)/25*9.5,nr=10+Xt.width/25*8.5;sn.attr("transform","translate("+zn+", "+nr+") rotate("+-45+", "+P+", "+Fe+")")}}if(Le.tag){const sn=L.insert("polygon"),an=L.append("circle"),hn=L.append("text").attr("y",Fe-16).attr("class","tag-label").text(Le.tag);let Xt=hn.node().getBBox();hn.attr("x",P+10-Xt.width/2);const zn=Xt.height/2,nr=Fe-19.2;sn.attr("class","tag-label-bkg").attr("points",`
          ${P-Xt.width/2-4/2},${nr+2}
          ${P-Xt.width/2-4/2},${nr-2}
          ${P+10-Xt.width/2-4},${nr-zn-2}
          ${P+10+Xt.width/2+4},${nr-zn-2}
          ${P+10+Xt.width/2+4},${nr+zn+2}
          ${P+10-Xt.width/2-4},${nr+zn+2}`),an.attr("cx",P-Xt.width/2+4/2).attr("cy",nr).attr("r",1.5).attr("class","tag-hole")}}P+=50,P>So&&(So=P)})},Ic=(e,n,u)=>Object.keys(u).filter(L=>u[L].branch===n.branch&&u[L].seq>e.seq&&u[L].seq<n.seq).length>0,rd=(e,n,u=0)=>{const b=e+Math.abs(e-n)/2;if(u>5)return b;if(Qa.every(P=>Math.abs(P-b)>=10))return Qa.push(b),b;const L=Math.abs(e-n);return rd(e,n-L/5,u+1)},su=(e,n,u,b)=>{const y=oa[n.id],L=oa[u.id],P=Ic(n,u,b);let V="",ee="",_e=0,Le=0,Fe=qa[u.branch].index,Re;if(P){V="A 10 10, 0, 0, 0,",ee="A 10 10, 0, 0, 1,",_e=10,Le=10,Fe=qa[u.branch].index;const Ke=y.y<L.y?rd(y.y,L.y):rd(L.y,y.y);y.y<L.y?Re=`M ${y.x} ${y.y} L ${y.x} ${Ke-_e} ${V} ${y.x+Le} ${Ke} L ${L.x-_e} ${Ke} ${ee} ${L.x} ${Ke+Le} L ${L.x} ${L.y}`:Re=`M ${y.x} ${y.y} L ${y.x} ${Ke+_e} ${ee} ${y.x+Le} ${Ke} L ${L.x-_e} ${Ke} ${V} ${L.x} ${Ke-Le} L ${L.x} ${L.y}`}else y.y<L.y&&(V="A 20 20, 0, 0, 0,",_e=20,Le=20,Fe=qa[u.branch].index,Re=`M ${y.x} ${y.y} L ${y.x} ${L.y-_e} ${V} ${y.x+Le} ${L.y} L ${L.x} ${L.y}`),y.y>L.y&&(V="A 20 20, 0, 0, 0,",_e=20,Le=20,Fe=qa[n.branch].index,Re=`M ${y.x} ${y.y} L ${L.x-_e} ${y.y} ${V} ${L.x} ${y.y-Le} L ${L.x} ${L.y}`),y.y===L.y&&(Fe=qa[n.branch].index,Re=`M ${y.x} ${y.y} L ${y.x} ${L.y-_e} ${V} ${y.x+Le} ${L.y} L ${L.x} ${L.y}`);e.append("path").attr("d",Re).attr("class","arrow arrow"+Fe%ys)},id=(e,n)=>{const u=e.append("g").attr("class","commit-arrows");Object.keys(n).forEach(b=>{const y=n[b];y.parents&&y.parents.length>0&&y.parents.forEach(L=>{su(u,n[L],y,n)})})},lu=(e,n)=>{const u=I().gitGraph,b=e.append("g");n.forEach((y,L)=>{const P=L%ys,V=qa[y.name].pos,ee=b.append("line");ee.attr("x1",0),ee.attr("y1",V),ee.attr("x2",So),ee.attr("y2",V),ee.attr("class","branch branch"+P),Qa.push(V);let _e=y.name;const Le=Bl(_e),Fe=b.insert("rect"),Ke=b.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+P);Ke.node().appendChild(Le);let Ut=Le.getBBox();Fe.attr("class","branchLabelBkg label"+P).attr("rx",4).attr("ry",4).attr("x",-Ut.width-4-(u.rotateCommitLabel===!0?30:0)).attr("y",-Ut.height/2+8).attr("width",Ut.width+18).attr("height",Ut.height+4),Ke.attr("transform","translate("+(-Ut.width-14-(u.rotateCommitLabel===!0?30:0))+", "+(V-Ut.height/2-1)+")"),Fe.attr("transform","translate("+-19+", "+(V-Ut.height/2)+")")})},Ld={draw:function(e,n,u,b){var y;qs();const L=I(),P=L.gitGraph;Me.debug("in gitgraph renderer",e+`
`,"id:",n,u),is=b.db.getCommits();const V=b.db.getBranchesAsObjArray();let ee=0;V.forEach((Le,Fe)=>{qa[Le.name]={pos:ee,index:Fe},ee+=50+(P.rotateCommitLabel?40:0)});const _e=(0,d.Ys)(`[id="${n}"]`);jc(_e,is,!1),P.showBranches&&lu(_e,V),id(_e,is),jc(_e,is,!0),Ka.insertTitle(_e,"gitTitleText",P.titleTopMargin,b.db.getDiagramTitle()),W(void 0,_e,P.diagramPadding,(y=P.useMaxWidth)!=null?y:L.useMaxWidth)}},Od=e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(n=>`
        .branch-label${n} { fill: ${e["gitBranchLabel"+n]}; }
        .commit${n} { stroke: ${e["git"+n]}; fill: ${e["git"+n]}; }
        .commit-highlight${n} { stroke: ${e["gitInv"+n]}; fill: ${e["gitInv"+n]}; }
        .label${n}  { fill: ${e["git"+n]}; }
        .arrow${n} { stroke: ${e["git"+n]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  }
`;var Yl=function(){var e=function(La,Ni,Mi,ca){for(Mi=Mi||{},ca=La.length;ca--;Mi[La[ca]]=Ni);return Mi},n=[1,6],u=[1,7],b=[1,8],y=[1,9],L=[1,16],P=[1,11],V=[1,12],ee=[1,13],_e=[1,14],Le=[1,15],Fe=[1,27],Re=[1,33],Ke=[1,34],Ut=[1,35],sn=[1,36],an=[1,37],hn=[1,72],Xt=[1,73],zn=[1,74],nr=[1,75],kr=[1,76],$r=[1,77],ir=[1,78],$n=[1,38],cn=[1,39],Sn=[1,40],kn=[1,41],At=[1,42],Ln=[1,43],$e=[1,44],sr=[1,45],ft=[1,46],or=[1,47],na=[1,48],Sr=[1,49],Zr=[1,50],zr=[1,51],Nr=[1,52],Ir=[1,53],Oi=[1,54],ki=[1,55],mr=[1,56],Ba=[1,57],vr=[1,59],hi=[1,60],Mr=[1,61],Er=[1,62],Hn=[1,63],Cn=[1,64],yr=[1,65],un=[1,66],li=[1,67],zt=[1,68],Va=[1,69],_r=[24,52],fa=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],zi=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Ei=[1,94],pi=[1,95],Si=[1,96],vi=[1,97],Ii=[15,24,52],il=[7,8,9,10,18,22,25,26,27,28],as=[15,24,43,52],to=[15,24,43,52,86,87,89,90],Ja=[15,43],qo=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],uc={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Ni,Mi,ca,si,Fa,Br,Vo){var ti=Br.length-1;switch(Fa){case 4:si.setDirection("TB");break;case 5:si.setDirection("BT");break;case 6:si.setDirection("RL");break;case 7:si.setDirection("LR");break;case 11:si.parseDirective("%%{","open_directive");break;case 12:break;case 13:Br[ti]=Br[ti].trim().replace(/'/g,'"'),si.parseDirective(Br[ti],"arg_directive");break;case 14:si.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:si.setC4Type(Br[ti-3]);break;case 26:si.setTitle(Br[ti].substring(6)),this.$=Br[ti].substring(6);break;case 27:si.setAccDescription(Br[ti].substring(15)),this.$=Br[ti].substring(15);break;case 28:this.$=Br[ti].trim(),si.setTitle(this.$);break;case 29:case 30:this.$=Br[ti].trim(),si.setAccDescription(this.$);break;case 35:case 36:Br[ti].splice(2,0,"ENTERPRISE"),si.addPersonOrSystemBoundary(...Br[ti]),this.$=Br[ti];break;case 37:si.addPersonOrSystemBoundary(...Br[ti]),this.$=Br[ti];break;case 38:Br[ti].splice(2,0,"CONTAINER"),si.addContainerBoundary(...Br[ti]),this.$=Br[ti];break;case 39:si.addDeploymentNode("node",...Br[ti]),this.$=Br[ti];break;case 40:si.addDeploymentNode("nodeL",...Br[ti]),this.$=Br[ti];break;case 41:si.addDeploymentNode("nodeR",...Br[ti]),this.$=Br[ti];break;case 42:si.popBoundaryParseStack();break;case 46:si.addPersonOrSystem("person",...Br[ti]),this.$=Br[ti];break;case 47:si.addPersonOrSystem("external_person",...Br[ti]),this.$=Br[ti];break;case 48:si.addPersonOrSystem("system",...Br[ti]),this.$=Br[ti];break;case 49:si.addPersonOrSystem("system_db",...Br[ti]),this.$=Br[ti];break;case 50:si.addPersonOrSystem("system_queue",...Br[ti]),this.$=Br[ti];break;case 51:si.addPersonOrSystem("external_system",...Br[ti]),this.$=Br[ti];break;case 52:si.addPersonOrSystem("external_system_db",...Br[ti]),this.$=Br[ti];break;case 53:si.addPersonOrSystem("external_system_queue",...Br[ti]),this.$=Br[ti];break;case 54:si.addContainer("container",...Br[ti]),this.$=Br[ti];break;case 55:si.addContainer("container_db",...Br[ti]),this.$=Br[ti];break;case 56:si.addContainer("container_queue",...Br[ti]),this.$=Br[ti];break;case 57:si.addContainer("external_container",...Br[ti]),this.$=Br[ti];break;case 58:si.addContainer("external_container_db",...Br[ti]),this.$=Br[ti];break;case 59:si.addContainer("external_container_queue",...Br[ti]),this.$=Br[ti];break;case 60:si.addComponent("component",...Br[ti]),this.$=Br[ti];break;case 61:si.addComponent("component_db",...Br[ti]),this.$=Br[ti];break;case 62:si.addComponent("component_queue",...Br[ti]),this.$=Br[ti];break;case 63:si.addComponent("external_component",...Br[ti]),this.$=Br[ti];break;case 64:si.addComponent("external_component_db",...Br[ti]),this.$=Br[ti];break;case 65:si.addComponent("external_component_queue",...Br[ti]),this.$=Br[ti];break;case 67:si.addRel("rel",...Br[ti]),this.$=Br[ti];break;case 68:si.addRel("birel",...Br[ti]),this.$=Br[ti];break;case 69:si.addRel("rel_u",...Br[ti]),this.$=Br[ti];break;case 70:si.addRel("rel_d",...Br[ti]),this.$=Br[ti];break;case 71:si.addRel("rel_l",...Br[ti]),this.$=Br[ti];break;case 72:si.addRel("rel_r",...Br[ti]),this.$=Br[ti];break;case 73:si.addRel("rel_b",...Br[ti]),this.$=Br[ti];break;case 74:Br[ti].splice(0,1),si.addRel("rel",...Br[ti]),this.$=Br[ti];break;case 75:si.updateElStyle("update_el_style",...Br[ti]),this.$=Br[ti];break;case 76:si.updateRelStyle("update_rel_style",...Br[ti]),this.$=Br[ti];break;case 77:si.updateLayoutConfig("update_layout_config",...Br[ti]),this.$=Br[ti];break;case 78:this.$=[Br[ti]];break;case 79:Br[ti].unshift(Br[ti-1]),this.$=Br[ti];break;case 80:case 82:this.$=Br[ti].trim();break;case 81:let Fo={};Fo[Br[ti-1].trim()]=Br[ti].trim(),this.$=Fo;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:n,8:u,9:b,10:y,11:5,12:10,18:L,22:P,25:V,26:ee,27:_e,28:Le},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:n,8:u,9:b,10:y,11:5,12:10,18:L,22:P,25:V,26:ee,27:_e,28:Le},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:Fe},e([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:Re,33:Ke,34:Ut,36:sn,38:an,39:58,40:70,42:71,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,53:32,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va},{23:79,29:29,30:30,31:31,32:Re,33:Ke,34:Ut,36:sn,38:an,39:58,40:70,42:71,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,53:32,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va},{23:80,29:29,30:30,31:31,32:Re,33:Ke,34:Ut,36:sn,38:an,39:58,40:70,42:71,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,53:32,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va},{23:81,29:29,30:30,31:31,32:Re,33:Ke,34:Ut,36:sn,38:an,39:58,40:70,42:71,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,53:32,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va},{23:82,29:29,30:30,31:31,32:Re,33:Ke,34:Ut,36:sn,38:an,39:58,40:70,42:71,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,53:32,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},e(_r,[2,20],{53:32,39:58,40:70,42:71,30:87,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va}),e(_r,[2,21]),e(fa,[2,23],{15:[1,88]}),e(_r,[2,43],{15:[1,89]}),e(zi,[2,26]),e(zi,[2,27]),{35:[1,90]},{37:[1,91]},e(zi,[2,30]),{45:92,85:93,86:Ei,87:pi,89:Si,90:vi},{45:98,85:93,86:Ei,87:pi,89:Si,90:vi},{45:99,85:93,86:Ei,87:pi,89:Si,90:vi},{45:100,85:93,86:Ei,87:pi,89:Si,90:vi},{45:101,85:93,86:Ei,87:pi,89:Si,90:vi},{45:102,85:93,86:Ei,87:pi,89:Si,90:vi},{45:103,85:93,86:Ei,87:pi,89:Si,90:vi},{45:104,85:93,86:Ei,87:pi,89:Si,90:vi},{45:105,85:93,86:Ei,87:pi,89:Si,90:vi},{45:106,85:93,86:Ei,87:pi,89:Si,90:vi},{45:107,85:93,86:Ei,87:pi,89:Si,90:vi},{45:108,85:93,86:Ei,87:pi,89:Si,90:vi},{45:109,85:93,86:Ei,87:pi,89:Si,90:vi},{45:110,85:93,86:Ei,87:pi,89:Si,90:vi},{45:111,85:93,86:Ei,87:pi,89:Si,90:vi},{45:112,85:93,86:Ei,87:pi,89:Si,90:vi},{45:113,85:93,86:Ei,87:pi,89:Si,90:vi},{45:114,85:93,86:Ei,87:pi,89:Si,90:vi},{45:115,85:93,86:Ei,87:pi,89:Si,90:vi},{45:116,85:93,86:Ei,87:pi,89:Si,90:vi},e(Ii,[2,66]),{45:117,85:93,86:Ei,87:pi,89:Si,90:vi},{45:118,85:93,86:Ei,87:pi,89:Si,90:vi},{45:119,85:93,86:Ei,87:pi,89:Si,90:vi},{45:120,85:93,86:Ei,87:pi,89:Si,90:vi},{45:121,85:93,86:Ei,87:pi,89:Si,90:vi},{45:122,85:93,86:Ei,87:pi,89:Si,90:vi},{45:123,85:93,86:Ei,87:pi,89:Si,90:vi},{45:124,85:93,86:Ei,87:pi,89:Si,90:vi},{45:125,85:93,86:Ei,87:pi,89:Si,90:vi},{45:126,85:93,86:Ei,87:pi,89:Si,90:vi},{45:127,85:93,86:Ei,87:pi,89:Si,90:vi},{30:128,39:58,40:70,42:71,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,53:32,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va},{15:[1,130],43:[1,129]},{45:131,85:93,86:Ei,87:pi,89:Si,90:vi},{45:132,85:93,86:Ei,87:pi,89:Si,90:vi},{45:133,85:93,86:Ei,87:pi,89:Si,90:vi},{45:134,85:93,86:Ei,87:pi,89:Si,90:vi},{45:135,85:93,86:Ei,87:pi,89:Si,90:vi},{45:136,85:93,86:Ei,87:pi,89:Si,90:vi},{45:137,85:93,86:Ei,87:pi,89:Si,90:vi},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},e(il,[2,9]),{14:142,21:Fe},{21:[2,13]},{1:[2,15]},e(_r,[2,22]),e(fa,[2,24],{31:31,29:143,32:Re,33:Ke,34:Ut,36:sn,38:an}),e(_r,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:Re,33:Ke,34:Ut,36:sn,38:an,44:hn,46:Xt,47:zn,48:nr,49:kr,50:$r,51:ir,54:$n,55:cn,56:Sn,57:kn,58:At,59:Ln,60:$e,61:sr,62:ft,63:or,64:na,65:Sr,66:Zr,67:zr,68:Nr,69:Ir,70:Oi,71:ki,72:mr,73:Ba,74:vr,75:hi,76:Mr,77:Er,78:Hn,79:Cn,80:yr,81:un,82:li,83:zt,84:Va}),e(zi,[2,28]),e(zi,[2,29]),e(Ii,[2,46]),e(as,[2,78],{85:93,45:145,86:Ei,87:pi,89:Si,90:vi}),e(to,[2,80]),{88:[1,146]},e(to,[2,82]),e(to,[2,83]),e(Ii,[2,47]),e(Ii,[2,48]),e(Ii,[2,49]),e(Ii,[2,50]),e(Ii,[2,51]),e(Ii,[2,52]),e(Ii,[2,53]),e(Ii,[2,54]),e(Ii,[2,55]),e(Ii,[2,56]),e(Ii,[2,57]),e(Ii,[2,58]),e(Ii,[2,59]),e(Ii,[2,60]),e(Ii,[2,61]),e(Ii,[2,62]),e(Ii,[2,63]),e(Ii,[2,64]),e(Ii,[2,65]),e(Ii,[2,67]),e(Ii,[2,68]),e(Ii,[2,69]),e(Ii,[2,70]),e(Ii,[2,71]),e(Ii,[2,72]),e(Ii,[2,73]),e(Ii,[2,74]),e(Ii,[2,75]),e(Ii,[2,76]),e(Ii,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},e(Ja,[2,35]),e(Ja,[2,36]),e(Ja,[2,37]),e(Ja,[2,38]),e(Ja,[2,39]),e(Ja,[2,40]),e(Ja,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},e(fa,[2,25]),e(_r,[2,45]),e(as,[2,79]),e(to,[2,81]),e(Ii,[2,31]),e(Ii,[2,42]),e(qo,[2,32]),e(qo,[2,33],{15:[1,152]}),e(il,[2,10]),e(qo,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Ni,Mi){if(Mi.recoverable)this.trace(Ni);else{var ca=new Error(Ni);throw ca.hash=Mi,ca}},parse:function(Ni){var Mi=this,ca=[0],si=[],Fa=[null],Br=[],Vo=this.table,ti="",Fo=0,os=0,hs=2,ss=1,ps=Br.slice.call(arguments,1),co=Object.create(this.lexer),Zo={yy:{}};for(var Jo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Jo)&&(Zo.yy[Jo]=this.yy[Jo]);co.setInput(Ni,Zo.yy),Zo.yy.lexer=co,Zo.yy.parser=this,typeof co.yylloc=="undefined"&&(co.yylloc={});var es=co.yylloc;Br.push(es);var cv=co.options&&co.options.ranges;typeof Zo.yy.parseError=="function"?this.parseError=Zo.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Uv(){var Jc;return Jc=si.pop()||co.lex()||ss,typeof Jc!="number"&&(Jc instanceof Array&&(si=Jc,Jc=si.pop()),Jc=Mi.symbols_[Jc]||Jc),Jc}for(var Xc,Ro,zd,k0,Vu={},Ed,Qc,pf,Cd;;){if(Ro=ca[ca.length-1],this.defaultActions[Ro]?zd=this.defaultActions[Ro]:((Xc===null||typeof Xc=="undefined")&&(Xc=Uv()),zd=Vo[Ro]&&Vo[Ro][Xc]),typeof zd=="undefined"||!zd.length||!zd[0]){var Wd="";Cd=[];for(Ed in Vo[Ro])this.terminals_[Ed]&&Ed>hs&&Cd.push("'"+this.terminals_[Ed]+"'");co.showPosition?Wd="Parse error on line "+(Fo+1)+`:
`+co.showPosition()+`
Expecting `+Cd.join(", ")+", got '"+(this.terminals_[Xc]||Xc)+"'":Wd="Parse error on line "+(Fo+1)+": Unexpected "+(Xc==ss?"end of input":"'"+(this.terminals_[Xc]||Xc)+"'"),this.parseError(Wd,{text:co.match,token:this.terminals_[Xc]||Xc,line:co.yylineno,loc:es,expected:Cd})}if(zd[0]instanceof Array&&zd.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ro+", token: "+Xc);switch(zd[0]){case 1:ca.push(Xc),Fa.push(co.yytext),Br.push(co.yylloc),ca.push(zd[1]),Xc=null,os=co.yyleng,ti=co.yytext,Fo=co.yylineno,es=co.yylloc;break;case 2:if(Qc=this.productions_[zd[1]][1],Vu.$=Fa[Fa.length-Qc],Vu._$={first_line:Br[Br.length-(Qc||1)].first_line,last_line:Br[Br.length-1].last_line,first_column:Br[Br.length-(Qc||1)].first_column,last_column:Br[Br.length-1].last_column},cv&&(Vu._$.range=[Br[Br.length-(Qc||1)].range[0],Br[Br.length-1].range[1]]),k0=this.performAction.apply(Vu,[ti,os,Fo,Zo.yy,zd[1],Fa,Br].concat(ps)),typeof k0!="undefined")return k0;Qc&&(ca=ca.slice(0,-1*Qc*2),Fa=Fa.slice(0,-1*Qc),Br=Br.slice(0,-1*Qc)),ca.push(this.productions_[zd[1]][0]),Fa.push(Vu.$),Br.push(Vu._$),pf=Vo[ca[ca.length-2]][ca[ca.length-1]],ca.push(pf);break;case 3:return!0}}return!0}},ws=function(){var La={EOF:1,parseError:function(Mi,ca){if(this.yy.parser)this.yy.parser.parseError(Mi,ca);else throw new Error(Mi)},setInput:function(Ni,Mi){return this.yy=Mi||this.yy||{},this._input=Ni,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ni=this._input[0];this.yytext+=Ni,this.yyleng++,this.offset++,this.match+=Ni,this.matched+=Ni;var Mi=Ni.match(/(?:\r\n?|\n).*/g);return Mi?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ni},unput:function(Ni){var Mi=Ni.length,ca=Ni.split(/(?:\r\n?|\n)/g);this._input=Ni+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Mi),this.offset-=Mi;var si=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ca.length-1&&(this.yylineno-=ca.length-1);var Fa=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ca?(ca.length===si.length?this.yylloc.first_column:0)+si[si.length-ca.length].length-ca[0].length:this.yylloc.first_column-Mi},this.options.ranges&&(this.yylloc.range=[Fa[0],Fa[0]+this.yyleng-Mi]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ni){this.unput(this.match.slice(Ni))},pastInput:function(){var Ni=this.matched.substr(0,this.matched.length-this.match.length);return(Ni.length>20?"...":"")+Ni.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ni=this.match;return Ni.length<20&&(Ni+=this._input.substr(0,20-Ni.length)),(Ni.substr(0,20)+(Ni.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ni=this.pastInput(),Mi=new Array(Ni.length+1).join("-");return Ni+this.upcomingInput()+`
`+Mi+"^"},test_match:function(Ni,Mi){var ca,si,Fa;if(this.options.backtrack_lexer&&(Fa={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Fa.yylloc.range=this.yylloc.range.slice(0))),si=Ni[0].match(/(?:\r\n?|\n).*/g),si&&(this.yylineno+=si.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:si?si[si.length-1].length-si[si.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ni[0].length},this.yytext+=Ni[0],this.match+=Ni[0],this.matches=Ni,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ni[0].length),this.matched+=Ni[0],ca=this.performAction.call(this,this.yy,this,Mi,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ca)return ca;if(this._backtrack){for(var Br in Fa)this[Br]=Fa[Br];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ni,Mi,ca,si;this._more||(this.yytext="",this.match="");for(var Fa=this._currentRules(),Br=0;Br<Fa.length;Br++)if(ca=this._input.match(this.rules[Fa[Br]]),ca&&(!Mi||ca[0].length>Mi[0].length)){if(Mi=ca,si=Br,this.options.backtrack_lexer){if(Ni=this.test_match(ca,Fa[Br]),Ni!==!1)return Ni;if(this._backtrack){Mi=!1;continue}else return!1}else if(!this.options.flex)break}return Mi?(Ni=this.test_match(Mi,Fa[si]),Ni!==!1?Ni:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Mi=this.next();return Mi||this.lex()},begin:function(Mi){this.conditionStack.push(Mi)},popState:function(){var Mi=this.conditionStack.length-1;return Mi>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Mi){return Mi=this.conditionStack.length-1-Math.abs(Mi||0),Mi>=0?this.conditionStack[Mi]:"INITIAL"},pushState:function(Mi){this.begin(Mi)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Mi,ca,si,Fa){switch(si){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return La}();uc.lexer=ws;function ho(){this.yy={}}return ho.prototype=uc,uc.Parser=ho,new ho}();Yl.parser=Yl;const Vc=Yl,Fu=e=>e.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Kl=[],Us=[""],Oo="global",xo="",_s=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ml=[],zf="",Is=!1,ad=4,cu=2;var ul;const Zu=function(){return ul},Eh=function(e){ul=jr(e,qe())},od=function(e,n,u){cc.parseDirective(this,e,n,u)},Ch=function(e,n,u,b,y,L,P,V,ee){if(e==null||n===void 0||n===null||u===void 0||u===null||b===void 0||b===null)return;let _e={};const Le=Ml.find(Fe=>Fe.from===n&&Fe.to===u);if(Le?_e=Le:Ml.push(_e),_e.type=e,_e.from=n,_e.to=u,_e.label={text:b},y==null)_e.techn={text:""};else if(typeof y=="object"){let[Fe,Re]=Object.entries(y)[0];_e[Fe]={text:Re}}else _e.techn={text:y};if(L==null)_e.descr={text:""};else if(typeof L=="object"){let[Fe,Re]=Object.entries(L)[0];_e[Fe]={text:Re}}else _e.descr={text:L};if(typeof P=="object"){let[Fe,Re]=Object.entries(P)[0];_e[Fe]=Re}else _e.sprite=P;if(typeof V=="object"){let[Fe,Re]=Object.entries(V)[0];_e[Fe]=Re}else _e.tags=V;if(typeof ee=="object"){let[Fe,Re]=Object.entries(ee)[0];_e[Fe]=Re}else _e.link=ee;_e.wrap=wu()},Wf=function(e,n,u,b,y,L,P){if(n===null||u===null)return;let V={};const ee=Kl.find(_e=>_e.alias===n);if(ee&&n===ee.alias?V=ee:(V.alias=n,Kl.push(V)),u==null?V.label={text:""}:V.label={text:u},b==null)V.descr={text:""};else if(typeof b=="object"){let[_e,Le]=Object.entries(b)[0];V[_e]={text:Le}}else V.descr={text:b};if(typeof y=="object"){let[_e,Le]=Object.entries(y)[0];V[_e]=Le}else V.sprite=y;if(typeof L=="object"){let[_e,Le]=Object.entries(L)[0];V[_e]=Le}else V.tags=L;if(typeof P=="object"){let[_e,Le]=Object.entries(P)[0];V[_e]=Le}else V.link=P;V.typeC4Shape={text:e},V.parentBoundary=Oo,V.wrap=wu()},Th=function(e,n,u,b,y,L,P,V){if(n===null||u===null)return;let ee={};const _e=Kl.find(Le=>Le.alias===n);if(_e&&n===_e.alias?ee=_e:(ee.alias=n,Kl.push(ee)),u==null?ee.label={text:""}:ee.label={text:u},b==null)ee.techn={text:""};else if(typeof b=="object"){let[Le,Fe]=Object.entries(b)[0];ee[Le]={text:Fe}}else ee.techn={text:b};if(y==null)ee.descr={text:""};else if(typeof y=="object"){let[Le,Fe]=Object.entries(y)[0];ee[Le]={text:Fe}}else ee.descr={text:y};if(typeof L=="object"){let[Le,Fe]=Object.entries(L)[0];ee[Le]=Fe}else ee.sprite=L;if(typeof P=="object"){let[Le,Fe]=Object.entries(P)[0];ee[Le]=Fe}else ee.tags=P;if(typeof V=="object"){let[Le,Fe]=Object.entries(V)[0];ee[Le]=Fe}else ee.link=V;ee.wrap=wu(),ee.typeC4Shape={text:e},ee.parentBoundary=Oo},Sf=function(e,n,u,b,y,L,P,V){if(n===null||u===null)return;let ee={};const _e=Kl.find(Le=>Le.alias===n);if(_e&&n===_e.alias?ee=_e:(ee.alias=n,Kl.push(ee)),u==null?ee.label={text:""}:ee.label={text:u},b==null)ee.techn={text:""};else if(typeof b=="object"){let[Le,Fe]=Object.entries(b)[0];ee[Le]={text:Fe}}else ee.techn={text:b};if(y==null)ee.descr={text:""};else if(typeof y=="object"){let[Le,Fe]=Object.entries(y)[0];ee[Le]={text:Fe}}else ee.descr={text:y};if(typeof L=="object"){let[Le,Fe]=Object.entries(L)[0];ee[Le]=Fe}else ee.sprite=L;if(typeof P=="object"){let[Le,Fe]=Object.entries(P)[0];ee[Le]=Fe}else ee.tags=P;if(typeof V=="object"){let[Le,Fe]=Object.entries(V)[0];ee[Le]=Fe}else ee.link=V;ee.wrap=wu(),ee.typeC4Shape={text:e},ee.parentBoundary=Oo},ah=function(e,n,u,b,y){if(e===null||n===null)return;let L={};const P=_s.find(V=>V.alias===e);if(P&&e===P.alias?L=P:(L.alias=e,_s.push(L)),n==null?L.label={text:""}:L.label={text:n},u==null)L.type={text:"system"};else if(typeof u=="object"){let[V,ee]=Object.entries(u)[0];L[V]={text:ee}}else L.type={text:u};if(typeof b=="object"){let[V,ee]=Object.entries(b)[0];L[V]=ee}else L.tags=b;if(typeof y=="object"){let[V,ee]=Object.entries(y)[0];L[V]=ee}else L.link=y;L.parentBoundary=Oo,L.wrap=wu(),xo=Oo,Oo=e,Us.push(xo)},Nd=function(e,n,u,b,y){if(e===null||n===null)return;let L={};const P=_s.find(V=>V.alias===e);if(P&&e===P.alias?L=P:(L.alias=e,_s.push(L)),n==null?L.label={text:""}:L.label={text:n},u==null)L.type={text:"container"};else if(typeof u=="object"){let[V,ee]=Object.entries(u)[0];L[V]={text:ee}}else L.type={text:u};if(typeof b=="object"){let[V,ee]=Object.entries(b)[0];L[V]=ee}else L.tags=b;if(typeof y=="object"){let[V,ee]=Object.entries(y)[0];L[V]=ee}else L.link=y;L.parentBoundary=Oo,L.wrap=wu(),xo=Oo,Oo=e,Us.push(xo)},Uf=function(e,n,u,b,y,L,P,V){if(n===null||u===null)return;let ee={};const _e=_s.find(Le=>Le.alias===n);if(_e&&n===_e.alias?ee=_e:(ee.alias=n,_s.push(ee)),u==null?ee.label={text:""}:ee.label={text:u},b==null)ee.type={text:"node"};else if(typeof b=="object"){let[Le,Fe]=Object.entries(b)[0];ee[Le]={text:Fe}}else ee.type={text:b};if(y==null)ee.descr={text:""};else if(typeof y=="object"){let[Le,Fe]=Object.entries(y)[0];ee[Le]={text:Fe}}else ee.descr={text:y};if(typeof P=="object"){let[Le,Fe]=Object.entries(P)[0];ee[Le]=Fe}else ee.tags=P;if(typeof V=="object"){let[Le,Fe]=Object.entries(V)[0];ee[Le]=Fe}else ee.link=V;ee.nodeType=e,ee.parentBoundary=Oo,ee.wrap=wu(),xo=Oo,Oo=n,Us.push(xo)},Hf=function(){Oo=xo,Us.pop(),xo=Us.pop(),Us.push(xo)},jh=function(e,n,u,b,y,L,P,V,ee,_e,Le){let Fe=Kl.find(Re=>Re.alias===n);if(!(Fe===void 0&&(Fe=_s.find(Re=>Re.alias===n),Fe===void 0))){if(u!=null)if(typeof u=="object"){let[Re,Ke]=Object.entries(u)[0];Fe[Re]=Ke}else Fe.bgColor=u;if(b!=null)if(typeof b=="object"){let[Re,Ke]=Object.entries(b)[0];Fe[Re]=Ke}else Fe.fontColor=b;if(y!=null)if(typeof y=="object"){let[Re,Ke]=Object.entries(y)[0];Fe[Re]=Ke}else Fe.borderColor=y;if(L!=null)if(typeof L=="object"){let[Re,Ke]=Object.entries(L)[0];Fe[Re]=Ke}else Fe.shadowing=L;if(P!=null)if(typeof P=="object"){let[Re,Ke]=Object.entries(P)[0];Fe[Re]=Ke}else Fe.shape=P;if(V!=null)if(typeof V=="object"){let[Re,Ke]=Object.entries(V)[0];Fe[Re]=Ke}else Fe.sprite=V;if(ee!=null)if(typeof ee=="object"){let[Re,Ke]=Object.entries(ee)[0];Fe[Re]=Ke}else Fe.techn=ee;if(_e!=null)if(typeof _e=="object"){let[Re,Ke]=Object.entries(_e)[0];Fe[Re]=Ke}else Fe.legendText=_e;if(Le!=null)if(typeof Le=="object"){let[Re,Ke]=Object.entries(Le)[0];Fe[Re]=Ke}else Fe.legendSprite=Le}},zu=function(e,n,u,b,y,L,P){const V=Ml.find(ee=>ee.from===n&&ee.to===u);if(V!==void 0){if(b!=null)if(typeof b=="object"){let[ee,_e]=Object.entries(b)[0];V[ee]=_e}else V.textColor=b;if(y!=null)if(typeof y=="object"){let[ee,_e]=Object.entries(y)[0];V[ee]=_e}else V.lineColor=y;if(L!=null)if(typeof L=="object"){let[ee,_e]=Object.entries(L)[0];V[ee]=parseInt(_e)}else V.offsetX=parseInt(L);if(P!=null)if(typeof P=="object"){let[ee,_e]=Object.entries(P)[0];V[ee]=parseInt(_e)}else V.offsetY=parseInt(P)}},af=function(e,n,u){let b=ad,y=cu;if(typeof n=="object"){const L=Object.values(n)[0];b=parseInt(L)}else b=parseInt(n);if(typeof u=="object"){const L=Object.values(u)[0];y=parseInt(L)}else y=parseInt(u);b>=1&&(ad=b),y>=1&&(cu=y)},Af=function(){return ad},jf=function(){return cu},of=function(){return Oo},oh=function(){return xo},uo=function(e){return e==null?Kl:Kl.filter(n=>n.parentBoundary===e)},ba=function(e){return Kl.find(n=>n.alias===e)},vo=function(e){return Object.keys(uo(e))},Wu=function(e){return e==null?_s:_s.filter(n=>n.parentBoundary===e)},uu=function(){return Ml},Dl=function(){return zf},Vf=function(e){Is=e},wu=function(){return Is},Vh={addPersonOrSystem:Wf,addPersonOrSystemBoundary:ah,addContainer:Th,addContainerBoundary:Nd,addComponent:Sf,addDeploymentNode:Uf,popBoundaryParseStack:Hf,addRel:Ch,updateElStyle:jh,updateRelStyle:zu,updateLayoutConfig:af,autoWrap:wu,setWrap:Vf,getC4ShapeArray:uo,getC4Shape:ba,getC4ShapeKeys:vo,getBoundarys:Wu,getCurrentBoundaryParse:of,getParentBoundaryParse:oh,getRels:uu,getTitle:Dl,getC4Type:Zu,getC4ShapeInRow:Af,getC4BoundaryInRow:jf,setAccTitle:Oa,getAccTitle:Wo,getAccDescription:oc,setAccDescription:bc,parseDirective:od,getConfig:()=>qe().c4,clear:function(){Kl=[],_s=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],xo="",Oo="global",Us=[""],Ml=[],Us=[""],zf="",Is=!1,ad=4,cu=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(e){zf=jr(e,qe())},setC4Type:Eh},Sh=function(e,n){const u=e.append("rect");if(u.attr("x",n.x),u.attr("y",n.y),u.attr("fill",n.fill),u.attr("stroke",n.stroke),u.attr("width",n.width),u.attr("height",n.height),u.attr("rx",n.rx),u.attr("ry",n.ry),n.attrs!=="undefined"&&n.attrs!==null)for(let b in n.attrs)u.attr(b,n.attrs[b]);return n.class!=="undefined"&&u.attr("class",n.class),u},Pd=function(e,n,u,b,y,L){const P=e.append("image");P.attr("width",n),P.attr("height",u),P.attr("x",b),P.attr("y",y);let V=L.startsWith("data:image/png;base64")?L:(0,p.N)(L);P.attr("xlink:href",V)},fs=(e,n,u)=>{const b=e.append("g");let y=0;for(let L of n){let P=L.textColor?L.textColor:"#444444",V=L.lineColor?L.lineColor:"#444444",ee=L.offsetX?parseInt(L.offsetX):0,_e=L.offsetY?parseInt(L.offsetY):0,Le="";if(y===0){let Re=b.append("line");Re.attr("x1",L.startPoint.x),Re.attr("y1",L.startPoint.y),Re.attr("x2",L.endPoint.x),Re.attr("y2",L.endPoint.y),Re.attr("stroke-width","1"),Re.attr("stroke",V),Re.style("fill","none"),L.type!=="rel_b"&&Re.attr("marker-end","url("+Le+"#arrowhead)"),(L.type==="birel"||L.type==="rel_b")&&Re.attr("marker-start","url("+Le+"#arrowend)"),y=-1}else{let Re=b.append("path");Re.attr("fill","none").attr("stroke-width","1").attr("stroke",V).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",L.startPoint.x).replaceAll("starty",L.startPoint.y).replaceAll("controlx",L.startPoint.x+(L.endPoint.x-L.startPoint.x)/2-(L.endPoint.x-L.startPoint.x)/4).replaceAll("controly",L.startPoint.y+(L.endPoint.y-L.startPoint.y)/2).replaceAll("stopx",L.endPoint.x).replaceAll("stopy",L.endPoint.y)),L.type!=="rel_b"&&Re.attr("marker-end","url("+Le+"#arrowhead)"),(L.type==="birel"||L.type==="rel_b")&&Re.attr("marker-start","url("+Le+"#arrowend)")}let Fe=u.messageFont();o(u)(L.label.text,b,Math.min(L.startPoint.x,L.endPoint.x)+Math.abs(L.endPoint.x-L.startPoint.x)/2+ee,Math.min(L.startPoint.y,L.endPoint.y)+Math.abs(L.endPoint.y-L.startPoint.y)/2+_e,L.label.width,L.label.height,{fill:P},Fe),L.techn&&L.techn.text!==""&&(Fe=u.messageFont(),o(u)("["+L.techn.text+"]",b,Math.min(L.startPoint.x,L.endPoint.x)+Math.abs(L.endPoint.x-L.startPoint.x)/2+ee,Math.min(L.startPoint.y,L.endPoint.y)+Math.abs(L.endPoint.y-L.startPoint.y)/2+u.messageFontSize+5+_e,Math.max(L.label.width,L.techn.width),L.techn.height,{fill:P,"font-style":"italic"},Fe))}},lh=function(e,n,u){const b=e.append("g");let y=n.bgColor?n.bgColor:"none",L=n.borderColor?n.borderColor:"#444444",P=n.fontColor?n.fontColor:"black",V={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};n.nodeType&&(V={"stroke-width":1});let ee={x:n.x,y:n.y,fill:y,stroke:L,width:n.width,height:n.height,rx:2.5,ry:2.5,attrs:V};Sh(b,ee);let _e=u.boundaryFont();_e.fontWeight="bold",_e.fontSize=_e.fontSize+2,_e.fontColor=P,o(u)(n.label.text,b,n.x,n.y+n.label.Y,n.width,n.height,{fill:"#444444"},_e),n.type&&n.type.text!==""&&(_e=u.boundaryFont(),_e.fontColor=P,o(u)(n.type.text,b,n.x,n.y+n.type.Y,n.width,n.height,{fill:"#444444"},_e)),n.descr&&n.descr.text!==""&&(_e=u.boundaryFont(),_e.fontSize=_e.fontSize-2,_e.fontColor=P,o(u)(n.descr.text,b,n.x,n.y+n.descr.Y,n.width,n.height,{fill:"#444444"},_e))},Sp=function(e,n,u){var b;let y=n.bgColor?n.bgColor:u[n.typeC4Shape.text+"_bg_color"],L=n.borderColor?n.borderColor:u[n.typeC4Shape.text+"_border_color"],P=n.fontColor?n.fontColor:"#FFFFFF",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(n.typeC4Shape.text){case"person":V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const ee=e.append("g");ee.attr("class","person-man");const _e=Ah();switch(n.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":_e.x=n.x,_e.y=n.y,_e.fill=y,_e.width=n.width,_e.height=n.height,_e.stroke=L,_e.rx=2.5,_e.ry=2.5,_e.attrs={"stroke-width":.5},Sh(ee,_e);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":ee.append("path").attr("fill",y).attr("stroke-width","0.5").attr("stroke",L).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",n.x).replaceAll("starty",n.y).replaceAll("half",n.width/2).replaceAll("height",n.height)),ee.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",L).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",n.x).replaceAll("starty",n.y).replaceAll("half",n.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":ee.append("path").attr("fill",y).attr("stroke-width","0.5").attr("stroke",L).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",n.x).replaceAll("starty",n.y).replaceAll("width",n.width).replaceAll("half",n.height/2)),ee.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",L).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",n.x+n.width).replaceAll("starty",n.y).replaceAll("half",n.height/2));break}let Le=r(u,n.typeC4Shape.text);switch(ee.append("text").attr("fill",P).attr("font-family",Le.fontFamily).attr("font-size",Le.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",n.typeC4Shape.width).attr("x",n.x+n.width/2-n.typeC4Shape.width/2).attr("y",n.y+n.typeC4Shape.Y).text("<<"+n.typeC4Shape.text+">>"),n.typeC4Shape.text){case"person":case"external_person":Pd(ee,48,48,n.x+n.width/2-24,n.y+n.image.Y,V);break}let Fe=u[n.typeC4Shape.text+"Font"]();return Fe.fontWeight="bold",Fe.fontSize=Fe.fontSize+2,Fe.fontColor=P,o(u)(n.label.text,ee,n.x,n.y+n.label.Y,n.width,n.height,{fill:P},Fe),Fe=u[n.typeC4Shape.text+"Font"](),Fe.fontColor=P,n.techn&&((b=n.techn)==null?void 0:b.text)!==""?o(u)(n.techn.text,ee,n.x,n.y+n.techn.Y,n.width,n.height,{fill:P,"font-style":"italic"},Fe):n.type&&n.type.text!==""&&o(u)(n.type.text,ee,n.x,n.y+n.type.Y,n.width,n.height,{fill:P,"font-style":"italic"},Fe),n.descr&&n.descr.text!==""&&(Fe=u.personFont(),Fe.fontColor=P,o(u)(n.descr.text,ee,n.x,n.y+n.descr.Y,n.width,n.height,{fill:P},Fe)),n.height},Yf=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},Kf=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},ch=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},Ap=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},Il=function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},$p=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},Xp=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},Mp=function(e){const u=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);u.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),u.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},Ah=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},r=(e,n)=>({fontFamily:e[n+"FontFamily"],fontSize:e[n+"FontSize"],fontWeight:e[n+"FontWeight"]}),o=function(){function e(y,L,P,V,ee,_e,Le){const Fe=L.append("text").attr("x",P+ee/2).attr("y",V+_e/2+5).style("text-anchor","middle").text(y);b(Fe,Le)}function n(y,L,P,V,ee,_e,Le,Fe){const{fontSize:Re,fontFamily:Ke,fontWeight:Ut}=Fe,sn=y.split(Ee.lineBreakRegex);for(let an=0;an<sn.length;an++){const hn=an*Re-Re*(sn.length-1)/2,Xt=L.append("text").attr("x",P+ee/2).attr("y",V).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",Re).style("font-weight",Ut).style("font-family",Ke);Xt.append("tspan").attr("dy",hn).text(sn[an]).attr("alignment-baseline","mathematical"),b(Xt,Le)}}function u(y,L,P,V,ee,_e,Le,Fe){const Re=L.append("switch"),Ut=Re.append("foreignObject").attr("x",P).attr("y",V).attr("width",ee).attr("height",_e).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ut.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(y),n(y,Re,P,V,ee,_e,Le,Fe),b(Ut,Le)}function b(y,L){for(const P in L)L.hasOwnProperty(P)&&y.attr(P,L[P])}return function(y){return y.textPlacement==="fo"?u:y.textPlacement==="old"?e:n}}(),C={drawRect:Sh,drawBoundary:lh,drawC4Shape:Sp,drawRels:fs,drawImage:Pd,insertArrowHead:Ap,insertArrowEnd:Il,insertArrowFilledHead:$p,insertDynamicNumber:Xp,insertArrowCrossHead:Mp,insertDatabaseIcon:Yf,insertComputerIcon:Kf,insertClockIcon:ch,getNoteRect:Ah,sanitizeUrl:p.N};let k=0,N=0,ie=4,Se=2;Yl.yy=Vh;let Ne={};class st{constructor(n){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,xt(n.db.getConfig())}setData(n,u,b,y){this.nextData.startx=this.data.startx=n,this.nextData.stopx=this.data.stopx=u,this.nextData.starty=this.data.starty=b,this.nextData.stopy=this.data.stopy=y}updateVal(n,u,b,y){n[u]===void 0?n[u]=b:n[u]=y(b,n[u])}insert(n){this.nextData.cnt=this.nextData.cnt+1;let u=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+n.margin:this.nextData.stopx+n.margin*2,b=u+n.width,y=this.nextData.starty+n.margin*2,L=y+n.height;(u>=this.data.widthLimit||b>=this.data.widthLimit||this.nextData.cnt>ie)&&(u=this.nextData.startx+n.margin+Ne.nextLinePaddingX,y=this.nextData.stopy+n.margin*2,this.nextData.stopx=b=u+n.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=L=y+n.height,this.nextData.cnt=1),n.x=u,n.y=y,this.updateVal(this.data,"startx",u,Math.min),this.updateVal(this.data,"starty",y,Math.min),this.updateVal(this.data,"stopx",b,Math.max),this.updateVal(this.data,"stopy",L,Math.max),this.updateVal(this.nextData,"startx",u,Math.min),this.updateVal(this.nextData,"starty",y,Math.min),this.updateVal(this.nextData,"stopx",b,Math.max),this.updateVal(this.nextData,"stopy",L,Math.max)}init(n){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},xt(n.db.getConfig())}bumpLastMargin(n){this.data.stopx+=n,this.data.stopy+=n}}const xt=function(e){Gs(Ne,e),e.fontFamily&&(Ne.personFontFamily=Ne.systemFontFamily=Ne.messageFontFamily=e.fontFamily),e.fontSize&&(Ne.personFontSize=Ne.systemFontSize=Ne.messageFontSize=e.fontSize),e.fontWeight&&(Ne.personFontWeight=Ne.systemFontWeight=Ne.messageFontWeight=e.fontWeight)},ln=(e,n)=>({fontFamily:e[n+"FontFamily"],fontSize:e[n+"FontSize"],fontWeight:e[n+"FontWeight"]}),An=e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),dr=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight});function qn(e,n,u,b,y){if(!n[e].width)if(u)n[e].text=md(n[e].text,y,b),n[e].textLines=n[e].text.split(Ee.lineBreakRegex).length,n[e].width=y,n[e].height=Ou(n[e].text,b);else{let L=n[e].text.split(Ee.lineBreakRegex);n[e].textLines=L.length;let P=0;n[e].height=0,n[e].width=0;for(const V of L)n[e].width=Math.max(Zc(V,b),n[e].width),P=Ou(V,b),n[e].height=n[e].height+P}}const Wr=function(e,n,u){n.x=u.data.startx,n.y=u.data.starty,n.width=u.data.stopx-u.data.startx,n.height=u.data.stopy-u.data.starty,n.label.y=Ne.c4ShapeMargin-35;let b=n.wrap&&Ne.wrap,y=An(Ne);y.fontSize=y.fontSize+2,y.fontWeight="bold";let L=Zc(n.label.text,y);qn("label",n,b,y,L),C.drawBoundary(e,n,Ne)},ri=function(e,n,u,b){let y=0;for(const L of b){y=0;const P=u[L];let V=ln(Ne,P.typeC4Shape.text);switch(V.fontSize=V.fontSize-2,P.typeC4Shape.width=Zc("<<"+P.typeC4Shape.text+">>",V),P.typeC4Shape.height=V.fontSize+2,P.typeC4Shape.Y=Ne.c4ShapePadding,y=P.typeC4Shape.Y+P.typeC4Shape.height-4,P.image={width:0,height:0,Y:0},P.typeC4Shape.text){case"person":case"external_person":P.image.width=48,P.image.height=48,P.image.Y=y,y=P.image.Y+P.image.height;break}P.sprite&&(P.image.width=48,P.image.height=48,P.image.Y=y,y=P.image.Y+P.image.height);let ee=P.wrap&&Ne.wrap,_e=Ne.width-Ne.c4ShapePadding*2,Le=ln(Ne,P.typeC4Shape.text);if(Le.fontSize=Le.fontSize+2,Le.fontWeight="bold",qn("label",P,ee,Le,_e),P.label.Y=y+8,y=P.label.Y+P.label.height,P.type&&P.type.text!==""){P.type.text="["+P.type.text+"]";let Ke=ln(Ne,P.typeC4Shape.text);qn("type",P,ee,Ke,_e),P.type.Y=y+5,y=P.type.Y+P.type.height}else if(P.techn&&P.techn.text!==""){P.techn.text="["+P.techn.text+"]";let Ke=ln(Ne,P.techn.text);qn("techn",P,ee,Ke,_e),P.techn.Y=y+5,y=P.techn.Y+P.techn.height}let Fe=y,Re=P.label.width;if(P.descr&&P.descr.text!==""){let Ke=ln(Ne,P.typeC4Shape.text);qn("descr",P,ee,Ke,_e),P.descr.Y=y+20,y=P.descr.Y+P.descr.height,Re=Math.max(P.label.width,P.descr.width),Fe=y-P.descr.textLines*5}Re=Re+Ne.c4ShapePadding,P.width=Math.max(P.width||Ne.width,Re,Ne.width),P.height=Math.max(P.height||Ne.height,Fe,Ne.height),P.margin=P.margin||Ne.c4ShapeMargin,e.insert(P),C.drawC4Shape(n,P,Ne)}e.bumpLastMargin(Ne.c4ShapeMargin)};class wi{constructor(n,u){this.x=n,this.y=u}}let ji=function(e,n){let u=e.x,b=e.y,y=n.x,L=n.y,P=u+e.width/2,V=b+e.height/2,ee=Math.abs(u-y),_e=Math.abs(b-L),Le=_e/ee,Fe=e.height/e.width,Re=null;return b==L&&u<y?Re=new wi(u+e.width,V):b==L&&u>y?Re=new wi(u,V):u==y&&b<L?Re=new wi(P,b+e.height):u==y&&b>L&&(Re=new wi(P,b)),u>y&&b<L?Fe>=Le?Re=new wi(u,V+Le*e.width/2):Re=new wi(P-ee/_e*e.height/2,b+e.height):u<y&&b<L?Fe>=Le?Re=new wi(u+e.width,V+Le*e.width/2):Re=new wi(P+ee/_e*e.height/2,b+e.height):u<y&&b>L?Fe>=Le?Re=new wi(u+e.width,V-Le*e.width/2):Re=new wi(P+e.height/2*ee/_e,b):u>y&&b>L&&(Fe>=Le?Re=new wi(u,V-e.width/2*Le):Re=new wi(P-e.height/2*ee/_e,b)),Re},ia=function(e,n){let u={x:0,y:0};u.x=n.x+n.width/2,u.y=n.y+n.height/2;let b=ji(e,u);u.x=e.x+e.width/2,u.y=e.y+e.height/2;let y=ji(n,u);return{startPoint:b,endPoint:y}};const Qi=function(e,n,u,b){let y=0;for(let L of n){y=y+1;let P=L.wrap&&Ne.wrap,V=dr(Ne);b.db.getC4Type()==="C4Dynamic"&&(L.label.text=y+": "+L.label.text);let _e=Zc(L.label.text,V);qn("label",L,P,V,_e),L.techn&&L.techn.text!==""&&(_e=Zc(L.techn.text,V),qn("techn",L,P,V,_e)),L.descr&&L.descr.text!==""&&(_e=Zc(L.descr.text,V),qn("descr",L,P,V,_e));let Le=u(L.from),Fe=u(L.to),Re=ia(Le,Fe);L.startPoint=Re.startPoint,L.endPoint=Re.endPoint}C.drawRels(e,n,Ne)};function Vi(e,n,u,b,y){let L=new st(y);L.data.widthLimit=u.data.widthLimit/Math.min(Se,b.length);for(let[P,V]of b.entries()){let ee=0;V.image={width:0,height:0,Y:0},V.sprite&&(V.image.width=48,V.image.height=48,V.image.Y=ee,ee=V.image.Y+V.image.height);let _e=V.wrap&&Ne.wrap,Le=An(Ne);if(Le.fontSize=Le.fontSize+2,Le.fontWeight="bold",qn("label",V,_e,Le,L.data.widthLimit),V.label.Y=ee+8,ee=V.label.Y+V.label.height,V.type&&V.type.text!==""){V.type.text="["+V.type.text+"]";let Ut=An(Ne);qn("type",V,_e,Ut,L.data.widthLimit),V.type.Y=ee+5,ee=V.type.Y+V.type.height}if(V.descr&&V.descr.text!==""){let Ut=An(Ne);Ut.fontSize=Ut.fontSize-2,qn("descr",V,_e,Ut,L.data.widthLimit),V.descr.Y=ee+20,ee=V.descr.Y+V.descr.height}if(P==0||P%Se===0){let Ut=u.data.startx+Ne.diagramMarginX,sn=u.data.stopy+Ne.diagramMarginY+ee;L.setData(Ut,Ut,sn,sn)}else{let Ut=L.data.stopx!==L.data.startx?L.data.stopx+Ne.diagramMarginX:L.data.startx,sn=L.data.starty;L.setData(Ut,Ut,sn,sn)}L.name=V.alias;let Fe=y.db.getC4ShapeArray(V.alias),Re=y.db.getC4ShapeKeys(V.alias);Re.length>0&&ri(L,e,Fe,Re),n=V.alias;let Ke=y.db.getBoundarys(n);Ke.length>0&&Vi(e,n,L,Ke,y),V.alias!=="global"&&Wr(e,V,L),u.data.stopy=Math.max(L.data.stopy+Ne.c4ShapeMargin,u.data.stopy),u.data.stopx=Math.max(L.data.stopx+Ne.c4ShapeMargin,u.data.stopx),k=Math.max(k,u.data.stopx),N=Math.max(N,u.data.stopy)}}const Ia={drawPersonOrSystemArray:ri,drawBoundary:Wr,setConf:xt,draw:function(e,n,u,b){Ne=qe().c4;const y=qe().securityLevel;let L;y==="sandbox"&&(L=(0,d.Ys)("#i"+n));const P=y==="sandbox"?(0,d.Ys)(L.nodes()[0].contentDocument.body):(0,d.Ys)("body");let V=b.db;b.db.setWrap(Ne.wrap),ie=V.getC4ShapeInRow(),Se=V.getC4BoundaryInRow(),Me.debug(`C:${JSON.stringify(Ne,null,2)}`);const ee=y==="sandbox"?P.select(`[id="${n}"]`):(0,d.Ys)(`[id="${n}"]`);C.insertComputerIcon(ee),C.insertDatabaseIcon(ee),C.insertClockIcon(ee);let _e=new st(b);_e.setData(Ne.diagramMarginX,Ne.diagramMarginX,Ne.diagramMarginY,Ne.diagramMarginY),_e.data.widthLimit=screen.availWidth,k=Ne.diagramMarginX,N=Ne.diagramMarginY;const Le=b.db.getTitle();let Fe=b.db.getBoundarys("");Vi(ee,"",_e,Fe,b),C.insertArrowHead(ee),C.insertArrowEnd(ee),C.insertArrowCrossHead(ee),C.insertArrowFilledHead(ee),Qi(ee,b.db.getRels(),b.db.getC4Shape,b),_e.data.stopx=k,_e.data.stopy=N;const Re=_e.data;let Ut=Re.stopy-Re.starty+2*Ne.diagramMarginY;const an=Re.stopx-Re.startx+2*Ne.diagramMarginX;Le&&ee.append("text").text(Le).attr("x",(Re.stopx-Re.startx)/2-4*Ne.diagramMarginX).attr("y",Re.starty+Ne.diagramMarginY),Ra(ee,Ut,an,Ne.useMaxWidth);const hn=Le?60:0;ee.attr("viewBox",Re.startx-Ne.diagramMarginX+" -"+(Ne.diagramMarginY+hn)+" "+an+" "+(Ut+hn)),Me.debug("models:",Re)}};var ha=function(){var e=function(Er,Hn,Cn,yr){for(Cn=Cn||{},yr=Er.length;yr--;Cn[Er[yr]]=Hn);return Cn},n=[1,3],u=[1,7],b=[1,8],y=[1,9],L=[1,10],P=[1,13],V=[1,12],ee=[1,16,25],_e=[1,20],Le=[1,32],Fe=[1,33],Re=[1,34],Ke=[1,36],Ut=[1,39],sn=[1,37],an=[1,38],hn=[1,44],Xt=[1,45],zn=[1,40],nr=[1,41],kr=[1,42],$r=[1,43],ir=[1,48],$n=[1,49],cn=[1,50],Sn=[1,51],kn=[16,25],At=[1,65],Ln=[1,66],$e=[1,67],sr=[1,68],ft=[1,69],or=[1,70],na=[1,71],Sr=[1,80],Zr=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],zr=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],Nr=[5,8,9,10,11,16,19,23,25],Ir=[54,88,89,90,91],Oi=[54,65,66,88,89,90,91],ki=[54,60,61,62,63,64,88,89,90,91],mr=[16,25,32],Ba=[1,107],vr={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(Hn,Cn,yr,un,li,zt,Va){var _r=zt.length-1;switch(li){case 5:un.setDirection("TB");break;case 6:un.setDirection("BT");break;case 7:un.setDirection("RL");break;case 8:un.setDirection("LR");break;case 12:un.parseDirective("%%{","open_directive");break;case 13:un.parseDirective(zt[_r],"type_directive");break;case 14:zt[_r]=zt[_r].trim().replace(/'/g,'"'),un.parseDirective(zt[_r],"arg_directive");break;case 15:un.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=zt[_r];break;case 22:this.$=zt[_r-1]+zt[_r];break;case 23:case 24:this.$=zt[_r-1]+"~"+zt[_r];break;case 25:un.addRelation(zt[_r]);break;case 26:zt[_r-1].title=un.cleanupLabel(zt[_r]),un.addRelation(zt[_r-1]);break;case 35:this.$=zt[_r].trim(),un.setAccTitle(this.$);break;case 36:case 37:this.$=zt[_r].trim(),un.setAccDescription(this.$);break;case 38:un.addClass(zt[_r]);break;case 39:un.addClass(zt[_r-2]),un.setCssClass(zt[_r-2],zt[_r]);break;case 40:un.addClass(zt[_r-3]),un.addMembers(zt[_r-3],zt[_r-1]);break;case 41:un.addClass(zt[_r-5]),un.setCssClass(zt[_r-5],zt[_r-3]),un.addMembers(zt[_r-5],zt[_r-1]);break;case 42:un.addAnnotation(zt[_r],zt[_r-2]);break;case 43:this.$=[zt[_r]];break;case 44:zt[_r].push(zt[_r-1]),this.$=zt[_r];break;case 45:break;case 46:un.addMember(zt[_r-1],un.cleanupLabel(zt[_r]));break;case 47:break;case 48:break;case 49:this.$={id1:zt[_r-2],id2:zt[_r],relation:zt[_r-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:zt[_r-3],id2:zt[_r],relation:zt[_r-1],relationTitle1:zt[_r-2],relationTitle2:"none"};break;case 51:this.$={id1:zt[_r-3],id2:zt[_r],relation:zt[_r-2],relationTitle1:"none",relationTitle2:zt[_r-1]};break;case 52:this.$={id1:zt[_r-4],id2:zt[_r],relation:zt[_r-2],relationTitle1:zt[_r-3],relationTitle2:zt[_r-1]};break;case 53:un.addNote(zt[_r],zt[_r-1]);break;case 54:un.addNote(zt[_r]);break;case 55:this.$={type1:zt[_r-2],type2:zt[_r],lineType:zt[_r-1]};break;case 56:this.$={type1:"none",type2:zt[_r],lineType:zt[_r-1]};break;case 57:this.$={type1:zt[_r-1],type2:"none",lineType:zt[_r]};break;case 58:this.$={type1:"none",type2:"none",lineType:zt[_r]};break;case 59:this.$=un.relationType.AGGREGATION;break;case 60:this.$=un.relationType.EXTENSION;break;case 61:this.$=un.relationType.COMPOSITION;break;case 62:this.$=un.relationType.DEPENDENCY;break;case 63:this.$=un.relationType.LOLLIPOP;break;case 64:this.$=un.lineType.LINE;break;case 65:this.$=un.lineType.DOTTED_LINE;break;case 66:case 72:this.$=zt[_r-2],un.setClickEvent(zt[_r-1],zt[_r]);break;case 67:case 73:this.$=zt[_r-3],un.setClickEvent(zt[_r-2],zt[_r-1]),un.setTooltip(zt[_r-2],zt[_r]);break;case 68:case 76:this.$=zt[_r-2],un.setLink(zt[_r-1],zt[_r]);break;case 69:this.$=zt[_r-3],un.setLink(zt[_r-2],zt[_r-1],zt[_r]);break;case 70:case 78:this.$=zt[_r-3],un.setLink(zt[_r-2],zt[_r-1]),un.setTooltip(zt[_r-2],zt[_r]);break;case 71:case 79:this.$=zt[_r-4],un.setLink(zt[_r-3],zt[_r-2],zt[_r]),un.setTooltip(zt[_r-3],zt[_r-1]);break;case 74:this.$=zt[_r-3],un.setClickEvent(zt[_r-2],zt[_r-1],zt[_r]);break;case 75:this.$=zt[_r-4],un.setClickEvent(zt[_r-3],zt[_r-2],zt[_r-1]),un.setTooltip(zt[_r-3],zt[_r]);break;case 77:this.$=zt[_r-3],un.setLink(zt[_r-2],zt[_r-1],zt[_r]);break;case 80:un.setCssClass(zt[_r-1],zt[_r]);break}},table:[{3:1,4:2,5:n,6:4,7:5,8:u,9:b,10:y,11:L,12:6,13:11,19:P,23:V},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:n,6:4,7:5,8:u,9:b,10:y,11:L,12:6,13:11,19:P,23:V},{1:[2,9]},e(ee,[2,5]),e(ee,[2,6]),e(ee,[2,7]),e(ee,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:_e},e([17,22],[2,13]),{6:31,7:30,8:u,9:b,10:y,11:L,13:11,19:P,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:Le,41:Fe,43:Re,44:Ke,49:Ut,51:sn,52:an,55:hn,57:Xt,67:zn,68:nr,70:kr,74:$r,88:ir,89:$n,90:cn,91:Sn},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},e(kn,[2,25],{32:[1,57]}),e(kn,[2,27]),e(kn,[2,28]),e(kn,[2,29]),e(kn,[2,30]),e(kn,[2,31]),e(kn,[2,32]),e(kn,[2,33]),e(kn,[2,34]),{40:[1,58]},{42:[1,59]},e(kn,[2,37]),e(kn,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:At,61:Ln,62:$e,63:sr,64:ft,65:or,66:na}),{27:72,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},e(kn,[2,47]),e(kn,[2,48]),{28:73,88:ir,89:$n,90:cn},{27:74,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},{27:75,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},{27:76,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},{54:[1,77]},{27:78,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},{54:Sr,56:79},e(Zr,[2,20],{28:46,29:47,27:81,30:[1,82],88:ir,89:$n,90:cn,91:Sn}),e(Zr,[2,21],{30:[1,83]}),e(zr,[2,94]),e(zr,[2,95]),e(zr,[2,96]),e([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),e(Nr,[2,10]),{15:84,22:_e},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:u,9:b,10:y,11:L,13:11,19:P,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:Le,41:Fe,43:Re,44:Ke,49:Ut,51:sn,52:an,55:hn,57:Xt,67:zn,68:nr,70:kr,74:$r,88:ir,89:$n,90:cn,91:Sn},e(kn,[2,26]),e(kn,[2,35]),e(kn,[2,36]),{27:86,28:46,29:47,54:[1,87],88:ir,89:$n,90:cn,91:Sn},{53:88,58:63,59:64,60:At,61:Ln,62:$e,63:sr,64:ft,65:or,66:na},e(kn,[2,46]),{59:89,65:or,66:na},e(Ir,[2,58],{58:90,60:At,61:Ln,62:$e,63:sr,64:ft}),e(Oi,[2,59]),e(Oi,[2,60]),e(Oi,[2,61]),e(Oi,[2,62]),e(Oi,[2,63]),e(ki,[2,64]),e(ki,[2,65]),e(kn,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:ir,89:$n,90:cn},{54:Sr,56:99},e(kn,[2,54]),e(kn,[2,98]),e(Zr,[2,22]),e(Zr,[2,23]),e(Zr,[2,24]),{16:[1,100]},{25:[2,19]},e(mr,[2,49]),{27:101,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},{27:102,28:46,29:47,54:[1,103],88:ir,89:$n,90:cn,91:Sn},e(Ir,[2,57],{58:104,60:At,61:Ln,62:$e,63:sr,64:ft}),e(Ir,[2,56]),{28:105,88:ir,89:$n,90:cn},{47:106,51:Ba},{27:108,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},e(kn,[2,66],{54:[1,109]}),e(kn,[2,68],{54:[1,111],69:[1,110]}),e(kn,[2,72],{54:[1,112],72:[1,113]}),e(kn,[2,76],{54:[1,115],69:[1,114]}),e(kn,[2,80]),e(kn,[2,53]),e(Nr,[2,11]),e(mr,[2,51]),e(mr,[2,50]),{27:116,28:46,29:47,88:ir,89:$n,90:cn,91:Sn},e(Ir,[2,55]),e(kn,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:Ba},e(kn,[2,42]),e(kn,[2,67]),e(kn,[2,69]),e(kn,[2,70],{69:[1,120]}),e(kn,[2,73]),e(kn,[2,74],{54:[1,121]}),e(kn,[2,77]),e(kn,[2,78],{69:[1,122]}),e(mr,[2,52]),{47:123,51:Ba},e(kn,[2,40]),{48:[2,44]},e(kn,[2,71]),e(kn,[2,75]),e(kn,[2,79]),{48:[1,124]},e(kn,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(Hn,Cn){if(Cn.recoverable)this.trace(Hn);else{var yr=new Error(Hn);throw yr.hash=Cn,yr}},parse:function(Hn){var Cn=this,yr=[0],un=[],li=[null],zt=[],Va=this.table,_r="",fa=0,zi=0,Ei=2,pi=1,Si=zt.slice.call(arguments,1),vi=Object.create(this.lexer),Ii={yy:{}};for(var il in this.yy)Object.prototype.hasOwnProperty.call(this.yy,il)&&(Ii.yy[il]=this.yy[il]);vi.setInput(Hn,Ii.yy),Ii.yy.lexer=vi,Ii.yy.parser=this,typeof vi.yylloc=="undefined"&&(vi.yylloc={});var as=vi.yylloc;zt.push(as);var to=vi.options&&vi.options.ranges;typeof Ii.yy.parseError=="function"?this.parseError=Ii.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ja(){var Br;return Br=un.pop()||vi.lex()||pi,typeof Br!="number"&&(Br instanceof Array&&(un=Br,Br=un.pop()),Br=Cn.symbols_[Br]||Br),Br}for(var qo,uc,ws,ho,La={},Ni,Mi,ca,si;;){if(uc=yr[yr.length-1],this.defaultActions[uc]?ws=this.defaultActions[uc]:((qo===null||typeof qo=="undefined")&&(qo=Ja()),ws=Va[uc]&&Va[uc][qo]),typeof ws=="undefined"||!ws.length||!ws[0]){var Fa="";si=[];for(Ni in Va[uc])this.terminals_[Ni]&&Ni>Ei&&si.push("'"+this.terminals_[Ni]+"'");vi.showPosition?Fa="Parse error on line "+(fa+1)+`:
`+vi.showPosition()+`
Expecting `+si.join(", ")+", got '"+(this.terminals_[qo]||qo)+"'":Fa="Parse error on line "+(fa+1)+": Unexpected "+(qo==pi?"end of input":"'"+(this.terminals_[qo]||qo)+"'"),this.parseError(Fa,{text:vi.match,token:this.terminals_[qo]||qo,line:vi.yylineno,loc:as,expected:si})}if(ws[0]instanceof Array&&ws.length>1)throw new Error("Parse Error: multiple actions possible at state: "+uc+", token: "+qo);switch(ws[0]){case 1:yr.push(qo),li.push(vi.yytext),zt.push(vi.yylloc),yr.push(ws[1]),qo=null,zi=vi.yyleng,_r=vi.yytext,fa=vi.yylineno,as=vi.yylloc;break;case 2:if(Mi=this.productions_[ws[1]][1],La.$=li[li.length-Mi],La._$={first_line:zt[zt.length-(Mi||1)].first_line,last_line:zt[zt.length-1].last_line,first_column:zt[zt.length-(Mi||1)].first_column,last_column:zt[zt.length-1].last_column},to&&(La._$.range=[zt[zt.length-(Mi||1)].range[0],zt[zt.length-1].range[1]]),ho=this.performAction.apply(La,[_r,zi,fa,Ii.yy,ws[1],li,zt].concat(Si)),typeof ho!="undefined")return ho;Mi&&(yr=yr.slice(0,-1*Mi*2),li=li.slice(0,-1*Mi),zt=zt.slice(0,-1*Mi)),yr.push(this.productions_[ws[1]][0]),li.push(La.$),zt.push(La._$),ca=Va[yr[yr.length-2]][yr[yr.length-1]],yr.push(ca);break;case 3:return!0}}return!0}},hi=function(){var Er={EOF:1,parseError:function(Cn,yr){if(this.yy.parser)this.yy.parser.parseError(Cn,yr);else throw new Error(Cn)},setInput:function(Hn,Cn){return this.yy=Cn||this.yy||{},this._input=Hn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Hn=this._input[0];this.yytext+=Hn,this.yyleng++,this.offset++,this.match+=Hn,this.matched+=Hn;var Cn=Hn.match(/(?:\r\n?|\n).*/g);return Cn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Hn},unput:function(Hn){var Cn=Hn.length,yr=Hn.split(/(?:\r\n?|\n)/g);this._input=Hn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Cn),this.offset-=Cn;var un=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),yr.length-1&&(this.yylineno-=yr.length-1);var li=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:yr?(yr.length===un.length?this.yylloc.first_column:0)+un[un.length-yr.length].length-yr[0].length:this.yylloc.first_column-Cn},this.options.ranges&&(this.yylloc.range=[li[0],li[0]+this.yyleng-Cn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Hn){this.unput(this.match.slice(Hn))},pastInput:function(){var Hn=this.matched.substr(0,this.matched.length-this.match.length);return(Hn.length>20?"...":"")+Hn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Hn=this.match;return Hn.length<20&&(Hn+=this._input.substr(0,20-Hn.length)),(Hn.substr(0,20)+(Hn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Hn=this.pastInput(),Cn=new Array(Hn.length+1).join("-");return Hn+this.upcomingInput()+`
`+Cn+"^"},test_match:function(Hn,Cn){var yr,un,li;if(this.options.backtrack_lexer&&(li={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(li.yylloc.range=this.yylloc.range.slice(0))),un=Hn[0].match(/(?:\r\n?|\n).*/g),un&&(this.yylineno+=un.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:un?un[un.length-1].length-un[un.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Hn[0].length},this.yytext+=Hn[0],this.match+=Hn[0],this.matches=Hn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Hn[0].length),this.matched+=Hn[0],yr=this.performAction.call(this,this.yy,this,Cn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),yr)return yr;if(this._backtrack){for(var zt in li)this[zt]=li[zt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Hn,Cn,yr,un;this._more||(this.yytext="",this.match="");for(var li=this._currentRules(),zt=0;zt<li.length;zt++)if(yr=this._input.match(this.rules[li[zt]]),yr&&(!Cn||yr[0].length>Cn[0].length)){if(Cn=yr,un=zt,this.options.backtrack_lexer){if(Hn=this.test_match(yr,li[zt]),Hn!==!1)return Hn;if(this._backtrack){Cn=!1;continue}else return!1}else if(!this.options.flex)break}return Cn?(Hn=this.test_match(Cn,li[un]),Hn!==!1?Hn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Cn=this.next();return Cn||this.lex()},begin:function(Cn){this.conditionStack.push(Cn)},popState:function(){var Cn=this.conditionStack.length-1;return Cn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Cn){return Cn=this.conditionStack.length-1-Math.abs(Cn||0),Cn>=0?this.conditionStack[Cn]:"INITIAL"},pushState:function(Cn){this.begin(Cn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Cn,yr,un,li){switch(un){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return Er}();vr.lexer=hi;function Mr(){this.yy={}}return Mr.prototype=vr,vr.Parser=Mr,new Mr}();ha.parser=ha;const Es=ha,dl=(e,n)=>{var u;return((u=n==null?void 0:n.class)==null?void 0:u.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*classDiagram/)!==null},Ts=(e,n)=>{var u;return e.match(/^\s*classDiagram/)!==null&&((u=n==null?void 0:n.class)==null?void 0:u.defaultRenderer)==="dagre-wrapper"?!0:e.match(/^\s*classDiagram-v2/)!==null},Yc="classid-";let Gl=[],Ao={},sc=[],ql=0,$s=[];const Hs=e=>Ee.sanitizeText(e,qe()),fl=function(e,n,u){cc.parseDirective(this,e,n,u)},$l=function(e){let n="",u=e;if(e.indexOf("~")>0){let b=e.split("~");u=b[0],n=Ee.sanitizeText(b[1],qe())}return{className:u,type:n}},Bd=function(e){let n=$l(e);Ao[n.className]===void 0&&(Ao[n.className]={id:n.className,type:n.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Yc+n.className+"-"+ql},ql++)},ku=function(e){const n=Object.keys(Ao);for(const u of n)if(Ao[u].id===e)return Ao[u].domId},Fl=function(){Gl=[],Ao={},sc=[],$s=[],$s.push(Ip),rs()},sd=function(e){return Ao[e]},Ll=function(){return Ao},Mh=function(){return Gl},Fd=function(){return sc},Mf=function(e){Me.debug("Adding relation: "+JSON.stringify(e)),Bd(e.id1),Bd(e.id2),e.id1=$l(e.id1).className,e.id2=$l(e.id2).className,e.relationTitle1=Ee.sanitizeText(e.relationTitle1.trim(),qe()),e.relationTitle2=Ee.sanitizeText(e.relationTitle2.trim(),qe()),Gl.push(e)},Df=function(e,n){const u=$l(e).className;Ao[u].annotations.push(n)},yc=function(e,n){const u=$l(e).className,b=Ao[u];if(typeof n=="string"){const y=n.trim();y.startsWith("<<")&&y.endsWith(">>")?b.annotations.push(Hs(y.substring(2,y.length-2))):y.indexOf(")")>0?b.methods.push(Hs(y)):y&&b.members.push(Hs(y))}},sf=function(e,n){Array.isArray(n)&&(n.reverse(),n.forEach(u=>yc(e,u)))},uh=function(e,n){const u={id:`note${sc.length}`,class:n,text:e};sc.push(u)},Dp=function(e){return e.substring(0,1)===":"?Ee.sanitizeText(e.substr(1).trim(),qe()):Hs(e.trim())},Yh=function(e,n){e.split(",").forEach(function(u){let b=u;u[0].match(/\d/)&&(b=Yc+b),Ao[b]!==void 0&&Ao[b].cssClasses.push(n)})},C0=function(e,n){const u=qe();e.split(",").forEach(function(b){n!==void 0&&(Ao[b].tooltip=Ee.sanitizeText(n,u))})},Qp=function(e){return Ao[e].tooltip},T0=function(e,n,u){const b=qe();e.split(",").forEach(function(y){let L=y;y[0].match(/\d/)&&(L=Yc+L),Ao[L]!==void 0&&(Ao[L].link=Ka.formatUrl(n,b),b.securityLevel==="sandbox"?Ao[L].linkTarget="_top":typeof u=="string"?Ao[L].linkTarget=Hs(u):Ao[L].linkTarget="_blank")}),Yh(e,"clickable")},S0=function(e,n,u){e.split(",").forEach(function(b){A0(b,n,u),Ao[b].haveCallback=!0}),Yh(e,"clickable")},A0=function(e,n,u){const b=qe();let y=e,L=ku(y);if(b.securityLevel==="loose"&&n!==void 0&&Ao[y]!==void 0){let P=[];if(typeof u=="string"){P=u.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let V=0;V<P.length;V++){let ee=P[V].trim();ee.charAt(0)==='"'&&ee.charAt(ee.length-1)==='"'&&(ee=ee.substr(1,ee.length-2)),P[V]=ee}}P.length===0&&P.push(L),$s.push(function(){const V=document.querySelector(`[id="${L}"]`);V!==null&&V.addEventListener("click",function(){Ka.runFunc(n,...P)},!1)})}},Jp=function(e){$s.forEach(function(n){n(e)})},M0={LINE:0,DOTTED_LINE:1},D0={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Ip=function(e){let n=(0,d.Ys)(".mermaidTooltip");(n._groups||n)[0][0]===null&&(n=(0,d.Ys)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,d.Ys)(e).select("svg").selectAll("g.node").on("mouseover",function(){const y=(0,d.Ys)(this);if(y.attr("title")===null)return;const P=this.getBoundingClientRect();n.transition().duration(200).style("opacity",".9"),n.text(y.attr("title")).style("left",window.scrollX+P.left+(P.right-P.left)/2+"px").style("top",window.scrollY+P.top-14+document.body.scrollTop+"px"),n.html(n.html().replace(/&lt;br\/&gt;/g,"<br/>")),y.classed("hover",!0)}).on("mouseout",function(){n.transition().duration(500).style("opacity",0),(0,d.Ys)(this).classed("hover",!1)})};$s.push(Ip);let e0="TB";const Dh={parseDirective:fl,setAccTitle:Oa,getAccTitle:Wo,getAccDescription:oc,setAccDescription:bc,getConfig:()=>qe().class,addClass:Bd,bindFunctions:Jp,clear:Fl,getClass:sd,getClasses:Ll,getNotes:Fd,addAnnotation:Df,addNote:uh,getRelations:Mh,addRelation:Mf,getDirection:()=>e0,setDirection:e=>{e0=e},addMember:yc,addMembers:sf,cleanupLabel:Dp,lineType:M0,relationType:D0,setClickEvent:S0,setCssClass:Yh,setLink:T0,getTooltip:Qp,setTooltip:C0,lookUpDomId:ku,setDiagramTitle:ou,getDiagramTitle:at};let t0=0;const I0=function(e,n,u,b,y){const L=function(Xt){switch(Xt){case y.db.relationType.AGGREGATION:return"aggregation";case y.db.relationType.EXTENSION:return"extension";case y.db.relationType.COMPOSITION:return"composition";case y.db.relationType.DEPENDENCY:return"dependency";case y.db.relationType.LOLLIPOP:return"lollipop"}};n.points=n.points.filter(Xt=>!Number.isNaN(Xt.y));const P=n.points,V=(0,d.jvg)().x(function(Xt){return Xt.x}).y(function(Xt){return Xt.y}).curve(d.$0Z),ee=e.append("path").attr("d",V(P)).attr("id","edge"+t0).attr("class","relation");let _e="";b.arrowMarkerAbsolute&&(_e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,_e=_e.replace(/\(/g,"\\("),_e=_e.replace(/\)/g,"\\)")),u.relation.lineType==1&&ee.attr("class","relation dashed-line"),u.relation.lineType==10&&ee.attr("class","relation dotted-line"),u.relation.type1!=="none"&&ee.attr("marker-start","url("+_e+"#"+L(u.relation.type1)+"Start)"),u.relation.type2!=="none"&&ee.attr("marker-end","url("+_e+"#"+L(u.relation.type2)+"End)");let Le,Fe;const Re=n.points.length;let Ke=Ka.calcLabelPosition(n.points);Le=Ke.x,Fe=Ke.y;let Ut,sn,an,hn;if(Re%2!==0&&Re>1){let Xt=Ka.calcCardinalityPosition(u.relation.type1!=="none",n.points,n.points[0]),zn=Ka.calcCardinalityPosition(u.relation.type2!=="none",n.points,n.points[Re-1]);Me.debug("cardinality_1_point "+JSON.stringify(Xt)),Me.debug("cardinality_2_point "+JSON.stringify(zn)),Ut=Xt.x,sn=Xt.y,an=zn.x,hn=zn.y}if(u.title!==void 0){const Xt=e.append("g").attr("class","classLabel"),zn=Xt.append("text").attr("class","label").attr("x",Le).attr("y",Fe).attr("fill","red").attr("text-anchor","middle").text(u.title);window.label=zn;const nr=zn.node().getBBox();Xt.insert("rect",":first-child").attr("class","box").attr("x",nr.x-b.padding/2).attr("y",nr.y-b.padding/2).attr("width",nr.width+b.padding).attr("height",nr.height+b.padding)}Me.info("Rendering relation "+JSON.stringify(u)),u.relationTitle1!==void 0&&u.relationTitle1!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",Ut).attr("y",sn).attr("fill","black").attr("font-size","6").text(u.relationTitle1),u.relationTitle2!==void 0&&u.relationTitle2!=="none"&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",an).attr("y",hn).attr("fill","black").attr("font-size","6").text(u.relationTitle2),t0++},L0=function(e,n,u,b){Me.debug("Rendering class ",n,u);const y=n.id,L={id:y,label:n.id,width:0,height:0},P=e.append("g").attr("id",b.db.lookUpDomId(y)).attr("class","classGroup");let V;n.link?V=P.append("svg:a").attr("xlink:href",n.link).attr("target",n.linkTarget).append("text").attr("y",u.textHeight+u.padding).attr("x",0):V=P.append("text").attr("y",u.textHeight+u.padding).attr("x",0);let ee=!0;n.annotations.forEach(function(kr){const $r=V.append("tspan").text("\xAB"+kr+"\xBB");ee||$r.attr("dy",u.textHeight),ee=!1});let _e=n.id;n.type!==void 0&&n.type!==""&&(_e+="<"+n.type+">");const Le=V.append("tspan").text(_e).attr("class","title");ee||Le.attr("dy",u.textHeight);const Fe=V.node().getBBox().height,Re=P.append("line").attr("x1",0).attr("y1",u.padding+Fe+u.dividerMargin/2).attr("y2",u.padding+Fe+u.dividerMargin/2),Ke=P.append("text").attr("x",u.padding).attr("y",Fe+u.dividerMargin+u.textHeight).attr("fill","white").attr("class","classText");ee=!0,n.members.forEach(function(kr){Lp(Ke,kr,ee,u),ee=!1});const Ut=Ke.node().getBBox(),sn=P.append("line").attr("x1",0).attr("y1",u.padding+Fe+u.dividerMargin+Ut.height).attr("y2",u.padding+Fe+u.dividerMargin+Ut.height),an=P.append("text").attr("x",u.padding).attr("y",Fe+2*u.dividerMargin+Ut.height+u.textHeight).attr("fill","white").attr("class","classText");ee=!0,n.methods.forEach(function(kr){Lp(an,kr,ee,u),ee=!1});const hn=P.node().getBBox();var Xt=" ";n.cssClasses.length>0&&(Xt=Xt+n.cssClasses.join(" "));const nr=P.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",hn.width+2*u.padding).attr("height",hn.height+u.padding+.5*u.dividerMargin).attr("class",Xt).node().getBBox().width;return V.node().childNodes.forEach(function(kr){kr.setAttribute("x",(nr-kr.getBBox().width)/2)}),n.tooltip&&V.insert("title").text(n.tooltip),Re.attr("x2",nr),sn.attr("x2",nr),L.width=nr,L.height=hn.height+u.padding+.5*u.dividerMargin,L},O0=function(e,n,u,b){Me.debug("Rendering note ",n,u);const y=n.id,L={id:y,text:n.text,width:0,height:0},P=e.append("g").attr("id",y).attr("class","classGroup");let V=P.append("text").attr("y",u.textHeight+u.padding).attr("x",0);const ee=JSON.parse(`"${n.text}"`).split(`
`);ee.forEach(function(Re){Me.debug(`Adding line: ${Re}`),V.append("tspan").text(Re).attr("class","title").attr("dy",u.textHeight)});const _e=P.node().getBBox(),Fe=P.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",_e.width+2*u.padding).attr("height",_e.height+ee.length*u.textHeight+u.padding+.5*u.dividerMargin).node().getBBox().width;return V.node().childNodes.forEach(function(Re){Re.setAttribute("x",(Fe-Re.getBBox().width)/2)}),L.width=Fe,L.height=_e.height+ee.length*u.textHeight+u.padding+.5*u.dividerMargin,L},Kh=function(e){const n=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,u=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let b=e.match(n),y=e.match(u);return b&&!y?n0(b):y?r0(y):N0(e)},n0=function(e){let n="",u="";try{let b=e[1]?e[1].trim():"",y=e[2]?e[2].trim():"",L=e[3]?Zt(e[3].trim()):"",P=e[4]?e[4].trim():"",V=e[5]?e[5].trim():"";u=b+y+L+" "+P,n=Op(V)}catch(b){u=e}return{displayText:u,cssStyle:n}},r0=function(e){let n="",u="";try{let b=e[1]?e[1].trim():"",y=e[2]?e[2].trim():"",L=e[3]?Zt(e[3].trim()):"",P=e[4]?e[4].trim():"",V=e[5]?" : "+Zt(e[5]).trim():"";u=b+y+"("+L+")"+V,n=Op(P)}catch(b){u=e}return{displayText:u,cssStyle:n}},N0=function(e){let n="",u="",b="",y=e.indexOf("("),L=e.indexOf(")");if(y>1&&L>y&&L<=e.length){let P="",V="",ee=e.substring(0,1);ee.match(/\w/)?V=e.substring(0,y).trim():(ee.match(/[#+~-]/)&&(P=ee),V=e.substring(1,y).trim());const _e=e.substring(y+1,L);e.substring(L+1,1),u=Op(e.substring(L+1,L+2)),n=P+V+"("+Zt(_e.trim())+")",L<e.length&&(b=e.substring(L+2).trim(),b!==""&&(b=" : "+Zt(b),n+=b))}else n=Zt(e);return{displayText:n,cssStyle:u}},Lp=function(e,n,u,b){let y=Kh(n);const L=e.append("tspan").attr("x",b.padding).text(y.displayText);y.cssStyle!==""&&L.attr("style",y.cssStyle),u||L.attr("dy",b.textHeight)},Op=function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},cp={drawClass:L0,drawEdge:I0,drawNote:O0,parseMember:Kh};let up={};const dp=20,Gh=function(e){const n=Object.entries(up).find(u=>u[1].label===e);if(n)return n[0]},R0=function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},i0={draw:function(e,n,u,b){const y=qe().class;up={},Me.info("Rendering diagram "+e);const L=qe().securityLevel;let P;L==="sandbox"&&(P=(0,d.Ys)("#i"+n));const V=L==="sandbox"?(0,d.Ys)(P.nodes()[0].contentDocument.body):(0,d.Ys)("body"),ee=V.select(`[id='${n}']`);R0(ee);const _e=new Te.k({multigraph:!0});_e.setGraph({isMultiGraph:!0}),_e.setDefaultEdgeLabel(function(){return{}});const Le=b.db.getClasses(),Fe=Object.keys(Le);for(const Xt of Fe){const zn=Le[Xt],nr=cp.drawClass(ee,zn,y,b);up[nr.id]=nr,_e.setNode(nr.id,nr),Me.info("Org height: "+nr.height)}b.db.getRelations().forEach(function(Xt){Me.info("tjoho"+Gh(Xt.id1)+Gh(Xt.id2)+JSON.stringify(Xt)),_e.setEdge(Gh(Xt.id1),Gh(Xt.id2),{relation:Xt},Xt.title||"DEFAULT")}),b.db.getNotes().forEach(function(Xt){Me.debug(`Adding note: ${JSON.stringify(Xt)}`);const zn=cp.drawNote(ee,Xt,y,b);up[zn.id]=zn,_e.setNode(zn.id,zn),Xt.class&&Xt.class in Le&&_e.setEdge(Xt.id,Gh(Xt.class),{relation:{id1:Xt.id,id2:Xt.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),(0,lt.bK)(_e),_e.nodes().forEach(function(Xt){Xt!==void 0&&_e.node(Xt)!==void 0&&(Me.debug("Node "+Xt+": "+JSON.stringify(_e.node(Xt))),V.select("#"+(b.db.lookUpDomId(Xt)||Xt)).attr("transform","translate("+(_e.node(Xt).x-_e.node(Xt).width/2)+","+(_e.node(Xt).y-_e.node(Xt).height/2)+" )"))}),_e.edges().forEach(function(Xt){Xt!==void 0&&_e.edge(Xt)!==void 0&&(Me.debug("Edge "+Xt.v+" -> "+Xt.w+": "+JSON.stringify(_e.edge(Xt))),cp.drawEdge(ee,_e.edge(Xt),_e.edge(Xt).relation,y,b))});const Ut=ee.node().getBBox(),sn=Ut.width+dp*2,an=Ut.height+dp*2;Ra(ee,an,sn,y.useMaxWidth);const hn=`${Ut.x-dp} ${Ut.y-dp} ${sn} ${an}`;Me.debug(`viewBox ${hn}`),ee.attr("viewBox",hn)}},B0=(e,n,u,b)=>{n.forEach(y=>{Ih[y](e,u,b)})},Ih={extension:(e,n,u)=>{Me.trace("Making markers for ",u),e.append("defs").append("marker").attr("id",n+"-extensionStart").attr("class","marker extension "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"-extensionEnd").attr("class","marker extension "+n).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(e,n)=>{e.append("defs").append("marker").attr("id",n+"-compositionStart").attr("class","marker composition "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"-compositionEnd").attr("class","marker composition "+n).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(e,n)=>{e.append("defs").append("marker").attr("id",n+"-aggregationStart").attr("class","marker aggregation "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"-aggregationEnd").attr("class","marker aggregation "+n).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(e,n)=>{e.append("defs").append("marker").attr("id",n+"-dependencyStart").attr("class","marker dependency "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"-dependencyEnd").attr("class","marker dependency "+n).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(e,n)=>{e.append("defs").append("marker").attr("id",n+"-lollipopStart").attr("class","marker lollipop "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(e,n)=>{e.append("marker").attr("id",n+"-pointEnd").attr("class","marker "+n).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"-pointStart").attr("class","marker "+n).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(e,n)=>{e.append("marker").attr("id",n+"-circleEnd").attr("class","marker "+n).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"-circleStart").attr("class","marker "+n).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(e,n)=>{e.append("marker").attr("id",n+"-crossEnd").attr("class","marker cross "+n).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"-crossStart").attr("class","marker cross "+n).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(e,n)=>{e.append("defs").append("marker").attr("id",n+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},fp=B0;function W0(e,n){n&&e.attr("style",n)}function U0(e){const n=(0,d.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),u=n.append("xhtml:div"),b=e.label,y=e.isNode?"nodeLabel":"edgeLabel";return u.html('<span class="'+y+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+b+"</span>"),W0(u,e.labelStyle),u.style("display","inline-block"),u.style("white-space","nowrap"),u.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}const Uu=(e,n,u,b)=>{let y=e||"";if(typeof y=="object"&&(y=y[0]),qt(qe().flowchart.htmlLabels)){y=y.replace(/\\n|\n/g,"<br />"),Me.info("vertexText"+y);const L={isNode:b,label:Vg(y).replace(/fa[blrs]?:fa-[\w-]+/g,V=>`<i class='${V.replace(":"," ")}'></i>`),labelStyle:n.replace("fill:","color:")};return U0(L)}else{const L=document.createElementNS("http://www.w3.org/2000/svg","text");L.setAttribute("style",n.replace("color:","fill:"));let P=[];typeof y=="string"?P=y.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(y)?P=y:P=[];for(const V of P){const ee=document.createElementNS("http://www.w3.org/2000/svg","tspan");ee.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),ee.setAttribute("dy","1em"),ee.setAttribute("x","0"),u?ee.setAttribute("class","title-row"):ee.setAttribute("class","row"),ee.textContent=V.trim(),L.appendChild(ee)}return L}},du=(e,n,u,b)=>{let y;u?y=u:y="node default";const L=e.insert("g").attr("class",y).attr("id",n.domId||n.id),P=L.insert("g").attr("class","label").attr("style",n.labelStyle);let V;n.labelText===void 0?V="":V=typeof n.labelText=="string"?n.labelText:n.labelText[0];const ee=P.node().appendChild(Uu(jr(Vg(V),qe()),n.labelStyle,!1,b));let _e=ee.getBBox();if(qt(qe().flowchart.htmlLabels)){const Fe=ee.children[0],Re=(0,d.Ys)(ee);_e=Fe.getBoundingClientRect(),Re.attr("width",_e.width),Re.attr("height",_e.height)}const Le=n.padding/2;return P.attr("transform","translate("+-_e.width/2+", "+-_e.height/2+")"),{shapeSvg:L,bbox:_e,halfPadding:Le,label:P}},Xl=(e,n)=>{const u=n.node().getBBox();e.width=u.width,e.height=u.height};function If(e,n,u,b){return e.insert("polygon",":first-child").attr("points",b.map(function(y){return y.x+","+y.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-n/2+","+u/2+")")}let jo={},Zd={},Np={};const H0=()=>{Zd={},Np={},jo={}},hl=(e,n)=>(Me.trace("In isDecendant",n," ",e," = ",Zd[n].includes(e)),!!Zd[n].includes(e)),l0=(e,n)=>(Me.info("Decendants of ",n," is ",Zd[n]),Me.info("Edge is ",e),e.v===n||e.w===n?!1:Zd[n]?Zd[n].includes(e.v)||hl(e.v,n)||hl(e.w,n)||Zd[n].includes(e.w):(Me.debug("Tilt, ",n,",not in decendants"),!1)),Kc=(e,n,u,b)=>{Me.warn("Copying children of ",e,"root",b,"data",n.node(e),b);const y=n.children(e)||[];e!==b&&y.push(e),Me.warn("Copying (nodes) clusterId",e,"nodes",y),y.forEach(L=>{if(n.children(L).length>0)Kc(L,n,u,b);else{const P=n.node(L);Me.info("cp ",L," to ",b," with parent ",e),u.setNode(L,P),b!==n.parent(L)&&(Me.warn("Setting parent",L,n.parent(L)),u.setParent(L,n.parent(L))),e!==b&&L!==e?(Me.debug("Setting parent",L,e),u.setParent(L,e)):(Me.info("In copy ",e,"root",b,"data",n.node(e),b),Me.debug("Not Setting parent for node=",L,"cluster!==rootId",e!==b,"node!==clusterId",L!==e));const V=n.edges(L);Me.debug("Copying Edges",V),V.forEach(ee=>{Me.info("Edge",ee);const _e=n.edge(ee.v,ee.w,ee.name);Me.info("Edge data",_e,b);try{l0(ee,b)?(Me.info("Copying as ",ee.v,ee.w,_e,ee.name),u.setEdge(ee.v,ee.w,_e,ee.name),Me.info("newGraph edges ",u.edges(),u.edge(u.edges()[0]))):Me.info("Skipping copy of edge ",ee.v,"-->",ee.w," rootId: ",b," clusterId:",e)}catch(Le){Me.error(Le)}})}Me.debug("Removing node",L),n.removeNode(L)})},Gf=(e,n)=>{const u=n.children(e);let b=[...u];for(const y of u)Np[y]=e,b=[...b,...Gf(y,n)];return b},qh=(e,n)=>{Me.trace("Searching",e);const u=n.children(e);if(Me.trace("Searching children of id ",e,u),u.length<1)return Me.trace("This is a valid node",e),e;for(const b of u){const y=qh(b,n);if(y)return Me.trace("Found replacement for",e," => ",y),y}},Lh=e=>!jo[e]||!jo[e].externalConnections?e:jo[e]?jo[e].id:e,lf=(e,n)=>{if(!e||n>10){Me.debug("Opting out, no graph ");return}else Me.debug("Opting in, graph ");e.nodes().forEach(function(u){e.children(u).length>0&&(Me.warn("Cluster identified",u," Replacement id in edges: ",qh(u,e)),Zd[u]=Gf(u,e),jo[u]={id:qh(u,e),clusterData:e.node(u)})}),e.nodes().forEach(function(u){const b=e.children(u),y=e.edges();b.length>0?(Me.debug("Cluster identified",u,Zd),y.forEach(L=>{if(L.v!==u&&L.w!==u){const P=hl(L.v,u),V=hl(L.w,u);P^V&&(Me.warn("Edge: ",L," leaves cluster ",u),Me.warn("Decendants of XXX ",u,": ",Zd[u]),jo[u].externalConnections=!0)}})):Me.debug("Not a cluster ",u,Zd)}),e.edges().forEach(function(u){const b=e.edge(u);Me.warn("Edge "+u.v+" -> "+u.w+": "+JSON.stringify(u)),Me.warn("Edge "+u.v+" -> "+u.w+": "+JSON.stringify(e.edge(u)));let y=u.v,L=u.w;if(Me.warn("Fix XXX",jo,"ids:",u.v,u.w,"Translating: ",jo[u.v]," --- ",jo[u.w]),jo[u.v]&&jo[u.w]&&jo[u.v]===jo[u.w]){Me.warn("Fixing and trixing link to self - removing XXX",u.v,u.w,u.name),Me.warn("Fixing and trixing - removing XXX",u.v,u.w,u.name),y=Lh(u.v),L=Lh(u.w),e.removeEdge(u.v,u.w,u.name);const P=u.w+"---"+u.v;e.setNode(P,{domId:P,id:P,labelStyle:"",labelText:b.label,padding:0,shape:"labelRect",style:""});const V=JSON.parse(JSON.stringify(b)),ee=JSON.parse(JSON.stringify(b));V.label="",V.arrowTypeEnd="none",ee.label="",V.fromCluster=u.v,ee.toCluster=u.v,e.setEdge(y,P,V,u.name+"-cyclic-special"),e.setEdge(P,L,ee,u.name+"-cyclic-special")}else(jo[u.v]||jo[u.w])&&(Me.warn("Fixing and trixing - removing XXX",u.v,u.w,u.name),y=Lh(u.v),L=Lh(u.w),e.removeEdge(u.v,u.w,u.name),y!==u.v&&(b.fromCluster=u.v),L!==u.w&&(b.toCluster=u.w),Me.warn("Fix Replacing with XXX",y,L,u.name),e.setEdge(y,L,b,u.name))}),Me.warn("Adjusted Graph",Je.c(e)),dh(e,0),Me.trace(jo)},dh=(e,n)=>{if(Me.warn("extractor - ",n,Je.c(e),e.children("D")),n>10){Me.error("Bailing out");return}let u=e.nodes(),b=!1;for(const y of u){const L=e.children(y);b=b||L.length>0}if(!b){Me.debug("Done, no node has children",e.nodes());return}Me.debug("Nodes = ",u,n);for(const y of u)if(Me.debug("Extracting node",y,jo,jo[y]&&!jo[y].externalConnections,!e.parent(y),e.node(y),e.children("D")," Depth ",n),!jo[y])Me.debug("Not a cluster",y,n);else if(!jo[y].externalConnections&&e.children(y)&&e.children(y).length>0){Me.warn("Cluster without external connections, without a parent and with children",y,n);let P=e.graph().rankdir==="TB"?"LR":"TB";jo[y]&&jo[y].clusterData&&jo[y].clusterData.dir&&(P=jo[y].clusterData.dir,Me.warn("Fixing dir",jo[y].clusterData.dir,P));const V=new Te.k({multigraph:!0,compound:!0}).setGraph({rankdir:P,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Me.warn("Old graph before copy",Je.c(e)),Kc(y,e,V,y),e.setNode(y,{clusterNode:!0,id:y,clusterData:jo[y].clusterData,labelText:jo[y].labelText,graph:V}),Me.warn("New graph after copy node: (",y,")",Je.c(V)),Me.debug("Old graph after copy",Je.c(e))}else Me.warn("Cluster ** ",y," **not meeting the criteria !externalConnections:",!jo[y].externalConnections," no parent: ",!e.parent(y)," children ",e.children(y)&&e.children(y).length>0,e.children("D"),n),Me.debug(jo);u=e.nodes(),Me.warn("New list of nodes",u);for(const y of u){const L=e.node(y);Me.warn(" Now next level",y,L),L.clusterNode&&dh(L.graph,n+1)}},Gc=(e,n)=>{if(n.length===0)return[];let u=Object.assign(n);return n.forEach(b=>{const y=e.children(b),L=Gc(e,y);u=[...u,...L]}),u},$h=e=>Gc(e,e.children());function cf(e,n){return e.intersect(n)}function ld(e,n,u,b){var y=e.x,L=e.y,P=y-b.x,V=L-b.y,ee=Math.sqrt(n*n*V*V+u*u*P*P),_e=Math.abs(n*u*P/ee);b.x<y&&(_e=-_e);var Le=Math.abs(n*u*V/ee);return b.y<L&&(Le=-Le),{x:y+_e,y:L+Le}}function Xh(e,n,u){return ld(e,n,n,u)}function c0(e,n,u,b){var y,L,P,V,ee,_e,Le,Fe,Re,Ke,Ut,sn,an,hn,Xt;if(y=n.y-e.y,P=e.x-n.x,ee=n.x*e.y-e.x*n.y,Re=y*u.x+P*u.y+ee,Ke=y*b.x+P*b.y+ee,!(Re!==0&&Ke!==0&&hp(Re,Ke))&&(L=b.y-u.y,V=u.x-b.x,_e=b.x*u.y-u.x*b.y,Le=L*e.x+V*e.y+_e,Fe=L*n.x+V*n.y+_e,!(Le!==0&&Fe!==0&&hp(Le,Fe))&&(Ut=y*V-L*P,Ut!==0)))return sn=Math.abs(Ut/2),an=P*_e-V*ee,hn=an<0?(an-sn)/Ut:(an+sn)/Ut,an=L*ee-y*_e,Xt=an<0?(an-sn)/Ut:(an+sn)/Ut,{x:hn,y:Xt}}function hp(e,n){return e*n>0}function Rp(e,n,u){var b=e.x,y=e.y,L=[],P=Number.POSITIVE_INFINITY,V=Number.POSITIVE_INFINITY;typeof n.forEach=="function"?n.forEach(function(Ut){P=Math.min(P,Ut.x),V=Math.min(V,Ut.y)}):(P=Math.min(P,n.x),V=Math.min(V,n.y));for(var ee=b-e.width/2-P,_e=y-e.height/2-V,Le=0;Le<n.length;Le++){var Fe=n[Le],Re=n[Le<n.length-1?Le+1:0],Ke=c0(e,u,{x:ee+Fe.x,y:_e+Fe.y},{x:ee+Re.x,y:_e+Re.y});Ke&&L.push(Ke)}return L.length?(L.length>1&&L.sort(function(Ut,sn){var an=Ut.x-u.x,hn=Ut.y-u.y,Xt=Math.sqrt(an*an+hn*hn),zn=sn.x-u.x,nr=sn.y-u.y,kr=Math.sqrt(zn*zn+nr*nr);return Xt<kr?-1:Xt===kr?0:1}),L[0]):e}const Qh=(e,n)=>{var u=e.x,b=e.y,y=n.x-u,L=n.y-b,P=e.width/2,V=e.height/2,ee,_e;return Math.abs(L)*P>Math.abs(y)*V?(L<0&&(V=-V),ee=L===0?0:V*y/L,_e=V):(y<0&&(P=-P),ee=P,_e=y===0?0:P*L/y),{x:u+ee,y:b+_e}},R={node:cf,circle:Xh,ellipse:ld,polygon:Rp,rect:Qh},Q=(e,n)=>{const{shapeSvg:u,bbox:b,halfPadding:y}=du(e,n,"node "+n.classes,!0);Me.info("Classes = ",n.classes);const L=u.insert("rect",":first-child");return L.attr("rx",n.rx).attr("ry",n.ry).attr("x",-b.width/2-y).attr("y",-b.height/2-y).attr("width",b.width+n.padding).attr("height",b.height+n.padding),Xl(n,L),n.intersect=function(P){return R.rect(n,P)},u},ke=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=y+L,V=[{x:P/2,y:0},{x:P,y:-P/2},{x:P/2,y:-P},{x:0,y:-P/2}];Me.info("Question main (Circle)");const ee=If(u,P,P,V);return ee.attr("style",n.style),Xl(n,ee),n.intersect=function(_e){return Me.warn("Intersect called"),R.polygon(n,V,_e)},u},Be=(e,n)=>{const u=e.insert("g").attr("class","node default").attr("id",n.domId||n.id),b=28,y=[{x:0,y:b/2},{x:b/2,y:0},{x:0,y:-b/2},{x:-b/2,y:0}];return u.insert("polygon",":first-child").attr("points",y.map(function(P){return P.x+","+P.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),n.width=28,n.height=28,n.intersect=function(P){return R.circle(n,14,P)},u},Ge=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=4,L=b.height+n.padding,P=L/y,V=b.width+2*P+n.padding,ee=[{x:P,y:0},{x:V-P,y:0},{x:V,y:-L/2},{x:V-P,y:-L},{x:P,y:-L},{x:0,y:-L/2}],_e=If(u,V,L,ee);return _e.attr("style",n.style),Xl(n,_e),n.intersect=function(Le){return R.polygon(n,ee,Le)},u},ct=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:-L/2,y:0},{x:y,y:0},{x:y,y:-L},{x:-L/2,y:-L},{x:0,y:-L/2}];return If(u,y,L,P).attr("style",n.style),n.width=y+L,n.height=L,n.intersect=function(ee){return R.polygon(n,P,ee)},u},mt=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:-2*L/6,y:0},{x:y-L/6,y:0},{x:y+2*L/6,y:-L},{x:L/6,y:-L}],V=If(u,y,L,P);return V.attr("style",n.style),Xl(n,V),n.intersect=function(ee){return R.polygon(n,P,ee)},u},Rt=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:2*L/6,y:0},{x:y+L/6,y:0},{x:y-2*L/6,y:-L},{x:-L/6,y:-L}],V=If(u,y,L,P);return V.attr("style",n.style),Xl(n,V),n.intersect=function(ee){return R.polygon(n,P,ee)},u},tn=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:-2*L/6,y:0},{x:y+2*L/6,y:0},{x:y-L/6,y:-L},{x:L/6,y:-L}],V=If(u,y,L,P);return V.attr("style",n.style),Xl(n,V),n.intersect=function(ee){return R.polygon(n,P,ee)},u},$t=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:L/6,y:0},{x:y-L/6,y:0},{x:y+2*L/6,y:-L},{x:-2*L/6,y:-L}],V=If(u,y,L,P);return V.attr("style",n.style),Xl(n,V),n.intersect=function(ee){return R.polygon(n,P,ee)},u},Vt=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:0,y:0},{x:y+L/2,y:0},{x:y,y:-L/2},{x:y+L/2,y:-L},{x:0,y:-L}],V=If(u,y,L,P);return V.attr("style",n.style),Xl(n,V),n.intersect=function(ee){return R.polygon(n,P,ee)},u},Qt=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=y/2,P=L/(2.5+y/50),V=b.height+P+n.padding,ee="M 0,"+P+" a "+L+","+P+" 0,0,0 "+y+" 0 a "+L+","+P+" 0,0,0 "+-y+" 0 l 0,"+V+" a "+L+","+P+" 0,0,0 "+y+" 0 l 0,"+-V,_e=u.attr("label-offset-y",P).insert("path",":first-child").attr("style",n.style).attr("d",ee).attr("transform","translate("+-y/2+","+-(V/2+P)+")");return Xl(n,_e),n.intersect=function(Le){const Fe=R.rect(n,Le),Re=Fe.x-n.x;if(L!=0&&(Math.abs(Re)<n.width/2||Math.abs(Re)==n.width/2&&Math.abs(Fe.y-n.y)>n.height/2-P)){let Ke=P*P*(1-Re*Re/(L*L));Ke!=0&&(Ke=Math.sqrt(Ke)),Ke=P-Ke,Le.y-n.y>0&&(Ke=-Ke),Fe.y+=Ke}return Fe},u},Tn=(e,n)=>{const{shapeSvg:u,bbox:b,halfPadding:y}=du(e,n,"node "+n.classes,!0);Me.trace("Classes = ",n.classes);const L=u.insert("rect",":first-child"),P=b.width+n.padding,V=b.height+n.padding;if(L.attr("class","basic label-container").attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("x",-b.width/2-y).attr("y",-b.height/2-y).attr("width",P).attr("height",V),n.props){const ee=new Set(Object.keys(n.props));n.props.borders&&(ei(L,n.props.borders,P,V),ee.delete("borders")),ee.forEach(_e=>{Me.warn(`Unknown node property ${_e}`)})}return Xl(n,L),n.intersect=function(ee){return R.rect(n,ee)},u},fr=(e,n)=>{const{shapeSvg:u}=du(e,n,"label",!0);Me.trace("Classes = ",n.classes);const b=u.insert("rect",":first-child"),y=0,L=0;if(b.attr("width",y).attr("height",L),u.attr("class","label edgeLabel"),n.props){const P=new Set(Object.keys(n.props));n.props.borders&&(ei(b,n.props.borders,y,L),P.delete("borders")),P.forEach(V=>{Me.warn(`Unknown node property ${V}`)})}return Xl(n,b),n.intersect=function(P){return R.rect(n,P)},u};function ei(e,n,u,b){const y=[],L=V=>{y.push(V,0)},P=V=>{y.push(0,V)};n.includes("t")?(Me.debug("add top border"),L(u)):P(u),n.includes("r")?(Me.debug("add right border"),L(b)):P(b),n.includes("b")?(Me.debug("add bottom border"),L(u)):P(u),n.includes("l")?(Me.debug("add left border"),L(b)):P(b),e.attr("stroke-dasharray",y.join(" "))}const qr=(e,n)=>{let u;n.classes?u="node "+n.classes:u="node default";const b=e.insert("g").attr("class",u).attr("id",n.domId||n.id),y=b.insert("rect",":first-child"),L=b.insert("line"),P=b.insert("g").attr("class","label"),V=n.labelText.flat?n.labelText.flat():n.labelText;let ee="";typeof V=="object"?ee=V[0]:ee=V,Me.info("Label text abc79",ee,V,typeof V=="object");const _e=P.node().appendChild(Uu(ee,n.labelStyle,!0,!0));let Le={width:0,height:0};if(qt(qe().flowchart.htmlLabels)){const sn=_e.children[0],an=(0,d.Ys)(_e);Le=sn.getBoundingClientRect(),an.attr("width",Le.width),an.attr("height",Le.height)}Me.info("Text 2",V);const Fe=V.slice(1,V.length);let Re=_e.getBBox();const Ke=P.node().appendChild(Uu(Fe.join?Fe.join("<br/>"):Fe,n.labelStyle,!0,!0));if(qt(qe().flowchart.htmlLabels)){const sn=Ke.children[0],an=(0,d.Ys)(Ke);Le=sn.getBoundingClientRect(),an.attr("width",Le.width),an.attr("height",Le.height)}const Ut=n.padding/2;return(0,d.Ys)(Ke).attr("transform","translate( "+(Le.width>Re.width?0:(Re.width-Le.width)/2)+", "+(Re.height+Ut+5)+")"),(0,d.Ys)(_e).attr("transform","translate( "+(Le.width<Re.width?0:-(Re.width-Le.width)/2)+", "+0+")"),Le=P.node().getBBox(),P.attr("transform","translate("+-Le.width/2+", "+(-Le.height/2-Ut+3)+")"),y.attr("class","outer title-state").attr("x",-Le.width/2-Ut).attr("y",-Le.height/2-Ut).attr("width",Le.width+n.padding).attr("height",Le.height+n.padding),L.attr("class","divider").attr("x1",-Le.width/2-Ut).attr("x2",Le.width/2+Ut).attr("y1",-Le.height/2-Ut+Re.height+Ut).attr("y2",-Le.height/2-Ut+Re.height+Ut),Xl(n,y),n.intersect=function(sn){return R.rect(n,sn)},b},Pr=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.height+n.padding,L=b.width+y/4+n.padding,P=u.insert("rect",":first-child").attr("style",n.style).attr("rx",y/2).attr("ry",y/2).attr("x",-L/2).attr("y",-y/2).attr("width",L).attr("height",y);return Xl(n,P),n.intersect=function(V){return R.rect(n,V)},u},Ai=(e,n)=>{const{shapeSvg:u,bbox:b,halfPadding:y}=du(e,n,void 0,!0),L=u.insert("circle",":first-child");return L.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",b.width/2+y).attr("width",b.width+n.padding).attr("height",b.height+n.padding),Me.info("Circle main"),Xl(n,L),n.intersect=function(P){return Me.info("Circle intersect",n,b.width/2+y,P),R.circle(n,b.width/2+y,P)},u},Yi=(e,n)=>{const{shapeSvg:u,bbox:b,halfPadding:y}=du(e,n,void 0,!0),L=5,P=u.insert("g",":first-child"),V=P.insert("circle"),ee=P.insert("circle");return V.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",b.width/2+y+L).attr("width",b.width+n.padding+L*2).attr("height",b.height+n.padding+L*2),ee.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",b.width/2+y).attr("width",b.width+n.padding).attr("height",b.height+n.padding),Me.info("DoubleCircle main"),Xl(n,V),n.intersect=function(_e){return Me.info("DoubleCircle intersect",n,b.width/2+y+L,_e),R.circle(n,b.width/2+y+L,_e)},u},ta=(e,n)=>{const{shapeSvg:u,bbox:b}=du(e,n,void 0,!0),y=b.width+n.padding,L=b.height+n.padding,P=[{x:0,y:0},{x:y,y:0},{x:y,y:-L},{x:0,y:-L},{x:0,y:0},{x:-8,y:0},{x:y+8,y:0},{x:y+8,y:-L},{x:-8,y:-L},{x:-8,y:0}],V=If(u,y,L,P);return V.attr("style",n.style),Xl(n,V),n.intersect=function(ee){return R.polygon(n,P,ee)},u},Ha=(e,n)=>{const u=e.insert("g").attr("class","node default").attr("id",n.domId||n.id),b=u.insert("circle",":first-child");return b.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Xl(n,b),n.intersect=function(y){return R.circle(n,7,y)},u},ja=(e,n,u)=>{const b=e.insert("g").attr("class","node default").attr("id",n.domId||n.id);let y=70,L=10;u==="LR"&&(y=10,L=70);const P=b.append("rect").attr("x",-1*y/2).attr("y",-1*L/2).attr("width",y).attr("height",L).attr("class","fork-join");return Xl(n,P),n.height=n.height+n.padding/2,n.width=n.width+n.padding/2,n.intersect=function(V){return R.rect(n,V)},b},Eo={rhombus:ke,question:ke,rect:Tn,labelRect:fr,rectWithTitle:qr,choice:Be,circle:Ai,doublecircle:Yi,stadium:Pr,hexagon:Ge,rect_left_inv_arrow:ct,lean_right:mt,lean_left:Rt,trapezoid:tn,inv_trapezoid:$t,rect_right_inv_arrow:Vt,cylinder:Qt,start:Ha,end:(e,n)=>{const u=e.insert("g").attr("class","node default").attr("id",n.domId||n.id),b=u.insert("circle",":first-child"),y=u.insert("circle",":first-child");return y.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),b.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Xl(n,y),n.intersect=function(L){return R.circle(n,7,L)},u},note:Q,subroutine:ta,fork:ja,join:ja,class_box:(e,n)=>{const u=n.padding/2,b=4,y=8;let L;n.classes?L="node "+n.classes:L="node default";const P=e.insert("g").attr("class",L).attr("id",n.domId||n.id),V=P.insert("rect",":first-child"),ee=P.insert("line"),_e=P.insert("line");let Le=0,Fe=b;const Re=P.insert("g").attr("class","label");let Ke=0;const Ut=n.classData.annotations&&n.classData.annotations[0],sn=n.classData.annotations[0]?"\xAB"+n.classData.annotations[0]+"\xBB":"",an=Re.node().appendChild(Uu(sn,n.labelStyle,!0,!0));let hn=an.getBBox();if(qt(qe().flowchart.htmlLabels)){const $n=an.children[0],cn=(0,d.Ys)(an);hn=$n.getBoundingClientRect(),cn.attr("width",hn.width),cn.attr("height",hn.height)}n.classData.annotations[0]&&(Fe+=hn.height+b,Le+=hn.width);let Xt=n.classData.id;n.classData.type!==void 0&&n.classData.type!==""&&(qe().flowchart.htmlLabels?Xt+="&lt;"+n.classData.type+"&gt;":Xt+="<"+n.classData.type+">");const zn=Re.node().appendChild(Uu(Xt,n.labelStyle,!0,!0));(0,d.Ys)(zn).attr("class","classTitle");let nr=zn.getBBox();if(qt(qe().flowchart.htmlLabels)){const $n=zn.children[0],cn=(0,d.Ys)(zn);nr=$n.getBoundingClientRect(),cn.attr("width",nr.width),cn.attr("height",nr.height)}Fe+=nr.height+b,nr.width>Le&&(Le=nr.width);const kr=[];n.classData.members.forEach($n=>{const cn=Kh($n);let Sn=cn.displayText;qe().flowchart.htmlLabels&&(Sn=Sn.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const kn=Re.node().appendChild(Uu(Sn,cn.cssStyle?cn.cssStyle:n.labelStyle,!0,!0));let At=kn.getBBox();if(qt(qe().flowchart.htmlLabels)){const Ln=kn.children[0],$e=(0,d.Ys)(kn);At=Ln.getBoundingClientRect(),$e.attr("width",At.width),$e.attr("height",At.height)}At.width>Le&&(Le=At.width),Fe+=At.height+b,kr.push(kn)}),Fe+=y;const $r=[];if(n.classData.methods.forEach($n=>{const cn=Kh($n);let Sn=cn.displayText;qe().flowchart.htmlLabels&&(Sn=Sn.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const kn=Re.node().appendChild(Uu(Sn,cn.cssStyle?cn.cssStyle:n.labelStyle,!0,!0));let At=kn.getBBox();if(qt(qe().flowchart.htmlLabels)){const Ln=kn.children[0],$e=(0,d.Ys)(kn);At=Ln.getBoundingClientRect(),$e.attr("width",At.width),$e.attr("height",At.height)}At.width>Le&&(Le=At.width),Fe+=At.height+b,$r.push(kn)}),Fe+=y,Ut){let $n=(Le-hn.width)/2;(0,d.Ys)(an).attr("transform","translate( "+(-1*Le/2+$n)+", "+-1*Fe/2+")"),Ke=hn.height+b}let ir=(Le-nr.width)/2;return(0,d.Ys)(zn).attr("transform","translate( "+(-1*Le/2+ir)+", "+(-1*Fe/2+Ke)+")"),Ke+=nr.height+b,ee.attr("class","divider").attr("x1",-Le/2-u).attr("x2",Le/2+u).attr("y1",-Fe/2-u+y+Ke).attr("y2",-Fe/2-u+y+Ke),Ke+=y,kr.forEach($n=>{(0,d.Ys)($n).attr("transform","translate( "+-Le/2+", "+(-1*Fe/2+Ke+y/2)+")"),Ke+=nr.height+b}),Ke+=y,_e.attr("class","divider").attr("x1",-Le/2-u).attr("x2",Le/2+u).attr("y1",-Fe/2-u+y+Ke).attr("y2",-Fe/2-u+y+Ke),Ke+=y,$r.forEach($n=>{(0,d.Ys)($n).attr("transform","translate( "+-Le/2+", "+(-1*Fe/2+Ke)+")"),Ke+=nr.height+b}),V.attr("class","outer title-state").attr("x",-Le/2-u).attr("y",-(Fe/2)-u).attr("width",Le+n.padding).attr("height",Fe+n.padding),Xl(n,V),n.intersect=function($n){return R.rect(n,$n)},P}};let xs={};const _c=(e,n,u)=>{let b,y;if(n.link){let L;qe().securityLevel==="sandbox"?L="_top":n.linkTarget&&(L=n.linkTarget||"_blank"),b=e.insert("svg:a").attr("xlink:href",n.link).attr("target",L),y=Eo[n.shape](b,n,u)}else y=Eo[n.shape](e,n,u),b=y;return n.tooltip&&y.attr("title",n.tooltip),n.class&&y.attr("class","node default "+n.class),xs[n.id]=b,n.haveCallback&&xs[n.id].attr("class",xs[n.id].attr("class")+" clickable"),b},Lc=(e,n)=>{xs[n.id]=e},uf=()=>{xs={}},cd=e=>{const n=xs[e.id];Me.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const u=8,b=e.diff||0;return e.clusterNode?n.attr("transform","translate("+(e.x+b-e.width/2)+", "+(e.y-e.height/2-u)+")"):n.attr("transform","translate("+e.x+", "+e.y+")"),b},ff={rect:(e,n)=>{Me.trace("Creating subgraph rect for ",n.id,n);const u=e.insert("g").attr("class","cluster"+(n.class?" "+n.class:"")).attr("id",n.id),b=u.insert("rect",":first-child"),y=u.insert("g").attr("class","cluster-label"),L=y.node().appendChild(Uu(n.labelText,n.labelStyle,void 0,!0));let P=L.getBBox();if(qt(qe().flowchart.htmlLabels)){const Fe=L.children[0],Re=(0,d.Ys)(L);P=Fe.getBoundingClientRect(),Re.attr("width",P.width),Re.attr("height",P.height)}const V=0*n.padding,ee=V/2,_e=n.width<=P.width+V?P.width+V:n.width;n.width<=P.width+V?n.diff=(P.width-n.width)/2-n.padding/2:n.diff=-n.padding/2,Me.trace("Data ",n,JSON.stringify(n)),b.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("x",n.x-_e/2).attr("y",n.y-n.height/2-ee).attr("width",_e).attr("height",n.height+V),y.attr("transform","translate("+(n.x-P.width/2)+", "+(n.y-n.height/2)+")");const Le=b.node().getBBox();return n.width=Le.width,n.height=Le.height,n.intersect=function(Fe){return Qh(n,Fe)},u},roundedWithTitle:(e,n)=>{const u=e.insert("g").attr("class",n.classes).attr("id",n.id),b=u.insert("rect",":first-child"),y=u.insert("g").attr("class","cluster-label"),L=u.append("rect"),P=y.node().appendChild(Uu(n.labelText,n.labelStyle,void 0,!0));let V=P.getBBox();if(qt(qe().flowchart.htmlLabels)){const Re=P.children[0],Ke=(0,d.Ys)(P);V=Re.getBoundingClientRect(),Ke.attr("width",V.width),Ke.attr("height",V.height)}V=P.getBBox();const ee=0*n.padding,_e=ee/2,Le=n.width<=V.width+n.padding?V.width+n.padding:n.width;n.width<=V.width+n.padding?n.diff=(V.width+n.padding*0-n.width)/2:n.diff=-n.padding/2,b.attr("class","outer").attr("x",n.x-Le/2-_e).attr("y",n.y-n.height/2-_e).attr("width",Le+ee).attr("height",n.height+ee),L.attr("class","inner").attr("x",n.x-Le/2-_e).attr("y",n.y-n.height/2-_e+V.height-1).attr("width",Le+ee).attr("height",n.height+ee-V.height-3),y.attr("transform","translate("+(n.x-V.width/2)+", "+(n.y-n.height/2-n.padding/3+(qt(qe().flowchart.htmlLabels)?5:3))+")");const Fe=b.node().getBBox();return n.height=Fe.height,n.intersect=function(Re){return Qh(n,Re)},u},noteGroup:(e,n)=>{const u=e.insert("g").attr("class","note-cluster").attr("id",n.id),b=u.insert("rect",":first-child"),y=0*n.padding,L=y/2;b.attr("rx",n.rx).attr("ry",n.ry).attr("x",n.x-n.width/2-L).attr("y",n.y-n.height/2-L).attr("width",n.width+y).attr("height",n.height+y).attr("fill","none");const P=b.node().getBBox();return n.width=P.width,n.height=P.height,n.intersect=function(V){return Qh(n,V)},u},divider:(e,n)=>{const u=e.insert("g").attr("class",n.classes).attr("id",n.id),b=u.insert("rect",":first-child"),y=0*n.padding,L=y/2;b.attr("class","divider").attr("x",n.x-n.width/2-L).attr("y",n.y-n.height/2).attr("width",n.width+y).attr("height",n.height+y);const P=b.node().getBBox();return n.width=P.width,n.height=P.height,n.diff=-n.padding/2,n.intersect=function(V){return Qh(n,V)},u}};let Jh={};const qf=(e,n)=>{Me.trace("Inserting cluster");const u=n.shape||"rect";Jh[n.id]=ff[u](e,n)},$f=()=>{Jh={}};let hu={},pl={};const pp=()=>{hu={},pl={}},ud=(e,n)=>{const u=Uu(n.label,n.labelStyle),b=e.insert("g").attr("class","edgeLabel"),y=b.insert("g").attr("class","label");y.node().appendChild(u);let L=u.getBBox();if(qt(qe().flowchart.htmlLabels)){const V=u.children[0],ee=(0,d.Ys)(u);L=V.getBoundingClientRect(),ee.attr("width",L.width),ee.attr("height",L.height)}y.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),hu[n.id]=b,n.width=L.width,n.height=L.height;let P;if(n.startLabelLeft){const V=Uu(n.startLabelLeft,n.labelStyle),ee=e.insert("g").attr("class","edgeTerminals"),_e=ee.insert("g").attr("class","inner");P=_e.node().appendChild(V);const Le=V.getBBox();_e.attr("transform","translate("+-Le.width/2+", "+-Le.height/2+")"),pl[n.id]||(pl[n.id]={}),pl[n.id].startLeft=ee,Xf(P,n.startLabelLeft)}if(n.startLabelRight){const V=Uu(n.startLabelRight,n.labelStyle),ee=e.insert("g").attr("class","edgeTerminals"),_e=ee.insert("g").attr("class","inner");P=ee.node().appendChild(V),_e.node().appendChild(V);const Le=V.getBBox();_e.attr("transform","translate("+-Le.width/2+", "+-Le.height/2+")"),pl[n.id]||(pl[n.id]={}),pl[n.id].startRight=ee,Xf(P,n.startLabelRight)}if(n.endLabelLeft){const V=Uu(n.endLabelLeft,n.labelStyle),ee=e.insert("g").attr("class","edgeTerminals"),_e=ee.insert("g").attr("class","inner");P=_e.node().appendChild(V);const Le=V.getBBox();_e.attr("transform","translate("+-Le.width/2+", "+-Le.height/2+")"),ee.node().appendChild(V),pl[n.id]||(pl[n.id]={}),pl[n.id].endLeft=ee,Xf(P,n.endLabelLeft)}if(n.endLabelRight){const V=Uu(n.endLabelRight,n.labelStyle),ee=e.insert("g").attr("class","edgeTerminals"),_e=ee.insert("g").attr("class","inner");P=_e.node().appendChild(V);const Le=V.getBBox();_e.attr("transform","translate("+-Le.width/2+", "+-Le.height/2+")"),ee.node().appendChild(V),pl[n.id]||(pl[n.id]={}),pl[n.id].endRight=ee,Xf(P,n.endLabelRight)}return u};function Xf(e,n){qe().flowchart.htmlLabels&&e&&(e.style.width=n.length*9+"px",e.style.height="12px")}const Nh=(e,n)=>{Me.info("Moving label abc78 ",e.id,e.label,hu[e.id]);let u=n.updatedPath?n.updatedPath:n.originalPath;if(e.label){const b=hu[e.id];let y=e.x,L=e.y;if(u){const P=Ka.calcLabelPosition(u);Me.info("Moving label "+e.label+" from (",y,",",L,") to (",P.x,",",P.y,") abc78"),n.updatedPath&&(y=P.x,L=P.y)}b.attr("transform","translate("+y+", "+L+")")}if(e.startLabelLeft){const b=pl[e.id].startLeft;let y=e.x,L=e.y;if(u){const P=Ka.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",u);y=P.x,L=P.y}b.attr("transform","translate("+y+", "+L+")")}if(e.startLabelRight){const b=pl[e.id].startRight;let y=e.x,L=e.y;if(u){const P=Ka.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",u);y=P.x,L=P.y}b.attr("transform","translate("+y+", "+L+")")}if(e.endLabelLeft){const b=pl[e.id].endLeft;let y=e.x,L=e.y;if(u){const P=Ka.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",u);y=P.x,L=P.y}b.attr("transform","translate("+y+", "+L+")")}if(e.endLabelRight){const b=pl[e.id].endRight;let y=e.x,L=e.y;if(u){const P=Ka.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",u);y=P.x,L=P.y}b.attr("transform","translate("+y+", "+L+")")}},Rh=(e,n)=>{const u=e.x,b=e.y,y=Math.abs(n.x-u),L=Math.abs(n.y-b),P=e.width/2,V=e.height/2;return y>=P||L>=V},Ph=(e,n,u)=>{Me.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(n)}
  insidePoint : ${JSON.stringify(u)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const b=e.x,y=e.y,L=Math.abs(b-u.x),P=e.width/2;let V=u.x<n.x?P-L:P+L;const ee=e.height/2,_e=Math.abs(n.y-u.y),Le=Math.abs(n.x-u.x);if(Math.abs(y-n.y)*P>Math.abs(b-n.x)*ee){let Fe=u.y<n.y?n.y-ee-y:y-ee-n.y;V=Le*Fe/_e;const Re={x:u.x<n.x?u.x+V:u.x-Le+V,y:u.y<n.y?u.y+_e-Fe:u.y-_e+Fe};return V===0&&(Re.x=n.x,Re.y=n.y),Le===0&&(Re.x=n.x),_e===0&&(Re.y=n.y),Me.warn(`abc89 topp/bott calc, Q ${_e}, q ${Fe}, R ${Le}, r ${V}`,Re),Re}else{u.x<n.x?V=n.x-P-b:V=b-P-n.x;let Fe=_e*V/Le,Re=u.x<n.x?u.x+Le-V:u.x-Le+V,Ke=u.y<n.y?u.y+Fe:u.y-Fe;return Me.warn(`sides calc abc89, Q ${_e}, q ${Fe}, R ${Le}, r ${V}`,{_x:Re,_y:Ke}),V===0&&(Re=n.x,Ke=n.y),Le===0&&(Re=n.x),_e===0&&(Ke=n.y),{x:Re,y:Ke}}},Bh=(e,n)=>{Me.warn("abc88 cutPathAtIntersect",e,n);let u=[],b=e[0],y=!1;return e.forEach(L=>{if(Me.info("abc88 checking point",L,n),!Rh(n,L)&&!y){const P=Ph(n,b,L);Me.warn("abc88 inside",L,b,P),Me.warn("abc88 intersection",P);let V=!1;u.forEach(ee=>{V=V||ee.x===P.x&&ee.y===P.y}),u.some(ee=>ee.x===P.x&&ee.y===P.y)?Me.warn("abc88 no intersect",P,u):u.push(P),y=!0}else Me.warn("abc88 outside",L,b),b=L,y||u.push(L)}),Me.warn("abc88 returning points",u),u},u0=function(e,n,u,b,y,L){let P=u.points,V=!1;const ee=L.node(n.v);var _e=L.node(n.w);Me.info("abc88 InsertEdge: ",u),_e.intersect&&ee.intersect&&(P=P.slice(1,u.points.length-1),P.unshift(ee.intersect(P[0])),Me.info("Last point",P[P.length-1],_e,_e.intersect(P[P.length-1])),P.push(_e.intersect(P[P.length-1]))),u.toCluster&&(Me.info("to cluster abc88",b[u.toCluster]),P=Bh(u.points,b[u.toCluster].node),V=!0),u.fromCluster&&(Me.info("from cluster abc88",b[u.fromCluster]),P=Bh(P.reverse(),b[u.fromCluster].node).reverse(),V=!0);const Le=P.filter(hn=>!Number.isNaN(hn.y));let Fe;y==="graph"||y==="flowchart"?Fe=u.curve||d.$0Z:Fe=d.$0Z;const Re=(0,d.jvg)().x(function(hn){return hn.x}).y(function(hn){return hn.y}).curve(Fe);let Ke;switch(u.thickness){case"normal":Ke="edge-thickness-normal";break;case"thick":Ke="edge-thickness-thick";break;default:Ke=""}switch(u.pattern){case"solid":Ke+=" edge-pattern-solid";break;case"dotted":Ke+=" edge-pattern-dotted";break;case"dashed":Ke+=" edge-pattern-dashed";break}const Ut=e.append("path").attr("d",Re(Le)).attr("id",u.id).attr("class"," "+Ke+(u.classes?" "+u.classes:"")).attr("style",u.style);let sn="";switch((qe().flowchart.arrowMarkerAbsolute||qe().state.arrowMarkerAbsolute)&&(sn=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,sn=sn.replace(/\(/g,"\\("),sn=sn.replace(/\)/g,"\\)")),Me.info("arrowTypeStart",u.arrowTypeStart),Me.info("arrowTypeEnd",u.arrowTypeEnd),u.arrowTypeStart){case"arrow_cross":Ut.attr("marker-start","url("+sn+"#"+y+"-crossStart)");break;case"arrow_point":Ut.attr("marker-start","url("+sn+"#"+y+"-pointStart)");break;case"arrow_barb":Ut.attr("marker-start","url("+sn+"#"+y+"-barbStart)");break;case"arrow_circle":Ut.attr("marker-start","url("+sn+"#"+y+"-circleStart)");break;case"aggregation":Ut.attr("marker-start","url("+sn+"#"+y+"-aggregationStart)");break;case"extension":Ut.attr("marker-start","url("+sn+"#"+y+"-extensionStart)");break;case"composition":Ut.attr("marker-start","url("+sn+"#"+y+"-compositionStart)");break;case"dependency":Ut.attr("marker-start","url("+sn+"#"+y+"-dependencyStart)");break;case"lollipop":Ut.attr("marker-start","url("+sn+"#"+y+"-lollipopStart)");break}switch(u.arrowTypeEnd){case"arrow_cross":Ut.attr("marker-end","url("+sn+"#"+y+"-crossEnd)");break;case"arrow_point":Ut.attr("marker-end","url("+sn+"#"+y+"-pointEnd)");break;case"arrow_barb":Ut.attr("marker-end","url("+sn+"#"+y+"-barbEnd)");break;case"arrow_circle":Ut.attr("marker-end","url("+sn+"#"+y+"-circleEnd)");break;case"aggregation":Ut.attr("marker-end","url("+sn+"#"+y+"-aggregationEnd)");break;case"extension":Ut.attr("marker-end","url("+sn+"#"+y+"-extensionEnd)");break;case"composition":Ut.attr("marker-end","url("+sn+"#"+y+"-compositionEnd)");break;case"dependency":Ut.attr("marker-end","url("+sn+"#"+y+"-dependencyEnd)");break;case"lollipop":Ut.attr("marker-end","url("+sn+"#"+y+"-lollipopEnd)");break}let an={};return V&&(an.updatedPath=P),an.originalPath=u.points,an},Pp=(e,n,u,b)=>{Me.info("Graph in recursive render: XXX",Je.c(n),b);const y=n.graph().rankdir;Me.trace("Dir in recursive render - dir:",y);const L=e.insert("g").attr("class","root");n.nodes()?Me.info("Recursive render XXX",n.nodes()):Me.info("No nodes found for",n),n.edges().length>0&&Me.trace("Recursive edges",n.edge(n.edges()[0]));const P=L.insert("g").attr("class","clusters"),V=L.insert("g").attr("class","edgePaths"),ee=L.insert("g").attr("class","edgeLabels"),_e=L.insert("g").attr("class","nodes");n.nodes().forEach(function(Fe){const Re=n.node(Fe);if(b!==void 0){const Ke=JSON.parse(JSON.stringify(b.clusterData));Me.info("Setting data for cluster XXX (",Fe,") ",Ke,b),n.setNode(b.id,Ke),n.parent(Fe)||(Me.trace("Setting parent",Fe,b.id),n.setParent(Fe,b.id,Ke))}if(Me.info("(Insert) Node XXX"+Fe+": "+JSON.stringify(n.node(Fe))),Re&&Re.clusterNode){Me.info("Cluster identified",Fe,Re.width,n.node(Fe));const Ke=Pp(_e,Re.graph,u,n.node(Fe)),Ut=Ke.elem;Xl(Re,Ut),Re.diff=Ke.diff||0,Me.info("Node bounds (abc123)",Fe,Re,Re.width,Re.x,Re.y),Lc(Ut,Re),Me.warn("Recursive render complete ",Ut,Re)}else n.children(Fe).length>0?(Me.info("Cluster - the non recursive path XXX",Fe,Re.id,Re,n),Me.info(qh(Re.id,n)),jo[Re.id]={id:qh(Re.id,n),node:Re}):(Me.info("Node - the non recursive path",Fe,Re.id,Re),_c(_e,n.node(Fe),y))}),n.edges().forEach(function(Fe){const Re=n.edge(Fe.v,Fe.w,Fe.name);Me.info("Edge "+Fe.v+" -> "+Fe.w+": "+JSON.stringify(Fe)),Me.info("Edge "+Fe.v+" -> "+Fe.w+": ",Fe," ",JSON.stringify(n.edge(Fe))),Me.info("Fix",jo,"ids:",Fe.v,Fe.w,"Translateing: ",jo[Fe.v],jo[Fe.w]),ud(ee,Re)}),n.edges().forEach(function(Fe){Me.info("Edge "+Fe.v+" -> "+Fe.w+": "+JSON.stringify(Fe))}),Me.info("#############################################"),Me.info("###                Layout                 ###"),Me.info("#############################################"),Me.info(n),(0,lt.bK)(n),Me.info("Graph after layout:",Je.c(n));let Le=0;return $h(n).forEach(function(Fe){const Re=n.node(Fe);Me.info("Position "+Fe+": "+JSON.stringify(n.node(Fe))),Me.info("Position "+Fe+": ("+Re.x,","+Re.y,") width: ",Re.width," height: ",Re.height),Re&&Re.clusterNode?cd(Re):n.children(Fe).length>0?(qf(P,Re),jo[Re.id].node=Re):cd(Re)}),n.edges().forEach(function(Fe){const Re=n.edge(Fe);Me.info("Edge "+Fe.v+" -> "+Fe.w+": "+JSON.stringify(Re),Re);const Ke=u0(V,Fe,Re,jo,u,n);Nh(Re,Ke)}),n.nodes().forEach(function(Fe){const Re=n.node(Fe);Me.info(Fe,Re.type,Re.diff),Re.type==="group"&&(Le=Re.diff)}),{elem:L,diff:Le}},Fh=(e,n,u,b,y)=>{fp(e,u,b,y),uf(),pp(),$f(),H0(),Me.warn("Graph at first:",Je.c(n)),lf(n),Me.warn("Graph after:",Je.c(n)),Pp(e,n,b)},Bp=e=>Ee.sanitizeText(e,qe());let Fp={dividerMargin:10,padding:5,textHeight:10};const vp=function(e,n,u,b){const y=Object.keys(e);Me.info("keys:",y),Me.info(e),y.forEach(function(L){const P=e[L];let V="";P.cssClasses.length>0&&(V=V+" "+P.cssClasses.join(" "));const ee={labelStyle:""};let _e=P.text!==void 0?P.text:P.id,Le=0,Fe="";switch(P.type){case"class":Fe="class_box";break;default:Fe="class_box"}n.setNode(P.id,{labelStyle:ee.labelStyle,shape:Fe,labelText:Bp(_e),classData:P,rx:Le,ry:Le,class:V,style:ee.style,id:P.id,domId:P.domId,tooltip:b.db.getTooltip(P.id)||"",haveCallback:P.haveCallback,link:P.link,width:P.type==="group"?500:void 0,type:P.type,padding:qe().flowchart.padding}),Me.info("setNode",{labelStyle:ee.labelStyle,shape:Fe,labelText:_e,rx:Le,ry:Le,class:V,style:ee.style,id:P.id,width:P.type==="group"?500:void 0,type:P.type,padding:qe().flowchart.padding})})},gp=function(e,n,u,b){Me.info(e),e.forEach(function(y,L){const P=y;let V="";const ee={labelStyle:"",style:""};let _e=P.text,Le=0,Fe="note";if(n.setNode(P.id,{labelStyle:ee.labelStyle,shape:Fe,labelText:Bp(_e),noteData:P,rx:Le,ry:Le,class:V,style:ee.style,id:P.id,domId:P.id,tooltip:"",type:"note",padding:qe().flowchart.padding}),Me.info("setNode",{labelStyle:ee.labelStyle,shape:Fe,labelText:_e,rx:Le,ry:Le,style:ee.style,id:P.id,type:"note",padding:qe().flowchart.padding}),!P.class||!(P.class in b))return;const Re=u+L,Ke={};Ke.classes="relation",Ke.pattern="dotted",Ke.id=`edgeNote${Re}`,Ke.arrowhead="none",Me.info(`Note edge: ${JSON.stringify(Ke)}, ${JSON.stringify(P)}`),Ke.startLabelRight="",Ke.endLabelLeft="",Ke.arrowTypeStart="none",Ke.arrowTypeEnd="none";let Ut="fill:none",sn="";Ke.style=Ut,Ke.labelStyle=sn,Ke.curve=ll(Fp.curve,d.c_6),n.setEdge(P.id,P.class,Ke,Re)})},Zp=function(e,n){const u=qe().flowchart;let b=0;e.forEach(function(y){b++;const L={};L.classes="relation",L.pattern=y.relation.lineType==1?"dashed":"solid",L.id="id"+b,y.type==="arrow_open"?L.arrowhead="none":L.arrowhead="normal",Me.info(L,y),L.startLabelRight=y.relationTitle1==="none"?"":y.relationTitle1,L.endLabelLeft=y.relationTitle2==="none"?"":y.relationTitle2,L.arrowTypeStart=yp(y.relation.type1),L.arrowTypeEnd=yp(y.relation.type2);let P="",V="";if(y.style!==void 0){const ee=pc(y.style);P=ee.style,V=ee.labelStyle}else P="fill:none";L.style=P,L.labelStyle=V,y.interpolate!==void 0?L.curve=ll(y.interpolate,d.c_6):e.defaultInterpolate!==void 0?L.curve=ll(e.defaultInterpolate,d.c_6):L.curve=ll(u.curve,d.c_6),y.text=y.title,y.text===void 0?y.style!==void 0&&(L.arrowheadStyle="fill: #333"):(L.arrowheadStyle="fill: #333",L.labelpos="c",qe().flowchart.htmlLabels?(L.labelType="html",L.label='<span class="edgeLabel">'+y.text+"</span>"):(L.labelType="text",L.label=y.text.replace(Ee.lineBreakRegex,`
`),y.style===void 0&&(L.style=L.style||"stroke: #333; stroke-width: 1.5px;fill:none"),L.labelStyle=L.labelStyle.replace("color:","fill:"))),n.setEdge(y.id1,y.id2,L,b)})},mp=function(e){Object.keys(e).forEach(function(u){Fp[u]=e[u]})},bp=function(e,n,u,b){Me.info("Drawing class - ",n);const y=qe().flowchart,L=qe().securityLevel;Me.info("config:",y);const P=y.nodeSpacing||50,V=y.rankSpacing||50,ee=new Te.k({multigraph:!0,compound:!0}).setGraph({rankdir:b.db.getDirection(),nodesep:P,ranksep:V,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),_e=b.db.getClasses(),Le=b.db.getRelations(),Fe=b.db.getNotes();Me.info(Le),vp(_e,ee,n,b),Zp(Le,ee),gp(Fe,ee,Le.length+1,_e);let Re;L==="sandbox"&&(Re=(0,d.Ys)("#i"+n));const Ke=L==="sandbox"?(0,d.Ys)(Re.nodes()[0].contentDocument.body):(0,d.Ys)("body"),Ut=Ke.select(`[id="${n}"]`),sn=Ke.select("#"+n+" g");if(Fh(sn,ee,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",n),Ka.insertTitle(Ut,"classTitleText",y.titleTopMargin,b.db.getDiagramTitle()),oo(ee,Ut,y.diagramPadding,y.useMaxWidth),!y.htmlLabels){const an=L==="sandbox"?Re.nodes()[0].contentDocument:document,hn=an.querySelectorAll('[id="'+n+'"] .edgeLabel .label');for(const Xt of hn){const zn=Xt.getBBox(),nr=an.createElementNS("http://www.w3.org/2000/svg","rect");nr.setAttribute("rx",0),nr.setAttribute("ry",0),nr.setAttribute("width",zn.width),nr.setAttribute("height",zn.height),Xt.insertBefore(nr,Xt.firstChild)}}};function yp(e){let n;switch(e){case 0:n="aggregation";break;case 1:n="extension";break;case 2:n="composition";break;case 3:n="dependency";break;case 4:n="lollipop";break;default:n="none"}return n}const Qf={setConf:mp,draw:bp};var Zh=function(){var e=function(kn,At,Ln,$e){for(Ln=Ln||{},$e=kn.length;$e--;Ln[kn[$e]]=At);return Ln},n=[1,2],u=[1,5],b=[6,9,11,23,25,27,29,30,31,51],y=[1,17],L=[1,18],P=[1,19],V=[1,20],ee=[1,21],_e=[1,22],Le=[1,25],Fe=[1,30],Re=[1,31],Ke=[1,32],Ut=[1,33],sn=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],an=[1,45],hn=[30,31,48,49],Xt=[4,6,9,11,23,25,27,29,30,31,51],zn=[44,45,46,47],nr=[22,37],kr=[1,65],$r=[1,64],ir=[22,37,39,41],$n={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(At,Ln,$e,sr,ft,or,na){var Sr=or.length-1;switch(ft){case 1:break;case 3:this.$=[];break;case 4:or[Sr-1].push(or[Sr]),this.$=or[Sr-1];break;case 5:case 6:this.$=or[Sr];break;case 7:case 8:this.$=[];break;case 12:sr.addEntity(or[Sr-4]),sr.addEntity(or[Sr-2]),sr.addRelationship(or[Sr-4],or[Sr],or[Sr-2],or[Sr-3]);break;case 13:sr.addEntity(or[Sr-3]),sr.addAttributes(or[Sr-3],or[Sr-1]);break;case 14:sr.addEntity(or[Sr-2]);break;case 15:sr.addEntity(or[Sr]);break;case 16:case 17:this.$=or[Sr].trim(),sr.setAccTitle(this.$);break;case 18:case 19:this.$=or[Sr].trim(),sr.setAccDescription(this.$);break;case 20:case 43:this.$=or[Sr];break;case 21:case 41:case 42:this.$=or[Sr].replace(/"/g,"");break;case 22:case 30:this.$=[or[Sr]];break;case 23:or[Sr].push(or[Sr-1]),this.$=or[Sr];break;case 24:this.$={attributeType:or[Sr-1],attributeName:or[Sr]};break;case 25:this.$={attributeType:or[Sr-2],attributeName:or[Sr-1],attributeKeyTypeList:or[Sr]};break;case 26:this.$={attributeType:or[Sr-2],attributeName:or[Sr-1],attributeComment:or[Sr]};break;case 27:this.$={attributeType:or[Sr-3],attributeName:or[Sr-2],attributeKeyTypeList:or[Sr-1],attributeComment:or[Sr]};break;case 28:case 29:case 32:this.$=or[Sr];break;case 31:or[Sr-2].push(or[Sr]),this.$=or[Sr-2];break;case 33:this.$=or[Sr].replace(/"/g,"");break;case 34:this.$={cardA:or[Sr],relType:or[Sr-1],cardB:or[Sr-2]};break;case 35:this.$=sr.Cardinality.ZERO_OR_ONE;break;case 36:this.$=sr.Cardinality.ZERO_OR_MORE;break;case 37:this.$=sr.Cardinality.ONE_OR_MORE;break;case 38:this.$=sr.Cardinality.ONLY_ONE;break;case 39:this.$=sr.Identification.NON_IDENTIFYING;break;case 40:this.$=sr.Identification.IDENTIFYING;break;case 44:sr.parseDirective("%%{","open_directive");break;case 45:sr.parseDirective(or[Sr],"type_directive");break;case 46:or[Sr]=or[Sr].trim().replace(/'/g,'"'),sr.parseDirective(or[Sr],"arg_directive");break;case 47:sr.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:n,7:3,12:4,51:u},{1:[3]},e(b,[2,3],{5:6}),{3:7,4:n,7:3,12:4,51:u},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:y,25:L,27:P,29:V,30:ee,31:_e,51:u},{1:[2,2]},{14:23,15:[1,24],54:Le},e([15,54],[2,45]),e(b,[2,8],{1:[2,1]}),e(b,[2,4]),{7:15,10:26,12:4,17:16,23:y,25:L,27:P,29:V,30:ee,31:_e,51:u},e(b,[2,6]),e(b,[2,7]),e(b,[2,11]),e(b,[2,15],{18:27,42:29,20:[1,28],44:Fe,45:Re,46:Ke,47:Ut}),{24:[1,34]},{26:[1,35]},{28:[1,36]},e(b,[2,19]),e(sn,[2,20]),e(sn,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},e(b,[2,5]),{17:40,30:ee,31:_e},{21:41,22:[1,42],32:43,33:44,37:an},{43:46,48:[1,47],49:[1,48]},e(hn,[2,35]),e(hn,[2,36]),e(hn,[2,37]),e(hn,[2,38]),e(b,[2,16]),e(b,[2,17]),e(b,[2,18]),e(Xt,[2,9]),{14:49,54:Le},{54:[2,46]},{15:[1,50]},{22:[1,51]},e(b,[2,14]),{21:52,22:[2,22],32:43,33:44,37:an},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:Fe,45:Re,46:Ke,47:Ut},e(zn,[2,39]),e(zn,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},e(b,[2,13]),{22:[2,23]},e(nr,[2,24],{35:61,36:62,38:63,40:kr,41:$r}),e([22,37,40,41],[2,29]),e([30,31],[2,34]),e(Xt,[2,10]),e(b,[2,12]),e(b,[2,41]),e(b,[2,42]),e(b,[2,43]),e(nr,[2,25],{36:66,39:[1,67],41:$r}),e(nr,[2,26]),e(ir,[2,30]),e(nr,[2,33]),e(ir,[2,32]),e(nr,[2,27]),{38:68,40:kr},e(ir,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(At,Ln){if(Ln.recoverable)this.trace(At);else{var $e=new Error(At);throw $e.hash=Ln,$e}},parse:function(At){var Ln=this,$e=[0],sr=[],ft=[null],or=[],na=this.table,Sr="",Zr=0,zr=0,Nr=2,Ir=1,Oi=or.slice.call(arguments,1),ki=Object.create(this.lexer),mr={yy:{}};for(var Ba in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ba)&&(mr.yy[Ba]=this.yy[Ba]);ki.setInput(At,mr.yy),mr.yy.lexer=ki,mr.yy.parser=this,typeof ki.yylloc=="undefined"&&(ki.yylloc={});var vr=ki.yylloc;or.push(vr);var hi=ki.options&&ki.options.ranges;typeof mr.yy.parseError=="function"?this.parseError=mr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Mr(){var zi;return zi=sr.pop()||ki.lex()||Ir,typeof zi!="number"&&(zi instanceof Array&&(sr=zi,zi=sr.pop()),zi=Ln.symbols_[zi]||zi),zi}for(var Er,Hn,Cn,yr,un={},li,zt,Va,_r;;){if(Hn=$e[$e.length-1],this.defaultActions[Hn]?Cn=this.defaultActions[Hn]:((Er===null||typeof Er=="undefined")&&(Er=Mr()),Cn=na[Hn]&&na[Hn][Er]),typeof Cn=="undefined"||!Cn.length||!Cn[0]){var fa="";_r=[];for(li in na[Hn])this.terminals_[li]&&li>Nr&&_r.push("'"+this.terminals_[li]+"'");ki.showPosition?fa="Parse error on line "+(Zr+1)+`:
`+ki.showPosition()+`
Expecting `+_r.join(", ")+", got '"+(this.terminals_[Er]||Er)+"'":fa="Parse error on line "+(Zr+1)+": Unexpected "+(Er==Ir?"end of input":"'"+(this.terminals_[Er]||Er)+"'"),this.parseError(fa,{text:ki.match,token:this.terminals_[Er]||Er,line:ki.yylineno,loc:vr,expected:_r})}if(Cn[0]instanceof Array&&Cn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Hn+", token: "+Er);switch(Cn[0]){case 1:$e.push(Er),ft.push(ki.yytext),or.push(ki.yylloc),$e.push(Cn[1]),Er=null,zr=ki.yyleng,Sr=ki.yytext,Zr=ki.yylineno,vr=ki.yylloc;break;case 2:if(zt=this.productions_[Cn[1]][1],un.$=ft[ft.length-zt],un._$={first_line:or[or.length-(zt||1)].first_line,last_line:or[or.length-1].last_line,first_column:or[or.length-(zt||1)].first_column,last_column:or[or.length-1].last_column},hi&&(un._$.range=[or[or.length-(zt||1)].range[0],or[or.length-1].range[1]]),yr=this.performAction.apply(un,[Sr,zr,Zr,mr.yy,Cn[1],ft,or].concat(Oi)),typeof yr!="undefined")return yr;zt&&($e=$e.slice(0,-1*zt*2),ft=ft.slice(0,-1*zt),or=or.slice(0,-1*zt)),$e.push(this.productions_[Cn[1]][0]),ft.push(un.$),or.push(un._$),Va=na[$e[$e.length-2]][$e[$e.length-1]],$e.push(Va);break;case 3:return!0}}return!0}},cn=function(){var kn={EOF:1,parseError:function(Ln,$e){if(this.yy.parser)this.yy.parser.parseError(Ln,$e);else throw new Error(Ln)},setInput:function(At,Ln){return this.yy=Ln||this.yy||{},this._input=At,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var At=this._input[0];this.yytext+=At,this.yyleng++,this.offset++,this.match+=At,this.matched+=At;var Ln=At.match(/(?:\r\n?|\n).*/g);return Ln?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),At},unput:function(At){var Ln=At.length,$e=At.split(/(?:\r\n?|\n)/g);this._input=At+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ln),this.offset-=Ln;var sr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$e.length-1&&(this.yylineno-=$e.length-1);var ft=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$e?($e.length===sr.length?this.yylloc.first_column:0)+sr[sr.length-$e.length].length-$e[0].length:this.yylloc.first_column-Ln},this.options.ranges&&(this.yylloc.range=[ft[0],ft[0]+this.yyleng-Ln]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(At){this.unput(this.match.slice(At))},pastInput:function(){var At=this.matched.substr(0,this.matched.length-this.match.length);return(At.length>20?"...":"")+At.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var At=this.match;return At.length<20&&(At+=this._input.substr(0,20-At.length)),(At.substr(0,20)+(At.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var At=this.pastInput(),Ln=new Array(At.length+1).join("-");return At+this.upcomingInput()+`
`+Ln+"^"},test_match:function(At,Ln){var $e,sr,ft;if(this.options.backtrack_lexer&&(ft={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ft.yylloc.range=this.yylloc.range.slice(0))),sr=At[0].match(/(?:\r\n?|\n).*/g),sr&&(this.yylineno+=sr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:sr?sr[sr.length-1].length-sr[sr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+At[0].length},this.yytext+=At[0],this.match+=At[0],this.matches=At,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(At[0].length),this.matched+=At[0],$e=this.performAction.call(this,this.yy,this,Ln,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$e)return $e;if(this._backtrack){for(var or in ft)this[or]=ft[or];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var At,Ln,$e,sr;this._more||(this.yytext="",this.match="");for(var ft=this._currentRules(),or=0;or<ft.length;or++)if($e=this._input.match(this.rules[ft[or]]),$e&&(!Ln||$e[0].length>Ln[0].length)){if(Ln=$e,sr=or,this.options.backtrack_lexer){if(At=this.test_match($e,ft[or]),At!==!1)return At;if(this._backtrack){Ln=!1;continue}else return!1}else if(!this.options.flex)break}return Ln?(At=this.test_match(Ln,ft[sr]),At!==!1?At:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ln=this.next();return Ln||this.lex()},begin:function(Ln){this.conditionStack.push(Ln)},popState:function(){var Ln=this.conditionStack.length-1;return Ln>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ln){return Ln=this.conditionStack.length-1-Math.abs(Ln||0),Ln>=0?this.conditionStack[Ln]:"INITIAL"},pushState:function(Ln){this.begin(Ln)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ln,$e,sr,ft){switch(sr){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 50;case 19:return 4;case 20:return this.begin("block"),20;case 21:return 39;case 22:break;case 23:return 40;case 24:return 37;case 25:return 37;case 26:return 41;case 27:break;case 28:return this.popState(),22;case 29:return $e.yytext[0];case 30:return 44;case 31:return 46;case 32:return 46;case 33:return 46;case 34:return 44;case 35:return 44;case 36:return 45;case 37:return 45;case 38:return 45;case 39:return 45;case 40:return 45;case 41:return 46;case 42:return 45;case 43:return 46;case 44:return 47;case 45:return 47;case 46:return 47;case 47:return 47;case 48:return 44;case 49:return 45;case 50:return 46;case 51:return 48;case 52:return 49;case 53:return 49;case 54:return 48;case 55:return 48;case 56:return 48;case 57:return 30;case 58:return $e.yytext[0];case 59:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28,29],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}};return kn}();$n.lexer=cn;function Sn(){this.yy={}}return Sn.prototype=$n,$n.Parser=Sn,new Sn}();Zh.parser=Zh;const bv=Zh,Vv=e=>e.match(/^\s*erDiagram/)!==null;let zp={},d0=[];const yv={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Yv={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},f0=function(e,n,u){cc.parseDirective(this,e,n,u)},_v=function(e){return zp[e]===void 0&&(zp[e]={attributes:[]},Me.info("Added new entity :",e)),zp[e]},Kv={Cardinality:yv,Identification:Yv,parseDirective:f0,getConfig:()=>qe().er,addEntity:_v,addAttributes:function(e,n){let u=_v(e),b;for(b=n.length-1;b>=0;b--)u.attributes.push(n[b]),Me.debug("Added attribute ",n[b].attributeName)},getEntities:()=>zp,addRelationship:function(e,n,u,b){let y={entityA:e,roleA:n,entityB:u,relSpec:b};d0.push(y),Me.debug("Added new relationship :",y)},getRelationships:()=>d0,clear:function(){zp={},d0=[],rs()},setAccTitle:Oa,getAccTitle:Wo,setAccDescription:bc,getAccDescription:oc,setDiagramTitle:ou,getDiagramTitle:at},hh={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},ph={ERMarkers:hh,insertMarkers:function(e,n){let u;e.append("defs").append("marker").attr("id",hh.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",hh.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),u=e.append("defs").append("marker").attr("id",hh.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),u.append("circle").attr("stroke",n.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),u.append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M9,0 L9,18"),u=e.append("defs").append("marker").attr("id",hh.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),u.append("circle").attr("stroke",n.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),u.append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",hh.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",hh.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),u=e.append("defs").append("marker").attr("id",hh.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),u.append("circle").attr("stroke",n.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),u.append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),u=e.append("defs").append("marker").attr("id",hh.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),u.append("circle").attr("stroke",n.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),u.append("path").attr("stroke",n.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}},qv=/[^\dA-Za-z](\W)*/g;let qc={},h0=new Map;const l=function(e){const n=Object.keys(e);for(const u of n)qc[u]=e[u]},A=(e,n,u)=>{const b=qc.entityPadding/3,y=qc.entityPadding/3,L=qc.fontSize*.85,P=n.node().getBBox(),V=[];let ee=!1,_e=!1,Le=0,Fe=0,Re=0,Ke=0,Ut=P.height+b*2,sn=1;u.forEach(zn=>{zn.attributeKeyTypeList!==void 0&&zn.attributeKeyTypeList.length>0&&(ee=!0),zn.attributeComment!==void 0&&(_e=!0)}),u.forEach(zn=>{const nr=`${n.node().id}-attr-${sn}`;let kr=0;const $r=Zt(zn.attributeType),ir=e.append("text").classed("er entityLabel",!0).attr("id",`${nr}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",qe().fontFamily).style("font-size",L+"px").text($r),$n=e.append("text").classed("er entityLabel",!0).attr("id",`${nr}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",qe().fontFamily).style("font-size",L+"px").text(zn.attributeName),cn={};cn.tn=ir,cn.nn=$n;const Sn=ir.node().getBBox(),kn=$n.node().getBBox();if(Le=Math.max(Le,Sn.width),Fe=Math.max(Fe,kn.width),kr=Math.max(Sn.height,kn.height),ee){const At=zn.attributeKeyTypeList!==void 0?zn.attributeKeyTypeList.join(","):"",Ln=e.append("text").classed("er entityLabel",!0).attr("id",`${nr}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",qe().fontFamily).style("font-size",L+"px").text(At);cn.kn=Ln;const $e=Ln.node().getBBox();Re=Math.max(Re,$e.width),kr=Math.max(kr,$e.height)}if(_e){const At=e.append("text").classed("er entityLabel",!0).attr("id",`${nr}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",qe().fontFamily).style("font-size",L+"px").text(zn.attributeComment||"");cn.cn=At;const Ln=At.node().getBBox();Ke=Math.max(Ke,Ln.width),kr=Math.max(kr,Ln.height)}cn.height=kr,V.push(cn),Ut+=kr+b*2,sn+=1});let an=4;ee&&(an+=2),_e&&(an+=2);const hn=Le+Fe+Re+Ke,Xt={width:Math.max(qc.minEntityWidth,Math.max(P.width+qc.entityPadding*2,hn+y*an)),height:u.length>0?Ut:Math.max(qc.minEntityHeight,P.height+qc.entityPadding*2)};if(u.length>0){const zn=Math.max(0,(Xt.width-hn-y*an)/(an/2));n.attr("transform","translate("+Xt.width/2+","+(b+P.height/2)+")");let nr=P.height+b*2,kr="attributeBoxOdd";V.forEach($r=>{const ir=nr+b+$r.height/2;$r.tn.attr("transform","translate("+y+","+ir+")");const $n=e.insert("rect","#"+$r.tn.node().id).classed(`er ${kr}`,!0).attr("x",0).attr("y",nr).attr("width",Le+y*2+zn).attr("height",$r.height+b*2),cn=parseFloat($n.attr("x"))+parseFloat($n.attr("width"));$r.nn.attr("transform","translate("+(cn+y)+","+ir+")");const Sn=e.insert("rect","#"+$r.nn.node().id).classed(`er ${kr}`,!0).attr("x",cn).attr("y",nr).attr("width",Fe+y*2+zn).attr("height",$r.height+b*2);let kn=parseFloat(Sn.attr("x"))+parseFloat(Sn.attr("width"));if(ee){$r.kn.attr("transform","translate("+(kn+y)+","+ir+")");const At=e.insert("rect","#"+$r.kn.node().id).classed(`er ${kr}`,!0).attr("x",kn).attr("y",nr).attr("width",Re+y*2+zn).attr("height",$r.height+b*2);kn=parseFloat(At.attr("x"))+parseFloat(At.attr("width"))}_e&&($r.cn.attr("transform","translate("+(kn+y)+","+ir+")"),e.insert("rect","#"+$r.cn.node().id).classed(`er ${kr}`,"true").attr("x",kn).attr("y",nr).attr("width",Ke+y*2+zn).attr("height",$r.height+b*2)),nr+=$r.height+b*2,kr=kr==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Xt.height=Math.max(qc.minEntityHeight,Ut),n.attr("transform","translate("+Xt.width/2+","+Xt.height/2+")");return Xt},re=function(e,n,u){const b=Object.keys(n);let y;return b.forEach(function(L){const P=Bn(L,"entity");h0.set(L,P);const V=e.append("g").attr("id",P);y=y===void 0?P:y;const ee="text-"+P,_e=V.append("text").classed("er entityLabel",!0).attr("id",ee).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",qe().fontFamily).style("font-size",qc.fontSize+"px").text(L),{width:Le,height:Fe}=A(V,_e,n[L].attributes),Ke=V.insert("rect","#"+ee).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",Le).attr("height",Fe).node().getBBox();u.setNode(P,{width:Ke.width,height:Ke.height,shape:"rect",id:P})}),y},xe=function(e,n){n.nodes().forEach(function(u){u!==void 0&&n.node(u)!==void 0&&e.select("#"+u).attr("transform","translate("+(n.node(u).x-n.node(u).width/2)+","+(n.node(u).y-n.node(u).height/2)+" )")})},pt=function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},yt=function(e,n){return e.forEach(function(u){n.setEdge(h0.get(u.entityA),h0.get(u.entityB),{relationship:u},pt(u))}),e};let Et=0;const Pt=function(e,n,u,b,y){Et++;const L=u.edge(h0.get(n.entityA),h0.get(n.entityB),pt(n)),P=(0,d.jvg)().x(function(Ut){return Ut.x}).y(function(Ut){return Ut.y}).curve(d.$0Z),V=e.insert("path","#"+b).classed("er relationshipLine",!0).attr("d",P(L.points)).style("stroke",qc.stroke).style("fill","none");n.relSpec.relType===y.db.Identification.NON_IDENTIFYING&&V.attr("stroke-dasharray","8,8");let ee="";switch(qc.arrowMarkerAbsolute&&(ee=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,ee=ee.replace(/\(/g,"\\("),ee=ee.replace(/\)/g,"\\)")),n.relSpec.cardA){case y.db.Cardinality.ZERO_OR_ONE:V.attr("marker-end","url("+ee+"#"+ph.ERMarkers.ZERO_OR_ONE_END+")");break;case y.db.Cardinality.ZERO_OR_MORE:V.attr("marker-end","url("+ee+"#"+ph.ERMarkers.ZERO_OR_MORE_END+")");break;case y.db.Cardinality.ONE_OR_MORE:V.attr("marker-end","url("+ee+"#"+ph.ERMarkers.ONE_OR_MORE_END+")");break;case y.db.Cardinality.ONLY_ONE:V.attr("marker-end","url("+ee+"#"+ph.ERMarkers.ONLY_ONE_END+")");break}switch(n.relSpec.cardB){case y.db.Cardinality.ZERO_OR_ONE:V.attr("marker-start","url("+ee+"#"+ph.ERMarkers.ZERO_OR_ONE_START+")");break;case y.db.Cardinality.ZERO_OR_MORE:V.attr("marker-start","url("+ee+"#"+ph.ERMarkers.ZERO_OR_MORE_START+")");break;case y.db.Cardinality.ONE_OR_MORE:V.attr("marker-start","url("+ee+"#"+ph.ERMarkers.ONE_OR_MORE_START+")");break;case y.db.Cardinality.ONLY_ONE:V.attr("marker-start","url("+ee+"#"+ph.ERMarkers.ONLY_ONE_START+")");break}const _e=V.node().getTotalLength(),Le=V.node().getPointAtLength(_e*.5),Fe="rel"+Et,Ke=e.append("text").classed("er relationshipLabel",!0).attr("id",Fe).attr("x",Le.x).attr("y",Le.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",qe().fontFamily).style("font-size",qc.fontSize+"px").text(n.roleA).node().getBBox();e.insert("rect","#"+Fe).classed("er relationshipLabelBox",!0).attr("x",Le.x-Ke.width/2).attr("y",Le.y-Ke.height/2).attr("width",Ke.width).attr("height",Ke.height)},vn=function(e,n,u,b){qc=qe().er,Me.info("Drawing ER diagram");const y=qe().securityLevel;let L;y==="sandbox"&&(L=(0,d.Ys)("#i"+n));const V=(y==="sandbox"?(0,d.Ys)(L.nodes()[0].contentDocument.body):(0,d.Ys)("body")).select(`[id='${n}']`);ph.insertMarkers(V,qc);let ee;ee=new Te.k({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:qc.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const _e=re(V,b.db.getEntities(),ee),Le=yt(b.db.getRelationships(),ee);(0,lt.bK)(ee),xe(V,ee),Le.forEach(function(sn){Pt(V,sn,ee,_e,b)});const Fe=qc.diagramPadding;Ka.insertTitle(V,"entityTitleText",qc.titleTopMargin,b.db.getDiagramTitle());const Re=V.node().getBBox(),Ke=Re.width+Fe*2,Ut=Re.height+Fe*2;Ra(V,Ut,Ke,qc.useMaxWidth),V.attr("viewBox",`${Re.x-Fe} ${Re.y-Fe} ${Ke} ${Ut}`)},gn="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function Bn(e="",n=""){const u=e.replace(qv,"");return`${Dr(n)}${Dr(u)}${it(e,gn)}`}function Dr(e=""){return e.length>0?`${e}-`:""}const gr={setConf:l,draw:vn};var Ur=function(){var e=function(Cp,no,mo,ts){for(mo=mo||{},ts=Cp.length;ts--;mo[Cp[ts]]=no);return mo},n=[1,9],u=[1,7],b=[1,6],y=[1,8],L=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],P=[2,10],V=[1,20],ee=[1,21],_e=[1,22],Le=[1,23],Fe=[1,30],Re=[1,32],Ke=[1,33],Ut=[1,34],sn=[1,62],an=[1,48],hn=[1,52],Xt=[1,36],zn=[1,37],nr=[1,38],kr=[1,39],$r=[1,40],ir=[1,56],$n=[1,63],cn=[1,51],Sn=[1,53],kn=[1,55],At=[1,59],Ln=[1,60],$e=[1,41],sr=[1,42],ft=[1,43],or=[1,44],na=[1,61],Sr=[1,50],Zr=[1,54],zr=[1,57],Nr=[1,58],Ir=[1,49],Oi=[1,66],ki=[1,71],mr=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ba=[1,75],vr=[1,74],hi=[1,76],Mr=[20,21,23,81,82],Er=[1,99],Hn=[1,104],Cn=[1,107],yr=[1,108],un=[1,101],li=[1,106],zt=[1,109],Va=[1,102],_r=[1,114],fa=[1,113],zi=[1,103],Ei=[1,105],pi=[1,110],Si=[1,111],vi=[1,112],Ii=[1,115],il=[20,21,22,23,81,82],as=[20,21,22,23,53,81,82],to=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Ja=[20,21,23],qo=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],uc=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],ws=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],ho=[1,149],La=[1,157],Ni=[1,158],Mi=[1,159],ca=[1,160],si=[1,144],Fa=[1,145],Br=[1,141],Vo=[1,152],ti=[1,153],Fo=[1,154],os=[1,155],hs=[1,156],ss=[1,161],ps=[1,162],co=[1,147],Zo=[1,150],Jo=[1,146],es=[1,143],cv=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Uv=[1,165],Xc=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Ro=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],zd=[12,21,22,24],k0=[22,106],Vu=[1,250],Ed=[1,245],Qc=[1,246],pf=[1,254],Cd=[1,251],Wd=[1,248],Jc=[1,247],mh=[1,249],bh=[1,252],yh=[1,253],_h=[1,255],Ep=[1,273],mb=[20,21,23,106],Of=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Kg={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(no,mo,ts,ga,kc,Xn,uv){var pr=Xn.length-1;switch(kc){case 5:ga.parseDirective("%%{","open_directive");break;case 6:ga.parseDirective(Xn[pr],"type_directive");break;case 7:Xn[pr]=Xn[pr].trim().replace(/'/g,'"'),ga.parseDirective(Xn[pr],"arg_directive");break;case 8:ga.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Xn[pr])||Xn[pr].length>0)&&Xn[pr-1].push(Xn[pr]),this.$=Xn[pr-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Xn[pr];break;case 19:ga.setDirection("TB"),this.$="TB";break;case 20:ga.setDirection(Xn[pr-1]),this.$=Xn[pr-1];break;case 35:this.$=Xn[pr-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=ga.addSubGraph(Xn[pr-6],Xn[pr-1],Xn[pr-4]);break;case 42:this.$=ga.addSubGraph(Xn[pr-3],Xn[pr-1],Xn[pr-3]);break;case 43:this.$=ga.addSubGraph(void 0,Xn[pr-1],void 0);break;case 45:this.$=Xn[pr].trim(),ga.setAccTitle(this.$);break;case 46:case 47:this.$=Xn[pr].trim(),ga.setAccDescription(this.$);break;case 51:ga.addLink(Xn[pr-2].stmt,Xn[pr],Xn[pr-1]),this.$={stmt:Xn[pr],nodes:Xn[pr].concat(Xn[pr-2].nodes)};break;case 52:ga.addLink(Xn[pr-3].stmt,Xn[pr-1],Xn[pr-2]),this.$={stmt:Xn[pr-1],nodes:Xn[pr-1].concat(Xn[pr-3].nodes)};break;case 53:this.$={stmt:Xn[pr-1],nodes:Xn[pr-1]};break;case 54:this.$={stmt:Xn[pr],nodes:Xn[pr]};break;case 55:this.$=[Xn[pr]];break;case 56:this.$=Xn[pr-4].concat(Xn[pr]);break;case 57:this.$=[Xn[pr-2]],ga.setClass(Xn[pr-2],Xn[pr]);break;case 58:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"square");break;case 59:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"doublecircle");break;case 60:this.$=Xn[pr-5],ga.addVertex(Xn[pr-5],Xn[pr-2],"circle");break;case 61:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"ellipse");break;case 62:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"stadium");break;case 63:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"subroutine");break;case 64:this.$=Xn[pr-7],ga.addVertex(Xn[pr-7],Xn[pr-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Xn[pr-5],Xn[pr-3]]]));break;case 65:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"cylinder");break;case 66:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"round");break;case 67:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"diamond");break;case 68:this.$=Xn[pr-5],ga.addVertex(Xn[pr-5],Xn[pr-2],"hexagon");break;case 69:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"odd");break;case 70:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"trapezoid");break;case 71:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"inv_trapezoid");break;case 72:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"lean_right");break;case 73:this.$=Xn[pr-3],ga.addVertex(Xn[pr-3],Xn[pr-1],"lean_left");break;case 74:this.$=Xn[pr],ga.addVertex(Xn[pr]);break;case 75:Xn[pr-1].text=Xn[pr],this.$=Xn[pr-1];break;case 76:case 77:Xn[pr-2].text=Xn[pr-1],this.$=Xn[pr-2];break;case 78:this.$=Xn[pr];break;case 79:var th=ga.destructLink(Xn[pr],Xn[pr-2]);this.$={type:th.type,stroke:th.stroke,length:th.length,text:Xn[pr-1]};break;case 80:var th=ga.destructLink(Xn[pr]);this.$={type:th.type,stroke:th.stroke,length:th.length};break;case 81:this.$=Xn[pr-1];break;case 83:case 97:case 153:this.$=Xn[pr-1]+""+Xn[pr];break;case 98:case 99:this.$=Xn[pr-4],ga.addClass(Xn[pr-2],Xn[pr]);break;case 100:this.$=Xn[pr-4],ga.setClass(Xn[pr-2],Xn[pr]);break;case 101:case 109:this.$=Xn[pr-1],ga.setClickEvent(Xn[pr-1],Xn[pr]);break;case 102:case 110:this.$=Xn[pr-3],ga.setClickEvent(Xn[pr-3],Xn[pr-2]),ga.setTooltip(Xn[pr-3],Xn[pr]);break;case 103:this.$=Xn[pr-2],ga.setClickEvent(Xn[pr-2],Xn[pr-1],Xn[pr]);break;case 104:this.$=Xn[pr-4],ga.setClickEvent(Xn[pr-4],Xn[pr-3],Xn[pr-2]),ga.setTooltip(Xn[pr-4],Xn[pr]);break;case 105:case 111:this.$=Xn[pr-1],ga.setLink(Xn[pr-1],Xn[pr]);break;case 106:case 112:this.$=Xn[pr-3],ga.setLink(Xn[pr-3],Xn[pr-2]),ga.setTooltip(Xn[pr-3],Xn[pr]);break;case 107:case 113:this.$=Xn[pr-3],ga.setLink(Xn[pr-3],Xn[pr-2],Xn[pr]);break;case 108:case 114:this.$=Xn[pr-5],ga.setLink(Xn[pr-5],Xn[pr-4],Xn[pr]),ga.setTooltip(Xn[pr-5],Xn[pr-2]);break;case 115:this.$=Xn[pr-4],ga.addVertex(Xn[pr-2],void 0,void 0,Xn[pr]);break;case 116:case 118:this.$=Xn[pr-4],ga.updateLink(Xn[pr-2],Xn[pr]);break;case 117:this.$=Xn[pr-4],ga.updateLink([Xn[pr-2]],Xn[pr]);break;case 119:this.$=Xn[pr-8],ga.updateLinkInterpolate([Xn[pr-6]],Xn[pr-2]),ga.updateLink([Xn[pr-6]],Xn[pr]);break;case 120:this.$=Xn[pr-8],ga.updateLinkInterpolate(Xn[pr-6],Xn[pr-2]),ga.updateLink(Xn[pr-6],Xn[pr]);break;case 121:this.$=Xn[pr-6],ga.updateLinkInterpolate([Xn[pr-4]],Xn[pr]);break;case 122:this.$=Xn[pr-6],ga.updateLinkInterpolate(Xn[pr-4],Xn[pr]);break;case 123:case 125:this.$=[Xn[pr]];break;case 124:case 126:Xn[pr-2].push(Xn[pr]),this.$=Xn[pr-2];break;case 128:this.$=Xn[pr-1]+Xn[pr];break;case 150:this.$=Xn[pr];break;case 151:this.$=Xn[pr-1]+""+Xn[pr];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:n,16:4,21:u,22:b,24:y},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:n,16:4,21:u,22:b,24:y},e(L,P,{17:11}),{7:12,13:[1,13]},{16:14,21:u,22:b,24:y},{16:15,21:u,22:b,24:y},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:V,21:ee,22:_e,23:Le,32:24,33:25,34:26,35:27,36:28,37:29,38:Fe,43:31,44:Re,46:Ke,48:Ut,50:35,51:45,52:sn,54:46,66:an,67:hn,86:Xt,87:zn,88:nr,89:kr,90:$r,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,118:$e,119:sr,120:ft,121:or,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},{8:64,10:[1,65],15:Oi},e([10,15],[2,6]),e(L,[2,17]),e(L,[2,18]),e(L,[2,19]),{20:[1,68],21:[1,69],22:ki,27:67,30:70},e(mr,[2,11]),e(mr,[2,12]),e(mr,[2,13]),e(mr,[2,14]),e(mr,[2,15]),e(mr,[2,16]),{9:72,20:Ba,21:vr,23:hi,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Ba,21:vr,23:hi},{9:81,20:Ba,21:vr,23:hi},{9:82,20:Ba,21:vr,23:hi},{9:83,20:Ba,21:vr,23:hi},{9:84,20:Ba,21:vr,23:hi},{9:86,20:Ba,21:vr,22:[1,85],23:hi},e(mr,[2,44]),{45:[1,87]},{47:[1,88]},e(mr,[2,47]),e(Mr,[2,54],{30:89,22:ki}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:Er,52:Hn,66:Cn,67:yr,84:[1,97],91:un,97:96,98:[1,94],100:[1,95],105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(mr,[2,158]),e(mr,[2,159]),e(mr,[2,160]),e(mr,[2,161]),e(il,[2,55],{53:[1,116]}),e(as,[2,74],{116:129,40:[1,117],52:sn,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:an,67:hn,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir}),e(to,[2,150]),e(to,[2,175]),e(to,[2,176]),e(to,[2,177]),e(to,[2,178]),e(to,[2,179]),e(to,[2,180]),e(to,[2,181]),e(to,[2,182]),e(to,[2,183]),e(to,[2,184]),e(to,[2,185]),e(to,[2,186]),e(to,[2,187]),e(to,[2,188]),e(to,[2,189]),e(to,[2,190]),{9:130,20:Ba,21:vr,23:hi},{11:131,14:[1,132]},e(Ja,[2,8]),e(L,[2,20]),e(L,[2,26]),e(L,[2,27]),{21:[1,133]},e(qo,[2,34],{30:134,22:ki}),e(mr,[2,35]),{50:135,51:45,52:sn,54:46,66:an,67:hn,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},e(uc,[2,48]),e(uc,[2,49]),e(uc,[2,50]),e(ws,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:ho,24:La,26:Ni,38:Mi,39:139,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),e(mr,[2,36]),e(mr,[2,37]),e(mr,[2,38]),e(mr,[2,39]),e(mr,[2,40]),{22:ho,24:La,26:Ni,38:Mi,39:163,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(cv,P,{17:164}),e(mr,[2,45]),e(mr,[2,46]),e(Mr,[2,53],{52:Uv}),{26:Er,52:Hn,66:Cn,67:yr,91:un,97:166,102:[1,167],105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{95:[1,168],103:169,105:[1,170]},{26:Er,52:Hn,66:Cn,67:yr,91:un,95:[1,171],97:172,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{26:Er,52:Hn,66:Cn,67:yr,91:un,97:173,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(Ja,[2,101],{22:[1,174],99:[1,175]}),e(Ja,[2,105],{22:[1,176]}),e(Ja,[2,109],{115:100,117:178,22:[1,177],26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii}),e(Ja,[2,111],{22:[1,179]}),e(Xc,[2,152]),e(Xc,[2,154]),e(Xc,[2,155]),e(Xc,[2,156]),e(Xc,[2,157]),e(Ro,[2,162]),e(Ro,[2,163]),e(Ro,[2,164]),e(Ro,[2,165]),e(Ro,[2,166]),e(Ro,[2,167]),e(Ro,[2,168]),e(Ro,[2,169]),e(Ro,[2,170]),e(Ro,[2,171]),e(Ro,[2,172]),e(Ro,[2,173]),e(Ro,[2,174]),{52:sn,54:180,66:an,67:hn,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},{22:ho,24:La,26:Ni,38:Mi,39:181,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:182,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:184,42:ca,52:Hn,57:[1,183],66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:185,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:186,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:187,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{66:[1,188]},{22:ho,24:La,26:Ni,38:Mi,39:189,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:190,42:ca,52:Hn,66:Cn,67:yr,71:[1,191],73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:192,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:193,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:194,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(to,[2,151]),e(zd,[2,3]),{8:195,15:Oi},{15:[2,7]},e(L,[2,28]),e(qo,[2,33]),e(Mr,[2,51],{30:196,22:ki}),e(ws,[2,75],{22:[1,197]}),{22:[1,198]},{22:ho,24:La,26:Ni,38:Mi,39:199,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,82:[1,200],83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(Ro,[2,82]),e(Ro,[2,84]),e(Ro,[2,140]),e(Ro,[2,141]),e(Ro,[2,142]),e(Ro,[2,143]),e(Ro,[2,144]),e(Ro,[2,145]),e(Ro,[2,146]),e(Ro,[2,147]),e(Ro,[2,148]),e(Ro,[2,149]),e(Ro,[2,85]),e(Ro,[2,86]),e(Ro,[2,87]),e(Ro,[2,88]),e(Ro,[2,89]),e(Ro,[2,90]),e(Ro,[2,91]),e(Ro,[2,92]),e(Ro,[2,93]),e(Ro,[2,94]),e(Ro,[2,95]),{9:203,20:Ba,21:vr,22:ho,23:hi,24:La,26:Ni,38:Mi,40:[1,202],42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{18:18,19:19,20:V,21:ee,22:_e,23:Le,32:24,33:25,34:26,35:27,36:28,37:29,38:Fe,42:[1,204],43:31,44:Re,46:Ke,48:Ut,50:35,51:45,52:sn,54:46,66:an,67:hn,86:Xt,87:zn,88:nr,89:kr,90:$r,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,118:$e,119:sr,120:ft,121:or,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},{22:ki,30:205},{22:[1,206],26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:178,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},e(k0,[2,123]),{22:[1,211]},{22:[1,212],26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:178,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:[1,213],26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:178,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{84:[1,214]},e(Ja,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},e(Xc,[2,153]),{84:[1,219],101:[1,220]},e(il,[2,57],{116:129,52:sn,66:an,67:hn,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir}),{22:ho,24:La,26:Ni,38:Mi,41:[1,221],42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,56:[1,222],66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:223,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,58:[1,224],66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,60:[1,225],66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,62:[1,226],66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,64:[1,227],66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{67:[1,228]},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,70:[1,229],73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,72:[1,230],73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,39:231,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,41:[1,232],42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,73:si,75:[1,233],77:[1,234],81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,73:si,75:[1,236],77:[1,235],81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{9:237,20:Ba,21:vr,23:hi},e(Mr,[2,52],{52:Uv}),e(ws,[2,77]),e(ws,[2,76]),{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,68:[1,238],73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(ws,[2,79]),e(Ro,[2,83]),{22:ho,24:La,26:Ni,38:Mi,39:239,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(cv,P,{17:240}),e(mr,[2,43]),{51:241,52:sn,54:46,66:an,67:hn,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},{22:Vu,66:Ed,67:Qc,86:pf,96:242,102:Cd,105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{22:Vu,66:Ed,67:Qc,86:pf,96:256,102:Cd,105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{22:Vu,66:Ed,67:Qc,86:pf,96:257,102:Cd,104:[1,258],105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{22:Vu,66:Ed,67:Qc,86:pf,96:259,102:Cd,104:[1,260],105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{105:[1,261]},{22:Vu,66:Ed,67:Qc,86:pf,96:262,102:Cd,105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{22:Vu,66:Ed,67:Qc,86:pf,96:263,102:Cd,105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{26:Er,52:Hn,66:Cn,67:yr,91:un,97:264,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(Ja,[2,102]),{84:[1,265]},e(Ja,[2,106],{22:[1,266]}),e(Ja,[2,107]),e(Ja,[2,110]),e(Ja,[2,112],{22:[1,267]}),e(Ja,[2,113]),e(as,[2,58]),e(as,[2,59]),{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,58:[1,268],66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(as,[2,66]),e(as,[2,61]),e(as,[2,62]),e(as,[2,63]),{66:[1,269]},e(as,[2,65]),e(as,[2,67]),{22:ho,24:La,26:Ni,38:Mi,42:ca,52:Hn,66:Cn,67:yr,72:[1,270],73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(as,[2,69]),e(as,[2,70]),e(as,[2,72]),e(as,[2,71]),e(as,[2,73]),e(zd,[2,4]),e([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:ho,24:La,26:Ni,38:Mi,41:[1,271],42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{18:18,19:19,20:V,21:ee,22:_e,23:Le,32:24,33:25,34:26,35:27,36:28,37:29,38:Fe,42:[1,272],43:31,44:Re,46:Ke,48:Ut,50:35,51:45,52:sn,54:46,66:an,67:hn,86:Xt,87:zn,88:nr,89:kr,90:$r,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,118:$e,119:sr,120:ft,121:or,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},e(il,[2,56]),e(Ja,[2,115],{106:Ep}),e(mb,[2,125],{108:274,22:Vu,66:Ed,67:Qc,86:pf,102:Cd,105:Wd,109:Jc,110:mh,111:bh,112:yh,113:_h}),e(Of,[2,127]),e(Of,[2,129]),e(Of,[2,130]),e(Of,[2,131]),e(Of,[2,132]),e(Of,[2,133]),e(Of,[2,134]),e(Of,[2,135]),e(Of,[2,136]),e(Of,[2,137]),e(Of,[2,138]),e(Of,[2,139]),e(Ja,[2,116],{106:Ep}),e(Ja,[2,117],{106:Ep}),{22:[1,275]},e(Ja,[2,118],{106:Ep}),{22:[1,276]},e(k0,[2,124]),e(Ja,[2,98],{106:Ep}),e(Ja,[2,99],{106:Ep}),e(Ja,[2,100],{115:100,117:178,26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii}),e(Ja,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Ba,21:vr,23:hi},e(mr,[2,42]),{22:Vu,66:Ed,67:Qc,86:pf,102:Cd,105:Wd,107:283,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},e(Of,[2,128]),{26:Er,52:Hn,66:Cn,67:yr,91:un,97:284,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{26:Er,52:Hn,66:Cn,67:yr,91:un,97:285,105:li,106:zt,109:Va,111:_r,112:fa,115:100,117:98,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(Ja,[2,108]),e(Ja,[2,114]),e(as,[2,60]),{22:ho,24:La,26:Ni,38:Mi,39:286,42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:140,84:Br,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},e(as,[2,68]),e(cv,P,{17:287}),e(mb,[2,126],{108:274,22:Vu,66:Ed,67:Qc,86:pf,102:Cd,105:Wd,109:Jc,110:mh,111:bh,112:yh,113:_h}),e(Ja,[2,121],{115:100,117:178,22:[1,288],26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii}),e(Ja,[2,122],{115:100,117:178,22:[1,289],26:Er,52:Hn,66:Cn,67:yr,91:un,105:li,106:zt,109:Va,111:_r,112:fa,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii}),{22:ho,24:La,26:Ni,38:Mi,41:[1,290],42:ca,52:Hn,66:Cn,67:yr,73:si,81:Fa,83:201,85:151,86:Vo,87:ti,88:Fo,89:os,90:hs,91:ss,92:ps,94:142,95:co,105:li,106:zt,109:Zo,111:_r,112:fa,113:Jo,114:es,115:148,122:zi,123:Ei,124:pi,125:Si,126:vi,127:Ii},{18:18,19:19,20:V,21:ee,22:_e,23:Le,32:24,33:25,34:26,35:27,36:28,37:29,38:Fe,42:[1,291],43:31,44:Re,46:Ke,48:Ut,50:35,51:45,52:sn,54:46,66:an,67:hn,86:Xt,87:zn,88:nr,89:kr,90:$r,91:ir,95:$n,105:cn,106:Sn,109:kn,111:At,112:Ln,116:47,118:$e,119:sr,120:ft,121:or,122:na,123:Sr,124:Zr,125:zr,126:Nr,127:Ir},{22:Vu,66:Ed,67:Qc,86:pf,96:292,102:Cd,105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},{22:Vu,66:Ed,67:Qc,86:pf,96:293,102:Cd,105:Wd,107:243,108:244,109:Jc,110:mh,111:bh,112:yh,113:_h},e(as,[2,64]),e(mr,[2,41]),e(Ja,[2,119],{106:Ep}),e(Ja,[2,120],{106:Ep})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(no,mo){if(mo.recoverable)this.trace(no);else{var ts=new Error(no);throw ts.hash=mo,ts}},parse:function(no){var mo=this,ts=[0],ga=[],kc=[null],Xn=[],uv=this.table,pr="",th=0,bb=0,Px=2,yb=1,Bx=Xn.slice.call(arguments,1),Yu=Object.create(this.lexer),Yp={yy:{}};for(var qg in this.yy)Object.prototype.hasOwnProperty.call(this.yy,qg)&&(Yp.yy[qg]=this.yy[qg]);Yu.setInput(no,Yp.yy),Yp.yy.lexer=Yu,Yp.yy.parser=this,typeof Yu.yylloc=="undefined"&&(Yu.yylloc={});var $g=Yu.yylloc;Xn.push($g);var Fx=Yu.options&&Yu.options.ranges;typeof Yp.yy.parseError=="function"?this.parseError=Yp.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Zx(){var lp;return lp=ga.pop()||Yu.lex()||yb,typeof lp!="number"&&(lp instanceof Array&&(ga=lp,lp=ga.pop()),lp=mo.symbols_[lp]||lp),lp}for(var vf,Kp,nh,Xg,E0={},Hv,sp,_b,jv;;){if(Kp=ts[ts.length-1],this.defaultActions[Kp]?nh=this.defaultActions[Kp]:((vf===null||typeof vf=="undefined")&&(vf=Zx()),nh=uv[Kp]&&uv[Kp][vf]),typeof nh=="undefined"||!nh.length||!nh[0]){var Qg="";jv=[];for(Hv in uv[Kp])this.terminals_[Hv]&&Hv>Px&&jv.push("'"+this.terminals_[Hv]+"'");Yu.showPosition?Qg="Parse error on line "+(th+1)+`:
`+Yu.showPosition()+`
Expecting `+jv.join(", ")+", got '"+(this.terminals_[vf]||vf)+"'":Qg="Parse error on line "+(th+1)+": Unexpected "+(vf==yb?"end of input":"'"+(this.terminals_[vf]||vf)+"'"),this.parseError(Qg,{text:Yu.match,token:this.terminals_[vf]||vf,line:Yu.yylineno,loc:$g,expected:jv})}if(nh[0]instanceof Array&&nh.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Kp+", token: "+vf);switch(nh[0]){case 1:ts.push(vf),kc.push(Yu.yytext),Xn.push(Yu.yylloc),ts.push(nh[1]),vf=null,bb=Yu.yyleng,pr=Yu.yytext,th=Yu.yylineno,$g=Yu.yylloc;break;case 2:if(sp=this.productions_[nh[1]][1],E0.$=kc[kc.length-sp],E0._$={first_line:Xn[Xn.length-(sp||1)].first_line,last_line:Xn[Xn.length-1].last_line,first_column:Xn[Xn.length-(sp||1)].first_column,last_column:Xn[Xn.length-1].last_column},Fx&&(E0._$.range=[Xn[Xn.length-(sp||1)].range[0],Xn[Xn.length-1].range[1]]),Xg=this.performAction.apply(E0,[pr,bb,th,Yp.yy,nh[1],kc,Xn].concat(Bx)),typeof Xg!="undefined")return Xg;sp&&(ts=ts.slice(0,-1*sp*2),kc=kc.slice(0,-1*sp),Xn=Xn.slice(0,-1*sp)),ts.push(this.productions_[nh[1]][0]),kc.push(E0.$),Xn.push(E0._$),_b=uv[ts[ts.length-2]][ts[ts.length-1]],ts.push(_b);break;case 3:return!0}}return!0}},Rx=function(){var Cp={EOF:1,parseError:function(mo,ts){if(this.yy.parser)this.yy.parser.parseError(mo,ts);else throw new Error(mo)},setInput:function(no,mo){return this.yy=mo||this.yy||{},this._input=no,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var no=this._input[0];this.yytext+=no,this.yyleng++,this.offset++,this.match+=no,this.matched+=no;var mo=no.match(/(?:\r\n?|\n).*/g);return mo?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),no},unput:function(no){var mo=no.length,ts=no.split(/(?:\r\n?|\n)/g);this._input=no+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-mo),this.offset-=mo;var ga=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ts.length-1&&(this.yylineno-=ts.length-1);var kc=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ts?(ts.length===ga.length?this.yylloc.first_column:0)+ga[ga.length-ts.length].length-ts[0].length:this.yylloc.first_column-mo},this.options.ranges&&(this.yylloc.range=[kc[0],kc[0]+this.yyleng-mo]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(no){this.unput(this.match.slice(no))},pastInput:function(){var no=this.matched.substr(0,this.matched.length-this.match.length);return(no.length>20?"...":"")+no.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var no=this.match;return no.length<20&&(no+=this._input.substr(0,20-no.length)),(no.substr(0,20)+(no.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var no=this.pastInput(),mo=new Array(no.length+1).join("-");return no+this.upcomingInput()+`
`+mo+"^"},test_match:function(no,mo){var ts,ga,kc;if(this.options.backtrack_lexer&&(kc={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(kc.yylloc.range=this.yylloc.range.slice(0))),ga=no[0].match(/(?:\r\n?|\n).*/g),ga&&(this.yylineno+=ga.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ga?ga[ga.length-1].length-ga[ga.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+no[0].length},this.yytext+=no[0],this.match+=no[0],this.matches=no,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(no[0].length),this.matched+=no[0],ts=this.performAction.call(this,this.yy,this,mo,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ts)return ts;if(this._backtrack){for(var Xn in kc)this[Xn]=kc[Xn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var no,mo,ts,ga;this._more||(this.yytext="",this.match="");for(var kc=this._currentRules(),Xn=0;Xn<kc.length;Xn++)if(ts=this._input.match(this.rules[kc[Xn]]),ts&&(!mo||ts[0].length>mo[0].length)){if(mo=ts,ga=Xn,this.options.backtrack_lexer){if(no=this.test_match(ts,kc[Xn]),no!==!1)return no;if(this._backtrack){mo=!1;continue}else return!1}else if(!this.options.flex)break}return mo?(no=this.test_match(mo,kc[ga]),no!==!1?no:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var mo=this.next();return mo||this.lex()},begin:function(mo){this.conditionStack.push(mo)},popState:function(){var mo=this.conditionStack.length-1;return mo>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(mo){return mo=this.conditionStack.length-1-Math.abs(mo||0),mo>=0?this.conditionStack[mo]:"INITIAL"},pushState:function(mo){this.begin(mo)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(mo,ts,ga,kc){switch(ga){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return mo.lex.firstGraph()&&this.begin("dir"),24;case 36:return mo.lex.firstGraph()&&this.begin("dir"),24;case 37:return mo.lex.firstGraph()&&this.begin("dir"),24;case 38:return 38;case 39:return 42;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return 101;case 44:return this.popState(),25;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return this.popState(),26;case 55:return 118;case 56:return 119;case 57:return 120;case 58:return 121;case 59:return 105;case 60:return 111;case 61:return 53;case 62:return 67;case 63:return 52;case 64:return 20;case 65:return 106;case 66:return 126;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[44,45,46,47,48,49,50,51,52,53,54],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Cp}();Kg.lexer=Rx;function Gg(){this.yy={}}return Gg.prototype=Kg,Kg.Parser=Gg,new Gg}();Ur.parser=Ur;const Ea=Ur,$a=(e,n)=>{var u,b;return((u=n==null?void 0:n.flowchart)==null?void 0:u.defaultRenderer)==="dagre-wrapper"||((b=n==null?void 0:n.flowchart)==null?void 0:b.defaultRenderer)==="elk"?!1:e.match(/^\s*graph/)!==null},Ci=(e,n)=>{var u,b;return((u=n==null?void 0:n.flowchart)==null?void 0:u.defaultRenderer)==="dagre-d3"||((b=n==null?void 0:n.flowchart)==null?void 0:b.defaultRenderer)==="elk"?!1:e.match(/^\s*graph/)!==null?!0:e.match(/^\s*flowchart/)!==null},ni="flowchart-";let la=0,Ri=qe(),Pi={},ua=[],Ki={},Xa=[],Mo={},Ss={},wo=0,ya=!0,lo,aa,hr=[];const da=e=>Ee.sanitizeText(e,Ri),di=function(e,n,u){cc.parseDirective(this,e,n,u)},Ji=function(e){const n=Object.keys(Pi);for(const u of n)if(Pi[u].id===e)return Pi[u].domId;return e},Na=function(e,n,u,b,y,L,P={}){let V,ee=e;ee!==void 0&&ee.trim().length!==0&&(Pi[ee]===void 0&&(Pi[ee]={id:ee,domId:ni+ee+"-"+la,styles:[],classes:[]}),la++,n!==void 0?(Ri=qe(),V=da(n.trim()),V[0]==='"'&&V[V.length-1]==='"'&&(V=V.substring(1,V.length-1)),Pi[ee].text=V):Pi[ee].text===void 0&&(Pi[ee].text=e),u!==void 0&&(Pi[ee].type=u),b!=null&&b.forEach(function(_e){Pi[ee].styles.push(_e)}),y!=null&&y.forEach(function(_e){Pi[ee].classes.push(_e)}),L!==void 0&&(Pi[ee].dir=L),Pi[ee].props===void 0?Pi[ee].props=P:P!==void 0&&Object.assign(Pi[ee].props,P))},Ta=function(e,n,u,b){const P={start:e,end:n,type:void 0,text:""};b=u.text,b!==void 0&&(P.text=da(b.trim()),P.text[0]==='"'&&P.text[P.text.length-1]==='"'&&(P.text=P.text.substring(1,P.text.length-1))),u!==void 0&&(P.type=u.type,P.stroke=u.stroke,P.length=u.length),ua.push(P)},Za=function(e,n,u,b){let y,L;for(y=0;y<e.length;y++)for(L=0;L<n.length;L++)Ta(e[y],n[L],u,b)},ao=function(e,n){e.forEach(function(u){u==="default"?ua.defaultInterpolate=n:ua[u].interpolate=n})},go=function(e,n){e.forEach(function(u){u==="default"?ua.defaultStyle=n:(Ka.isSubstringInArray("fill",n)===-1&&n.push("fill:none"),ua[u].style=n)})},xc=function(e,n){Ki[e]===void 0&&(Ki[e]={id:e,styles:[],textStyles:[]}),n!=null&&n.forEach(function(u){if(u.match("color")){const y=u.replace("fill","bgFill").replace("color","fill");Ki[e].textStyles.push(y)}Ki[e].styles.push(u)})},Xs=function(e){lo=e,lo.match(/.*</)&&(lo="RL"),lo.match(/.*\^/)&&(lo="BT"),lo.match(/.*>/)&&(lo="LR"),lo.match(/.*v/)&&(lo="TB"),lo==="TD"&&(lo="TB")},Bs=function(e,n){e.split(",").forEach(function(u){let b=u;Pi[b]!==void 0&&Pi[b].classes.push(n),Mo[b]!==void 0&&Mo[b].classes.push(n)})},Oc=function(e,n){e.split(",").forEach(function(u){n!==void 0&&(Ss[aa==="gen-1"?Ji(u):u]=da(n))})},Ls=function(e,n,u){let b=Ji(e);if(qe().securityLevel!=="loose"||n===void 0)return;let y=[];if(typeof u=="string"){y=u.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let L=0;L<y.length;L++){let P=y[L].trim();P.charAt(0)==='"'&&P.charAt(P.length-1)==='"'&&(P=P.substr(1,P.length-2)),y[L]=P}}y.length===0&&y.push(e),Pi[e]!==void 0&&(Pi[e].haveCallback=!0,hr.push(function(){const L=document.querySelector(`[id="${b}"]`);L!==null&&L.addEventListener("click",function(){Ka.runFunc(n,...y)},!1)}))},lc=function(e,n,u){e.split(",").forEach(function(b){Pi[b]!==void 0&&(Pi[b].link=Ka.formatUrl(n,Ri),Pi[b].linkTarget=u)}),Bs(e,"clickable")},wa=function(e){return Ss[e]},Co=function(e,n,u){e.split(",").forEach(function(b){Ls(b,n,u)}),Bs(e,"clickable")},Go=function(e){hr.forEach(function(n){n(e)})},Gi=function(){return lo.trim()},Ql=function(){return Pi},js=function(){return ua},Hu=function(){return Ki},ju=function(e){let n=(0,d.Ys)(".mermaidTooltip");(n._groups||n)[0][0]===null&&(n=(0,d.Ys)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,d.Ys)(e).select("svg").selectAll("g.node").on("mouseover",function(){const y=(0,d.Ys)(this);if(y.attr("title")===null)return;const P=this.getBoundingClientRect();n.transition().duration(200).style("opacity",".9"),n.text(y.attr("title")).style("left",window.scrollX+P.left+(P.right-P.left)/2+"px").style("top",window.scrollY+P.top-14+document.body.scrollTop+"px"),n.html(n.html().replace(/&lt;br\/&gt;/g,"<br/>")),y.classed("hover",!0)}).on("mouseout",function(){n.transition().duration(500).style("opacity",0),(0,d.Ys)(this).classed("hover",!1)})};hr.push(ju);const fo=function(e="gen-1"){Pi={},Ki={},ua=[],hr=[ju],Xa=[],Mo={},wo=0,Ss=[],ya=!0,aa=e,rs()},Jl=e=>{aa=e||"gen-2"},_p=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},vh=function(e,n,u){let b=e.trim(),y=u;e===u&&u.match(/\s/)&&(b=void 0);function L(Le){const Fe={boolean:{},number:{},string:{}},Re=[];let Ke;return{nodeList:Le.filter(function(sn){const an=typeof sn;return sn.stmt&&sn.stmt==="dir"?(Ke=sn.value,!1):sn.trim()===""?!1:an in Fe?Fe[an].hasOwnProperty(sn)?!1:Fe[an][sn]=!0:Re.includes(sn)?!1:Re.push(sn)}),dir:Ke}}let P=[];const{nodeList:V,dir:ee}=L(P.concat.apply(P,n));if(P=V,aa==="gen-1")for(let Le=0;Le<P.length;Le++)P[Le]=Ji(P[Le]);b=b||"subGraph"+wo,y=y||"",y=da(y),wo=wo+1;const _e={id:b,nodes:P,title:y.trim(),classes:[],dir:ee};return Me.info("Adding",_e.id,_e.nodes,_e.dir),_e.nodes=fm(_e,Xa).nodes,Xa.push(_e),Mo[b]=_e,b},Eb=function(e){for(const[n,u]of Xa.entries())if(u.id===e)return n;return-1};let j0=-1;const im=[],am=function(e,n){const u=Xa[n].nodes;if(j0=j0+1,j0>2e3)return;if(im[j0]=n,Xa[n].id===e)return{result:!0,count:0};let b=0,y=1;for(;b<u.length;){const L=Eb(u[b]);if(L>=0){const P=am(e,L);if(P.result)return{result:!0,count:y+P.count};y=y+P.count}b=b+1}return{result:!1,count:y}},om=function(e){return im[e]},sm=function(){j0=-1,Xa.length>0&&am("none",Xa.length-1)},lm=function(){return Xa},cm=()=>ya?(ya=!1,!0):!1,Cb=e=>{let n=e.trim(),u="arrow_open";switch(n[0]){case"<":u="arrow_point",n=n.slice(1);break;case"x":u="arrow_cross",n=n.slice(1);break;case"o":u="arrow_circle",n=n.slice(1);break}let b="normal";return n.includes("=")&&(b="thick"),n.includes(".")&&(b="dotted"),{type:u,stroke:b}},Tb=(e,n)=>{const u=n.length;let b=0;for(let y=0;y<u;++y)n[y]===e&&++b;return b},Sb=e=>{const n=e.trim();let u=n.slice(0,-1),b="arrow_open";switch(n.slice(-1)){case"x":b="arrow_cross",n[0]==="x"&&(b="double_"+b,u=u.slice(1));break;case">":b="arrow_point",n[0]==="<"&&(b="double_"+b,u=u.slice(1));break;case"o":b="arrow_circle",n[0]==="o"&&(b="double_"+b,u=u.slice(1));break}let y="normal",L=u.length-1;u[0]==="="&&(y="thick");let P=Tb(".",u);return P&&(y="dotted",L=P),{type:b,stroke:y,length:L}},um=(e,n)=>{const u=Sb(e);let b;if(n){if(b=Cb(n),b.stroke!==u.stroke)return{type:"INVALID",stroke:"INVALID"};if(b.type==="arrow_open")b.type=u.type;else{if(b.type!==u.type)return{type:"INVALID",stroke:"INVALID"};b.type="double_"+b.type}return b.type==="double_arrow"&&(b.type="double_arrow_point"),b.length=u.length,b}return u},dm=(e,n)=>{let u=!1;return e.forEach(b=>{b.nodes.indexOf(n)>=0&&(u=!0)}),u},fm=(e,n)=>{const u=[];return e.nodes.forEach((b,y)=>{dm(n,b)||u.push(e.nodes[y])}),{nodes:u}},hm={firstGraph:cm},zh={parseDirective:di,defaultConfig:()=>Xo.flowchart,setAccTitle:Oa,getAccTitle:Wo,getAccDescription:oc,setAccDescription:bc,addVertex:Na,lookUpDomId:Ji,addLink:Za,updateLinkInterpolate:ao,updateLink:go,addClass:xc,setDirection:Xs,setClass:Bs,setTooltip:Oc,getTooltip:wa,setClickEvent:Co,setLink:lc,bindFunctions:Go,getDirection:Gi,getVertices:Ql,getEdges:js,getClasses:Hu,clear:fo,setGen:Jl,defaultStyle:_p,addSubGraph:vh,getDepthFirstPos:om,indexNodes:sm,getSubGraphs:lm,destructLink:um,lex:hm,exists:dm,makeUniq:fm,setDiagramTitle:ou,getDiagramTitle:at},Ab=Object.freeze(Object.defineProperty({__proto__:null,parseDirective:di,lookUpDomId:Ji,addVertex:Na,addSingleLink:Ta,addLink:Za,updateLinkInterpolate:ao,updateLink:go,addClass:xc,setDirection:Xs,setClass:Bs,setLink:lc,getTooltip:wa,setClickEvent:Co,bindFunctions:Go,getDirection:Gi,getVertices:Ql,getEdges:js,getClasses:Hu,clear:fo,setGen:Jl,defaultStyle:_p,addSubGraph:vh,getDepthFirstPos:om,indexNodes:sm,getSubGraphs:lm,firstGraph:cm,destructLink:um,lex:hm,default:zh},Symbol.toStringTag,{value:"Module"}));function pm(e,n,u){const b=n.width,y=n.height,L=(b+y)*.9,P=[{x:L/2,y:0},{x:L,y:-L/2},{x:L/2,y:-L},{x:0,y:-L/2}],V=ep(e,L,L,P);return u.intersect=function(ee){return(0,jt.A)(u,P,ee)},V}function vm(e,n,u){const y=n.height,L=y/4,P=n.width+2*L,V=[{x:L,y:0},{x:P-L,y:0},{x:P,y:-y/2},{x:P-L,y:-y},{x:L,y:-y},{x:0,y:-y/2}],ee=ep(e,P,y,V);return u.intersect=function(_e){return(0,jt.A)(u,V,_e)},ee}function gm(e,n,u){const b=n.width,y=n.height,L=[{x:-y/2,y:0},{x:b,y:0},{x:b,y:-y},{x:-y/2,y:-y},{x:0,y:-y/2}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function mm(e,n,u){const b=n.width,y=n.height,L=[{x:-2*y/6,y:0},{x:b-y/6,y:0},{x:b+2*y/6,y:-y},{x:y/6,y:-y}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function bm(e,n,u){const b=n.width,y=n.height,L=[{x:2*y/6,y:0},{x:b+y/6,y:0},{x:b-2*y/6,y:-y},{x:-y/6,y:-y}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function ym(e,n,u){const b=n.width,y=n.height,L=[{x:-2*y/6,y:0},{x:b+2*y/6,y:0},{x:b-y/6,y:-y},{x:y/6,y:-y}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function _m(e,n,u){const b=n.width,y=n.height,L=[{x:y/6,y:0},{x:b-y/6,y:0},{x:b+2*y/6,y:-y},{x:-2*y/6,y:-y}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function xm(e,n,u){const b=n.width,y=n.height,L=[{x:0,y:0},{x:b+y/2,y:0},{x:b,y:-y/2},{x:b+y/2,y:-y},{x:0,y:-y}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function wm(e,n,u){const b=n.height,y=n.width+b/4,L=e.insert("rect",":first-child").attr("rx",b/2).attr("ry",b/2).attr("x",-y/2).attr("y",-b/2).attr("width",y).attr("height",b);return u.intersect=function(P){return(0,on.q)(u,P)},L}function km(e,n,u){const b=n.width,y=n.height,L=[{x:0,y:0},{x:b,y:0},{x:b,y:-y},{x:0,y:-y},{x:0,y:0},{x:-8,y:0},{x:b+8,y:0},{x:b+8,y:-y},{x:-8,y:-y},{x:-8,y:0}],P=ep(e,b,y,L);return u.intersect=function(V){return(0,jt.A)(u,L,V)},P}function Em(e,n,u){const b=n.width,y=b/2,L=y/(2.5+b/50),P=n.height+L,V="M 0,"+L+" a "+y+","+L+" 0,0,0 "+b+" 0 a "+y+","+L+" 0,0,0 "+-b+" 0 l 0,"+P+" a "+y+","+L+" 0,0,0 "+b+" 0 l 0,"+-P,ee=e.attr("label-offset-y",L).insert("path",":first-child").attr("d",V).attr("transform","translate("+-b/2+","+-(P/2+L)+")");return u.intersect=function(_e){const Le=(0,on.q)(u,_e),Fe=Le.x-u.x;if(y!=0&&(Math.abs(Fe)<u.width/2||Math.abs(Fe)==u.width/2&&Math.abs(Le.y-u.y)>u.height/2-L)){let Re=L*L*(1-Fe*Fe/(y*y));Re!=0&&(Re=Math.sqrt(Re)),Re=L-Re,_e.y-u.y>0&&(Re=-Re),Le.y+=Re}return Le},ee}function Mb(e){e.shapes().question=pm,e.shapes().hexagon=vm,e.shapes().stadium=wm,e.shapes().subroutine=km,e.shapes().cylinder=Em,e.shapes().rect_left_inv_arrow=gm,e.shapes().lean_right=mm,e.shapes().lean_left=bm,e.shapes().trapezoid=ym,e.shapes().inv_trapezoid=_m,e.shapes().rect_right_inv_arrow=xm}function Db(e){e({question:pm}),e({hexagon:vm}),e({stadium:wm}),e({subroutine:km}),e({cylinder:Em}),e({rect_left_inv_arrow:gm}),e({lean_right:mm}),e({lean_left:bm}),e({trapezoid:ym}),e({inv_trapezoid:_m}),e({rect_right_inv_arrow:xm})}function ep(e,n,u,b){return e.insert("polygon",":first-child").attr("points",b.map(function(y){return y.x+","+y.y}).join(" ")).attr("transform","translate("+-n/2+","+u/2+")")}const Ib={addToRender:Mb,addToRenderV2:Db},Cm={},Lb=function(e){const n=Object.keys(e);for(const u of n)Cm[u]=e[u]},Tm=function(e,n,u,b,y,L){const P=b?b.select(`[id="${u}"]`):(0,d.Ys)(`[id="${u}"]`),V=y||document;Object.keys(e).forEach(function(_e){const Le=e[_e];let Fe="default";Le.classes.length>0&&(Fe=Le.classes.join(" "));const Re=pc(Le.styles);let Ke=Le.text!==void 0?Le.text:Le.id,Ut;if(qt(qe().flowchart.htmlLabels)){const hn={label:Ke.replace(/fa[blrs]?:fa-[\w-]+/g,Xt=>`<i class='${Xt.replace(":"," ")}'></i>`)};Ut=(0,wt.a)(P,hn).node(),Ut.parentNode.removeChild(Ut)}else{const hn=V.createElementNS("http://www.w3.org/2000/svg","text");hn.setAttribute("style",Re.labelStyle.replace("color:","fill:"));const Xt=Ke.split(Ee.lineBreakRegex);for(const zn of Xt){const nr=V.createElementNS("http://www.w3.org/2000/svg","tspan");nr.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),nr.setAttribute("dy","1em"),nr.setAttribute("x","1"),nr.textContent=zn,hn.appendChild(nr)}Ut=hn}let sn=0,an="";switch(Le.type){case"round":sn=5,an="rect";break;case"square":an="rect";break;case"diamond":an="question";break;case"hexagon":an="hexagon";break;case"odd":an="rect_left_inv_arrow";break;case"lean_right":an="lean_right";break;case"lean_left":an="lean_left";break;case"trapezoid":an="trapezoid";break;case"inv_trapezoid":an="inv_trapezoid";break;case"odd_right":an="rect_left_inv_arrow";break;case"circle":an="circle";break;case"ellipse":an="ellipse";break;case"stadium":an="stadium";break;case"subroutine":an="subroutine";break;case"cylinder":an="cylinder";break;case"group":an="rect";break;default:an="rect"}Me.warn("Adding node",Le.id,Le.domId),n.setNode(L.db.lookUpDomId(Le.id),{labelType:"svg",labelStyle:Re.labelStyle,shape:an,label:Ut,rx:sn,ry:sn,class:Fe,style:Re.style,id:L.db.lookUpDomId(Le.id)})})},Sm=function(e,n,u){let b=0,y,L;if(e.defaultStyle!==void 0){const P=pc(e.defaultStyle);y=P.style,L=P.labelStyle}e.forEach(function(P){b++;var V="L-"+P.start+"-"+P.end,ee="LS-"+P.start,_e="LE-"+P.end;const Le={};P.type==="arrow_open"?Le.arrowhead="none":Le.arrowhead="normal";let Fe="",Re="";if(P.style!==void 0){const Ke=pc(P.style);Fe=Ke.style,Re=Ke.labelStyle}else switch(P.stroke){case"normal":Fe="fill:none",y!==void 0&&(Fe=y),L!==void 0&&(Re=L);break;case"dotted":Fe="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Fe=" stroke-width: 3.5px;fill:none";break}Le.style=Fe,Le.labelStyle=Re,P.interpolate!==void 0?Le.curve=ll(P.interpolate,d.c_6):e.defaultInterpolate!==void 0?Le.curve=ll(e.defaultInterpolate,d.c_6):Le.curve=ll(Cm.curve,d.c_6),P.text===void 0?P.style!==void 0&&(Le.arrowheadStyle="fill: #333"):(Le.arrowheadStyle="fill: #333",Le.labelpos="c",qt(qe().flowchart.htmlLabels)?(Le.labelType="html",Le.label=`<span id="L-${V}" class="edgeLabel L-${ee}' L-${_e}" style="${Le.labelStyle}">${P.text.replace(/fa[blrs]?:fa-[\w-]+/g,Ke=>`<i class='${Ke.replace(":"," ")}'></i>`)}</span>`):(Le.labelType="text",Le.label=P.text.replace(Ee.lineBreakRegex,`
`),P.style===void 0&&(Le.style=Le.style||"stroke: #333; stroke-width: 1.5px;fill:none"),Le.labelStyle=Le.labelStyle.replace("color:","fill:"))),Le.id=V,Le.class=ee+" "+_e,Le.minlen=P.length||1,n.setEdge(u.db.lookUpDomId(P.start),u.db.lookUpDomId(P.end),Le,b)})},Ob={setConf:Lb,addVertices:Tm,addEdges:Sm,getClasses:function(e,n){Me.info("Extracting classes"),n.db.clear();try{return n.parse(e),n.db.getClasses()}catch(u){return Me.error(u),{}}},draw:function(e,n,u,b){Me.info("Drawing flowchart"),b.db.clear();const{securityLevel:y,flowchart:L}=qe();let P;y==="sandbox"&&(P=(0,d.Ys)("#i"+n));const V=y==="sandbox"?(0,d.Ys)(P.nodes()[0].contentDocument.body):(0,d.Ys)("body"),ee=y==="sandbox"?P.nodes()[0].contentDocument:document;try{b.parser.parse(e)}catch($r){Me.debug("Parsing failed")}let _e=b.db.getDirection();_e===void 0&&(_e="TD");const Le=L.nodeSpacing||50,Fe=L.rankSpacing||50,Re=new Te.k({multigraph:!0,compound:!0}).setGraph({rankdir:_e,nodesep:Le,ranksep:Fe,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let Ke;const Ut=b.db.getSubGraphs();for(let $r=Ut.length-1;$r>=0;$r--)Ke=Ut[$r],b.db.addVertex(Ke.id,Ke.title,"group",void 0,Ke.classes);const sn=b.db.getVertices();Me.warn("Get vertices",sn);const an=b.db.getEdges();let hn=0;for(hn=Ut.length-1;hn>=0;hn--){Ke=Ut[hn],(0,d.td_)("cluster").append("text");for(let $r=0;$r<Ke.nodes.length;$r++)Me.warn("Setting subgraph",Ke.nodes[$r],b.db.lookUpDomId(Ke.nodes[$r]),b.db.lookUpDomId(Ke.id)),Re.setParent(b.db.lookUpDomId(Ke.nodes[$r]),b.db.lookUpDomId(Ke.id))}Tm(sn,Re,n,V,ee,b),Sm(an,Re,b);const Xt=new Ve.sY;Ib.addToRender(Xt),Xt.arrows().none=function(ir,$n,cn,Sn){const At=ir.append("marker").attr("id",$n).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");(0,et.bg)(At,cn[Sn+"Style"])},Xt.arrows().normal=function(ir,$n){ir.append("marker").attr("id",$n).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const zn=V.select(`[id="${n}"]`),nr=V.select("#"+n+" g");for(Xt(nr,Re),nr.selectAll("g.node").attr("title",function(){return b.db.getTooltip(this.id)}),b.db.indexNodes("subGraph"+hn),hn=0;hn<Ut.length;hn++)if(Ke=Ut[hn],Ke.title!=="undefined"){const $r=ee.querySelectorAll("#"+n+' [id="'+b.db.lookUpDomId(Ke.id)+'"] rect'),ir=ee.querySelectorAll("#"+n+' [id="'+b.db.lookUpDomId(Ke.id)+'"]'),$n=$r[0].x.baseVal.value,cn=$r[0].y.baseVal.value,Sn=$r[0].width.baseVal.value,At=(0,d.Ys)(ir[0]).select(".label");At.attr("transform",`translate(${$n+Sn/2}, ${cn+14})`),At.attr("id",n+"Text");for(let Ln=0;Ln<Ke.classes.length;Ln++)ir[0].classList.add(Ke.classes[Ln])}if(!L.htmlLabels){const $r=ee.querySelectorAll('[id="'+n+'"] .edgeLabel .label');for(const ir of $r){const $n=ir.getBBox(),cn=ee.createElementNS("http://www.w3.org/2000/svg","rect");cn.setAttribute("rx",0),cn.setAttribute("ry",0),cn.setAttribute("width",$n.width),cn.setAttribute("height",$n.height),ir.insertBefore(cn,ir.firstChild)}}oo(Re,zn,L.diagramPadding,L.useMaxWidth),Object.keys(sn).forEach(function($r){const ir=sn[$r];if(ir.link){const $n=V.select("#"+n+' [id="'+b.db.lookUpDomId($r)+'"]');if($n){const cn=ee.createElementNS("http://www.w3.org/2000/svg","a");cn.setAttributeNS("http://www.w3.org/2000/svg","class",ir.classes.join(" ")),cn.setAttributeNS("http://www.w3.org/2000/svg","href",ir.link),cn.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),y==="sandbox"?cn.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):ir.linkTarget&&cn.setAttributeNS("http://www.w3.org/2000/svg","target",ir.linkTarget);const Sn=$n.insert(function(){return cn},":first-child"),kn=$n.select(".label-container");kn&&Sn.append(function(){return kn.node()});const At=$n.select(".label");At&&Sn.append(function(){return At.node()})}}})}},Am={},Nb=function(e){const n=Object.keys(e);for(const u of n)Am[u]=e[u]},Mm=function(e,n,u,b,y,L){const P=b.select(`[id="${u}"]`);Object.keys(e).forEach(function(ee){const _e=e[ee];let Le="default";_e.classes.length>0&&(Le=_e.classes.join(" "));const Fe=pc(_e.styles);let Re=_e.text!==void 0?_e.text:_e.id,Ke;if(qt(qe().flowchart.htmlLabels)){const an={label:Re.replace(/fa[blrs]?:fa-[\w-]+/g,hn=>`<i class='${hn.replace(":"," ")}'></i>`)};Ke=(0,wt.a)(P,an).node(),Ke.parentNode.removeChild(Ke)}else{const an=y.createElementNS("http://www.w3.org/2000/svg","text");an.setAttribute("style",Fe.labelStyle.replace("color:","fill:"));const hn=Re.split(Ee.lineBreakRegex);for(const Xt of hn){const zn=y.createElementNS("http://www.w3.org/2000/svg","tspan");zn.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),zn.setAttribute("dy","1em"),zn.setAttribute("x","1"),zn.textContent=Xt,an.appendChild(zn)}Ke=an}let Ut=0,sn="";switch(_e.type){case"round":Ut=5,sn="rect";break;case"square":sn="rect";break;case"diamond":sn="question";break;case"hexagon":sn="hexagon";break;case"odd":sn="rect_left_inv_arrow";break;case"lean_right":sn="lean_right";break;case"lean_left":sn="lean_left";break;case"trapezoid":sn="trapezoid";break;case"inv_trapezoid":sn="inv_trapezoid";break;case"odd_right":sn="rect_left_inv_arrow";break;case"circle":sn="circle";break;case"ellipse":sn="ellipse";break;case"stadium":sn="stadium";break;case"subroutine":sn="subroutine";break;case"cylinder":sn="cylinder";break;case"group":sn="rect";break;case"doublecircle":sn="doublecircle";break;default:sn="rect"}n.setNode(_e.id,{labelStyle:Fe.labelStyle,shape:sn,labelText:Re,rx:Ut,ry:Ut,class:Le,style:Fe.style,id:_e.id,link:_e.link,linkTarget:_e.linkTarget,tooltip:L.db.getTooltip(_e.id)||"",domId:L.db.lookUpDomId(_e.id),haveCallback:_e.haveCallback,width:_e.type==="group"?500:void 0,dir:_e.dir,type:_e.type,props:_e.props,padding:qe().flowchart.padding}),Me.info("setNode",{labelStyle:Fe.labelStyle,shape:sn,labelText:Re,rx:Ut,ry:Ut,class:Le,style:Fe.style,id:_e.id,domId:L.db.lookUpDomId(_e.id),width:_e.type==="group"?500:void 0,type:_e.type,dir:_e.dir,props:_e.props,padding:qe().flowchart.padding})})},Dm=function(e,n,u){Me.info("abc78 edges = ",e);let b=0,y={},L,P;if(e.defaultStyle!==void 0){const V=pc(e.defaultStyle);L=V.style,P=V.labelStyle}e.forEach(function(V){b++;var ee="L-"+V.start+"-"+V.end;y[ee]===void 0?(y[ee]=0,Me.info("abc78 new entry",ee,y[ee])):(y[ee]++,Me.info("abc78 new entry",ee,y[ee]));let _e=ee+"-"+y[ee];Me.info("abc78 new link id to be used is",ee,_e,y[ee]);var Le="LS-"+V.start,Fe="LE-"+V.end;const Re={style:"",labelStyle:""};switch(Re.minlen=V.length||1,V.type==="arrow_open"?Re.arrowhead="none":Re.arrowhead="normal",Re.arrowTypeStart="arrow_open",Re.arrowTypeEnd="arrow_open",V.type){case"double_arrow_cross":Re.arrowTypeStart="arrow_cross";case"arrow_cross":Re.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":Re.arrowTypeStart="arrow_point";case"arrow_point":Re.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":Re.arrowTypeStart="arrow_circle";case"arrow_circle":Re.arrowTypeEnd="arrow_circle";break}let Ke="",Ut="";switch(V.stroke){case"normal":Ke="fill:none;",L!==void 0&&(Ke=L),P!==void 0&&(Ut=P),Re.thickness="normal",Re.pattern="solid";break;case"dotted":Re.thickness="normal",Re.pattern="dotted",Re.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Re.thickness="thick",Re.pattern="solid",Re.style="stroke-width: 3.5px;fill:none;";break}if(V.style!==void 0){const sn=pc(V.style);Ke=sn.style,Ut=sn.labelStyle}Re.style=Re.style+=Ke,Re.labelStyle=Re.labelStyle+=Ut,V.interpolate!==void 0?Re.curve=ll(V.interpolate,d.c_6):e.defaultInterpolate!==void 0?Re.curve=ll(e.defaultInterpolate,d.c_6):Re.curve=ll(Am.curve,d.c_6),V.text===void 0?V.style!==void 0&&(Re.arrowheadStyle="fill: #333"):(Re.arrowheadStyle="fill: #333",Re.labelpos="c"),Re.labelType="text",Re.label=V.text.replace(Ee.lineBreakRegex,`
`),V.style===void 0&&(Re.style=Re.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),Re.labelStyle=Re.labelStyle.replace("color:","fill:"),Re.id=_e,Re.classes="flowchart-link "+Le+" "+Fe,n.setEdge(V.start,V.end,Re,b)})},$v={setConf:Nb,addVertices:Mm,addEdges:Dm,getClasses:function(e,n){Me.info("Extracting classes"),n.db.clear();try{return n.parse(e),n.db.getClasses()}catch(u){return}},draw:function(e,n,u,b){Me.info("Drawing flowchart"),b.db.clear(),zh.setGen("gen-2"),b.parser.parse(e);let y=b.db.getDirection();y===void 0&&(y="TD");const{securityLevel:L,flowchart:P}=qe(),V=P.nodeSpacing||50,ee=P.rankSpacing||50;let _e;L==="sandbox"&&(_e=(0,d.Ys)("#i"+n));const Le=L==="sandbox"?(0,d.Ys)(_e.nodes()[0].contentDocument.body):(0,d.Ys)("body"),Fe=L==="sandbox"?_e.nodes()[0].contentDocument:document,Re=new Te.k({multigraph:!0,compound:!0}).setGraph({rankdir:y,nodesep:V,ranksep:ee,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let Ke;const Ut=b.db.getSubGraphs();Me.info("Subgraphs - ",Ut);for(let kr=Ut.length-1;kr>=0;kr--)Ke=Ut[kr],Me.info("Subgraph - ",Ke),b.db.addVertex(Ke.id,Ke.title,"group",void 0,Ke.classes,Ke.dir);const sn=b.db.getVertices(),an=b.db.getEdges();Me.info("Edges",an);let hn=0;for(hn=Ut.length-1;hn>=0;hn--){Ke=Ut[hn],(0,d.td_)("cluster").append("text");for(let kr=0;kr<Ke.nodes.length;kr++)Me.info("Setting up subgraphs",Ke.nodes[kr],Ke.id),Re.setParent(Ke.nodes[kr],Ke.id)}Mm(sn,Re,n,Le,Fe,b),Dm(an,Re);const Xt=Le.select(`[id="${n}"]`),zn=Le.select("#"+n+" g");if(Fh(zn,Re,["point","circle","cross"],"flowchart",n),Ka.insertTitle(Xt,"flowchartTitleText",P.titleTopMargin,b.db.getDiagramTitle()),oo(Re,Xt,P.diagramPadding,P.useMaxWidth),b.db.indexNodes("subGraph"+hn),!P.htmlLabels){const kr=Fe.querySelectorAll('[id="'+n+'"] .edgeLabel .label');for(const $r of kr){const ir=$r.getBBox(),$n=Fe.createElementNS("http://www.w3.org/2000/svg","rect");$n.setAttribute("rx",0),$n.setAttribute("ry",0),$n.setAttribute("width",ir.width),$n.setAttribute("height",ir.height),$r.insertBefore($n,$r.firstChild)}}Object.keys(sn).forEach(function(kr){const $r=sn[kr];if($r.link){const ir=(0,d.Ys)("#"+n+' [id="'+kr+'"]');if(ir){const $n=Fe.createElementNS("http://www.w3.org/2000/svg","a");$n.setAttributeNS("http://www.w3.org/2000/svg","class",$r.classes.join(" ")),$n.setAttributeNS("http://www.w3.org/2000/svg","href",$r.link),$n.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),L==="sandbox"?$n.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):$r.linkTarget&&$n.setAttributeNS("http://www.w3.org/2000/svg","target",$r.linkTarget);const cn=ir.insert(function(){return $n},":first-child"),Sn=ir.select(".label-container");Sn&&cn.append(function(){return Sn.node()});const kn=ir.select(".label");kn&&cn.append(function(){return kn.node()})}}})}};var Xv=function(){var e=function($n,cn,Sn,kn){for(Sn=Sn||{},kn=$n.length;kn--;Sn[$n[kn]]=cn);return Sn},n=[1,3],u=[1,5],b=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],y=[1,15],L=[1,16],P=[1,17],V=[1,18],ee=[1,19],_e=[1,20],Le=[1,21],Fe=[1,22],Re=[1,23],Ke=[1,24],Ut=[1,25],sn=[1,26],an=[1,27],hn=[1,29],Xt=[1,31],zn=[1,34],nr=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],kr={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(cn,Sn,kn,At,Ln,$e,sr){var ft=$e.length-1;switch(Ln){case 2:return $e[ft-1];case 3:this.$=[];break;case 4:$e[ft-1].push($e[ft]),this.$=$e[ft-1];break;case 5:case 6:this.$=$e[ft];break;case 7:case 8:this.$=[];break;case 9:At.setDateFormat($e[ft].substr(11)),this.$=$e[ft].substr(11);break;case 10:At.enableInclusiveEndDates(),this.$=$e[ft].substr(18);break;case 11:At.TopAxis(),this.$=$e[ft].substr(8);break;case 12:At.setAxisFormat($e[ft].substr(11)),this.$=$e[ft].substr(11);break;case 13:At.setTickInterval($e[ft].substr(13)),this.$=$e[ft].substr(13);break;case 14:At.setExcludes($e[ft].substr(9)),this.$=$e[ft].substr(9);break;case 15:At.setIncludes($e[ft].substr(9)),this.$=$e[ft].substr(9);break;case 16:At.setTodayMarker($e[ft].substr(12)),this.$=$e[ft].substr(12);break;case 17:At.setDiagramTitle($e[ft].substr(6)),this.$=$e[ft].substr(6);break;case 18:this.$=$e[ft].trim(),At.setAccTitle(this.$);break;case 19:case 20:this.$=$e[ft].trim(),At.setAccDescription(this.$);break;case 21:At.addSection($e[ft].substr(8)),this.$=$e[ft].substr(8);break;case 23:At.addTask($e[ft-1],$e[ft]),this.$="task";break;case 27:this.$=$e[ft-1],At.setClickEvent($e[ft-1],$e[ft],null);break;case 28:this.$=$e[ft-2],At.setClickEvent($e[ft-2],$e[ft-1],$e[ft]);break;case 29:this.$=$e[ft-2],At.setClickEvent($e[ft-2],$e[ft-1],null),At.setLink($e[ft-2],$e[ft]);break;case 30:this.$=$e[ft-3],At.setClickEvent($e[ft-3],$e[ft-2],$e[ft-1]),At.setLink($e[ft-3],$e[ft]);break;case 31:this.$=$e[ft-2],At.setClickEvent($e[ft-2],$e[ft],null),At.setLink($e[ft-2],$e[ft-1]);break;case 32:this.$=$e[ft-3],At.setClickEvent($e[ft-3],$e[ft-1],$e[ft]),At.setLink($e[ft-3],$e[ft-2]);break;case 33:this.$=$e[ft-1],At.setLink($e[ft-1],$e[ft]);break;case 34:case 40:this.$=$e[ft-1]+" "+$e[ft];break;case 35:case 36:case 38:this.$=$e[ft-2]+" "+$e[ft-1]+" "+$e[ft];break;case 37:case 39:this.$=$e[ft-3]+" "+$e[ft-2]+" "+$e[ft-1]+" "+$e[ft];break;case 41:At.parseDirective("%%{","open_directive");break;case 42:At.parseDirective($e[ft],"type_directive");break;case 43:$e[ft]=$e[ft].trim().replace(/'/g,'"'),At.parseDirective($e[ft],"arg_directive");break;case 44:At.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:n,30:4,40:u},{1:[3]},{3:6,4:2,5:n,30:4,40:u},e(b,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:y,13:L,14:P,15:V,16:ee,17:_e,18:Le,19:Fe,20:Re,21:Ke,23:Ut,25:sn,26:an,27:28,28:hn,30:4,35:Xt,40:u},{32:32,33:[1,33],43:zn},e([33,43],[2,42]),e(b,[2,8],{1:[2,2]}),e(b,[2,4]),{4:30,10:35,12:y,13:L,14:P,15:V,16:ee,17:_e,18:Le,19:Fe,20:Re,21:Ke,23:Ut,25:sn,26:an,27:28,28:hn,30:4,35:Xt,40:u},e(b,[2,6]),e(b,[2,7]),e(b,[2,9]),e(b,[2,10]),e(b,[2,11]),e(b,[2,12]),e(b,[2,13]),e(b,[2,14]),e(b,[2,15]),e(b,[2,16]),e(b,[2,17]),{22:[1,36]},{24:[1,37]},e(b,[2,20]),e(b,[2,21]),e(b,[2,22]),{29:[1,38]},e(b,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},e(b,[2,5]),e(b,[2,18]),e(b,[2,19]),e(b,[2,23]),e(b,[2,27],{37:[1,44],38:[1,45]}),e(b,[2,33],{36:[1,46]}),e(nr,[2,25]),{32:47,43:zn},{43:[2,43]},e(b,[2,28],{38:[1,48]}),e(b,[2,29]),e(b,[2,31],{37:[1,49]}),{11:[1,50]},e(b,[2,30]),e(b,[2,32]),e(nr,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(cn,Sn){if(Sn.recoverable)this.trace(cn);else{var kn=new Error(cn);throw kn.hash=Sn,kn}},parse:function(cn){var Sn=this,kn=[0],At=[],Ln=[null],$e=[],sr=this.table,ft="",or=0,na=0,Sr=2,Zr=1,zr=$e.slice.call(arguments,1),Nr=Object.create(this.lexer),Ir={yy:{}};for(var Oi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oi)&&(Ir.yy[Oi]=this.yy[Oi]);Nr.setInput(cn,Ir.yy),Ir.yy.lexer=Nr,Ir.yy.parser=this,typeof Nr.yylloc=="undefined"&&(Nr.yylloc={});var ki=Nr.yylloc;$e.push(ki);var mr=Nr.options&&Nr.options.ranges;typeof Ir.yy.parseError=="function"?this.parseError=Ir.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ba(){var Va;return Va=At.pop()||Nr.lex()||Zr,typeof Va!="number"&&(Va instanceof Array&&(At=Va,Va=At.pop()),Va=Sn.symbols_[Va]||Va),Va}for(var vr,hi,Mr,Er,Hn={},Cn,yr,un,li;;){if(hi=kn[kn.length-1],this.defaultActions[hi]?Mr=this.defaultActions[hi]:((vr===null||typeof vr=="undefined")&&(vr=Ba()),Mr=sr[hi]&&sr[hi][vr]),typeof Mr=="undefined"||!Mr.length||!Mr[0]){var zt="";li=[];for(Cn in sr[hi])this.terminals_[Cn]&&Cn>Sr&&li.push("'"+this.terminals_[Cn]+"'");Nr.showPosition?zt="Parse error on line "+(or+1)+`:
`+Nr.showPosition()+`
Expecting `+li.join(", ")+", got '"+(this.terminals_[vr]||vr)+"'":zt="Parse error on line "+(or+1)+": Unexpected "+(vr==Zr?"end of input":"'"+(this.terminals_[vr]||vr)+"'"),this.parseError(zt,{text:Nr.match,token:this.terminals_[vr]||vr,line:Nr.yylineno,loc:ki,expected:li})}if(Mr[0]instanceof Array&&Mr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+hi+", token: "+vr);switch(Mr[0]){case 1:kn.push(vr),Ln.push(Nr.yytext),$e.push(Nr.yylloc),kn.push(Mr[1]),vr=null,na=Nr.yyleng,ft=Nr.yytext,or=Nr.yylineno,ki=Nr.yylloc;break;case 2:if(yr=this.productions_[Mr[1]][1],Hn.$=Ln[Ln.length-yr],Hn._$={first_line:$e[$e.length-(yr||1)].first_line,last_line:$e[$e.length-1].last_line,first_column:$e[$e.length-(yr||1)].first_column,last_column:$e[$e.length-1].last_column},mr&&(Hn._$.range=[$e[$e.length-(yr||1)].range[0],$e[$e.length-1].range[1]]),Er=this.performAction.apply(Hn,[ft,na,or,Ir.yy,Mr[1],Ln,$e].concat(zr)),typeof Er!="undefined")return Er;yr&&(kn=kn.slice(0,-1*yr*2),Ln=Ln.slice(0,-1*yr),$e=$e.slice(0,-1*yr)),kn.push(this.productions_[Mr[1]][0]),Ln.push(Hn.$),$e.push(Hn._$),un=sr[kn[kn.length-2]][kn[kn.length-1]],kn.push(un);break;case 3:return!0}}return!0}},$r=function(){var $n={EOF:1,parseError:function(Sn,kn){if(this.yy.parser)this.yy.parser.parseError(Sn,kn);else throw new Error(Sn)},setInput:function(cn,Sn){return this.yy=Sn||this.yy||{},this._input=cn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var cn=this._input[0];this.yytext+=cn,this.yyleng++,this.offset++,this.match+=cn,this.matched+=cn;var Sn=cn.match(/(?:\r\n?|\n).*/g);return Sn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),cn},unput:function(cn){var Sn=cn.length,kn=cn.split(/(?:\r\n?|\n)/g);this._input=cn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Sn),this.offset-=Sn;var At=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),kn.length-1&&(this.yylineno-=kn.length-1);var Ln=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:kn?(kn.length===At.length?this.yylloc.first_column:0)+At[At.length-kn.length].length-kn[0].length:this.yylloc.first_column-Sn},this.options.ranges&&(this.yylloc.range=[Ln[0],Ln[0]+this.yyleng-Sn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(cn){this.unput(this.match.slice(cn))},pastInput:function(){var cn=this.matched.substr(0,this.matched.length-this.match.length);return(cn.length>20?"...":"")+cn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var cn=this.match;return cn.length<20&&(cn+=this._input.substr(0,20-cn.length)),(cn.substr(0,20)+(cn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var cn=this.pastInput(),Sn=new Array(cn.length+1).join("-");return cn+this.upcomingInput()+`
`+Sn+"^"},test_match:function(cn,Sn){var kn,At,Ln;if(this.options.backtrack_lexer&&(Ln={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ln.yylloc.range=this.yylloc.range.slice(0))),At=cn[0].match(/(?:\r\n?|\n).*/g),At&&(this.yylineno+=At.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:At?At[At.length-1].length-At[At.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+cn[0].length},this.yytext+=cn[0],this.match+=cn[0],this.matches=cn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(cn[0].length),this.matched+=cn[0],kn=this.performAction.call(this,this.yy,this,Sn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),kn)return kn;if(this._backtrack){for(var $e in Ln)this[$e]=Ln[$e];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var cn,Sn,kn,At;this._more||(this.yytext="",this.match="");for(var Ln=this._currentRules(),$e=0;$e<Ln.length;$e++)if(kn=this._input.match(this.rules[Ln[$e]]),kn&&(!Sn||kn[0].length>Sn[0].length)){if(Sn=kn,At=$e,this.options.backtrack_lexer){if(cn=this.test_match(kn,Ln[$e]),cn!==!1)return cn;if(this._backtrack){Sn=!1;continue}else return!1}else if(!this.options.flex)break}return Sn?(cn=this.test_match(Sn,Ln[At]),cn!==!1?cn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Sn=this.next();return Sn||this.lex()},begin:function(Sn){this.conditionStack.push(Sn)},popState:function(){var Sn=this.conditionStack.length-1;return Sn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Sn){return Sn=this.conditionStack.length-1-Math.abs(Sn||0),Sn>=0?this.conditionStack[Sn]:"INITIAL"},pushState:function(Sn){this.begin(Sn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Sn,kn,At,Ln){switch(At){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return $n}();kr.lexer=$r;function ir(){this.yy={}}return ir.prototype=kr,kr.Parser=ir,new ir}();Xv.parser=Xv;const Rb=Xv,Pb=e=>e.match(/^\s*gantt/)!==null;let Wh="",Qv="",Jv,eg="",V0=[],Y0=[],tg={},ng=[],xv=[],p0="";const Im=["active","done","crit","milestone"];let rg=[],K0=!1,ig=!1,ag=0;const Bb=function(e,n,u){cc.parseDirective(this,e,n,u)},Fb=function(){ng=[],xv=[],p0="",rg=[],wv=0,sg=void 0,kv=void 0,Eu=[],Wh="",Qv="",Jv=void 0,eg="",V0=[],Y0=[],K0=!1,ig=!1,ag=0,tg={},rs()},Zb=function(e){Qv=e},zb=function(){return Qv},Wb=function(e){Jv=e},Ub=function(){return Jv},Hb=function(e){eg=e},jb=function(){return eg},Vb=function(e){Wh=e},Yb=function(){K0=!0},Kb=function(){return K0},Gb=function(){ig=!0},qb=function(){return ig},$b=function(){return Wh},Xb=function(e){V0=e.toLowerCase().split(/[\s,]+/)},Qb=function(){return V0},Jb=function(e){Y0=e.toLowerCase().split(/[\s,]+/)},ey=function(){return Y0},ty=function(){return tg},ny=function(e){p0=e,ng.push(e)},ry=function(){return ng},iy=function(){let e=Bm();const n=10;let u=0;for(;!e&&u<n;)e=Bm(),u++;return xv=Eu,xv},Lm=function(e,n,u,b){return b.includes(e.format(n.trim()))?!1:e.isoWeekday()>=6&&u.includes("weekends")||u.includes(e.format("dddd").toLowerCase())?!0:u.includes(e.format(n.trim()))},Om=function(e,n,u,b){if(!u.length||e.manualEndTime)return;let y=m()(e.startTime,n,!0);y.add(1,"d");let L=m()(e.endTime,n,!0),P=ay(y,L,n,u,b);e.endTime=L.toDate(),e.renderEndTime=P},ay=function(e,n,u,b,y){let L=!1,P=null;for(;e<=n;)L||(P=n.toDate()),L=Lm(e,u,b,y),L&&n.add(1,"d"),e.add(1,"d");return P},og=function(e,n,u){u=u.trim();const y=/^after\s+([\d\w- ]+)/.exec(u.trim());if(y!==null){let P=null;if(y[1].split(" ").forEach(function(V){let ee=g0(V);ee!==void 0&&(P?ee.endTime>P.endTime&&(P=ee):P=ee)}),P)return P.endTime;{const V=new Date;return V.setHours(0,0,0,0),V}}let L=m()(u,n.trim(),!0);if(L.isValid())return L.toDate();{Me.debug("Invalid date:"+u),Me.debug("With date format:"+n.trim());const P=new Date(u);if(P===void 0||isNaN(P.getTime()))throw new Error("Invalid date:"+u);return P}},Nm=function(e){const n=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return n!==null?m().duration(Number.parseFloat(n[1]),n[2]):m().duration.invalid()},Rm=function(e,n,u,b=!1){u=u.trim();let y=m()(u,n.trim(),!0);if(y.isValid())return b&&y.add(1,"d"),y.toDate();const L=m()(e),P=Nm(u);return P.isValid()&&L.add(P),L.toDate()};let wv=0;const v0=function(e){return e===void 0?(wv=wv+1,"task"+wv):e},oy=function(e,n){let u;n.substr(0,1)===":"?u=n.substr(1,n.length):u=n;const b=u.split(","),y={};zm(b,y,Im);for(let P=0;P<b.length;P++)b[P]=b[P].trim();let L="";switch(b.length){case 1:y.id=v0(),y.startTime=e.endTime,L=b[0];break;case 2:y.id=v0(),y.startTime=og(void 0,Wh,b[0]),L=b[1];break;case 3:y.id=v0(b[0]),y.startTime=og(void 0,Wh,b[1]),L=b[2];break}return L&&(y.endTime=Rm(y.startTime,Wh,L,K0),y.manualEndTime=m()(L,"YYYY-MM-DD",!0).isValid(),Om(y,Wh,Y0,V0)),y},sy=function(e,n){let u;n.substr(0,1)===":"?u=n.substr(1,n.length):u=n;const b=u.split(","),y={};zm(b,y,Im);for(let L=0;L<b.length;L++)b[L]=b[L].trim();switch(b.length){case 1:y.id=v0(),y.startTime={type:"prevTaskEnd",id:e},y.endTime={data:b[0]};break;case 2:y.id=v0(),y.startTime={type:"getStartDate",startData:b[0]},y.endTime={data:b[1]};break;case 3:y.id=v0(b[0]),y.startTime={type:"getStartDate",startData:b[1]},y.endTime={data:b[2]};break}return y};let sg,kv,Eu=[];const Pm={},ly=function(e,n){const u={section:p0,type:p0,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:n},task:e,classes:[]},b=sy(kv,n);u.raw.startTime=b.startTime,u.raw.endTime=b.endTime,u.id=b.id,u.prevTaskId=kv,u.active=b.active,u.done=b.done,u.crit=b.crit,u.milestone=b.milestone,u.order=ag,ag++;const y=Eu.push(u);kv=u.id,Pm[u.id]=y-1},g0=function(e){const n=Pm[e];return Eu[n]},cy=function(e,n){const u={section:p0,type:p0,description:e,task:e,classes:[]},b=oy(sg,n);u.startTime=b.startTime,u.endTime=b.endTime,u.id=b.id,u.active=b.active,u.done=b.done,u.crit=b.crit,u.milestone=b.milestone,sg=u,xv.push(u)},Bm=function(){const e=function(u){const b=Eu[u];let y="";switch(Eu[u].raw.startTime.type){case"prevTaskEnd":{const L=g0(b.prevTaskId);b.startTime=L.endTime;break}case"getStartDate":y=og(void 0,Wh,Eu[u].raw.startTime.startData),y&&(Eu[u].startTime=y);break}return Eu[u].startTime&&(Eu[u].endTime=Rm(Eu[u].startTime,Wh,Eu[u].raw.endTime.data,K0),Eu[u].endTime&&(Eu[u].processed=!0,Eu[u].manualEndTime=m()(Eu[u].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Om(Eu[u],Wh,Y0,V0))),Eu[u].processed};let n=!0;for(const[u,b]of Eu.entries())e(u),n=n&&b.processed;return n},uy=function(e,n){let u=n;qe().securityLevel!=="loose"&&(u=(0,p.N)(n)),e.split(",").forEach(function(b){g0(b)!==void 0&&(Zm(b,()=>{window.open(u,"_self")}),tg[b]=u)}),Fm(e,"clickable")},Fm=function(e,n){e.split(",").forEach(function(u){let b=g0(u);b!==void 0&&b.classes.push(n)})},dy=function(e,n,u){if(qe().securityLevel!=="loose"||n===void 0)return;let b=[];if(typeof u=="string"){b=u.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let L=0;L<b.length;L++){let P=b[L].trim();P.charAt(0)==='"'&&P.charAt(P.length-1)==='"'&&(P=P.substr(1,P.length-2)),b[L]=P}}b.length===0&&b.push(e),g0(e)!==void 0&&Zm(e,()=>{Ka.runFunc(n,...b)})},Zm=function(e,n){rg.push(function(){const u=document.querySelector(`[id="${e}"]`);u!==null&&u.addEventListener("click",function(){n()})},function(){const u=document.querySelector(`[id="${e}-text"]`);u!==null&&u.addEventListener("click",function(){n()})})},lg={parseDirective:Bb,getConfig:()=>qe().gantt,clear:Fb,setDateFormat:Vb,getDateFormat:$b,enableInclusiveEndDates:Yb,endDatesAreInclusive:Kb,enableTopAxis:Gb,topAxisEnabled:qb,setAxisFormat:Zb,getAxisFormat:zb,setTickInterval:Wb,getTickInterval:Ub,setTodayMarker:Hb,getTodayMarker:jb,setAccTitle:Oa,getAccTitle:Wo,setDiagramTitle:ou,getDiagramTitle:at,setAccDescription:bc,getAccDescription:oc,addSection:ny,getSections:ry,getTasks:iy,addTask:ly,findTaskById:g0,addTaskOrg:cy,setIncludes:Xb,getIncludes:Qb,setExcludes:Jb,getExcludes:ey,setClickEvent:function(e,n,u){e.split(",").forEach(function(b){dy(b,n,u)}),Fm(e,"clickable")},setLink:uy,getLinks:ty,bindFunctions:function(e){rg.forEach(function(n){n(e)})},parseDuration:Nm,isInvalidDate:Lm};function zm(e,n,u){let b=!0;for(;b;)b=!1,u.forEach(function(y){const L="^\\s*"+y+"\\s*$",P=new RegExp(L);e[0].match(P)&&(n[y]=!0,e.shift(1),b=!0)})}const fy=function(){Me.debug("Something is calling, setConf, remove the call")};let tp;const hy={setConf:fy,draw:function(e,n,u,b){const y=qe().gantt,L=qe().securityLevel;let P;L==="sandbox"&&(P=(0,d.Ys)("#i"+n));const V=L==="sandbox"?(0,d.Ys)(P.nodes()[0].contentDocument.body):(0,d.Ys)("body"),ee=L==="sandbox"?P.nodes()[0].contentDocument:document,_e=ee.getElementById(n);tp=_e.parentElement.offsetWidth,tp===void 0&&(tp=1200),y.useWidth!==void 0&&(tp=y.useWidth);const Le=b.db.getTasks(),Fe=Le.length*(y.barHeight+y.barGap)+2*y.topPadding;_e.setAttribute("viewBox","0 0 "+tp+" "+Fe);const Re=V.select(`[id="${n}"]`),Ke=(0,d.Xf)().domain([(0,d.VV$)(Le,function(Sn){return Sn.startTime}),(0,d.Fp7)(Le,function(Sn){return Sn.endTime})]).rangeRound([0,tp-y.leftPadding-y.rightPadding]);let Ut=[];for(const Sn of Le)Ut.push(Sn.type);const sn=Ut;Ut=ir(Ut);function an(Sn,kn){const At=Sn.startTime,Ln=kn.startTime;let $e=0;return At>Ln?$e=1:At<Ln&&($e=-1),$e}Le.sort(an),hn(Le,tp,Fe),Ra(Re,Fe,tp,y.useMaxWidth),Re.append("text").text(b.db.getDiagramTitle()).attr("x",tp/2).attr("y",y.titleTopMargin).attr("class","titleText");function hn(Sn,kn,At){const Ln=y.barHeight,$e=Ln+y.barGap,sr=y.topPadding,ft=y.leftPadding,or=(0,d.BYU)().domain([0,Ut.length]).range(["#00B9FA","#F95002"]).interpolate(d.JHv);zn($e,sr,ft,kn,At,Sn,b.db.getExcludes(),b.db.getIncludes()),nr(ft,sr,kn,At),Xt(Sn,$e,sr,ft,Ln,or,kn),kr($e,sr),$r(ft,sr,kn,At)}function Xt(Sn,kn,At,Ln,$e,sr,ft){Re.append("g").selectAll("rect").data(Sn).enter().append("rect").attr("x",0).attr("y",function(Zr,zr){return zr=Zr.order,zr*kn+At-2}).attr("width",function(){return ft-y.rightPadding/2}).attr("height",kn).attr("class",function(Zr){for(const[zr,Nr]of Ut.entries())if(Zr.type===Nr)return"section section"+zr%y.numberSectionStyles;return"section section0"});const or=Re.append("g").selectAll("rect").data(Sn).enter(),na=b.db.getLinks();if(or.append("rect").attr("id",function(Zr){return Zr.id}).attr("rx",3).attr("ry",3).attr("x",function(Zr){return Zr.milestone?Ke(Zr.startTime)+Ln+.5*(Ke(Zr.endTime)-Ke(Zr.startTime))-.5*$e:Ke(Zr.startTime)+Ln}).attr("y",function(Zr,zr){return zr=Zr.order,zr*kn+At}).attr("width",function(Zr){return Zr.milestone?$e:Ke(Zr.renderEndTime||Zr.endTime)-Ke(Zr.startTime)}).attr("height",$e).attr("transform-origin",function(Zr,zr){return zr=Zr.order,(Ke(Zr.startTime)+Ln+.5*(Ke(Zr.endTime)-Ke(Zr.startTime))).toString()+"px "+(zr*kn+At+.5*$e).toString()+"px"}).attr("class",function(Zr){const zr="task";let Nr="";Zr.classes.length>0&&(Nr=Zr.classes.join(" "));let Ir=0;for(const[ki,mr]of Ut.entries())Zr.type===mr&&(Ir=ki%y.numberSectionStyles);let Oi="";return Zr.active?Zr.crit?Oi+=" activeCrit":Oi=" active":Zr.done?Zr.crit?Oi=" doneCrit":Oi=" done":Zr.crit&&(Oi+=" crit"),Oi.length===0&&(Oi=" task"),Zr.milestone&&(Oi=" milestone "+Oi),Oi+=Ir,Oi+=" "+Nr,zr+Oi}),or.append("text").attr("id",function(Zr){return Zr.id+"-text"}).text(function(Zr){return Zr.task}).attr("font-size",y.fontSize).attr("x",function(Zr){let zr=Ke(Zr.startTime),Nr=Ke(Zr.renderEndTime||Zr.endTime);Zr.milestone&&(zr+=.5*(Ke(Zr.endTime)-Ke(Zr.startTime))-.5*$e),Zr.milestone&&(Nr=zr+$e);const Ir=this.getBBox().width;return Ir>Nr-zr?Nr+Ir+1.5*y.leftPadding>ft?zr+Ln-5:Nr+Ln+5:(Nr-zr)/2+zr+Ln}).attr("y",function(Zr,zr){return zr=Zr.order,zr*kn+y.barHeight/2+(y.fontSize/2-2)+At}).attr("text-height",$e).attr("class",function(Zr){const zr=Ke(Zr.startTime);let Nr=Ke(Zr.endTime);Zr.milestone&&(Nr=zr+$e);const Ir=this.getBBox().width;let Oi="";Zr.classes.length>0&&(Oi=Zr.classes.join(" "));let ki=0;for(const[Ba,vr]of Ut.entries())Zr.type===vr&&(ki=Ba%y.numberSectionStyles);let mr="";return Zr.active&&(Zr.crit?mr="activeCritText"+ki:mr="activeText"+ki),Zr.done?Zr.crit?mr=mr+" doneCritText"+ki:mr=mr+" doneText"+ki:Zr.crit&&(mr=mr+" critText"+ki),Zr.milestone&&(mr+=" milestoneText"),Ir>Nr-zr?Nr+Ir+1.5*y.leftPadding>ft?Oi+" taskTextOutsideLeft taskTextOutside"+ki+" "+mr:Oi+" taskTextOutsideRight taskTextOutside"+ki+" "+mr+" width-"+Ir:Oi+" taskText taskText"+ki+" "+mr+" width-"+Ir}),qe().securityLevel==="sandbox"){let Zr;Zr=(0,d.Ys)("#i"+n);const zr=Zr.nodes()[0].contentDocument;or.filter(function(Nr){return na[Nr.id]!==void 0}).each(function(Nr){var Ir=zr.querySelector("#"+Nr.id),Oi=zr.querySelector("#"+Nr.id+"-text");const ki=Ir.parentNode;var mr=zr.createElement("a");mr.setAttribute("xlink:href",na[Nr.id]),mr.setAttribute("target","_top"),ki.appendChild(mr),mr.appendChild(Ir),mr.appendChild(Oi)})}}function zn(Sn,kn,At,Ln,$e,sr,ft,or){const na=sr.reduce((ki,{startTime:mr})=>ki?Math.min(ki,mr):mr,0),Sr=sr.reduce((ki,{endTime:mr})=>ki?Math.max(ki,mr):mr,0),Zr=b.db.getDateFormat();if(!na||!Sr)return;const zr=[];let Nr=null,Ir=m()(na);for(;Ir.valueOf()<=Sr;)b.db.isInvalidDate(Ir,Zr,ft,or)?Nr?Nr.end=Ir.clone():Nr={start:Ir.clone(),end:Ir.clone()}:Nr&&(zr.push(Nr),Nr=null),Ir.add(1,"d");Re.append("g").selectAll("rect").data(zr).enter().append("rect").attr("id",function(ki){return"exclude-"+ki.start.format("YYYY-MM-DD")}).attr("x",function(ki){return Ke(ki.start)+At}).attr("y",y.gridLineStartPadding).attr("width",function(ki){const mr=ki.end.clone().add(1,"day");return Ke(mr)-Ke(ki.start)}).attr("height",$e-kn-y.gridLineStartPadding).attr("transform-origin",function(ki,mr){return(Ke(ki.start)+At+.5*(Ke(ki.end)-Ke(ki.start))).toString()+"px "+(mr*Sn+.5*$e).toString()+"px"}).attr("class","exclude-range")}function nr(Sn,kn,At,Ln){let $e=(0,d.LLu)(Ke).tickSize(-Ln+kn+y.gridLineStartPadding).tickFormat((0,d.i$Z)(b.db.getAxisFormat()||y.axisFormat||"%Y-%m-%d"));const ft=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(b.db.getTickInterval()||y.tickInterval);if(ft!==null){const or=ft[1];switch(ft[2]){case"minute":$e.ticks(d.Z_i.every(or));break;case"hour":$e.ticks(d.WQD.every(or));break;case"day":$e.ticks(d.rr1.every(or));break;case"week":$e.ticks(d.NGh.every(or));break;case"month":$e.ticks(d.F0B.every(or));break}}if(Re.append("g").attr("class","grid").attr("transform","translate("+Sn+", "+(Ln-50)+")").call($e).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),b.db.topAxisEnabled()||y.topAxis){let or=(0,d.F5q)(Ke).tickSize(-Ln+kn+y.gridLineStartPadding).tickFormat((0,d.i$Z)(b.db.getAxisFormat()||y.axisFormat||"%Y-%m-%d"));if(ft!==null){const na=ft[1];switch(ft[2]){case"minute":or.ticks(d.Z_i.every(na));break;case"hour":or.ticks(d.WQD.every(na));break;case"day":or.ticks(d.rr1.every(na));break;case"week":or.ticks(d.NGh.every(na));break;case"month":or.ticks(d.F0B.every(na));break}}Re.append("g").attr("class","grid").attr("transform","translate("+Sn+", "+kn+")").call(or).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function kr(Sn,kn){const At=[];let Ln=0;for(const[$e,sr]of Ut.entries())At[$e]=[sr,cn(sr,sn)];Re.append("g").selectAll("text").data(At).enter().append(function($e){const sr=$e[0].split(Ee.lineBreakRegex),ft=-(sr.length-1)/2,or=ee.createElementNS("http://www.w3.org/2000/svg","text");or.setAttribute("dy",ft+"em");for(const[na,Sr]of sr.entries()){const Zr=ee.createElementNS("http://www.w3.org/2000/svg","tspan");Zr.setAttribute("alignment-baseline","central"),Zr.setAttribute("x","10"),na>0&&Zr.setAttribute("dy","1em"),Zr.textContent=Sr,or.appendChild(Zr)}return or}).attr("x",10).attr("y",function($e,sr){if(sr>0)for(let ft=0;ft<sr;ft++)return Ln+=At[sr-1][1],$e[1]*Sn/2+Ln*Sn+kn;else return $e[1]*Sn/2+kn}).attr("font-size",y.sectionFontSize).attr("font-size",y.sectionFontSize).attr("class",function($e){for(const[sr,ft]of Ut.entries())if($e[0]===ft)return"sectionTitle sectionTitle"+sr%y.numberSectionStyles;return"sectionTitle"})}function $r(Sn,kn,At,Ln){const $e=b.db.getTodayMarker();if($e==="off")return;const sr=Re.append("g").attr("class","today"),ft=new Date,or=sr.append("line");or.attr("x1",Ke(ft)+Sn).attr("x2",Ke(ft)+Sn).attr("y1",y.titleTopMargin).attr("y2",Ln-y.titleTopMargin).attr("class","today"),$e!==""&&or.attr("style",$e.replace(/,/g,";"))}function ir(Sn){const kn={},At=[];for(let Ln=0,$e=Sn.length;Ln<$e;++Ln)Object.prototype.hasOwnProperty.call(kn,Sn[Ln])||(kn[Sn[Ln]]=!0,At.push(Sn[Ln]));return At}function $n(Sn){let kn=Sn.length;const At={};for(;kn;)At[Sn[--kn]]=(At[Sn[kn]]||0)+1;return At}function cn(Sn,kn){return $n(kn)[Sn]||0}}};var cg=function(){var e=function(L,P,V,ee){for(V=V||{},ee=L.length;ee--;V[L[ee]]=P);return V},n=[6,9,10],u={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(P,V,ee,_e,Le,Fe,Re){switch(Fe.length-1,Le){case 1:return _e;case 4:break;case 6:_e.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},e(n,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(n,[2,3]),e(n,[2,4]),e(n,[2,5]),e(n,[2,6])],defaultActions:{4:[2,1]},parseError:function(P,V){if(V.recoverable)this.trace(P);else{var ee=new Error(P);throw ee.hash=V,ee}},parse:function(P){var V=this,ee=[0],_e=[],Le=[null],Fe=[],Re=this.table,Ke="",Ut=0,sn=0,an=2,hn=1,Xt=Fe.slice.call(arguments,1),zn=Object.create(this.lexer),nr={yy:{}};for(var kr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kr)&&(nr.yy[kr]=this.yy[kr]);zn.setInput(P,nr.yy),nr.yy.lexer=zn,nr.yy.parser=this,typeof zn.yylloc=="undefined"&&(zn.yylloc={});var $r=zn.yylloc;Fe.push($r);var ir=zn.options&&zn.options.ranges;typeof nr.yy.parseError=="function"?this.parseError=nr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function $n(){var Sr;return Sr=_e.pop()||zn.lex()||hn,typeof Sr!="number"&&(Sr instanceof Array&&(_e=Sr,Sr=_e.pop()),Sr=V.symbols_[Sr]||Sr),Sr}for(var cn,Sn,kn,At,Ln={},$e,sr,ft,or;;){if(Sn=ee[ee.length-1],this.defaultActions[Sn]?kn=this.defaultActions[Sn]:((cn===null||typeof cn=="undefined")&&(cn=$n()),kn=Re[Sn]&&Re[Sn][cn]),typeof kn=="undefined"||!kn.length||!kn[0]){var na="";or=[];for($e in Re[Sn])this.terminals_[$e]&&$e>an&&or.push("'"+this.terminals_[$e]+"'");zn.showPosition?na="Parse error on line "+(Ut+1)+`:
`+zn.showPosition()+`
Expecting `+or.join(", ")+", got '"+(this.terminals_[cn]||cn)+"'":na="Parse error on line "+(Ut+1)+": Unexpected "+(cn==hn?"end of input":"'"+(this.terminals_[cn]||cn)+"'"),this.parseError(na,{text:zn.match,token:this.terminals_[cn]||cn,line:zn.yylineno,loc:$r,expected:or})}if(kn[0]instanceof Array&&kn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Sn+", token: "+cn);switch(kn[0]){case 1:ee.push(cn),Le.push(zn.yytext),Fe.push(zn.yylloc),ee.push(kn[1]),cn=null,sn=zn.yyleng,Ke=zn.yytext,Ut=zn.yylineno,$r=zn.yylloc;break;case 2:if(sr=this.productions_[kn[1]][1],Ln.$=Le[Le.length-sr],Ln._$={first_line:Fe[Fe.length-(sr||1)].first_line,last_line:Fe[Fe.length-1].last_line,first_column:Fe[Fe.length-(sr||1)].first_column,last_column:Fe[Fe.length-1].last_column},ir&&(Ln._$.range=[Fe[Fe.length-(sr||1)].range[0],Fe[Fe.length-1].range[1]]),At=this.performAction.apply(Ln,[Ke,sn,Ut,nr.yy,kn[1],Le,Fe].concat(Xt)),typeof At!="undefined")return At;sr&&(ee=ee.slice(0,-1*sr*2),Le=Le.slice(0,-1*sr),Fe=Fe.slice(0,-1*sr)),ee.push(this.productions_[kn[1]][0]),Le.push(Ln.$),Fe.push(Ln._$),ft=Re[ee[ee.length-2]][ee[ee.length-1]],ee.push(ft);break;case 3:return!0}}return!0}},b=function(){var L={EOF:1,parseError:function(V,ee){if(this.yy.parser)this.yy.parser.parseError(V,ee);else throw new Error(V)},setInput:function(P,V){return this.yy=V||this.yy||{},this._input=P,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var P=this._input[0];this.yytext+=P,this.yyleng++,this.offset++,this.match+=P,this.matched+=P;var V=P.match(/(?:\r\n?|\n).*/g);return V?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),P},unput:function(P){var V=P.length,ee=P.split(/(?:\r\n?|\n)/g);this._input=P+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-V),this.offset-=V;var _e=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var Le=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===_e.length?this.yylloc.first_column:0)+_e[_e.length-ee.length].length-ee[0].length:this.yylloc.first_column-V},this.options.ranges&&(this.yylloc.range=[Le[0],Le[0]+this.yyleng-V]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(P){this.unput(this.match.slice(P))},pastInput:function(){var P=this.matched.substr(0,this.matched.length-this.match.length);return(P.length>20?"...":"")+P.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var P=this.match;return P.length<20&&(P+=this._input.substr(0,20-P.length)),(P.substr(0,20)+(P.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var P=this.pastInput(),V=new Array(P.length+1).join("-");return P+this.upcomingInput()+`
`+V+"^"},test_match:function(P,V){var ee,_e,Le;if(this.options.backtrack_lexer&&(Le={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Le.yylloc.range=this.yylloc.range.slice(0))),_e=P[0].match(/(?:\r\n?|\n).*/g),_e&&(this.yylineno+=_e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_e?_e[_e.length-1].length-_e[_e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],ee=this.performAction.call(this,this.yy,this,V,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var Fe in Le)this[Fe]=Le[Fe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var P,V,ee,_e;this._more||(this.yytext="",this.match="");for(var Le=this._currentRules(),Fe=0;Fe<Le.length;Fe++)if(ee=this._input.match(this.rules[Le[Fe]]),ee&&(!V||ee[0].length>V[0].length)){if(V=ee,_e=Fe,this.options.backtrack_lexer){if(P=this.test_match(ee,Le[Fe]),P!==!1)return P;if(this._backtrack){V=!1;continue}else return!1}else if(!this.options.flex)break}return V?(P=this.test_match(V,Le[_e]),P!==!1?P:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var V=this.next();return V||this.lex()},begin:function(V){this.conditionStack.push(V)},popState:function(){var V=this.conditionStack.length-1;return V>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(V){return V=this.conditionStack.length-1-Math.abs(V||0),V>=0?this.conditionStack[V]:"INITIAL"},pushState:function(V){this.begin(V)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(V,ee,_e,Le){switch(_e){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return L}();u.lexer=b;function y(){this.yy={}}return y.prototype=u,u.Parser=y,new y}();cg.parser=cg;const py=cg;var Wm="",Um=!1;const vy={setMessage:e=>{Me.debug("Setting message to: "+e),Wm=e},getMessage:()=>Wm,setInfo:e=>{Um=e},getInfo:()=>Um,clear:rs},gy={draw:(e,n,u)=>{try{Me.debug(`Rendering info diagram
`+e);const b=qe().securityLevel;let y;b==="sandbox"&&(y=(0,d.Ys)("#i"+n));const P=(b==="sandbox"?(0,d.Ys)(y.nodes()[0].contentDocument.body):(0,d.Ys)("body")).select("#"+n);P.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+u),P.attr("height",100),P.attr("width",400)}catch(b){Me.error("Error while rendering info diagram"),Me.error(b.message)}}},my=e=>e.match(/^\s*info/)!==null;var ug=function(){var e=function($r,ir,$n,cn){for($n=$n||{},cn=$r.length;cn--;$n[$r[cn]]=ir);return $n},n=[1,4],u=[1,5],b=[1,6],y=[1,7],L=[1,9],P=[1,11,13,15,17,19,20,26,27,28,29],V=[2,5],ee=[1,6,11,13,15,17,19,20,26,27,28,29],_e=[26,27,28],Le=[2,8],Fe=[1,18],Re=[1,19],Ke=[1,20],Ut=[1,21],sn=[1,22],an=[1,23],hn=[1,28],Xt=[6,26,27,28,29],zn={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(ir,$n,cn,Sn,kn,At,Ln){var $e=At.length-1;switch(kn){case 4:Sn.setShowData(!0);break;case 7:this.$=At[$e-1];break;case 9:Sn.addSection(At[$e-1],Sn.cleanupValue(At[$e]));break;case 10:this.$=At[$e].trim(),Sn.setDiagramTitle(this.$);break;case 11:this.$=At[$e].trim(),Sn.setAccTitle(this.$);break;case 12:case 13:this.$=At[$e].trim(),Sn.setAccDescription(this.$);break;case 14:Sn.addSection(At[$e].substr(8)),this.$=At[$e].substr(8);break;case 21:Sn.parseDirective("%%{","open_directive");break;case 22:Sn.parseDirective(At[$e],"type_directive");break;case 23:At[$e]=At[$e].trim().replace(/'/g,'"'),Sn.parseDirective(At[$e],"arg_directive");break;case 24:Sn.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:n,21:8,26:u,27:b,28:y,29:L},{1:[3]},{3:10,4:2,5:3,6:n,21:8,26:u,27:b,28:y,29:L},{3:11,4:2,5:3,6:n,21:8,26:u,27:b,28:y,29:L},e(P,V,{7:12,8:[1,13]}),e(ee,[2,18]),e(ee,[2,19]),e(ee,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},e(_e,Le,{21:8,9:16,10:17,5:24,1:[2,3],11:Fe,13:Re,15:Ke,17:Ut,19:sn,20:an,29:L}),e(P,V,{7:25}),{23:26,24:[1,27],32:hn},e([24,32],[2,22]),e(P,[2,6]),{4:29,26:u,27:b,28:y},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},e(_e,[2,13]),e(_e,[2,14]),e(_e,[2,15]),e(_e,Le,{21:8,9:16,10:17,5:24,1:[2,4],11:Fe,13:Re,15:Ke,17:Ut,19:sn,20:an,29:L}),e(Xt,[2,16]),{25:34,31:[1,35]},e(Xt,[2,24]),e(P,[2,7]),e(_e,[2,9]),e(_e,[2,10]),e(_e,[2,11]),e(_e,[2,12]),{23:36,32:hn},{32:[2,23]},e(Xt,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(ir,$n){if($n.recoverable)this.trace(ir);else{var cn=new Error(ir);throw cn.hash=$n,cn}},parse:function(ir){var $n=this,cn=[0],Sn=[],kn=[null],At=[],Ln=this.table,$e="",sr=0,ft=0,or=2,na=1,Sr=At.slice.call(arguments,1),Zr=Object.create(this.lexer),zr={yy:{}};for(var Nr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Nr)&&(zr.yy[Nr]=this.yy[Nr]);Zr.setInput(ir,zr.yy),zr.yy.lexer=Zr,zr.yy.parser=this,typeof Zr.yylloc=="undefined"&&(Zr.yylloc={});var Ir=Zr.yylloc;At.push(Ir);var Oi=Zr.options&&Zr.options.ranges;typeof zr.yy.parseError=="function"?this.parseError=zr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ki(){var li;return li=Sn.pop()||Zr.lex()||na,typeof li!="number"&&(li instanceof Array&&(Sn=li,li=Sn.pop()),li=$n.symbols_[li]||li),li}for(var mr,Ba,vr,hi,Mr={},Er,Hn,Cn,yr;;){if(Ba=cn[cn.length-1],this.defaultActions[Ba]?vr=this.defaultActions[Ba]:((mr===null||typeof mr=="undefined")&&(mr=ki()),vr=Ln[Ba]&&Ln[Ba][mr]),typeof vr=="undefined"||!vr.length||!vr[0]){var un="";yr=[];for(Er in Ln[Ba])this.terminals_[Er]&&Er>or&&yr.push("'"+this.terminals_[Er]+"'");Zr.showPosition?un="Parse error on line "+(sr+1)+`:
`+Zr.showPosition()+`
Expecting `+yr.join(", ")+", got '"+(this.terminals_[mr]||mr)+"'":un="Parse error on line "+(sr+1)+": Unexpected "+(mr==na?"end of input":"'"+(this.terminals_[mr]||mr)+"'"),this.parseError(un,{text:Zr.match,token:this.terminals_[mr]||mr,line:Zr.yylineno,loc:Ir,expected:yr})}if(vr[0]instanceof Array&&vr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ba+", token: "+mr);switch(vr[0]){case 1:cn.push(mr),kn.push(Zr.yytext),At.push(Zr.yylloc),cn.push(vr[1]),mr=null,ft=Zr.yyleng,$e=Zr.yytext,sr=Zr.yylineno,Ir=Zr.yylloc;break;case 2:if(Hn=this.productions_[vr[1]][1],Mr.$=kn[kn.length-Hn],Mr._$={first_line:At[At.length-(Hn||1)].first_line,last_line:At[At.length-1].last_line,first_column:At[At.length-(Hn||1)].first_column,last_column:At[At.length-1].last_column},Oi&&(Mr._$.range=[At[At.length-(Hn||1)].range[0],At[At.length-1].range[1]]),hi=this.performAction.apply(Mr,[$e,ft,sr,zr.yy,vr[1],kn,At].concat(Sr)),typeof hi!="undefined")return hi;Hn&&(cn=cn.slice(0,-1*Hn*2),kn=kn.slice(0,-1*Hn),At=At.slice(0,-1*Hn)),cn.push(this.productions_[vr[1]][0]),kn.push(Mr.$),At.push(Mr._$),Cn=Ln[cn[cn.length-2]][cn[cn.length-1]],cn.push(Cn);break;case 3:return!0}}return!0}},nr=function(){var $r={EOF:1,parseError:function($n,cn){if(this.yy.parser)this.yy.parser.parseError($n,cn);else throw new Error($n)},setInput:function(ir,$n){return this.yy=$n||this.yy||{},this._input=ir,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ir=this._input[0];this.yytext+=ir,this.yyleng++,this.offset++,this.match+=ir,this.matched+=ir;var $n=ir.match(/(?:\r\n?|\n).*/g);return $n?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ir},unput:function(ir){var $n=ir.length,cn=ir.split(/(?:\r\n?|\n)/g);this._input=ir+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$n),this.offset-=$n;var Sn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),cn.length-1&&(this.yylineno-=cn.length-1);var kn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:cn?(cn.length===Sn.length?this.yylloc.first_column:0)+Sn[Sn.length-cn.length].length-cn[0].length:this.yylloc.first_column-$n},this.options.ranges&&(this.yylloc.range=[kn[0],kn[0]+this.yyleng-$n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ir){this.unput(this.match.slice(ir))},pastInput:function(){var ir=this.matched.substr(0,this.matched.length-this.match.length);return(ir.length>20?"...":"")+ir.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ir=this.match;return ir.length<20&&(ir+=this._input.substr(0,20-ir.length)),(ir.substr(0,20)+(ir.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ir=this.pastInput(),$n=new Array(ir.length+1).join("-");return ir+this.upcomingInput()+`
`+$n+"^"},test_match:function(ir,$n){var cn,Sn,kn;if(this.options.backtrack_lexer&&(kn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(kn.yylloc.range=this.yylloc.range.slice(0))),Sn=ir[0].match(/(?:\r\n?|\n).*/g),Sn&&(this.yylineno+=Sn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Sn?Sn[Sn.length-1].length-Sn[Sn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ir[0].length},this.yytext+=ir[0],this.match+=ir[0],this.matches=ir,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ir[0].length),this.matched+=ir[0],cn=this.performAction.call(this,this.yy,this,$n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),cn)return cn;if(this._backtrack){for(var At in kn)this[At]=kn[At];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ir,$n,cn,Sn;this._more||(this.yytext="",this.match="");for(var kn=this._currentRules(),At=0;At<kn.length;At++)if(cn=this._input.match(this.rules[kn[At]]),cn&&(!$n||cn[0].length>$n[0].length)){if($n=cn,Sn=At,this.options.backtrack_lexer){if(ir=this.test_match(cn,kn[At]),ir!==!1)return ir;if(this._backtrack){$n=!1;continue}else return!1}else if(!this.options.flex)break}return $n?(ir=this.test_match($n,kn[Sn]),ir!==!1?ir:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $n=this.next();return $n||this.lex()},begin:function($n){this.conditionStack.push($n)},popState:function(){var $n=this.conditionStack.length-1;return $n>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($n){return $n=this.conditionStack.length-1-Math.abs($n||0),$n>=0?this.conditionStack[$n]:"INITIAL"},pushState:function($n){this.begin($n)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($n,cn,Sn,kn){switch(Sn){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return $r}();zn.lexer=nr;function kr(){this.yy={}}return kr.prototype=zn,zn.Parser=kr,new kr}();ug.parser=ug;const by=ug,yy=e=>e.match(/^\s*pie/)!==null||e.match(/^\s*bar/)!==null;let Ev={},dg=!1;const _y={parseDirective:function(e,n,u){cc.parseDirective(this,e,n,u)},getConfig:()=>qe().pie,addSection:function(e,n){e=Ee.sanitizeText(e,qe()),Ev[e]===void 0&&(Ev[e]=n,Me.debug("Added new section :",e))},getSections:()=>Ev,cleanupValue:function(e){return e.substring(0,1)===":"&&(e=e.substring(1).trim()),Number(e.trim())},clear:function(){Ev={},dg=!1,rs()},setAccTitle:Oa,getAccTitle:Wo,setDiagramTitle:ou,getDiagramTitle:at,setShowData:function(e){dg=e},getShowData:function(){return dg},getAccDescription:oc,setAccDescription:bc};let np=qe(),rp;const G0=450,xy={draw:(e,n,u,b)=>{try{np=qe(),Me.debug(`Rendering info diagram
`+e);const Xt=qe().securityLevel;let zn;Xt==="sandbox"&&(zn=(0,d.Ys)("#i"+n));const nr=Xt==="sandbox"?(0,d.Ys)(zn.nodes()[0].contentDocument.body):(0,d.Ys)("body"),kr=Xt==="sandbox"?zn.nodes()[0].contentDocument:document;b.db.clear(),b.parser.parse(e),Me.debug("Parsed info diagram");const $r=kr.getElementById(n);rp=$r.parentElement.offsetWidth,rp===void 0&&(rp=1200),np.useWidth!==void 0&&(rp=np.useWidth),np.pie.useWidth!==void 0&&(rp=np.pie.useWidth);const ir=nr.select("#"+n);Ra(ir,G0,rp,np.pie.useMaxWidth),$r.setAttribute("viewBox","0 0 "+rp+" "+G0);var y=40,L=18,P=4,V=Math.min(rp,G0)/2-y,ee=ir.append("g").attr("transform","translate("+rp/2+","+G0/2+")"),_e=b.db.getSections(),Le=0;Object.keys(_e).forEach(function(cn){Le+=_e[cn]});const $n=np.themeVariables;var Fe=[$n.pie1,$n.pie2,$n.pie3,$n.pie4,$n.pie5,$n.pie6,$n.pie7,$n.pie8,$n.pie9,$n.pie10,$n.pie11,$n.pie12],Re=(0,d.PKp)().range(Fe),Ke=Object.entries(_e).map(function(cn,Sn){return{order:Sn,name:cn[0],value:cn[1]}}),Ut=(0,d.ve8)().value(function(cn){return cn.value}).sort(function(cn,Sn){return cn.order-Sn.order}),sn=Ut(Ke),an=(0,d.Nb1)().innerRadius(0).outerRadius(V);ee.selectAll("mySlices").data(sn).enter().append("path").attr("d",an).attr("fill",function(cn){return Re(cn.data.name)}).attr("class","pieCircle"),ee.selectAll("mySlices").data(sn).enter().append("text").text(function(cn){return(cn.data.value/Le*100).toFixed(0)+"%"}).attr("transform",function(cn){return"translate("+an.centroid(cn)+")"}).style("text-anchor","middle").attr("class","slice"),ee.append("text").text(b.db.getDiagramTitle()).attr("x",0).attr("y",-(G0-50)/2).attr("class","pieTitleText");var hn=ee.selectAll(".legend").data(Re.domain()).enter().append("g").attr("class","legend").attr("transform",function(cn,Sn){const kn=L+P,At=kn*Re.domain().length/2,Ln=12*L,$e=Sn*kn-At;return"translate("+Ln+","+$e+")"});hn.append("rect").attr("width",L).attr("height",L).style("fill",Re).style("stroke",Re),hn.data(sn).append("text").attr("x",L+P).attr("y",L-P).text(function(cn){return b.db.getShowData()||np.showData||np.pie.showData?cn.data.name+" ["+cn.data.value+"]":cn.data.name})}catch(Xt){Me.error("Error while rendering info diagram"),Me.error(Xt)}}};var fg=function(){var e=function(Ba,vr,hi,Mr){for(hi=hi||{},Mr=Ba.length;Mr--;hi[Ba[Mr]]=vr);return hi},n=[1,3],u=[1,5],b=[1,6],y=[1,7],L=[1,8],P=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],V=[1,22],ee=[2,13],_e=[1,26],Le=[1,27],Fe=[1,28],Re=[1,29],Ke=[1,30],Ut=[1,31],sn=[1,24],an=[1,32],hn=[1,33],Xt=[1,36],zn=[71,72],nr=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],kr=[1,56],$r=[1,57],ir=[1,58],$n=[1,59],cn=[1,60],Sn=[1,61],kn=[1,62],At=[62,63],Ln=[1,74],$e=[1,70],sr=[1,71],ft=[1,72],or=[1,73],na=[1,75],Sr=[1,79],Zr=[1,80],zr=[1,77],Nr=[1,78],Ir=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Oi={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(vr,hi,Mr,Er,Hn,Cn,yr){var un=Cn.length-1;switch(Hn){case 6:this.$=Cn[un].trim(),Er.setAccTitle(this.$);break;case 7:case 8:this.$=Cn[un].trim(),Er.setAccDescription(this.$);break;case 9:Er.parseDirective("%%{","open_directive");break;case 10:Er.parseDirective(Cn[un],"type_directive");break;case 11:Cn[un]=Cn[un].trim().replace(/'/g,'"'),Er.parseDirective(Cn[un],"arg_directive");break;case 12:Er.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:Er.addRequirement(Cn[un-3],Cn[un-4]);break;case 20:Er.setNewReqId(Cn[un-2]);break;case 21:Er.setNewReqText(Cn[un-2]);break;case 22:Er.setNewReqRisk(Cn[un-2]);break;case 23:Er.setNewReqVerifyMethod(Cn[un-2]);break;case 26:this.$=Er.RequirementType.REQUIREMENT;break;case 27:this.$=Er.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=Er.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=Er.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=Er.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=Er.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=Er.RiskLevel.LOW_RISK;break;case 33:this.$=Er.RiskLevel.MED_RISK;break;case 34:this.$=Er.RiskLevel.HIGH_RISK;break;case 35:this.$=Er.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=Er.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=Er.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=Er.VerifyType.VERIFY_TEST;break;case 39:Er.addElement(Cn[un-3]);break;case 40:Er.setNewElementType(Cn[un-2]);break;case 41:Er.setNewElementDocRef(Cn[un-2]);break;case 44:Er.addRelationship(Cn[un-2],Cn[un],Cn[un-4]);break;case 45:Er.addRelationship(Cn[un-2],Cn[un-4],Cn[un]);break;case 46:this.$=Er.Relationships.CONTAINS;break;case 47:this.$=Er.Relationships.COPIES;break;case 48:this.$=Er.Relationships.DERIVES;break;case 49:this.$=Er.Relationships.SATISFIES;break;case 50:this.$=Er.Relationships.VERIFIES;break;case 51:this.$=Er.Relationships.REFINES;break;case 52:this.$=Er.Relationships.TRACES;break}},table:[{3:1,4:2,6:n,9:4,14:u,16:b,18:y,19:L},{1:[3]},{3:10,4:2,5:[1,9],6:n,9:4,14:u,16:b,18:y,19:L},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},e(P,[2,8]),{20:[2,9]},{3:16,4:2,6:n,9:4,14:u,16:b,18:y,19:L},{1:[2,2]},{4:21,5:V,7:17,8:ee,9:4,14:u,16:b,18:y,19:L,23:18,24:19,25:20,26:23,32:25,40:_e,41:Le,42:Fe,43:Re,44:Ke,45:Ut,53:sn,71:an,72:hn},{11:34,12:[1,35],22:Xt},e([12,22],[2,10]),e(P,[2,6]),e(P,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:V,7:38,8:ee,9:4,14:u,16:b,18:y,19:L,23:18,24:19,25:20,26:23,32:25,40:_e,41:Le,42:Fe,43:Re,44:Ke,45:Ut,53:sn,71:an,72:hn},{4:21,5:V,7:39,8:ee,9:4,14:u,16:b,18:y,19:L,23:18,24:19,25:20,26:23,32:25,40:_e,41:Le,42:Fe,43:Re,44:Ke,45:Ut,53:sn,71:an,72:hn},{4:21,5:V,7:40,8:ee,9:4,14:u,16:b,18:y,19:L,23:18,24:19,25:20,26:23,32:25,40:_e,41:Le,42:Fe,43:Re,44:Ke,45:Ut,53:sn,71:an,72:hn},{4:21,5:V,7:41,8:ee,9:4,14:u,16:b,18:y,19:L,23:18,24:19,25:20,26:23,32:25,40:_e,41:Le,42:Fe,43:Re,44:Ke,45:Ut,53:sn,71:an,72:hn},{4:21,5:V,7:42,8:ee,9:4,14:u,16:b,18:y,19:L,23:18,24:19,25:20,26:23,32:25,40:_e,41:Le,42:Fe,43:Re,44:Ke,45:Ut,53:sn,71:an,72:hn},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},e(zn,[2,26]),e(zn,[2,27]),e(zn,[2,28]),e(zn,[2,29]),e(zn,[2,30]),e(zn,[2,31]),e(nr,[2,55]),e(nr,[2,56]),e(P,[2,4]),{13:51,21:[1,52]},e(P,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:kr,65:$r,66:ir,67:$n,68:cn,69:Sn,70:kn},{61:63,64:kr,65:$r,66:ir,67:$n,68:cn,69:Sn,70:kn},{11:64,22:Xt},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},e(At,[2,46]),e(At,[2,47]),e(At,[2,48]),e(At,[2,49]),e(At,[2,50]),e(At,[2,51]),e(At,[2,52]),{63:[1,68]},e(P,[2,5]),{5:Ln,29:69,30:$e,33:sr,35:ft,37:or,39:na},{5:Sr,39:Zr,55:76,56:zr,58:Nr},{32:81,71:an,72:hn},{32:82,71:an,72:hn},e(Ir,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:Ln,29:87,30:$e,33:sr,35:ft,37:or,39:na},e(Ir,[2,25]),e(Ir,[2,39]),{31:[1,88]},{31:[1,89]},{5:Sr,39:Zr,55:90,56:zr,58:Nr},e(Ir,[2,43]),e(Ir,[2,44]),e(Ir,[2,45]),{32:91,71:an,72:hn},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},e(Ir,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},e(Ir,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:Ln,29:116,30:$e,33:sr,35:ft,37:or,39:na},{5:Ln,29:117,30:$e,33:sr,35:ft,37:or,39:na},{5:Ln,29:118,30:$e,33:sr,35:ft,37:or,39:na},{5:Ln,29:119,30:$e,33:sr,35:ft,37:or,39:na},{5:Sr,39:Zr,55:120,56:zr,58:Nr},{5:Sr,39:Zr,55:121,56:zr,58:Nr},e(Ir,[2,20]),e(Ir,[2,21]),e(Ir,[2,22]),e(Ir,[2,23]),e(Ir,[2,40]),e(Ir,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(vr,hi){if(hi.recoverable)this.trace(vr);else{var Mr=new Error(vr);throw Mr.hash=hi,Mr}},parse:function(vr){var hi=this,Mr=[0],Er=[],Hn=[null],Cn=[],yr=this.table,un="",li=0,zt=0,Va=2,_r=1,fa=Cn.slice.call(arguments,1),zi=Object.create(this.lexer),Ei={yy:{}};for(var pi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pi)&&(Ei.yy[pi]=this.yy[pi]);zi.setInput(vr,Ei.yy),Ei.yy.lexer=zi,Ei.yy.parser=this,typeof zi.yylloc=="undefined"&&(zi.yylloc={});var Si=zi.yylloc;Cn.push(Si);var vi=zi.options&&zi.options.ranges;typeof Ei.yy.parseError=="function"?this.parseError=Ei.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ii(){var Mi;return Mi=Er.pop()||zi.lex()||_r,typeof Mi!="number"&&(Mi instanceof Array&&(Er=Mi,Mi=Er.pop()),Mi=hi.symbols_[Mi]||Mi),Mi}for(var il,as,to,Ja,qo={},uc,ws,ho,La;;){if(as=Mr[Mr.length-1],this.defaultActions[as]?to=this.defaultActions[as]:((il===null||typeof il=="undefined")&&(il=Ii()),to=yr[as]&&yr[as][il]),typeof to=="undefined"||!to.length||!to[0]){var Ni="";La=[];for(uc in yr[as])this.terminals_[uc]&&uc>Va&&La.push("'"+this.terminals_[uc]+"'");zi.showPosition?Ni="Parse error on line "+(li+1)+`:
`+zi.showPosition()+`
Expecting `+La.join(", ")+", got '"+(this.terminals_[il]||il)+"'":Ni="Parse error on line "+(li+1)+": Unexpected "+(il==_r?"end of input":"'"+(this.terminals_[il]||il)+"'"),this.parseError(Ni,{text:zi.match,token:this.terminals_[il]||il,line:zi.yylineno,loc:Si,expected:La})}if(to[0]instanceof Array&&to.length>1)throw new Error("Parse Error: multiple actions possible at state: "+as+", token: "+il);switch(to[0]){case 1:Mr.push(il),Hn.push(zi.yytext),Cn.push(zi.yylloc),Mr.push(to[1]),il=null,zt=zi.yyleng,un=zi.yytext,li=zi.yylineno,Si=zi.yylloc;break;case 2:if(ws=this.productions_[to[1]][1],qo.$=Hn[Hn.length-ws],qo._$={first_line:Cn[Cn.length-(ws||1)].first_line,last_line:Cn[Cn.length-1].last_line,first_column:Cn[Cn.length-(ws||1)].first_column,last_column:Cn[Cn.length-1].last_column},vi&&(qo._$.range=[Cn[Cn.length-(ws||1)].range[0],Cn[Cn.length-1].range[1]]),Ja=this.performAction.apply(qo,[un,zt,li,Ei.yy,to[1],Hn,Cn].concat(fa)),typeof Ja!="undefined")return Ja;ws&&(Mr=Mr.slice(0,-1*ws*2),Hn=Hn.slice(0,-1*ws),Cn=Cn.slice(0,-1*ws)),Mr.push(this.productions_[to[1]][0]),Hn.push(qo.$),Cn.push(qo._$),ho=yr[Mr[Mr.length-2]][Mr[Mr.length-1]],Mr.push(ho);break;case 3:return!0}}return!0}},ki=function(){var Ba={EOF:1,parseError:function(hi,Mr){if(this.yy.parser)this.yy.parser.parseError(hi,Mr);else throw new Error(hi)},setInput:function(vr,hi){return this.yy=hi||this.yy||{},this._input=vr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var vr=this._input[0];this.yytext+=vr,this.yyleng++,this.offset++,this.match+=vr,this.matched+=vr;var hi=vr.match(/(?:\r\n?|\n).*/g);return hi?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),vr},unput:function(vr){var hi=vr.length,Mr=vr.split(/(?:\r\n?|\n)/g);this._input=vr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-hi),this.offset-=hi;var Er=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Mr.length-1&&(this.yylineno-=Mr.length-1);var Hn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Mr?(Mr.length===Er.length?this.yylloc.first_column:0)+Er[Er.length-Mr.length].length-Mr[0].length:this.yylloc.first_column-hi},this.options.ranges&&(this.yylloc.range=[Hn[0],Hn[0]+this.yyleng-hi]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(vr){this.unput(this.match.slice(vr))},pastInput:function(){var vr=this.matched.substr(0,this.matched.length-this.match.length);return(vr.length>20?"...":"")+vr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var vr=this.match;return vr.length<20&&(vr+=this._input.substr(0,20-vr.length)),(vr.substr(0,20)+(vr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var vr=this.pastInput(),hi=new Array(vr.length+1).join("-");return vr+this.upcomingInput()+`
`+hi+"^"},test_match:function(vr,hi){var Mr,Er,Hn;if(this.options.backtrack_lexer&&(Hn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Hn.yylloc.range=this.yylloc.range.slice(0))),Er=vr[0].match(/(?:\r\n?|\n).*/g),Er&&(this.yylineno+=Er.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Er?Er[Er.length-1].length-Er[Er.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+vr[0].length},this.yytext+=vr[0],this.match+=vr[0],this.matches=vr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(vr[0].length),this.matched+=vr[0],Mr=this.performAction.call(this,this.yy,this,hi,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Mr)return Mr;if(this._backtrack){for(var Cn in Hn)this[Cn]=Hn[Cn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var vr,hi,Mr,Er;this._more||(this.yytext="",this.match="");for(var Hn=this._currentRules(),Cn=0;Cn<Hn.length;Cn++)if(Mr=this._input.match(this.rules[Hn[Cn]]),Mr&&(!hi||Mr[0].length>hi[0].length)){if(hi=Mr,Er=Cn,this.options.backtrack_lexer){if(vr=this.test_match(Mr,Hn[Cn]),vr!==!1)return vr;if(this._backtrack){hi=!1;continue}else return!1}else if(!this.options.flex)break}return hi?(vr=this.test_match(hi,Hn[Er]),vr!==!1?vr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var hi=this.next();return hi||this.lex()},begin:function(hi){this.conditionStack.push(hi)},popState:function(){var hi=this.conditionStack.length-1;return hi>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(hi){return hi=this.conditionStack.length-1-Math.abs(hi||0),hi>=0?this.conditionStack[hi]:"INITIAL"},pushState:function(hi){this.begin(hi)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(hi,Mr,Er,Hn){switch(Er){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return Mr.yytext=Mr.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return Ba}();Oi.lexer=ki;function mr(){this.yy={}}return mr.prototype=Oi,Oi.Parser=mr,new mr}();fg.parser=fg;const wy=fg,ky=e=>e.match(/^\s*requirement(Diagram)?/)!==null;let hg=[],hf={},q0={},xp={},$0={};const Ey={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(e,n,u){cc.parseDirective(this,e,n,u)},getConfig:()=>qe().req,addRequirement:(e,n)=>(q0[e]===void 0&&(q0[e]={name:e,type:n,id:hf.id,text:hf.text,risk:hf.risk,verifyMethod:hf.verifyMethod}),hf={},q0[e]),getRequirements:()=>q0,setNewReqId:e=>{hf!==void 0&&(hf.id=e)},setNewReqText:e=>{hf!==void 0&&(hf.text=e)},setNewReqRisk:e=>{hf!==void 0&&(hf.risk=e)},setNewReqVerifyMethod:e=>{hf!==void 0&&(hf.verifyMethod=e)},setAccTitle:Oa,getAccTitle:Wo,setAccDescription:bc,getAccDescription:oc,addElement:e=>($0[e]===void 0&&($0[e]={name:e,type:xp.type,docRef:xp.docRef},Me.info("Added new requirement: ",e)),xp={},$0[e]),getElements:()=>$0,setNewElementType:e=>{xp!==void 0&&(xp.type=e)},setNewElementDocRef:e=>{xp!==void 0&&(xp.docRef=e)},addRelationship:(e,n,u)=>{hg.push({type:e,src:n,dst:u})},getRelationships:()=>hg,clear:()=>{hg=[],hf={},q0={},xp={},$0={},rs()}},pg={CONTAINS:"contains",ARROW:"arrow"},Hm={ReqMarkers:pg,insertLineEndings:(e,n)=>{let u=e.append("defs").append("marker").attr("id",pg.CONTAINS+"_line_ending").attr("refX",0).attr("refY",n.line_height/2).attr("markerWidth",n.line_height).attr("markerHeight",n.line_height).attr("orient","auto").append("g");u.append("circle").attr("cx",n.line_height/2).attr("cy",n.line_height/2).attr("r",n.line_height/2).attr("fill","none"),u.append("line").attr("x1",0).attr("x2",n.line_height).attr("y1",n.line_height/2).attr("y2",n.line_height/2).attr("stroke-width",1),u.append("line").attr("y1",0).attr("y2",n.line_height).attr("x1",n.line_height/2).attr("x2",n.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",pg.ARROW+"_line_ending").attr("refX",n.line_height).attr("refY",.5*n.line_height).attr("markerWidth",n.line_height).attr("markerHeight",n.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${n.line_height},${n.line_height/2}
      M${n.line_height},${n.line_height/2}
      L0,${n.line_height}`).attr("stroke-width",1)}};let Nc={},jm=0;const Vm=(e,n)=>e.insert("rect","#"+n).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Nc.rect_min_width+"px").attr("height",Nc.rect_min_height+"px"),Ym=(e,n,u)=>{let b=Nc.rect_min_width/2,y=e.append("text").attr("class","req reqLabel reqTitle").attr("id",n).attr("x",b).attr("y",Nc.rect_padding).attr("dominant-baseline","hanging"),L=0;u.forEach(_e=>{L==0?y.append("tspan").attr("text-anchor","middle").attr("x",Nc.rect_min_width/2).attr("dy",0).text(_e):y.append("tspan").attr("text-anchor","middle").attr("x",Nc.rect_min_width/2).attr("dy",Nc.line_height*.75).text(_e),L++});let P=1.5*Nc.rect_padding,V=L*Nc.line_height*.75,ee=P+V;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Nc.rect_min_width).attr("y1",ee).attr("y2",ee),{titleNode:y,y:ee}},Km=(e,n,u,b)=>{let y=e.append("text").attr("class","req reqLabel").attr("id",n).attr("x",Nc.rect_padding).attr("y",b).attr("dominant-baseline","hanging"),L=0;const P=30;let V=[];return u.forEach(ee=>{let _e=ee.length;for(;_e>P&&L<3;){let Le=ee.substring(0,P);ee=ee.substring(P,ee.length),_e=ee.length,V[V.length]=Le,L++}if(L==3){let Le=V[V.length-1];V[V.length-1]=Le.substring(0,Le.length-4)+"..."}else V[V.length]=ee;L=0}),V.forEach(ee=>{y.append("tspan").attr("x",Nc.rect_padding).attr("dy",Nc.line_height).text(ee)}),y},Cy=(e,n,u,b)=>{const y=n.node().getTotalLength(),L=n.node().getPointAtLength(y*.5),P="rel"+jm;jm++;const ee=e.append("text").attr("class","req relationshipLabel").attr("id",P).attr("x",L.x).attr("y",L.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(b).node().getBBox();e.insert("rect","#"+P).attr("class","req reqLabelBox").attr("x",L.x-ee.width/2).attr("y",L.y-ee.height/2).attr("width",ee.width).attr("height",ee.height).attr("fill","white").attr("fill-opacity","85%")},Ty=function(e,n,u,b,y){const L=u.edge(m0(n.src),m0(n.dst)),P=(0,d.jvg)().x(function(ee){return ee.x}).y(function(ee){return ee.y}),V=e.insert("path","#"+b).attr("class","er relationshipLine").attr("d",P(L.points)).attr("fill","none");n.type==y.db.Relationships.CONTAINS?V.attr("marker-start","url("+Ee.getUrl(Nc.arrowMarkerAbsolute)+"#"+n.type+"_line_ending)"):(V.attr("stroke-dasharray","10,7"),V.attr("marker-end","url("+Ee.getUrl(Nc.arrowMarkerAbsolute)+"#"+Hm.ReqMarkers.ARROW+"_line_ending)")),Cy(e,V,Nc,`<<${n.type}>>`)},Sy=(e,n,u)=>{Object.keys(e).forEach(b=>{let y=e[b];b=m0(b),Me.info("Added new requirement: ",b);const L=u.append("g").attr("id",b),P="req-"+b,V=Vm(L,P);let ee=Ym(L,b+"_title",[`<<${y.type}>>`,`${y.name}`]);Km(L,b+"_body",[`Id: ${y.id}`,`Text: ${y.text}`,`Risk: ${y.risk}`,`Verification: ${y.verifyMethod}`],ee.y);const _e=V.node().getBBox();n.setNode(b,{width:_e.width,height:_e.height,shape:"rect",id:b})})},Ay=(e,n,u)=>{Object.keys(e).forEach(b=>{let y=e[b];const L=m0(b),P=u.append("g").attr("id",L),V="element-"+L,ee=Vm(P,V);let _e=Ym(P,V+"_title",["<<Element>>",`${b}`]);Km(P,V+"_body",[`Type: ${y.type||"Not Specified"}`,`Doc Ref: ${y.docRef||"None"}`],_e.y);const Le=ee.node().getBBox();n.setNode(L,{width:Le.width,height:Le.height,shape:"rect",id:L})})},My=(e,n)=>(e.forEach(function(u){let b=m0(u.src),y=m0(u.dst);n.setEdge(b,y,{relationship:u})}),e),Dy=function(e,n){n.nodes().forEach(function(u){u!==void 0&&n.node(u)!==void 0&&(e.select("#"+u),e.select("#"+u).attr("transform","translate("+(n.node(u).x-n.node(u).width/2)+","+(n.node(u).y-n.node(u).height/2)+" )"))})},m0=e=>e.replace(/\s/g,"").replace(/\./g,"_"),Iy={draw:(e,n,u,b)=>{Nc=qe().requirement,b.db.clear(),b.parser.parse(e);const y=Nc.securityLevel;let L;y==="sandbox"&&(L=(0,d.Ys)("#i"+n));const V=(y==="sandbox"?(0,d.Ys)(L.nodes()[0].contentDocument.body):(0,d.Ys)("body")).select(`[id='${n}']`);Hm.insertLineEndings(V,Nc);const ee=new Te.k({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Nc.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let _e=b.db.getRequirements(),Le=b.db.getElements(),Fe=b.db.getRelationships();Sy(_e,ee,V),Ay(Le,ee,V),My(Fe,ee),(0,lt.bK)(ee),Dy(V,ee),Fe.forEach(function(an){Ty(V,an,ee,n,b)});const Re=Nc.rect_padding,Ke=V.node().getBBox(),Ut=Ke.width+Re*2,sn=Ke.height+Re*2;Ra(V,sn,Ut,Nc.useMaxWidth),V.attr("viewBox",`${Ke.x-Re} ${Ke.y-Re} ${Ut} ${sn}`)}};var vg=function(){var e=function(hi,Mr,Er,Hn){for(Er=Er||{},Hn=hi.length;Hn--;Er[hi[Hn]]=Mr);return Er},n=[1,2],u=[1,3],b=[1,5],y=[1,7],L=[2,5],P=[1,15],V=[1,17],ee=[1,19],_e=[1,21],Le=[1,22],Fe=[1,23],Re=[1,29],Ke=[1,30],Ut=[1,31],sn=[1,32],an=[1,33],hn=[1,34],Xt=[1,35],zn=[1,36],nr=[1,37],kr=[1,38],$r=[1,39],ir=[1,40],$n=[1,42],cn=[1,43],Sn=[1,45],kn=[1,46],At=[1,47],Ln=[1,48],$e=[1,49],sr=[1,50],ft=[1,53],or=[1,4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],na=[4,5,21,54,56],Sr=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],Zr=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,53,54,56,57,62,63,64,65,73,83],zr=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,52,54,56,57,62,63,64,65,73,83],Nr=[4,5,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,54,56,57,62,63,64,65,73,83],Ir=[71,72,73],Oi=[1,125],ki=[1,4,5,7,19,21,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,51,52,53,54,56,57,62,63,64,65,73,83],mr={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,box_section:11,box_line:12,participant_statement:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,box:19,restOfLine:20,end:21,signal:22,autonumber:23,NUM:24,off:25,activate:26,actor:27,deactivate:28,note_statement:29,links_statement:30,link_statement:31,properties_statement:32,details_statement:33,title:34,legacy_title:35,acc_title:36,acc_title_value:37,acc_descr:38,acc_descr_value:39,acc_descr_multiline_value:40,loop:41,rect:42,opt:43,alt:44,else_sections:45,par:46,par_sections:47,critical:48,option_sections:49,break:50,option:51,and:52,else:53,participant:54,AS:55,participant_actor:56,note:57,placement:58,text2:59,over:60,actor_pair:61,links:62,link:63,properties:64,details:65,spaceList:66,",":67,left_of:68,right_of:69,signaltype:70,"+":71,"-":72,ACTOR:73,SOLID_OPEN_ARROW:74,DOTTED_OPEN_ARROW:75,SOLID_ARROW:76,DOTTED_ARROW:77,SOLID_CROSS:78,DOTTED_CROSS:79,SOLID_POINT:80,DOTTED_POINT:81,TXT:82,open_directive:83,type_directive:84,arg_directive:85,close_directive:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",17:":",19:"box",20:"restOfLine",21:"end",23:"autonumber",24:"NUM",25:"off",26:"activate",28:"deactivate",34:"title",35:"legacy_title",36:"acc_title",37:"acc_title_value",38:"acc_descr",39:"acc_descr_value",40:"acc_descr_multiline_value",41:"loop",42:"rect",43:"opt",44:"alt",46:"par",48:"critical",50:"break",51:"option",52:"and",53:"else",54:"participant",55:"AS",56:"participant_actor",57:"note",60:"over",62:"links",63:"link",64:"properties",65:"details",67:",",68:"left_of",69:"right_of",71:"+",72:"-",73:"ACTOR",74:"SOLID_OPEN_ARROW",75:"DOTTED_OPEN_ARROW",76:"SOLID_ARROW",77:"DOTTED_ARROW",78:"SOLID_CROSS",79:"DOTTED_CROSS",80:"SOLID_POINT",81:"DOTTED_POINT",82:"TXT",83:"open_directive",84:"type_directive",85:"arg_directive",86:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[11,0],[11,2],[12,2],[12,1],[12,1],[6,4],[6,6],[10,1],[10,4],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[49,1],[49,4],[47,1],[47,4],[45,1],[45,4],[13,5],[13,3],[13,5],[13,3],[29,4],[29,4],[30,3],[31,3],[32,3],[33,3],[66,2],[66,1],[61,3],[61,1],[58,1],[58,1],[22,5],[22,5],[22,4],[27,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[70,1],[59,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(Mr,Er,Hn,Cn,yr,un,li){var zt=un.length-1;switch(yr){case 4:return Cn.apply(un[zt]),un[zt];case 5:case 10:this.$=[];break;case 6:case 11:un[zt-1].push(un[zt]),this.$=un[zt-1];break;case 7:case 8:case 12:case 13:this.$=un[zt];break;case 9:case 14:this.$=[];break;case 18:un[zt-1].unshift({type:"boxStart",boxData:Cn.parseBoxData(un[zt-2])}),un[zt-1].push({type:"boxEnd",boxText:un[zt-2]}),this.$=un[zt-1];break;case 20:this.$={type:"sequenceIndex",sequenceIndex:Number(un[zt-2]),sequenceIndexStep:Number(un[zt-1]),sequenceVisible:!0,signalType:Cn.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceIndex:Number(un[zt-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Cn.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Cn.LINETYPE.AUTONUMBER};break;case 23:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Cn.LINETYPE.AUTONUMBER};break;case 24:this.$={type:"activeStart",signalType:Cn.LINETYPE.ACTIVE_START,actor:un[zt-1]};break;case 25:this.$={type:"activeEnd",signalType:Cn.LINETYPE.ACTIVE_END,actor:un[zt-1]};break;case 31:Cn.setDiagramTitle(un[zt].substring(6)),this.$=un[zt].substring(6);break;case 32:Cn.setDiagramTitle(un[zt].substring(7)),this.$=un[zt].substring(7);break;case 33:this.$=un[zt].trim(),Cn.setAccTitle(this.$);break;case 34:case 35:this.$=un[zt].trim(),Cn.setAccDescription(this.$);break;case 36:un[zt-1].unshift({type:"loopStart",loopText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.LOOP_START}),un[zt-1].push({type:"loopEnd",loopText:un[zt-2],signalType:Cn.LINETYPE.LOOP_END}),this.$=un[zt-1];break;case 37:un[zt-1].unshift({type:"rectStart",color:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.RECT_START}),un[zt-1].push({type:"rectEnd",color:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.RECT_END}),this.$=un[zt-1];break;case 38:un[zt-1].unshift({type:"optStart",optText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.OPT_START}),un[zt-1].push({type:"optEnd",optText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.OPT_END}),this.$=un[zt-1];break;case 39:un[zt-1].unshift({type:"altStart",altText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.ALT_START}),un[zt-1].push({type:"altEnd",signalType:Cn.LINETYPE.ALT_END}),this.$=un[zt-1];break;case 40:un[zt-1].unshift({type:"parStart",parText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.PAR_START}),un[zt-1].push({type:"parEnd",signalType:Cn.LINETYPE.PAR_END}),this.$=un[zt-1];break;case 41:un[zt-1].unshift({type:"criticalStart",criticalText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.CRITICAL_START}),un[zt-1].push({type:"criticalEnd",signalType:Cn.LINETYPE.CRITICAL_END}),this.$=un[zt-1];break;case 42:un[zt-1].unshift({type:"breakStart",breakText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.BREAK_START}),un[zt-1].push({type:"breakEnd",optText:Cn.parseMessage(un[zt-2]),signalType:Cn.LINETYPE.BREAK_END}),this.$=un[zt-1];break;case 45:this.$=un[zt-3].concat([{type:"option",optionText:Cn.parseMessage(un[zt-1]),signalType:Cn.LINETYPE.CRITICAL_OPTION},un[zt]]);break;case 47:this.$=un[zt-3].concat([{type:"and",parText:Cn.parseMessage(un[zt-1]),signalType:Cn.LINETYPE.PAR_AND},un[zt]]);break;case 49:this.$=un[zt-3].concat([{type:"else",altText:Cn.parseMessage(un[zt-1]),signalType:Cn.LINETYPE.ALT_ELSE},un[zt]]);break;case 50:un[zt-3].type="addParticipant",un[zt-3].description=Cn.parseMessage(un[zt-1]),this.$=un[zt-3];break;case 51:un[zt-1].type="addParticipant",this.$=un[zt-1];break;case 52:un[zt-3].type="addActor",un[zt-3].description=Cn.parseMessage(un[zt-1]),this.$=un[zt-3];break;case 53:un[zt-1].type="addActor",this.$=un[zt-1];break;case 54:this.$=[un[zt-1],{type:"addNote",placement:un[zt-2],actor:un[zt-1].actor,text:un[zt]}];break;case 55:un[zt-2]=[].concat(un[zt-1],un[zt-1]).slice(0,2),un[zt-2][0]=un[zt-2][0].actor,un[zt-2][1]=un[zt-2][1].actor,this.$=[un[zt-1],{type:"addNote",placement:Cn.PLACEMENT.OVER,actor:un[zt-2].slice(0,2),text:un[zt]}];break;case 56:this.$=[un[zt-1],{type:"addLinks",actor:un[zt-1].actor,text:un[zt]}];break;case 57:this.$=[un[zt-1],{type:"addALink",actor:un[zt-1].actor,text:un[zt]}];break;case 58:this.$=[un[zt-1],{type:"addProperties",actor:un[zt-1].actor,text:un[zt]}];break;case 59:this.$=[un[zt-1],{type:"addDetails",actor:un[zt-1].actor,text:un[zt]}];break;case 62:this.$=[un[zt-2],un[zt]];break;case 63:this.$=un[zt];break;case 64:this.$=Cn.PLACEMENT.LEFTOF;break;case 65:this.$=Cn.PLACEMENT.RIGHTOF;break;case 66:this.$=[un[zt-4],un[zt-1],{type:"addMessage",from:un[zt-4].actor,to:un[zt-1].actor,signalType:un[zt-3],msg:un[zt]},{type:"activeStart",signalType:Cn.LINETYPE.ACTIVE_START,actor:un[zt-1]}];break;case 67:this.$=[un[zt-4],un[zt-1],{type:"addMessage",from:un[zt-4].actor,to:un[zt-1].actor,signalType:un[zt-3],msg:un[zt]},{type:"activeEnd",signalType:Cn.LINETYPE.ACTIVE_END,actor:un[zt-4]}];break;case 68:this.$=[un[zt-3],un[zt-1],{type:"addMessage",from:un[zt-3].actor,to:un[zt-1].actor,signalType:un[zt-2],msg:un[zt]}];break;case 69:this.$={type:"addParticipant",actor:un[zt]};break;case 70:this.$=Cn.LINETYPE.SOLID_OPEN;break;case 71:this.$=Cn.LINETYPE.DOTTED_OPEN;break;case 72:this.$=Cn.LINETYPE.SOLID;break;case 73:this.$=Cn.LINETYPE.DOTTED;break;case 74:this.$=Cn.LINETYPE.SOLID_CROSS;break;case 75:this.$=Cn.LINETYPE.DOTTED_CROSS;break;case 76:this.$=Cn.LINETYPE.SOLID_POINT;break;case 77:this.$=Cn.LINETYPE.DOTTED_POINT;break;case 78:this.$=Cn.parseMessage(un[zt].trim().substring(1));break;case 79:Cn.parseDirective("%%{","open_directive");break;case 80:Cn.parseDirective(un[zt],"type_directive");break;case 81:un[zt]=un[zt].trim().replace(/'/g,'"'),Cn.parseDirective(un[zt],"arg_directive");break;case 82:Cn.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:n,5:u,6:4,7:b,14:6,83:y},{1:[3]},{3:8,4:n,5:u,6:4,7:b,14:6,83:y},{3:9,4:n,5:u,6:4,7:b,14:6,83:y},{3:10,4:n,5:u,6:4,7:b,14:6,83:y},e([1,4,5,19,23,26,28,34,35,36,38,40,41,42,43,44,46,48,50,54,56,57,62,63,64,65,73,83],L,{8:11}),{15:12,84:[1,13]},{84:[2,79]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{16:51,17:[1,52],86:ft},e([17,86],[2,80]),e(or,[2,6]),{6:41,10:54,13:18,14:6,19:ee,22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},e(or,[2,8]),e(or,[2,9]),e(or,[2,17]),{20:[1,55]},{5:[1,56]},{5:[1,59],24:[1,57],25:[1,58]},{27:60,73:sr},{27:61,73:sr},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},{5:[1,66]},e(or,[2,31]),e(or,[2,32]),{37:[1,67]},{39:[1,68]},e(or,[2,35]),{20:[1,69]},{20:[1,70]},{20:[1,71]},{20:[1,72]},{20:[1,73]},{20:[1,74]},{20:[1,75]},e(or,[2,43]),{27:76,73:sr},{27:77,73:sr},{70:78,74:[1,79],75:[1,80],76:[1,81],77:[1,82],78:[1,83],79:[1,84],80:[1,85],81:[1,86]},{58:87,60:[1,88],68:[1,89],69:[1,90]},{27:91,73:sr},{27:92,73:sr},{27:93,73:sr},{27:94,73:sr},e([5,55,67,74,75,76,77,78,79,80,81,82],[2,69]),{5:[1,95]},{18:96,85:[1,97]},{5:[2,82]},e(or,[2,7]),e(na,[2,10],{11:98}),e(or,[2,19]),{5:[1,100],24:[1,99]},{5:[1,101]},e(or,[2,23]),{5:[1,102]},{5:[1,103]},e(or,[2,26]),e(or,[2,27]),e(or,[2,28]),e(or,[2,29]),e(or,[2,30]),e(or,[2,33]),e(or,[2,34]),e(Sr,L,{8:104}),e(Sr,L,{8:105}),e(Sr,L,{8:106}),e(Zr,L,{45:107,8:108}),e(zr,L,{47:109,8:110}),e(Nr,L,{49:111,8:112}),e(Sr,L,{8:113}),{5:[1,115],55:[1,114]},{5:[1,117],55:[1,116]},{27:120,71:[1,118],72:[1,119],73:sr},e(Ir,[2,70]),e(Ir,[2,71]),e(Ir,[2,72]),e(Ir,[2,73]),e(Ir,[2,74]),e(Ir,[2,75]),e(Ir,[2,76]),e(Ir,[2,77]),{27:121,73:sr},{27:123,61:122,73:sr},{73:[2,64]},{73:[2,65]},{59:124,82:Oi},{59:126,82:Oi},{59:127,82:Oi},{59:128,82:Oi},e(ki,[2,15]),{16:129,86:ft},{86:[2,81]},{4:[1,132],5:[1,134],12:131,13:133,21:[1,130],54:$n,56:cn},{5:[1,135]},e(or,[2,21]),e(or,[2,22]),e(or,[2,24]),e(or,[2,25]),{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[1,136],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[1,137],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[1,138],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{21:[1,139]},{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[2,48],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,53:[1,140],54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{21:[1,141]},{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[2,46],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,52:[1,142],54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{21:[1,143]},{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[2,44],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,51:[1,144],54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{4:P,5:V,6:41,9:14,10:16,13:18,14:6,19:ee,21:[1,145],22:20,23:_e,26:Le,27:44,28:Fe,29:24,30:25,31:26,32:27,33:28,34:Re,35:Ke,36:Ut,38:sn,40:an,41:hn,42:Xt,43:zn,44:nr,46:kr,48:$r,50:ir,54:$n,56:cn,57:Sn,62:kn,63:At,64:Ln,65:$e,73:sr,83:y},{20:[1,146]},e(or,[2,51]),{20:[1,147]},e(or,[2,53]),{27:148,73:sr},{27:149,73:sr},{59:150,82:Oi},{59:151,82:Oi},{59:152,82:Oi},{67:[1,153],82:[2,63]},{5:[2,56]},{5:[2,78]},{5:[2,57]},{5:[2,58]},{5:[2,59]},{5:[1,154]},e(or,[2,18]),e(na,[2,11]),{13:155,54:$n,56:cn},e(na,[2,13]),e(na,[2,14]),e(or,[2,20]),e(or,[2,36]),e(or,[2,37]),e(or,[2,38]),e(or,[2,39]),{20:[1,156]},e(or,[2,40]),{20:[1,157]},e(or,[2,41]),{20:[1,158]},e(or,[2,42]),{5:[1,159]},{5:[1,160]},{59:161,82:Oi},{59:162,82:Oi},{5:[2,68]},{5:[2,54]},{5:[2,55]},{27:163,73:sr},e(ki,[2,16]),e(na,[2,12]),e(Zr,L,{8:108,45:164}),e(zr,L,{8:110,47:165}),e(Nr,L,{8:112,49:166}),e(or,[2,50]),e(or,[2,52]),{5:[2,66]},{5:[2,67]},{82:[2,62]},{21:[2,49]},{21:[2,47]},{21:[2,45]}],defaultActions:{7:[2,79],8:[2,1],9:[2,2],10:[2,3],53:[2,82],89:[2,64],90:[2,65],97:[2,81],124:[2,56],125:[2,78],126:[2,57],127:[2,58],128:[2,59],150:[2,68],151:[2,54],152:[2,55],161:[2,66],162:[2,67],163:[2,62],164:[2,49],165:[2,47],166:[2,45]},parseError:function(Mr,Er){if(Er.recoverable)this.trace(Mr);else{var Hn=new Error(Mr);throw Hn.hash=Er,Hn}},parse:function(Mr){var Er=this,Hn=[0],Cn=[],yr=[null],un=[],li=this.table,zt="",Va=0,_r=0,fa=2,zi=1,Ei=un.slice.call(arguments,1),pi=Object.create(this.lexer),Si={yy:{}};for(var vi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,vi)&&(Si.yy[vi]=this.yy[vi]);pi.setInput(Mr,Si.yy),Si.yy.lexer=pi,Si.yy.parser=this,typeof pi.yylloc=="undefined"&&(pi.yylloc={});var Ii=pi.yylloc;un.push(Ii);var il=pi.options&&pi.options.ranges;typeof Si.yy.parseError=="function"?this.parseError=Si.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function as(){var si;return si=Cn.pop()||pi.lex()||zi,typeof si!="number"&&(si instanceof Array&&(Cn=si,si=Cn.pop()),si=Er.symbols_[si]||si),si}for(var to,Ja,qo,uc,ws={},ho,La,Ni,Mi;;){if(Ja=Hn[Hn.length-1],this.defaultActions[Ja]?qo=this.defaultActions[Ja]:((to===null||typeof to=="undefined")&&(to=as()),qo=li[Ja]&&li[Ja][to]),typeof qo=="undefined"||!qo.length||!qo[0]){var ca="";Mi=[];for(ho in li[Ja])this.terminals_[ho]&&ho>fa&&Mi.push("'"+this.terminals_[ho]+"'");pi.showPosition?ca="Parse error on line "+(Va+1)+`:
`+pi.showPosition()+`
Expecting `+Mi.join(", ")+", got '"+(this.terminals_[to]||to)+"'":ca="Parse error on line "+(Va+1)+": Unexpected "+(to==zi?"end of input":"'"+(this.terminals_[to]||to)+"'"),this.parseError(ca,{text:pi.match,token:this.terminals_[to]||to,line:pi.yylineno,loc:Ii,expected:Mi})}if(qo[0]instanceof Array&&qo.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ja+", token: "+to);switch(qo[0]){case 1:Hn.push(to),yr.push(pi.yytext),un.push(pi.yylloc),Hn.push(qo[1]),to=null,_r=pi.yyleng,zt=pi.yytext,Va=pi.yylineno,Ii=pi.yylloc;break;case 2:if(La=this.productions_[qo[1]][1],ws.$=yr[yr.length-La],ws._$={first_line:un[un.length-(La||1)].first_line,last_line:un[un.length-1].last_line,first_column:un[un.length-(La||1)].first_column,last_column:un[un.length-1].last_column},il&&(ws._$.range=[un[un.length-(La||1)].range[0],un[un.length-1].range[1]]),uc=this.performAction.apply(ws,[zt,_r,Va,Si.yy,qo[1],yr,un].concat(Ei)),typeof uc!="undefined")return uc;La&&(Hn=Hn.slice(0,-1*La*2),yr=yr.slice(0,-1*La),un=un.slice(0,-1*La)),Hn.push(this.productions_[qo[1]][0]),yr.push(ws.$),un.push(ws._$),Ni=li[Hn[Hn.length-2]][Hn[Hn.length-1]],Hn.push(Ni);break;case 3:return!0}}return!0}},Ba=function(){var hi={EOF:1,parseError:function(Er,Hn){if(this.yy.parser)this.yy.parser.parseError(Er,Hn);else throw new Error(Er)},setInput:function(Mr,Er){return this.yy=Er||this.yy||{},this._input=Mr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Mr=this._input[0];this.yytext+=Mr,this.yyleng++,this.offset++,this.match+=Mr,this.matched+=Mr;var Er=Mr.match(/(?:\r\n?|\n).*/g);return Er?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Mr},unput:function(Mr){var Er=Mr.length,Hn=Mr.split(/(?:\r\n?|\n)/g);this._input=Mr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Er),this.offset-=Er;var Cn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Hn.length-1&&(this.yylineno-=Hn.length-1);var yr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Hn?(Hn.length===Cn.length?this.yylloc.first_column:0)+Cn[Cn.length-Hn.length].length-Hn[0].length:this.yylloc.first_column-Er},this.options.ranges&&(this.yylloc.range=[yr[0],yr[0]+this.yyleng-Er]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Mr){this.unput(this.match.slice(Mr))},pastInput:function(){var Mr=this.matched.substr(0,this.matched.length-this.match.length);return(Mr.length>20?"...":"")+Mr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Mr=this.match;return Mr.length<20&&(Mr+=this._input.substr(0,20-Mr.length)),(Mr.substr(0,20)+(Mr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Mr=this.pastInput(),Er=new Array(Mr.length+1).join("-");return Mr+this.upcomingInput()+`
`+Er+"^"},test_match:function(Mr,Er){var Hn,Cn,yr;if(this.options.backtrack_lexer&&(yr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(yr.yylloc.range=this.yylloc.range.slice(0))),Cn=Mr[0].match(/(?:\r\n?|\n).*/g),Cn&&(this.yylineno+=Cn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Cn?Cn[Cn.length-1].length-Cn[Cn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Mr[0].length},this.yytext+=Mr[0],this.match+=Mr[0],this.matches=Mr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Mr[0].length),this.matched+=Mr[0],Hn=this.performAction.call(this,this.yy,this,Er,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Hn)return Hn;if(this._backtrack){for(var un in yr)this[un]=yr[un];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Mr,Er,Hn,Cn;this._more||(this.yytext="",this.match="");for(var yr=this._currentRules(),un=0;un<yr.length;un++)if(Hn=this._input.match(this.rules[yr[un]]),Hn&&(!Er||Hn[0].length>Er[0].length)){if(Er=Hn,Cn=un,this.options.backtrack_lexer){if(Mr=this.test_match(Hn,yr[un]),Mr!==!1)return Mr;if(this._backtrack){Er=!1;continue}else return!1}else if(!this.options.flex)break}return Er?(Mr=this.test_match(Er,yr[Cn]),Mr!==!1?Mr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Er=this.next();return Er||this.lex()},begin:function(Er){this.conditionStack.push(Er)},popState:function(){var Er=this.conditionStack.length-1;return Er>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Er){return Er=this.conditionStack.length-1-Math.abs(Er||0),Er>=0?this.conditionStack[Er]:"INITIAL"},pushState:function(Er){this.begin(Er)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Er,Hn,Cn,yr){switch(Cn){case 0:return this.begin("open_directive"),83;case 1:return this.begin("type_directive"),84;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),86;case 4:return 85;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 24;case 12:return this.begin("LINE"),19;case 13:return this.begin("ID"),54;case 14:return this.begin("ID"),56;case 15:return Hn.yytext=Hn.yytext.trim(),this.begin("ALIAS"),73;case 16:return this.popState(),this.popState(),this.begin("LINE"),55;case 17:return this.popState(),this.popState(),5;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),44;case 22:return this.begin("LINE"),53;case 23:return this.begin("LINE"),46;case 24:return this.begin("LINE"),52;case 25:return this.begin("LINE"),48;case 26:return this.begin("LINE"),51;case 27:return this.begin("LINE"),50;case 28:return this.popState(),20;case 29:return 21;case 30:return 68;case 31:return 69;case 32:return 62;case 33:return 63;case 34:return 64;case 35:return 65;case 36:return 60;case 37:return 57;case 38:return this.begin("ID"),26;case 39:return this.begin("ID"),28;case 40:return 34;case 41:return 35;case 42:return this.begin("acc_title"),36;case 43:return this.popState(),"acc_title_value";case 44:return this.begin("acc_descr"),38;case 45:return this.popState(),"acc_descr_value";case 46:this.begin("acc_descr_multiline");break;case 47:this.popState();break;case 48:return"acc_descr_multiline_value";case 49:return 7;case 50:return 23;case 51:return 25;case 52:return 67;case 53:return 5;case 54:return Hn.yytext=Hn.yytext.trim(),73;case 55:return 76;case 56:return 77;case 57:return 74;case 58:return 75;case 59:return 78;case 60:return 79;case 61:return 80;case 62:return 81;case 63:return 82;case 64:return 71;case 65:return 72;case 66:return 5;case 67:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[47,48],inclusive:!1},acc_descr:{rules:[45],inclusive:!1},acc_title:{rules:[43],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,15],inclusive:!1},ALIAS:{rules:[7,8,16,17],inclusive:!1},LINE:{rules:[7,8,28],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return hi}();mr.lexer=Ba;function vr(){this.yy={}}return vr.prototype=mr,mr.Parser=vr,new vr}();vg.parser=vg;const Ly=vg,Oy=e=>e.match(/^\s*sequenceDiagram/)!==null;let X0,wp={},b0=[],gh=[],Cv=!1,gg,ip;const Ny=function(e,n,u){cc.parseDirective(this,e,n,u)},Ry=function(e){b0.push({name:e.text,wrap:e.wrap===void 0&&Up()||!!e.wrap,fill:e.color,actorKeys:[]}),ip=b0.slice(-1)[0]},mg=function(e,n,u,b){let y=ip;const L=wp[e];if(L){if(ip&&L.box&&ip!==L.box)throw new Error("A same participant should only be defined in one Box: "+L.name+" can't be in '"+L.box.name+"' and in '"+ip.name+"' at the same time.");if(y=L.box?L.box:ip,L.box=y,L&&n===L.name&&u==null)return}(u==null||u.text==null)&&(u={text:n,wrap:null,type:b}),(b==null||u.text==null)&&(u={text:n,wrap:null,type:b}),wp[e]={box:y,name:n,description:u.text,wrap:u.wrap===void 0&&Up()||!!u.wrap,prevActor:X0,links:{},properties:{},actorCnt:null,rectData:null,type:b||"participant"},X0&&wp[X0]&&(wp[X0].nextActor=e),ip&&ip.actorKeys.push(e),X0=e},Py=e=>{let n,u=0;for(n=0;n<gh.length;n++)gh[n].type===J0.ACTIVE_START&&gh[n].from.actor===e&&u++,gh[n].type===J0.ACTIVE_END&&gh[n].from.actor===e&&u--;return u},By=function(e,n,u,b){gh.push({from:e,to:n,message:u.text,wrap:u.wrap===void 0&&Up()||!!u.wrap,answer:b})},$c=function(e,n,u={text:void 0,wrap:void 0},b){if(b===J0.ACTIVE_END&&Py(e.actor)<1){let L=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw L.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},L}return gh.push({from:e,to:n,message:u.text,wrap:u.wrap===void 0&&Up()||!!u.wrap,type:b}),!0},Fy=function(){return b0.length>0},Zy=function(){return b0.some(e=>e.name)},zy=function(){return gh},Wy=function(){return b0},Uy=function(){return wp},Q0=function(e){return wp[e]},Hy=function(){return Object.keys(wp)},jy=function(){Cv=!0},Vy=function(){Cv=!1},Yy=()=>Cv,Ky=function(e){gg=e},Up=()=>gg!==void 0?gg:qe().sequence.wrap,Gy=function(){wp={},b0=[],gh=[],Cv=!1,rs()},qy=function(e){const n=e.trim(),u={text:n.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:n.match(/^:?wrap:/)!==null?!0:n.match(/^:?nowrap:/)!==null?!1:void 0};return Me.debug("parseMessage:",u),u},$y=function(e){const n=e.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let u=n!=null&&n[1]?n[1].trim():"transparent",b=n!=null&&n[2]?n[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",u)||(u="transparent",b=e.trim());else{const L=new Option().style;L.color=u,L.color!==u&&(u="transparent",b=e.trim())}return{color:u,text:b!==void 0?jr(b.replace(/^:?(?:no)?wrap:/,""),qe()):void 0,wrap:b!==void 0?b.match(/^:?wrap:/)!==null?!0:b.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},J0={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},Xy={FILLED:0,OPEN:1},Qy={LEFTOF:0,RIGHTOF:1,OVER:2},Gm=function(e,n,u){u.text,u.wrap===void 0&&Up()||u.wrap;const b=[].concat(e,e);gh.push({from:b[0],to:b[1],message:u.text,wrap:u.wrap===void 0&&Up()||!!u.wrap,type:J0.NOTE,placement:n})},qm=function(e,n){const u=Q0(e);try{let b=jr(n.text,qe());b=b.replace(/&amp;/g,"&"),b=b.replace(/&equals;/g,"=");const y=JSON.parse(b);bg(u,y)}catch(b){Me.error("error while parsing actor link text",b)}},Jy=function(e,n){const u=Q0(e);try{const P={};let V=jr(n.text,qe());var b=V.indexOf("@");V=V.replace(/&amp;/g,"&"),V=V.replace(/&equals;/g,"=");var y=V.slice(0,b-1).trim(),L=V.slice(b+1).trim();P[y]=L,bg(u,P)}catch(P){Me.error("error while parsing actor link text",P)}};function bg(e,n){if(e.links==null)e.links=n;else for(let u in n)e.links[u]=n[u]}const $m=function(e,n){const u=Q0(e);try{let b=jr(n.text,qe());const y=JSON.parse(b);Xm(u,y)}catch(b){Me.error("error while parsing actor properties text",b)}};function Xm(e,n){if(e.properties==null)e.properties=n;else for(let u in n)e.properties[u]=n[u]}function e2(){ip=void 0}const Qm=function(e,n){const u=Q0(e),b=document.getElementById(n.text);try{const y=b.innerHTML,L=JSON.parse(y);L.properties&&Xm(u,L.properties),L.links&&bg(u,L.links)}catch(y){Me.error("error while parsing actor details text",y)}},t2=function(e,n){if(e!==void 0&&e.properties!==void 0)return e.properties[n]},Jm=function(e){if(Array.isArray(e))e.forEach(function(n){Jm(n)});else switch(e.type){case"sequenceIndex":gh.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":mg(e.actor,e.actor,e.description,"participant");break;case"addActor":mg(e.actor,e.actor,e.description,"actor");break;case"activeStart":$c(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":$c(e.actor,void 0,void 0,e.signalType);break;case"addNote":Gm(e.actor,e.placement,e.text);break;case"addLinks":qm(e.actor,e.text);break;case"addALink":Jy(e.actor,e.text);break;case"addProperties":$m(e.actor,e.text);break;case"addDetails":Qm(e.actor,e.text);break;case"addMessage":$c(e.from,e.to,e.msg,e.signalType);break;case"boxStart":Ry(e.boxData);break;case"boxEnd":e2();break;case"loopStart":$c(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":$c(void 0,void 0,void 0,e.signalType);break;case"rectStart":$c(void 0,void 0,e.color,e.signalType);break;case"rectEnd":$c(void 0,void 0,void 0,e.signalType);break;case"optStart":$c(void 0,void 0,e.optText,e.signalType);break;case"optEnd":$c(void 0,void 0,void 0,e.signalType);break;case"altStart":$c(void 0,void 0,e.altText,e.signalType);break;case"else":$c(void 0,void 0,e.altText,e.signalType);break;case"altEnd":$c(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":Oa(e.text);break;case"parStart":$c(void 0,void 0,e.parText,e.signalType);break;case"and":$c(void 0,void 0,e.parText,e.signalType);break;case"parEnd":$c(void 0,void 0,void 0,e.signalType);break;case"criticalStart":$c(void 0,void 0,e.criticalText,e.signalType);break;case"option":$c(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":$c(void 0,void 0,void 0,e.signalType);break;case"breakStart":$c(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":$c(void 0,void 0,void 0,e.signalType);break}},e1={addActor:mg,addMessage:By,addSignal:$c,addLinks:qm,addDetails:Qm,addProperties:$m,autoWrap:Up,setWrap:Ky,enableSequenceNumbers:jy,disableSequenceNumbers:Vy,showSequenceNumbers:Yy,getMessages:zy,getActors:Uy,getActor:Q0,getActorKeys:Hy,getActorProperty:t2,getAccTitle:Wo,getBoxes:Wy,getDiagramTitle:at,setDiagramTitle:ou,parseDirective:Ny,getConfig:()=>qe().sequence,clear:Gy,parseMessage:qy,parseBoxData:$y,LINETYPE:J0,ARROWTYPE:Xy,PLACEMENT:Qy,addNote:Gm,setAccTitle:Oa,apply:Jm,setAccDescription:bc,getAccDescription:oc,hasAtLeastOneBox:Fy,hasAtLeastOneBoxWithTitle:Zy};let yg=[];const n2=e=>{yg.push(e)},t1=()=>{yg.forEach(e=>{e()}),yg=[]},Tv=function(e,n){const u=e.append("rect");return u.attr("x",n.x),u.attr("y",n.y),u.attr("fill",n.fill),u.attr("stroke",n.stroke),u.attr("width",n.width),u.attr("height",n.height),u.attr("rx",n.rx),u.attr("ry",n.ry),n.class!==void 0&&u.attr("class",n.class),u},n1=(e,n)=>{n2(()=>{const u=document.querySelectorAll(e);u.length!==0&&(u[0].addEventListener("mouseover",function(){o2("actor"+n+"_popup")}),u[0].addEventListener("mouseout",function(){s2("actor"+n+"_popup")}))})},r2=function(e,n,u,b,y){if(n.links===void 0||n.links===null||Object.keys(n.links).length===0)return{height:0,width:0};const L=n.links,P=n.actorCnt,V=n.rectData;var ee="none";y&&(ee="block !important");const _e=e.append("g");_e.attr("id","actor"+P+"_popup"),_e.attr("class","actorPopupMenu"),_e.attr("display",ee),n1("#actor"+P+"_popup",P);var Le="";V.class!==void 0&&(Le=" "+V.class);let Fe=V.width>u?V.width:u;const Re=_e.append("rect");if(Re.attr("class","actorPopupMenuPanel"+Le),Re.attr("x",V.x),Re.attr("y",V.height),Re.attr("fill",V.fill),Re.attr("stroke",V.stroke),Re.attr("width",Fe),Re.attr("height",V.height),Re.attr("rx",V.rx),Re.attr("ry",V.ry),L!=null){var Ke=20;for(let an in L){var Ut=_e.append("a"),sn=(0,p.N)(L[an]);Ut.attr("xlink:href",sn),Ut.attr("target","_blank"),w2(b)(an,Ut,V.x+10,V.height+Ke,Fe,20,{class:"actor"},b),Ke+=30}}return Re.attr("height",Ke),{height:V.height+Ke,width:Fe}},r1=function(e,n,u,b){const y=e.append("image");y.attr("x",n),y.attr("y",u);var L=(0,p.N)(b);y.attr("xlink:href",L)},i1=function(e,n,u,b){const y=e.append("use");y.attr("x",n),y.attr("y",u);var L=(0,p.N)(b);y.attr("xlink:href","#"+L)},i2=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},a2=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},o2=function(e){var n=document.getElementById(e);n!=null&&(n.style.display="block")},s2=function(e){var n=document.getElementById(e);n!=null&&(n.style.display="none")},y0=function(e,n){let u=0,b=0;const y=n.text.split(Ee.lineBreakRegex),[L,P]=au(n.fontSize);let V=[],ee=0,_e=()=>n.y;if(n.valign!==void 0&&n.textMargin!==void 0&&n.textMargin>0)switch(n.valign){case"top":case"start":_e=()=>Math.round(n.y+n.textMargin);break;case"middle":case"center":_e=()=>Math.round(n.y+(u+b+n.textMargin)/2);break;case"bottom":case"end":_e=()=>Math.round(n.y+(u+b+2*n.textMargin)-n.textMargin);break}if(n.anchor!==void 0&&n.textMargin!==void 0&&n.width!==void 0)switch(n.anchor){case"left":case"start":n.x=Math.round(n.x+n.textMargin),n.anchor="start",n.dominantBaseline="middle",n.alignmentBaseline="middle";break;case"middle":case"center":n.x=Math.round(n.x+n.width/2),n.anchor="middle",n.dominantBaseline="middle",n.alignmentBaseline="middle";break;case"right":case"end":n.x=Math.round(n.x+n.width-n.textMargin),n.anchor="end",n.dominantBaseline="middle",n.alignmentBaseline="middle";break}for(let[Le,Fe]of y.entries()){n.textMargin!==void 0&&n.textMargin===0&&L!==void 0&&(ee=Le*L);const Re=e.append("text");if(Re.attr("x",n.x),Re.attr("y",_e()),n.anchor!==void 0&&Re.attr("text-anchor",n.anchor).attr("dominant-baseline",n.dominantBaseline).attr("alignment-baseline",n.alignmentBaseline),n.fontFamily!==void 0&&Re.style("font-family",n.fontFamily),P!==void 0&&Re.style("font-size",P),n.fontWeight!==void 0&&Re.style("font-weight",n.fontWeight),n.fill!==void 0&&Re.attr("fill",n.fill),n.class!==void 0&&Re.attr("class",n.class),n.dy!==void 0?Re.attr("dy",n.dy):ee!==0&&Re.attr("dy",ee),n.tspan){const Ke=Re.append("tspan");Ke.attr("x",n.x),n.fill!==void 0&&Ke.attr("fill",n.fill),Ke.text(Fe)}else Re.text(Fe);n.valign!==void 0&&n.textMargin!==void 0&&n.textMargin>0&&(b+=(Re._groups||Re)[0][0].getBBox().height,u=b),V.push(Re)}return V},a1=function(e,n){function u(y,L,P,V,ee){return y+","+L+" "+(y+P)+","+L+" "+(y+P)+","+(L+V-ee)+" "+(y+P-ee*1.2)+","+(L+V)+" "+y+","+(L+V)}const b=e.append("polygon");return b.attr("points",u(n.x,n.y,n.width,n.height,7)),b.attr("class","labelBox"),n.y=n.y+n.height/2,y0(e,n),b};let Uh=-1;const o1=(e,n)=>{!e.selectAll||e.selectAll(".actor-line").attr("class","200").attr("y2",n-55)},l2=function(e,n,u,b){const y=n.x+n.width/2,L=n.y+5,P=e.append("g");var V=P;b||(Uh++,V.append("line").attr("id","actor"+Uh).attr("x1",y).attr("y1",L).attr("x2",y).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),V=P.append("g"),n.actorCnt=Uh,n.links!=null&&(V.attr("id","root-"+Uh),n1("#root-"+Uh,Uh)));const ee=Sv();var _e="actor";n.properties!=null&&n.properties.class?_e=n.properties.class:ee.fill="#eaeaea",ee.x=n.x,ee.y=n.y,ee.width=n.width,ee.height=n.height,ee.class=_e,ee.rx=3,ee.ry=3;const Le=Tv(V,ee);if(n.rectData=ee,n.properties!=null&&n.properties.icon){const Re=n.properties.icon.trim();Re.charAt(0)==="@"?i1(V,ee.x+ee.width-20,ee.y+10,Re.substr(1)):r1(V,ee.x+ee.width-20,ee.y+10,Re)}xg(u)(n.description,V,ee.x,ee.y,ee.width,ee.height,{class:"actor"},u);let Fe=n.height;if(Le.node){const Re=Le.node().getBBox();n.height=Re.height,Fe=Re.height}return Fe},c2=function(e,n,u,b){const y=n.x+n.width/2,L=n.y+80;b||(Uh++,e.append("line").attr("id","actor"+Uh).attr("x1",y).attr("y1",L).attr("x2",y).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const P=e.append("g");P.attr("class","actor-man");const V=Sv();V.x=n.x,V.y=n.y,V.fill="#eaeaea",V.width=n.width,V.height=n.height,V.class="actor",V.rx=3,V.ry=3,P.append("line").attr("id","actor-man-torso"+Uh).attr("x1",y).attr("y1",n.y+25).attr("x2",y).attr("y2",n.y+45),P.append("line").attr("id","actor-man-arms"+Uh).attr("x1",y-18).attr("y1",n.y+33).attr("x2",y+18).attr("y2",n.y+33),P.append("line").attr("x1",y-18).attr("y1",n.y+60).attr("x2",y).attr("y2",n.y+45),P.append("line").attr("x1",y).attr("y1",n.y+45).attr("x2",y+16).attr("y2",n.y+60);const ee=P.append("circle");ee.attr("cx",n.x+n.width/2),ee.attr("cy",n.y+10),ee.attr("r",15),ee.attr("width",n.width),ee.attr("height",n.height);const _e=P.node().getBBox();return n.height=_e.height,xg(u)(n.description,P,V.x,V.y+35,V.width,V.height,{class:"actor"},u),n.height},u2=function(e,n,u,b){switch(n.type){case"actor":return c2(e,n,u,b);case"participant":return l2(e,n,u,b)}},d2=function(e,n,u){const y=e.append("g");s1(y,n),n.name&&xg(u)(n.name,y,n.x,n.y+(n.textMaxHeight||0)/2,n.width,0,{class:"text"},u),y.lower()},f2=function(e){return e.append("g")},h2=function(e,n,u,b,y){const L=Sv(),P=n.anchored;L.x=n.startx,L.y=n.starty,L.class="activation"+y%3,L.width=n.stopx-n.startx,L.height=u-n.starty,Tv(P,L)},p2=function(e,n,u,b){const{boxMargin:y,boxTextMargin:L,labelBoxHeight:P,labelBoxWidth:V,messageFontFamily:ee,messageFontSize:_e,messageFontWeight:Le}=b,Fe=e.append("g"),Re=function(sn,an,hn,Xt){return Fe.append("line").attr("x1",sn).attr("y1",an).attr("x2",hn).attr("y2",Xt).attr("class","loopLine")};Re(n.startx,n.starty,n.stopx,n.starty),Re(n.stopx,n.starty,n.stopx,n.stopy),Re(n.startx,n.stopy,n.stopx,n.stopy),Re(n.startx,n.starty,n.startx,n.stopy),n.sections!==void 0&&n.sections.forEach(function(sn){Re(n.startx,sn.y,n.stopx,sn.y).style("stroke-dasharray","3, 3")});let Ke=_g();Ke.text=u,Ke.x=n.startx,Ke.y=n.starty,Ke.fontFamily=ee,Ke.fontSize=_e,Ke.fontWeight=Le,Ke.anchor="middle",Ke.valign="middle",Ke.tspan=!1,Ke.width=V||50,Ke.height=P||20,Ke.textMargin=L,Ke.class="labelText",a1(Fe,Ke),Ke=_g(),Ke.text=n.title,Ke.x=n.startx+V/2+(n.stopx-n.startx)/2,Ke.y=n.starty+y+L,Ke.anchor="middle",Ke.valign="middle",Ke.textMargin=L,Ke.class="loopText",Ke.fontFamily=ee,Ke.fontSize=_e,Ke.fontWeight=Le,Ke.wrap=!0;let Ut=y0(Fe,Ke);return n.sectionTitles!==void 0&&n.sectionTitles.forEach(function(sn,an){if(sn.message){Ke.text=sn.message,Ke.x=n.startx+(n.stopx-n.startx)/2,Ke.y=n.sections[an].y+y+L,Ke.class="loopText",Ke.anchor="middle",Ke.valign="middle",Ke.tspan=!1,Ke.fontFamily=ee,Ke.fontSize=_e,Ke.fontWeight=Le,Ke.wrap=n.wrap,Ut=y0(Fe,Ke);let hn=Math.round(Ut.map(Xt=>(Xt._groups||Xt)[0][0].getBBox().height).reduce((Xt,zn)=>Xt+zn));n.sections[an].height+=hn-(y+L)}}),n.height=Math.round(n.stopy-n.starty),Fe},s1=function(e,n){Tv(e,{x:n.startx,y:n.starty,width:n.stopx-n.startx,height:n.stopy-n.starty,fill:n.fill,stroke:n.stroke,class:"rect"}).lower()},v2=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},g2=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},m2=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},b2=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},y2=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},_2=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},x2=function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},_g=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},Sv=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},xg=function(){function e(y,L,P,V,ee,_e,Le){const Fe=L.append("text").attr("x",P+ee/2).attr("y",V+_e/2+5).style("text-anchor","middle").text(y);b(Fe,Le)}function n(y,L,P,V,ee,_e,Le,Fe){const{actorFontSize:Re,actorFontFamily:Ke,actorFontWeight:Ut}=Fe,[sn,an]=au(Re),hn=y.split(Ee.lineBreakRegex);for(let Xt=0;Xt<hn.length;Xt++){const zn=Xt*sn-sn*(hn.length-1)/2,nr=L.append("text").attr("x",P+ee/2).attr("y",V).style("text-anchor","middle").style("font-size",an).style("font-weight",Ut).style("font-family",Ke);nr.append("tspan").attr("x",P+ee/2).attr("dy",zn).text(hn[Xt]),nr.attr("y",V+_e/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),b(nr,Le)}}function u(y,L,P,V,ee,_e,Le,Fe){const Re=L.append("switch"),Ut=Re.append("foreignObject").attr("x",P).attr("y",V).attr("width",ee).attr("height",_e).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ut.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(y),n(y,Re,P,V,ee,_e,Le,Fe),b(Ut,Le)}function b(y,L){for(const P in L)L.hasOwnProperty(P)&&y.attr(P,L[P])}return function(y){return y.textPlacement==="fo"?u:y.textPlacement==="old"?e:n}}(),w2=function(){function e(y,L,P,V,ee,_e,Le){const Fe=L.append("text").attr("x",P).attr("y",V).style("text-anchor","start").text(y);b(Fe,Le)}function n(y,L,P,V,ee,_e,Le,Fe){const{actorFontSize:Re,actorFontFamily:Ke,actorFontWeight:Ut}=Fe,sn=y.split(Ee.lineBreakRegex);for(let an=0;an<sn.length;an++){const hn=an*Re-Re*(sn.length-1)/2,Xt=L.append("text").attr("x",P).attr("y",V).style("text-anchor","start").style("font-size",Re).style("font-weight",Ut).style("font-family",Ke);Xt.append("tspan").attr("x",P).attr("dy",hn).text(sn[an]),Xt.attr("y",V+_e/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),b(Xt,Le)}}function u(y,L,P,V,ee,_e,Le,Fe){const Re=L.append("switch"),Ut=Re.append("foreignObject").attr("x",P).attr("y",V).attr("width",ee).attr("height",_e).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ut.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(y),n(y,Re,P,V,ee,_e,Le,Fe),b(Ut,Le)}function b(y,L){for(const P in L)L.hasOwnProperty(P)&&y.attr(P,L[P])}return function(y){return y.textPlacement==="fo"?u:y.textPlacement==="old"?e:n}}(),wc={drawRect:Tv,drawText:y0,drawLabel:a1,drawActor:u2,drawBox:d2,drawPopup:r2,drawImage:r1,drawEmbeddedImage:i1,anchorElement:f2,drawActivation:h2,drawLoop:p2,drawBackgroundRect:s1,insertArrowHead:b2,insertArrowFilledHead:y2,insertSequenceNumber:_2,insertArrowCrossHead:x2,insertDatabaseIcon:v2,insertComputerIcon:g2,insertClockIcon:m2,getTextObj:_g,getNoteRect:Sv,popupMenu:i2,popdownMenu:a2,fixLifeLineHeights:o1,sanitizeUrl:p.N};let wr={};const qi={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,n)=>e+n))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,n)=>e+n))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,n)=>e+n))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(e){this.boxes.push(e)},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,c1(qe())},updateVal:function(e,n,u,b){e[n]===void 0?e[n]=u:e[n]=b(u,e[n])},updateBounds:function(e,n,u,b){const y=this;let L=0;function P(V){return function(_e){L++;const Le=y.sequenceItems.length-L+1;y.updateVal(_e,"starty",n-Le*wr.boxMargin,Math.min),y.updateVal(_e,"stopy",b+Le*wr.boxMargin,Math.max),y.updateVal(qi.data,"startx",e-Le*wr.boxMargin,Math.min),y.updateVal(qi.data,"stopx",u+Le*wr.boxMargin,Math.max),V!=="activation"&&(y.updateVal(_e,"startx",e-Le*wr.boxMargin,Math.min),y.updateVal(_e,"stopx",u+Le*wr.boxMargin,Math.max),y.updateVal(qi.data,"starty",n-Le*wr.boxMargin,Math.min),y.updateVal(qi.data,"stopy",b+Le*wr.boxMargin,Math.max))}}this.sequenceItems.forEach(P()),this.activations.forEach(P("activation"))},insert:function(e,n,u,b){const y=Math.min(e,u),L=Math.max(e,u),P=Math.min(n,b),V=Math.max(n,b);this.updateVal(qi.data,"startx",y,Math.min),this.updateVal(qi.data,"starty",P,Math.min),this.updateVal(qi.data,"stopx",L,Math.max),this.updateVal(qi.data,"stopy",V,Math.max),this.updateBounds(y,P,L,V)},newActivation:function(e,n,u){const b=u[e.from.actor],y=Av(e.from.actor).length||0,L=b.x+b.width/2+(y-1)*wr.activationWidth/2;this.activations.push({startx:L,starty:this.verticalPos+2,stopx:L+wr.activationWidth,stopy:void 0,actor:e.from.actor,anchored:wc.anchorElement(n)})},endActivation:function(e){const n=this.activations.map(function(u){return u.actor}).lastIndexOf(e.from.actor);return this.activations.splice(n,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},n){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:n}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},n){this.sequenceItems.push(this.createLoop(e,n))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){const n=this.sequenceItems.pop();n.sections=n.sections||[],n.sectionTitles=n.sectionTitles||[],n.sections.push({y:qi.getVerticalPos(),height:0}),n.sectionTitles.push(e),this.sequenceItems.push(n)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},k2=function(e,n){qi.bumpVerticalPos(wr.boxMargin),n.height=wr.boxMargin,n.starty=qi.getVerticalPos();const u=wc.getNoteRect();u.x=n.startx,u.y=n.starty,u.width=n.width||wr.width,u.class="note";const b=e.append("g"),y=wc.drawRect(b,u),L=wc.getTextObj();L.x=n.startx,L.y=n.starty,L.width=u.width,L.dy="1em",L.text=n.message,L.class="noteText",L.fontFamily=wr.noteFontFamily,L.fontSize=wr.noteFontSize,L.fontWeight=wr.noteFontWeight,L.anchor=wr.noteAlign,L.textMargin=wr.noteMargin,L.valign="center";const P=y0(b,L),V=Math.round(P.map(ee=>(ee._groups||ee)[0][0].getBBox().height).reduce((ee,_e)=>ee+_e));y.attr("height",V+2*wr.noteMargin),n.height+=V+2*wr.noteMargin,qi.bumpVerticalPos(V+2*wr.noteMargin),n.stopy=n.starty+V+2*wr.noteMargin,n.stopx=n.startx+u.width,qi.insert(n.startx,n.starty,n.stopx,n.stopy),qi.models.addNote(n)},Hp=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),_0=e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),wg=e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight});function E2(e,n){qi.bumpVerticalPos(10);const{startx:u,stopx:b,message:y}=n,L=Ee.splitBreaks(y).length,P=Ka.calculateTextDimensions(y,Hp(wr)),V=P.height/L;n.height+=V,qi.bumpVerticalPos(V);let ee,_e=P.height-10;const Le=P.width;if(u===b){ee=qi.getVerticalPos()+_e,wr.rightAngles||(_e+=wr.boxMargin,ee=qi.getVerticalPos()+_e),_e+=30;const Fe=Math.max(Le/2,wr.width/2);qi.insert(u-Fe,qi.getVerticalPos()-10+_e,b+Fe,qi.getVerticalPos()+30+_e)}else _e+=wr.boxMargin,ee=qi.getVerticalPos()+_e,qi.insert(u,ee-10,b,ee);return qi.bumpVerticalPos(_e),n.height+=_e,n.stopy=n.starty+n.height,qi.insert(n.fromBounds,n.starty,n.toBounds,n.stopy),ee}const C2=function(e,n,u,b){const{startx:y,stopx:L,starty:P,message:V,type:ee,sequenceIndex:_e,sequenceVisible:Le}=n,Fe=Ka.calculateTextDimensions(V,Hp(wr)),Re=wc.getTextObj();Re.x=y,Re.y=P+10,Re.width=L-y,Re.class="messageText",Re.dy="1em",Re.text=V,Re.fontFamily=wr.messageFontFamily,Re.fontSize=wr.messageFontSize,Re.fontWeight=wr.messageFontWeight,Re.anchor=wr.messageAlign,Re.valign="center",Re.textMargin=wr.wrapPadding,Re.tspan=!1,y0(e,Re);const Ke=Fe.width;let Ut;y===L?wr.rightAngles?Ut=e.append("path").attr("d",`M  ${y},${u} H ${y+Math.max(wr.width/2,Ke/2)} V ${u+25} H ${y}`):Ut=e.append("path").attr("d","M "+y+","+u+" C "+(y+60)+","+(u-10)+" "+(y+60)+","+(u+30)+" "+y+","+(u+20)):(Ut=e.append("line"),Ut.attr("x1",y),Ut.attr("y1",u),Ut.attr("x2",L),Ut.attr("y2",u)),ee===b.db.LINETYPE.DOTTED||ee===b.db.LINETYPE.DOTTED_CROSS||ee===b.db.LINETYPE.DOTTED_POINT||ee===b.db.LINETYPE.DOTTED_OPEN?(Ut.style("stroke-dasharray","3, 3"),Ut.attr("class","messageLine1")):Ut.attr("class","messageLine0");let sn="";wr.arrowMarkerAbsolute&&(sn=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,sn=sn.replace(/\(/g,"\\("),sn=sn.replace(/\)/g,"\\)")),Ut.attr("stroke-width",2),Ut.attr("stroke","none"),Ut.style("fill","none"),(ee===b.db.LINETYPE.SOLID||ee===b.db.LINETYPE.DOTTED)&&Ut.attr("marker-end","url("+sn+"#arrowhead)"),(ee===b.db.LINETYPE.SOLID_POINT||ee===b.db.LINETYPE.DOTTED_POINT)&&Ut.attr("marker-end","url("+sn+"#filled-head)"),(ee===b.db.LINETYPE.SOLID_CROSS||ee===b.db.LINETYPE.DOTTED_CROSS)&&Ut.attr("marker-end","url("+sn+"#crosshead)"),(Le||wr.showSequenceNumbers)&&(Ut.attr("marker-start","url("+sn+"#sequencenumber)"),e.append("text").attr("x",y).attr("y",u+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(_e))},kg=function(e,n,u,b,y,L,P){if(y.hideUnusedParticipants===!0){const Fe=new Set;L.forEach(Re=>{Fe.add(Re.from),Fe.add(Re.to)}),u=u.filter(Re=>Fe.has(Re))}let V=0,ee=0,_e=0,Le;for(const Fe of u){const Re=n[Fe],Ke=Re.box;Le&&Le!=Ke&&(P||qi.models.addBox(Le),ee+=wr.boxMargin+Le.margin),Ke&&Ke!=Le&&(P||(Ke.x=V+ee,Ke.y=b),ee+=Ke.margin),Re.width=Re.width||wr.width,Re.height=Math.max(Re.height||wr.height,wr.height),Re.margin=Re.margin||wr.actorMargin,Re.x=V+ee,Re.y=qi.getVerticalPos();const Ut=wc.drawActor(e,Re,wr,P);_e=Math.max(_e,Ut),qi.insert(Re.x,b,Re.x+Re.width,Re.height),V+=Re.width+ee,Re.box&&(Re.box.width=V+Ke.margin-Re.box.x),ee=Re.margin,Le=Re.box,qi.models.addActor(Re)}Le&&!P&&qi.models.addBox(Le),qi.bumpVerticalPos(_e)},l1=function(e,n,u,b){let y=0,L=0;for(const P of u){const V=n[P],ee=A2(V),_e=wc.drawPopup(e,V,ee,wr,wr.forceMenus,b);_e.height>y&&(y=_e.height),_e.width+V.x>L&&(L=_e.width+V.x)}return{maxHeight:y,maxWidth:L}},c1=function(e){Gs(wr,e),e.fontFamily&&(wr.actorFontFamily=wr.noteFontFamily=wr.messageFontFamily=e.fontFamily),e.fontSize&&(wr.actorFontSize=wr.noteFontSize=wr.messageFontSize=e.fontSize),e.fontWeight&&(wr.actorFontWeight=wr.noteFontWeight=wr.messageFontWeight=e.fontWeight)},Av=function(e){return qi.activations.filter(function(n){return n.actor===e})},u1=function(e,n){const u=n[e],b=Av(e),y=b.reduce(function(P,V){return Math.min(P,V.startx)},u.x+u.width/2),L=b.reduce(function(P,V){return Math.max(P,V.stopx)},u.x+u.width/2);return[y,L]};function Hh(e,n,u,b,y){qi.bumpVerticalPos(u);let L=b;if(n.id&&n.message&&e[n.id]){const P=e[n.id].width,V=Hp(wr);n.message=Ka.wrapLabel(`[${n.message}]`,P-2*wr.wrapPadding,V),n.width=P,n.wrap=!0;const ee=Ka.calculateTextDimensions(n.message,V),_e=Math.max(ee.height,wr.labelBoxHeight);L=b+_e,Me.debug(`${_e} - ${n.message}`)}y(n),qi.bumpVerticalPos(L)}const T2=function(e,n,u,b){const{securityLevel:y,sequence:L}=qe();wr=L,b.db.clear(),b.parser.parse(e);let P;y==="sandbox"&&(P=(0,d.Ys)("#i"+n));const V=y==="sandbox"?(0,d.Ys)(P.nodes()[0].contentDocument.body):(0,d.Ys)("body"),ee=y==="sandbox"?P.nodes()[0].contentDocument:document;qi.init(),Me.debug(b.db);const _e=y==="sandbox"?V.select(`[id="${n}"]`):(0,d.Ys)(`[id="${n}"]`),Le=b.db.getActors(),Fe=b.db.getBoxes(),Re=b.db.getActorKeys(),Ke=b.db.getMessages(),Ut=b.db.getDiagramTitle(),sn=b.db.hasAtLeastOneBox(),an=b.db.hasAtLeastOneBoxWithTitle(),hn=S2(Le,Ke,b);wr.height=M2(Le,hn,Fe),wc.insertComputerIcon(_e),wc.insertDatabaseIcon(_e),wc.insertClockIcon(_e),sn&&(qi.bumpVerticalPos(wr.boxMargin),an&&qi.bumpVerticalPos(Fe[0].textMaxHeight)),kg(_e,Le,Re,0,wr,Ke,!1);const Xt=L2(Ke,Le,hn,b);wc.insertArrowHead(_e),wc.insertArrowCrossHead(_e),wc.insertArrowFilledHead(_e),wc.insertSequenceNumber(_e);function zn(sr,ft){const or=qi.endActivation(sr);or.starty+18>ft&&(or.starty=ft-6,ft+=12),wc.drawActivation(_e,or,ft,wr,Av(sr.from.actor).length),qi.insert(or.startx,ft-10,or.stopx,ft)}let nr=1,kr=1;const $r=[];Ke.forEach(function(sr){let ft,or,na;switch(sr.type){case b.db.LINETYPE.NOTE:or=sr.noteModel,k2(_e,or);break;case b.db.LINETYPE.ACTIVE_START:qi.newActivation(sr,_e,Le);break;case b.db.LINETYPE.ACTIVE_END:zn(sr,qi.getVerticalPos());break;case b.db.LINETYPE.LOOP_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin+wr.boxTextMargin,Sr=>qi.newLoop(Sr));break;case b.db.LINETYPE.LOOP_END:ft=qi.endLoop(),wc.drawLoop(_e,ft,"loop",wr),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos()),qi.models.addLoop(ft);break;case b.db.LINETYPE.RECT_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin,Sr=>qi.newLoop(void 0,Sr.message));break;case b.db.LINETYPE.RECT_END:ft=qi.endLoop(),wc.drawBackgroundRect(_e,ft),qi.models.addLoop(ft),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos());break;case b.db.LINETYPE.OPT_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin+wr.boxTextMargin,Sr=>qi.newLoop(Sr));break;case b.db.LINETYPE.OPT_END:ft=qi.endLoop(),wc.drawLoop(_e,ft,"opt",wr),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos()),qi.models.addLoop(ft);break;case b.db.LINETYPE.ALT_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin+wr.boxTextMargin,Sr=>qi.newLoop(Sr));break;case b.db.LINETYPE.ALT_ELSE:Hh(Xt,sr,wr.boxMargin+wr.boxTextMargin,wr.boxMargin,Sr=>qi.addSectionToLoop(Sr));break;case b.db.LINETYPE.ALT_END:ft=qi.endLoop(),wc.drawLoop(_e,ft,"alt",wr),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos()),qi.models.addLoop(ft);break;case b.db.LINETYPE.PAR_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin+wr.boxTextMargin,Sr=>qi.newLoop(Sr));break;case b.db.LINETYPE.PAR_AND:Hh(Xt,sr,wr.boxMargin+wr.boxTextMargin,wr.boxMargin,Sr=>qi.addSectionToLoop(Sr));break;case b.db.LINETYPE.PAR_END:ft=qi.endLoop(),wc.drawLoop(_e,ft,"par",wr),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos()),qi.models.addLoop(ft);break;case b.db.LINETYPE.AUTONUMBER:nr=sr.message.start||nr,kr=sr.message.step||kr,sr.message.visible?b.db.enableSequenceNumbers():b.db.disableSequenceNumbers();break;case b.db.LINETYPE.CRITICAL_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin+wr.boxTextMargin,Sr=>qi.newLoop(Sr));break;case b.db.LINETYPE.CRITICAL_OPTION:Hh(Xt,sr,wr.boxMargin+wr.boxTextMargin,wr.boxMargin,Sr=>qi.addSectionToLoop(Sr));break;case b.db.LINETYPE.CRITICAL_END:ft=qi.endLoop(),wc.drawLoop(_e,ft,"critical",wr),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos()),qi.models.addLoop(ft);break;case b.db.LINETYPE.BREAK_START:Hh(Xt,sr,wr.boxMargin,wr.boxMargin+wr.boxTextMargin,Sr=>qi.newLoop(Sr));break;case b.db.LINETYPE.BREAK_END:ft=qi.endLoop(),wc.drawLoop(_e,ft,"break",wr),qi.bumpVerticalPos(ft.stopy-qi.getVerticalPos()),qi.models.addLoop(ft);break;default:try{na=sr.msgModel,na.starty=qi.getVerticalPos(),na.sequenceIndex=nr,na.sequenceVisible=b.db.showSequenceNumbers();const Sr=E2(_e,na);$r.push({messageModel:na,lineStartY:Sr}),qi.models.addMessage(na)}catch(Sr){Me.error("error while drawing message",Sr)}}[b.db.LINETYPE.SOLID_OPEN,b.db.LINETYPE.DOTTED_OPEN,b.db.LINETYPE.SOLID,b.db.LINETYPE.DOTTED,b.db.LINETYPE.SOLID_CROSS,b.db.LINETYPE.DOTTED_CROSS,b.db.LINETYPE.SOLID_POINT,b.db.LINETYPE.DOTTED_POINT].includes(sr.type)&&(nr=nr+kr)}),$r.forEach(sr=>C2(_e,sr.messageModel,sr.lineStartY,b)),wr.mirrorActors&&(qi.bumpVerticalPos(wr.boxMargin*2),kg(_e,Le,Re,qi.getVerticalPos(),wr,Ke,!0),qi.bumpVerticalPos(wr.boxMargin),o1(_e,qi.getVerticalPos())),qi.models.boxes.forEach(function(sr){sr.height=qi.getVerticalPos()-sr.y,qi.insert(sr.x,sr.y,sr.x+sr.width,sr.height),sr.startx=sr.x,sr.starty=sr.y,sr.stopx=sr.startx+sr.width,sr.stopy=sr.starty+sr.height,sr.stroke="rgb(0,0,0, 0.5)",wc.drawBox(_e,sr,wr)}),sn&&qi.bumpVerticalPos(wr.boxMargin);const ir=l1(_e,Le,Re,ee),{bounds:$n}=qi.getBounds();Me.debug("For line height fix Querying: #"+n+" .actor-line"),(0,d.td_)("#"+n+" .actor-line").attr("y2",$n.stopy);let Sn=$n.stopy-$n.starty;Sn<ir.maxHeight&&(Sn=ir.maxHeight);let kn=Sn+2*wr.diagramMarginY;wr.mirrorActors&&(kn=kn-wr.boxMargin+wr.bottomMarginAdj);let At=$n.stopx-$n.startx;At<ir.maxWidth&&(At=ir.maxWidth);const Ln=At+2*wr.diagramMarginX;Ut&&_e.append("text").text(Ut).attr("x",($n.stopx-$n.startx)/2-2*wr.diagramMarginX).attr("y",-25),Ra(_e,kn,Ln,wr.useMaxWidth);const $e=Ut?40:0;_e.attr("viewBox",$n.startx-wr.diagramMarginX+" -"+(wr.diagramMarginY+$e)+" "+Ln+" "+(kn+$e)),Me.debug("models:",qi.models)};function S2(e,n,u){const b={};return n.forEach(function(y){if(e[y.to]&&e[y.from]){const L=e[y.to];if(y.placement===u.db.PLACEMENT.LEFTOF&&!L.prevActor||y.placement===u.db.PLACEMENT.RIGHTOF&&!L.nextActor)return;const P=y.placement!==void 0,V=!P,ee=P?_0(wr):Hp(wr),_e=y.wrap?Ka.wrapLabel(y.message,wr.width-2*wr.wrapPadding,ee):y.message,Fe=Ka.calculateTextDimensions(_e,ee).width+2*wr.wrapPadding;V&&y.from===L.nextActor?b[y.to]=Math.max(b[y.to]||0,Fe):V&&y.from===L.prevActor?b[y.from]=Math.max(b[y.from]||0,Fe):V&&y.from===y.to?(b[y.from]=Math.max(b[y.from]||0,Fe/2),b[y.to]=Math.max(b[y.to]||0,Fe/2)):y.placement===u.db.PLACEMENT.RIGHTOF?b[y.from]=Math.max(b[y.from]||0,Fe):y.placement===u.db.PLACEMENT.LEFTOF?b[L.prevActor]=Math.max(b[L.prevActor]||0,Fe):y.placement===u.db.PLACEMENT.OVER&&(L.prevActor&&(b[L.prevActor]=Math.max(b[L.prevActor]||0,Fe/2)),L.nextActor&&(b[y.from]=Math.max(b[y.from]||0,Fe/2)))}}),Me.debug("maxMessageWidthPerActor:",b),b}const A2=function(e){let n=0;const u=wg(wr);for(const b in e.links){const L=Ka.calculateTextDimensions(b,u).width+2*wr.wrapPadding+2*wr.boxMargin;n<L&&(n=L)}return n};function M2(e,n,u){let b=0;Object.keys(e).forEach(L=>{const P=e[L];P.wrap&&(P.description=Ka.wrapLabel(P.description,wr.width-2*wr.wrapPadding,wg(wr)));const V=Ka.calculateTextDimensions(P.description,wg(wr));P.width=P.wrap?wr.width:Math.max(wr.width,V.width+2*wr.wrapPadding),P.height=P.wrap?Math.max(V.height,wr.height):wr.height,b=Math.max(b,P.height)});for(const L in n){const P=e[L];if(!P)continue;const V=e[P.nextActor];if(!V){const Fe=n[L]+wr.actorMargin-P.width/2;P.margin=Math.max(Fe,wr.actorMargin);continue}const _e=n[L]+wr.actorMargin-P.width/2-V.width/2;P.margin=Math.max(_e,wr.actorMargin)}let y=0;return u.forEach(L=>{const P=Hp(wr);let V=L.actorKeys.reduce((Le,Fe)=>Le+=e[Fe].width+(e[Fe].margin||0),0);V-=2*wr.boxTextMargin,L.wrap&&(L.name=Ka.wrapLabel(L.name,V-2*wr.wrapPadding,P));const ee=Ka.calculateTextDimensions(L.name,P);y=Math.max(ee.height,y);const _e=Math.max(V,ee.width+2*wr.wrapPadding);if(L.margin=wr.boxTextMargin,V<_e){const Le=(_e-V)/2;L.margin+=Le}}),u.forEach(L=>L.textMaxHeight=y),Math.max(b,wr.height)}const D2=function(e,n,u){const b=n[e.from].x,y=n[e.to].x,L=e.wrap&&e.message;let P=Ka.calculateTextDimensions(L?Ka.wrapLabel(e.message,wr.width,_0(wr)):e.message,_0(wr));const V={width:L?wr.width:Math.max(wr.width,P.width+2*wr.noteMargin),height:0,startx:n[e.from].x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===u.db.PLACEMENT.RIGHTOF?(V.width=L?Math.max(wr.width,P.width):Math.max(n[e.from].width/2+n[e.to].width/2,P.width+2*wr.noteMargin),V.startx=b+(n[e.from].width+wr.actorMargin)/2):e.placement===u.db.PLACEMENT.LEFTOF?(V.width=Math.max(L?wr.width:n[e.from].width/2+n[e.to].width/2,P.width+2*wr.noteMargin),V.startx=b-V.width+(n[e.from].width-wr.actorMargin)/2):e.to===e.from?(P=Ka.calculateTextDimensions(L?Ka.wrapLabel(e.message,Math.max(wr.width,n[e.from].width),_0(wr)):e.message,_0(wr)),V.width=L?Math.max(wr.width,n[e.from].width):Math.max(n[e.from].width,wr.width,P.width+2*wr.noteMargin),V.startx=b+(n[e.from].width-V.width)/2):(V.width=Math.abs(b+n[e.from].width/2-(y+n[e.to].width/2))+wr.actorMargin,V.startx=b<y?b+n[e.from].width/2-wr.actorMargin/2:y+n[e.to].width/2-wr.actorMargin/2),L&&(V.message=Ka.wrapLabel(e.message,V.width-2*wr.wrapPadding,_0(wr))),Me.debug(`NM:[${V.startx},${V.stopx},${V.starty},${V.stopy}:${V.width},${V.height}=${e.message}]`),V},I2=function(e,n,u){let b=!1;if([u.db.LINETYPE.SOLID_OPEN,u.db.LINETYPE.DOTTED_OPEN,u.db.LINETYPE.SOLID,u.db.LINETYPE.DOTTED,u.db.LINETYPE.SOLID_CROSS,u.db.LINETYPE.DOTTED_CROSS,u.db.LINETYPE.SOLID_POINT,u.db.LINETYPE.DOTTED_POINT].includes(e.type)&&(b=!0),!b)return{};const y=u1(e.from,n),L=u1(e.to,n),P=y[0]<=L[0]?1:0,V=y[0]<L[0]?0:1,ee=[...y,...L],_e=Math.abs(L[V]-y[P]);e.wrap&&e.message&&(e.message=Ka.wrapLabel(e.message,Math.max(_e+2*wr.wrapPadding,wr.width),Hp(wr)));const Le=Ka.calculateTextDimensions(e.message,Hp(wr));return{width:Math.max(e.wrap?0:Le.width+2*wr.wrapPadding,_e+2*wr.wrapPadding,wr.width),height:0,startx:y[P],stopx:L[V],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,ee),toBounds:Math.max.apply(null,ee)}},L2=function(e,n,u,b){const y={},L=[];let P,V,ee;return e.forEach(function(_e){switch(_e.id=Ka.random({length:10}),_e.type){case b.db.LINETYPE.LOOP_START:case b.db.LINETYPE.ALT_START:case b.db.LINETYPE.OPT_START:case b.db.LINETYPE.PAR_START:case b.db.LINETYPE.CRITICAL_START:case b.db.LINETYPE.BREAK_START:L.push({id:_e.id,msg:_e.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case b.db.LINETYPE.ALT_ELSE:case b.db.LINETYPE.PAR_AND:case b.db.LINETYPE.CRITICAL_OPTION:_e.message&&(P=L.pop(),y[P.id]=P,y[_e.id]=P,L.push(P));break;case b.db.LINETYPE.LOOP_END:case b.db.LINETYPE.ALT_END:case b.db.LINETYPE.OPT_END:case b.db.LINETYPE.PAR_END:case b.db.LINETYPE.CRITICAL_END:case b.db.LINETYPE.BREAK_END:P=L.pop(),y[P.id]=P;break;case b.db.LINETYPE.ACTIVE_START:{const Fe=n[_e.from?_e.from.actor:_e.to.actor],Re=Av(_e.from?_e.from.actor:_e.to.actor).length,Ke=Fe.x+Fe.width/2+(Re-1)*wr.activationWidth/2,Ut={startx:Ke,stopx:Ke+wr.activationWidth,actor:_e.from.actor,enabled:!0};qi.activations.push(Ut)}break;case b.db.LINETYPE.ACTIVE_END:{const Fe=qi.activations.map(Re=>Re.actor).lastIndexOf(_e.from.actor);delete qi.activations.splice(Fe,1)[0]}break}_e.placement!==void 0?(V=D2(_e,n,b),_e.noteModel=V,L.forEach(Fe=>{P=Fe,P.from=Math.min(P.from,V.startx),P.to=Math.max(P.to,V.startx+V.width),P.width=Math.max(P.width,Math.abs(P.from-P.to))-wr.labelBoxWidth})):(ee=I2(_e,n,b),_e.msgModel=ee,ee.startx&&ee.stopx&&L.length>0&&L.forEach(Fe=>{if(P=Fe,ee.startx===ee.stopx){const Re=n[_e.from],Ke=n[_e.to];P.from=Math.min(Re.x-ee.width/2,Re.x-Re.width/2,P.from),P.to=Math.max(Ke.x+ee.width/2,Ke.x+Re.width/2,P.to),P.width=Math.max(P.width,Math.abs(P.to-P.from))-wr.labelBoxWidth}else P.from=Math.min(ee.startx,P.from),P.to=Math.max(ee.stopx,P.to),P.width=Math.max(P.width,ee.width)-wr.labelBoxWidth}))}),qi.activations=[],Me.debug("Loop type widths:",y),y},d1={bounds:qi,drawActors:kg,drawActorsPopup:l1,setConf:c1,draw:T2};var Eg=function(){var e=function(Zr,zr,Nr,Ir){for(Nr=Nr||{},Ir=Zr.length;Ir--;Nr[Zr[Ir]]=zr);return Nr},n=[1,2],u=[1,3],b=[1,5],y=[1,7],L=[2,5],P=[1,15],V=[1,17],ee=[1,21],_e=[1,22],Le=[1,23],Fe=[1,24],Re=[1,37],Ke=[1,25],Ut=[1,26],sn=[1,27],an=[1,28],hn=[1,29],Xt=[1,32],zn=[1,33],nr=[1,34],kr=[1,35],$r=[1,36],ir=[1,39],$n=[1,40],cn=[1,41],Sn=[1,42],kn=[1,38],At=[1,45],Ln=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],$e=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],sr=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ft=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],or={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(zr,Nr,Ir,Oi,ki,mr,Ba){var vr=mr.length-1;switch(ki){case 4:return Oi.setRootDoc(mr[vr]),mr[vr];case 5:this.$=[];break;case 6:mr[vr]!="nl"&&(mr[vr-1].push(mr[vr]),this.$=mr[vr-1]);break;case 7:case 8:this.$=mr[vr];break;case 9:this.$="nl";break;case 12:this.$=mr[vr];break;case 13:const Hn=mr[vr-1];Hn.description=Oi.trimColon(mr[vr]),this.$=Hn;break;case 14:this.$={stmt:"relation",state1:mr[vr-2],state2:mr[vr]};break;case 15:const Cn=Oi.trimColon(mr[vr]);this.$={stmt:"relation",state1:mr[vr-3],state2:mr[vr-1],description:Cn};break;case 19:this.$={stmt:"state",id:mr[vr-3],type:"default",description:"",doc:mr[vr-1]};break;case 20:var hi=mr[vr],Mr=mr[vr-2].trim();if(mr[vr].match(":")){var Er=mr[vr].split(":");hi=Er[0],Mr=[Mr,Er[1]]}this.$={stmt:"state",id:hi,type:"default",description:Mr};break;case 21:this.$={stmt:"state",id:mr[vr-3],type:"default",description:mr[vr-5],doc:mr[vr-1]};break;case 22:this.$={stmt:"state",id:mr[vr],type:"fork"};break;case 23:this.$={stmt:"state",id:mr[vr],type:"join"};break;case 24:this.$={stmt:"state",id:mr[vr],type:"choice"};break;case 25:this.$={stmt:"state",id:Oi.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:mr[vr-1].trim(),note:{position:mr[vr-2].trim(),text:mr[vr].trim()}};break;case 30:this.$=mr[vr].trim(),Oi.setAccTitle(this.$);break;case 31:case 32:this.$=mr[vr].trim(),Oi.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:mr[vr-1].trim(),classes:mr[vr].trim()};break;case 35:this.$={stmt:"applyClass",id:mr[vr-1].trim(),styleClass:mr[vr].trim()};break;case 38:Oi.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Oi.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Oi.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Oi.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:mr[vr].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:mr[vr-2].trim(),classes:[mr[vr].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:mr[vr-2].trim(),classes:[mr[vr].trim()],type:"default",description:""};break;case 50:Oi.parseDirective("%%{","open_directive");break;case 51:Oi.parseDirective(mr[vr],"type_directive");break;case 52:mr[vr]=mr[vr].trim().replace(/'/g,'"'),Oi.parseDirective(mr[vr],"arg_directive");break;case 53:Oi.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:n,5:u,6:4,7:b,45:6,60:y},{1:[3]},{3:8,4:n,5:u,6:4,7:b,45:6,60:y},{3:9,4:n,5:u,6:4,7:b,45:6,60:y},{3:10,4:n,5:u,6:4,7:b,45:6,60:y},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],L,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:P,5:V,6:30,9:14,10:16,11:18,12:19,13:20,16:ee,17:_e,19:Le,22:Fe,24:Re,25:Ke,26:Ut,27:sn,28:an,29:hn,32:31,33:Xt,35:zn,37:nr,38:kr,42:$r,45:6,50:ir,51:$n,52:cn,53:Sn,56:kn,60:y},{47:43,48:[1,44],63:At},e([48,63],[2,51]),e(Ln,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:ee,17:_e,19:Le,22:Fe,24:Re,25:Ke,26:Ut,27:sn,28:an,29:hn,32:31,33:Xt,35:zn,37:nr,38:kr,42:$r,45:6,50:ir,51:$n,52:cn,53:Sn,56:kn,60:y},e(Ln,[2,8]),e(Ln,[2,9]),e(Ln,[2,10]),e(Ln,[2,11]),e(Ln,[2,12],{14:[1,47],15:[1,48]}),e(Ln,[2,16]),{18:[1,49]},e(Ln,[2,18],{20:[1,50]}),{23:[1,51]},e(Ln,[2,22]),e(Ln,[2,23]),e(Ln,[2,24]),e(Ln,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},e(Ln,[2,28]),e(Ln,[2,29]),{34:[1,56]},{36:[1,57]},e(Ln,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},e($e,[2,44],{57:[1,61]}),e($e,[2,45],{57:[1,62]}),e(Ln,[2,38]),e(Ln,[2,39]),e(Ln,[2,40]),e(Ln,[2,41]),e(sr,[2,36]),{49:63,62:[1,64]},e(sr,[2,53]),e(Ln,[2,7]),e(Ln,[2,13]),{13:65,24:Re,56:kn},e(Ln,[2,17]),e(ft,L,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},e(Ln,[2,30]),e(Ln,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:At},{63:[2,52]},e(Ln,[2,14],{14:[1,76]}),{4:P,5:V,6:30,9:14,10:16,11:18,12:19,13:20,16:ee,17:_e,19:Le,21:[1,77],22:Fe,24:Re,25:Ke,26:Ut,27:sn,28:an,29:hn,32:31,33:Xt,35:zn,37:nr,38:kr,42:$r,45:6,50:ir,51:$n,52:cn,53:Sn,56:kn,60:y},e(Ln,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},e(Ln,[2,33]),e(Ln,[2,34]),e(Ln,[2,35]),e($e,[2,46]),e($e,[2,47]),e(sr,[2,37]),e(Ln,[2,15]),e(Ln,[2,19]),e(ft,L,{8:81}),e(Ln,[2,26]),e(Ln,[2,27]),{4:P,5:V,6:30,9:14,10:16,11:18,12:19,13:20,16:ee,17:_e,19:Le,21:[1,82],22:Fe,24:Re,25:Ke,26:Ut,27:sn,28:an,29:hn,32:31,33:Xt,35:zn,37:nr,38:kr,42:$r,45:6,50:ir,51:$n,52:cn,53:Sn,56:kn,60:y},e(Ln,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(zr,Nr){if(Nr.recoverable)this.trace(zr);else{var Ir=new Error(zr);throw Ir.hash=Nr,Ir}},parse:function(zr){var Nr=this,Ir=[0],Oi=[],ki=[null],mr=[],Ba=this.table,vr="",hi=0,Mr=0,Er=2,Hn=1,Cn=mr.slice.call(arguments,1),yr=Object.create(this.lexer),un={yy:{}};for(var li in this.yy)Object.prototype.hasOwnProperty.call(this.yy,li)&&(un.yy[li]=this.yy[li]);yr.setInput(zr,un.yy),un.yy.lexer=yr,un.yy.parser=this,typeof yr.yylloc=="undefined"&&(yr.yylloc={});var zt=yr.yylloc;mr.push(zt);var Va=yr.options&&yr.options.ranges;typeof un.yy.parseError=="function"?this.parseError=un.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _r(){var Ja;return Ja=Oi.pop()||yr.lex()||Hn,typeof Ja!="number"&&(Ja instanceof Array&&(Oi=Ja,Ja=Oi.pop()),Ja=Nr.symbols_[Ja]||Ja),Ja}for(var fa,zi,Ei,pi,Si={},vi,Ii,il,as;;){if(zi=Ir[Ir.length-1],this.defaultActions[zi]?Ei=this.defaultActions[zi]:((fa===null||typeof fa=="undefined")&&(fa=_r()),Ei=Ba[zi]&&Ba[zi][fa]),typeof Ei=="undefined"||!Ei.length||!Ei[0]){var to="";as=[];for(vi in Ba[zi])this.terminals_[vi]&&vi>Er&&as.push("'"+this.terminals_[vi]+"'");yr.showPosition?to="Parse error on line "+(hi+1)+`:
`+yr.showPosition()+`
Expecting `+as.join(", ")+", got '"+(this.terminals_[fa]||fa)+"'":to="Parse error on line "+(hi+1)+": Unexpected "+(fa==Hn?"end of input":"'"+(this.terminals_[fa]||fa)+"'"),this.parseError(to,{text:yr.match,token:this.terminals_[fa]||fa,line:yr.yylineno,loc:zt,expected:as})}if(Ei[0]instanceof Array&&Ei.length>1)throw new Error("Parse Error: multiple actions possible at state: "+zi+", token: "+fa);switch(Ei[0]){case 1:Ir.push(fa),ki.push(yr.yytext),mr.push(yr.yylloc),Ir.push(Ei[1]),fa=null,Mr=yr.yyleng,vr=yr.yytext,hi=yr.yylineno,zt=yr.yylloc;break;case 2:if(Ii=this.productions_[Ei[1]][1],Si.$=ki[ki.length-Ii],Si._$={first_line:mr[mr.length-(Ii||1)].first_line,last_line:mr[mr.length-1].last_line,first_column:mr[mr.length-(Ii||1)].first_column,last_column:mr[mr.length-1].last_column},Va&&(Si._$.range=[mr[mr.length-(Ii||1)].range[0],mr[mr.length-1].range[1]]),pi=this.performAction.apply(Si,[vr,Mr,hi,un.yy,Ei[1],ki,mr].concat(Cn)),typeof pi!="undefined")return pi;Ii&&(Ir=Ir.slice(0,-1*Ii*2),ki=ki.slice(0,-1*Ii),mr=mr.slice(0,-1*Ii)),Ir.push(this.productions_[Ei[1]][0]),ki.push(Si.$),mr.push(Si._$),il=Ba[Ir[Ir.length-2]][Ir[Ir.length-1]],Ir.push(il);break;case 3:return!0}}return!0}},na=function(){var Zr={EOF:1,parseError:function(Nr,Ir){if(this.yy.parser)this.yy.parser.parseError(Nr,Ir);else throw new Error(Nr)},setInput:function(zr,Nr){return this.yy=Nr||this.yy||{},this._input=zr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var zr=this._input[0];this.yytext+=zr,this.yyleng++,this.offset++,this.match+=zr,this.matched+=zr;var Nr=zr.match(/(?:\r\n?|\n).*/g);return Nr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),zr},unput:function(zr){var Nr=zr.length,Ir=zr.split(/(?:\r\n?|\n)/g);this._input=zr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Nr),this.offset-=Nr;var Oi=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ir.length-1&&(this.yylineno-=Ir.length-1);var ki=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ir?(Ir.length===Oi.length?this.yylloc.first_column:0)+Oi[Oi.length-Ir.length].length-Ir[0].length:this.yylloc.first_column-Nr},this.options.ranges&&(this.yylloc.range=[ki[0],ki[0]+this.yyleng-Nr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(zr){this.unput(this.match.slice(zr))},pastInput:function(){var zr=this.matched.substr(0,this.matched.length-this.match.length);return(zr.length>20?"...":"")+zr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var zr=this.match;return zr.length<20&&(zr+=this._input.substr(0,20-zr.length)),(zr.substr(0,20)+(zr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var zr=this.pastInput(),Nr=new Array(zr.length+1).join("-");return zr+this.upcomingInput()+`
`+Nr+"^"},test_match:function(zr,Nr){var Ir,Oi,ki;if(this.options.backtrack_lexer&&(ki={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ki.yylloc.range=this.yylloc.range.slice(0))),Oi=zr[0].match(/(?:\r\n?|\n).*/g),Oi&&(this.yylineno+=Oi.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Oi?Oi[Oi.length-1].length-Oi[Oi.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+zr[0].length},this.yytext+=zr[0],this.match+=zr[0],this.matches=zr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(zr[0].length),this.matched+=zr[0],Ir=this.performAction.call(this,this.yy,this,Nr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ir)return Ir;if(this._backtrack){for(var mr in ki)this[mr]=ki[mr];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var zr,Nr,Ir,Oi;this._more||(this.yytext="",this.match="");for(var ki=this._currentRules(),mr=0;mr<ki.length;mr++)if(Ir=this._input.match(this.rules[ki[mr]]),Ir&&(!Nr||Ir[0].length>Nr[0].length)){if(Nr=Ir,Oi=mr,this.options.backtrack_lexer){if(zr=this.test_match(Ir,ki[mr]),zr!==!1)return zr;if(this._backtrack){Nr=!1;continue}else return!1}else if(!this.options.flex)break}return Nr?(zr=this.test_match(Nr,ki[Oi]),zr!==!1?zr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Nr=this.next();return Nr||this.lex()},begin:function(Nr){this.conditionStack.push(Nr)},popState:function(){var Nr=this.conditionStack.length-1;return Nr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Nr){return Nr=this.conditionStack.length-1-Math.abs(Nr||0),Nr>=0?this.conditionStack[Nr]:"INITIAL"},pushState:function(Nr){this.begin(Nr)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Nr,Ir,Oi,ki){switch(Oi){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),Ir.yytext=Ir.yytext.substr(2).trim(),31;case 69:return this.popState(),Ir.yytext=Ir.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return Ir.yytext=Ir.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return Zr}();or.lexer=na;function Sr(){this.yy={}}return Sr.prototype=or,or.Parser=Sr,new Sr}();Eg.parser=Eg;const f1=Eg,O2=(e,n)=>{var u;return((u=n==null?void 0:n.state)==null?void 0:u.defaultRenderer)==="dagre-wrapper"?!1:e.match(/^\s*stateDiagram/)!==null},N2=(e,n)=>{var u;return!!(e.match(/^\s*stateDiagram-v2/)!==null||e.match(/^\s*stateDiagram/)&&((u=n==null?void 0:n.state)==null?void 0:u.defaultRenderer)==="dagre-wrapper")},h1="LR",R2="TB",Mv="state",Cg="relation",P2="classDef",B2="applyClass",ev="default",p1="divider",Tg="[*]",v1="start",g1=Tg,m1="end",b1="color",y1="fill",F2="bgFill",Z2=",";function _1(){return{}}let x1=h1,Dv=[],tv=_1();const w1=()=>({relations:[],states:{},documents:{}});let Iv={root:w1()},kd=Iv.root,nv=0,k1=0;const z2={LINE:0,DOTTED_LINE:1},W2={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Lv=e=>JSON.parse(JSON.stringify(e)),U2=function(e,n,u){cc.parseDirective(this,e,n,u)},H2=e=>{Me.info("Setting root doc",e),Dv=e},j2=()=>Dv,Ov=(e,n,u)=>{if(n.stmt===Cg)Ov(e,n.state1,!0),Ov(e,n.state2,!1);else if(n.stmt===Mv&&(n.id==="[*]"?(n.id=u?e.id+"_start":e.id+"_end",n.start=u):n.id=n.id.trim()),n.doc){const b=[];let y=[],L;for(L=0;L<n.doc.length;L++)if(n.doc[L].type===p1){const P=Lv(n.doc[L]);P.doc=Lv(y),b.push(P),y=[]}else y.push(n.doc[L]);if(b.length>0&&y.length>0){const P={stmt:Mv,id:Du(),type:"divider",doc:Lv(y)};b.push(Lv(P)),n.doc=b}n.doc.forEach(P=>Ov(n,P,!0))}},V2=()=>(Ov({id:"root"},{id:"root",doc:Dv},!0),{id:"root",doc:Dv}),Y2=e=>{let n;e.doc?n=e.doc:n=e,Me.info(n),E1(!0),Me.info("Extract",n),n.forEach(u=>{switch(u.stmt){case Mv:jp(u.id.trim(),u.type,u.doc,u.description,u.note,u.classes,u.styles,u.textStyles);break;case Cg:C1(u.state1,u.state2,u.description);break;case P2:T1(u.id.trim(),u.classes);break;case B2:Dg(u.id.trim(),u.styleClass);break}})},jp=function(e,n=ev,u=null,b=null,y=null,L=null,P=null,V=null){const ee=e==null?void 0:e.trim();kd.states[ee]===void 0?(Me.info("Adding state ",ee,b),kd.states[ee]={id:ee,descriptions:[],type:n,doc:u,note:y,classes:[],styles:[],textStyles:[]}):(kd.states[ee].doc||(kd.states[ee].doc=u),kd.states[ee].type||(kd.states[ee].type=n)),b&&(Me.info("Setting state description",ee,b),typeof b=="string"&&Mg(ee,b.trim()),typeof b=="object"&&b.forEach(_e=>Mg(ee,_e.trim()))),y&&(kd.states[ee].note=y,kd.states[ee].note.text=Ee.sanitizeText(kd.states[ee].note.text,qe())),L&&(Me.info("Setting state classes",ee,L),(typeof L=="string"?[L]:L).forEach(Le=>Dg(ee,Le.trim()))),P&&(Me.info("Setting state styles",ee,P),(typeof P=="string"?[P]:P).forEach(Le=>n_(ee,Le.trim()))),V&&(Me.info("Setting state styles",ee,P),(typeof V=="string"?[V]:V).forEach(Le=>r_(ee,Le.trim())))},E1=function(e){Iv={root:w1()},kd=Iv.root,nv=0,tv=_1(),e||rs()},rv=function(e){return kd.states[e]},K2=function(){return kd.states},G2=function(){Me.info("Documents = ",Iv)},q2=function(){return kd.relations};function Sg(e=""){let n=e;return e===Tg&&(nv++,n=`${v1}${nv}`),n}function Ag(e="",n=ev){return e===Tg?v1:n}function $2(e=""){let n=e;return e===g1&&(nv++,n=`${m1}${nv}`),n}function X2(e="",n=ev){return e===g1?m1:n}function Q2(e,n,u){let b=Sg(e.id.trim()),y=Ag(e.id.trim(),e.type),L=Sg(n.id.trim()),P=Ag(n.id.trim(),n.type);jp(b,y,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),jp(L,P,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles),kd.relations.push({id1:b,id2:L,relationTitle:Ee.sanitizeText(u,qe())})}const C1=function(e,n,u){if(typeof e=="object")Q2(e,n,u);else{const b=Sg(e.trim()),y=Ag(e),L=$2(n.trim()),P=X2(n);jp(b,y),jp(L,P),kd.relations.push({id1:b,id2:L,title:Ee.sanitizeText(u,qe())})}},Mg=function(e,n){const u=kd.states[e],b=n.startsWith(":")?n.replace(":","").trim():n;u.descriptions.push(Ee.sanitizeText(b,qe()))},J2=function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},e_=()=>(k1++,"divider-id-"+k1),T1=function(e,n=""){tv[e]===void 0&&(tv[e]={id:e,styles:[],textStyles:[]});const u=tv[e];n!=null&&n.split(Z2).forEach(b=>{const y=b.replace(/([^;]*);/,"$1").trim();if(b.match(b1)){const P=y.replace(y1,F2).replace(b1,y1);u.textStyles.push(P)}u.styles.push(y)})},t_=function(){return tv},Dg=function(e,n){e.split(",").forEach(function(u){let b=rv(u);if(b===void 0){const y=u.trim();jp(y),b=rv(y)}b.classes.push(n)})},n_=function(e,n){const u=rv(e);u!==void 0&&u.textStyles.push(n)},r_=function(e,n){const u=rv(e);u!==void 0&&u.textStyles.push(n)},ap={parseDirective:U2,getConfig:()=>qe().state,addState:jp,clear:E1,getState:rv,getStates:K2,getRelations:q2,getClasses:t_,getDirection:()=>x1,addRelation:C1,getDividerId:e_,setDirection:e=>{x1=e},cleanupLabel:J2,lineType:z2,relationType:W2,logDocuments:G2,getRootDoc:j2,setRootDoc:H2,getRootDocV2:V2,extract:Y2,trimColon:e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),getAccTitle:Wo,setAccTitle:Oa,getAccDescription:oc,setAccDescription:bc,addStyleClass:T1,setCssClass:Dg,addDescription:Mg,setDiagramTitle:ou,getDiagramTitle:at},Ig={},i_=(e,n)=>{Ig[e]=n},a_=e=>Ig[e],S1=()=>Object.keys(Ig),o_={get:a_,set:i_,keys:S1,size:()=>S1().length},s_=e=>e.append("circle").attr("class","start-state").attr("r",qe().state.sizeUnit).attr("cx",qe().state.padding+qe().state.sizeUnit).attr("cy",qe().state.padding+qe().state.sizeUnit),l_=e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",qe().state.textHeight).attr("class","divider").attr("x2",qe().state.textHeight*2).attr("y1",0).attr("y2",0),c_=(e,n)=>{const u=e.append("text").attr("x",2*qe().state.padding).attr("y",qe().state.textHeight+2*qe().state.padding).attr("font-size",qe().state.fontSize).attr("class","state-title").text(n.id),b=u.node().getBBox();return e.insert("rect",":first-child").attr("x",qe().state.padding).attr("y",qe().state.padding).attr("width",b.width+2*qe().state.padding).attr("height",b.height+2*qe().state.padding).attr("rx",qe().state.radius),u},u_=(e,n)=>{const u=function(Re,Ke,Ut){const sn=Re.append("tspan").attr("x",2*qe().state.padding).text(Ke);Ut||sn.attr("dy",qe().state.textHeight)},y=e.append("text").attr("x",2*qe().state.padding).attr("y",qe().state.textHeight+1.3*qe().state.padding).attr("font-size",qe().state.fontSize).attr("class","state-title").text(n.descriptions[0]).node().getBBox(),L=y.height,P=e.append("text").attr("x",qe().state.padding).attr("y",L+qe().state.padding*.4+qe().state.dividerMargin+qe().state.textHeight).attr("class","state-description");let V=!0,ee=!0;n.descriptions.forEach(function(Re){V||(u(P,Re,ee),ee=!1),V=!1});const _e=e.append("line").attr("x1",qe().state.padding).attr("y1",qe().state.padding+L+qe().state.dividerMargin/2).attr("y2",qe().state.padding+L+qe().state.dividerMargin/2).attr("class","descr-divider"),Le=P.node().getBBox(),Fe=Math.max(Le.width,y.width);return _e.attr("x2",Fe+3*qe().state.padding),e.insert("rect",":first-child").attr("x",qe().state.padding).attr("y",qe().state.padding).attr("width",Fe+2*qe().state.padding).attr("height",Le.height+L+2*qe().state.padding).attr("rx",qe().state.radius),e},d_=(e,n,u)=>{const b=qe().state.padding,y=2*qe().state.padding,L=e.node().getBBox(),P=L.width,V=L.x,ee=e.append("text").attr("x",0).attr("y",qe().state.titleShift).attr("font-size",qe().state.fontSize).attr("class","state-title").text(n.id),Le=ee.node().getBBox().width+y;let Fe=Math.max(Le,P);Fe===P&&(Fe=Fe+y);let Re;const Ke=e.node().getBBox();n.doc,Re=V-b,Le>P&&(Re=(P-Fe)/2+b),Math.abs(V-Ke.x)<b&&Le>P&&(Re=V-(Le-P)/2);const Ut=1-qe().state.textHeight;return e.insert("rect",":first-child").attr("x",Re).attr("y",Ut).attr("class",u?"alt-composit":"composit").attr("width",Fe).attr("height",Ke.height+qe().state.textHeight+qe().state.titleShift+1).attr("rx","0"),ee.attr("x",Re+b),Le<=P&&ee.attr("x",V+(Fe-y)/2-Le/2+b),e.insert("rect",":first-child").attr("x",Re).attr("y",qe().state.titleShift-qe().state.textHeight-qe().state.padding).attr("width",Fe).attr("height",qe().state.textHeight*3).attr("rx",qe().state.radius),e.insert("rect",":first-child").attr("x",Re).attr("y",qe().state.titleShift-qe().state.textHeight-qe().state.padding).attr("width",Fe).attr("height",Ke.height+3+2*qe().state.textHeight).attr("rx",qe().state.radius),e},f_=e=>(e.append("circle").attr("class","end-state-outer").attr("r",qe().state.sizeUnit+qe().state.miniPadding).attr("cx",qe().state.padding+qe().state.sizeUnit+qe().state.miniPadding).attr("cy",qe().state.padding+qe().state.sizeUnit+qe().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",qe().state.sizeUnit).attr("cx",qe().state.padding+qe().state.sizeUnit+2).attr("cy",qe().state.padding+qe().state.sizeUnit+2)),h_=(e,n)=>{let u=qe().state.forkWidth,b=qe().state.forkHeight;if(n.parentId){let y=u;u=b,b=y}return e.append("rect").style("stroke","black").style("fill","black").attr("width",u).attr("height",b).attr("x",qe().state.padding).attr("y",qe().state.padding)},p_=(e,n,u,b)=>{let y=0;const L=b.append("text");L.style("text-anchor","start"),L.attr("class","noteText");let P=e.replace(/\r\n/g,"<br/>");P=P.replace(/\n/g,"<br/>");const V=P.split(Ee.lineBreakRegex);let ee=1.25*qe().state.noteMargin;for(const _e of V){const Le=_e.trim();if(Le.length>0){const Fe=L.append("tspan");if(Fe.text(Le),ee===0){const Re=Fe.node().getBBox();ee+=Re.height}y+=ee,Fe.attr("x",n+qe().state.noteMargin),Fe.attr("y",u+y+1.25*qe().state.noteMargin)}}return{textWidth:L.node().getBBox().width,textHeight:y}},v_=(e,n)=>{n.attr("class","state-note");const u=n.append("rect").attr("x",0).attr("y",qe().state.padding),b=n.append("g"),{textWidth:y,textHeight:L}=p_(e,0,0,b);return u.attr("height",L+2*qe().state.noteMargin),u.attr("width",y+qe().state.noteMargin*2),u},A1=function(e,n){const u=n.id,b={id:u,label:n.id,width:0,height:0},y=e.append("g").attr("id",u).attr("class","stateGroup");n.type==="start"&&s_(y),n.type==="end"&&f_(y),(n.type==="fork"||n.type==="join")&&h_(y,n),n.type==="note"&&v_(n.note.text,y),n.type==="divider"&&l_(y),n.type==="default"&&n.descriptions.length===0&&c_(y,n),n.type==="default"&&n.descriptions.length>0&&u_(y,n);const L=y.node().getBBox();return b.width=L.width+2*qe().state.padding,b.height=L.height+2*qe().state.padding,o_.set(u,b),b};let M1=0;const g_=function(e,n,u){const b=function(ee){switch(ee){case ap.relationType.AGGREGATION:return"aggregation";case ap.relationType.EXTENSION:return"extension";case ap.relationType.COMPOSITION:return"composition";case ap.relationType.DEPENDENCY:return"dependency"}};n.points=n.points.filter(ee=>!Number.isNaN(ee.y));const y=n.points,L=(0,d.jvg)().x(function(ee){return ee.x}).y(function(ee){return ee.y}).curve(d.$0Z),P=e.append("path").attr("d",L(y)).attr("id","edge"+M1).attr("class","transition");let V="";if(qe().state.arrowMarkerAbsolute&&(V=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,V=V.replace(/\(/g,"\\("),V=V.replace(/\)/g,"\\)")),P.attr("marker-end","url("+V+"#"+b(ap.relationType.DEPENDENCY)+"End)"),u.title!==void 0){const ee=e.append("g").attr("class","stateLabel"),{x:_e,y:Le}=Ka.calcLabelPosition(n.points),Fe=Ee.getRows(u.title);let Re=0;const Ke=[];let Ut=0,sn=0;for(let Xt=0;Xt<=Fe.length;Xt++){const zn=ee.append("text").attr("text-anchor","middle").text(Fe[Xt]).attr("x",_e).attr("y",Le+Re),nr=zn.node().getBBox();Ut=Math.max(Ut,nr.width),sn=Math.min(sn,nr.x),Me.info(nr.x,_e,Le+Re),Re===0&&(Re=zn.node().getBBox().height,Me.info("Title height",Re,Le)),Ke.push(zn)}let an=Re*Fe.length;if(Fe.length>1){const Xt=(Fe.length-1)*Re*.5;Ke.forEach((zn,nr)=>zn.attr("y",Le+nr*Re-Xt)),an=Re*Fe.length}const hn=ee.node().getBBox();ee.insert("rect",":first-child").attr("class","box").attr("x",_e-Ut/2-qe().state.padding/2).attr("y",Le-an/2-qe().state.padding/2-3.5).attr("width",Ut+qe().state.padding).attr("height",an+qe().state.padding),Me.info(hn)}M1++};let Lf;const Lg={},m_=function(){},b_=function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},y_=function(e,n,u,b){Lf=qe().state;const y=qe().securityLevel;let L;y==="sandbox"&&(L=(0,d.Ys)("#i"+n));const P=y==="sandbox"?(0,d.Ys)(L.nodes()[0].contentDocument.body):(0,d.Ys)("body"),V=y==="sandbox"?L.nodes()[0].contentDocument:document;Me.debug("Rendering diagram "+e);const ee=P.select(`[id='${n}']`);b_(ee),new Te.k({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const Le=b.db.getRootDoc();D1(Le,ee,void 0,!1,P,V,b);const Fe=Lf.padding,Re=ee.node().getBBox(),Ke=Re.width+Fe*2,Ut=Re.height+Fe*2,sn=Ke*1.75;Ra(ee,Ut,sn,Lf.useMaxWidth),ee.attr("viewBox",`${Re.x-Lf.padding}  ${Re.y-Lf.padding} `+Ke+" "+Ut)},__=e=>e?e.length*Lf.fontSizeFactor:1,D1=(e,n,u,b,y,L,P)=>{const V=new Te.k({compound:!0,multigraph:!0});let ee,_e=!0;for(ee=0;ee<e.length;ee++)if(e[ee].stmt==="relation"){_e=!1;break}u?V.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:_e?1:Lf.edgeLengthFactor,nodeSep:_e?1:50,isMultiGraph:!0}):V.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:_e?1:Lf.edgeLengthFactor,nodeSep:_e?1:50,ranker:"tight-tree",isMultiGraph:!0}),V.setDefaultEdgeLabel(function(){return{}}),P.db.extract(e);const Le=P.db.getStates(),Fe=P.db.getRelations(),Re=Object.keys(Le);for(const hn of Re){const Xt=Le[hn];u&&(Xt.parentId=u);let zn;if(Xt.doc){let nr=n.append("g").attr("id",Xt.id).attr("class","stateGroup");zn=D1(Xt.doc,nr,Xt.id,!b,y,L,P);{nr=d_(nr,Xt,b);let kr=nr.node().getBBox();zn.width=kr.width,zn.height=kr.height+Lf.padding/2,Lg[Xt.id]={y:Lf.compositTitleSize}}}else zn=A1(n,Xt);if(Xt.note){const nr={descriptions:[],id:Xt.id+"-note",note:Xt.note,type:"note"},kr=A1(n,nr);Xt.note.position==="left of"?(V.setNode(zn.id+"-note",kr),V.setNode(zn.id,zn)):(V.setNode(zn.id,zn),V.setNode(zn.id+"-note",kr)),V.setParent(zn.id,zn.id+"-group"),V.setParent(zn.id+"-note",zn.id+"-group")}else V.setNode(zn.id,zn)}Me.debug("Count=",V.nodeCount(),V);let Ke=0;Fe.forEach(function(hn){Ke++,Me.debug("Setting edge",hn),V.setEdge(hn.id1,hn.id2,{relation:hn,width:__(hn.title),height:Lf.labelHeight*Ee.getRows(hn.title).length,labelpos:"c"},"id"+Ke)}),(0,lt.bK)(V),Me.debug("Graph after layout",V.nodes());const Ut=n.node();V.nodes().forEach(function(hn){hn!==void 0&&V.node(hn)!==void 0?(Me.warn("Node "+hn+": "+JSON.stringify(V.node(hn))),y.select("#"+Ut.id+" #"+hn).attr("transform","translate("+(V.node(hn).x-V.node(hn).width/2)+","+(V.node(hn).y+(Lg[hn]?Lg[hn].y:0)-V.node(hn).height/2)+" )"),y.select("#"+Ut.id+" #"+hn).attr("data-x-shift",V.node(hn).x-V.node(hn).width/2),L.querySelectorAll("#"+Ut.id+" #"+hn+" .divider").forEach(zn=>{const nr=zn.parentElement;let kr=0,$r=0;nr&&(nr.parentElement&&(kr=nr.parentElement.getBBox().width),$r=parseInt(nr.getAttribute("data-x-shift"),10),Number.isNaN($r)&&($r=0)),zn.setAttribute("x1",0-$r+8),zn.setAttribute("x2",kr-$r-8)})):Me.debug("No Node "+hn+": "+JSON.stringify(V.node(hn)))});let sn=Ut.getBBox();V.edges().forEach(function(hn){hn!==void 0&&V.edge(hn)!==void 0&&(Me.debug("Edge "+hn.v+" -> "+hn.w+": "+JSON.stringify(V.edge(hn))),g_(n,V.edge(hn),V.edge(hn).relation))}),sn=Ut.getBBox();const an={id:u||"root",label:u||"root",width:0,height:0};return an.width=sn.width+2*Lf.padding,an.height=sn.height+2*Lf.padding,Me.debug("Doc rendered",an,V),an},x_={setConf:m_,draw:y_},Nv="rect",Og="rectWithTitle",w_="start",k_="end",E_="divider",C_="roundedWithTitle",T_="note",S_="noteGroup",x0="statediagram",A_=`${x0}-state`,I1="transition",M_="note",D_=`${I1} note-edge`,I_=`${x0}-${M_}`,L_=`${x0}-cluster`,O_=`${x0}-cluster-alt`,L1="parent",O1="note",N_="state",Ng="----",R_=`${Ng}${O1}`,N1=`${Ng}${L1}`,R1="fill:none",P1="fill: #333",B1="c",F1="text",Z1="normal";let Rv={},kp=0;const P_=function(e){const n=Object.keys(e);for(const u of n)e[u]},B_=function(e,n){Me.trace("Extracting classes"),n.db.clear();try{return n.parser.parse(e),n.db.extract(n.db.getRootDocV2()),n.db.getClasses()}catch(u){return u}};function F_(e){return e==null?"":e.classes?e.classes.join(" "):""}function Rg(e="",n=0,u="",b=Ng){const y=u!==null&&u.length>0?`${b}${u}`:"";return`${N_}-${e}${y}-${n}`}const iv=(e,n,u,b,y,L)=>{const P=u.id,V=F_(b[P]);if(P!=="root"){let ee=Nv;u.start===!0&&(ee=w_),u.start===!1&&(ee=k_),u.type!==ev&&(ee=u.type),Rv[P]||(Rv[P]={id:P,shape:ee,description:Ee.sanitizeText(P,qe()),classes:`${V} ${A_}`});const _e=Rv[P];u.description&&(Array.isArray(_e.description)?(_e.shape=Og,_e.description.push(u.description)):_e.description.length>0?(_e.shape=Og,_e.description===P?_e.description=[u.description]:_e.description=[_e.description,u.description]):(_e.shape=Nv,_e.description=u.description),_e.description=Ee.sanitizeTextOrArray(_e.description,qe())),_e.description.length===1&&_e.shape===Og&&(_e.shape=Nv),!_e.type&&u.doc&&(Me.info("Setting cluster for ",P,Pg(u)),_e.type="group",_e.dir=Pg(u),_e.shape=u.type===p1?E_:C_,_e.classes=_e.classes+" "+L_+" "+(L?O_:""));const Le={labelStyle:"",shape:_e.shape,labelText:_e.description,classes:_e.classes,style:"",id:P,dir:_e.dir,domId:Rg(P,kp),type:_e.type,padding:15};if(u.note){const Fe={labelStyle:"",shape:T_,labelText:u.note.text,classes:I_,style:"",id:P+R_+"-"+kp,domId:Rg(P,kp,O1),type:_e.type,padding:15},Re={labelStyle:"",shape:S_,labelText:u.note.text,classes:_e.classes,style:"",id:P+N1,domId:Rg(P,kp,L1),type:"group",padding:0};kp++;const Ke=P+N1;e.setNode(Ke,Re),e.setNode(Fe.id,Fe),e.setNode(P,Le),e.setParent(P,Ke),e.setParent(Fe.id,Ke);let Ut=P,sn=Fe.id;u.note.position==="left of"&&(Ut=Fe.id,sn=P),e.setEdge(Ut,sn,{arrowhead:"none",arrowType:"",style:R1,labelStyle:"",classes:D_,arrowheadStyle:P1,labelpos:B1,labelType:F1,thickness:Z1})}else e.setNode(P,Le)}n&&n.id!=="root"&&(Me.trace("Setting node ",P," to be child of its parent ",n.id),e.setParent(P,n.id)),u.doc&&(Me.trace("Adding nodes children "),Z_(e,u,u.doc,b,y,!L))},Z_=(e,n,u,b,y,L)=>{Me.trace("items",u),u.forEach(P=>{switch(P.stmt){case Mv:iv(e,n,P,b,y,L);break;case ev:iv(e,n,P,b,y,L);break;case Cg:{iv(e,n,P.state1,b,y,L),iv(e,n,P.state2,b,y,L);const V={id:"edge"+kp,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:R1,labelStyle:"",label:Ee.sanitizeText(P.description,qe()),arrowheadStyle:P1,labelpos:B1,labelType:F1,thickness:Z1,classes:I1};e.setEdge(P.state1.id,P.state2.id,V,kp),kp++}break}})},Pg=(e,n=R2)=>{let u=n;if(e.doc)for(let b=0;b<e.doc.length;b++){const y=e.doc[b];y.stmt==="dir"&&(u=y.value)}return u},z_={setConf:P_,getClasses:B_,draw:function(e,n,u,b){Me.info("Drawing state diagram (v2)",n),Rv={};let y=b.db.getDirection();y===void 0&&(y=h1);const{securityLevel:L,state:P}=qe(),V=P.nodeSpacing||50,ee=P.rankSpacing||50;Me.info(b.db.getRootDocV2()),b.db.extract(b.db.getRootDocV2()),Me.info(b.db.getRootDocV2());const _e=b.db.getStates(),Le=new Te.k({multigraph:!0,compound:!0}).setGraph({rankdir:Pg(b.db.getRootDocV2()),nodesep:V,ranksep:ee,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});iv(Le,void 0,b.db.getRootDocV2(),_e,b.db,!0);let Fe;L==="sandbox"&&(Fe=(0,d.Ys)("#i"+n));const Re=L==="sandbox"?(0,d.Ys)(Fe.nodes()[0].contentDocument.body):(0,d.Ys)("body"),Ke=Re.select(`[id="${n}"]`),Ut=Re.select("#"+n+" g");Fh(Ut,Le,["barb"],x0,n);const sn=8;Ka.insertTitle(Ke,"statediagramTitleText",P.titleTopMargin,b.db.getDiagramTitle());const an=Ke.node().getBBox(),hn=an.width+sn*2,Xt=an.height+sn*2;Ke.attr("class",x0);const zn=Ke.node().getBBox();Ra(Ke,Xt,hn,P.useMaxWidth);const nr=`${zn.x-sn} ${zn.y-sn} ${hn} ${Xt}`;Me.debug(`viewBox ${nr}`),Ke.attr("viewBox",nr);const kr=document.querySelectorAll('[id="'+n+'"] .edgeLabel .label');for(const $r of kr){const ir=$r.getBBox(),$n=document.createElementNS("http://www.w3.org/2000/svg",Nv);$n.setAttribute("rx",0),$n.setAttribute("ry",0),$n.setAttribute("width",ir.width),$n.setAttribute("height",ir.height),$r.insertBefore($n,$r.firstChild)}}};var Bg=function(){var e=function(sn,an,hn,Xt){for(hn=hn||{},Xt=sn.length;Xt--;hn[sn[Xt]]=an);return hn},n=[1,2],u=[1,5],b=[6,9,11,17,18,20,22,23,24,26],y=[1,15],L=[1,16],P=[1,17],V=[1,18],ee=[1,19],_e=[1,20],Le=[1,24],Fe=[4,6,9,11,17,18,20,22,23,24,26],Re={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(an,hn,Xt,zn,nr,kr,$r){var ir=kr.length-1;switch(nr){case 1:return kr[ir-1];case 3:this.$=[];break;case 4:kr[ir-1].push(kr[ir]),this.$=kr[ir-1];break;case 5:case 6:this.$=kr[ir];break;case 7:case 8:this.$=[];break;case 11:zn.setDiagramTitle(kr[ir].substr(6)),this.$=kr[ir].substr(6);break;case 12:this.$=kr[ir].trim(),zn.setAccTitle(this.$);break;case 13:case 14:this.$=kr[ir].trim(),zn.setAccDescription(this.$);break;case 15:zn.addSection(kr[ir].substr(8)),this.$=kr[ir].substr(8);break;case 16:zn.addTask(kr[ir-1],kr[ir]),this.$="task";break;case 18:zn.parseDirective("%%{","open_directive");break;case 19:zn.parseDirective(kr[ir],"type_directive");break;case 20:kr[ir]=kr[ir].trim().replace(/'/g,'"'),zn.parseDirective(kr[ir],"arg_directive");break;case 21:zn.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:n,7:3,12:4,26:u},{1:[3]},e(b,[2,3],{5:6}),{3:7,4:n,7:3,12:4,26:u},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:y,18:L,20:P,22:V,23:ee,24:_e,26:u},{1:[2,2]},{14:22,15:[1,23],29:Le},e([15,29],[2,19]),e(b,[2,8],{1:[2,1]}),e(b,[2,4]),{7:21,10:25,12:4,17:y,18:L,20:P,22:V,23:ee,24:_e,26:u},e(b,[2,6]),e(b,[2,7]),e(b,[2,11]),{19:[1,26]},{21:[1,27]},e(b,[2,14]),e(b,[2,15]),{25:[1,28]},e(b,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},e(b,[2,5]),e(b,[2,12]),e(b,[2,13]),e(b,[2,16]),e(Fe,[2,9]),{14:32,29:Le},{29:[2,20]},{11:[1,33]},e(Fe,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(an,hn){if(hn.recoverable)this.trace(an);else{var Xt=new Error(an);throw Xt.hash=hn,Xt}},parse:function(an){var hn=this,Xt=[0],zn=[],nr=[null],kr=[],$r=this.table,ir="",$n=0,cn=0,Sn=2,kn=1,At=kr.slice.call(arguments,1),Ln=Object.create(this.lexer),$e={yy:{}};for(var sr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,sr)&&($e.yy[sr]=this.yy[sr]);Ln.setInput(an,$e.yy),$e.yy.lexer=Ln,$e.yy.parser=this,typeof Ln.yylloc=="undefined"&&(Ln.yylloc={});var ft=Ln.yylloc;kr.push(ft);var or=Ln.options&&Ln.options.ranges;typeof $e.yy.parseError=="function"?this.parseError=$e.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function na(){var hi;return hi=zn.pop()||Ln.lex()||kn,typeof hi!="number"&&(hi instanceof Array&&(zn=hi,hi=zn.pop()),hi=hn.symbols_[hi]||hi),hi}for(var Sr,Zr,zr,Nr,Ir={},Oi,ki,mr,Ba;;){if(Zr=Xt[Xt.length-1],this.defaultActions[Zr]?zr=this.defaultActions[Zr]:((Sr===null||typeof Sr=="undefined")&&(Sr=na()),zr=$r[Zr]&&$r[Zr][Sr]),typeof zr=="undefined"||!zr.length||!zr[0]){var vr="";Ba=[];for(Oi in $r[Zr])this.terminals_[Oi]&&Oi>Sn&&Ba.push("'"+this.terminals_[Oi]+"'");Ln.showPosition?vr="Parse error on line "+($n+1)+`:
`+Ln.showPosition()+`
Expecting `+Ba.join(", ")+", got '"+(this.terminals_[Sr]||Sr)+"'":vr="Parse error on line "+($n+1)+": Unexpected "+(Sr==kn?"end of input":"'"+(this.terminals_[Sr]||Sr)+"'"),this.parseError(vr,{text:Ln.match,token:this.terminals_[Sr]||Sr,line:Ln.yylineno,loc:ft,expected:Ba})}if(zr[0]instanceof Array&&zr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zr+", token: "+Sr);switch(zr[0]){case 1:Xt.push(Sr),nr.push(Ln.yytext),kr.push(Ln.yylloc),Xt.push(zr[1]),Sr=null,cn=Ln.yyleng,ir=Ln.yytext,$n=Ln.yylineno,ft=Ln.yylloc;break;case 2:if(ki=this.productions_[zr[1]][1],Ir.$=nr[nr.length-ki],Ir._$={first_line:kr[kr.length-(ki||1)].first_line,last_line:kr[kr.length-1].last_line,first_column:kr[kr.length-(ki||1)].first_column,last_column:kr[kr.length-1].last_column},or&&(Ir._$.range=[kr[kr.length-(ki||1)].range[0],kr[kr.length-1].range[1]]),Nr=this.performAction.apply(Ir,[ir,cn,$n,$e.yy,zr[1],nr,kr].concat(At)),typeof Nr!="undefined")return Nr;ki&&(Xt=Xt.slice(0,-1*ki*2),nr=nr.slice(0,-1*ki),kr=kr.slice(0,-1*ki)),Xt.push(this.productions_[zr[1]][0]),nr.push(Ir.$),kr.push(Ir._$),mr=$r[Xt[Xt.length-2]][Xt[Xt.length-1]],Xt.push(mr);break;case 3:return!0}}return!0}},Ke=function(){var sn={EOF:1,parseError:function(hn,Xt){if(this.yy.parser)this.yy.parser.parseError(hn,Xt);else throw new Error(hn)},setInput:function(an,hn){return this.yy=hn||this.yy||{},this._input=an,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var an=this._input[0];this.yytext+=an,this.yyleng++,this.offset++,this.match+=an,this.matched+=an;var hn=an.match(/(?:\r\n?|\n).*/g);return hn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),an},unput:function(an){var hn=an.length,Xt=an.split(/(?:\r\n?|\n)/g);this._input=an+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-hn),this.offset-=hn;var zn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Xt.length-1&&(this.yylineno-=Xt.length-1);var nr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Xt?(Xt.length===zn.length?this.yylloc.first_column:0)+zn[zn.length-Xt.length].length-Xt[0].length:this.yylloc.first_column-hn},this.options.ranges&&(this.yylloc.range=[nr[0],nr[0]+this.yyleng-hn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(an){this.unput(this.match.slice(an))},pastInput:function(){var an=this.matched.substr(0,this.matched.length-this.match.length);return(an.length>20?"...":"")+an.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var an=this.match;return an.length<20&&(an+=this._input.substr(0,20-an.length)),(an.substr(0,20)+(an.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var an=this.pastInput(),hn=new Array(an.length+1).join("-");return an+this.upcomingInput()+`
`+hn+"^"},test_match:function(an,hn){var Xt,zn,nr;if(this.options.backtrack_lexer&&(nr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(nr.yylloc.range=this.yylloc.range.slice(0))),zn=an[0].match(/(?:\r\n?|\n).*/g),zn&&(this.yylineno+=zn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:zn?zn[zn.length-1].length-zn[zn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+an[0].length},this.yytext+=an[0],this.match+=an[0],this.matches=an,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(an[0].length),this.matched+=an[0],Xt=this.performAction.call(this,this.yy,this,hn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Xt)return Xt;if(this._backtrack){for(var kr in nr)this[kr]=nr[kr];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var an,hn,Xt,zn;this._more||(this.yytext="",this.match="");for(var nr=this._currentRules(),kr=0;kr<nr.length;kr++)if(Xt=this._input.match(this.rules[nr[kr]]),Xt&&(!hn||Xt[0].length>hn[0].length)){if(hn=Xt,zn=kr,this.options.backtrack_lexer){if(an=this.test_match(Xt,nr[kr]),an!==!1)return an;if(this._backtrack){hn=!1;continue}else return!1}else if(!this.options.flex)break}return hn?(an=this.test_match(hn,nr[zn]),an!==!1?an:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var hn=this.next();return hn||this.lex()},begin:function(hn){this.conditionStack.push(hn)},popState:function(){var hn=this.conditionStack.length-1;return hn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(hn){return hn=this.conditionStack.length-1-Math.abs(hn||0),hn>=0?this.conditionStack[hn]:"INITIAL"},pushState:function(hn){this.begin(hn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(hn,Xt,zn,nr){switch(zn){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return sn}();Re.lexer=Ke;function Ut(){this.yy={}}return Ut.prototype=Re,Re.Parser=Ut,new Ut}();Bg.parser=Bg;const W_=Bg,U_=e=>e.match(/^\s*journey/)!==null;let w0="";const Fg=[],av=[],ov=[],H_=function(e,n,u){cc.parseDirective(this,e,n,u)},j_=function(){Fg.length=0,av.length=0,w0="",ov.length=0,rs()},V_=function(e){w0=e,Fg.push(e)},Y_=function(){return Fg},K_=function(){let e=z1();const n=100;let u=0;for(;!e&&u<n;)e=z1(),u++;return av.push(...ov),av},G_=function(){const e=[];return av.forEach(u=>{u.people&&e.push(...u.people)}),[...new Set(e)].sort()},q_=function(e,n){const u=n.substr(1).split(":");let b=0,y=[];u.length===1?(b=Number(u[0]),y=[]):(b=Number(u[0]),y=u[1].split(","));const L=y.map(V=>V.trim()),P={section:w0,type:w0,people:L,task:e,score:b};ov.push(P)},$_=function(e){const n={section:w0,type:w0,description:e,task:e,classes:[]};av.push(n)},z1=function(){const e=function(u){return ov[u].processed};let n=!0;for(const[u,b]of ov.entries())e(u),n=n&&b.processed;return n},W1={parseDirective:H_,getConfig:()=>qe().journey,clear:j_,setDiagramTitle:ou,getDiagramTitle:at,setAccTitle:Oa,getAccTitle:Wo,setAccDescription:bc,getAccDescription:oc,addSection:V_,getSections:Y_,getTasks:K_,addTask:q_,addTaskOrg:$_,getActors:function(){return G_()}},Pv=function(e,n){const u=e.append("rect");return u.attr("x",n.x),u.attr("y",n.y),u.attr("fill",n.fill),u.attr("stroke",n.stroke),u.attr("width",n.width),u.attr("height",n.height),u.attr("rx",n.rx),u.attr("ry",n.ry),n.class!==void 0&&u.attr("class",n.class),u},X_=function(e,n){const b=e.append("circle").attr("cx",n.cx).attr("cy",n.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),y=e.append("g");y.append("circle").attr("cx",n.cx-15/3).attr("cy",n.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),y.append("circle").attr("cx",n.cx+15/3).attr("cy",n.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function L(ee){const _e=(0,d.Nb1)().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);ee.append("path").attr("class","mouth").attr("d",_e).attr("transform","translate("+n.cx+","+(n.cy+2)+")")}function P(ee){const _e=(0,d.Nb1)().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);ee.append("path").attr("class","mouth").attr("d",_e).attr("transform","translate("+n.cx+","+(n.cy+7)+")")}function V(ee){ee.append("line").attr("class","mouth").attr("stroke",2).attr("x1",n.cx-5).attr("y1",n.cy+7).attr("x2",n.cx+5).attr("y2",n.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return n.score>3?L(y):n.score<3?P(y):V(y),b},U1=function(e,n){const u=e.append("circle");return u.attr("cx",n.cx),u.attr("cy",n.cy),u.attr("class","actor-"+n.pos),u.attr("fill",n.fill),u.attr("stroke",n.stroke),u.attr("r",n.r),u.class!==void 0&&u.attr("class",u.class),n.title!==void 0&&u.append("title").text(n.title),u},H1=function(e,n){const u=n.text.replace(/<br\s*\/?>/gi," "),b=e.append("text");b.attr("x",n.x),b.attr("y",n.y),b.attr("class","legend"),b.style("text-anchor",n.anchor),n.class!==void 0&&b.attr("class",n.class);const y=b.append("tspan");return y.attr("x",n.x+n.textMargin*2),y.text(u),b},Q_=function(e,n){function u(y,L,P,V,ee){return y+","+L+" "+(y+P)+","+L+" "+(y+P)+","+(L+V-ee)+" "+(y+P-ee*1.2)+","+(L+V)+" "+y+","+(L+V)}const b=e.append("polygon");b.attr("points",u(n.x,n.y,50,20,7)),b.attr("class","labelBox"),n.y=n.y+n.labelMargin,n.x=n.x+.5*n.labelMargin,H1(e,n)},J_=function(e,n,u){const b=e.append("g"),y=Zg();y.x=n.x,y.y=n.y,y.fill=n.fill,y.width=u.width,y.height=u.height,y.class="journey-section section-type-"+n.num,y.rx=3,y.ry=3,Pv(b,y),V1(u)(n.text,b,y.x,y.y,y.width,y.height,{class:"journey-section section-type-"+n.num},u,n.colour)};let j1=-1;const ex=function(e,n,u){const b=n.x+u.width/2,y=e.append("g");j1++;const L=300+5*30;y.append("line").attr("id","task"+j1).attr("x1",b).attr("y1",n.y).attr("x2",b).attr("y2",L).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),X_(y,{cx:b,cy:300+(5-n.score)*30,score:n.score});const P=Zg();P.x=n.x,P.y=n.y,P.fill=n.fill,P.width=u.width,P.height=u.height,P.class="task task-type-"+n.num,P.rx=3,P.ry=3,Pv(y,P);let V=n.x+14;n.people.forEach(ee=>{const _e=n.actors[ee].color,Le={cx:V,cy:n.y,r:7,fill:_e,stroke:"#000",title:ee,pos:n.actors[ee].position};U1(y,Le),V+=10}),V1(u)(n.task,y,P.x,P.y,P.width,P.height,{class:"task"},u,n.colour)},tx=function(e,n){Pv(e,{x:n.startx,y:n.starty,width:n.stopx-n.startx,height:n.stopy-n.starty,fill:n.fill,class:"rect"}).lower()},nx=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},Zg=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},V1=function(){function e(y,L,P,V,ee,_e,Le,Fe){const Re=L.append("text").attr("x",P+ee/2).attr("y",V+_e/2+5).style("font-color",Fe).style("text-anchor","middle").text(y);b(Re,Le)}function n(y,L,P,V,ee,_e,Le,Fe,Re){const{taskFontSize:Ke,taskFontFamily:Ut}=Fe,sn=y.split(/<br\s*\/?>/gi);for(let an=0;an<sn.length;an++){const hn=an*Ke-Ke*(sn.length-1)/2,Xt=L.append("text").attr("x",P+ee/2).attr("y",V).attr("fill",Re).style("text-anchor","middle").style("font-size",Ke).style("font-family",Ut);Xt.append("tspan").attr("x",P+ee/2).attr("dy",hn).text(sn[an]),Xt.attr("y",V+_e/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),b(Xt,Le)}}function u(y,L,P,V,ee,_e,Le,Fe){const Re=L.append("switch"),Ut=Re.append("foreignObject").attr("x",P).attr("y",V).attr("width",ee).attr("height",_e).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ut.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(y),n(y,Re,P,V,ee,_e,Le,Fe),b(Ut,Le)}function b(y,L){for(const P in L)P in L&&y.attr(P,L[P])}return function(y){return y.textPlacement==="fo"?u:y.textPlacement==="old"?e:n}}(),sv={drawRect:Pv,drawCircle:U1,drawSection:J_,drawText:H1,drawLabel:Q_,drawTask:ex,drawBackgroundRect:tx,getTextObj:nx,getNoteRect:Zg,initGraphics:function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}},rx=function(e){Object.keys(e).forEach(function(u){Bv[u]=e[u]})},op={};function ix(e){const n=qe().journey;let u=60;Object.keys(op).forEach(b=>{const y=op[b].color,L={cx:20,cy:u,r:7,fill:y,stroke:"#000",pos:op[b].position};sv.drawCircle(e,L);const P={x:40,y:u+7,fill:"#666",text:b,textMargin:n.boxTextMargin|5};sv.drawText(e,P),u+=20})}const Bv=qe().journey,Vp=Bv.leftMargin,ax=function(e,n,u,b){const y=qe().journey;b.db.clear(),b.parser.parse(e+`
`);const L=qe().securityLevel;let P;L==="sandbox"&&(P=(0,d.Ys)("#i"+n));const V=L==="sandbox"?(0,d.Ys)(P.nodes()[0].contentDocument.body):(0,d.Ys)("body");Jf.init();const ee=V.select("#"+n);sv.initGraphics(ee);const _e=b.db.getTasks(),Le=b.db.getDiagramTitle(),Fe=b.db.getActors();for(const hn in op)delete op[hn];let Re=0;Fe.forEach(hn=>{op[hn]={color:y.actorColours[Re%y.actorColours.length],position:Re},Re++}),ix(ee),Jf.insert(0,0,Vp,Object.keys(op).length*50),ox(ee,_e,0);const Ke=Jf.getBounds();Le&&ee.append("text").text(Le).attr("x",Vp).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const Ut=Ke.stopy-Ke.starty+2*y.diagramMarginY,sn=Vp+Ke.stopx+2*y.diagramMarginX;Ra(ee,Ut,sn,y.useMaxWidth),ee.append("line").attr("x1",Vp).attr("y1",y.height*4).attr("x2",sn-Vp-4).attr("y2",y.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const an=Le?70:0;ee.attr("viewBox",`${Ke.startx} -25 ${sn} ${Ut+an}`),ee.attr("preserveAspectRatio","xMinYMin meet"),ee.attr("height",Ut+an+25)},Jf={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,n,u,b){e[n]===void 0?e[n]=u:e[n]=b(u,e[n])},updateBounds:function(e,n,u,b){const y=qe().journey,L=this;let P=0;function V(ee){return function(Le){P++;const Fe=L.sequenceItems.length-P+1;L.updateVal(Le,"starty",n-Fe*y.boxMargin,Math.min),L.updateVal(Le,"stopy",b+Fe*y.boxMargin,Math.max),L.updateVal(Jf.data,"startx",e-Fe*y.boxMargin,Math.min),L.updateVal(Jf.data,"stopx",u+Fe*y.boxMargin,Math.max),ee!=="activation"&&(L.updateVal(Le,"startx",e-Fe*y.boxMargin,Math.min),L.updateVal(Le,"stopx",u+Fe*y.boxMargin,Math.max),L.updateVal(Jf.data,"starty",n-Fe*y.boxMargin,Math.min),L.updateVal(Jf.data,"stopy",b+Fe*y.boxMargin,Math.max))}}this.sequenceItems.forEach(V())},insert:function(e,n,u,b){const y=Math.min(e,u),L=Math.max(e,u),P=Math.min(n,b),V=Math.max(n,b);this.updateVal(Jf.data,"startx",y,Math.min),this.updateVal(Jf.data,"starty",P,Math.min),this.updateVal(Jf.data,"stopx",L,Math.max),this.updateVal(Jf.data,"stopy",V,Math.max),this.updateBounds(y,P,L,V)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},zg=Bv.sectionFills,Y1=Bv.sectionColours,ox=function(e,n,u){const b=qe().journey;let y="";const L=b.height*2+b.diagramMarginY,P=u+L;let V=0,ee="#CCC",_e="black",Le=0;for(const[Fe,Re]of n.entries()){if(y!==Re.section){ee=zg[V%zg.length],Le=V%zg.length,_e=Y1[V%Y1.length];const Ut={x:Fe*b.taskMargin+Fe*b.width+Vp,y:50,text:Re.section,fill:ee,num:Le,colour:_e};sv.drawSection(e,Ut,b),y=Re.section,V++}const Ke=Re.people.reduce((Ut,sn)=>(op[sn]&&(Ut[sn]=op[sn]),Ut),{});Re.x=Fe*b.taskMargin+Fe*b.width+Vp,Re.y=P,Re.width=b.diagramMarginX,Re.height=b.diagramMarginY,Re.colour=_e,Re.fill=ee,Re.num=Le,Re.actors=Ke,sv.drawTask(e,Re,b),Jf.insert(Re.x,Re.y,Re.x+Re.width+b.taskMargin,300+5*30)}},K1={setConf:rx,draw:ax};let G1={};const Fv={setConf:function(e){G1=dv(dv({},G1),e)},draw:(e,n,u)=>{try{Me.debug(`Renering svg for syntax error
`);const b=(0,d.Ys)("#"+n),y=b.append("g");y.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),y.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),y.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),y.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),y.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),y.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),y.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),y.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+u),b.attr("height",100),b.attr("width",500),b.attr("viewBox","768 0 912 512")}catch(b){Me.error("Error while rendering info diagram"),Me.error(Jd(b))}}},q1="flowchart-elk",sx={id:q1,detector:(e,n)=>{var u;return!!(e.match(/^\s*flowchart-elk/)||e.match(/^\s*flowchart|graph/)&&((u=n==null?void 0:n.flowchart)==null?void 0:u.defaultRenderer)==="elk")},loader:()=>rh(this,null,function*(){const{diagram:e}=yield f.e(3417).then(f.bind(f,83417));return{id:q1,diagram:e}})},$1="timeline",lx={id:$1,detector:e=>e.match(/^\s*timeline/)!==null,loader:()=>rh(this,null,function*(){const{diagram:e}=yield f.e(3815).then(f.bind(f,33815));return{id:$1,diagram:e}})},X1="mindmap",cx={id:X1,detector:e=>e.match(/^\s*mindmap/)!==null,loader:()=>rh(this,null,function*(){const{diagram:e}=yield f.e(9880).then(f.bind(f,9880));return{id:X1,diagram:e}})};let Q1=!1;const lv=()=>{Q1||(Q1=!0,Rf(sx,lx,cx),ge("error",{db:{clear:()=>{}},styles:Mc,renderer:Fv,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},e=>e.toLowerCase().trim()==="error"),ge("---",{db:{clear:()=>{}},styles:Mc,renderer:Fv,parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with unindented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),ge("c4",{parser:Vc,db:Vh,renderer:Ia,styles:_u,init:e=>{Ia.setConf(e.c4)}},Fu),ge("class",{parser:Es,db:Dh,renderer:i0,styles:xl,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Dh.clear()}},dl),ge("classDiagram",{parser:Es,db:Dh,renderer:Qf,styles:xl,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Dh.clear()}},Ts),ge("er",{parser:bv,db:Kv,renderer:gr,styles:zc},Vv),ge("gantt",{parser:Rb,db:lg,renderer:hy,styles:rl},Pb),ge("info",{parser:py,db:vy,renderer:gy,styles:bu},my),ge("pie",{parser:by,db:_y,renderer:xy,styles:gc},yy),ge("requirement",{parser:wy,db:Ey,renderer:Iy,styles:ic},ky),ge("sequence",{parser:Ly,db:e1,renderer:d1,styles:Pu,init:e=>{if(e.sequence||(e.sequence={}),e.sequence.arrowMarkerAbsolute=e.arrowMarkerAbsolute,"sequenceDiagram"in e)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");e1.setWrap(e.wrap),d1.setConf(e.sequence)}},Oy),ge("state",{parser:f1,db:ap,renderer:x_,styles:Cf,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,ap.clear()}},O2),ge("stateDiagram",{parser:f1,db:ap,renderer:z_,styles:Cf,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,ap.clear()}},N2),ge("journey",{parser:W_,db:W1,renderer:K1,styles:ac,init:e=>{K1.setConf(e.journey),W1.clear()}},U_),ge("flowchart",{parser:Ea,db:zh,renderer:$v,styles:Uc,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Ob.setConf(e.flowchart),zh.clear(),zh.setGen("gen-1")}},$a),ge("flowchart-v2",{parser:Ea,db:zh,renderer:$v,styles:Uc,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,gt({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),$v.setConf(e.flowchart),zh.clear(),zh.setGen("gen-2")}},Ci),ge("gitGraph",{parser:bt,db:Ho,renderer:Ld,styles:Od},Ct))};class Wg{constructor(n,u){_t(this,"type","graph"),_t(this,"parser"),_t(this,"renderer"),_t(this,"db"),_t(this,"detectTypeFailed",!1);var b,y;this.txt=n;const L=qe();this.txt=n;try{this.type=Yd(n,L)}catch(ee){this.handleError(ee,u),this.type="error",this.detectTypeFailed=!0}const P=Oe(this.type);Me.debug("Type "+this.type),this.db=P.db,(y=(b=this.db).clear)==null||y.call(b),this.renderer=P.renderer,this.parser=P.parser;const V=this.parser.parse.bind(this.parser);this.parser.parse=ee=>V(Hd(ee,this.db)),this.parser.parser.yy=this.db,P.init&&(P.init(L),Me.info("Initialized diagram "+this.type,L)),this.txt+=`
`,this.parse(this.txt,u)}parse(n,u){var b,y;if(this.detectTypeFailed)return!1;try{return n=n+`
`,(y=(b=this.db).clear)==null||y.call(b),this.parser.parse(n),!0}catch(L){this.handleError(L,u)}return!1}handleError(n,u){if(u===void 0)throw n;if(Dd(n)){u(n.str,n.hash);return}u(n)}getParser(){return this.parser}getType(){return this.type}}const Ug=(e,n)=>{const u=Yd(e,qe());try{Oe(u)}catch(b){const y=vd(u);if(!y)throw new Error(`Diagram ${u} not found.`);return y().then(({diagram:L})=>(ge(u,L,void 0),new Wg(e,n)))}return new Wg(e,n)},Hg=Wg,ux="graphics-document document";function dx(e,n){e.attr("role",ux),(0,bn.Z)(n)||e.attr("aria-roledescription",n)}function fx(e,n,u,b){if(e.insert!==void 0)if(n||u){if(u){const y="chart-desc-"+b;e.attr("aria-describedby",y),e.insert("desc",":first-child").attr("id",y).text(u)}if(n){const y="chart-title-"+b;e.attr("aria-labelledby",y),e.insert("title",":first-child").attr("id",y).text(n)}}else return}const jg=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],J1="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",eb="sandbox",tb="loose",hx="http://www.w3.org/2000/svg",nb="http://www.w3.org/1999/xlink",rb="http://www.w3.org/1999/xhtml",px="100%",vx="100%",gx="border:0;margin:0;",mx="margin:0",bx="allow-top-navigation-by-user-activation allow-popups",yx='The "iframe" tag is not supported by your browser.',ib=["foreignobject"],ab=["dominant-baseline"];function _x(e,n){return lv(),new Hg(e,n).parse(e,n)}function xx(e,n){return rh(this,null,function*(){return lv(),(yield Ug(e,n)).parse(e,n)})}const ob=function(e){let n=e;return n=n.replace(/style.*:\S*#.*;/g,function(u){return u.substring(0,u.length-1)}),n=n.replace(/classDef.*:\S*#.*;/g,function(u){return u.substring(0,u.length-1)}),n=n.replace(/#\w+;/g,function(u){const b=u.substring(1,u.length-1);return/^\+?\d+$/.test(b)?"\uFB02\xB0\xB0"+b+"\xB6\xDF":"\uFB02\xB0"+b+"\xB6\xDF"}),n},Vg=function(e){let n=e;return n=n.replace(/ﬂ°°/g,"&#"),n=n.replace(/ﬂ°/g,"&"),n=n.replace(/¶ß/g,";"),n},sb=(e,n,u=[])=>`
.${e} ${n} { ${u.join(" !important; ")} !important; }`,wx=(e,n,u={})=>{var b;let y="";if(e.themeCSS!==void 0&&(y+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(y+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(y+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!(0,bn.Z)(u)&&jg.includes(n)){const ee=e.htmlLabels||((b=e.flowchart)==null?void 0:b.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const _e in u){const Le=u[_e];(0,bn.Z)(Le.styles)||ee.forEach(Fe=>{y+=sb(Le.id,Fe,Le.styles)}),(0,bn.Z)(Le.textStyles)||(y+=sb(Le.id,"tspan",Le.textStyles))}}return y},lb=(e,n,u,b)=>{const y=wx(e,n,u),L=Tf(n,y,e.themeVariables);return(0,dt.q)((0,Qe.MY)(`${b}{${L}}`),dt.P)},cb=(e="",n,u)=>{let b=e;return!u&&!n&&(b=b.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),b=Vg(b),b=b.replace(/<br>/g,"<br/>"),b},ub=(e="",n)=>{const u=n?n.viewBox.baseVal.height+"px":vx,b=btoa('<body style="'+mx+'">'+e+"</body>");return`<iframe style="width:${px};height:${u};${gx}" src="data:text/html;base64,${b}" sandbox="${bx}">
  ${yx}
</iframe>`},Zv=(e,n,u,b,y)=>{const L=e.append("div");L.attr("id",u),b&&L.attr("style",b);const P=L.append("svg").attr("id",n).attr("width","100%").attr("xmlns",hx);return y&&P.attr("xmlns:xlink",y),P.append("g"),e};function zv(e,n){return e.append("iframe").attr("id",n).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const db=(e,n,u,b)=>{var y,L,P;(y=e.getElementById(n))==null||y.remove(),(L=e.getElementById(u))==null||L.remove(),(P=e.getElementById(b))==null||P.remove()},kx=function(e,n,u,b){var y,L,P,V,ee;lv(),fn();const _e=Ka.detectInit(n);_e&&(nc(_e),dn(_e));const Le=qe();Me.debug(Le),n.length>((y=Le==null?void 0:Le.maxTextSize)!=null?y:5e4)&&(n=J1),n=n.replace(/\r\n?/g,`
`);const Fe="#"+e,Re="i"+e,Ke="#"+Re,Ut="d"+e,sn="#"+Ut;let an=(0,d.Ys)("body");const hn=Le.securityLevel===eb,Xt=Le.securityLevel===tb,zn=Le.fontFamily;if(b!==void 0){if(b&&(b.innerHTML=""),hn){const Sr=zv((0,d.Ys)(b),Re);an=(0,d.Ys)(Sr.nodes()[0].contentDocument.body),an.node().style.margin=0}else an=(0,d.Ys)(b);Zv(an,e,Ut,`font-family: ${zn}`,nb)}else{if(db(document,e,Ut,Re),hn){const Sr=zv((0,d.Ys)("body"),Re);an=(0,d.Ys)(Sr.nodes()[0].contentDocument.body),an.node().style.margin=0}else an=(0,d.Ys)("body");Zv(an,e,Ut)}n=ob(n);let nr,kr;try{if(nr=Ug(n),"then"in nr)throw new Error("Diagram is a promise. Use renderAsync.")}catch(Sr){nr=new Hg("error"),kr=Sr}const $r=an.select(sn).node(),ir=nr.type,$n=$r.firstChild,cn=$n.firstChild,Sn=jg.includes(ir)?nr.renderer.getClasses(n,nr):{},kn=lb(Le,ir,Sn,Fe),At=document.createElement("style");At.innerHTML=kn,$n.insertBefore(At,cn);try{nr.renderer.draw(n,e,tl.version,nr)}catch(Sr){throw Fv.draw(n,e,tl.version),Sr}const Ln=an.select(`${sn} svg`),$e=(P=(L=nr.db).getAccTitle)==null?void 0:P.call(L),sr=(ee=(V=nr.db).getAccDescription)==null?void 0:ee.call(V);fb(ir,Ln,$e,sr),an.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",rb);let ft=an.select(sn).node().innerHTML;if(Me.debug("config.arrowMarkerAbsolute",Le.arrowMarkerAbsolute),ft=cb(ft,hn,qt(Le.arrowMarkerAbsolute)),hn){const Sr=an.select(sn+" svg").node();ft=ub(ft,Sr)}else Xt||(ft=M().sanitize(ft,{ADD_TAGS:ib,ADD_ATTR:ab}));if(u!==void 0)switch(ir){case"flowchart":case"flowchart-v2":u(ft,zh.bindFunctions);break;case"gantt":u(ft,lg.bindFunctions);break;case"class":case"classDiagram":u(ft,Dh.bindFunctions);break;default:u(ft)}else Me.debug("CB = undefined!");t1();const or=hn?Ke:sn,na=(0,d.Ys)(or).node();if(na&&"remove"in na&&na.remove(),kr)throw kr;return ft},Ex=function(e,n,u,b){return rh(this,null,function*(){var y,L,P,V,ee;lv(),fn();const _e=Ka.detectInit(n);_e&&(nc(_e),dn(_e));const Le=qe();Me.debug(Le),n.length>((y=Le==null?void 0:Le.maxTextSize)!=null?y:5e4)&&(n=J1),n=n.replace(/\r\n?/g,`
`);const Fe="#"+e,Re="i"+e,Ke="#"+Re,Ut="d"+e,sn="#"+Ut;let an=(0,d.Ys)("body");const hn=Le.securityLevel===eb,Xt=Le.securityLevel===tb,zn=Le.fontFamily;if(b!==void 0){if(b&&(b.innerHTML=""),hn){const Sr=zv((0,d.Ys)(b),Re);an=(0,d.Ys)(Sr.nodes()[0].contentDocument.body),an.node().style.margin=0}else an=(0,d.Ys)(b);Zv(an,e,Ut,`font-family: ${zn}`,nb)}else{if(db(document,e,Ut,Re),hn){const Sr=zv((0,d.Ys)("body"),Re);an=(0,d.Ys)(Sr.nodes()[0].contentDocument.body),an.node().style.margin=0}else an=(0,d.Ys)("body");Zv(an,e,Ut)}n=ob(n);let nr,kr;try{nr=yield Ug(n)}catch(Sr){nr=new Hg("error"),kr=Sr}const $r=an.select(sn).node(),ir=nr.type,$n=$r.firstChild,cn=$n.firstChild,Sn=jg.includes(ir)?nr.renderer.getClasses(n,nr):{},kn=lb(Le,ir,Sn,Fe),At=document.createElement("style");At.innerHTML=kn,$n.insertBefore(At,cn);try{yield nr.renderer.draw(n,e,tl.version,nr)}catch(Sr){throw Fv.draw(n,e,tl.version),Sr}const Ln=an.select(`${sn} svg`),$e=(P=(L=nr.db).getAccTitle)==null?void 0:P.call(L),sr=(ee=(V=nr.db).getAccDescription)==null?void 0:ee.call(V);fb(ir,Ln,$e,sr),an.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",rb);let ft=an.select(sn).node().innerHTML;if(Me.debug("config.arrowMarkerAbsolute",Le.arrowMarkerAbsolute),ft=cb(ft,hn,qt(Le.arrowMarkerAbsolute)),hn){const Sr=an.select(sn+" svg").node();ft=ub(ft,Sr)}else Xt||(ft=M().sanitize(ft,{ADD_TAGS:ib,ADD_ATTR:ab}));if(u!==void 0)switch(ir){case"flowchart":case"flowchart-v2":u(ft,zh.bindFunctions);break;case"gantt":u(ft,lg.bindFunctions);break;case"class":case"classDiagram":u(ft,Dh.bindFunctions);break;default:u(ft)}else Me.debug("CB = undefined!");t1();const or=hn?Ke:sn,na=(0,d.Ys)(or).node();if(na&&"remove"in na&&na.remove(),kr)throw kr;return ft})};function Cx(e={}){var n;(e==null?void 0:e.fontFamily)&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),_l(e),(e==null?void 0:e.theme)&&e.theme in Yt?e.themeVariables=Yt[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Yt.default.getThemeVariables(e.themeVariables));const u=typeof e=="object"?nf(e):Xe();yn(u.logLevel),lv()}function fb(e,n,u,b){dx(n,e),fx(n,u,b,n.attr("id"))}const cc=Object.freeze({render:kx,renderAsync:Ex,parse:_x,parseAsync:xx,parseDirective:i,initialize:Cx,getConfig:qe,setConfig:gt,getSiteConfig:Xe,updateSiteConfig:be,reset:()=>{fn()},globalReset:()=>{fn(Xo)},defaultConfig:Xo});yn(qe().logLevel),fn(qe());const Tx=function(e,n,u){return rh(this,null,function*(){try{yield pb(e,n,u)}catch(b){Me.warn("Syntax Error rendering"),Dd(b)&&Me.warn(b.str),eh.parseError&&eh.parseError(b)}})},hb=(e,n,u)=>{Me.warn(e),Dd(e)?(u&&u(e.str,e.hash),n.push(Jg(dv({},e),{message:e.str,error:e}))):(u&&u(e),e instanceof Error&&n.push({str:e.message,message:e.message,hash:e.name,error:e}))},Sx=function(e,n,u){const b=cc.getConfig();e&&(eh.sequenceConfig=e),Me.debug(`${u?"":"No "}Callback function found`);let y;if(n===void 0)y=document.querySelectorAll(".mermaid");else if(typeof n=="string")y=document.querySelectorAll(n);else if(n instanceof HTMLElement)y=[n];else if(n instanceof NodeList)y=n;else throw new Error("Invalid argument nodes for mermaid.init");Me.debug(`Found ${y.length} diagrams`),(e==null?void 0:e.startOnLoad)!==void 0&&(Me.debug("Start On Load: "+(e==null?void 0:e.startOnLoad)),cc.updateSiteConfig({startOnLoad:e==null?void 0:e.startOnLoad}));const L=new Ka.initIdGenerator(b.deterministicIds,b.deterministicIDSeed);let P;const V=[];for(const ee of Array.from(y)){Me.info("Rendering diagram: "+ee.id);if(ee.getAttribute("data-processed"))continue;ee.setAttribute("data-processed","true");const _e=`mermaid-${L.next()}`;P=ee.innerHTML,P=U(Ka.entityDecode(P)).trim().replace(/<br\s*\/?>/gi,"<br/>");const Le=Ka.detectInit(P);Le&&Me.debug("Detected early reinit: ",Le);try{cc.render(_e,P,(Fe,Re)=>{ee.innerHTML=Fe,u!==void 0&&u(_e),Re&&Re(ee)},ee)}catch(Fe){hb(Fe,V,eh.parseError)}}if(V.length>0)throw V[0]},Ax=(...e)=>rh(this,null,function*(){Me.debug(`Loading ${e.length} external diagrams`);const u=(yield Promise.allSettled(e.map(P=>rh(this,[P],function*({id:b,detector:y,loader:L}){const{diagram:V}=yield L();ge(b,V,y)})))).filter(b=>b.status==="rejected");if(u.length>0){Me.error(`Failed to load ${u.length} external diagrams`);for(const b of u)Me.error(b);throw new Error(`Failed to load ${u.length} external diagrams`)}}),pb=function(e,n,u){return rh(this,null,function*(){const b=cc.getConfig();e&&(eh.sequenceConfig=e),Me.debug(`${u?"":"No "}Callback function found`);let y;if(n===void 0)y=document.querySelectorAll(".mermaid");else if(typeof n=="string")y=document.querySelectorAll(n);else if(n instanceof HTMLElement)y=[n];else if(n instanceof NodeList)y=n;else throw new Error("Invalid argument nodes for mermaid.init");Me.debug(`Found ${y.length} diagrams`),(e==null?void 0:e.startOnLoad)!==void 0&&(Me.debug("Start On Load: "+(e==null?void 0:e.startOnLoad)),cc.updateSiteConfig({startOnLoad:e==null?void 0:e.startOnLoad}));const L=new Ka.initIdGenerator(b.deterministicIds,b.deterministicIDSeed);let P;const V=[];for(const ee of Array.from(y)){Me.info("Rendering diagram: "+ee.id);if(ee.getAttribute("data-processed"))continue;ee.setAttribute("data-processed","true");const _e=`mermaid-${L.next()}`;P=ee.innerHTML,P=U(Ka.entityDecode(P)).trim().replace(/<br\s*\/?>/gi,"<br/>");const Le=Ka.detectInit(P);Le&&Me.debug("Detected early reinit: ",Le);try{yield cc.renderAsync(_e,P,(Fe,Re)=>{ee.innerHTML=Fe,u!==void 0&&u(_e),Re&&Re(ee)},ee)}catch(Fe){hb(Fe,V,eh.parseError)}}if(V.length>0)throw V[0]})},Mx=function(e){cc.initialize(e)},Dx=(u,...b)=>rh(this,[u,...b],function*(e,{lazyLoad:n=!0}={}){n?Rf(...e):yield Ax(...e)}),vb=function(){if(eh.startOnLoad){const{startOnLoad:e}=cc.getConfig();e&&eh.init().catch(n=>Me.error("Mermaid failed to initialize",n))}};if(typeof document!="undefined"){window.addEventListener("load",vb,!1)}const Ix=function(e){eh.parseError=e},Lx=e=>cc.parse(e,eh.parseError),Wv=[];let Yg=!1;const gb=()=>rh(this,null,function*(){if(!Yg){for(Yg=!0;Wv.length>0;){const e=Wv.shift();if(e)try{yield e()}catch(n){Me.error("Error executing queue",n)}}Yg=!1}}),Ox=e=>new Promise((n,u)=>{const b=()=>new Promise((y,L)=>{cc.parseAsync(e,eh.parseError).then(P=>{y(P),n(P)},P=>{Me.error("Error parsing",P),L(P),u(P)})});Wv.push(b),gb().catch(u)}),Nx=(e,n,u,b)=>new Promise((y,L)=>{const P=()=>new Promise((V,ee)=>{cc.renderAsync(e,n,u,b).then(_e=>{V(_e),y(_e)},_e=>{Me.error("Error parsing",_e),ee(_e),L(_e)})});Wv.push(P),gb().catch(L)}),eh={startOnLoad:!0,diagrams:{},mermaidAPI:cc,parse:Lx,parseAsync:Ox,render:cc.render,renderAsync:Nx,init:Tx,initThrowsErrors:Sx,initThrowsErrorsAsync:pb,registerExternalDiagrams:Dx,initialize:Mx,parseError:void 0,contentLoaded:vb,setParseErrorHandler:Ix}},42361:function(ut,Ce,f){var O=f(78961),U=f(53546);ut.exports=O,ut.exports.murmur3=O,ut.exports.murmur2=U},53546:function(ut){function Ce(f,O){for(var U=f.length,x=O^U,m=0,p;U>=4;)p=f.charCodeAt(m)&255|(f.charCodeAt(++m)&255)<<8|(f.charCodeAt(++m)&255)<<16|(f.charCodeAt(++m)&255)<<24,p=(p&65535)*1540483477+(((p>>>16)*1540483477&65535)<<16),p^=p>>>24,p=(p&65535)*1540483477+(((p>>>16)*1540483477&65535)<<16),x=(x&65535)*1540483477+(((x>>>16)*1540483477&65535)<<16)^p,U-=4,++m;switch(U){case 3:x^=(f.charCodeAt(m+2)&255)<<16;case 2:x^=(f.charCodeAt(m+1)&255)<<8;case 1:x^=f.charCodeAt(m)&255,x=(x&65535)*1540483477+(((x>>>16)*1540483477&65535)<<16)}return x^=x>>>13,x=(x&65535)*1540483477+(((x>>>16)*1540483477&65535)<<16),x^=x>>>15,x>>>0}ut.exports=Ce},78961:function(ut){function Ce(f,O){var U,x,m,p,d,v,M,D,T,S;for(U=f.length&3,x=f.length-U,m=O,d=3432918353,M=461845907,S=0;S<x;)T=f.charCodeAt(S)&255|(f.charCodeAt(++S)&255)<<8|(f.charCodeAt(++S)&255)<<16|(f.charCodeAt(++S)&255)<<24,++S,T=(T&65535)*d+(((T>>>16)*d&65535)<<16)&4294967295,T=T<<15|T>>>17,T=(T&65535)*M+(((T>>>16)*M&65535)<<16)&4294967295,m^=T,m=m<<13|m>>>19,p=(m&65535)*5+(((m>>>16)*5&65535)<<16)&4294967295,m=(p&65535)+27492+(((p>>>16)+58964&65535)<<16);switch(T=0,U){case 3:T^=(f.charCodeAt(S+2)&255)<<16;case 2:T^=(f.charCodeAt(S+1)&255)<<8;case 1:T^=f.charCodeAt(S)&255,T=(T&65535)*d+(((T>>>16)*d&65535)<<16)&4294967295,T=T<<15|T>>>17,T=(T&65535)*M+(((T>>>16)*M&65535)<<16)&4294967295,m^=T}return m^=f.length,m^=m>>>16,m=(m&65535)*2246822507+(((m>>>16)*2246822507&65535)<<16)&4294967295,m^=m>>>13,m=(m&65535)*3266489909+(((m>>>16)*3266489909&65535)<<16)&4294967295,m^=m>>>16,m>>>0}ut.exports=Ce},8990:function(ut){ut.exports=Ce;function Ce(f,O,U,x){var m=function(d,v,M,D){O(M,d,v,"left"),O(D,v,d,"right")},p=f.transformX=function(d,v){U(d),U(v);for(var M=[],D=0;D<v.length;D++){for(var T=v[D],S=[],g=0;g<d.length;){var z=[];if(m(d[g],T,S,z),g++,z.length===1)T=z[0];else if(z.length===0){for(var E=g;E<d.length;E++)x(S,d[E]);T=null;break}else{for(var Y=p(d.slice(g),z),q=0;q<Y[0].length;q++)x(S,Y[0][q]);for(var j=0;j<Y[1].length;j++)x(M,Y[1][j]);T=null;break}}T!=null&&x(M,T),d=S}return[d,M]};f.transform=function(d,v,M){if(!(M==="left"||M==="right"))throw new Error("type must be 'left' or 'right'");return v.length===0?d:d.length===1&&v.length===1?O([],d[0],v[0],M):M==="left"?p(d,v)[0]:p(v,d)[1]}}},45522:function(ut,Ce,f){ut.exports={type:f(4294)}},4294:function(ut,Ce,f){var O=function(T){return Object.prototype.toString.call(T)=="[object Array]"},U=function(T){return!!T&&T.constructor===Object},x=function(T){return JSON.parse(JSON.stringify(T))},m={name:"json0",uri:"http://sharejs.org/types/JSONv0"},p={};m.registerSubtype=function(T){p[T.name]=T},m.create=function(T){return T===void 0?null:x(T)},m.invertComponent=function(T){var S={p:T.p};return T.t&&p[T.t]&&(S.t=T.t,S.o=p[T.t].invert(T.o)),T.si!==void 0&&(S.sd=T.si),T.sd!==void 0&&(S.si=T.sd),T.oi!==void 0&&(S.od=T.oi),T.od!==void 0&&(S.oi=T.od),T.li!==void 0&&(S.ld=T.li),T.ld!==void 0&&(S.li=T.ld),T.na!==void 0&&(S.na=-T.na),T.lm!==void 0&&(S.lm=T.p[T.p.length-1],S.p=T.p.slice(0,T.p.length-1).concat([T.lm])),S},m.invert=function(T){for(var S=T.slice().reverse(),g=[],z=0;z<S.length;z++)g.push(m.invertComponent(S[z]));return g},m.checkValidOp=function(T){for(var S=0;S<T.length;S++)if(!O(T[S].p))throw new Error("Missing path")},m.checkList=function(T){if(!O(T))throw new Error("Referenced element not a list")},m.checkObj=function(T){if(!U(T))throw new Error("Referenced element not an object (it was "+JSON.stringify(T)+")")};function d(T){T.t="text0";var S={p:T.p.pop()};T.si!=null&&(S.i=T.si),T.sd!=null&&(S.d=T.sd),T.o=[S]}function v(T){T.p.push(T.o[0].p),T.o[0].i!=null&&(T.si=T.o[0].i),T.o[0].d!=null&&(T.sd=T.o[0].d),delete T.t,delete T.o}m.apply=function(T,S){m.checkValidOp(S),S=x(S);for(var g={data:T},z=0;z<S.length;z++){var E=S[z];(E.si!=null||E.sd!=null)&&d(E);for(var Y=null,q=null,j=g,le="data",ce=0;ce<E.p.length;ce++){var se=E.p[ce];if(Y=j,q=le,j=j[le],le=se,Y==null)throw new Error("Path invalid")}if(E.t&&E.o!==void 0&&p[E.t])j[le]=p[E.t].apply(j[le],E.o);else if(E.na!==void 0){if(typeof j[le]!="number")throw new Error("Referenced element not a number");j[le]+=E.na}else if(E.li!==void 0&&E.ld!==void 0)m.checkList(j),j[le]=E.li;else if(E.li!==void 0)m.checkList(j),j.splice(le,0,E.li);else if(E.ld!==void 0)m.checkList(j),j.splice(le,1);else if(E.lm!==void 0){if(m.checkList(j),E.lm!=le){var ne=j[le];j.splice(le,1),j.splice(E.lm,0,ne)}}else if(E.oi!==void 0)m.checkObj(j),j[le]=E.oi;else if(E.od!==void 0)m.checkObj(j),delete j[le];else throw new Error("invalid / missing instruction in op")}return g.data},m.shatter=function(T){for(var S=[],g=0;g<T.length;g++)S.push([T[g]]);return S},m.incrementalApply=function(T,S,g){for(var z=0;z<S.length;z++){var E=[S[z]];T=m.apply(T,E),g(E,T)}return T};var M=m.pathMatches=function(T,S,g){if(T.length!=S.length)return!1;for(var z=0;z<T.length;z++)if(T[z]!==S[z]&&(!g||z!==T.length-1))return!1;return!0};m.append=function(T,S){if(S=x(S),T.length===0){T.push(S);return}var g=T[T.length-1];if((S.si!=null||S.sd!=null)&&(g.si!=null||g.sd!=null)&&(d(S),d(g)),M(S.p,g.p))if(S.t&&g.t&&S.t===g.t&&p[S.t]){if(g.o=p[S.t].compose(g.o,S.o),S.si!=null||S.sd!=null){for(var z=S.p,E=0;E<g.o.length-1;E++)S.o=[g.o.pop()],S.p=z.slice(),v(S),T.push(S);v(g)}}else g.na!=null&&S.na!=null?T[T.length-1]={p:g.p,na:g.na+S.na}:g.li!==void 0&&S.li===void 0&&S.ld===g.li?g.ld!==void 0?delete g.li:T.pop():g.od!==void 0&&g.oi===void 0&&S.oi!==void 0&&S.od===void 0?g.oi=S.oi:g.oi!==void 0&&S.od!==void 0?S.oi!==void 0?g.oi=S.oi:g.od!==void 0?delete g.oi:T.pop():S.lm!==void 0&&S.p[S.p.length-1]===S.lm||T.push(S);else(S.si!=null||S.sd!=null)&&(g.si!=null||g.sd!=null)&&(v(S),v(g)),T.push(S)},m.compose=function(T,S){m.checkValidOp(T),m.checkValidOp(S);for(var g=x(T),z=0;z<S.length;z++)m.append(g,S[z]);return g},m.normalize=function(T){var S=[];T=O(T)?T:[T];for(var g=0;g<T.length;g++){var z=T[g];z.p==null&&(z.p=[]),m.append(S,z)}return S},m.commonLengthForOps=function(T,S){var g=T.p.length,z=S.p.length;if((T.na!=null||T.t)&&g++,(S.na!=null||S.t)&&z++,g===0)return-1;if(z===0)return null;g--,z--;for(var E=0;E<g;E++){var Y=T.p[E];if(E>=z||Y!==S.p[E])return null}return g},m.canOpAffectPath=function(T,S){return m.commonLengthForOps({p:S},T)!=null},m.transformComponent=function(T,S,g,z){S=x(S);var E=m.commonLengthForOps(g,S),Y=m.commonLengthForOps(S,g),q=S.p.length,j=g.p.length;if((S.na!=null||S.t)&&q++,(g.na!=null||g.t)&&j++,Y!=null&&j>q&&S.p[Y]==g.p[Y]){if(S.ld!==void 0){var le=x(g);le.p=le.p.slice(q),S.ld=m.apply(x(S.ld),[le])}else if(S.od!==void 0){var le=x(g);le.p=le.p.slice(q),S.od=m.apply(x(S.od),[le])}}if(E!=null){var ce=q==j,le=g;if((S.si!=null||S.sd!=null)&&(g.si!=null||g.sd!=null)&&(d(S),le=x(g),d(le)),le.t&&p[le.t]){if(S.t&&S.t===le.t){var se=p[S.t].transform(S.o,le.o,z);if(S.si!=null||S.sd!=null)for(var ne=S.p,De=0;De<se.length;De++)S.o=[se[De]],S.p=ne.slice(),v(S),m.append(T,S);else(!O(se)||se.length>0)&&(S.o=se,m.append(T,S));return T}}else if(g.na===void 0){if(g.li!==void 0&&g.ld!==void 0){if(g.p[E]===S.p[E])if(ce){if(S.ld!==void 0)if(S.li!==void 0&&z==="left")S.ld=x(g.li);else return T}else return T}else if(g.li!==void 0)S.li!==void 0&&S.ld===void 0&&ce&&S.p[E]===g.p[E]?z==="right"&&S.p[E]++:g.p[E]<=S.p[E]&&S.p[E]++,S.lm!==void 0&&ce&&g.p[E]<=S.lm&&S.lm++;else if(g.ld!==void 0){if(S.lm!==void 0&&ce){if(g.p[E]===S.p[E])return T;var ne=g.p[E],we=S.p[E],je=S.lm;(ne<je||ne===je&&we<je)&&S.lm--}if(g.p[E]<S.p[E])S.p[E]--;else if(g.p[E]===S.p[E]){if(j<q)return T;if(S.ld!==void 0)if(S.li!==void 0)delete S.ld;else return T}}else if(g.lm!==void 0)if(S.lm!==void 0&&q===j){var we=S.p[E],je=S.lm,dt=g.p[E],Qe=g.lm;if(dt!==Qe)if(we===dt)if(z==="left")S.p[E]=Qe,we===je&&(S.lm=Qe);else return T;else we>dt&&S.p[E]--,we>Qe?S.p[E]++:we===Qe&&dt>Qe&&(S.p[E]++,we===je&&S.lm++),(je>dt||je===dt&&je>we)&&S.lm--,je>Qe?S.lm++:je===Qe&&(Qe>dt&&je>we||Qe<dt&&je<we?z==="right"&&S.lm++:je>we?S.lm++:je===dt&&S.lm--)}else if(S.li!==void 0&&S.ld===void 0&&ce){var we=g.p[E],je=g.lm;ne=S.p[E],ne>we&&S.p[E]--,ne>je&&S.p[E]++}else{var we=g.p[E],je=g.lm;ne=S.p[E],ne===we?S.p[E]=je:(ne>we&&S.p[E]--,(ne>je||ne===je&&we>je)&&S.p[E]++)}else if(g.oi!==void 0&&g.od!==void 0){if(S.p[E]===g.p[E])if(S.oi!==void 0&&ce){if(z==="right")return T;S.od=g.oi}else return T}else if(g.oi!==void 0){if(S.oi!==void 0&&S.p[E]===g.p[E])if(z==="left")m.append(T,{p:S.p,od:g.oi});else return T}else if(g.od!==void 0&&S.p[E]==g.p[E]){if(!ce)return T;if(S.oi!==void 0)delete S.od;else return T}}}return m.append(T,S),T},f(8990)(m,m.transformComponent,m.checkValidOp,m.append);var D=f(31324);m.registerSubtype(D),ut.exports=m},31324:function(ut,Ce,f){var O=ut.exports={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(D){if(D!=null&&typeof D!="string")throw new Error("Initial data must be a string");return D||""}},U=function(D,T,S){return D.slice(0,T)+S+D.slice(T)},x=function(D){if(typeof D.p!="number")throw new Error("component missing position field");if(typeof D.i=="string"==(typeof D.d=="string"))throw new Error("component needs an i or d field");if(D.p<0)throw new Error("position cannot be negative")},m=function(D){for(var T=0;T<D.length;T++)x(D[T])};O.apply=function(D,T){var S;m(T);for(var g=0;g<T.length;g++){var z=T[g];if(z.i!=null)D=U(D,z.p,z.i);else{if(S=D.slice(z.p,z.p+z.d.length),z.d!==S)throw new Error("Delete component '"+z.d+"' does not match deleted text '"+S+"'");D=D.slice(0,z.p)+D.slice(z.p+z.d.length)}}return D};var p=O._append=function(D,T){if(!(T.i===""||T.d===""))if(D.length===0)D.push(T);else{var S=D[D.length-1];S.i!=null&&T.i!=null&&S.p<=T.p&&T.p<=S.p+S.i.length?D[D.length-1]={i:U(S.i,T.p-S.p,T.i),p:S.p}:S.d!=null&&T.d!=null&&T.p<=S.p&&S.p<=T.p+T.d.length?D[D.length-1]={d:U(T.d,S.p-T.p,S.d),p:T.p}:D.push(T)}};O.compose=function(D,T){m(D),m(T);for(var S=D.slice(),g=0;g<T.length;g++)p(S,T[g]);return S},O.normalize=function(D){var T=[];(D.i!=null||D.p!=null)&&(D=[D]);for(var S=0;S<D.length;S++){var g=D[S];g.p==null&&(g.p=0),p(T,g)}return T};var d=function(D,T,S){return T.i!=null?T.p<D||T.p===D&&S?D+T.i.length:D:D<=T.p?D:D<=T.p+T.d.length?T.p:D-T.d.length};O.transformCursor=function(D,T,S){for(var g=S==="right",z=0;z<T.length;z++)D=d(D,T[z],g);return D};var v=O._tc=function(D,T,S,g){if(x(T),x(S),T.i!=null)p(D,{i:T.i,p:d(T.p,S,g==="right")});else if(S.i!=null){var z=T.d;T.p<S.p&&(p(D,{d:z.slice(0,S.p-T.p),p:T.p}),z=z.slice(S.p-T.p)),z!==""&&p(D,{d:z,p:T.p+S.i.length})}else if(T.p>=S.p+S.d.length)p(D,{d:T.d,p:T.p-S.d.length});else if(T.p+T.d.length<=S.p)p(D,T);else{var E={d:"",p:T.p};T.p<S.p&&(E.d=T.d.slice(0,S.p-T.p)),T.p+T.d.length>S.p+S.d.length&&(E.d+=T.d.slice(S.p+S.d.length-T.p));var Y=Math.max(T.p,S.p),q=Math.min(T.p+T.d.length,S.p+S.d.length),j=T.d.slice(Y-T.p,q-T.p),le=S.d.slice(Y-S.p,q-S.p);if(j!==le)throw new Error("Delete ops delete different text in the same region of the document");E.d!==""&&(E.p=d(E.p,S),p(D,E))}return D},M=function(D){return D.i!=null?{d:D.i,p:D.p}:{i:D.d,p:D.p}};O.invert=function(D){D=D.slice().reverse();for(var T=0;T<D.length;T++)D[T]=M(D[T]);return D},f(8990)(O,v,m,p)},72097:function(ut,Ce,f){var O,U;(function(x,m){O=m,U=typeof O=="function"?O.call(Ce,f,Ce,ut):O,U!==void 0&&(ut.exports=U)})(this,function(){"use strict";var x=function(m,p){var d=this,v=!1,M=!0,D,T,S,g,z,E,Y,q=!0,j,le,ce,se,ne,De,we,je,dt={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(et,wt){return et.title?(wt.children[0].innerHTML=et.title,!0):(wt.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return m.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return m.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},Qe,lt,Te=function(et){if(Qe)return!0;et=et||window.event,je.timeToIdle&&je.mouseUsed&&!le&&Ze();for(var wt=et.target||et.srcElement,jt,on=wt.getAttribute("class")||"",bn,Ft=0;Ft<it.length;Ft++)jt=it[Ft],jt.onTap&&on.indexOf("pswp__"+jt.name)>-1&&(jt.onTap(),bn=!0);if(bn){et.stopPropagation&&et.stopPropagation(),Qe=!0;var Mt=p.features.isOldAndroid?600:30;lt=setTimeout(function(){Qe=!1},Mt)}},Je=function(){return!m.likelyTouchDevice||je.mouseUsed||screen.width>je.fitControlsWidth},te=function(et,wt,jt){p[(jt?"add":"remove")+"Class"](et,"pswp__"+wt)},fe=function(){var et=je.getNumItemsFn()===1;et!==we&&(te(T,"ui--one-slide",et),we=et)},ue=function(){te(Y,"share-modal--hidden",q)},ae=function(){return q=!q,q?(p.removeClass(Y,"pswp__share-modal--fade-in"),setTimeout(function(){q&&ue()},300)):(ue(),setTimeout(function(){q||p.addClass(Y,"pswp__share-modal--fade-in")},30)),q||ve(),!1},de=function(et){et=et||window.event;var wt=et.target||et.srcElement;return m.shout("shareLinkClick",et,wt),wt.href?wt.hasAttribute("download")?!0:(window.open(wt.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),q||ae(),!1):!1},ve=function(){for(var et="",wt,jt,on,bn,Ft,Mt=0;Mt<je.shareButtons.length;Mt++)wt=je.shareButtons[Mt],on=je.getImageURLForShare(wt),bn=je.getPageURLForShare(wt),Ft=je.getTextForShare(wt),jt=wt.url.replace("{{url}}",encodeURIComponent(bn)).replace("{{image_url}}",encodeURIComponent(on)).replace("{{raw_image_url}}",on).replace("{{text}}",encodeURIComponent(Ft)),et+='<a href="'+jt+'" target="_blank" class="pswp__share--'+wt.id+'"'+(wt.download?"download":"")+">"+wt.label+"</a>",je.parseShareButtonOut&&(et=je.parseShareButtonOut(wt,et));Y.children[0].innerHTML=et,Y.children[0].onclick=de},J=function(et){for(var wt=0;wt<je.closeElClasses.length;wt++)if(p.hasClass(et,"pswp__"+je.closeElClasses[wt]))return!0},X,K,ze=0,Ze=function(){clearTimeout(K),ze=0,le&&d.setIdle(!1)},We=function(et){et=et||window.event;var wt=et.relatedTarget||et.toElement;(!wt||wt.nodeName==="HTML")&&(clearTimeout(K),K=setTimeout(function(){d.setIdle(!0)},je.timeToIdleOutside))},ye=function(){je.fullscreenEl&&!p.features.isOldAndroid&&(D||(D=d.getFullscreenAPI()),D?(p.bind(document,D.eventK,d.updateFullscreen),d.updateFullscreen(),p.addClass(m.template,"pswp--supports-fs")):p.removeClass(m.template,"pswp--supports-fs"))},Ie=function(){je.preloaderEl&&(Ue(!0),ce("beforeChange",function(){clearTimeout(De),De=setTimeout(function(){m.currItem&&m.currItem.loading?(!m.allowProgressiveImg()||m.currItem.img&&!m.currItem.img.naturalWidth)&&Ue(!1):Ue(!0)},je.loadingIndicatorDelay)}),ce("imageLoadComplete",function(et,wt){m.currItem===wt&&Ue(!0)}))},Ue=function(et){ne!==et&&(te(se,"preloader--active",!et),ne=et)},Ye=function(et){var wt=et.vGap;if(Je()){var jt=je.barsSize;if(je.captionEl&&jt.bottom==="auto")if(g||(g=p.createEl("pswp__caption pswp__caption--fake"),g.appendChild(p.createEl("pswp__caption__center")),T.insertBefore(g,S),p.addClass(T,"pswp__ui--fit")),je.addCaptionHTMLFn(et,g,!0)){var on=g.clientHeight;wt.bottom=parseInt(on,10)||44}else wt.bottom=jt.top;else wt.bottom=jt.bottom==="auto"?0:jt.bottom;wt.top=jt.top}else wt.top=wt.bottom=0},Ae=function(){je.timeToIdle&&ce("mouseUsed",function(){p.bind(document,"mousemove",Ze),p.bind(document,"mouseout",We),X=setInterval(function(){ze++,ze===2&&d.setIdle(!0)},je.timeToIdle/2)})},tt=function(){ce("onVerticalDrag",function(wt){M&&wt<.95?d.hideControls():!M&&wt>=.95&&d.showControls()});var et;ce("onPinchClose",function(wt){M&&wt<.9?(d.hideControls(),et=!0):et&&!M&&wt>.9&&d.showControls()}),ce("zoomGestureEnded",function(){et=!1,et&&!M&&d.showControls()})},it=[{name:"caption",option:"captionEl",onInit:function(et){S=et}},{name:"share-modal",option:"shareEl",onInit:function(et){Y=et},onTap:function(){ae()}},{name:"button--share",option:"shareEl",onInit:function(et){E=et},onTap:function(){ae()}},{name:"button--zoom",option:"zoomEl",onTap:m.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(et){z=et}},{name:"button--close",option:"closeEl",onTap:m.close},{name:"button--arrow--left",option:"arrowEl",onTap:m.prev},{name:"button--arrow--right",option:"arrowEl",onTap:m.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){D.isFullscreen()?D.exit():D.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(et){se=et}}],Ve=function(){var et,wt,jt,on=function(Ft){if(!!Ft)for(var Mt=Ft.length,_t=0;_t<Mt;_t++){et=Ft[_t],wt=et.className;for(var Jt=0;Jt<it.length;Jt++)jt=it[Jt],wt.indexOf("pswp__"+jt.name)>-1&&(je[jt.option]?(p.removeClass(et,"pswp__element--disabled"),jt.onInit&&jt.onInit(et)):p.addClass(et,"pswp__element--disabled"))}};on(T.children);var bn=p.getChildByClass(T,"pswp__top-bar");bn&&on(bn.children)};d.init=function(){p.extend(m.options,dt,!0),je=m.options,T=p.getChildByClass(m.scrollWrap,"pswp__ui"),ce=m.listen,tt(),ce("beforeChange",d.update),ce("doubleTap",function(et){var wt=m.currItem.initialZoomLevel;m.getZoomLevel()!==wt?m.zoomTo(wt,et,333):m.zoomTo(je.getDoubleTapZoom(!1,m.currItem),et,333)}),ce("preventDragEvent",function(et,wt,jt){var on=et.target||et.srcElement;on&&on.getAttribute("class")&&et.type.indexOf("mouse")>-1&&(on.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(on.tagName))&&(jt.prevent=!1)}),ce("bindEvents",function(){p.bind(T,"pswpTap click",Te),p.bind(m.scrollWrap,"pswpTap",d.onGlobalTap),m.likelyTouchDevice||p.bind(m.scrollWrap,"mouseover",d.onMouseOver)}),ce("unbindEvents",function(){q||ae(),X&&clearInterval(X),p.unbind(document,"mouseout",We),p.unbind(document,"mousemove",Ze),p.unbind(T,"pswpTap click",Te),p.unbind(m.scrollWrap,"pswpTap",d.onGlobalTap),p.unbind(m.scrollWrap,"mouseover",d.onMouseOver),D&&(p.unbind(document,D.eventK,d.updateFullscreen),D.isFullscreen()&&(je.hideAnimationDuration=0,D.exit()),D=null)}),ce("destroy",function(){je.captionEl&&(g&&T.removeChild(g),p.removeClass(S,"pswp__caption--empty")),Y&&(Y.children[0].onclick=null),p.removeClass(T,"pswp__ui--over-close"),p.addClass(T,"pswp__ui--hidden"),d.setIdle(!1)}),je.showAnimationDuration||p.removeClass(T,"pswp__ui--hidden"),ce("initialZoomIn",function(){je.showAnimationDuration&&p.removeClass(T,"pswp__ui--hidden")}),ce("initialZoomOut",function(){p.addClass(T,"pswp__ui--hidden")}),ce("parseVerticalMargin",Ye),Ve(),je.shareEl&&E&&Y&&(q=!0),fe(),Ae(),ye(),Ie()},d.setIdle=function(et){le=et,te(T,"ui--idle",et)},d.update=function(){M&&m.currItem?(d.updateIndexIndicator(),je.captionEl&&(je.addCaptionHTMLFn(m.currItem,S),te(S,"caption--empty",!m.currItem.title)),v=!0):v=!1,q||ae(),fe()},d.updateFullscreen=function(et){et&&setTimeout(function(){m.setScrollOffset(0,p.getScrollY())},50),p[(D.isFullscreen()?"add":"remove")+"Class"](m.template,"pswp--fs")},d.updateIndexIndicator=function(){je.counterEl&&(z.innerHTML=m.getCurrentIndex()+1+je.indexIndicatorSep+je.getNumItemsFn())},d.onGlobalTap=function(et){et=et||window.event;var wt=et.target||et.srcElement;if(!Qe){if(et.detail&&et.detail.pointerType==="mouse"){if(J(wt)){m.close();return}p.hasClass(wt,"pswp__img")&&(m.getZoomLevel()===1&&m.getZoomLevel()<=m.currItem.fitRatio?je.clickToCloseNonZoomable&&m.close():m.toggleDesktopZoom(et.detail.releasePoint))}else if(je.tapToToggleControls&&(M?d.hideControls():d.showControls()),je.tapToClose&&(p.hasClass(wt,"pswp__img")||J(wt))){m.close();return}}},d.onMouseOver=function(et){et=et||window.event;var wt=et.target||et.srcElement;te(T,"ui--over-close",J(wt))},d.hideControls=function(){p.addClass(T,"pswp__ui--hidden"),M=!1},d.showControls=function(){M=!0,v||d.update(),p.removeClass(T,"pswp__ui--hidden")},d.supportsFullscreen=function(){var et=document;return!!(et.exitFullscreen||et.mozCancelFullScreen||et.webkitExitFullscreen||et.msExitFullscreen)},d.getFullscreenAPI=function(){var et=document.documentElement,wt,jt="fullscreenchange";return et.requestFullscreen?wt={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:jt}:et.mozRequestFullScreen?wt={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+jt}:et.webkitRequestFullscreen?wt={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+jt}:et.msRequestFullscreen&&(wt={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),wt&&(wt.enter=function(){if(j=je.closeOnScroll,je.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")m.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return m.template[this.enterK]()},wt.exit=function(){return je.closeOnScroll=j,document[this.exitK]()},wt.isFullscreen=function(){return document[this.elementK]}),wt}};return x})},37280:function(ut,Ce,f){var O,U;(function(x,m){O=m,U=typeof O=="function"?O.call(Ce,f,Ce,ut):O,U!==void 0&&(ut.exports=U)})(this,function(){"use strict";var x=function(m,p,d,v){var M={features:null,bind:function(ot,rn,pn,_n){var Jr=(_n?"remove":"add")+"EventListener";rn=rn.split(" ");for(var ui=0;ui<rn.length;ui++)rn[ui]&&ot[Jr](rn[ui],pn,!1)},isArray:function(ot){return ot instanceof Array},createEl:function(ot,rn){var pn=document.createElement(rn||"div");return ot&&(pn.className=ot),pn},getScrollY:function(){var ot=window.pageYOffset;return ot!==void 0?ot:document.documentElement.scrollTop},unbind:function(ot,rn,pn){M.bind(ot,rn,pn,!0)},removeClass:function(ot,rn){var pn=new RegExp("(\\s|^)"+rn+"(\\s|$)");ot.className=ot.className.replace(pn," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(ot,rn){M.hasClass(ot,rn)||(ot.className+=(ot.className?" ":"")+rn)},hasClass:function(ot,rn){return ot.className&&new RegExp("(^|\\s)"+rn+"(\\s|$)").test(ot.className)},getChildByClass:function(ot,rn){for(var pn=ot.firstChild;pn;){if(M.hasClass(pn,rn))return pn;pn=pn.nextSibling}},arraySearch:function(ot,rn,pn){for(var _n=ot.length;_n--;)if(ot[_n][pn]===rn)return _n;return-1},extend:function(ot,rn,pn){for(var _n in rn)if(rn.hasOwnProperty(_n)){if(pn&&ot.hasOwnProperty(_n))continue;ot[_n]=rn[_n]}},easing:{sine:{out:function(ot){return Math.sin(ot*(Math.PI/2))},inOut:function(ot){return-(Math.cos(Math.PI*ot)-1)/2}},cubic:{out:function(ot){return--ot*ot*ot+1}}},detectFeatures:function(){if(M.features)return M.features;var ot=M.createEl(),rn=ot.style,pn="",_n={};if(_n.oldIE=document.all&&!document.addEventListener,_n.touch="ontouchstart"in window,window.requestAnimationFrame&&(_n.raf=window.requestAnimationFrame,_n.caf=window.cancelAnimationFrame),_n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!_n.pointerEvent){var Jr=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var ui=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);ui&&ui.length>0&&(ui=parseInt(ui[1],10),ui>=1&&ui<8&&(_n.isOldIOSPhone=!0))}var fi=Jr.match(/Android\s([0-9\.]*)/),za=fi?fi[1]:0;za=parseFloat(za),za>=1&&(za<4.4&&(_n.isOldAndroid=!0),_n.androidVersion=za),_n.isMobileOpera=/opera mini|opera mobi/i.test(Jr)}for(var Ua=["transform","perspective","animationName"],ma=["","webkit","Moz","ms","O"],_o,$o,jl=0;jl<4;jl++){pn=ma[jl];for(var Yo=0;Yo<3;Yo++)_o=Ua[Yo],$o=pn+(pn?_o.charAt(0).toUpperCase()+_o.slice(1):_o),!_n[_o]&&$o in rn&&(_n[_o]=$o);pn&&!_n.raf&&(pn=pn.toLowerCase(),_n.raf=window[pn+"RequestAnimationFrame"],_n.raf&&(_n.caf=window[pn+"CancelAnimationFrame"]||window[pn+"CancelRequestAnimationFrame"]))}if(!_n.raf){var sl=0;_n.raf=function(Ps){var Tc=new Date().getTime(),Sc=Math.max(0,16-(Tc-sl)),yl=window.setTimeout(function(){Ps(Tc+Sc)},Sc);return sl=Tc+Sc,yl},_n.caf=function(Ps){clearTimeout(Ps)}}return _n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,M.features=_n,_n}};M.detectFeatures(),M.features.oldIE&&(M.bind=function(ot,rn,pn,_n){rn=rn.split(" ");for(var Jr=(_n?"detach":"attach")+"Event",ui,fi=function(){pn.handleEvent.call(pn)},za=0;za<rn.length;za++)if(ui=rn[za],ui)if(typeof pn=="object"&&pn.handleEvent){if(!_n)pn["oldIE"+ui]=fi;else if(!pn["oldIE"+ui])return!1;ot[Jr]("on"+ui,pn["oldIE"+ui])}else ot[Jr]("on"+ui,pn)});var D=this,T=25,S=3,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(ot){return ot.tagName==="A"},getDoubleTapZoom:function(ot,rn){return ot||rn.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};M.extend(g,v);var z=function(){return{x:0,y:0}},E,Y,q,j,le,ce,se=z(),ne=z(),De=z(),we,je,dt,Qe={},lt,Te,Je,te,fe,ue,ae=0,de={},ve=z(),J,X,K=0,ze,Ze,We,ye,Ie,Ue,Ye=!0,Ae,tt=[],it,Ve,et,wt,jt,on,bn,Ft={},Mt=!1,_t,Jt=function(ot,rn){M.extend(D,rn.publicMethods),tt.push(ot)},Me=function(ot){var rn=Fs();return ot>rn-1?ot-rn:ot<0?rn+ot:ot},yn={},Wt=function(ot,rn){return yn[ot]||(yn[ot]=[]),yn[ot].push(rn)},xn=function(ot){var rn=yn[ot];if(rn){var pn=Array.prototype.slice.call(arguments);pn.shift();for(var _n=0;_n<rn.length;_n++)rn[_n].apply(D,pn)}},Nn=function(){return new Date().getTime()},Cr=function(ot){Vs=ot,D.bg.style.opacity=ot*g.bgOpacity},jr=function(ot,rn,pn,_n,Jr){(!Mt||Jr&&Jr!==D.currItem)&&(_n=_n/(Jr?Jr.fitRatio:D.currItem.fitRatio)),ot[Ie]=Je+rn+"px, "+pn+"px"+te+" scale("+_n+")"},ii=function(ot){Ma&&(ot&&(lt>D.currItem.fitRatio?Mt||(Zs(D.currItem,!1,!0),Mt=!0):Mt&&(Zs(D.currItem),Mt=!1)),jr(Ma,De.x,De.y,lt))},xi=function(ot){ot.container&&jr(ot.container.style,ot.initialPosition.x,ot.initialPosition.y,ot.initialZoomLevel,ot)},$i=function(ot,rn){rn[Ie]=Je+ot+"px, 0px"+te},_i=function(ot,rn){if(!g.loop&&rn){var pn=j+(ve.x*ae-ot)/ve.x,_n=Math.round(ot-bi.x);(pn<0&&_n>0||pn>=Fs()-1&&_n<0)&&(ot=bi.x+_n*g.mainScrollEndFriction)}bi.x=ot,$i(ot,le)},Vr=function(ot,rn){var pn=Io[ot]-de[ot];return ne[ot]+se[ot]+pn-pn*(rn/Te)},Kr=function(ot,rn){ot.x=rn.x,ot.y=rn.y,rn.id&&(ot.id=rn.id)},Tr=function(ot){ot.x=Math.round(ot.x),ot.y=Math.round(ot.y)},qt=null,Zt=function(){qt&&(M.unbind(document,"mousemove",Zt),M.addClass(m,"pswp--has_mouse"),g.mouseUsed=!0,xn("mouseUsed")),qt=setTimeout(function(){qt=null},100)},Ee=function(){M.bind(document,"keydown",D),bn.transform&&M.bind(D.scrollWrap,"click",D),g.mouseUsed||M.bind(document,"mousemove",Zt),M.bind(window,"resize scroll orientationchange",D),xn("bindEvents")},pe=function(){M.unbind(window,"resize scroll orientationchange",D),M.unbind(window,"scroll",dt.scroll),M.unbind(document,"keydown",D),M.unbind(document,"mousemove",Zt),bn.transform&&M.unbind(D.scrollWrap,"click",D),lr&&M.unbind(window,we,D),clearTimeout(_t),xn("unbindEvents")},oe=function(ot,rn){var pn=Su(D.currItem,Qe,ot);return rn&&(Bi=pn),pn},me=function(ot){return ot||(ot=D.currItem),ot.initialZoomLevel},Pe=function(ot){return ot||(ot=D.currItem),ot.w>0?g.maxSpreadZoom:1},nt=function(ot,rn,pn,_n){return _n===D.currItem.initialZoomLevel?(pn[ot]=D.currItem.initialPosition[ot],!0):(pn[ot]=Vr(ot,_n),pn[ot]>rn.min[ot]?(pn[ot]=rn.min[ot],!0):pn[ot]<rn.max[ot]?(pn[ot]=rn.max[ot],!0):!1)},ht=function(){if(Ie){var ot=bn.perspective&&!Ae;Je="translate"+(ot?"3d(":"("),te=bn.perspective?", 0px)":")";return}Ie="left",M.addClass(m,"pswp--ie"),$i=function(rn,pn){pn.left=rn+"px"},xi=function(rn){var pn=rn.fitRatio>1?1:rn.fitRatio,_n=rn.container.style,Jr=pn*rn.w,ui=pn*rn.h;_n.width=Jr+"px",_n.height=ui+"px",_n.left=rn.initialPosition.x+"px",_n.top=rn.initialPosition.y+"px"},ii=function(){if(Ma){var rn=Ma,pn=D.currItem,_n=pn.fitRatio>1?1:pn.fitRatio,Jr=_n*pn.w,ui=_n*pn.h;rn.width=Jr+"px",rn.height=ui+"px",rn.left=De.x+"px",rn.top=De.y+"px"}}},vt=function(ot){var rn="";g.escKey&&ot.keyCode===27?rn="close":g.arrowKeys&&(ot.keyCode===37?rn="prev":ot.keyCode===39&&(rn="next")),rn&&!ot.ctrlKey&&!ot.altKey&&!ot.shiftKey&&!ot.metaKey&&(ot.preventDefault?ot.preventDefault():ot.returnValue=!1,D[rn]())},St=function(ot){!ot||(kt||He||Ya||ci)&&(ot.preventDefault(),ot.stopPropagation())},It=function(){D.setScrollOffset(0,M.getScrollY())},Kt={},Tt=0,Lt=function(ot){Kt[ot]&&(Kt[ot].raf&&Ve(Kt[ot].raf),Tt--,delete Kt[ot])},Gt=function(ot){Kt[ot]&&Lt(ot),Kt[ot]||(Tt++,Kt[ot]={})},Yt=function(){for(var ot in Kt)Kt.hasOwnProperty(ot)&&Lt(ot)},Mn=function(ot,rn,pn,_n,Jr,ui,fi){var za=Nn(),Ua;Gt(ot);var ma=function(){if(Kt[ot]){if(Ua=Nn()-za,Ua>=_n){Lt(ot),ui(pn),fi&&fi();return}ui((pn-rn)*Jr(Ua/_n)+rn),Kt[ot].raf=it(ma)}};ma()},Dn={shout:xn,listen:Wt,viewportSize:Qe,options:g,isMainScrollAnimating:function(){return Ya},getZoomLevel:function(){return lt},getCurrentIndex:function(){return j},isDragging:function(){return lr},isZooming:function(){return Gn},setScrollOffset:function(ot,rn){de.x=ot,on=de.y=rn,xn("updateScrollOffset",de)},applyZoomPan:function(ot,rn,pn,_n){De.x=rn,De.y=pn,lt=ot,ii(_n)},init:function(){if(!(E||Y)){var ot;D.framework=M,D.template=m,D.bg=M.getChildByClass(m,"pswp__bg"),et=m.className,E=!0,bn=M.detectFeatures(),it=bn.raf,Ve=bn.caf,Ie=bn.transform,jt=bn.oldIE,D.scrollWrap=M.getChildByClass(m,"pswp__scroll-wrap"),D.container=M.getChildByClass(D.scrollWrap,"pswp__container"),le=D.container.style,D.itemHolders=J=[{el:D.container.children[0],wrap:0,index:-1},{el:D.container.children[1],wrap:0,index:-1},{el:D.container.children[2],wrap:0,index:-1}],J[0].el.style.display=J[2].el.style.display="none",ht(),dt={resize:D.updateSize,orientationchange:function(){clearTimeout(_t),_t=setTimeout(function(){Qe.x!==D.scrollWrap.clientWidth&&D.updateSize()},500)},scroll:It,keydown:vt,click:St};var rn=bn.isOldIOSPhone||bn.isOldAndroid||bn.isMobileOpera;for((!bn.animationName||!bn.transform||rn)&&(g.showAnimationDuration=g.hideAnimationDuration=0),ot=0;ot<tt.length;ot++)D["init"+tt[ot]]();if(p){var pn=D.ui=new p(D,M);pn.init()}xn("firstUpdate"),j=j||g.index||0,(isNaN(j)||j<0||j>=Fs())&&(j=0),D.currItem=Uo(j),(bn.isOldIOSPhone||bn.isOldAndroid)&&(Ye=!1),m.setAttribute("aria-hidden","false"),g.modal&&(Ye?m.style.position="fixed":(m.style.position="absolute",m.style.top=M.getScrollY()+"px")),on===void 0&&(xn("initialLayout"),on=wt=M.getScrollY());var _n="pswp--open ";for(g.mainClass&&(_n+=g.mainClass+" "),g.showHideOpacity&&(_n+="pswp--animate_opacity "),_n+=Ae?"pswp--touch":"pswp--notouch",_n+=bn.animationName?" pswp--css_animation":"",_n+=bn.svg?" pswp--svg":"",M.addClass(m,_n),D.updateSize(),ce=-1,K=null,ot=0;ot<S;ot++)$i((ot+ce)*ve.x,J[ot].el.style);jt||M.bind(D.scrollWrap,je,D),Wt("initialZoomInEnd",function(){D.setContent(J[0],j-1),D.setContent(J[2],j+1),J[0].el.style.display=J[2].el.style.display="block",g.focus&&m.focus(),Ee()}),D.setContent(J[1],j),D.updateCurrItem(),xn("afterInit"),Ye||(fe=setInterval(function(){!Tt&&!lr&&!Gn&&lt===D.currItem.initialZoomLevel&&D.updateSize()},1e3)),M.addClass(m,"pswp--visible")}},close:function(){!E||(E=!1,Y=!0,xn("close"),pe(),Di(D.currItem,null,!0,D.destroy))},destroy:function(){xn("destroy"),Wn&&clearTimeout(Wn),m.setAttribute("aria-hidden","true"),m.className=et,fe&&clearInterval(fe),M.unbind(D.scrollWrap,je,D),M.unbind(window,"scroll",D),dc(),Yt(),yn=null},panTo:function(ot,rn,pn){pn||(ot>Bi.min.x?ot=Bi.min.x:ot<Bi.max.x&&(ot=Bi.max.x),rn>Bi.min.y?rn=Bi.min.y:rn<Bi.max.y&&(rn=Bi.max.y)),De.x=ot,De.y=rn,ii()},handleEvent:function(ot){ot=ot||window.event,dt[ot.type]&&dt[ot.type](ot)},goTo:function(ot){ot=Me(ot);var rn=ot-j;K=rn,j=ot,D.currItem=Uo(j),ae-=rn,_i(ve.x*ae),Yt(),Ya=!1,D.updateCurrItem()},next:function(){D.goTo(j+1)},prev:function(){D.goTo(j-1)},updateCurrZoomItem:function(ot){if(ot&&xn("beforeChange",0),J[1].el.children.length){var rn=J[1].el.children[0];M.hasClass(rn,"pswp__zoom-wrap")?Ma=rn.style:Ma=null}else Ma=null;Bi=D.currItem.bounds,Te=lt=D.currItem.initialZoomLevel,De.x=Bi.center.x,De.y=Bi.center.y,ot&&xn("afterChange")},invalidateCurrItems:function(){ue=!0;for(var ot=0;ot<S;ot++)J[ot].item&&(J[ot].item.needsUpdate=!0)},updateCurrItem:function(ot){if(K!==0){var rn=Math.abs(K),pn;if(!(ot&&rn<2)){D.currItem=Uo(j),Mt=!1,xn("beforeChange",K),rn>=S&&(ce+=K+(K>0?-S:S),rn=S);for(var _n=0;_n<rn;_n++)K>0?(pn=J.shift(),J[S-1]=pn,ce++,$i((ce+2)*ve.x,pn.el.style),D.setContent(pn,j-rn+_n+1+1)):(pn=J.pop(),J.unshift(pn),ce--,$i(ce*ve.x,pn.el.style),D.setContent(pn,j+rn-_n-1-1));if(Ma&&Math.abs(K)===1){var Jr=Uo(X);Jr.initialZoomLevel!==lt&&(Su(Jr,Qe),Zs(Jr),xi(Jr))}K=0,D.updateCurrZoomItem(),X=j,xn("afterChange")}}},updateSize:function(ot){if(!Ye&&g.modal){var rn=M.getScrollY();if(on!==rn&&(m.style.top=rn+"px",on=rn),!ot&&Ft.x===window.innerWidth&&Ft.y===window.innerHeight)return;Ft.x=window.innerWidth,Ft.y=window.innerHeight,m.style.height=Ft.y+"px"}if(Qe.x=D.scrollWrap.clientWidth,Qe.y=D.scrollWrap.clientHeight,It(),ve.x=Qe.x+Math.round(Qe.x*g.spacing),ve.y=Qe.y,_i(ve.x*ae),xn("beforeResize"),ce!==void 0){for(var pn,_n,Jr,ui=0;ui<S;ui++)pn=J[ui],$i((ui+ce)*ve.x,pn.el.style),Jr=j+ui-1,g.loop&&Fs()>2&&(Jr=Me(Jr)),_n=Uo(Jr),_n&&(ue||_n.needsUpdate||!_n.bounds)?(D.cleanSlide(_n),D.setContent(pn,Jr),ui===1&&(D.currItem=_n,D.updateCurrZoomItem(!0)),_n.needsUpdate=!1):pn.index===-1&&Jr>=0&&D.setContent(pn,Jr),_n&&_n.container&&(Su(_n,Qe),Zs(_n),xi(_n));ue=!1}Te=lt=D.currItem.initialZoomLevel,Bi=D.currItem.bounds,Bi&&(De.x=Bi.center.x,De.y=Bi.center.y,ii(!0)),xn("resize")},zoomTo:function(ot,rn,pn,_n,Jr){rn&&(Te=lt,Io.x=Math.abs(rn.x)-De.x,Io.y=Math.abs(rn.y)-De.y,Kr(ne,De));var ui=oe(ot,!1),fi={};nt("x",ui,fi,ot),nt("y",ui,fi,ot);var za=lt,Ua={x:De.x,y:De.y};Tr(fi);var ma=function(_o){_o===1?(lt=ot,De.x=fi.x,De.y=fi.y):(lt=(ot-za)*_o+za,De.x=(fi.x-Ua.x)*_o+Ua.x,De.y=(fi.y-Ua.y)*_o+Ua.y),Jr&&Jr(_o),ii(_o===1)};pn?Mn("customZoomTo",0,1,pn,_n||M.easing.sine.inOut,ma):ma(1)}},wn=30,mn=10,On,Rn,Kn={},jn={},tr={},cr={},ar={},Zn=[],Un={},yi,gi=[],Xr={},Vn,ci,mi,oi=0,Ar=z(),Fr=0,lr,Hr,He,kt,Pn,En,Qn,Gn,Li,Yr,Bi,bi=z(),Ma,Ya,Io=z(),eo=z(),Do,Ti,sa,Vs,El,Zl=function(ot,rn){return ot.x===rn.x&&ot.y===rn.y},bo=function(ot,rn){return Math.abs(ot.x-rn.x)<T&&Math.abs(ot.y-rn.y)<T},vl=function(ot,rn){return Xr.x=Math.abs(ot.x-rn.x),Xr.y=Math.abs(ot.y-rn.y),Math.sqrt(Xr.x*Xr.x+Xr.y*Xr.y)},dc=function(){Pn&&(Ve(Pn),Pn=null)},As=function(){lr&&(Pn=it(As),ol())},Ol=function(){return!(g.scaleMode==="fit"&&lt===D.currItem.initialZoomLevel)},vs=function(ot,rn){return!ot||ot===document||ot.getAttribute("class")&&ot.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:rn(ot)?ot:vs(ot.parentNode,rn)},Os={},Qs=function(ot,rn){return Os.prevent=!vs(ot.target,g.isClickableElement),xn("preventDragEvent",ot,rn,Os),Os.prevent},Js=function(ot,rn){return rn.x=ot.pageX,rn.y=ot.pageY,rn.id=ot.identifier,rn},nn=function(ot,rn,pn){pn.x=(ot.x+rn.x)*.5,pn.y=(ot.y+rn.y)*.5},Ku=function(ot,rn,pn){if(ot-Rn>50){var _n=gi.length>2?gi.shift():{};_n.x=rn,_n.y=pn,gi.push(_n),Rn=ot}},al=function(){var ot=De.y-D.currItem.initialPosition.y;return 1-Math.abs(ot/(Qe.y/2))},Lo={},zl={},Po=[],Ec,Ys=function(ot){for(;Po.length>0;)Po.pop();return Ue?(Ec=0,Zn.forEach(function(rn){Ec===0?Po[0]=rn:Ec===1&&(Po[1]=rn),Ec++})):ot.type.indexOf("touch")>-1?ot.touches&&ot.touches.length>0&&(Po[0]=Js(ot.touches[0],Lo),ot.touches.length>1&&(Po[1]=Js(ot.touches[1],zl))):(Lo.x=ot.pageX,Lo.y=ot.pageY,Lo.id="",Po[0]=Lo),Po},Rc=function(ot,rn){var pn,_n=0,Jr=De[ot]+rn[ot],ui,fi=rn[ot]>0,za=bi.x+rn.x,Ua=bi.x-Un.x,ma,_o;if(Jr>Bi.min[ot]||Jr<Bi.max[ot]?pn=g.panEndFriction:pn=1,Jr=De[ot]+rn[ot]*pn,(g.allowPanToNext||lt===D.currItem.initialZoomLevel)&&(Ma?Do==="h"&&ot==="x"&&!He&&(fi?(Jr>Bi.min[ot]&&(pn=g.panEndFriction,_n=Bi.min[ot]-Jr,ui=Bi.min[ot]-ne[ot]),(ui<=0||Ua<0)&&Fs()>1?(_o=za,Ua<0&&za>Un.x&&(_o=Un.x)):Bi.min.x!==Bi.max.x&&(ma=Jr)):(Jr<Bi.max[ot]&&(pn=g.panEndFriction,_n=Jr-Bi.max[ot],ui=ne[ot]-Bi.max[ot]),(ui<=0||Ua>0)&&Fs()>1?(_o=za,Ua>0&&za<Un.x&&(_o=Un.x)):Bi.min.x!==Bi.max.x&&(ma=Jr))):_o=za,ot==="x"))return _o!==void 0&&(_i(_o,!0),_o===Un.x?En=!1:En=!0),Bi.min.x!==Bi.max.x&&(ma!==void 0?De.x=ma:En||(De.x+=rn.x*pn)),_o!==void 0;Ya||En||lt>D.currItem.fitRatio&&(De[ot]+=rn[ot]*pn)},Cu=function(ot){if(!(ot.type==="mousedown"&&ot.button>0)){if(ko){ot.preventDefault();return}if(!(mi&&ot.type==="mousedown")){if(Qs(ot,!0)&&ot.preventDefault(),xn("pointerDown"),Ue){var rn=M.arraySearch(Zn,ot.pointerId,"id");rn<0&&(rn=Zn.length),Zn[rn]={x:ot.pageX,y:ot.pageY,id:ot.pointerId}}var pn=Ys(ot),_n=pn.length;Qn=null,Yt(),(!lr||_n===1)&&(lr=Ti=!0,M.bind(window,we,D),Vn=El=sa=ci=En=kt=Hr=He=!1,Do=null,xn("firstTouchStart",pn),Kr(ne,De),se.x=se.y=0,Kr(cr,pn[0]),Kr(ar,cr),Un.x=ve.x*ae,gi=[{x:cr.x,y:cr.y}],Rn=On=Nn(),oe(lt,!0),dc(),As()),!Gn&&_n>1&&!Ya&&!En&&(Te=lt,He=!1,Gn=Hr=!0,se.y=se.x=0,Kr(ne,De),Kr(Kn,pn[0]),Kr(jn,pn[1]),nn(Kn,jn,eo),Io.x=Math.abs(eo.x)-De.x,Io.y=Math.abs(eo.y)-De.y,Li=Yr=vl(Kn,jn))}}},Wl=function(ot){if(ot.preventDefault(),Ue){var rn=M.arraySearch(Zn,ot.pointerId,"id");if(rn>-1){var pn=Zn[rn];pn.x=ot.pageX,pn.y=ot.pageY}}if(lr){var _n=Ys(ot);if(!Do&&!kt&&!Gn)if(bi.x!==ve.x*ae)Do="h";else{var Jr=Math.abs(_n[0].x-cr.x)-Math.abs(_n[0].y-cr.y);Math.abs(Jr)>=mn&&(Do=Jr>0?"h":"v",Qn=_n)}else Qn=_n}},ol=function(){if(!!Qn){var ot=Qn.length;if(ot!==0)if(Kr(Kn,Qn[0]),tr.x=Kn.x-cr.x,tr.y=Kn.y-cr.y,Gn&&ot>1){if(cr.x=Kn.x,cr.y=Kn.y,!tr.x&&!tr.y&&Zl(Qn[1],jn))return;Kr(jn,Qn[1]),He||(He=!0,xn("zoomGestureStarted"));var rn=vl(Kn,jn),pn=Nl(rn);pn>D.currItem.initialZoomLevel+D.currItem.initialZoomLevel/15&&(El=!0);var _n=1,Jr=me(),ui=Pe();if(pn<Jr)if(g.pinchToClose&&!El&&Te<=D.currItem.initialZoomLevel){var fi=Jr-pn,za=1-fi/(Jr/1.2);Cr(za),xn("onPinchClose",za),sa=!0}else _n=(Jr-pn)/Jr,_n>1&&(_n=1),pn=Jr-_n*(Jr/3);else pn>ui&&(_n=(pn-ui)/(Jr*6),_n>1&&(_n=1),pn=ui+_n*Jr);_n<0&&(_n=0),Li=rn,nn(Kn,jn,Ar),se.x+=Ar.x-eo.x,se.y+=Ar.y-eo.y,Kr(eo,Ar),De.x=Vr("x",pn),De.y=Vr("y",pn),Vn=pn>lt,lt=pn,ii()}else{if(!Do||(Ti&&(Ti=!1,Math.abs(tr.x)>=mn&&(tr.x-=Qn[0].x-ar.x),Math.abs(tr.y)>=mn&&(tr.y-=Qn[0].y-ar.y)),cr.x=Kn.x,cr.y=Kn.y,tr.x===0&&tr.y===0))return;if(Do==="v"&&g.closeOnVerticalDrag&&!Ol()){se.y+=tr.y,De.y+=tr.y;var Ua=al();ci=!0,xn("onVerticalDrag",Ua),Cr(Ua),ii();return}Ku(Nn(),Kn.x,Kn.y),kt=!0,Bi=D.currItem.bounds;var ma=Rc("x",tr);ma||(Rc("y",tr),Tr(De),ii())}}},pu=function(ot){if(bn.isOldAndroid){if(mi&&ot.type==="mouseup")return;ot.type.indexOf("touch")>-1&&(clearTimeout(mi),mi=setTimeout(function(){mi=0},600))}xn("pointerUp"),Qs(ot,!1)&&ot.preventDefault();var rn;if(Ue){var pn=M.arraySearch(Zn,ot.pointerId,"id");if(pn>-1)if(rn=Zn.splice(pn,1)[0],navigator.msPointerEnabled){var _n={4:"mouse",2:"touch",3:"pen"};rn.type=_n[ot.pointerType],rn.type||(rn.type=ot.pointerType||"mouse")}else rn.type=ot.pointerType||"mouse"}var Jr=Ys(ot),ui,fi=Jr.length;if(ot.type==="mouseup"&&(fi=0),fi===2)return Qn=null,!0;fi===1&&Kr(ar,Jr[0]),fi===0&&!Do&&!Ya&&(rn||(ot.type==="mouseup"?rn={x:ot.pageX,y:ot.pageY,type:"mouse"}:ot.changedTouches&&ot.changedTouches[0]&&(rn={x:ot.changedTouches[0].pageX,y:ot.changedTouches[0].pageY,type:"touch"})),xn("touchRelease",ot,rn));var za=-1;if(fi===0&&(lr=!1,M.unbind(window,we,D),dc(),Gn?za=0:Fr!==-1&&(za=Nn()-Fr)),Fr=fi===1?Nn():-1,za!==-1&&za<150?ui="zoom":ui="swipe",Gn&&fi<2&&(Gn=!1,fi===1&&(ui="zoomPointerUp"),xn("zoomGestureEnded")),Qn=null,!(!kt&&!He&&!Ya&&!ci)){if(Yt(),yi||(yi=Pc()),yi.calculateSwipeSpeed("x"),ci){var Ua=al();if(Ua<g.verticalDragRange)D.close();else{var ma=De.y,_o=Vs;Mn("verticalDrag",0,1,300,M.easing.cubic.out,function(jl){De.y=(D.currItem.initialPosition.y-ma)*jl+ma,Cr((1-_o)*jl+_o),ii()}),xn("onVerticalDrag",1)}return}if((En||Ya)&&fi===0){var $o=Bc(ui,yi);if($o)return;ui="zoomPointerUp"}if(!Ya){if(ui!=="swipe"){_a();return}!En&&lt>D.currItem.fitRatio&&Ul(yi)}}},Pc=function(){var ot,rn,pn={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(_n){gi.length>1?(ot=Nn()-Rn+50,rn=gi[gi.length-2][_n]):(ot=Nn()-On,rn=ar[_n]),pn.lastFlickOffset[_n]=cr[_n]-rn,pn.lastFlickDist[_n]=Math.abs(pn.lastFlickOffset[_n]),pn.lastFlickDist[_n]>20?pn.lastFlickSpeed[_n]=pn.lastFlickOffset[_n]/ot:pn.lastFlickSpeed[_n]=0,Math.abs(pn.lastFlickSpeed[_n])<.1&&(pn.lastFlickSpeed[_n]=0),pn.slowDownRatio[_n]=.95,pn.slowDownRatioReverse[_n]=1-pn.slowDownRatio[_n],pn.speedDecelerationRatio[_n]=1},calculateOverBoundsAnimOffset:function(_n,Jr){pn.backAnimStarted[_n]||(De[_n]>Bi.min[_n]?pn.backAnimDestination[_n]=Bi.min[_n]:De[_n]<Bi.max[_n]&&(pn.backAnimDestination[_n]=Bi.max[_n]),pn.backAnimDestination[_n]!==void 0&&(pn.slowDownRatio[_n]=.7,pn.slowDownRatioReverse[_n]=1-pn.slowDownRatio[_n],pn.speedDecelerationRatioAbs[_n]<.05&&(pn.lastFlickSpeed[_n]=0,pn.backAnimStarted[_n]=!0,Mn("bounceZoomPan"+_n,De[_n],pn.backAnimDestination[_n],Jr||300,M.easing.sine.out,function(ui){De[_n]=ui,ii()}))))},calculateAnimOffset:function(_n){pn.backAnimStarted[_n]||(pn.speedDecelerationRatio[_n]=pn.speedDecelerationRatio[_n]*(pn.slowDownRatio[_n]+pn.slowDownRatioReverse[_n]-pn.slowDownRatioReverse[_n]*pn.timeDiff/10),pn.speedDecelerationRatioAbs[_n]=Math.abs(pn.lastFlickSpeed[_n]*pn.speedDecelerationRatio[_n]),pn.distanceOffset[_n]=pn.lastFlickSpeed[_n]*pn.speedDecelerationRatio[_n]*pn.timeDiff,De[_n]+=pn.distanceOffset[_n])},panAnimLoop:function(){if(Kt.zoomPan&&(Kt.zoomPan.raf=it(pn.panAnimLoop),pn.now=Nn(),pn.timeDiff=pn.now-pn.lastNow,pn.lastNow=pn.now,pn.calculateAnimOffset("x"),pn.calculateAnimOffset("y"),ii(),pn.calculateOverBoundsAnimOffset("x"),pn.calculateOverBoundsAnimOffset("y"),pn.speedDecelerationRatioAbs.x<.05&&pn.speedDecelerationRatioAbs.y<.05)){De.x=Math.round(De.x),De.y=Math.round(De.y),ii(),Lt("zoomPan");return}}};return pn},Ul=function(ot){if(ot.calculateSwipeSpeed("y"),Bi=D.currItem.bounds,ot.backAnimDestination={},ot.backAnimStarted={},Math.abs(ot.lastFlickSpeed.x)<=.05&&Math.abs(ot.lastFlickSpeed.y)<=.05)return ot.speedDecelerationRatioAbs.x=ot.speedDecelerationRatioAbs.y=0,ot.calculateOverBoundsAnimOffset("x"),ot.calculateOverBoundsAnimOffset("y"),!0;Gt("zoomPan"),ot.lastNow=Nn(),ot.panAnimLoop()},Bc=function(ot,rn){var pn;Ya||(oi=j);var _n;if(ot==="swipe"){var Jr=cr.x-ar.x,ui=rn.lastFlickDist.x<10;Jr>wn&&(ui||rn.lastFlickOffset.x>20)?_n=-1:Jr<-wn&&(ui||rn.lastFlickOffset.x<-20)&&(_n=1)}var fi;_n&&(j+=_n,j<0?(j=g.loop?Fs()-1:0,fi=!0):j>=Fs()&&(j=g.loop?0:Fs()-1,fi=!0),(!fi||g.loop)&&(K+=_n,ae-=_n,pn=!0));var za=ve.x*ae,Ua=Math.abs(za-bi.x),ma;return!pn&&za>bi.x!=rn.lastFlickSpeed.x>0?ma=333:(ma=Math.abs(rn.lastFlickSpeed.x)>0?Ua/Math.abs(rn.lastFlickSpeed.x):333,ma=Math.min(ma,400),ma=Math.max(ma,250)),oi===j&&(pn=!1),Ya=!0,xn("mainScrollAnimStart"),Mn("mainScroll",bi.x,za,ma,M.easing.cubic.out,_i,function(){Yt(),Ya=!1,oi=-1,(pn||oi!==j)&&D.updateCurrItem(),xn("mainScrollAnimComplete")}),pn&&D.updateCurrItem(!0),pn},Nl=function(ot){return 1/Yr*ot*Te},_a=function(){var ot=lt,rn=me(),pn=Pe();lt<rn?ot=rn:lt>pn&&(ot=pn);var _n=1,Jr,ui=Vs;return sa&&!Vn&&!El&&lt<rn?(D.close(),!0):(sa&&(Jr=function(fi){Cr((_n-ui)*fi+ui)}),D.zoomTo(ot,0,200,M.easing.cubic.out,Jr),!0)};Jt("Gestures",{publicMethods:{initGestures:function(){var ot=function(rn,pn,_n,Jr,ui){ze=rn+pn,Ze=rn+_n,We=rn+Jr,ui?ye=rn+ui:ye=""};Ue=bn.pointerEvent,Ue&&bn.touch&&(bn.touch=!1),Ue?navigator.msPointerEnabled?ot("MSPointer","Down","Move","Up","Cancel"):ot("pointer","down","move","up","cancel"):bn.touch?(ot("touch","start","move","end","cancel"),Ae=!0):ot("mouse","down","move","up"),we=Ze+" "+We+" "+ye,je=ze,Ue&&!Ae&&(Ae=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),D.likelyTouchDevice=Ae,dt[ze]=Cu,dt[Ze]=Wl,dt[We]=pu,ye&&(dt[ye]=dt[We]),bn.touch&&(je+=" mousedown",we+=" mousemove mouseup",dt.mousedown=dt[ze],dt.mousemove=dt[Ze],dt.mouseup=dt[We]),Ae||(g.allowPanToNext=!1)}}});var Wn,Di=function(ot,rn,pn,_n){Wn&&clearTimeout(Wn),ko=!0,yo=!0;var Jr;ot.initialLayout?(Jr=ot.initialLayout,ot.initialLayout=null):Jr=g.getThumbBoundsFn&&g.getThumbBoundsFn(j);var ui=pn?g.hideAnimationDuration:g.showAnimationDuration,fi=function(){Lt("initialZoom"),pn?(D.template.removeAttribute("style"),D.bg.removeAttribute("style")):(Cr(1),rn&&(rn.style.display="block"),M.addClass(m,"pswp--animated-in"),xn("initialZoom"+(pn?"OutEnd":"InEnd"))),_n&&_n(),ko=!1};if(!ui||!Jr||Jr.x===void 0){xn("initialZoom"+(pn?"Out":"In")),lt=ot.initialZoomLevel,Kr(De,ot.initialPosition),ii(),m.style.opacity=pn?0:1,Cr(1),ui?setTimeout(function(){fi()},ui):fi();return}var za=function(){var Ua=q,ma=!D.currItem.src||D.currItem.loadError||g.showHideOpacity;ot.miniImg&&(ot.miniImg.style.webkitBackfaceVisibility="hidden"),pn||(lt=Jr.w/ot.w,De.x=Jr.x,De.y=Jr.y-wt,D[ma?"template":"bg"].style.opacity=.001,ii()),Gt("initialZoom"),pn&&!Ua&&M.removeClass(m,"pswp--animated-in"),ma&&(pn?M[(Ua?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){M.addClass(m,"pswp--animate_opacity")},30)),Wn=setTimeout(function(){if(xn("initialZoom"+(pn?"Out":"In")),!pn)lt=ot.initialZoomLevel,Kr(De,ot.initialPosition),ii(),Cr(1),ma?m.style.opacity=1:Cr(1),Wn=setTimeout(fi,ui+20);else{var _o=Jr.w/ot.w,$o={x:De.x,y:De.y},jl=lt,Yo=Vs,sl=function(Ps){Ps===1?(lt=_o,De.x=Jr.x,De.y=Jr.y-on):(lt=(_o-jl)*Ps+jl,De.x=(Jr.x-$o.x)*Ps+$o.x,De.y=(Jr.y-on-$o.y)*Ps+$o.y),ii(),ma?m.style.opacity=1-Ps:Cr(Yo-Ps*Yo)};Ua?Mn("initialZoom",0,1,ui,M.easing.cubic.out,sl,fi):(sl(1),Wn=setTimeout(fi,ui+20))}},pn?25:90)};za()},Hi,Ca={},Qr=[],yo,ko,Da={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Hi.length}},Uo,Fs,gs,Cl=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Tu=function(ot,rn,pn){var _n=ot.bounds;_n.center.x=Math.round((Ca.x-rn)/2),_n.center.y=Math.round((Ca.y-pn)/2)+ot.vGap.top,_n.max.x=rn>Ca.x?Math.round(Ca.x-rn):_n.center.x,_n.max.y=pn>Ca.y?Math.round(Ca.y-pn)+ot.vGap.top:_n.center.y,_n.min.x=rn>Ca.x?0:_n.center.x,_n.min.y=pn>Ca.y?ot.vGap.top:_n.center.y},Su=function(ot,rn,pn){if(ot.src&&!ot.loadError){var _n=!pn;if(_n&&(ot.vGap||(ot.vGap={top:0,bottom:0}),xn("parseVerticalMargin",ot)),Ca.x=rn.x,Ca.y=rn.y-ot.vGap.top-ot.vGap.bottom,_n){var Jr=Ca.x/ot.w,ui=Ca.y/ot.h;ot.fitRatio=Jr<ui?Jr:ui;var fi=g.scaleMode;fi==="orig"?pn=1:fi==="fit"&&(pn=ot.fitRatio),pn>1&&(pn=1),ot.initialZoomLevel=pn,ot.bounds||(ot.bounds=Cl())}return pn?(Tu(ot,ot.w*pn,ot.h*pn),_n&&pn===ot.initialZoomLevel&&(ot.initialPosition=ot.bounds.center),ot.bounds):void 0}else return ot.w=ot.h=0,ot.initialZoomLevel=ot.fitRatio=1,ot.bounds=Cl(),ot.initialPosition=ot.bounds.center,ot.bounds},ec=function(ot,rn,pn,_n,Jr,ui){rn.loadError||_n&&(rn.imageAppended=!0,Zs(rn,_n,rn===D.currItem&&Mt),pn.appendChild(_n),ui&&setTimeout(function(){rn&&rn.loaded&&rn.placeholder&&(rn.placeholder.style.display="none",rn.placeholder=null)},500))},Ns=function(ot){ot.loading=!0,ot.loaded=!1;var rn=ot.img=M.createEl("pswp__img","img"),pn=function(){ot.loading=!1,ot.loaded=!0,ot.loadComplete?ot.loadComplete(ot):ot.img=null,rn.onload=rn.onerror=null,rn=null};return rn.onload=pn,rn.onerror=function(){ot.loadError=!0,pn()},rn.src=ot.src,rn},Ks=function(ot,rn){if(ot.src&&ot.loadError&&ot.container)return rn&&(ot.container.innerHTML=""),ot.container.innerHTML=g.errorMsg.replace("%url%",ot.src),!0},Zs=function(ot,rn,pn){if(!!ot.src){rn||(rn=ot.container.lastChild);var _n=pn?ot.w:Math.round(ot.w*ot.fitRatio),Jr=pn?ot.h:Math.round(ot.h*ot.fitRatio);ot.placeholder&&!ot.loaded&&(ot.placeholder.style.width=_n+"px",ot.placeholder.style.height=Jr+"px"),rn.style.width=_n+"px",rn.style.height=Jr+"px"}},ns=function(){if(Qr.length){for(var ot,rn=0;rn<Qr.length;rn++)ot=Qr[rn],ot.holder.index===ot.index&&ec(ot.index,ot.item,ot.baseDiv,ot.img,!1,ot.clearPlaceholder);Qr=[]}};Jt("Controller",{publicMethods:{lazyLoadItem:function(ot){ot=Me(ot);var rn=Uo(ot);!rn||(rn.loaded||rn.loading)&&!ue||(xn("gettingData",ot,rn),rn.src&&Ns(rn))},initController:function(){M.extend(g,Da,!0),D.items=Hi=d,Uo=D.getItemAt,Fs=g.getNumItemsFn,gs=g.loop,Fs()<3&&(g.loop=!1),Wt("beforeChange",function(ot){var rn=g.preload,pn=ot===null?!0:ot>=0,_n=Math.min(rn[0],Fs()),Jr=Math.min(rn[1],Fs()),ui;for(ui=1;ui<=(pn?Jr:_n);ui++)D.lazyLoadItem(j+ui);for(ui=1;ui<=(pn?_n:Jr);ui++)D.lazyLoadItem(j-ui)}),Wt("initialLayout",function(){D.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(j)}),Wt("mainScrollAnimComplete",ns),Wt("initialZoomInEnd",ns),Wt("destroy",function(){for(var ot,rn=0;rn<Hi.length;rn++)ot=Hi[rn],ot.container&&(ot.container=null),ot.placeholder&&(ot.placeholder=null),ot.img&&(ot.img=null),ot.preloader&&(ot.preloader=null),ot.loadError&&(ot.loaded=ot.loadError=!1);Qr=null})},getItemAt:function(ot){return ot>=0&&Hi[ot]!==void 0?Hi[ot]:!1},allowProgressiveImg:function(){return g.forceProgressiveLoading||!Ae||g.mouseUsed||screen.width>1200},setContent:function(ot,rn){g.loop&&(rn=Me(rn));var pn=D.getItemAt(ot.index);pn&&(pn.container=null);var _n=D.getItemAt(rn),Jr;if(!_n){ot.el.innerHTML="";return}xn("gettingData",rn,_n),ot.index=rn,ot.item=_n;var ui=_n.container=M.createEl("pswp__zoom-wrap");if(!_n.src&&_n.html&&(_n.html.tagName?ui.appendChild(_n.html):ui.innerHTML=_n.html),Ks(_n),Su(_n,Qe),_n.src&&!_n.loadError&&!_n.loaded){if(_n.loadComplete=function(Ua){if(!!E){if(ot&&ot.index===rn){if(Ks(Ua,!0)){Ua.loadComplete=Ua.img=null,Su(Ua,Qe),xi(Ua),ot.index===j&&D.updateCurrZoomItem();return}Ua.imageAppended?!ko&&Ua.placeholder&&(Ua.placeholder.style.display="none",Ua.placeholder=null):bn.transform&&(Ya||ko)?Qr.push({item:Ua,baseDiv:ui,img:Ua.img,index:rn,holder:ot,clearPlaceholder:!0}):ec(rn,Ua,ui,Ua.img,Ya||ko,!0)}Ua.loadComplete=null,Ua.img=null,xn("imageLoadComplete",rn,Ua)}},M.features.transform){var fi="pswp__img pswp__img--placeholder";fi+=_n.msrc?"":" pswp__img--placeholder--blank";var za=M.createEl(fi,_n.msrc?"img":"");_n.msrc&&(za.src=_n.msrc),Zs(_n,za),ui.appendChild(za),_n.placeholder=za}_n.loading||Ns(_n),D.allowProgressiveImg()&&(!yo&&bn.transform?Qr.push({item:_n,baseDiv:ui,img:_n.img,index:rn,holder:ot}):ec(rn,_n,ui,_n.img,!0,!0))}else _n.src&&!_n.loadError&&(Jr=M.createEl("pswp__img","img"),Jr.style.opacity=1,Jr.src=_n.src,Zs(_n,Jr),ec(rn,_n,ui,Jr,!0));!yo&&rn===j?(Ma=ui.style,Di(_n,Jr||_n.img)):xi(_n),ot.el.innerHTML="",ot.el.appendChild(ui)},cleanSlide:function(ot){ot.img&&(ot.img.onload=ot.img.onerror=null),ot.loaded=ot.loading=ot.img=ot.imageAppended=!1}}});var gl,zo={},ml=function(ot,rn,pn){var _n=document.createEvent("CustomEvent"),Jr={origEvent:ot,target:ot.target,releasePoint:rn,pointerType:pn||"touch"};_n.initCustomEvent("pswpTap",!0,!0,Jr),ot.target.dispatchEvent(_n)};Jt("Tap",{publicMethods:{initTap:function(){Wt("firstTouchStart",D.onTapStart),Wt("touchRelease",D.onTapRelease),Wt("destroy",function(){zo={},gl=null})},onTapStart:function(ot){ot.length>1&&(clearTimeout(gl),gl=null)},onTapRelease:function(ot,rn){if(!!rn&&!kt&&!Hr&&!Tt){var pn=rn;if(gl&&(clearTimeout(gl),gl=null,bo(pn,zo))){xn("doubleTap",pn);return}if(rn.type==="mouse"){ml(ot,rn,"mouse");return}var _n=ot.target.tagName.toUpperCase();if(_n==="BUTTON"||M.hasClass(ot.target,"pswp__single-tap")){ml(ot,rn);return}Kr(zo,pn),gl=setTimeout(function(){ml(ot,rn),gl=null},300)}}}});var Ms;Jt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){jt||(Ae?Wt("mouseUsed",function(){D.setupDesktopZoom()}):D.setupDesktopZoom(!0))},setupDesktopZoom:function(ot){Ms={};var rn="wheel mousewheel DOMMouseScroll";Wt("bindEvents",function(){M.bind(m,rn,D.handleMouseWheel)}),Wt("unbindEvents",function(){Ms&&M.unbind(m,rn,D.handleMouseWheel)}),D.mouseZoomedIn=!1;var pn,_n=function(){D.mouseZoomedIn&&(M.removeClass(m,"pswp--zoomed-in"),D.mouseZoomedIn=!1),lt<1?M.addClass(m,"pswp--zoom-allowed"):M.removeClass(m,"pswp--zoom-allowed"),Jr()},Jr=function(){pn&&(M.removeClass(m,"pswp--dragging"),pn=!1)};Wt("resize",_n),Wt("afterChange",_n),Wt("pointerDown",function(){D.mouseZoomedIn&&(pn=!0,M.addClass(m,"pswp--dragging"))}),Wt("pointerUp",Jr),ot||_n()},handleMouseWheel:function(ot){if(lt<=D.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||Tt||lr?ot.preventDefault():Ie&&Math.abs(ot.deltaY)>2&&(q=!0,D.close())),!0;if(ot.stopPropagation(),Ms.x=0,"deltaX"in ot)ot.deltaMode===1?(Ms.x=ot.deltaX*18,Ms.y=ot.deltaY*18):(Ms.x=ot.deltaX,Ms.y=ot.deltaY);else if("wheelDelta"in ot)ot.wheelDeltaX&&(Ms.x=-.16*ot.wheelDeltaX),ot.wheelDeltaY?Ms.y=-.16*ot.wheelDeltaY:Ms.y=-.16*ot.wheelDelta;else if("detail"in ot)Ms.y=ot.detail;else return;oe(lt,!0);var rn=De.x-Ms.x,pn=De.y-Ms.y;(g.modal||rn<=Bi.min.x&&rn>=Bi.max.x&&pn<=Bi.min.y&&pn>=Bi.max.y)&&ot.preventDefault(),D.panTo(rn,pn)},toggleDesktopZoom:function(ot){ot=ot||{x:Qe.x/2+de.x,y:Qe.y/2+de.y};var rn=g.getDoubleTapZoom(!0,D.currItem),pn=lt===rn;D.mouseZoomedIn=!pn,D.zoomTo(pn?D.currItem.initialZoomLevel:rn,ot,333),M[(pn?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});var Hl={history:!0,galleryUID:1},Cc,Rs,bl,eu,tu,Rl,po,Bo,ls,el,cs,fc,ms=function(){return cs.hash.substring(1)},Gu=function(){Cc&&clearTimeout(Cc),bl&&clearTimeout(bl)},dd=function(){var ot=ms(),rn={};if(ot.length<5)return rn;var pn,_n=ot.split("&");for(pn=0;pn<_n.length;pn++)if(!!_n[pn]){var Jr=_n[pn].split("=");Jr.length<2||(rn[Jr[0]]=Jr[1])}if(g.galleryPIDs){var ui=rn.pid;for(rn.pid=0,pn=0;pn<Hi.length;pn++)if(Hi[pn].pid===ui){rn.pid=pn;break}}else rn.pid=parseInt(rn.pid,10)-1;return rn.pid<0&&(rn.pid=0),rn},Au=function(){if(bl&&clearTimeout(bl),Tt||lr){bl=setTimeout(Au,500);return}eu?clearTimeout(Rs):eu=!0;var ot=j+1,rn=Uo(j);rn.hasOwnProperty("pid")&&(ot=rn.pid);var pn=po+"&gid="+g.galleryUID+"&pid="+ot;Bo||cs.hash.indexOf(pn)===-1&&(el=!0);var _n=cs.href.split("#")[0]+"#"+pn;fc?"#"+pn!==window.location.hash&&history[Bo?"replaceState":"pushState"]("",document.title,_n):Bo?cs.replace(_n):cs.hash=pn,Bo=!0,Rs=setTimeout(function(){eu=!1},60)};Jt("History",{publicMethods:{initHistory:function(){if(M.extend(g,Hl,!0),!!g.history){cs=window.location,el=!1,ls=!1,Bo=!1,po=ms(),fc="pushState"in history,po.indexOf("gid=")>-1&&(po=po.split("&gid=")[0],po=po.split("?gid=")[0]),Wt("afterChange",D.updateURL),Wt("unbindEvents",function(){M.unbind(window,"hashchange",D.onHashChange)});var ot=function(){Rl=!0,ls||(el?history.back():po?cs.hash=po:fc?history.pushState("",document.title,cs.pathname+cs.search):cs.hash=""),Gu()};Wt("unbindEvents",function(){q&&ot()}),Wt("destroy",function(){Rl||ot()}),Wt("firstUpdate",function(){j=dd().pid});var rn=po.indexOf("pid=");rn>-1&&(po=po.substring(0,rn),po.slice(-1)==="&"&&(po=po.slice(0,-1))),setTimeout(function(){E&&M.bind(window,"hashchange",D.onHashChange)},40)}},onHashChange:function(){if(ms()===po){ls=!0,D.close();return}eu||(tu=!0,D.goTo(dd().pid),tu=!1)},updateURL:function(){Gu(),!tu&&(Bo?Cc=setTimeout(Au,800):Au())}}}),M.extend(D,Dn)};return x})},98238:function(ut,Ce,f){"use strict";f.r(Ce),f.d(Ce,{decode:function(){return dt},encode:function(){return Qe},toASCII:function(){return Te},toUnicode:function(){return lt},ucs2decode:function(){return se},ucs2encode:function(){return ne}});const O=2147483647,U=36,x=1,m=26,p=38,d=700,v=72,M=128,D="-",T=/^xn--/,S=/[^\0-\x7F]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=U-x,Y=Math.floor,q=String.fromCharCode;function j(te){throw new RangeError(z[te])}function le(te,fe){const ue=[];let ae=te.length;for(;ae--;)ue[ae]=fe(te[ae]);return ue}function ce(te,fe){const ue=te.split("@");let ae="";ue.length>1&&(ae=ue[0]+"@",te=ue[1]),te=te.replace(g,".");const de=te.split("."),ve=le(de,fe).join(".");return ae+ve}function se(te){const fe=[];let ue=0;const ae=te.length;for(;ue<ae;){const de=te.charCodeAt(ue++);if(de>=55296&&de<=56319&&ue<ae){const ve=te.charCodeAt(ue++);(ve&64512)==56320?fe.push(((de&1023)<<10)+(ve&1023)+65536):(fe.push(de),ue--)}else fe.push(de)}return fe}const ne=te=>String.fromCodePoint(...te),De=function(te){return te>=48&&te<58?26+(te-48):te>=65&&te<91?te-65:te>=97&&te<123?te-97:U},we=function(te,fe){return te+22+75*(te<26)-((fe!=0)<<5)},je=function(te,fe,ue){let ae=0;for(te=ue?Y(te/d):te>>1,te+=Y(te/fe);te>E*m>>1;ae+=U)te=Y(te/E);return Y(ae+(E+1)*te/(te+p))},dt=function(te){const fe=[],ue=te.length;let ae=0,de=M,ve=v,J=te.lastIndexOf(D);J<0&&(J=0);for(let X=0;X<J;++X)te.charCodeAt(X)>=128&&j("not-basic"),fe.push(te.charCodeAt(X));for(let X=J>0?J+1:0;X<ue;){const K=ae;for(let Ze=1,We=U;;We+=U){X>=ue&&j("invalid-input");const ye=De(te.charCodeAt(X++));ye>=U&&j("invalid-input"),ye>Y((O-ae)/Ze)&&j("overflow"),ae+=ye*Ze;const Ie=We<=ve?x:We>=ve+m?m:We-ve;if(ye<Ie)break;const Ue=U-Ie;Ze>Y(O/Ue)&&j("overflow"),Ze*=Ue}const ze=fe.length+1;ve=je(ae-K,ze,K==0),Y(ae/ze)>O-de&&j("overflow"),de+=Y(ae/ze),ae%=ze,fe.splice(ae++,0,de)}return String.fromCodePoint(...fe)},Qe=function(te){const fe=[];te=se(te);const ue=te.length;let ae=M,de=0,ve=v;for(const K of te)K<128&&fe.push(q(K));const J=fe.length;let X=J;for(J&&fe.push(D);X<ue;){let K=O;for(const Ze of te)Ze>=ae&&Ze<K&&(K=Ze);const ze=X+1;K-ae>Y((O-de)/ze)&&j("overflow"),de+=(K-ae)*ze,ae=K;for(const Ze of te)if(Ze<ae&&++de>O&&j("overflow"),Ze===ae){let We=de;for(let ye=U;;ye+=U){const Ie=ye<=ve?x:ye>=ve+m?m:ye-ve;if(We<Ie)break;const Ue=We-Ie,Ye=U-Ie;fe.push(q(we(Ie+Ue%Ye,0))),We=Y(Ue/Ye)}fe.push(q(we(We,0))),ve=je(de,ze,X===J),de=0,++X}++de,++ae}return fe.join("")},lt=function(te){return ce(te,function(fe){return T.test(fe)?dt(fe.slice(4).toLowerCase()):fe})},Te=function(te){return ce(te,function(fe){return S.test(fe)?"xn--"+Qe(fe):fe})},Je={version:"2.1.0",ucs2:{decode:se,encode:ne},decode:dt,encode:Qe,toASCII:Te,toUnicode:lt};Ce.default=Je},61841:function(ut,Ce){"use strict";var f;var O=60103,U=60106,x=60107,m=60108,p=60114,d=60109,v=60110,M=60112,D=60113,T=60120,S=60115,g=60116,z=60121,E=60122,Y=60117,q=60129,j=60131;if(typeof Symbol=="function"&&Symbol.for){var le=Symbol.for;O=le("react.element"),U=le("react.portal"),x=le("react.fragment"),m=le("react.strict_mode"),p=le("react.profiler"),d=le("react.provider"),v=le("react.context"),M=le("react.forward_ref"),D=le("react.suspense"),T=le("react.suspense_list"),S=le("react.memo"),g=le("react.lazy"),z=le("react.block"),E=le("react.server.block"),Y=le("react.fundamental"),q=le("react.debug_trace_mode"),j=le("react.legacy_hidden")}function ce(te){if(typeof te=="object"&&te!==null){var fe=te.$$typeof;switch(fe){case O:switch(te=te.type,te){case x:case p:case m:case D:case T:return te;default:switch(te=te&&te.$$typeof,te){case v:case M:case g:case S:case d:return te;default:return fe}}case U:return fe}}}var se=d,ne=O,De=M,we=x,je=g,dt=S,Qe=U,lt=p,Te=m,Je=D;f=v,f=se,f=ne,f=De,f=we,f=je,f=dt,f=Qe,f=lt,f=Te,f=Je,f=function(){return!1},f=function(){return!1},Ce.isContextConsumer=function(te){return ce(te)===v},f=function(te){return ce(te)===d},f=function(te){return typeof te=="object"&&te!==null&&te.$$typeof===O},f=function(te){return ce(te)===M},f=function(te){return ce(te)===x},f=function(te){return ce(te)===g},f=function(te){return ce(te)===S},f=function(te){return ce(te)===U},f=function(te){return ce(te)===p},f=function(te){return ce(te)===m},f=function(te){return ce(te)===D},f=function(te){return typeof te=="string"||typeof te=="function"||te===x||te===p||te===q||te===m||te===D||te===T||te===j||typeof te=="object"&&te!==null&&(te.$$typeof===g||te.$$typeof===S||te.$$typeof===d||te.$$typeof===v||te.$$typeof===M||te.$$typeof===Y||te.$$typeof===z||te[0]===E)},f=ce},97679:function(ut,Ce,f){"use strict";ut.exports=f(61841)},18436:function(ut){ut.exports=/[\0-\x1F\x7F-\x9F]/},74163:function(ut){ut.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},97942:function(ut){ut.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},87613:function(ut){ut.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},21977:function(ut,Ce,f){"use strict";Ce.Any=f(50757),Ce.Cc=f(18436),Ce.Cf=f(74163),Ce.P=f(97942),Ce.Z=f(87613)},50757:function(ut){ut.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},2107:function(ut){function Ce(f,O){if(O.has(f))throw new TypeError("Cannot initialize the same private elements twice on an object")}ut.exports=Ce,ut.exports.__esModule=!0,ut.exports.default=ut.exports},319:function(ut){function Ce(f,O){return O.get?O.get.call(f):O.value}ut.exports=Ce,ut.exports.__esModule=!0,ut.exports.default=ut.exports},51802:function(ut){function Ce(f,O,U){if(O.set)O.set.call(f,U);else{if(!O.writable)throw new TypeError("attempted to set read only private field");O.value=U}}ut.exports=Ce,ut.exports.__esModule=!0,ut.exports.default=ut.exports},16618:function(ut){function Ce(f,O,U){if(!O.has(f))throw new TypeError("attempted to "+U+" private field on non-instance");return O.get(f)}ut.exports=Ce,ut.exports.__esModule=!0,ut.exports.default=ut.exports},71198:function(ut,Ce,f){var O=f(319),U=f(16618);function x(m,p){var d=U(m,p,"get");return O(m,d)}ut.exports=x,ut.exports.__esModule=!0,ut.exports.default=ut.exports},56563:function(ut,Ce,f){var O=f(2107);function U(x,m,p){O(x,m),m.set(x,p)}ut.exports=U,ut.exports.__esModule=!0,ut.exports.default=ut.exports},39341:function(ut,Ce,f){var O=f(51802),U=f(16618);function x(m,p,d){var v=U(m,p,"set");return O(m,v,d),d}ut.exports=x,ut.exports.__esModule=!0,ut.exports.default=ut.exports},49304:function(ut,Ce,f){var O=f(62863);function U(){return typeof Reflect!="undefined"&&Reflect.get?(ut.exports=U=Reflect.get.bind(),ut.exports.__esModule=!0,ut.exports.default=ut.exports):(ut.exports=U=function(m,p,d){var v=O(m,p);if(!!v){var M=Object.getOwnPropertyDescriptor(v,p);return M.get?M.get.call(arguments.length<3?m:d):M.value}},ut.exports.__esModule=!0,ut.exports.default=ut.exports),U.apply(this,arguments)}ut.exports=U,ut.exports.__esModule=!0,ut.exports.default=ut.exports},62863:function(ut,Ce,f){var O=f(23458);function U(x,m){for(;!Object.prototype.hasOwnProperty.call(x,m)&&(x=O(x),x!==null););return x}ut.exports=U,ut.exports.__esModule=!0,ut.exports.default=ut.exports},25359:function(ut,Ce,f){var O=f(37635).default;function U(){"use strict";ut.exports=U=function(){return x},ut.exports.__esModule=!0,ut.exports.default=ut.exports;var x={},m=Object.prototype,p=m.hasOwnProperty,d=Object.defineProperty||function(fe,ue,ae){fe[ue]=ae.value},v=typeof Symbol=="function"?Symbol:{},M=v.iterator||"@@iterator",D=v.asyncIterator||"@@asyncIterator",T=v.toStringTag||"@@toStringTag";function S(fe,ue,ae){return Object.defineProperty(fe,ue,{value:ae,enumerable:!0,configurable:!0,writable:!0}),fe[ue]}try{S({},"")}catch(fe){S=function(ae,de,ve){return ae[de]=ve}}function g(fe,ue,ae,de){var ve=ue&&ue.prototype instanceof Y?ue:Y,J=Object.create(ve.prototype),X=new Te(de||[]);return d(J,"_invoke",{value:je(fe,ae,X)}),J}function z(fe,ue,ae){try{return{type:"normal",arg:fe.call(ue,ae)}}catch(de){return{type:"throw",arg:de}}}x.wrap=g;var E={};function Y(){}function q(){}function j(){}var le={};S(le,M,function(){return this});var ce=Object.getPrototypeOf,se=ce&&ce(ce(Je([])));se&&se!==m&&p.call(se,M)&&(le=se);var ne=j.prototype=Y.prototype=Object.create(le);function De(fe){["next","throw","return"].forEach(function(ue){S(fe,ue,function(ae){return this._invoke(ue,ae)})})}function we(fe,ue){function ae(ve,J,X,K){var ze=z(fe[ve],fe,J);if(ze.type!=="throw"){var Ze=ze.arg,We=Ze.value;return We&&O(We)=="object"&&p.call(We,"__await")?ue.resolve(We.__await).then(function(ye){ae("next",ye,X,K)},function(ye){ae("throw",ye,X,K)}):ue.resolve(We).then(function(ye){Ze.value=ye,X(Ze)},function(ye){return ae("throw",ye,X,K)})}K(ze.arg)}var de;d(this,"_invoke",{value:function(J,X){function K(){return new ue(function(ze,Ze){ae(J,X,ze,Ze)})}return de=de?de.then(K,K):K()}})}function je(fe,ue,ae){var de="suspendedStart";return function(ve,J){if(de==="executing")throw new Error("Generator is already running");if(de==="completed"){if(ve==="throw")throw J;return te()}for(ae.method=ve,ae.arg=J;;){var X=ae.delegate;if(X){var K=dt(X,ae);if(K){if(K===E)continue;return K}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(de==="suspendedStart")throw de="completed",ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);de="executing";var ze=z(fe,ue,ae);if(ze.type==="normal"){if(de=ae.done?"completed":"suspendedYield",ze.arg===E)continue;return{value:ze.arg,done:ae.done}}ze.type==="throw"&&(de="completed",ae.method="throw",ae.arg=ze.arg)}}}function dt(fe,ue){var ae=ue.method,de=fe.iterator[ae];if(de===void 0)return ue.delegate=null,ae==="throw"&&fe.iterator.return&&(ue.method="return",ue.arg=void 0,dt(fe,ue),ue.method==="throw")||ae!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),E;var ve=z(de,fe.iterator,ue.arg);if(ve.type==="throw")return ue.method="throw",ue.arg=ve.arg,ue.delegate=null,E;var J=ve.arg;return J?J.done?(ue[fe.resultName]=J.value,ue.next=fe.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=void 0),ue.delegate=null,E):J:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,E)}function Qe(fe){var ue={tryLoc:fe[0]};1 in fe&&(ue.catchLoc=fe[1]),2 in fe&&(ue.finallyLoc=fe[2],ue.afterLoc=fe[3]),this.tryEntries.push(ue)}function lt(fe){var ue=fe.completion||{};ue.type="normal",delete ue.arg,fe.completion=ue}function Te(fe){this.tryEntries=[{tryLoc:"root"}],fe.forEach(Qe,this),this.reset(!0)}function Je(fe){if(fe){var ue=fe[M];if(ue)return ue.call(fe);if(typeof fe.next=="function")return fe;if(!isNaN(fe.length)){var ae=-1,de=function ve(){for(;++ae<fe.length;)if(p.call(fe,ae))return ve.value=fe[ae],ve.done=!1,ve;return ve.value=void 0,ve.done=!0,ve};return de.next=de}}return{next:te}}function te(){return{value:void 0,done:!0}}return q.prototype=j,d(ne,"constructor",{value:j,configurable:!0}),d(j,"constructor",{value:q,configurable:!0}),q.displayName=S(j,T,"GeneratorFunction"),x.isGeneratorFunction=function(fe){var ue=typeof fe=="function"&&fe.constructor;return!!ue&&(ue===q||(ue.displayName||ue.name)==="GeneratorFunction")},x.mark=function(fe){return Object.setPrototypeOf?Object.setPrototypeOf(fe,j):(fe.__proto__=j,S(fe,T,"GeneratorFunction")),fe.prototype=Object.create(ne),fe},x.awrap=function(fe){return{__await:fe}},De(we.prototype),S(we.prototype,D,function(){return this}),x.AsyncIterator=we,x.async=function(fe,ue,ae,de,ve){ve===void 0&&(ve=Promise);var J=new we(g(fe,ue,ae,de),ve);return x.isGeneratorFunction(ue)?J:J.next().then(function(X){return X.done?X.value:J.next()})},De(ne),S(ne,T,"Generator"),S(ne,M,function(){return this}),S(ne,"toString",function(){return"[object Generator]"}),x.keys=function(fe){var ue=Object(fe),ae=[];for(var de in ue)ae.push(de);return ae.reverse(),function ve(){for(;ae.length;){var J=ae.pop();if(J in ue)return ve.value=J,ve.done=!1,ve}return ve.done=!0,ve}},x.values=Je,Te.prototype={constructor:Te,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(lt),!ue)for(var ae in this)ae.charAt(0)==="t"&&p.call(this,ae)&&!isNaN(+ae.slice(1))&&(this[ae]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var ae=this;function de(Ze,We){return X.type="throw",X.arg=ue,ae.next=Ze,We&&(ae.method="next",ae.arg=void 0),!!We}for(var ve=this.tryEntries.length-1;ve>=0;--ve){var J=this.tryEntries[ve],X=J.completion;if(J.tryLoc==="root")return de("end");if(J.tryLoc<=this.prev){var K=p.call(J,"catchLoc"),ze=p.call(J,"finallyLoc");if(K&&ze){if(this.prev<J.catchLoc)return de(J.catchLoc,!0);if(this.prev<J.finallyLoc)return de(J.finallyLoc)}else if(K){if(this.prev<J.catchLoc)return de(J.catchLoc,!0)}else{if(!ze)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return de(J.finallyLoc)}}}},abrupt:function(ue,ae){for(var de=this.tryEntries.length-1;de>=0;--de){var ve=this.tryEntries[de];if(ve.tryLoc<=this.prev&&p.call(ve,"finallyLoc")&&this.prev<ve.finallyLoc){var J=ve;break}}J&&(ue==="break"||ue==="continue")&&J.tryLoc<=ae&&ae<=J.finallyLoc&&(J=null);var X=J?J.completion:{};return X.type=ue,X.arg=ae,J?(this.method="next",this.next=J.finallyLoc,E):this.complete(X)},complete:function(ue,ae){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&ae&&(this.next=ae),E},finish:function(ue){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var de=this.tryEntries[ae];if(de.finallyLoc===ue)return this.complete(de.completion,de.afterLoc),lt(de),E}},catch:function(ue){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var de=this.tryEntries[ae];if(de.tryLoc===ue){var ve=de.completion;if(ve.type==="throw"){var J=ve.arg;lt(de)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(ue,ae,de){return this.delegate={iterator:Je(ue),resultName:ae,nextLoc:de},this.method==="next"&&(this.arg=void 0),E}},x}ut.exports=U,ut.exports.__esModule=!0,ut.exports.default=ut.exports},6534:function(ut,Ce,f){var O=f(25359)();ut.exports=O;try{regeneratorRuntime=O}catch(U){typeof globalThis=="object"?globalThis.regeneratorRuntime=O:Function("r","regeneratorRuntime = r")(O)}},85462:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return O}});function O(U,x){if(!Object.prototype.hasOwnProperty.call(U,x))throw new TypeError("attempted to use private field on non-instance");return U}},11997:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return U}});var O=0;function U(x){return"__private_"+O+++"_"+x}},34203:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return x}});var O=f(29129);function U(m,p){for(;!Object.prototype.hasOwnProperty.call(m,p)&&(m=(0,O.Z)(m),m!==null););return m}function x(){return typeof Reflect!="undefined"&&Reflect.get?x=Reflect.get.bind():x=function(p,d,v){var M=U(p,d);if(!!M){var D=Object.getOwnPropertyDescriptor(M,d);return D.get?D.get.call(arguments.length<3?p:v):D.value}},x.apply(this,arguments)}},87823:function(ut,Ce,f){"use strict";f.d(Ce,{Nb1:function(){return Tn},LLu:function(){return j},F5q:function(){return Y},$0Z:function(){return _c},Dts:function(){return uf},WQY:function(){return wd},qpX:function(){return fh},u93:function(){return ff},tFB:function(){return $f},YY7:function(){return pp},OvA:function(){return Xf},dCK:function(){return Rh},zgE:function(){return u0},fGX:function(){return Fh},$m7:function(){return Fp},c_6:function(){return Pr},fxm:function(){return gp},FdL:function(){return Vv},ak_:function(){return zp},SxZ:function(){return Yv},eA_:function(){return _v},jsv:function(){return tm},iJ:function(){return em},JHv:function(){return ou},jvg:function(){return ta},Fp7:function(){return O},VV$:function(){return U},ve8:function(){return No},BYU:function(){return lu},PKp:function(){return Kl},Xf:function(){return Zd},Ys:function(){return Np},td_:function(){return H0},YPS:function(){return Ru},rr1:function(){return zu},i$Z:function(){return fp},WQD:function(){return Nd},Z_i:function(){return Wf},F0B:function(){return C},NGh:function(){return ba}});function O(l,A){let re;if(A===void 0)for(const xe of l)xe!=null&&(re<xe||re===void 0&&xe>=xe)&&(re=xe);else{let xe=-1;for(let pt of l)(pt=A(pt,++xe,l))!=null&&(re<pt||re===void 0&&pt>=pt)&&(re=pt)}return re}function U(l,A){let re;if(A===void 0)for(const xe of l)xe!=null&&(re>xe||re===void 0&&xe>=xe)&&(re=xe);else{let xe=-1;for(let pt of l)(pt=A(pt,++xe,l))!=null&&(re>pt||re===void 0&&pt>=pt)&&(re=pt)}return re}function x(l){return l}var m=1,p=2,d=3,v=4,M=1e-6;function D(l){return"translate("+l+",0)"}function T(l){return"translate(0,"+l+")"}function S(l){return A=>+l(A)}function g(l,A){return A=Math.max(0,l.bandwidth()-A*2)/2,l.round()&&(A=Math.round(A)),re=>+l(re)+A}function z(){return!this.__axis}function E(l,A){var re=[],xe=null,pt=null,yt=6,Et=6,Pt=3,vn=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,gn=l===m||l===v?-1:1,Bn=l===v||l===p?"x":"y",Dr=l===m||l===d?D:T;function gr(Ur){var Ea=xe==null?A.ticks?A.ticks.apply(A,re):A.domain():xe,$a=pt==null?A.tickFormat?A.tickFormat.apply(A,re):x:pt,Ci=Math.max(yt,0)+Pt,ni=A.range(),la=+ni[0]+vn,Ri=+ni[ni.length-1]+vn,Pi=(A.bandwidth?g:S)(A.copy(),vn),ua=Ur.selection?Ur.selection():Ur,Ki=ua.selectAll(".domain").data([null]),Xa=ua.selectAll(".tick").data(Ea,A).order(),Mo=Xa.exit(),Ss=Xa.enter().append("g").attr("class","tick"),wo=Xa.select("line"),ya=Xa.select("text");Ki=Ki.merge(Ki.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Xa=Xa.merge(Ss),wo=wo.merge(Ss.append("line").attr("stroke","currentColor").attr(Bn+"2",gn*yt)),ya=ya.merge(Ss.append("text").attr("fill","currentColor").attr(Bn,gn*Ci).attr("dy",l===m?"0em":l===d?"0.71em":"0.32em")),Ur!==ua&&(Ki=Ki.transition(Ur),Xa=Xa.transition(Ur),wo=wo.transition(Ur),ya=ya.transition(Ur),Mo=Mo.transition(Ur).attr("opacity",M).attr("transform",function(lo){return isFinite(lo=Pi(lo))?Dr(lo+vn):this.getAttribute("transform")}),Ss.attr("opacity",M).attr("transform",function(lo){var aa=this.parentNode.__axis;return Dr((aa&&isFinite(aa=aa(lo))?aa:Pi(lo))+vn)})),Mo.remove(),Ki.attr("d",l===v||l===p?Et?"M"+gn*Et+","+la+"H"+vn+"V"+Ri+"H"+gn*Et:"M"+vn+","+la+"V"+Ri:Et?"M"+la+","+gn*Et+"V"+vn+"H"+Ri+"V"+gn*Et:"M"+la+","+vn+"H"+Ri),Xa.attr("opacity",1).attr("transform",function(lo){return Dr(Pi(lo)+vn)}),wo.attr(Bn+"2",gn*yt),ya.attr(Bn,gn*Ci).text($a),ua.filter(z).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",l===p?"start":l===v?"end":"middle"),ua.each(function(){this.__axis=Pi})}return gr.scale=function(Ur){return arguments.length?(A=Ur,gr):A},gr.ticks=function(){return re=Array.from(arguments),gr},gr.tickArguments=function(Ur){return arguments.length?(re=Ur==null?[]:Array.from(Ur),gr):re.slice()},gr.tickValues=function(Ur){return arguments.length?(xe=Ur==null?null:Array.from(Ur),gr):xe&&xe.slice()},gr.tickFormat=function(Ur){return arguments.length?(pt=Ur,gr):pt},gr.tickSize=function(Ur){return arguments.length?(yt=Et=+Ur,gr):yt},gr.tickSizeInner=function(Ur){return arguments.length?(yt=+Ur,gr):yt},gr.tickSizeOuter=function(Ur){return arguments.length?(Et=+Ur,gr):Et},gr.tickPadding=function(Ur){return arguments.length?(Pt=+Ur,gr):Pt},gr.offset=function(Ur){return arguments.length?(vn=+Ur,gr):vn},gr}function Y(l){return E(m,l)}function q(l){return E(p,l)}function j(l){return E(d,l)}function le(l){return E(v,l)}function ce(){}function se(l){return l==null?ce:function(){return this.querySelector(l)}}function ne(l){typeof l!="function"&&(l=se(l));for(var A=this._groups,re=A.length,xe=new Array(re),pt=0;pt<re;++pt)for(var yt=A[pt],Et=yt.length,Pt=xe[pt]=new Array(Et),vn,gn,Bn=0;Bn<Et;++Bn)(vn=yt[Bn])&&(gn=l.call(vn,vn.__data__,Bn,yt))&&("__data__"in vn&&(gn.__data__=vn.__data__),Pt[Bn]=gn);return new bi(xe,this._parents)}function De(l){return l==null?[]:Array.isArray(l)?l:Array.from(l)}function we(){return[]}function je(l){return l==null?we:function(){return this.querySelectorAll(l)}}function dt(l){return function(){return De(l.apply(this,arguments))}}function Qe(l){typeof l=="function"?l=dt(l):l=je(l);for(var A=this._groups,re=A.length,xe=[],pt=[],yt=0;yt<re;++yt)for(var Et=A[yt],Pt=Et.length,vn,gn=0;gn<Pt;++gn)(vn=Et[gn])&&(xe.push(l.call(vn,vn.__data__,gn,Et)),pt.push(vn));return new bi(xe,pt)}function lt(l){return function(){return this.matches(l)}}function Te(l){return function(A){return A.matches(l)}}var Je=Array.prototype.find;function te(l){return function(){return Je.call(this.children,l)}}function fe(){return this.firstElementChild}function ue(l){return this.select(l==null?fe:te(typeof l=="function"?l:Te(l)))}var ae=Array.prototype.filter;function de(){return Array.from(this.children)}function ve(l){return function(){return ae.call(this.children,l)}}function J(l){return this.selectAll(l==null?de:ve(typeof l=="function"?l:Te(l)))}function X(l){typeof l!="function"&&(l=lt(l));for(var A=this._groups,re=A.length,xe=new Array(re),pt=0;pt<re;++pt)for(var yt=A[pt],Et=yt.length,Pt=xe[pt]=[],vn,gn=0;gn<Et;++gn)(vn=yt[gn])&&l.call(vn,vn.__data__,gn,yt)&&Pt.push(vn);return new bi(xe,this._parents)}function K(l){return new Array(l.length)}function ze(){return new bi(this._enter||this._groups.map(K),this._parents)}function Ze(l,A){this.ownerDocument=l.ownerDocument,this.namespaceURI=l.namespaceURI,this._next=null,this._parent=l,this.__data__=A}Ze.prototype={constructor:Ze,appendChild:function(l){return this._parent.insertBefore(l,this._next)},insertBefore:function(l,A){return this._parent.insertBefore(l,A)},querySelector:function(l){return this._parent.querySelector(l)},querySelectorAll:function(l){return this._parent.querySelectorAll(l)}};function We(l){return function(){return l}}function ye(l,A,re,xe,pt,yt){for(var Et=0,Pt,vn=A.length,gn=yt.length;Et<gn;++Et)(Pt=A[Et])?(Pt.__data__=yt[Et],xe[Et]=Pt):re[Et]=new Ze(l,yt[Et]);for(;Et<vn;++Et)(Pt=A[Et])&&(pt[Et]=Pt)}function Ie(l,A,re,xe,pt,yt,Et){var Pt,vn,gn=new Map,Bn=A.length,Dr=yt.length,gr=new Array(Bn),Ur;for(Pt=0;Pt<Bn;++Pt)(vn=A[Pt])&&(gr[Pt]=Ur=Et.call(vn,vn.__data__,Pt,A)+"",gn.has(Ur)?pt[Pt]=vn:gn.set(Ur,vn));for(Pt=0;Pt<Dr;++Pt)Ur=Et.call(l,yt[Pt],Pt,yt)+"",(vn=gn.get(Ur))?(xe[Pt]=vn,vn.__data__=yt[Pt],gn.delete(Ur)):re[Pt]=new Ze(l,yt[Pt]);for(Pt=0;Pt<Bn;++Pt)(vn=A[Pt])&&gn.get(gr[Pt])===vn&&(pt[Pt]=vn)}function Ue(l){return l.__data__}function Ye(l,A){if(!arguments.length)return Array.from(this,Ue);var re=A?Ie:ye,xe=this._parents,pt=this._groups;typeof l!="function"&&(l=We(l));for(var yt=pt.length,Et=new Array(yt),Pt=new Array(yt),vn=new Array(yt),gn=0;gn<yt;++gn){var Bn=xe[gn],Dr=pt[gn],gr=Dr.length,Ur=Ae(l.call(Bn,Bn&&Bn.__data__,gn,xe)),Ea=Ur.length,$a=Pt[gn]=new Array(Ea),Ci=Et[gn]=new Array(Ea),ni=vn[gn]=new Array(gr);re(Bn,Dr,$a,Ci,ni,Ur,A);for(var la=0,Ri=0,Pi,ua;la<Ea;++la)if(Pi=$a[la]){for(la>=Ri&&(Ri=la+1);!(ua=Ci[Ri])&&++Ri<Ea;);Pi._next=ua||null}}return Et=new bi(Et,xe),Et._enter=Pt,Et._exit=vn,Et}function Ae(l){return typeof l=="object"&&"length"in l?l:Array.from(l)}function tt(){return new bi(this._exit||this._groups.map(K),this._parents)}function it(l,A,re){var xe=this.enter(),pt=this,yt=this.exit();return typeof l=="function"?(xe=l(xe),xe&&(xe=xe.selection())):xe=xe.append(l+""),A!=null&&(pt=A(pt),pt&&(pt=pt.selection())),re==null?yt.remove():re(yt),xe&&pt?xe.merge(pt).order():pt}function Ve(l){for(var A=l.selection?l.selection():l,re=this._groups,xe=A._groups,pt=re.length,yt=xe.length,Et=Math.min(pt,yt),Pt=new Array(pt),vn=0;vn<Et;++vn)for(var gn=re[vn],Bn=xe[vn],Dr=gn.length,gr=Pt[vn]=new Array(Dr),Ur,Ea=0;Ea<Dr;++Ea)(Ur=gn[Ea]||Bn[Ea])&&(gr[Ea]=Ur);for(;vn<pt;++vn)Pt[vn]=re[vn];return new bi(Pt,this._parents)}function et(){for(var l=this._groups,A=-1,re=l.length;++A<re;)for(var xe=l[A],pt=xe.length-1,yt=xe[pt],Et;--pt>=0;)(Et=xe[pt])&&(yt&&Et.compareDocumentPosition(yt)^4&&yt.parentNode.insertBefore(Et,yt),yt=Et);return this}function wt(l){l||(l=jt);function A(Dr,gr){return Dr&&gr?l(Dr.__data__,gr.__data__):!Dr-!gr}for(var re=this._groups,xe=re.length,pt=new Array(xe),yt=0;yt<xe;++yt){for(var Et=re[yt],Pt=Et.length,vn=pt[yt]=new Array(Pt),gn,Bn=0;Bn<Pt;++Bn)(gn=Et[Bn])&&(vn[Bn]=gn);vn.sort(A)}return new bi(pt,this._parents).order()}function jt(l,A){return l<A?-1:l>A?1:l>=A?0:NaN}function on(){var l=arguments[0];return arguments[0]=this,l.apply(null,arguments),this}function bn(){return Array.from(this)}function Ft(){for(var l=this._groups,A=0,re=l.length;A<re;++A)for(var xe=l[A],pt=0,yt=xe.length;pt<yt;++pt){var Et=xe[pt];if(Et)return Et}return null}function Mt(){let l=0;for(const A of this)++l;return l}function _t(){return!this.node()}function Jt(l){for(var A=this._groups,re=0,xe=A.length;re<xe;++re)for(var pt=A[re],yt=0,Et=pt.length,Pt;yt<Et;++yt)(Pt=pt[yt])&&l.call(Pt,Pt.__data__,yt,pt);return this}var Me="http://www.w3.org/1999/xhtml",yn={svg:"http://www.w3.org/2000/svg",xhtml:Me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wt(l){var A=l+="",re=A.indexOf(":");return re>=0&&(A=l.slice(0,re))!=="xmlns"&&(l=l.slice(re+1)),yn.hasOwnProperty(A)?{space:yn[A],local:l}:l}function xn(l){return function(){this.removeAttribute(l)}}function Nn(l){return function(){this.removeAttributeNS(l.space,l.local)}}function Cr(l,A){return function(){this.setAttribute(l,A)}}function jr(l,A){return function(){this.setAttributeNS(l.space,l.local,A)}}function ii(l,A){return function(){var re=A.apply(this,arguments);re==null?this.removeAttribute(l):this.setAttribute(l,re)}}function xi(l,A){return function(){var re=A.apply(this,arguments);re==null?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,re)}}function $i(l,A){var re=Wt(l);if(arguments.length<2){var xe=this.node();return re.local?xe.getAttributeNS(re.space,re.local):xe.getAttribute(re)}return this.each((A==null?re.local?Nn:xn:typeof A=="function"?re.local?xi:ii:re.local?jr:Cr)(re,A))}function _i(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}function Vr(l){return function(){this.style.removeProperty(l)}}function Kr(l,A,re){return function(){this.style.setProperty(l,A,re)}}function Tr(l,A,re){return function(){var xe=A.apply(this,arguments);xe==null?this.style.removeProperty(l):this.style.setProperty(l,xe,re)}}function qt(l,A,re){return arguments.length>1?this.each((A==null?Vr:typeof A=="function"?Tr:Kr)(l,A,re==null?"":re)):Zt(this.node(),l)}function Zt(l,A){return l.style.getPropertyValue(A)||_i(l).getComputedStyle(l,null).getPropertyValue(A)}function Ee(l){return function(){delete this[l]}}function pe(l,A){return function(){this[l]=A}}function oe(l,A){return function(){var re=A.apply(this,arguments);re==null?delete this[l]:this[l]=re}}function me(l,A){return arguments.length>1?this.each((A==null?Ee:typeof A=="function"?oe:pe)(l,A)):this.node()[l]}function Pe(l){return l.trim().split(/^|\s+/)}function nt(l){return l.classList||new ht(l)}function ht(l){this._node=l,this._names=Pe(l.getAttribute("class")||"")}ht.prototype={add:function(l){var A=this._names.indexOf(l);A<0&&(this._names.push(l),this._node.setAttribute("class",this._names.join(" ")))},remove:function(l){var A=this._names.indexOf(l);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(l){return this._names.indexOf(l)>=0}};function vt(l,A){for(var re=nt(l),xe=-1,pt=A.length;++xe<pt;)re.add(A[xe])}function St(l,A){for(var re=nt(l),xe=-1,pt=A.length;++xe<pt;)re.remove(A[xe])}function It(l){return function(){vt(this,l)}}function Kt(l){return function(){St(this,l)}}function Tt(l,A){return function(){(A.apply(this,arguments)?vt:St)(this,l)}}function Lt(l,A){var re=Pe(l+"");if(arguments.length<2){for(var xe=nt(this.node()),pt=-1,yt=re.length;++pt<yt;)if(!xe.contains(re[pt]))return!1;return!0}return this.each((typeof A=="function"?Tt:A?It:Kt)(re,A))}function Gt(){this.textContent=""}function Yt(l){return function(){this.textContent=l}}function Mn(l){return function(){var A=l.apply(this,arguments);this.textContent=A==null?"":A}}function Dn(l){return arguments.length?this.each(l==null?Gt:(typeof l=="function"?Mn:Yt)(l)):this.node().textContent}function wn(){this.innerHTML=""}function mn(l){return function(){this.innerHTML=l}}function On(l){return function(){var A=l.apply(this,arguments);this.innerHTML=A==null?"":A}}function Rn(l){return arguments.length?this.each(l==null?wn:(typeof l=="function"?On:mn)(l)):this.node().innerHTML}function Kn(){this.nextSibling&&this.parentNode.appendChild(this)}function jn(){return this.each(Kn)}function tr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cr(){return this.each(tr)}function ar(l){return function(){var A=this.ownerDocument,re=this.namespaceURI;return re===Me&&A.documentElement.namespaceURI===Me?A.createElement(l):A.createElementNS(re,l)}}function Zn(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function Un(l){var A=Wt(l);return(A.local?Zn:ar)(A)}function yi(l){var A=typeof l=="function"?l:Un(l);return this.select(function(){return this.appendChild(A.apply(this,arguments))})}function gi(){return null}function Xr(l,A){var re=typeof l=="function"?l:Un(l),xe=A==null?gi:typeof A=="function"?A:se(A);return this.select(function(){return this.insertBefore(re.apply(this,arguments),xe.apply(this,arguments)||null)})}function Vn(){var l=this.parentNode;l&&l.removeChild(this)}function ci(){return this.each(Vn)}function mi(){var l=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(l,this.nextSibling):l}function oi(){var l=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(l,this.nextSibling):l}function Ar(l){return this.select(l?oi:mi)}function Fr(l){return arguments.length?this.property("__data__",l):this.node().__data__}function lr(l){return function(A){l.call(this,A,this.__data__)}}function Hr(l){return l.trim().split(/^|\s+/).map(function(A){var re="",xe=A.indexOf(".");return xe>=0&&(re=A.slice(xe+1),A=A.slice(0,xe)),{type:A,name:re}})}function He(l){return function(){var A=this.__on;if(!!A){for(var re=0,xe=-1,pt=A.length,yt;re<pt;++re)yt=A[re],(!l.type||yt.type===l.type)&&yt.name===l.name?this.removeEventListener(yt.type,yt.listener,yt.options):A[++xe]=yt;++xe?A.length=xe:delete this.__on}}}function kt(l,A,re){return function(){var xe=this.__on,pt,yt=lr(A);if(xe){for(var Et=0,Pt=xe.length;Et<Pt;++Et)if((pt=xe[Et]).type===l.type&&pt.name===l.name){this.removeEventListener(pt.type,pt.listener,pt.options),this.addEventListener(pt.type,pt.listener=yt,pt.options=re),pt.value=A;return}}this.addEventListener(l.type,yt,re),pt={type:l.type,name:l.name,value:A,listener:yt,options:re},xe?xe.push(pt):this.__on=[pt]}}function Pn(l,A,re){var xe=Hr(l+""),pt,yt=xe.length,Et;if(arguments.length<2){var Pt=this.node().__on;if(Pt){for(var vn=0,gn=Pt.length,Bn;vn<gn;++vn)for(pt=0,Bn=Pt[vn];pt<yt;++pt)if((Et=xe[pt]).type===Bn.type&&Et.name===Bn.name)return Bn.value}return}for(Pt=A?kt:He,pt=0;pt<yt;++pt)this.each(Pt(xe[pt],A,re));return this}function En(l,A,re){var xe=_i(l),pt=xe.CustomEvent;typeof pt=="function"?pt=new pt(A,re):(pt=xe.document.createEvent("Event"),re?(pt.initEvent(A,re.bubbles,re.cancelable),pt.detail=re.detail):pt.initEvent(A,!1,!1)),l.dispatchEvent(pt)}function Qn(l,A){return function(){return En(this,l,A)}}function Gn(l,A){return function(){return En(this,l,A.apply(this,arguments))}}function Li(l,A){return this.each((typeof A=="function"?Gn:Qn)(l,A))}function*Yr(){for(var l=this._groups,A=0,re=l.length;A<re;++A)for(var xe=l[A],pt=0,yt=xe.length,Et;pt<yt;++pt)(Et=xe[pt])&&(yield Et)}var Bi=[null];function bi(l,A){this._groups=l,this._parents=A}function Ma(){return new bi([[document.documentElement]],Bi)}function Ya(){return this}bi.prototype=Ma.prototype={constructor:bi,select:ne,selectAll:Qe,selectChild:ue,selectChildren:J,filter:X,data:Ye,enter:ze,exit:tt,join:it,merge:Ve,selection:Ya,order:et,sort:wt,call:on,nodes:bn,node:Ft,size:Mt,empty:_t,each:Jt,attr:$i,style:qt,property:me,classed:Lt,text:Dn,html:Rn,raise:jn,lower:cr,append:yi,insert:Xr,remove:ci,clone:Ar,datum:Fr,on:Pn,dispatch:Li,[Symbol.iterator]:Yr};var Io=Ma,eo={value:function(){}};function Do(){for(var l=0,A=arguments.length,re={},xe;l<A;++l){if(!(xe=arguments[l]+"")||xe in re||/[\s.]/.test(xe))throw new Error("illegal type: "+xe);re[xe]=[]}return new Ti(re)}function Ti(l){this._=l}function sa(l,A){return l.trim().split(/^|\s+/).map(function(re){var xe="",pt=re.indexOf(".");if(pt>=0&&(xe=re.slice(pt+1),re=re.slice(0,pt)),re&&!A.hasOwnProperty(re))throw new Error("unknown type: "+re);return{type:re,name:xe}})}Ti.prototype=Do.prototype={constructor:Ti,on:function(A,re){var xe=this._,pt=sa(A+"",xe),yt,Et=-1,Pt=pt.length;if(arguments.length<2){for(;++Et<Pt;)if((yt=(A=pt[Et]).type)&&(yt=Vs(xe[yt],A.name)))return yt;return}if(re!=null&&typeof re!="function")throw new Error("invalid callback: "+re);for(;++Et<Pt;)if(yt=(A=pt[Et]).type)xe[yt]=El(xe[yt],A.name,re);else if(re==null)for(yt in xe)xe[yt]=El(xe[yt],A.name,null);return this},copy:function(){var A={},re=this._;for(var xe in re)A[xe]=re[xe].slice();return new Ti(A)},call:function(A,re){if((yt=arguments.length-2)>0)for(var xe=new Array(yt),pt=0,yt,Et;pt<yt;++pt)xe[pt]=arguments[pt+2];if(!this._.hasOwnProperty(A))throw new Error("unknown type: "+A);for(Et=this._[A],pt=0,yt=Et.length;pt<yt;++pt)Et[pt].value.apply(re,xe)},apply:function(A,re,xe){if(!this._.hasOwnProperty(A))throw new Error("unknown type: "+A);for(var pt=this._[A],yt=0,Et=pt.length;yt<Et;++yt)pt[yt].value.apply(re,xe)}};function Vs(l,A){for(var re=0,xe=l.length,pt;re<xe;++re)if((pt=l[re]).name===A)return pt.value}function El(l,A,re){for(var xe=0,pt=l.length;xe<pt;++xe)if(l[xe].name===A){l[xe]=eo,l=l.slice(0,xe).concat(l.slice(xe+1));break}return re!=null&&l.push({name:A,value:re}),l}var Zl=Do,bo=0,vl=0,dc=0,As=1e3,Ol,vs,Os=0,Qs=0,Js=0,nn=typeof performance=="object"&&performance.now?performance:Date,Ku=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function al(){return Qs||(Ku(Lo),Qs=nn.now()+Js)}function Lo(){Qs=0}function zl(){this._call=this._time=this._next=null}zl.prototype=Po.prototype={constructor:zl,restart:function(l,A,re){if(typeof l!="function")throw new TypeError("callback is not a function");re=(re==null?al():+re)+(A==null?0:+A),!this._next&&vs!==this&&(vs?vs._next=this:Ol=this,vs=this),this._call=l,this._time=re,Wl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wl())}};function Po(l,A,re){var xe=new zl;return xe.restart(l,A,re),xe}function Ec(){al(),++bo;for(var l=Ol,A;l;)(A=Qs-l._time)>=0&&l._call.call(void 0,A),l=l._next;--bo}function Ys(){Qs=(Os=nn.now())+Js,bo=vl=0;try{Ec()}finally{bo=0,Cu(),Qs=0}}function Rc(){var l=nn.now(),A=l-Os;A>As&&(Js-=A,Os=l)}function Cu(){for(var l,A=Ol,re,xe=1/0;A;)A._call?(xe>A._time&&(xe=A._time),l=A,A=A._next):(re=A._next,A._next=null,A=l?l._next=re:Ol=re);vs=l,Wl(xe)}function Wl(l){if(!bo){vl&&(vl=clearTimeout(vl));var A=l-Qs;A>24?(l<1/0&&(vl=setTimeout(Ys,l-nn.now()-Js)),dc&&(dc=clearInterval(dc))):(dc||(Os=nn.now(),dc=setInterval(Rc,As)),bo=1,Ku(Ys))}}function ol(l,A,re){var xe=new zl;return A=A==null?0:+A,xe.restart(pt=>{xe.stop(),l(pt+A)},A,re),xe}var pu=Zl("start","end","cancel","interrupt"),Pc=[],Ul=0,Bc=1,Nl=2,_a=3,Wn=4,Di=5,Hi=6;function Ca(l,A,re,xe,pt,yt){var Et=l.__transition;if(!Et)l.__transition={};else if(re in Et)return;Da(l,re,{name:A,index:xe,group:pt,on:pu,tween:Pc,time:yt.time,delay:yt.delay,duration:yt.duration,ease:yt.ease,timer:null,state:Ul})}function Qr(l,A){var re=ko(l,A);if(re.state>Ul)throw new Error("too late; already scheduled");return re}function yo(l,A){var re=ko(l,A);if(re.state>_a)throw new Error("too late; already running");return re}function ko(l,A){var re=l.__transition;if(!re||!(re=re[A]))throw new Error("transition not found");return re}function Da(l,A,re){var xe=l.__transition,pt;xe[A]=re,re.timer=Po(yt,0,re.time);function yt(gn){re.state=Bc,re.timer.restart(Et,re.delay,re.time),re.delay<=gn&&Et(gn-re.delay)}function Et(gn){var Bn,Dr,gr,Ur;if(re.state!==Bc)return vn();for(Bn in xe)if(Ur=xe[Bn],Ur.name===re.name){if(Ur.state===_a)return ol(Et);Ur.state===Wn?(Ur.state=Hi,Ur.timer.stop(),Ur.on.call("interrupt",l,l.__data__,Ur.index,Ur.group),delete xe[Bn]):+Bn<A&&(Ur.state=Hi,Ur.timer.stop(),Ur.on.call("cancel",l,l.__data__,Ur.index,Ur.group),delete xe[Bn])}if(ol(function(){re.state===_a&&(re.state=Wn,re.timer.restart(Pt,re.delay,re.time),Pt(gn))}),re.state=Nl,re.on.call("start",l,l.__data__,re.index,re.group),re.state===Nl){for(re.state=_a,pt=new Array(gr=re.tween.length),Bn=0,Dr=-1;Bn<gr;++Bn)(Ur=re.tween[Bn].value.call(l,l.__data__,re.index,re.group))&&(pt[++Dr]=Ur);pt.length=Dr+1}}function Pt(gn){for(var Bn=gn<re.duration?re.ease.call(null,gn/re.duration):(re.timer.restart(vn),re.state=Di,1),Dr=-1,gr=pt.length;++Dr<gr;)pt[Dr].call(l,Bn);re.state===Di&&(re.on.call("end",l,l.__data__,re.index,re.group),vn())}function vn(){re.state=Hi,re.timer.stop(),delete xe[A];for(var gn in xe)return;delete l.__transition}}function Uo(l,A){var re=l.__transition,xe,pt,yt=!0,Et;if(!!re){A=A==null?null:A+"";for(Et in re){if((xe=re[Et]).name!==A){yt=!1;continue}pt=xe.state>Nl&&xe.state<Di,xe.state=Hi,xe.timer.stop(),xe.on.call(pt?"interrupt":"cancel",l,l.__data__,xe.index,xe.group),delete re[Et]}yt&&delete l.__transition}}function Fs(l){return this.each(function(){Uo(this,l)})}function gs(l,A){return l=+l,A=+A,function(re){return l*(1-re)+A*re}}var Cl=180/Math.PI,Tu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Su(l,A,re,xe,pt,yt){var Et,Pt,vn;return(Et=Math.sqrt(l*l+A*A))&&(l/=Et,A/=Et),(vn=l*re+A*xe)&&(re-=l*vn,xe-=A*vn),(Pt=Math.sqrt(re*re+xe*xe))&&(re/=Pt,xe/=Pt,vn/=Pt),l*xe<A*re&&(l=-l,A=-A,vn=-vn,Et=-Et),{translateX:pt,translateY:yt,rotate:Math.atan2(A,l)*Cl,skewX:Math.atan(vn)*Cl,scaleX:Et,scaleY:Pt}}var ec;function Ns(l){var A=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(l+"");return A.isIdentity?Tu:Su(A.a,A.b,A.c,A.d,A.e,A.f)}function Ks(l){return l==null||(ec||(ec=document.createElementNS("http://www.w3.org/2000/svg","g")),ec.setAttribute("transform",l),!(l=ec.transform.baseVal.consolidate()))?Tu:(l=l.matrix,Su(l.a,l.b,l.c,l.d,l.e,l.f))}function Zs(l,A,re,xe){function pt(gn){return gn.length?gn.pop()+" ":""}function yt(gn,Bn,Dr,gr,Ur,Ea){if(gn!==Dr||Bn!==gr){var $a=Ur.push("translate(",null,A,null,re);Ea.push({i:$a-4,x:gs(gn,Dr)},{i:$a-2,x:gs(Bn,gr)})}else(Dr||gr)&&Ur.push("translate("+Dr+A+gr+re)}function Et(gn,Bn,Dr,gr){gn!==Bn?(gn-Bn>180?Bn+=360:Bn-gn>180&&(gn+=360),gr.push({i:Dr.push(pt(Dr)+"rotate(",null,xe)-2,x:gs(gn,Bn)})):Bn&&Dr.push(pt(Dr)+"rotate("+Bn+xe)}function Pt(gn,Bn,Dr,gr){gn!==Bn?gr.push({i:Dr.push(pt(Dr)+"skewX(",null,xe)-2,x:gs(gn,Bn)}):Bn&&Dr.push(pt(Dr)+"skewX("+Bn+xe)}function vn(gn,Bn,Dr,gr,Ur,Ea){if(gn!==Dr||Bn!==gr){var $a=Ur.push(pt(Ur)+"scale(",null,",",null,")");Ea.push({i:$a-4,x:gs(gn,Dr)},{i:$a-2,x:gs(Bn,gr)})}else(Dr!==1||gr!==1)&&Ur.push(pt(Ur)+"scale("+Dr+","+gr+")")}return function(gn,Bn){var Dr=[],gr=[];return gn=l(gn),Bn=l(Bn),yt(gn.translateX,gn.translateY,Bn.translateX,Bn.translateY,Dr,gr),Et(gn.rotate,Bn.rotate,Dr,gr),Pt(gn.skewX,Bn.skewX,Dr,gr),vn(gn.scaleX,gn.scaleY,Bn.scaleX,Bn.scaleY,Dr,gr),gn=Bn=null,function(Ur){for(var Ea=-1,$a=gr.length,Ci;++Ea<$a;)Dr[(Ci=gr[Ea]).i]=Ci.x(Ur);return Dr.join("")}}}var ns=Zs(Ns,"px, ","px)","deg)"),gl=Zs(Ks,", ",")",")");function zo(l,A){var re,xe;return function(){var pt=yo(this,l),yt=pt.tween;if(yt!==re){xe=re=yt;for(var Et=0,Pt=xe.length;Et<Pt;++Et)if(xe[Et].name===A){xe=xe.slice(),xe.splice(Et,1);break}}pt.tween=xe}}function ml(l,A,re){var xe,pt;if(typeof re!="function")throw new Error;return function(){var yt=yo(this,l),Et=yt.tween;if(Et!==xe){pt=(xe=Et).slice();for(var Pt={name:A,value:re},vn=0,gn=pt.length;vn<gn;++vn)if(pt[vn].name===A){pt[vn]=Pt;break}vn===gn&&pt.push(Pt)}yt.tween=pt}}function Ms(l,A){var re=this._id;if(l+="",arguments.length<2){for(var xe=ko(this.node(),re).tween,pt=0,yt=xe.length,Et;pt<yt;++pt)if((Et=xe[pt]).name===l)return Et.value;return null}return this.each((A==null?zo:ml)(re,l,A))}function Hl(l,A,re){var xe=l._id;return l.each(function(){var pt=yo(this,xe);(pt.value||(pt.value={}))[A]=re.apply(this,arguments)}),function(pt){return ko(pt,xe).value[A]}}function Cc(l,A,re){l.prototype=A.prototype=re,re.constructor=l}function Rs(l,A){var re=Object.create(l.prototype);for(var xe in A)re[xe]=A[xe];return re}function bl(){}var eu=.7,tu=1/eu,Rl="\\s*([+-]?\\d+)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ls=/^#([0-9a-f]{3,8})$/,el=new RegExp("^rgb\\(".concat(Rl,",").concat(Rl,",").concat(Rl,"\\)$")),cs=new RegExp("^rgb\\(".concat(Bo,",").concat(Bo,",").concat(Bo,"\\)$")),fc=new RegExp("^rgba\\(".concat(Rl,",").concat(Rl,",").concat(Rl,",").concat(po,"\\)$")),ms=new RegExp("^rgba\\(".concat(Bo,",").concat(Bo,",").concat(Bo,",").concat(po,"\\)$")),Gu=new RegExp("^hsl\\(".concat(po,",").concat(Bo,",").concat(Bo,"\\)$")),dd=new RegExp("^hsla\\(".concat(po,",").concat(Bo,",").concat(Bo,",").concat(po,"\\)$")),Au={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cc(bl,Jr,{copy:function(A){return Object.assign(new this.constructor,this,A)},displayable:function(){return this.rgb().displayable()},hex:ot,formatHex:ot,formatHex8:rn,formatHsl:pn,formatRgb:_n,toString:_n});function ot(){return this.rgb().formatHex()}function rn(){return this.rgb().formatHex8()}function pn(){return Sc(this).formatHsl()}function _n(){return this.rgb().formatRgb()}function Jr(l){var A,re;return l=(l+"").trim().toLowerCase(),(A=ls.exec(l))?(re=A[1].length,A=parseInt(A[1],16),re===6?ui(A):re===3?new ma(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):re===8?fi(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):re===4?fi(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=el.exec(l))?new ma(A[1],A[2],A[3],1):(A=cs.exec(l))?new ma(A[1]*255/100,A[2]*255/100,A[3]*255/100,1):(A=fc.exec(l))?fi(A[1],A[2],A[3],A[4]):(A=ms.exec(l))?fi(A[1]*255/100,A[2]*255/100,A[3]*255/100,A[4]):(A=Gu.exec(l))?Tc(A[1],A[2]/100,A[3]/100,1):(A=dd.exec(l))?Tc(A[1],A[2]/100,A[3]/100,A[4]):Au.hasOwnProperty(l)?ui(Au[l]):l==="transparent"?new ma(NaN,NaN,NaN,0):null}function ui(l){return new ma(l>>16&255,l>>8&255,l&255,1)}function fi(l,A,re,xe){return xe<=0&&(l=A=re=NaN),new ma(l,A,re,xe)}function za(l){return l instanceof bl||(l=Jr(l)),l?(l=l.rgb(),new ma(l.r,l.g,l.b,l.opacity)):new ma}function Ua(l,A,re,xe){return arguments.length===1?za(l):new ma(l,A,re,xe==null?1:xe)}function ma(l,A,re,xe){this.r=+l,this.g=+A,this.b=+re,this.opacity=+xe}Cc(ma,Ua,Rs(bl,{brighter:function(A){return A=A==null?tu:Math.pow(tu,A),new ma(this.r*A,this.g*A,this.b*A,this.opacity)},darker:function(A){return A=A==null?eu:Math.pow(eu,A),new ma(this.r*A,this.g*A,this.b*A,this.opacity)},rgb:function(){return this},clamp:function(){return new ma(sl(this.r),sl(this.g),sl(this.b),Yo(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_o,formatHex:_o,formatHex8:$o,formatRgb:jl,toString:jl}));function _o(){return"#".concat(Ps(this.r)).concat(Ps(this.g)).concat(Ps(this.b))}function $o(){return"#".concat(Ps(this.r)).concat(Ps(this.g)).concat(Ps(this.b)).concat(Ps((isNaN(this.opacity)?1:this.opacity)*255))}function jl(){var l=Yo(this.opacity);return"".concat(l===1?"rgb(":"rgba(").concat(sl(this.r),", ").concat(sl(this.g),", ").concat(sl(this.b)).concat(l===1?")":", ".concat(l,")"))}function Yo(l){return isNaN(l)?1:Math.max(0,Math.min(1,l))}function sl(l){return Math.max(0,Math.min(255,Math.round(l)||0))}function Ps(l){return l=sl(l),(l<16?"0":"")+l.toString(16)}function Tc(l,A,re,xe){return xe<=0?l=A=re=NaN:re<=0||re>=1?l=A=NaN:A<=0&&(l=NaN),new ks(l,A,re,xe)}function Sc(l){if(l instanceof ks)return new ks(l.h,l.s,l.l,l.opacity);if(l instanceof bl||(l=Jr(l)),!l)return new ks;if(l instanceof ks)return l;l=l.rgb();var A=l.r/255,re=l.g/255,xe=l.b/255,pt=Math.min(A,re,xe),yt=Math.max(A,re,xe),Et=NaN,Pt=yt-pt,vn=(yt+pt)/2;return Pt?(A===yt?Et=(re-xe)/Pt+(re<xe)*6:re===yt?Et=(xe-A)/Pt+2:Et=(A-re)/Pt+4,Pt/=vn<.5?yt+pt:2-yt-pt,Et*=60):Pt=vn>0&&vn<1?0:Et,new ks(Et,Pt,vn,l.opacity)}function yl(l,A,re,xe){return arguments.length===1?Sc(l):new ks(l,A,re,xe==null?1:xe)}function ks(l,A,re,xe){this.h=+l,this.s=+A,this.l=+re,this.opacity=+xe}Cc(ks,yl,Rs(bl,{brighter:function(A){return A=A==null?tu:Math.pow(tu,A),new ks(this.h,this.s,this.l*A,this.opacity)},darker:function(A){return A=A==null?eu:Math.pow(eu,A),new ks(this.h,this.s,this.l*A,this.opacity)},rgb:function(){var A=this.h%360+(this.h<0)*360,re=isNaN(A)||isNaN(this.s)?0:this.s,xe=this.l,pt=xe+(xe<.5?xe:1-xe)*re,yt=2*xe-pt;return new ma(Sd(A>=240?A-240:A+120,yt,pt),Sd(A,yt,pt),Sd(A<120?A+240:A-120,yt,pt),this.opacity)},clamp:function(){return new ks(hc(this.h),Td(this.s),Td(this.l),Yo(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var A=Yo(this.opacity);return"".concat(A===1?"hsl(":"hsla(").concat(hc(this.h),", ").concat(Td(this.s)*100,"%, ").concat(Td(this.l)*100,"%").concat(A===1?")":", ".concat(A,")"))}}));function hc(l){return l=(l||0)%360,l<0?l+360:l}function Td(l){return Math.max(0,Math.min(1,l||0))}function Sd(l,A,re){return(l<60?A+(re-A)*l/60:l<180?re:l<240?A+(re-A)*(240-l)/60:A)*255}function Ad(l,A,re,xe,pt){var yt=l*l,Et=yt*l;return((1-3*l+3*yt-Et)*A+(4-6*yt+3*Et)*re+(1+3*l+3*yt-3*Et)*xe+Et*pt)/6}function fd(l){var A=l.length-1;return function(re){var xe=re<=0?re=0:re>=1?(re=1,A-1):Math.floor(re*A),pt=l[xe],yt=l[xe+1],Et=xe>0?l[xe-1]:2*pt-yt,Pt=xe<A-1?l[xe+2]:2*yt-pt;return Ad((re-xe/A)*A,Et,pt,yt,Pt)}}function gf(l){var A=l.length;return function(re){var xe=Math.floor(((re%=1)<0?++re:re)*A),pt=l[(xe+A-1)%A],yt=l[xe%A],Et=l[(xe+1)%A],Pt=l[(xe+2)%A];return Ad((re-xe/A)*A,pt,yt,Et,Pt)}}var Tl=function(l){return function(){return l}};function mf(l,A){return function(re){return l+re*A}}function Ud(l,A,re){return l=Math.pow(l,re),A=Math.pow(A,re)-l,re=1/re,function(xe){return Math.pow(l+xe*A,re)}}function Mu(l,A){var re=A-l;return re?mf(l,re>180||re<-180?re-360*Math.round(re/360):re):Tl(isNaN(l)?A:l)}function nu(l){return(l=+l)==1?Vl:function(A,re){return re-A?Ud(A,re,l):Tl(isNaN(A)?re:A)}}function Vl(l,A){var re=A-l;return re?mf(l,re):Tl(isNaN(l)?A:l)}var hd=function l(A){var re=nu(A);function xe(pt,yt){var Et=re((pt=Ua(pt)).r,(yt=Ua(yt)).r),Pt=re(pt.g,yt.g),vn=re(pt.b,yt.b),gn=Vl(pt.opacity,yt.opacity);return function(Bn){return pt.r=Et(Bn),pt.g=Pt(Bn),pt.b=vn(Bn),pt.opacity=gn(Bn),pt+""}}return xe.gamma=l,xe}(1);function Ac(l){return function(A){var re=A.length,xe=new Array(re),pt=new Array(re),yt=new Array(re),Et,Pt;for(Et=0;Et<re;++Et)Pt=Ua(A[Et]),xe[Et]=Pt.r||0,pt[Et]=Pt.g||0,yt[Et]=Pt.b||0;return xe=l(xe),pt=l(pt),yt=l(yt),Pt.opacity=1,function(vn){return Pt.r=xe(vn),Pt.g=pt(vn),Pt.b=yt(vn),Pt+""}}}var tc=Ac(fd),Nf=Ac(gf),qu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hd=new RegExp(qu.source,"g");function jd(l){return function(){return l}}function Vd(l){return function(A){return l(A)+""}}function pd(l,A){var re=qu.lastIndex=Hd.lastIndex=0,xe,pt,yt,Et=-1,Pt=[],vn=[];for(l=l+"",A=A+"";(xe=qu.exec(l))&&(pt=Hd.exec(A));)(yt=pt.index)>re&&(yt=A.slice(re,yt),Pt[Et]?Pt[Et]+=yt:Pt[++Et]=yt),(xe=xe[0])===(pt=pt[0])?Pt[Et]?Pt[Et]+=pt:Pt[++Et]=pt:(Pt[++Et]=null,vn.push({i:Et,x:gs(xe,pt)})),re=Hd.lastIndex;return re<A.length&&(yt=A.slice(re),Pt[Et]?Pt[Et]+=yt:Pt[++Et]=yt),Pt.length<2?vn[0]?Vd(vn[0].x):jd(A):(A=vn.length,function(gn){for(var Bn=0,Dr;Bn<A;++Bn)Pt[(Dr=vn[Bn]).i]=Dr.x(gn);return Pt.join("")})}function Yd(l,A){var re;return(typeof A=="number"?gs:A instanceof Jr?hd:(re=Jr(A))?(A=re,hd):pd)(l,A)}function Rf(l){return function(){this.removeAttribute(l)}}function ru(l){return function(){this.removeAttributeNS(l.space,l.local)}}function vd(l,A,re){var xe,pt=re+"",yt;return function(){var Et=this.getAttribute(l);return Et===pt?null:Et===xe?yt:yt=A(xe=Et,re)}}function Fc(l,A,re){var xe,pt=re+"",yt;return function(){var Et=this.getAttributeNS(l.space,l.local);return Et===pt?null:Et===xe?yt:yt=A(xe=Et,re)}}function Gs(l,A,re){var xe,pt,yt;return function(){var Et,Pt=re(this),vn;return Pt==null?void this.removeAttribute(l):(Et=this.getAttribute(l),vn=Pt+"",Et===vn?null:Et===xe&&vn===pt?yt:(pt=vn,yt=A(xe=Et,Pt)))}}function Kd(l,A,re){var xe,pt,yt;return function(){var Et,Pt=re(this),vn;return Pt==null?void this.removeAttributeNS(l.space,l.local):(Et=this.getAttributeNS(l.space,l.local),vn=Pt+"",Et===vn?null:Et===xe&&vn===pt?yt:(pt=vn,yt=A(xe=Et,Pt)))}}function Gd(l,A){var re=Wt(l),xe=re==="transform"?gl:Yd;return this.attrTween(l,typeof A=="function"?(re.local?Kd:Gs)(re,xe,Hl(this,"attr."+l,A)):A==null?(re.local?ru:Rf)(re):(re.local?Fc:vd)(re,xe,A))}function $u(l,A){return function(re){this.setAttribute(l,A.call(this,re))}}function Xu(l,A){return function(re){this.setAttributeNS(l.space,l.local,A.call(this,re))}}function iu(l,A){var re,xe;function pt(){var yt=A.apply(this,arguments);return yt!==xe&&(re=(xe=yt)&&Xu(l,yt)),re}return pt._value=A,pt}function Pl(l,A){var re,xe;function pt(){var yt=A.apply(this,arguments);return yt!==xe&&(re=(xe=yt)&&$u(l,yt)),re}return pt._value=A,pt}function ll(l,A){var re="attr."+l;if(arguments.length<2)return(re=this.tween(re))&&re._value;if(A==null)return this.tween(re,null);if(typeof A!="function")throw new Error;var xe=Wt(l);return this.tween(re,(xe.local?iu:Pl)(xe,A))}function zs(l,A){return function(){Qr(this,l).delay=+A.apply(this,arguments)}}function qd(l,A){return A=+A,function(){Qr(this,l).delay=A}}function vu(l){var A=this._id;return arguments.length?this.each((typeof l=="function"?zs:qd)(A,l)):ko(this.node(),A).delay}function $d(l,A){return function(){yo(this,l).duration=+A.apply(this,arguments)}}function Md(l,A){return A=+A,function(){yo(this,l).duration=A}}function gd(l){var A=this._id;return arguments.length?this.each((typeof l=="function"?$d:Md)(A,l)):ko(this.node(),A).duration}function bf(l,A){if(typeof A!="function")throw new Error;return function(){yo(this,l).ease=A}}function pc(l){var A=this._id;return arguments.length?this.each(bf(A,l)):ko(this.node(),A).ease}function yf(l,A){return function(){var re=A.apply(this,arguments);if(typeof re!="function")throw new Error;yo(this,l).ease=re}}function Du(l){if(typeof l!="function")throw new Error;return this.each(yf(this._id,l))}function Qu(l){typeof l!="function"&&(l=lt(l));for(var A=this._groups,re=A.length,xe=new Array(re),pt=0;pt<re;++pt)for(var yt=A[pt],Et=yt.length,Pt=xe[pt]=[],vn,gn=0;gn<Et;++gn)(vn=yt[gn])&&l.call(vn,vn.__data__,gn,yt)&&Pt.push(vn);return new Ds(xe,this._parents,this._name,this._id)}function Xd(l){if(l._id!==this._id)throw new Error;for(var A=this._groups,re=l._groups,xe=A.length,pt=re.length,yt=Math.min(xe,pt),Et=new Array(xe),Pt=0;Pt<yt;++Pt)for(var vn=A[Pt],gn=re[Pt],Bn=vn.length,Dr=Et[Pt]=new Array(Bn),gr,Ur=0;Ur<Bn;++Ur)(gr=vn[Ur]||gn[Ur])&&(Dr[Ur]=gr);for(;Pt<xe;++Pt)Et[Pt]=A[Pt];return new Ds(Et,this._parents,this._name,this._id)}function Sl(l){return(l+"").trim().split(/^|\s+/).every(function(A){var re=A.indexOf(".");return re>=0&&(A=A.slice(0,re)),!A||A==="start"})}function Iu(l,A,re){var xe,pt,yt=Sl(A)?Qr:yo;return function(){var Et=yt(this,l),Pt=Et.on;Pt!==xe&&(pt=(xe=Pt).copy()).on(A,re),Et.on=pt}}function md(l,A){var re=this._id;return arguments.length<2?ko(this.node(),re).on.on(l):this.each(Iu(re,l,A))}function Lu(l){return function(){var A=this.parentNode;for(var re in this.__transition)if(+re!==l)return;A&&A.removeChild(this)}}function Ou(){return this.on("end.remove",Lu(this._id))}function Zc(l){var A=this._name,re=this._id;typeof l!="function"&&(l=se(l));for(var xe=this._groups,pt=xe.length,yt=new Array(pt),Et=0;Et<pt;++Et)for(var Pt=xe[Et],vn=Pt.length,gn=yt[Et]=new Array(vn),Bn,Dr,gr=0;gr<vn;++gr)(Bn=Pt[gr])&&(Dr=l.call(Bn,Bn.__data__,gr,Pt))&&("__data__"in Bn&&(Dr.__data__=Bn.__data__),gn[gr]=Dr,Ca(gn[gr],A,re,gr,gn,ko(Bn,re)));return new Ds(yt,this._parents,A,re)}function _f(l){var A=this._name,re=this._id;typeof l!="function"&&(l=je(l));for(var xe=this._groups,pt=xe.length,yt=[],Et=[],Pt=0;Pt<pt;++Pt)for(var vn=xe[Pt],gn=vn.length,Bn,Dr=0;Dr<gn;++Dr)if(Bn=vn[Dr]){for(var gr=l.call(Bn,Bn.__data__,Dr,vn),Ur,Ea=ko(Bn,re),$a=0,Ci=gr.length;$a<Ci;++$a)(Ur=gr[$a])&&Ca(Ur,A,re,$a,gr,Ea);yt.push(gr),Et.push(Bn)}return new Ds(yt,Et,A,re)}var xf=Io.prototype.constructor;function Ju(){return new xf(this._groups,this._parents)}function Qd(l,A){var re,xe,pt;return function(){var yt=Zt(this,l),Et=(this.style.removeProperty(l),Zt(this,l));return yt===Et?null:yt===re&&Et===xe?pt:pt=A(re=yt,xe=Et)}}function nc(l){return function(){this.style.removeProperty(l)}}function Nu(l,A,re){var xe,pt=re+"",yt;return function(){var Et=Zt(this,l);return Et===pt?null:Et===xe?yt:yt=A(xe=Et,re)}}function Dd(l,A,re){var xe,pt,yt;return function(){var Et=Zt(this,l),Pt=re(this),vn=Pt+"";return Pt==null&&(vn=Pt=(this.style.removeProperty(l),Zt(this,l))),Et===vn?null:Et===xe&&vn===pt?yt:(pt=vn,yt=A(xe=Et,Pt))}}function Jd(l,A){var re,xe,pt,yt="style."+A,Et="end."+yt,Pt;return function(){var vn=yo(this,l),gn=vn.on,Bn=vn.value[yt]==null?Pt||(Pt=nc(A)):void 0;(gn!==re||pt!==Bn)&&(xe=(re=gn).copy()).on(Et,pt=Bn),vn.on=xe}}function Pf(l,A,re){var xe=(l+="")=="transform"?ns:Yd;return A==null?this.styleTween(l,Qd(l,xe)).on("end.style."+l,nc(l)):typeof A=="function"?this.styleTween(l,Dd(l,xe,Hl(this,"style."+l,A))).each(Jd(this._id,l)):this.styleTween(l,Nu(l,xe,A),re).on("end.style."+l,null)}function au(l,A,re){return function(xe){this.style.setProperty(l,A.call(this,xe),re)}}function Ka(l,A,re){var xe,pt;function yt(){var Et=A.apply(this,arguments);return Et!==pt&&(xe=(pt=Et)&&au(l,Et,re)),xe}return yt._value=A,yt}function bd(l,A,re){var xe="style."+(l+="");if(arguments.length<2)return(xe=this.tween(xe))&&xe._value;if(A==null)return this.tween(xe,null);if(typeof A!="function")throw new Error;return this.tween(xe,Ka(l,A,re==null?"":re))}function ef(l){return function(){this.textContent=l}}function vc(l){return function(){var A=l(this);this.textContent=A==null?"":A}}function wf(l){return this.tween("text",typeof l=="function"?vc(Hl(this,"text",l)):ef(l==null?"":l+""))}function ed(l){return function(A){this.textContent=l.call(this,A)}}function kf(l){var A,re;function xe(){var pt=l.apply(this,arguments);return pt!==re&&(A=(re=pt)&&ed(pt)),A}return xe._value=l,xe}function Bf(l){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(l==null)return this.tween(A,null);if(typeof l!="function")throw new Error;return this.tween(A,kf(l))}function gu(){for(var l=this._name,A=this._id,re=Ff(),xe=this._groups,pt=xe.length,yt=0;yt<pt;++yt)for(var Et=xe[yt],Pt=Et.length,vn,gn=0;gn<Pt;++gn)if(vn=Et[gn]){var Bn=ko(vn,A);Ca(vn,l,re,gn,Et,{time:Bn.time+Bn.delay+Bn.duration,delay:0,duration:Bn.duration,ease:Bn.ease})}return new Ds(xe,this._parents,l,re)}function xh(){var l,A,re=this,xe=re._id,pt=re.size();return new Promise(function(yt,Et){var Pt={value:Et},vn={value:function(){--pt===0&&yt()}};re.each(function(){var gn=yo(this,xe),Bn=gn.on;Bn!==l&&(A=(l=Bn).copy(),A._.cancel.push(Pt),A._.interrupt.push(Pt),A._.end.push(vn)),gn.on=A}),pt===0&&yt()})}var Id=0;function Ds(l,A,re,xe){this._groups=l,this._parents=A,this._name=re,this._id=xe}function yd(l){return Io().transition(l)}function Ff(){return++Id}var mu=Io.prototype;Ds.prototype=yd.prototype={constructor:Ds,select:Zc,selectAll:_f,selectChild:mu.selectChild,selectChildren:mu.selectChildren,filter:Qu,merge:Xd,selection:Ju,transition:gu,call:mu.call,nodes:mu.nodes,node:mu.node,size:mu.size,empty:mu.empty,each:mu.each,on:md,attr:Gd,attrTween:ll,style:Pf,styleTween:bd,text:wf,textTween:Bf,remove:Ou,tween:Ms,delay:vu,duration:gd,ease:pc,easeVarying:Du,end:xh,[Symbol.iterator]:mu[Symbol.iterator]};function tf(l){return l*l*l}function wh(l){return--l*l*l+1}function Ef(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}var tl={time:null,delay:0,duration:250,ease:Ef};function Xo(l,A){for(var re;!(re=l.__transition)||!(re=re[A]);)if(!(l=l.parentNode))throw new Error(`transition ${A} not found`);return re}function Ko(l){var A,re;l instanceof Ds?(A=l._id,l=l._name):(A=Ff(),(re=tl).time=al(),l=l==null?null:l+"");for(var xe=this._groups,pt=xe.length,yt=0;yt<pt;++yt)for(var Et=xe[yt],Pt=Et.length,vn,gn=0;gn<Pt;++gn)(vn=Et[gn])&&Ca(vn,l,A,gn,Et,re||Xo(vn,A));return new Ds(xe,this._parents,l,A)}Io.prototype.interrupt=Fs,Io.prototype.transition=Ko;var Ws={name:"drag"},Al={name:"space"},rc={name:"handle"},cl={name:"center"};const{abs:nf,max:_l,min:be}=Math;function Xe(l){return[+l[0],+l[1]]}function gt(l){return[Xe(l[0]),Xe(l[1])]}var qe={name:"x",handles:["w","e"].map(Fi),input:function(l,A){return l==null?null:[[+l[0],A[0][1]],[+l[1],A[1][1]]]},output:function(l){return l&&[l[0][0],l[1][0]]}},Ht={name:"y",handles:["n","s"].map(Fi),input:function(l,A){return l==null?null:[[A[0][0],+l[0]],[A[1][0],+l[1]]]},output:function(l){return l&&[l[0][1],l[1][1]]}},dn={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Fi),input:function(l){return l==null?null:gt(l)},output:function(l){return l}},fn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Jn={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},br={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Or={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Gr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Fi(l){return{type:l}}function Ga(l){return!l.ctrlKey&&!l.button}function Ra(){var l=this.ownerSVGElement||this;return l.hasAttribute("viewBox")?(l=l.viewBox.baseVal,[[l.x,l.y],[l.x+l.width,l.y+l.height]]):[[0,0],[l.width.baseVal.value,l.height.baseVal.value]]}function oo(){return navigator.maxTouchPoints||"ontouchstart"in this}function nl(l){for(;!l.__brush;)if(!(l=l.parentNode))return;return l.__brush}function xl(l){return l[0][0]===l[1][0]||l[0][1]===l[1][1]}function ih(l){var A=l.__brush;return A?A.dim.output(A.selection):null}function zc(){return Wc(qe)}function us(){return Wc(Ht)}function Mc(){return Wc(dn)}function Wc(l){var A=Ra,re=Ga,xe=oo,pt=!0,yt=dispatch("start","brush","end"),Et=6,Pt;function vn(Ci){var ni=Ci.property("__brush",$a).selectAll(".overlay").data([Fi("overlay")]);ni.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fn.overlay).merge(ni).each(function(){var Ri=nl(this).extent;select(this).attr("x",Ri[0][0]).attr("y",Ri[0][1]).attr("width",Ri[1][0]-Ri[0][0]).attr("height",Ri[1][1]-Ri[0][1])}),Ci.selectAll(".selection").data([Fi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var la=Ci.selectAll(".handle").data(l.handles,function(Ri){return Ri.type});la.exit().remove(),la.enter().append("rect").attr("class",function(Ri){return"handle handle--"+Ri.type}).attr("cursor",function(Ri){return fn[Ri.type]}),Ci.each(gn).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",gr).filter(xe).on("touchstart.brush",gr).on("touchmove.brush",Ur).on("touchend.brush touchcancel.brush",Ea).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}vn.move=function(Ci,ni,la){Ci.tween?Ci.on("start.brush",function(Ri){Bn(this,arguments).beforestart().start(Ri)}).on("interrupt.brush end.brush",function(Ri){Bn(this,arguments).end(Ri)}).tween("brush",function(){var Ri=this,Pi=Ri.__brush,ua=Bn(Ri,arguments),Ki=Pi.selection,Xa=l.input(typeof ni=="function"?ni.apply(this,arguments):ni,Pi.extent),Mo=interpolate(Ki,Xa);function Ss(wo){Pi.selection=wo===1&&Xa===null?null:Mo(wo),gn.call(Ri),ua.brush()}return Ki!==null&&Xa!==null?Ss:Ss(1)}):Ci.each(function(){var Ri=this,Pi=arguments,ua=Ri.__brush,Ki=l.input(typeof ni=="function"?ni.apply(Ri,Pi):ni,ua.extent),Xa=Bn(Ri,Pi).beforestart();interrupt(Ri),ua.selection=Ki===null?null:Ki,gn.call(Ri),Xa.start(la).brush(la).end(la)})},vn.clear=function(Ci,ni){vn.move(Ci,null,ni)};function gn(){var Ci=select(this),ni=nl(this).selection;ni?(Ci.selectAll(".selection").style("display",null).attr("x",ni[0][0]).attr("y",ni[0][1]).attr("width",ni[1][0]-ni[0][0]).attr("height",ni[1][1]-ni[0][1]),Ci.selectAll(".handle").style("display",null).attr("x",function(la){return la.type[la.type.length-1]==="e"?ni[1][0]-Et/2:ni[0][0]-Et/2}).attr("y",function(la){return la.type[0]==="s"?ni[1][1]-Et/2:ni[0][1]-Et/2}).attr("width",function(la){return la.type==="n"||la.type==="s"?ni[1][0]-ni[0][0]+Et:Et}).attr("height",function(la){return la.type==="e"||la.type==="w"?ni[1][1]-ni[0][1]+Et:Et})):Ci.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function Bn(Ci,ni,la){var Ri=Ci.__brush.emitter;return Ri&&(!la||!Ri.clean)?Ri:new Dr(Ci,ni,la)}function Dr(Ci,ni,la){this.that=Ci,this.args=ni,this.state=Ci.__brush,this.active=0,this.clean=la}Dr.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(Ci,ni){return this.starting?(this.starting=!1,this.emit("start",Ci,ni)):this.emit("brush",Ci),this},brush:function(Ci,ni){return this.emit("brush",Ci,ni),this},end:function(Ci,ni){return--this.active===0&&(delete this.state.emitter,this.emit("end",Ci,ni)),this},emit:function(Ci,ni,la){var Ri=select(this.that).datum();yt.call(Ci,this.that,new BrushEvent(Ci,{sourceEvent:ni,target:vn,selection:l.output(this.state.selection),mode:la,dispatch:yt}),Ri)}};function gr(Ci){if(Pt&&!Ci.touches||!re.apply(this,arguments))return;var ni=this,la=Ci.target.__data__.type,Ri=(pt&&Ci.metaKey?la="overlay":la)==="selection"?Ws:pt&&Ci.altKey?cl:rc,Pi=l===Ht?null:Or[la],ua=l===qe?null:Gr[la],Ki=nl(ni),Xa=Ki.extent,Mo=Ki.selection,Ss=Xa[0][0],wo,ya,lo=Xa[0][1],aa,hr,da=Xa[1][0],di,Ji,Na=Xa[1][1],Ta,Za,ao=0,go=0,xc,Xs=Pi&&ua&&pt&&Ci.shiftKey,Bs,Oc,Ls=Array.from(Ci.touches||[Ci],fo=>{const Jl=fo.identifier;return fo=pointer(fo,ni),fo.point0=fo.slice(),fo.identifier=Jl,fo});interrupt(ni);var lc=Bn(ni,arguments,!0).beforestart();if(la==="overlay"){Mo&&(xc=!0);const fo=[Ls[0],Ls[1]||Ls[0]];Ki.selection=Mo=[[wo=l===Ht?Ss:be(fo[0][0],fo[1][0]),aa=l===qe?lo:be(fo[0][1],fo[1][1])],[di=l===Ht?da:_l(fo[0][0],fo[1][0]),Ta=l===qe?Na:_l(fo[0][1],fo[1][1])]],Ls.length>1&&Ql(Ci)}else wo=Mo[0][0],aa=Mo[0][1],di=Mo[1][0],Ta=Mo[1][1];ya=wo,hr=aa,Ji=di,Za=Ta;var wa=select(ni).attr("pointer-events","none"),Co=wa.selectAll(".overlay").attr("cursor",fn[la]);if(Ci.touches)lc.moved=Gi,lc.ended=js;else{var Go=select(Ci.view).on("mousemove.brush",Gi,!0).on("mouseup.brush",js,!0);pt&&Go.on("keydown.brush",Hu,!0).on("keyup.brush",ju,!0),dragDisable(Ci.view)}gn.call(ni),lc.start(Ci,Ri.name);function Gi(fo){for(const Jl of fo.changedTouches||[fo])for(const _p of Ls)_p.identifier===Jl.identifier&&(_p.cur=pointer(Jl,ni));if(Xs&&!Bs&&!Oc&&Ls.length===1){const Jl=Ls[0];nf(Jl.cur[0]-Jl[0])>nf(Jl.cur[1]-Jl[1])?Oc=!0:Bs=!0}for(const Jl of Ls)Jl.cur&&(Jl[0]=Jl.cur[0],Jl[1]=Jl.cur[1]);xc=!0,noevent(fo),Ql(fo)}function Ql(fo){const Jl=Ls[0],_p=Jl.point0;var vh;switch(ao=Jl[0]-_p[0],go=Jl[1]-_p[1],Ri){case Al:case Ws:{Pi&&(ao=_l(Ss-wo,be(da-di,ao)),ya=wo+ao,Ji=di+ao),ua&&(go=_l(lo-aa,be(Na-Ta,go)),hr=aa+go,Za=Ta+go);break}case rc:{Ls[1]?(Pi&&(ya=_l(Ss,be(da,Ls[0][0])),Ji=_l(Ss,be(da,Ls[1][0])),Pi=1),ua&&(hr=_l(lo,be(Na,Ls[0][1])),Za=_l(lo,be(Na,Ls[1][1])),ua=1)):(Pi<0?(ao=_l(Ss-wo,be(da-wo,ao)),ya=wo+ao,Ji=di):Pi>0&&(ao=_l(Ss-di,be(da-di,ao)),ya=wo,Ji=di+ao),ua<0?(go=_l(lo-aa,be(Na-aa,go)),hr=aa+go,Za=Ta):ua>0&&(go=_l(lo-Ta,be(Na-Ta,go)),hr=aa,Za=Ta+go));break}case cl:{Pi&&(ya=_l(Ss,be(da,wo-ao*Pi)),Ji=_l(Ss,be(da,di+ao*Pi))),ua&&(hr=_l(lo,be(Na,aa-go*ua)),Za=_l(lo,be(Na,Ta+go*ua)));break}}Ji<ya&&(Pi*=-1,vh=wo,wo=di,di=vh,vh=ya,ya=Ji,Ji=vh,la in Jn&&Co.attr("cursor",fn[la=Jn[la]])),Za<hr&&(ua*=-1,vh=aa,aa=Ta,Ta=vh,vh=hr,hr=Za,Za=vh,la in br&&Co.attr("cursor",fn[la=br[la]])),Ki.selection&&(Mo=Ki.selection),Bs&&(ya=Mo[0][0],Ji=Mo[1][0]),Oc&&(hr=Mo[0][1],Za=Mo[1][1]),(Mo[0][0]!==ya||Mo[0][1]!==hr||Mo[1][0]!==Ji||Mo[1][1]!==Za)&&(Ki.selection=[[ya,hr],[Ji,Za]],gn.call(ni),lc.brush(fo,Ri.name))}function js(fo){if(nopropagation(fo),fo.touches){if(fo.touches.length)return;Pt&&clearTimeout(Pt),Pt=setTimeout(function(){Pt=null},500)}else dragEnable(fo.view,xc),Go.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);wa.attr("pointer-events","all"),Co.attr("cursor",fn.overlay),Ki.selection&&(Mo=Ki.selection),xl(Mo)&&(Ki.selection=null,gn.call(ni)),lc.end(fo,Ri.name)}function Hu(fo){switch(fo.keyCode){case 16:{Xs=Pi&&ua;break}case 18:{Ri===rc&&(Pi&&(di=Ji-ao*Pi,wo=ya+ao*Pi),ua&&(Ta=Za-go*ua,aa=hr+go*ua),Ri=cl,Ql(fo));break}case 32:{(Ri===rc||Ri===cl)&&(Pi<0?di=Ji-ao:Pi>0&&(wo=ya-ao),ua<0?Ta=Za-go:ua>0&&(aa=hr-go),Ri=Al,Co.attr("cursor",fn.selection),Ql(fo));break}default:return}noevent(fo)}function ju(fo){switch(fo.keyCode){case 16:{Xs&&(Bs=Oc=Xs=!1,Ql(fo));break}case 18:{Ri===cl&&(Pi<0?di=Ji:Pi>0&&(wo=ya),ua<0?Ta=Za:ua>0&&(aa=hr),Ri=rc,Ql(fo));break}case 32:{Ri===Al&&(fo.altKey?(Pi&&(di=Ji-ao*Pi,wo=ya+ao*Pi),ua&&(Ta=Za-go*ua,aa=hr+go*ua),Ri=cl):(Pi<0?di=Ji:Pi>0&&(wo=ya),ua<0?Ta=Za:ua>0&&(aa=hr),Ri=rc),Co.attr("cursor",fn[la]),Ql(fo));break}default:return}noevent(fo)}}function Ur(Ci){Bn(this,arguments).moved(Ci)}function Ea(Ci){Bn(this,arguments).ended(Ci)}function $a(){var Ci=this.__brush||{selection:null};return Ci.extent=gt(A.apply(this,arguments)),Ci.dim=l,Ci}return vn.extent=function(Ci){return arguments.length?(A=typeof Ci=="function"?Ci:constant(gt(Ci)),vn):A},vn.filter=function(Ci){return arguments.length?(re=typeof Ci=="function"?Ci:constant(!!Ci),vn):re},vn.touchable=function(Ci){return arguments.length?(xe=typeof Ci=="function"?Ci:constant(!!Ci),vn):xe},vn.handleSize=function(Ci){return arguments.length?(Et=+Ci,vn):Et},vn.keyModifiers=function(Ci){return arguments.length?(pt=!!Ci,vn):pt},vn.on=function(){var Ci=yt.on.apply(yt,arguments);return Ci===yt?vn:Ci},vn}function Uc(l){if(!l.ok)throw new Error(l.status+" "+l.statusText);return l.text()}function _d(l,A){return fetch(l,A).then(Uc)}function rl(l){return(A,re)=>_d(A,re).then(xe=>new DOMParser().parseFromString(xe,l))}var Hc=rl("application/xml"),bu=rl("text/html"),Ru=rl("image/svg+xml"),gc=Math.PI/180,td=180/Math.PI,ic=18,Dc=.96422,Pu=1,Zf=.82521,Cf=4/29,nd=6/29,ac=3*nd*nd,yu=nd*nd*nd;function _u(l){if(l instanceof kl)return new kl(l.l,l.a,l.b,l.opacity);if(l instanceof Wo)return bc(l);l instanceof ma||(l=za(l));var A=mc(l.r),re=mc(l.g),xe=mc(l.b),pt=Tf((.2225045*A+.7168786*re+.0606169*xe)/Pu),yt,Et;return A===re&&re===xe?yt=Et=pt:(yt=Tf((.4360747*A+.3850649*re+.1430804*xe)/Dc),Et=Tf((.0139322*A+.0971045*re+.7141733*xe)/Zf)),new kl(116*pt-16,500*(yt-pt),200*(pt-Et),l.opacity)}function wl(l,A){return new kl(l,0,0,A==null?1:A)}function kh(l,A,re,xe){return arguments.length===1?_u(l):new kl(l,A,re,xe==null?1:xe)}function kl(l,A,re,xe){this.l=+l,this.a=+A,this.b=+re,this.opacity=+xe}Cc(kl,kh,Rs(bl,{brighter:function(A){return new kl(this.l+ic*(A==null?1:A),this.a,this.b,this.opacity)},darker:function(A){return new kl(this.l-ic*(A==null?1:A),this.a,this.b,this.opacity)},rgb:function(){var A=(this.l+16)/116,re=isNaN(this.a)?A:A+this.a/500,xe=isNaN(this.b)?A:A-this.b/200;return re=Dc*rf(re),A=Pu*rf(A),xe=Zf*rf(xe),new ma(xd(3.1338561*re-1.6168667*A-.4906146*xe),xd(-.9787684*re+1.9161415*A+.033454*xe),xd(.0719453*re-.2289914*A+1.4052427*xe),this.opacity)}}));function Tf(l){return l>yu?Math.pow(l,1/3):l/ac+Cf}function rf(l){return l>nd?l*l*l:ac*(l-Cf)}function xd(l){return 255*(l<=.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055)}function mc(l){return(l/=255)<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function bs(l){if(l instanceof Wo)return new Wo(l.h,l.c,l.l,l.opacity);if(l instanceof kl||(l=_u(l)),l.a===0&&l.b===0)return new Wo(NaN,0<l.l&&l.l<100?0:NaN,l.l,l.opacity);var A=Math.atan2(l.b,l.a)*td;return new Wo(A<0?A+360:A,Math.sqrt(l.a*l.a+l.b*l.b),l.l,l.opacity)}function rs(l,A,re,xe){return arguments.length===1?bs(l):new Wo(re,A,l,xe==null?1:xe)}function Oa(l,A,re,xe){return arguments.length===1?bs(l):new Wo(l,A,re,xe==null?1:xe)}function Wo(l,A,re,xe){this.h=+l,this.c=+A,this.l=+re,this.opacity=+xe}function bc(l){if(isNaN(l.h))return new kl(l.l,0,0,l.opacity);var A=l.h*gc;return new kl(l.l,Math.cos(A)*l.c,Math.sin(A)*l.c,l.opacity)}Cc(Wo,Oa,Rs(bl,{brighter:function(A){return new Wo(this.h,this.c,this.l+ic*(A==null?1:A),this.opacity)},darker:function(A){return new Wo(this.h,this.c,this.l-ic*(A==null?1:A),this.opacity)},rgb:function(){return bc(this).rgb()}}));function oc(l){return function(A,re){var xe=l((A=Oa(A)).h,(re=Oa(re)).h),pt=Vl(A.c,re.c),yt=Vl(A.l,re.l),Et=Vl(A.opacity,re.opacity);return function(Pt){return A.h=xe(Pt),A.c=pt(Pt),A.l=yt(Pt),A.opacity=Et(Pt),A+""}}}var ou=oc(Mu),at=oc(Vl);const F=Math.sqrt(50),t=Math.sqrt(10),a=Math.sqrt(2);function i(l,A,re){const xe=(A-l)/Math.max(0,re),pt=Math.floor(Math.log10(xe)),yt=xe/Math.pow(10,pt),Et=yt>=F?10:yt>=t?5:yt>=a?2:1;let Pt,vn,gn;return pt<0?(gn=Math.pow(10,-pt)/Et,Pt=Math.round(l*gn),vn=Math.round(A*gn),Pt/gn<l&&++Pt,vn/gn>A&&--vn,gn=-gn):(gn=Math.pow(10,pt)*Et,Pt=Math.round(l/gn),vn=Math.round(A/gn),Pt*gn<l&&++Pt,vn*gn>A&&--vn),vn<Pt&&.5<=re&&re<2?i(l,A,re*2):[Pt,vn,gn]}function s(l,A,re){if(A=+A,l=+l,re=+re,!(re>0))return[];if(l===A)return[l];const xe=A<l,[pt,yt,Et]=xe?i(A,l,re):i(l,A,re);if(!(yt>=pt))return[];const Pt=yt-pt+1,vn=new Array(Pt);if(xe)if(Et<0)for(let gn=0;gn<Pt;++gn)vn[gn]=(yt-gn)/-Et;else for(let gn=0;gn<Pt;++gn)vn[gn]=(yt-gn)*Et;else if(Et<0)for(let gn=0;gn<Pt;++gn)vn[gn]=(pt+gn)/-Et;else for(let gn=0;gn<Pt;++gn)vn[gn]=(pt+gn)*Et;return vn}function h(l,A,re){return A=+A,l=+l,re=+re,i(l,A,re)[2]}function w(l,A,re){A=+A,l=+l,re=+re;const xe=A<l,pt=xe?h(A,l,re):h(l,A,re);return(xe?-1:1)*(pt<0?1/-pt:pt)}function I(l,A){return l==null||A==null?NaN:l<A?-1:l>A?1:l>=A?0:NaN}function B(l,A){return l==null||A==null?NaN:A<l?-1:A>l?1:A>=l?0:NaN}function W(l){let A,re,xe;l.length!==2?(A=I,re=(Pt,vn)=>I(l(Pt),vn),xe=(Pt,vn)=>l(Pt)-vn):(A=l===I||l===B?l:G,re=l,xe=l);function pt(Pt,vn,gn=0,Bn=Pt.length){if(gn<Bn){if(A(vn,vn)!==0)return Bn;do{const Dr=gn+Bn>>>1;re(Pt[Dr],vn)<0?gn=Dr+1:Bn=Dr}while(gn<Bn)}return gn}function yt(Pt,vn,gn=0,Bn=Pt.length){if(gn<Bn){if(A(vn,vn)!==0)return Bn;do{const Dr=gn+Bn>>>1;re(Pt[Dr],vn)<=0?gn=Dr+1:Bn=Dr}while(gn<Bn)}return gn}function Et(Pt,vn,gn=0,Bn=Pt.length){const Dr=pt(Pt,vn,gn,Bn-1);return Dr>gn&&xe(Pt[Dr-1],vn)>-xe(Pt[Dr],vn)?Dr-1:Dr}return{left:pt,center:Et,right:yt}}function G(){return 0}function H(l){return l===null?NaN:+l}function*he(l,A){if(A===void 0)for(let re of l)re!=null&&(re=+re)>=re&&(yield re);else{let re=-1;for(let xe of l)(xe=A(xe,++re,l))!=null&&(xe=+xe)>=xe&&(yield xe)}}const ge=W(I),Oe=ge.right,rt=ge.left,bt=W(H).center;var Ct=Oe,Dt=f(69946);function Ot(l,A){return(isNumberArray(A)?numberArray:Bt)(l,A)}function Bt(l,A){var re=A?A.length:0,xe=l?Math.min(re,l.length):0,pt=new Array(xe),yt=new Array(re),Et;for(Et=0;Et<xe;++Et)pt[Et]=rr(l[Et],A[Et]);for(;Et<re;++Et)yt[Et]=A[Et];return function(Pt){for(Et=0;Et<xe;++Et)yt[Et]=pt[Et](Pt);return yt}}function Nt(l,A){var re=new Date;return l=+l,A=+A,function(xe){return re.setTime(l*(1-xe)+A*xe),re}}function In(l,A){var re={},xe={},pt;(l===null||Dt(l)!=="object")&&(l={}),(A===null||Dt(A)!=="object")&&(A={});for(pt in A)pt in l?re[pt]=rr(l[pt],A[pt]):xe[pt]=A[pt];return function(yt){for(pt in re)xe[pt]=re[pt](yt);return xe}}function en(l,A){A||(A=[]);var re=l?Math.min(A.length,l.length):0,xe=A.slice(),pt;return function(yt){for(pt=0;pt<re;++pt)xe[pt]=l[pt]*(1-yt)+A[pt]*yt;return xe}}function Fn(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function rr(l,A){var re=Dt(A),xe;return A==null||re==="boolean"?Tl(A):(re==="number"?gs:re==="string"?(xe=Jr(A))?(A=xe,hd):pd:A instanceof Jr?hd:A instanceof Date?Nt:Fn(A)?en:Array.isArray(A)?Bt:typeof A.valueOf!="function"&&typeof A.toString!="function"||isNaN(A)?In:gs)(l,A)}function Yn(l,A){return l=+l,A=+A,function(re){return Math.round(l*(1-re)+A*re)}}function ur(l){return function(){return l}}function xr(l){return+l}var Lr=[0,1];function er(l){return l}function Rr(l,A){return(A-=l=+l)?function(re){return(re-l)/A}:ur(isNaN(A)?NaN:.5)}function Wi(l,A){var re;return l>A&&(re=l,l=A,A=re),function(xe){return Math.max(l,Math.min(A,xe))}}function ai(l,A,re){var xe=l[0],pt=l[1],yt=A[0],Et=A[1];return pt<xe?(xe=Rr(pt,xe),yt=re(Et,yt)):(xe=Rr(xe,pt),yt=re(yt,Et)),function(Pt){return yt(xe(Pt))}}function ra(l,A,re){var xe=Math.min(l.length,A.length)-1,pt=new Array(xe),yt=new Array(xe),Et=-1;for(l[xe]<l[0]&&(l=l.slice().reverse(),A=A.slice().reverse());++Et<xe;)pt[Et]=Rr(l[Et],l[Et+1]),yt[Et]=re(A[Et],A[Et+1]);return function(Pt){var vn=Ct(l,Pt,1,xe)-1;return yt[vn](pt[vn](Pt))}}function ea(l,A){return A.domain(l.domain()).range(l.range()).interpolate(l.interpolate()).clamp(l.clamp()).unknown(l.unknown())}function pa(){var l=Lr,A=Lr,re=rr,xe,pt,yt,Et=er,Pt,vn,gn;function Bn(){var gr=Math.min(l.length,A.length);return Et!==er&&(Et=Wi(l[0],l[gr-1])),Pt=gr>2?ra:ai,vn=gn=null,Dr}function Dr(gr){return gr==null||isNaN(gr=+gr)?yt:(vn||(vn=Pt(l.map(xe),A,re)))(xe(Et(gr)))}return Dr.invert=function(gr){return Et(pt((gn||(gn=Pt(A,l.map(xe),gs)))(gr)))},Dr.domain=function(gr){return arguments.length?(l=Array.from(gr,xr),Bn()):l.slice()},Dr.range=function(gr){return arguments.length?(A=Array.from(gr),Bn()):A.slice()},Dr.rangeRound=function(gr){return A=Array.from(gr),re=Yn,Bn()},Dr.clamp=function(gr){return arguments.length?(Et=gr?!0:er,Bn()):Et!==er},Dr.interpolate=function(gr){return arguments.length?(re=gr,Bn()):re},Dr.unknown=function(gr){return arguments.length?(yt=gr,Dr):yt},function(gr,Ur){return xe=gr,pt=Ur,Bn()}}function ro(){return pa()(er,er)}function io(l,A){switch(arguments.length){case 0:break;case 1:this.range(l);break;default:this.range(A).domain(l);break}return this}function ka(l,A){switch(arguments.length){case 0:break;case 1:{typeof l=="function"?this.interpolator(l):this.range(l);break}default:{this.domain(l),typeof A=="function"?this.interpolator(A):this.range(A);break}}return this}var To=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Aa(l){if(!(A=To.exec(l)))throw new Error("invalid format: "+l);var A;return new Xi({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}Aa.prototype=Xi.prototype;function Xi(l){this.fill=l.fill===void 0?" ":l.fill+"",this.align=l.align===void 0?">":l.align+"",this.sign=l.sign===void 0?"-":l.sign+"",this.symbol=l.symbol===void 0?"":l.symbol+"",this.zero=!!l.zero,this.width=l.width===void 0?void 0:+l.width,this.comma=!!l.comma,this.precision=l.precision===void 0?void 0:+l.precision,this.trim=!!l.trim,this.type=l.type===void 0?"":l.type+""}Xi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zi(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)}function Ui(l,A){if((re=(l=A?l.toExponential(A-1):l.toExponential()).indexOf("e"))<0)return null;var re,xe=l.slice(0,re);return[xe.length>1?xe[0]+xe.slice(2):xe,+l.slice(re+1)]}function va(l){return l=Ui(Math.abs(l)),l?l[1]:NaN}function Pa(l,A){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(va(A)/3)))*3-va(Math.abs(l)))}function Sa(l,A){return function(re,xe){for(var pt=re.length,yt=[],Et=0,Pt=l[0],vn=0;pt>0&&Pt>0&&(vn+Pt+1>xe&&(Pt=Math.max(1,xe-vn)),yt.push(re.substring(pt-=Pt,pt+Pt)),!((vn+=Pt+1)>xe));)Pt=l[Et=(Et+1)%l.length];return yt.reverse().join(A)}}function xa(l){return function(A){return A.replace(/[0-9]/g,function(re){return l[+re]})}}function Qo(l){e:for(var A=l.length,re=1,xe=-1,pt;re<A;++re)switch(l[re]){case".":xe=pt=re;break;case"0":xe===0&&(xe=re),pt=re;break;default:if(!+l[re])break e;xe>0&&(xe=0);break}return xe>0?l.slice(0,xe)+l.slice(pt+1):l}var so;function Ho(l,A){var re=Ui(l,A);if(!re)return l+"";var xe=re[0],pt=re[1],yt=pt-(so=Math.max(-8,Math.min(8,Math.floor(pt/3)))*3)+1,Et=xe.length;return yt===Et?xe:yt>Et?xe+new Array(yt-Et+1).join("0"):yt>0?xe.slice(0,yt)+"."+xe.slice(yt):"0."+new Array(1-yt).join("0")+Ui(l,Math.max(0,A+yt-1))[0]}function is(l,A){var re=Ui(l,A);if(!re)return l+"";var xe=re[0],pt=re[1];return pt<0?"0."+new Array(-pt).join("0")+xe:xe.length>pt+1?xe.slice(0,pt+1)+"."+xe.slice(pt+1):xe+new Array(pt-xe.length+2).join("0")}var ds={"%":(l,A)=>(l*100).toFixed(A),b:l=>Math.round(l).toString(2),c:l=>l+"",d:Zi,e:(l,A)=>l.toExponential(A),f:(l,A)=>l.toFixed(A),g:(l,A)=>l.toPrecision(A),o:l=>Math.round(l).toString(8),p:(l,A)=>is(l*100,A),r:is,s:Ho,X:l=>Math.round(l).toString(16).toUpperCase(),x:l=>Math.round(l).toString(16)};function ys(l){return l}var qa=Array.prototype.map,oa=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Qa(l){var A=l.grouping===void 0||l.thousands===void 0?ys:Sa(qa.call(l.grouping,Number),l.thousands+""),re=l.currency===void 0?"":l.currency[0]+"",xe=l.currency===void 0?"":l.currency[1]+"",pt=l.decimal===void 0?".":l.decimal+"",yt=l.numerals===void 0?ys:xa(qa.call(l.numerals,String)),Et=l.percent===void 0?"%":l.percent+"",Pt=l.minus===void 0?"\u2212":l.minus+"",vn=l.nan===void 0?"NaN":l.nan+"";function gn(Dr){Dr=Aa(Dr);var gr=Dr.fill,Ur=Dr.align,Ea=Dr.sign,$a=Dr.symbol,Ci=Dr.zero,ni=Dr.width,la=Dr.comma,Ri=Dr.precision,Pi=Dr.trim,ua=Dr.type;ua==="n"?(la=!0,ua="g"):ds[ua]||(Ri===void 0&&(Ri=12),Pi=!0,ua="g"),(Ci||gr==="0"&&Ur==="=")&&(Ci=!0,gr="0",Ur="=");var Ki=$a==="$"?re:$a==="#"&&/[boxX]/.test(ua)?"0"+ua.toLowerCase():"",Xa=$a==="$"?xe:/[%p]/.test(ua)?Et:"",Mo=ds[ua],Ss=/[defgprs%]/.test(ua);Ri=Ri===void 0?6:/[gprs]/.test(ua)?Math.max(1,Math.min(21,Ri)):Math.max(0,Math.min(20,Ri));function wo(ya){var lo=Ki,aa=Xa,hr,da,di;if(ua==="c")aa=Mo(ya)+aa,ya="";else{ya=+ya;var Ji=ya<0||1/ya<0;if(ya=isNaN(ya)?vn:Mo(Math.abs(ya),Ri),Pi&&(ya=Qo(ya)),Ji&&+ya==0&&Ea!=="+"&&(Ji=!1),lo=(Ji?Ea==="("?Ea:Pt:Ea==="-"||Ea==="("?"":Ea)+lo,aa=(ua==="s"?oa[8+so/3]:"")+aa+(Ji&&Ea==="("?")":""),Ss){for(hr=-1,da=ya.length;++hr<da;)if(di=ya.charCodeAt(hr),48>di||di>57){aa=(di===46?pt+ya.slice(hr+1):ya.slice(hr))+aa,ya=ya.slice(0,hr);break}}}la&&!Ci&&(ya=A(ya,1/0));var Na=lo.length+ya.length+aa.length,Ta=Na<ni?new Array(ni-Na+1).join(gr):"";switch(la&&Ci&&(ya=A(Ta+ya,Ta.length?ni-aa.length:1/0),Ta=""),Ur){case"<":ya=lo+ya+aa+Ta;break;case"=":ya=lo+Ta+ya+aa;break;case"^":ya=Ta.slice(0,Na=Ta.length>>1)+lo+ya+aa+Ta.slice(Na);break;default:ya=Ta+lo+ya+aa;break}return yt(ya)}return wo.toString=function(){return Dr+""},wo}function Bn(Dr,gr){var Ur=gn((Dr=Aa(Dr),Dr.type="f",Dr)),Ea=Math.max(-8,Math.min(8,Math.floor(va(gr)/3)))*3,$a=Math.pow(10,-Ea),Ci=oa[8+Ea/3];return function(ni){return Ur($a*ni)+Ci}}return{format:gn,formatPrefix:Bn}}var So,qs,Bl;jc({thousands:",",grouping:[3],currency:["$",""]});function jc(l){return So=Qa(l),qs=So.format,Bl=So.formatPrefix,So}function Ic(l,A){return l=Math.abs(l),A=Math.abs(A)-l,Math.max(0,va(A)-va(l))+1}function rd(l){return Math.max(0,-va(Math.abs(l)))}function su(l,A,re,xe){var pt=w(l,A,re),yt;switch(xe=Aa(xe==null?",f":xe),xe.type){case"s":{var Et=Math.max(Math.abs(l),Math.abs(A));return xe.precision==null&&!isNaN(yt=Pa(pt,Et))&&(xe.precision=yt),Bl(xe,Et)}case"":case"e":case"g":case"p":case"r":{xe.precision==null&&!isNaN(yt=Ic(pt,Math.max(Math.abs(l),Math.abs(A))))&&(xe.precision=yt-(xe.type==="e"));break}case"f":case"%":{xe.precision==null&&!isNaN(yt=rd(pt))&&(xe.precision=yt-(xe.type==="%")*2);break}}return qs(xe)}function id(l){var A=l.domain;return l.ticks=function(re){var xe=A();return s(xe[0],xe[xe.length-1],re==null?10:re)},l.tickFormat=function(re,xe){var pt=A();return su(pt[0],pt[pt.length-1],re==null?10:re,xe)},l.nice=function(re){re==null&&(re=10);var xe=A(),pt=0,yt=xe.length-1,Et=xe[pt],Pt=xe[yt],vn,gn,Bn=10;for(Pt<Et&&(gn=Et,Et=Pt,Pt=gn,gn=pt,pt=yt,yt=gn);Bn-- >0;){if(gn=h(Et,Pt,re),gn===vn)return xe[pt]=Et,xe[yt]=Pt,A(xe);if(gn>0)Et=Math.floor(Et/gn)*gn,Pt=Math.ceil(Pt/gn)*gn;else if(gn<0)Et=Math.ceil(Et*gn)/gn,Pt=Math.floor(Pt*gn)/gn;else break;vn=gn}return l},l}function lu(){var l=ro();return l.copy=function(){return ea(l,lu())},io.apply(l,arguments),id(l)}class Bu extends Map{constructor(A,re=Vc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:re}}),A!=null)for(const[xe,pt]of A)this.set(xe,pt)}get(A){return super.get(xu(this,A))}has(A){return super.has(xu(this,A))}set(A,re){return super.set(Od(this,A),re)}delete(A){return super.delete(Yl(this,A))}}class Ld extends Set{constructor(A,re=Vc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:re}}),A!=null)for(const xe of A)this.add(xe)}has(A){return super.has(xu(this,A))}add(A){return super.add(Od(this,A))}delete(A){return super.delete(Yl(this,A))}}function xu({_intern:l,_key:A},re){const xe=A(re);return l.has(xe)?l.get(xe):re}function Od({_intern:l,_key:A},re){const xe=A(re);return l.has(xe)?l.get(xe):(l.set(xe,re),re)}function Yl({_intern:l,_key:A},re){const xe=A(re);return l.has(xe)&&(re=l.get(xe),l.delete(xe)),re}function Vc(l){return l!==null&&typeof l=="object"?l.valueOf():l}const Fu=Symbol("implicit");function Kl(){var l=new Bu,A=[],re=[],xe=Fu;function pt(yt){let Et=l.get(yt);if(Et===void 0){if(xe!==Fu)return xe;l.set(yt,Et=A.push(yt)-1)}return re[Et%re.length]}return pt.domain=function(yt){if(!arguments.length)return A.slice();A=[],l=new Bu;for(const Et of yt)l.has(Et)||l.set(Et,A.push(Et)-1);return pt},pt.range=function(yt){return arguments.length?(re=Array.from(yt),pt):re.slice()},pt.unknown=function(yt){return arguments.length?(xe=yt,pt):xe},pt.copy=function(){return Kl(A,re).unknown(xe)},io.apply(pt,arguments),pt}const Us=1e3,Oo=Us*60,xo=Oo*60,_s=xo*24,Ml=_s*7,zf=_s*30,Is=_s*365,ad=new Date,cu=new Date;function ul(l,A,re,xe){function pt(yt){return l(yt=arguments.length===0?new Date:new Date(+yt)),yt}return pt.floor=yt=>(l(yt=new Date(+yt)),yt),pt.ceil=yt=>(l(yt=new Date(yt-1)),A(yt,1),l(yt),yt),pt.round=yt=>{const Et=pt(yt),Pt=pt.ceil(yt);return yt-Et<Pt-yt?Et:Pt},pt.offset=(yt,Et)=>(A(yt=new Date(+yt),Et==null?1:Math.floor(Et)),yt),pt.range=(yt,Et,Pt)=>{const vn=[];if(yt=pt.ceil(yt),Pt=Pt==null?1:Math.floor(Pt),!(yt<Et)||!(Pt>0))return vn;let gn;do vn.push(gn=new Date(+yt)),A(yt,Pt),l(yt);while(gn<yt&&yt<Et);return vn},pt.filter=yt=>ul(Et=>{if(Et>=Et)for(;l(Et),!yt(Et);)Et.setTime(Et-1)},(Et,Pt)=>{if(Et>=Et)if(Pt<0)for(;++Pt<=0;)for(;A(Et,-1),!yt(Et););else for(;--Pt>=0;)for(;A(Et,1),!yt(Et););}),re&&(pt.count=(yt,Et)=>(ad.setTime(+yt),cu.setTime(+Et),l(ad),l(cu),Math.floor(re(ad,cu))),pt.every=yt=>(yt=Math.floor(yt),!isFinite(yt)||!(yt>0)?null:yt>1?pt.filter(xe?Et=>xe(Et)%yt===0:Et=>pt.count(0,Et)%yt===0):pt)),pt}const Zu=ul(()=>{},(l,A)=>{l.setTime(+l+A)},(l,A)=>A-l);Zu.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?ul(A=>{A.setTime(Math.floor(A/l)*l)},(A,re)=>{A.setTime(+A+re*l)},(A,re)=>(re-A)/l):Zu);const Eh=Zu.range,od=ul(l=>{l.setTime(l-l.getMilliseconds())},(l,A)=>{l.setTime(+l+A*Us)},(l,A)=>(A-l)/Us,l=>l.getUTCSeconds()),Ch=od.range,Wf=ul(l=>{l.setTime(l-l.getMilliseconds()-l.getSeconds()*Us)},(l,A)=>{l.setTime(+l+A*Oo)},(l,A)=>(A-l)/Oo,l=>l.getMinutes()),Th=Wf.range,Sf=ul(l=>{l.setUTCSeconds(0,0)},(l,A)=>{l.setTime(+l+A*Oo)},(l,A)=>(A-l)/Oo,l=>l.getUTCMinutes()),ah=Sf.range,Nd=ul(l=>{l.setTime(l-l.getMilliseconds()-l.getSeconds()*Us-l.getMinutes()*Oo)},(l,A)=>{l.setTime(+l+A*xo)},(l,A)=>(A-l)/xo,l=>l.getHours()),Uf=Nd.range,Hf=ul(l=>{l.setUTCMinutes(0,0,0)},(l,A)=>{l.setTime(+l+A*xo)},(l,A)=>(A-l)/xo,l=>l.getUTCHours()),jh=Hf.range,zu=ul(l=>l.setHours(0,0,0,0),(l,A)=>l.setDate(l.getDate()+A),(l,A)=>(A-l-(A.getTimezoneOffset()-l.getTimezoneOffset())*Oo)/_s,l=>l.getDate()-1),af=zu.range,Af=ul(l=>{l.setUTCHours(0,0,0,0)},(l,A)=>{l.setUTCDate(l.getUTCDate()+A)},(l,A)=>(A-l)/_s,l=>l.getUTCDate()-1),jf=Af.range,of=ul(l=>{l.setUTCHours(0,0,0,0)},(l,A)=>{l.setUTCDate(l.getUTCDate()+A)},(l,A)=>(A-l)/_s,l=>Math.floor(l/_s)),oh=of.range;function uo(l){return ul(A=>{A.setDate(A.getDate()-(A.getDay()+7-l)%7),A.setHours(0,0,0,0)},(A,re)=>{A.setDate(A.getDate()+re*7)},(A,re)=>(re-A-(re.getTimezoneOffset()-A.getTimezoneOffset())*Oo)/Ml)}const ba=uo(0),vo=uo(1),Wu=uo(2),uu=uo(3),Dl=uo(4),Vf=uo(5),wu=uo(6),Rd=ba.range,sh=vo.range,Gp=Wu.range,Tp=uu.range,qp=Dl.range,Vh=Vf.range,Sh=wu.range;function Pd(l){return ul(A=>{A.setUTCDate(A.getUTCDate()-(A.getUTCDay()+7-l)%7),A.setUTCHours(0,0,0,0)},(A,re)=>{A.setUTCDate(A.getUTCDate()+re*7)},(A,re)=>(re-A)/Ml)}const fs=Pd(0),lh=Pd(1),Sp=Pd(2),Yf=Pd(3),Kf=Pd(4),ch=Pd(5),Ap=Pd(6),Il=fs.range,$p=lh.range,Xp=Sp.range,Mp=Yf.range,Ah=Kf.range,r=ch.range,o=Ap.range,C=ul(l=>{l.setDate(1),l.setHours(0,0,0,0)},(l,A)=>{l.setMonth(l.getMonth()+A)},(l,A)=>A.getMonth()-l.getMonth()+(A.getFullYear()-l.getFullYear())*12,l=>l.getMonth()),k=C.range,N=ul(l=>{l.setUTCDate(1),l.setUTCHours(0,0,0,0)},(l,A)=>{l.setUTCMonth(l.getUTCMonth()+A)},(l,A)=>A.getUTCMonth()-l.getUTCMonth()+(A.getUTCFullYear()-l.getUTCFullYear())*12,l=>l.getUTCMonth()),ie=N.range,Se=ul(l=>{l.setMonth(0,1),l.setHours(0,0,0,0)},(l,A)=>{l.setFullYear(l.getFullYear()+A)},(l,A)=>A.getFullYear()-l.getFullYear(),l=>l.getFullYear());Se.every=l=>!isFinite(l=Math.floor(l))||!(l>0)?null:ul(A=>{A.setFullYear(Math.floor(A.getFullYear()/l)*l),A.setMonth(0,1),A.setHours(0,0,0,0)},(A,re)=>{A.setFullYear(A.getFullYear()+re*l)});const Ne=Se.range,st=ul(l=>{l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},(l,A)=>{l.setUTCFullYear(l.getUTCFullYear()+A)},(l,A)=>A.getUTCFullYear()-l.getUTCFullYear(),l=>l.getUTCFullYear());st.every=l=>!isFinite(l=Math.floor(l))||!(l>0)?null:ul(A=>{A.setUTCFullYear(Math.floor(A.getUTCFullYear()/l)*l),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},(A,re)=>{A.setUTCFullYear(A.getUTCFullYear()+re*l)});const xt=st.range;function ln(l,A,re,xe,pt,yt){const Et=[[od,1,Us],[od,5,5*Us],[od,15,15*Us],[od,30,30*Us],[yt,1,Oo],[yt,5,5*Oo],[yt,15,15*Oo],[yt,30,30*Oo],[pt,1,xo],[pt,3,3*xo],[pt,6,6*xo],[pt,12,12*xo],[xe,1,_s],[xe,2,2*_s],[re,1,Ml],[A,1,zf],[A,3,3*zf],[l,1,Is]];function Pt(gn,Bn,Dr){const gr=Bn<gn;gr&&([gn,Bn]=[Bn,gn]);const Ur=Dr&&typeof Dr.range=="function"?Dr:vn(gn,Bn,Dr),Ea=Ur?Ur.range(gn,+Bn+1):[];return gr?Ea.reverse():Ea}function vn(gn,Bn,Dr){const gr=Math.abs(Bn-gn)/Dr,Ur=W(([,,Ci])=>Ci).right(Et,gr);if(Ur===Et.length)return l.every(w(gn/Is,Bn/Is,Dr));if(Ur===0)return Zu.every(Math.max(w(gn,Bn,Dr),1));const[Ea,$a]=Et[gr/Et[Ur-1][2]<Et[Ur][2]/gr?Ur-1:Ur];return Ea.every($a)}return[Pt,vn]}const[An,dr]=ln(st,N,fs,of,Hf,Sf),[qn,Wr]=ln(Se,C,ba,zu,Nd,Wf);function ri(l){if(0<=l.y&&l.y<100){var A=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return A.setFullYear(l.y),A}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function wi(l){if(0<=l.y&&l.y<100){var A=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return A.setUTCFullYear(l.y),A}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function ji(l,A,re){return{y:l,m:A,d:re,H:0,M:0,S:0,L:0}}function ia(l){var A=l.dateTime,re=l.date,xe=l.time,pt=l.periods,yt=l.days,Et=l.shortDays,Pt=l.months,vn=l.shortMonths,gn=dl(pt),Bn=Ts(pt),Dr=dl(yt),gr=Ts(yt),Ur=dl(Et),Ea=Ts(Et),$a=dl(Pt),Ci=Ts(Pt),ni=dl(vn),la=Ts(vn),Ri={a:Ji,A:Na,b:Ta,B:Za,c:null,d:uh,e:uh,f:T0,g:t0,G:L0,H:Dp,I:Yh,j:C0,L:Qp,m:S0,M:A0,p:ao,q:go,Q:o0,s:z0,S:Jp,u:M0,U:D0,V:e0,w:fv,W:hv,x:null,X:null,y:Dh,Y:I0,Z:O0,"%":Z0},Pi={a:xc,A:Xs,b:Bs,B:Oc,c:null,d:Kh,e:Kh,f:Op,g:F0,G:gv,H:n0,I:r0,j:N0,L:Lp,m:cp,M:up,p:Ls,q:lc,Q:o0,s:z0,S:dp,u:Gh,U:R0,V:i0,w:B0,W:pv,x:null,X:null,y:a0,Y:vv,Z:mv,"%":Z0},ua={a:wo,A:ya,b:lo,B:aa,c:hr,d:ku,e:ku,f:Mf,g:Hs,G:$s,H:sd,I:sd,j:Fl,L:Fd,m:Bd,M:Ll,p:Ss,q:$l,Q:yc,s:sf,S:Mh,u:Gl,U:Ao,V:sc,w:Yc,W:ql,x:da,X:di,y:Hs,Y:$s,Z:fl,"%":Df};Ri.x=Ki(re,Ri),Ri.X=Ki(xe,Ri),Ri.c=Ki(A,Ri),Pi.x=Ki(re,Pi),Pi.X=Ki(xe,Pi),Pi.c=Ki(A,Pi);function Ki(wa,Co){return function(Go){var Gi=[],Ql=-1,js=0,Hu=wa.length,ju,fo,Jl;for(Go instanceof Date||(Go=new Date(+Go));++Ql<Hu;)wa.charCodeAt(Ql)===37&&(Gi.push(wa.slice(js,Ql)),(fo=Qi[ju=wa.charAt(++Ql)])!=null?ju=wa.charAt(++Ql):fo=ju==="e"?" ":"0",(Jl=Co[ju])&&(ju=Jl(Go,fo)),Gi.push(ju),js=Ql+1);return Gi.push(wa.slice(js,Ql)),Gi.join("")}}function Xa(wa,Co){return function(Go){var Gi=ji(1900,void 0,1),Ql=Mo(Gi,wa,Go+="",0),js,Hu;if(Ql!=Go.length)return null;if("Q"in Gi)return new Date(Gi.Q);if("s"in Gi)return new Date(Gi.s*1e3+("L"in Gi?Gi.L:0));if(Co&&!("Z"in Gi)&&(Gi.Z=0),"p"in Gi&&(Gi.H=Gi.H%12+Gi.p*12),Gi.m===void 0&&(Gi.m="q"in Gi?Gi.q:0),"V"in Gi){if(Gi.V<1||Gi.V>53)return null;"w"in Gi||(Gi.w=1),"Z"in Gi?(js=wi(ji(Gi.y,0,1)),Hu=js.getUTCDay(),js=Hu>4||Hu===0?lh.ceil(js):lh(js),js=Af.offset(js,(Gi.V-1)*7),Gi.y=js.getUTCFullYear(),Gi.m=js.getUTCMonth(),Gi.d=js.getUTCDate()+(Gi.w+6)%7):(js=ri(ji(Gi.y,0,1)),Hu=js.getDay(),js=Hu>4||Hu===0?vo.ceil(js):vo(js),js=zu.offset(js,(Gi.V-1)*7),Gi.y=js.getFullYear(),Gi.m=js.getMonth(),Gi.d=js.getDate()+(Gi.w+6)%7)}else("W"in Gi||"U"in Gi)&&("w"in Gi||(Gi.w="u"in Gi?Gi.u%7:"W"in Gi?1:0),Hu="Z"in Gi?wi(ji(Gi.y,0,1)).getUTCDay():ri(ji(Gi.y,0,1)).getDay(),Gi.m=0,Gi.d="W"in Gi?(Gi.w+6)%7+Gi.W*7-(Hu+5)%7:Gi.w+Gi.U*7-(Hu+6)%7);return"Z"in Gi?(Gi.H+=Gi.Z/100|0,Gi.M+=Gi.Z%100,wi(Gi)):ri(Gi)}}function Mo(wa,Co,Go,Gi){for(var Ql=0,js=Co.length,Hu=Go.length,ju,fo;Ql<js;){if(Gi>=Hu)return-1;if(ju=Co.charCodeAt(Ql++),ju===37){if(ju=Co.charAt(Ql++),fo=ua[ju in Qi?Co.charAt(Ql++):ju],!fo||(Gi=fo(wa,Go,Gi))<0)return-1}else if(ju!=Go.charCodeAt(Gi++))return-1}return Gi}function Ss(wa,Co,Go){var Gi=gn.exec(Co.slice(Go));return Gi?(wa.p=Bn.get(Gi[0].toLowerCase()),Go+Gi[0].length):-1}function wo(wa,Co,Go){var Gi=Ur.exec(Co.slice(Go));return Gi?(wa.w=Ea.get(Gi[0].toLowerCase()),Go+Gi[0].length):-1}function ya(wa,Co,Go){var Gi=Dr.exec(Co.slice(Go));return Gi?(wa.w=gr.get(Gi[0].toLowerCase()),Go+Gi[0].length):-1}function lo(wa,Co,Go){var Gi=ni.exec(Co.slice(Go));return Gi?(wa.m=la.get(Gi[0].toLowerCase()),Go+Gi[0].length):-1}function aa(wa,Co,Go){var Gi=$a.exec(Co.slice(Go));return Gi?(wa.m=Ci.get(Gi[0].toLowerCase()),Go+Gi[0].length):-1}function hr(wa,Co,Go){return Mo(wa,A,Co,Go)}function da(wa,Co,Go){return Mo(wa,re,Co,Go)}function di(wa,Co,Go){return Mo(wa,xe,Co,Go)}function Ji(wa){return Et[wa.getDay()]}function Na(wa){return yt[wa.getDay()]}function Ta(wa){return vn[wa.getMonth()]}function Za(wa){return Pt[wa.getMonth()]}function ao(wa){return pt[+(wa.getHours()>=12)]}function go(wa){return 1+~~(wa.getMonth()/3)}function xc(wa){return Et[wa.getUTCDay()]}function Xs(wa){return yt[wa.getUTCDay()]}function Bs(wa){return vn[wa.getUTCMonth()]}function Oc(wa){return Pt[wa.getUTCMonth()]}function Ls(wa){return pt[+(wa.getUTCHours()>=12)]}function lc(wa){return 1+~~(wa.getUTCMonth()/3)}return{format:function(wa){var Co=Ki(wa+="",Ri);return Co.toString=function(){return wa},Co},parse:function(wa){var Co=Xa(wa+="",!1);return Co.toString=function(){return wa},Co},utcFormat:function(wa){var Co=Ki(wa+="",Pi);return Co.toString=function(){return wa},Co},utcParse:function(wa){var Co=Xa(wa+="",!0);return Co.toString=function(){return wa},Co}}}var Qi={"-":"",_:" ",0:"0"},Vi=/^\s*\d+/,Wa=/^%/,Ia=/[\\^$*+?|[\]().{}]/g;function ha(l,A,re){var xe=l<0?"-":"",pt=(xe?-l:l)+"",yt=pt.length;return xe+(yt<re?new Array(re-yt+1).join(A)+pt:pt)}function Es(l){return l.replace(Ia,"\\$&")}function dl(l){return new RegExp("^(?:"+l.map(Es).join("|")+")","i")}function Ts(l){return new Map(l.map((A,re)=>[A.toLowerCase(),re]))}function Yc(l,A,re){var xe=Vi.exec(A.slice(re,re+1));return xe?(l.w=+xe[0],re+xe[0].length):-1}function Gl(l,A,re){var xe=Vi.exec(A.slice(re,re+1));return xe?(l.u=+xe[0],re+xe[0].length):-1}function Ao(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.U=+xe[0],re+xe[0].length):-1}function sc(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.V=+xe[0],re+xe[0].length):-1}function ql(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.W=+xe[0],re+xe[0].length):-1}function $s(l,A,re){var xe=Vi.exec(A.slice(re,re+4));return xe?(l.y=+xe[0],re+xe[0].length):-1}function Hs(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.y=+xe[0]+(+xe[0]>68?1900:2e3),re+xe[0].length):-1}function fl(l,A,re){var xe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(A.slice(re,re+6));return xe?(l.Z=xe[1]?0:-(xe[2]+(xe[3]||"00")),re+xe[0].length):-1}function $l(l,A,re){var xe=Vi.exec(A.slice(re,re+1));return xe?(l.q=xe[0]*3-3,re+xe[0].length):-1}function Bd(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.m=xe[0]-1,re+xe[0].length):-1}function ku(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.d=+xe[0],re+xe[0].length):-1}function Fl(l,A,re){var xe=Vi.exec(A.slice(re,re+3));return xe?(l.m=0,l.d=+xe[0],re+xe[0].length):-1}function sd(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.H=+xe[0],re+xe[0].length):-1}function Ll(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.M=+xe[0],re+xe[0].length):-1}function Mh(l,A,re){var xe=Vi.exec(A.slice(re,re+2));return xe?(l.S=+xe[0],re+xe[0].length):-1}function Fd(l,A,re){var xe=Vi.exec(A.slice(re,re+3));return xe?(l.L=+xe[0],re+xe[0].length):-1}function Mf(l,A,re){var xe=Vi.exec(A.slice(re,re+6));return xe?(l.L=Math.floor(xe[0]/1e3),re+xe[0].length):-1}function Df(l,A,re){var xe=Wa.exec(A.slice(re,re+1));return xe?re+xe[0].length:-1}function yc(l,A,re){var xe=Vi.exec(A.slice(re));return xe?(l.Q=+xe[0],re+xe[0].length):-1}function sf(l,A,re){var xe=Vi.exec(A.slice(re));return xe?(l.s=+xe[0],re+xe[0].length):-1}function uh(l,A){return ha(l.getDate(),A,2)}function Dp(l,A){return ha(l.getHours(),A,2)}function Yh(l,A){return ha(l.getHours()%12||12,A,2)}function C0(l,A){return ha(1+zu.count(Se(l),l),A,3)}function Qp(l,A){return ha(l.getMilliseconds(),A,3)}function T0(l,A){return Qp(l,A)+"000"}function S0(l,A){return ha(l.getMonth()+1,A,2)}function A0(l,A){return ha(l.getMinutes(),A,2)}function Jp(l,A){return ha(l.getSeconds(),A,2)}function M0(l){var A=l.getDay();return A===0?7:A}function D0(l,A){return ha(ba.count(Se(l)-1,l),A,2)}function Ip(l){var A=l.getDay();return A>=4||A===0?Dl(l):Dl.ceil(l)}function e0(l,A){return l=Ip(l),ha(Dl.count(Se(l),l)+(Se(l).getDay()===4),A,2)}function fv(l){return l.getDay()}function hv(l,A){return ha(vo.count(Se(l)-1,l),A,2)}function Dh(l,A){return ha(l.getFullYear()%100,A,2)}function t0(l,A){return l=Ip(l),ha(l.getFullYear()%100,A,2)}function I0(l,A){return ha(l.getFullYear()%1e4,A,4)}function L0(l,A){var re=l.getDay();return l=re>=4||re===0?Dl(l):Dl.ceil(l),ha(l.getFullYear()%1e4,A,4)}function O0(l){var A=l.getTimezoneOffset();return(A>0?"-":(A*=-1,"+"))+ha(A/60|0,"0",2)+ha(A%60,"0",2)}function Kh(l,A){return ha(l.getUTCDate(),A,2)}function n0(l,A){return ha(l.getUTCHours(),A,2)}function r0(l,A){return ha(l.getUTCHours()%12||12,A,2)}function N0(l,A){return ha(1+Af.count(st(l),l),A,3)}function Lp(l,A){return ha(l.getUTCMilliseconds(),A,3)}function Op(l,A){return Lp(l,A)+"000"}function cp(l,A){return ha(l.getUTCMonth()+1,A,2)}function up(l,A){return ha(l.getUTCMinutes(),A,2)}function dp(l,A){return ha(l.getUTCSeconds(),A,2)}function Gh(l){var A=l.getUTCDay();return A===0?7:A}function R0(l,A){return ha(fs.count(st(l)-1,l),A,2)}function P0(l){var A=l.getUTCDay();return A>=4||A===0?Kf(l):Kf.ceil(l)}function i0(l,A){return l=P0(l),ha(Kf.count(st(l),l)+(st(l).getUTCDay()===4),A,2)}function B0(l){return l.getUTCDay()}function pv(l,A){return ha(lh.count(st(l)-1,l),A,2)}function a0(l,A){return ha(l.getUTCFullYear()%100,A,2)}function F0(l,A){return l=P0(l),ha(l.getUTCFullYear()%100,A,2)}function vv(l,A){return ha(l.getUTCFullYear()%1e4,A,4)}function gv(l,A){var re=l.getUTCDay();return l=re>=4||re===0?Kf(l):Kf.ceil(l),ha(l.getUTCFullYear()%1e4,A,4)}function mv(){return"+0000"}function Z0(){return"%"}function o0(l){return+l}function z0(l){return Math.floor(+l/1e3)}var Ih,fp,W0,U0,s0;Uu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uu(l){return Ih=ia(l),fp=Ih.format,W0=Ih.parse,U0=Ih.utcFormat,s0=Ih.utcParse,Ih}function du(l,A){l=l.slice();var re=0,xe=l.length-1,pt=l[re],yt=l[xe],Et;return yt<pt&&(Et=re,re=xe,xe=Et,Et=pt,pt=yt,yt=Et),l[re]=A.floor(pt),l[xe]=A.ceil(yt),l}function Xl(l){return new Date(l)}function If(l){return l instanceof Date?+l:+new Date(+l)}function jo(l,A,re,xe,pt,yt,Et,Pt,vn,gn){var Bn=ro(),Dr=Bn.invert,gr=Bn.domain,Ur=gn(".%L"),Ea=gn(":%S"),$a=gn("%I:%M"),Ci=gn("%I %p"),ni=gn("%a %d"),la=gn("%b %d"),Ri=gn("%B"),Pi=gn("%Y");function ua(Ki){return(vn(Ki)<Ki?Ur:Pt(Ki)<Ki?Ea:Et(Ki)<Ki?$a:yt(Ki)<Ki?Ci:xe(Ki)<Ki?pt(Ki)<Ki?ni:la:re(Ki)<Ki?Ri:Pi)(Ki)}return Bn.invert=function(Ki){return new Date(Dr(Ki))},Bn.domain=function(Ki){return arguments.length?gr(Array.from(Ki,If)):gr().map(Xl)},Bn.ticks=function(Ki){var Xa=gr();return l(Xa[0],Xa[Xa.length-1],Ki==null?10:Ki)},Bn.tickFormat=function(Ki,Xa){return Xa==null?ua:gn(Xa)},Bn.nice=function(Ki){var Xa=gr();return(!Ki||typeof Ki.range!="function")&&(Ki=A(Xa[0],Xa[Xa.length-1],Ki==null?10:Ki)),Ki?gr(du(Xa,Ki)):Bn},Bn.copy=function(){return ea(Bn,jo(l,A,re,xe,pt,yt,Et,Pt,vn,gn))},Bn}function Zd(){return io.apply(jo(qn,Wr,Se,C,ba,zu,Nd,Wf,od,fp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Np(l){return typeof l=="string"?new bi([[document.querySelector(l)]],[document.documentElement]):new bi([[l]],Bi)}function H0(l){return typeof l=="string"?new bi([document.querySelectorAll(l)],[document.documentElement]):new bi([De(l)],Bi)}function hl(l){return function(){return l}}const l0=Math.abs,Kc=Math.atan2,Gf=Math.cos,qh=Math.max,Lh=Math.min,lf=Math.sin,dh=Math.sqrt,Gc=1e-12,$h=Math.PI,cf=$h/2,ld=2*$h;function Xh(l){return l>1?0:l<-1?$h:Math.acos(l)}function c0(l){return l>=1?cf:l<=-1?-cf:Math.asin(l)}const hp=Math.PI,Rp=2*hp,Oh=1e-6,Qh=Rp-Oh;function R(l){this._+=l[0];for(let A=1,re=l.length;A<re;++A)this._+=arguments[A]+l[A]}function Z(l){let A=Math.floor(l);if(!(A>=0))throw new Error(`invalid digits: ${l}`);if(A>15)return R;const re=kb(10,A);return function(xe){this._+=xe[0];for(let pt=1,yt=xe.length;pt<yt;++pt)this._+=Math.round(arguments[pt]*re)/re+xe[pt]}}class Q{constructor(A){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=A==null?R:Z(A)}moveTo(A,re){this._append`M${this._x0=this._x1=+A},${this._y0=this._y1=+re}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(A,re){this._append`L${this._x1=+A},${this._y1=+re}`}quadraticCurveTo(A,re,xe,pt){this._append`Q${+A},${+re},${this._x1=+xe},${this._y1=+pt}`}bezierCurveTo(A,re,xe,pt,yt,Et){this._append`C${+A},${+re},${+xe},${+pt},${this._x1=+yt},${this._y1=+Et}`}arcTo(A,re,xe,pt,yt){if(A=+A,re=+re,xe=+xe,pt=+pt,yt=+yt,yt<0)throw new Error(`negative radius: ${yt}`);let Et=this._x1,Pt=this._y1,vn=xe-A,gn=pt-re,Bn=Et-A,Dr=Pt-re,gr=Bn*Bn+Dr*Dr;if(this._x1===null)this._append`M${this._x1=A},${this._y1=re}`;else if(gr>Oh)if(!(Math.abs(Dr*vn-gn*Bn)>Oh)||!yt)this._append`L${this._x1=A},${this._y1=re}`;else{let Ur=xe-Et,Ea=pt-Pt,$a=vn*vn+gn*gn,Ci=Ur*Ur+Ea*Ea,ni=Math.sqrt($a),la=Math.sqrt(gr),Ri=yt*Math.tan((hp-Math.acos(($a+gr-Ci)/(2*ni*la)))/2),Pi=Ri/la,ua=Ri/ni;Math.abs(Pi-1)>Oh&&this._append`L${A+Pi*Bn},${re+Pi*Dr}`,this._append`A${yt},${yt},0,0,${+(Dr*Ur>Bn*Ea)},${this._x1=A+ua*vn},${this._y1=re+ua*gn}`}}arc(A,re,xe,pt,yt,Et){if(A=+A,re=+re,xe=+xe,Et=!!Et,xe<0)throw new Error(`negative radius: ${xe}`);let Pt=xe*Math.cos(pt),vn=xe*Math.sin(pt),gn=A+Pt,Bn=re+vn,Dr=1^Et,gr=Et?pt-yt:yt-pt;this._x1===null?this._append`M${gn},${Bn}`:(Math.abs(this._x1-gn)>Oh||Math.abs(this._y1-Bn)>Oh)&&this._append`L${gn},${Bn}`,xe&&(gr<0&&(gr=gr%Rp+Rp),gr>Qh?this._append`A${xe},${xe},0,1,${Dr},${A-Pt},${re-vn}A${xe},${xe},0,1,${Dr},${this._x1=gn},${this._y1=Bn}`:gr>Oh&&this._append`A${xe},${xe},0,${+(gr>=hp)},${Dr},${this._x1=A+xe*Math.cos(yt)},${this._y1=re+xe*Math.sin(yt)}`)}rect(A,re,xe,pt){this._append`M${this._x0=this._x1=+A},${this._y0=this._y1=+re}h${xe=+xe}v${+pt}h${-xe}Z`}toString(){return this._}}function ke(){return new Q}ke.prototype=Q.prototype;function Be(l=3){return new Q(+l)}function Ge(l){let A=3;return l.digits=function(re){if(!arguments.length)return A;if(re==null)A=null;else{const xe=Math.floor(re);if(!(xe>=0))throw new RangeError(`invalid digits: ${re}`);A=xe}return l},()=>new Q(A)}function ct(l){return l.innerRadius}function mt(l){return l.outerRadius}function Rt(l){return l.startAngle}function tn(l){return l.endAngle}function $t(l){return l&&l.padAngle}function Vt(l,A,re,xe,pt,yt,Et,Pt){var vn=re-l,gn=xe-A,Bn=Et-pt,Dr=Pt-yt,gr=Dr*vn-Bn*gn;if(!(gr*gr<Gc))return gr=(Bn*(A-yt)-Dr*(l-pt))/gr,[l+gr*vn,A+gr*gn]}function Qt(l,A,re,xe,pt,yt,Et){var Pt=l-re,vn=A-xe,gn=(Et?yt:-yt)/dh(Pt*Pt+vn*vn),Bn=gn*vn,Dr=-gn*Pt,gr=l+Bn,Ur=A+Dr,Ea=re+Bn,$a=xe+Dr,Ci=(gr+Ea)/2,ni=(Ur+$a)/2,la=Ea-gr,Ri=$a-Ur,Pi=la*la+Ri*Ri,ua=pt-yt,Ki=gr*$a-Ea*Ur,Xa=(Ri<0?-1:1)*dh(qh(0,ua*ua*Pi-Ki*Ki)),Mo=(Ki*Ri-la*Xa)/Pi,Ss=(-Ki*la-Ri*Xa)/Pi,wo=(Ki*Ri+la*Xa)/Pi,ya=(-Ki*la+Ri*Xa)/Pi,lo=Mo-Ci,aa=Ss-ni,hr=wo-Ci,da=ya-ni;return lo*lo+aa*aa>hr*hr+da*da&&(Mo=wo,Ss=ya),{cx:Mo,cy:Ss,x01:-Bn,y01:-Dr,x11:Mo*(pt/ua-1),y11:Ss*(pt/ua-1)}}function Tn(){var l=ct,A=mt,re=hl(0),xe=null,pt=Rt,yt=tn,Et=$t,Pt=null,vn=Ge(gn);function gn(){var Bn,Dr,gr=+l.apply(this,arguments),Ur=+A.apply(this,arguments),Ea=pt.apply(this,arguments)-cf,$a=yt.apply(this,arguments)-cf,Ci=l0($a-Ea),ni=$a>Ea;if(Pt||(Pt=Bn=vn()),Ur<gr&&(Dr=Ur,Ur=gr,gr=Dr),!(Ur>Gc))Pt.moveTo(0,0);else if(Ci>ld-Gc)Pt.moveTo(Ur*Gf(Ea),Ur*lf(Ea)),Pt.arc(0,0,Ur,Ea,$a,!ni),gr>Gc&&(Pt.moveTo(gr*Gf($a),gr*lf($a)),Pt.arc(0,0,gr,$a,Ea,ni));else{var la=Ea,Ri=$a,Pi=Ea,ua=$a,Ki=Ci,Xa=Ci,Mo=Et.apply(this,arguments)/2,Ss=Mo>Gc&&(xe?+xe.apply(this,arguments):dh(gr*gr+Ur*Ur)),wo=Lh(l0(Ur-gr)/2,+re.apply(this,arguments)),ya=wo,lo=wo,aa,hr;if(Ss>Gc){var da=c0(Ss/gr*lf(Mo)),di=c0(Ss/Ur*lf(Mo));(Ki-=da*2)>Gc?(da*=ni?1:-1,Pi+=da,ua-=da):(Ki=0,Pi=ua=(Ea+$a)/2),(Xa-=di*2)>Gc?(di*=ni?1:-1,la+=di,Ri-=di):(Xa=0,la=Ri=(Ea+$a)/2)}var Ji=Ur*Gf(la),Na=Ur*lf(la),Ta=gr*Gf(ua),Za=gr*lf(ua);if(wo>Gc){var ao=Ur*Gf(Ri),go=Ur*lf(Ri),xc=gr*Gf(Pi),Xs=gr*lf(Pi),Bs;if(Ci<$h)if(Bs=Vt(Ji,Na,xc,Xs,ao,go,Ta,Za)){var Oc=Ji-Bs[0],Ls=Na-Bs[1],lc=ao-Bs[0],wa=go-Bs[1],Co=1/lf(Xh((Oc*lc+Ls*wa)/(dh(Oc*Oc+Ls*Ls)*dh(lc*lc+wa*wa)))/2),Go=dh(Bs[0]*Bs[0]+Bs[1]*Bs[1]);ya=Lh(wo,(gr-Go)/(Co-1)),lo=Lh(wo,(Ur-Go)/(Co+1))}else ya=lo=0}Xa>Gc?lo>Gc?(aa=Qt(xc,Xs,Ji,Na,Ur,lo,ni),hr=Qt(ao,go,Ta,Za,Ur,lo,ni),Pt.moveTo(aa.cx+aa.x01,aa.cy+aa.y01),lo<wo?Pt.arc(aa.cx,aa.cy,lo,Kc(aa.y01,aa.x01),Kc(hr.y01,hr.x01),!ni):(Pt.arc(aa.cx,aa.cy,lo,Kc(aa.y01,aa.x01),Kc(aa.y11,aa.x11),!ni),Pt.arc(0,0,Ur,Kc(aa.cy+aa.y11,aa.cx+aa.x11),Kc(hr.cy+hr.y11,hr.cx+hr.x11),!ni),Pt.arc(hr.cx,hr.cy,lo,Kc(hr.y11,hr.x11),Kc(hr.y01,hr.x01),!ni))):(Pt.moveTo(Ji,Na),Pt.arc(0,0,Ur,la,Ri,!ni)):Pt.moveTo(Ji,Na),!(gr>Gc)||!(Ki>Gc)?Pt.lineTo(Ta,Za):ya>Gc?(aa=Qt(Ta,Za,ao,go,gr,-ya,ni),hr=Qt(Ji,Na,xc,Xs,gr,-ya,ni),Pt.lineTo(aa.cx+aa.x01,aa.cy+aa.y01),ya<wo?Pt.arc(aa.cx,aa.cy,ya,Kc(aa.y01,aa.x01),Kc(hr.y01,hr.x01),!ni):(Pt.arc(aa.cx,aa.cy,ya,Kc(aa.y01,aa.x01),Kc(aa.y11,aa.x11),!ni),Pt.arc(0,0,gr,Kc(aa.cy+aa.y11,aa.cx+aa.x11),Kc(hr.cy+hr.y11,hr.cx+hr.x11),ni),Pt.arc(hr.cx,hr.cy,ya,Kc(hr.y11,hr.x11),Kc(hr.y01,hr.x01),!ni))):Pt.arc(0,0,gr,ua,Pi,ni)}if(Pt.closePath(),Bn)return Pt=null,Bn+""||null}return gn.centroid=function(){var Bn=(+l.apply(this,arguments)+ +A.apply(this,arguments))/2,Dr=(+pt.apply(this,arguments)+ +yt.apply(this,arguments))/2-$h/2;return[Gf(Dr)*Bn,lf(Dr)*Bn]},gn.innerRadius=function(Bn){return arguments.length?(l=typeof Bn=="function"?Bn:hl(+Bn),gn):l},gn.outerRadius=function(Bn){return arguments.length?(A=typeof Bn=="function"?Bn:hl(+Bn),gn):A},gn.cornerRadius=function(Bn){return arguments.length?(re=typeof Bn=="function"?Bn:hl(+Bn),gn):re},gn.padRadius=function(Bn){return arguments.length?(xe=Bn==null?null:typeof Bn=="function"?Bn:hl(+Bn),gn):xe},gn.startAngle=function(Bn){return arguments.length?(pt=typeof Bn=="function"?Bn:hl(+Bn),gn):pt},gn.endAngle=function(Bn){return arguments.length?(yt=typeof Bn=="function"?Bn:hl(+Bn),gn):yt},gn.padAngle=function(Bn){return arguments.length?(Et=typeof Bn=="function"?Bn:hl(+Bn),gn):Et},gn.context=function(Bn){return arguments.length?(Pt=Bn==null?null:Bn,gn):Pt},gn}var fr=Array.prototype.slice;function ei(l){return typeof l=="object"&&"length"in l?l:Array.from(l)}function qr(l){this._context=l}qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,A):this._context.moveTo(l,A);break;case 1:this._point=2;default:this._context.lineTo(l,A);break}}};function Pr(l){return new qr(l)}function Ai(l){return l[0]}function Yi(l){return l[1]}function ta(l,A){var re=hl(!0),xe=null,pt=Pr,yt=null,Et=Ge(Pt);l=typeof l=="function"?l:l===void 0?Ai:hl(l),A=typeof A=="function"?A:A===void 0?Yi:hl(A);function Pt(vn){var gn,Bn=(vn=ei(vn)).length,Dr,gr=!1,Ur;for(xe==null&&(yt=pt(Ur=Et())),gn=0;gn<=Bn;++gn)!(gn<Bn&&re(Dr=vn[gn],gn,vn))===gr&&((gr=!gr)?yt.lineStart():yt.lineEnd()),gr&&yt.point(+l(Dr,gn,vn),+A(Dr,gn,vn));if(Ur)return yt=null,Ur+""||null}return Pt.x=function(vn){return arguments.length?(l=typeof vn=="function"?vn:hl(+vn),Pt):l},Pt.y=function(vn){return arguments.length?(A=typeof vn=="function"?vn:hl(+vn),Pt):A},Pt.defined=function(vn){return arguments.length?(re=typeof vn=="function"?vn:hl(!!vn),Pt):re},Pt.curve=function(vn){return arguments.length?(pt=vn,xe!=null&&(yt=pt(xe)),Pt):pt},Pt.context=function(vn){return arguments.length?(vn==null?xe=yt=null:yt=pt(xe=vn),Pt):xe},Pt}function Ha(l,A){return A<l?-1:A>l?1:A>=l?0:NaN}function ja(l){return l}function No(){var l=ja,A=Ha,re=null,xe=hl(0),pt=hl(ld),yt=hl(0);function Et(Pt){var vn,gn=(Pt=ei(Pt)).length,Bn,Dr,gr=0,Ur=new Array(gn),Ea=new Array(gn),$a=+xe.apply(this,arguments),Ci=Math.min(ld,Math.max(-ld,pt.apply(this,arguments)-$a)),ni,la=Math.min(Math.abs(Ci)/gn,yt.apply(this,arguments)),Ri=la*(Ci<0?-1:1),Pi;for(vn=0;vn<gn;++vn)(Pi=Ea[Ur[vn]=vn]=+l(Pt[vn],vn,Pt))>0&&(gr+=Pi);for(A!=null?Ur.sort(function(ua,Ki){return A(Ea[ua],Ea[Ki])}):re!=null&&Ur.sort(function(ua,Ki){return re(Pt[ua],Pt[Ki])}),vn=0,Dr=gr?(Ci-gn*Ri)/gr:0;vn<gn;++vn,$a=ni)Bn=Ur[vn],Pi=Ea[Bn],ni=$a+(Pi>0?Pi*Dr:0)+Ri,Ea[Bn]={data:Pt[Bn],index:vn,value:Pi,startAngle:$a,endAngle:ni,padAngle:la};return Ea}return Et.value=function(Pt){return arguments.length?(l=typeof Pt=="function"?Pt:hl(+Pt),Et):l},Et.sortValues=function(Pt){return arguments.length?(A=Pt,re=null,Et):A},Et.sort=function(Pt){return arguments.length?(re=Pt,A=null,Et):re},Et.startAngle=function(Pt){return arguments.length?(xe=typeof Pt=="function"?Pt:hl(+Pt),Et):xe},Et.endAngle=function(Pt){return arguments.length?(pt=typeof Pt=="function"?Pt:hl(+Pt),Et):pt},Et.padAngle=function(Pt){return arguments.length?(yt=typeof Pt=="function"?Pt:hl(+Pt),Et):yt},Et}function Cs(){}function Eo(l,A,re){l._context.bezierCurveTo((2*l._x0+l._x1)/3,(2*l._y0+l._y1)/3,(l._x0+2*l._x1)/3,(l._y0+2*l._y1)/3,(l._x0+4*l._x1+A)/6,(l._y0+4*l._y1+re)/6)}function xs(l){this._context=l}xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,A):this._context.moveTo(l,A);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eo(this,l,A);break}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=A}};function _c(l){return new xs(l)}function Lc(l){this._context=l}Lc.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1,this._x2=l,this._y2=A;break;case 1:this._point=2,this._x3=l,this._y3=A;break;case 2:this._point=3,this._x4=l,this._y4=A,this._context.moveTo((this._x0+4*this._x1+l)/6,(this._y0+4*this._y1+A)/6);break;default:Eo(this,l,A);break}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=A}};function uf(l){return new Lc(l)}function cd(l){this._context=l}cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var re=(this._x0+4*this._x1+l)/6,xe=(this._y0+4*this._y1+A)/6;this._line?this._context.lineTo(re,xe):this._context.moveTo(re,xe);break;case 3:this._point=4;default:Eo(this,l,A);break}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=A}};function wd(l){return new cd(l)}class df{constructor(A,re){this._context=A,this._x=re}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(A,re){switch(A=+A,re=+re,this._point){case 0:{this._point=1,this._line?this._context.lineTo(A,re):this._context.moveTo(A,re);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+A)/2,this._y0,this._x0,re,A,re):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+re)/2,A,this._y0,A,re);break}}this._x0=A,this._y0=re}}class fu{constructor(A){this._context=A}lineStart(){this._point=0}lineEnd(){}point(A,re){if(A=+A,re=+re,this._point===0)this._point=1;else{const xe=pointRadial(this._x0,this._y0),pt=pointRadial(this._x0,this._y0=(this._y0+re)/2),yt=pointRadial(A,this._y0),Et=pointRadial(A,re);this._context.moveTo(...xe),this._context.bezierCurveTo(...pt,...yt,...Et)}this._x0=A,this._y0=re}}function fh(l){return new df(l,!0)}function ff(l){return new df(l,!1)}function Jh(l){return new fu(l)}function qf(l,A){this._basis=new xs(l),this._beta=A}qf.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var l=this._x,A=this._y,re=l.length-1;if(re>0)for(var xe=l[0],pt=A[0],yt=l[re]-xe,Et=A[re]-pt,Pt=-1,vn;++Pt<=re;)vn=Pt/re,this._basis.point(this._beta*l[Pt]+(1-this._beta)*(xe+vn*yt),this._beta*A[Pt]+(1-this._beta)*(pt+vn*Et));this._x=this._y=null,this._basis.lineEnd()},point:function(l,A){this._x.push(+l),this._y.push(+A)}};var $f=function l(A){function re(xe){return A===1?new xs(xe):new qf(xe,A)}return re.beta=function(xe){return l(+xe)},re}(.85);function hu(l,A,re){l._context.bezierCurveTo(l._x1+l._k*(l._x2-l._x0),l._y1+l._k*(l._y2-l._y0),l._x2+l._k*(l._x1-A),l._y2+l._k*(l._y1-re),l._x2,l._y2)}function pl(l,A){this._context=l,this._k=(1-A)/6}pl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:hu(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,A):this._context.moveTo(l,A);break;case 1:this._point=2,this._x1=l,this._y1=A;break;case 2:this._point=3;default:hu(this,l,A);break}this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var pp=function l(A){function re(xe){return new pl(xe,A)}return re.tension=function(xe){return l(+xe)},re}(0);function ud(l,A){this._context=l,this._k=(1-A)/6}ud.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1,this._x3=l,this._y3=A;break;case 1:this._point=2,this._context.moveTo(this._x4=l,this._y4=A);break;case 2:this._point=3,this._x5=l,this._y5=A;break;default:hu(this,l,A);break}this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var Xf=function l(A){function re(xe){return new ud(xe,A)}return re.tension=function(xe){return l(+xe)},re}(0);function Nh(l,A){this._context=l,this._k=(1-A)/6}Nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hu(this,l,A);break}this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var Rh=function l(A){function re(xe){return new Nh(xe,A)}return re.tension=function(xe){return l(+xe)},re}(0);function Ph(l,A,re){var xe=l._x1,pt=l._y1,yt=l._x2,Et=l._y2;if(l._l01_a>Gc){var Pt=2*l._l01_2a+3*l._l01_a*l._l12_a+l._l12_2a,vn=3*l._l01_a*(l._l01_a+l._l12_a);xe=(xe*Pt-l._x0*l._l12_2a+l._x2*l._l01_2a)/vn,pt=(pt*Pt-l._y0*l._l12_2a+l._y2*l._l01_2a)/vn}if(l._l23_a>Gc){var gn=2*l._l23_2a+3*l._l23_a*l._l12_a+l._l12_2a,Bn=3*l._l23_a*(l._l23_a+l._l12_a);yt=(yt*gn+l._x1*l._l23_2a-A*l._l12_2a)/Bn,Et=(Et*gn+l._y1*l._l23_2a-re*l._l12_2a)/Bn}l._context.bezierCurveTo(xe,pt,yt,Et,l._x2,l._y2)}function Bh(l,A){this._context=l,this._alpha=A}Bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){if(l=+l,A=+A,this._point){var re=this._x2-l,xe=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(re*re+xe*xe,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(l,A):this._context.moveTo(l,A);break;case 1:this._point=2;break;case 2:this._point=3;default:Ph(this,l,A);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var u0=function l(A){function re(xe){return A?new Bh(xe,A):new pl(xe,0)}return re.alpha=function(xe){return l(+xe)},re}(.5);function Pp(l,A){this._context=l,this._alpha=A}Pp.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(l,A){if(l=+l,A=+A,this._point){var re=this._x2-l,xe=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(re*re+xe*xe,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=l,this._y3=A;break;case 1:this._point=2,this._context.moveTo(this._x4=l,this._y4=A);break;case 2:this._point=3,this._x5=l,this._y5=A;break;default:Ph(this,l,A);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var Fh=function l(A){function re(xe){return A?new Pp(xe,A):new ud(xe,0)}return re.alpha=function(xe){return l(+xe)},re}(.5);function Bp(l,A){this._context=l,this._alpha=A}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){if(l=+l,A=+A,this._point){var re=this._x2-l,xe=this._y2-A;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(re*re+xe*xe,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ph(this,l,A);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=l,this._y0=this._y1,this._y1=this._y2,this._y2=A}};var Fp=function l(A){function re(xe){return A?new Bp(xe,A):new Nh(xe,0)}return re.alpha=function(xe){return l(+xe)},re}(.5);function vp(l){this._context=l}vp.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(l,A){l=+l,A=+A,this._point?this._context.lineTo(l,A):(this._point=1,this._context.moveTo(l,A))}};function gp(l){return new vp(l)}function Zp(l){return l<0?-1:1}function mp(l,A,re){var xe=l._x1-l._x0,pt=A-l._x1,yt=(l._y1-l._y0)/(xe||pt<0&&-0),Et=(re-l._y1)/(pt||xe<0&&-0),Pt=(yt*pt+Et*xe)/(xe+pt);return(Zp(yt)+Zp(Et))*Math.min(Math.abs(yt),Math.abs(Et),.5*Math.abs(Pt))||0}function bp(l,A){var re=l._x1-l._x0;return re?(3*(l._y1-l._y0)/re-A)/2:A}function yp(l,A,re){var xe=l._x0,pt=l._y0,yt=l._x1,Et=l._y1,Pt=(yt-xe)/3;l._context.bezierCurveTo(xe+Pt,pt+Pt*A,yt-Pt,Et-Pt*re,yt,Et)}function Qf(l){this._context=l}Qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yp(this,this._t0,bp(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(l,A){var re=NaN;if(l=+l,A=+A,!(l===this._x1&&A===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(l,A):this._context.moveTo(l,A);break;case 1:this._point=2;break;case 2:this._point=3,yp(this,bp(this,re=mp(this,l,A)),re);break;default:yp(this,this._t0,re=mp(this,l,A));break}this._x0=this._x1,this._x1=l,this._y0=this._y1,this._y1=A,this._t0=re}}};function Zh(l){this._context=new bv(l)}(Zh.prototype=Object.create(Qf.prototype)).point=function(l,A){Qf.prototype.point.call(this,A,l)};function bv(l){this._context=l}bv.prototype={moveTo:function(l,A){this._context.moveTo(A,l)},closePath:function(){this._context.closePath()},lineTo:function(l,A){this._context.lineTo(A,l)},bezierCurveTo:function(l,A,re,xe,pt,yt){this._context.bezierCurveTo(A,l,xe,re,yt,pt)}};function Vv(l){return new Qf(l)}function zp(l){return new Zh(l)}function d0(l){this._context=l}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var l=this._x,A=this._y,re=l.length;if(re)if(this._line?this._context.lineTo(l[0],A[0]):this._context.moveTo(l[0],A[0]),re===2)this._context.lineTo(l[1],A[1]);else for(var xe=yv(l),pt=yv(A),yt=0,Et=1;Et<re;++yt,++Et)this._context.bezierCurveTo(xe[0][yt],pt[0][yt],xe[1][yt],pt[1][yt],l[Et],A[Et]);(this._line||this._line!==0&&re===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(l,A){this._x.push(+l),this._y.push(+A)}};function yv(l){var A,re=l.length-1,xe,pt=new Array(re),yt=new Array(re),Et=new Array(re);for(pt[0]=0,yt[0]=2,Et[0]=l[0]+2*l[1],A=1;A<re-1;++A)pt[A]=1,yt[A]=4,Et[A]=4*l[A]+2*l[A+1];for(pt[re-1]=2,yt[re-1]=7,Et[re-1]=8*l[re-1]+l[re],A=1;A<re;++A)xe=pt[A]/yt[A-1],yt[A]-=xe,Et[A]-=xe*Et[A-1];for(pt[re-1]=Et[re-1]/yt[re-1],A=re-2;A>=0;--A)pt[A]=(Et[A]-pt[A+1])/yt[A];for(yt[re-1]=(l[re]+pt[re-1])/2,A=0;A<re-1;++A)yt[A]=2*l[A+1]-pt[A+1];return[pt,yt]}function Yv(l){return new d0(l)}function f0(l,A){this._context=l,this._t=A}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(l,A){switch(l=+l,A=+A,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,A):this._context.moveTo(l,A);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,A),this._context.lineTo(l,A);else{var re=this._x*(1-this._t)+l*this._t;this._context.lineTo(re,this._y),this._context.lineTo(re,A)}break}}this._x=l,this._y=A}};function _v(l){return new f0(l,.5)}function em(l){return new f0(l,0)}function tm(l){return new f0(l,1)}function Wp(l,A,re){this.k=l,this.x=A,this.y=re}Wp.prototype={constructor:Wp,scale:function(l){return l===1?this:new Wp(this.k*l,this.x,this.y)},translate:function(l,A){return l===0&A===0?this:new Wp(this.k,this.x+this.k*l,this.y+this.k*A)},apply:function(l){return[l[0]*this.k+this.x,l[1]*this.k+this.y]},applyX:function(l){return l*this.k+this.x},applyY:function(l){return l*this.k+this.y},invert:function(l){return[(l[0]-this.x)/this.k,(l[1]-this.y)/this.k]},invertX:function(l){return(l-this.x)/this.k},invertY:function(l){return(l-this.y)/this.k},rescaleX:function(l){return l.copy().domain(l.range().map(this.invertX,this).map(l.invert,l))},rescaleY:function(l){return l.copy().domain(l.range().map(this.invertY,this).map(l.invert,l))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nm=new Wp(1,0,0);rm.prototype=Wp.prototype;function rm(l){for(;!l.__zoom;)if(!(l=l.parentNode))return nm;return l.__zoom}function Kv(l){return(!l.ctrlKey||l.type==="wheel")&&!l.button}function hh(){var l=this;return l instanceof SVGElement?(l=l.ownerSVGElement||l,l.hasAttribute("viewBox")?(l=l.viewBox.baseVal,[[l.x,l.y],[l.x+l.width,l.y+l.height]]):[[0,0],[l.width.baseVal.value,l.height.baseVal.value]]):[[0,0],[l.clientWidth,l.clientHeight]]}function Gv(){return this.__zoom||identity}function ph(l){return-l.deltaY*(l.deltaMode===1?.05:l.deltaMode?1:.002)*(l.ctrlKey?10:1)}function qv(){return navigator.maxTouchPoints||"ontouchstart"in this}function qc(l,A,re){var xe=l.invertX(A[0][0])-re[0][0],pt=l.invertX(A[1][0])-re[1][0],yt=l.invertY(A[0][1])-re[0][1],Et=l.invertY(A[1][1])-re[1][1];return l.translate(pt>xe?(xe+pt)/2:Math.min(0,xe)||Math.max(0,pt),Et>yt?(yt+Et)/2:Math.min(0,yt)||Math.max(0,Et))}function h0(){var l=Kv,A=hh,re=qc,xe=ph,pt=qv,yt=[0,1/0],Et=[[-1/0,-1/0],[1/0,1/0]],Pt=250,vn=interpolateZoom,gn=dispatch("start","zoom","end"),Bn,Dr,gr,Ur=500,Ea=150,$a=0,Ci=10;function ni(hr){hr.property("__zoom",Gv).on("wheel.zoom",Mo,{passive:!1}).on("mousedown.zoom",Ss).on("dblclick.zoom",wo).filter(pt).on("touchstart.zoom",ya).on("touchmove.zoom",lo).on("touchend.zoom touchcancel.zoom",aa).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}ni.transform=function(hr,da,di,Ji){var Na=hr.selection?hr.selection():hr;Na.property("__zoom",Gv),hr!==Na?ua(hr,da,di,Ji):Na.interrupt().each(function(){Ki(this,arguments).event(Ji).start().zoom(null,typeof da=="function"?da.apply(this,arguments):da).end()})},ni.scaleBy=function(hr,da,di,Ji){ni.scaleTo(hr,function(){var Na=this.__zoom.k,Ta=typeof da=="function"?da.apply(this,arguments):da;return Na*Ta},di,Ji)},ni.scaleTo=function(hr,da,di,Ji){ni.transform(hr,function(){var Na=A.apply(this,arguments),Ta=this.__zoom,Za=di==null?Pi(Na):typeof di=="function"?di.apply(this,arguments):di,ao=Ta.invert(Za),go=typeof da=="function"?da.apply(this,arguments):da;return re(Ri(la(Ta,go),Za,ao),Na,Et)},di,Ji)},ni.translateBy=function(hr,da,di,Ji){ni.transform(hr,function(){return re(this.__zoom.translate(typeof da=="function"?da.apply(this,arguments):da,typeof di=="function"?di.apply(this,arguments):di),A.apply(this,arguments),Et)},null,Ji)},ni.translateTo=function(hr,da,di,Ji,Na){ni.transform(hr,function(){var Ta=A.apply(this,arguments),Za=this.__zoom,ao=Ji==null?Pi(Ta):typeof Ji=="function"?Ji.apply(this,arguments):Ji;return re(identity.translate(ao[0],ao[1]).scale(Za.k).translate(typeof da=="function"?-da.apply(this,arguments):-da,typeof di=="function"?-di.apply(this,arguments):-di),Ta,Et)},Ji,Na)};function la(hr,da){return da=Math.max(yt[0],Math.min(yt[1],da)),da===hr.k?hr:new Transform(da,hr.x,hr.y)}function Ri(hr,da,di){var Ji=da[0]-di[0]*hr.k,Na=da[1]-di[1]*hr.k;return Ji===hr.x&&Na===hr.y?hr:new Transform(hr.k,Ji,Na)}function Pi(hr){return[(+hr[0][0]+ +hr[1][0])/2,(+hr[0][1]+ +hr[1][1])/2]}function ua(hr,da,di,Ji){hr.on("start.zoom",function(){Ki(this,arguments).event(Ji).start()}).on("interrupt.zoom end.zoom",function(){Ki(this,arguments).event(Ji).end()}).tween("zoom",function(){var Na=this,Ta=arguments,Za=Ki(Na,Ta).event(Ji),ao=A.apply(Na,Ta),go=di==null?Pi(ao):typeof di=="function"?di.apply(Na,Ta):di,xc=Math.max(ao[1][0]-ao[0][0],ao[1][1]-ao[0][1]),Xs=Na.__zoom,Bs=typeof da=="function"?da.apply(Na,Ta):da,Oc=vn(Xs.invert(go).concat(xc/Xs.k),Bs.invert(go).concat(xc/Bs.k));return function(Ls){if(Ls===1)Ls=Bs;else{var lc=Oc(Ls),wa=xc/lc[2];Ls=new Transform(wa,go[0]-lc[0]*wa,go[1]-lc[1]*wa)}Za.zoom(null,Ls)}})}function Ki(hr,da,di){return!di&&hr.__zooming||new Xa(hr,da)}function Xa(hr,da){this.that=hr,this.args=da,this.active=0,this.sourceEvent=null,this.extent=A.apply(hr,da),this.taps=0}Xa.prototype={event:function(hr){return hr&&(this.sourceEvent=hr),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(hr,da){return this.mouse&&hr!=="mouse"&&(this.mouse[1]=da.invert(this.mouse[0])),this.touch0&&hr!=="touch"&&(this.touch0[1]=da.invert(this.touch0[0])),this.touch1&&hr!=="touch"&&(this.touch1[1]=da.invert(this.touch1[0])),this.that.__zoom=da,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(hr){var da=select(this.that).datum();gn.call(hr,this.that,new ZoomEvent(hr,{sourceEvent:this.sourceEvent,target:ni,type:hr,transform:this.that.__zoom,dispatch:gn}),da)}};function Mo(hr,...da){if(!l.apply(this,arguments))return;var di=Ki(this,da).event(hr),Ji=this.__zoom,Na=Math.max(yt[0],Math.min(yt[1],Ji.k*Math.pow(2,xe.apply(this,arguments)))),Ta=pointer(hr);if(di.wheel)(di.mouse[0][0]!==Ta[0]||di.mouse[0][1]!==Ta[1])&&(di.mouse[1]=Ji.invert(di.mouse[0]=Ta)),clearTimeout(di.wheel);else{if(Ji.k===Na)return;di.mouse=[Ta,Ji.invert(Ta)],interrupt(this),di.start()}noevent(hr),di.wheel=setTimeout(Za,Ea),di.zoom("mouse",re(Ri(la(Ji,Na),di.mouse[0],di.mouse[1]),di.extent,Et));function Za(){di.wheel=null,di.end()}}function Ss(hr,...da){if(gr||!l.apply(this,arguments))return;var di=hr.currentTarget,Ji=Ki(this,da,!0).event(hr),Na=select(hr.view).on("mousemove.zoom",go,!0).on("mouseup.zoom",xc,!0),Ta=pointer(hr,di),Za=hr.clientX,ao=hr.clientY;dragDisable(hr.view),nopropagation(hr),Ji.mouse=[Ta,this.__zoom.invert(Ta)],interrupt(this),Ji.start();function go(Xs){if(noevent(Xs),!Ji.moved){var Bs=Xs.clientX-Za,Oc=Xs.clientY-ao;Ji.moved=Bs*Bs+Oc*Oc>$a}Ji.event(Xs).zoom("mouse",re(Ri(Ji.that.__zoom,Ji.mouse[0]=pointer(Xs,di),Ji.mouse[1]),Ji.extent,Et))}function xc(Xs){Na.on("mousemove.zoom mouseup.zoom",null),dragEnable(Xs.view,Ji.moved),noevent(Xs),Ji.event(Xs).end()}}function wo(hr,...da){if(!!l.apply(this,arguments)){var di=this.__zoom,Ji=pointer(hr.changedTouches?hr.changedTouches[0]:hr,this),Na=di.invert(Ji),Ta=di.k*(hr.shiftKey?.5:2),Za=re(Ri(la(di,Ta),Ji,Na),A.apply(this,da),Et);noevent(hr),Pt>0?select(this).transition().duration(Pt).call(ua,Za,Ji,hr):select(this).call(ni.transform,Za,Ji,hr)}}function ya(hr,...da){if(!!l.apply(this,arguments)){var di=hr.touches,Ji=di.length,Na=Ki(this,da,hr.changedTouches.length===Ji).event(hr),Ta,Za,ao,go;for(nopropagation(hr),Za=0;Za<Ji;++Za)ao=di[Za],go=pointer(ao,this),go=[go,this.__zoom.invert(go),ao.identifier],Na.touch0?!Na.touch1&&Na.touch0[2]!==go[2]&&(Na.touch1=go,Na.taps=0):(Na.touch0=go,Ta=!0,Na.taps=1+!!Bn);Bn&&(Bn=clearTimeout(Bn)),Ta&&(Na.taps<2&&(Dr=go[0],Bn=setTimeout(function(){Bn=null},Ur)),interrupt(this),Na.start())}}function lo(hr,...da){if(!!this.__zooming){var di=Ki(this,da).event(hr),Ji=hr.changedTouches,Na=Ji.length,Ta,Za,ao,go;for(noevent(hr),Ta=0;Ta<Na;++Ta)Za=Ji[Ta],ao=pointer(Za,this),di.touch0&&di.touch0[2]===Za.identifier?di.touch0[0]=ao:di.touch1&&di.touch1[2]===Za.identifier&&(di.touch1[0]=ao);if(Za=di.that.__zoom,di.touch1){var xc=di.touch0[0],Xs=di.touch0[1],Bs=di.touch1[0],Oc=di.touch1[1],Ls=(Ls=Bs[0]-xc[0])*Ls+(Ls=Bs[1]-xc[1])*Ls,lc=(lc=Oc[0]-Xs[0])*lc+(lc=Oc[1]-Xs[1])*lc;Za=la(Za,Math.sqrt(Ls/lc)),ao=[(xc[0]+Bs[0])/2,(xc[1]+Bs[1])/2],go=[(Xs[0]+Oc[0])/2,(Xs[1]+Oc[1])/2]}else if(di.touch0)ao=di.touch0[0],go=di.touch0[1];else return;di.zoom("touch",re(Ri(Za,ao,go),di.extent,Et))}}function aa(hr,...da){if(!!this.__zooming){var di=Ki(this,da).event(hr),Ji=hr.changedTouches,Na=Ji.length,Ta,Za;for(nopropagation(hr),gr&&clearTimeout(gr),gr=setTimeout(function(){gr=null},Ur),Ta=0;Ta<Na;++Ta)Za=Ji[Ta],di.touch0&&di.touch0[2]===Za.identifier?delete di.touch0:di.touch1&&di.touch1[2]===Za.identifier&&delete di.touch1;if(di.touch1&&!di.touch0&&(di.touch0=di.touch1,delete di.touch1),di.touch0)di.touch0[1]=this.__zoom.invert(di.touch0[0]);else if(di.end(),di.taps===2&&(Za=pointer(Za,this),Math.hypot(Dr[0]-Za[0],Dr[1]-Za[1])<Ci)){var ao=select(this).on("dblclick.zoom");ao&&ao.apply(this,arguments)}}}return ni.wheelDelta=function(hr){return arguments.length?(xe=typeof hr=="function"?hr:constant(+hr),ni):xe},ni.filter=function(hr){return arguments.length?(l=typeof hr=="function"?hr:constant(!!hr),ni):l},ni.touchable=function(hr){return arguments.length?(pt=typeof hr=="function"?hr:constant(!!hr),ni):pt},ni.extent=function(hr){return arguments.length?(A=typeof hr=="function"?hr:constant([[+hr[0][0],+hr[0][1]],[+hr[1][0],+hr[1][1]]]),ni):A},ni.scaleExtent=function(hr){return arguments.length?(yt[0]=+hr[0],yt[1]=+hr[1],ni):[yt[0],yt[1]]},ni.translateExtent=function(hr){return arguments.length?(Et[0][0]=+hr[0][0],Et[1][0]=+hr[1][0],Et[0][1]=+hr[0][1],Et[1][1]=+hr[1][1],ni):[[Et[0][0],Et[0][1]],[Et[1][0],Et[1][1]]]},ni.constrain=function(hr){return arguments.length?(re=hr,ni):re},ni.duration=function(hr){return arguments.length?(Pt=+hr,ni):Pt},ni.interpolate=function(hr){return arguments.length?(vn=hr,ni):vn},ni.on=function(){var hr=gn.on.apply(gn,arguments);return hr===gn?ni:hr},ni.clickDistance=function(hr){return arguments.length?($a=(hr=+hr)*hr,ni):Math.sqrt($a)},ni.tapDistance=function(hr){return arguments.length?(Ci=+hr,ni):Ci},ni}},28278:function(ut,Ce,f){"use strict";f.d(Ce,{A:function(){return x}});function O(m,p,d,v){var M,D,T,S,g,z,E,Y,q,j,le,ce,se,ne,De;if(M=p.y-m.y,T=m.x-p.x,g=p.x*m.y-m.x*p.y,q=M*d.x+T*d.y+g,j=M*v.x+T*v.y+g,!(q!==0&&j!==0&&U(q,j))&&(D=v.y-d.y,S=d.x-v.x,z=v.x*d.y-d.x*v.y,E=D*m.x+S*m.y+z,Y=D*p.x+S*p.y+z,!(E!==0&&Y!==0&&U(E,Y))&&(le=M*S-D*T,le!==0)))return ce=Math.abs(le/2),se=T*z-S*g,ne=se<0?(se-ce)/le:(se+ce)/le,se=D*g-M*z,De=se<0?(se-ce)/le:(se+ce)/le,{x:ne,y:De}}function U(m,p){return m*p>0}function x(m,p,d){var v=m.x,M=m.y,D=[],T=Number.POSITIVE_INFINITY,S=Number.POSITIVE_INFINITY;p.forEach(function(le){T=Math.min(T,le.x),S=Math.min(S,le.y)});for(var g=v-m.width/2-T,z=M-m.height/2-S,E=0;E<p.length;E++){var Y=p[E],q=p[E<p.length-1?E+1:0],j=O(m,d,{x:g+Y.x,y:z+Y.y},{x:g+q.x,y:z+q.y});j&&D.push(j)}return D.length?(D.length>1&&D.sort(function(le,ce){var se=le.x-d.x,ne=le.y-d.y,De=Math.sqrt(se*se+ne*ne),we=ce.x-d.x,je=ce.y-d.y,dt=Math.sqrt(we*we+je*je);return De<dt?-1:De===dt?0:1}),D[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",m),m)}},69474:function(ut,Ce,f){"use strict";f.d(Ce,{q:function(){return O}});function O(U,x){var m=U.x,p=U.y,d=x.x-m,v=x.y-p,M=U.width/2,D=U.height/2,T,S;return Math.abs(v)*M>Math.abs(d)*D?(v<0&&(D=-D),T=v===0?0:D*d/v,S=D):(d<0&&(M=-M),T=M,S=d===0?0:M*v/d),{x:m+T,y:p+S}}},79182:function(ut,Ce,f){"use strict";f.d(Ce,{a:function(){return U}});var O=f(91476);function U(x,m){var p=x.append("foreignObject").attr("width","100000"),d=p.append("xhtml:div");d.attr("xmlns","http://www.w3.org/1999/xhtml");var v=m.label;switch(typeof v){case"function":d.insert(v);break;case"object":d.insert(function(){return v});break;default:d.html(v)}O.bg(d,m.labelStyle),d.style("display","inline-block"),d.style("white-space","nowrap");var M=d.node().getBoundingClientRect();return p.attr("width",M.width).attr("height",M.height),p}},91476:function(ut,Ce,f){"use strict";f.d(Ce,{$p:function(){return M},O1:function(){return m},WR:function(){return D},bF:function(){return x},bg:function(){return v}});var O=f(54098),U=f(6359);function x(T,S){return!!T.children(S).length}function m(T){return d(T.v)+":"+d(T.w)+":"+d(T.name)}var p=/:/g;function d(T){return T?String(T).replace(p,"\\:"):""}function v(T,S){S&&T.attr("style",S)}function M(T,S,g){S&&T.attr("class",S).attr("class",g+" "+T.attr("class"))}function D(T,S){var g=S.graph();if(O.Z(g)){var z=g.transition;if(U.Z(z))return z(T)}return T}},24963:function(ut,Ce,f){"use strict";f.d(Ce,{L0:function(){return O},bK:function(){return cs},Fv:function(){return U},dZ:function(){return rc}});var O={};f.r(O),f.d(O,{run:function(){return se},undo:function(){return De}});var U={};f.r(U),f.d(U,{run:function(){return hc},undo:function(){return Sd}});var x=f(79156),m=f(67070),p=f(27431),d=f(6964),v=f(23351),M=f(55247),D=f(57170),T=f(39564);class S{constructor(){var Xe={};Xe._next=Xe._prev=Xe,this._sentinel=Xe}dequeue(){var Xe=this._sentinel,gt=Xe._prev;if(gt!==Xe)return g(gt),gt}enqueue(Xe){var gt=this._sentinel;Xe._prev&&Xe._next&&g(Xe),Xe._next=gt._next,gt._next._prev=Xe,gt._next=Xe,Xe._prev=gt}toString(){for(var Xe=[],gt=this._sentinel,qe=gt._prev;qe!==gt;)Xe.push(JSON.stringify(qe,z)),qe=qe._prev;return"["+Xe.join(", ")+"]"}}function g(be){be._prev._next=be._next,be._next._prev=be._prev,delete be._next,delete be._prev}function z(be,Xe){if(be!=="_next"&&be!=="_prev")return Xe}var E=d.Z(1);function Y(be,Xe){if(be.nodeCount()<=1)return[];var gt=le(be,Xe||E),qe=q(gt.graph,gt.buckets,gt.zeroIdx);return v.Z(M.Z(qe,function(Ht){return be.outEdges(Ht.v,Ht.w)}))}function q(be,Xe,gt){for(var qe=[],Ht=Xe[Xe.length-1],dn=Xe[0],fn;be.nodeCount();){for(;fn=dn.dequeue();)j(be,Xe,gt,fn);for(;fn=Ht.dequeue();)j(be,Xe,gt,fn);if(be.nodeCount()){for(var Jn=Xe.length-2;Jn>0;--Jn)if(fn=Xe[Jn].dequeue(),fn){qe=qe.concat(j(be,Xe,gt,fn,!0));break}}}return qe}function j(be,Xe,gt,qe,Ht){var dn=Ht?[]:void 0;return x.Z(be.inEdges(qe.v),function(fn){var Jn=be.edge(fn),br=be.node(fn.v);Ht&&dn.push({v:fn.v,w:fn.w}),br.out-=Jn,ce(Xe,gt,br)}),x.Z(be.outEdges(qe.v),function(fn){var Jn=be.edge(fn),br=fn.w,Or=be.node(br);Or.in-=Jn,ce(Xe,gt,Or)}),be.removeNode(qe.v),dn}function le(be,Xe){var gt=new T.k,qe=0,Ht=0;x.Z(be.nodes(),function(Jn){gt.setNode(Jn,{v:Jn,in:0,out:0})}),x.Z(be.edges(),function(Jn){var br=gt.edge(Jn.v,Jn.w)||0,Or=Xe(Jn),Gr=br+Or;gt.setEdge(Jn.v,Jn.w,Gr),Ht=Math.max(Ht,gt.node(Jn.v).out+=Or),qe=Math.max(qe,gt.node(Jn.w).in+=Or)});var dn=D.Z(Ht+qe+3).map(function(){return new S}),fn=qe+1;return x.Z(gt.nodes(),function(Jn){ce(dn,fn,gt.node(Jn))}),{graph:gt,buckets:dn,zeroIdx:fn}}function ce(be,Xe,gt){gt.out?gt.in?be[gt.out-gt.in+Xe].enqueue(gt):be[be.length-1].enqueue(gt):be[0].enqueue(gt)}function se(be){var Xe=be.graph().acyclicer==="greedy"?Y(be,gt(be)):ne(be);x.Z(Xe,function(qe){var Ht=be.edge(qe);be.removeEdge(qe),Ht.forwardName=qe.name,Ht.reversed=!0,be.setEdge(qe.w,qe.v,Ht,m.Z("rev"))});function gt(qe){return function(Ht){return qe.edge(Ht).weight}}}function ne(be){var Xe=[],gt={},qe={};function Ht(dn){p.Z(qe,dn)||(qe[dn]=!0,gt[dn]=!0,x.Z(be.outEdges(dn),function(fn){p.Z(gt,fn.w)?Xe.push(fn):Ht(fn.w)}),delete gt[dn])}return x.Z(be.nodes(),Ht),Xe}function De(be){x.Z(be.edges(),function(Xe){var gt=be.edge(Xe);if(gt.reversed){be.removeEdge(Xe);var qe=gt.forwardName;delete gt.reversed,delete gt.forwardName,be.setEdge(Xe.w,Xe.v,gt,qe)}})}var we=f(24507),je=f(857),dt=f(54523);function Qe(be,Xe,gt){(gt!==void 0&&!(0,dt.Z)(be[Xe],gt)||gt===void 0&&!(Xe in be))&&(0,je.Z)(be,Xe,gt)}var lt=Qe,Te=f(29148),Je=f(14054),te=f(11523),fe=f(32126),ue=f(16448),ae=f(65380),de=f(56052),ve=f(84488),J=f(45673),X=f(6359),K=f(82433),ze=f(54098),Ze=f(79064);function We(be,Xe){if(!(Xe==="constructor"&&typeof be[Xe]=="function")&&Xe!="__proto__")return be[Xe]}var ye=We,Ie=f(52949),Ue=f(32817);function Ye(be){return(0,Ie.Z)(be,(0,Ue.Z)(be))}var Ae=Ye;function tt(be,Xe,gt,qe,Ht,dn,fn){var Jn=ye(be,gt),br=ye(Xe,gt),Or=fn.get(br);if(Or){lt(be,gt,Or);return}var Gr=dn?dn(Jn,br,gt+"",be,Xe,fn):void 0,Fi=Gr===void 0;if(Fi){var Ga=(0,de.Z)(br),Ra=!Ga&&(0,J.Z)(br),oo=!Ga&&!Ra&&(0,Ze.Z)(br);Gr=br,Ga||Ra||oo?(0,de.Z)(Jn)?Gr=Jn:(0,ve.Z)(Jn)?Gr=(0,fe.Z)(Jn):Ra?(Fi=!1,Gr=(0,Je.Z)(br,!0)):oo?(Fi=!1,Gr=(0,te.Z)(br,!0)):Gr=[]:(0,ze.Z)(br)||(0,ae.Z)(br)?(Gr=Jn,(0,ae.Z)(Jn)?Gr=Ae(Jn):(!(0,K.Z)(Jn)||(0,X.Z)(Jn))&&(Gr=(0,ue.Z)(br))):Fi=!1}Fi&&(fn.set(br,Gr),Ht(Gr,br,qe,dn,fn),fn.delete(br)),lt(be,gt,Gr)}var it=tt;function Ve(be,Xe,gt,qe,Ht){be!==Xe&&(0,Te.Z)(Xe,function(dn,fn){if(Ht||(Ht=new we.Z),(0,K.Z)(dn))it(be,Xe,fn,gt,Ve,qe,Ht);else{var Jn=qe?qe(ye(be,fn),dn,fn+"",be,Xe,Ht):void 0;Jn===void 0&&(Jn=dn),lt(be,fn,Jn)}},Ue.Z)}var et=Ve,wt=f(19851),jt=f(61833);function on(be){return(0,wt.Z)(function(Xe,gt){var qe=-1,Ht=gt.length,dn=Ht>1?gt[Ht-1]:void 0,fn=Ht>2?gt[2]:void 0;for(dn=be.length>3&&typeof dn=="function"?(Ht--,dn):void 0,fn&&(0,jt.Z)(gt[0],gt[1],fn)&&(dn=Ht<3?void 0:dn,Ht=1),Xe=Object(Xe);++qe<Ht;){var Jn=gt[qe];Jn&&be(Xe,Jn,qe,dn)}return Xe})}var bn=on,Ft=bn(function(be,Xe,gt){et(be,Xe,gt)}),Mt=Ft,_t=f(77524),Jt=f(70374),Me=f(28776);function yn(be,Xe,gt){for(var qe=-1,Ht=be.length;++qe<Ht;){var dn=be[qe],fn=Xe(dn);if(fn!=null&&(Jn===void 0?fn===fn&&!(0,Me.Z)(fn):gt(fn,Jn)))var Jn=fn,br=dn}return br}var Wt=yn;function xn(be,Xe){return be>Xe}var Nn=xn,Cr=f(76402);function jr(be){return be&&be.length?Wt(be,Cr.Z,Nn):void 0}var ii=jr;function xi(be){var Xe=be==null?0:be.length;return Xe?be[Xe-1]:void 0}var $i=xi,_i=f(52110),Vr=f(50637);function Kr(be,Xe){var gt={};return Xe=(0,Vr.Z)(Xe,3),(0,_i.Z)(be,function(qe,Ht,dn){(0,je.Z)(gt,Ht,Xe(qe,Ht,dn))}),gt}var Tr=Kr,qt=f(71180);function Zt(be,Xe){return be<Xe}var Ee=Zt;function pe(be){return be&&be.length?Wt(be,Cr.Z,Ee):void 0}var oe=pe,me=f(99615),Pe=function(){return me.Z.Date.now()},nt=Pe;function ht(be,Xe,gt,qe){var Ht;do Ht=m.Z(qe);while(be.hasNode(Ht));return gt.dummy=Xe,be.setNode(Ht,gt),Ht}function vt(be){var Xe=new T.k().setGraph(be.graph());return x.Z(be.nodes(),function(gt){Xe.setNode(gt,be.node(gt))}),x.Z(be.edges(),function(gt){var qe=Xe.edge(gt.v,gt.w)||{weight:0,minlen:1},Ht=be.edge(gt);Xe.setEdge(gt.v,gt.w,{weight:qe.weight+Ht.weight,minlen:Math.max(qe.minlen,Ht.minlen)})}),Xe}function St(be){var Xe=new T.k({multigraph:be.isMultigraph()}).setGraph(be.graph());return x.Z(be.nodes(),function(gt){be.children(gt).length||Xe.setNode(gt,be.node(gt))}),x.Z(be.edges(),function(gt){Xe.setEdge(gt,be.edge(gt))}),Xe}function It(be){var Xe=_.map(be.nodes(),function(gt){var qe={};return _.forEach(be.outEdges(gt),function(Ht){qe[Ht.w]=(qe[Ht.w]||0)+be.edge(Ht).weight}),qe});return _.zipObject(be.nodes(),Xe)}function Kt(be){var Xe=_.map(be.nodes(),function(gt){var qe={};return _.forEach(be.inEdges(gt),function(Ht){qe[Ht.v]=(qe[Ht.v]||0)+be.edge(Ht).weight}),qe});return _.zipObject(be.nodes(),Xe)}function Tt(be,Xe){var gt=be.x,qe=be.y,Ht=Xe.x-gt,dn=Xe.y-qe,fn=be.width/2,Jn=be.height/2;if(!Ht&&!dn)throw new Error("Not possible to find intersection inside of the rectangle");var br,Or;return Math.abs(dn)*fn>Math.abs(Ht)*Jn?(dn<0&&(Jn=-Jn),br=Jn*Ht/dn,Or=Jn):(Ht<0&&(fn=-fn),br=fn,Or=fn*dn/Ht),{x:gt+br,y:qe+Or}}function Lt(be){var Xe=M.Z(D.Z(Dn(be)+1),function(){return[]});return x.Z(be.nodes(),function(gt){var qe=be.node(gt),Ht=qe.rank;qt.Z(Ht)||(Xe[Ht][qe.order]=gt)}),Xe}function Gt(be){var Xe=oe(M.Z(be.nodes(),function(gt){return be.node(gt).rank}));x.Z(be.nodes(),function(gt){var qe=be.node(gt);p.Z(qe,"rank")&&(qe.rank-=Xe)})}function Yt(be){var Xe=oe(M.Z(be.nodes(),function(dn){return be.node(dn).rank})),gt=[];x.Z(be.nodes(),function(dn){var fn=be.node(dn).rank-Xe;gt[fn]||(gt[fn]=[]),gt[fn].push(dn)});var qe=0,Ht=be.graph().nodeRankFactor;x.Z(gt,function(dn,fn){qt.Z(dn)&&fn%Ht!==0?--qe:qe&&x.Z(dn,function(Jn){be.node(Jn).rank+=qe})})}function Mn(be,Xe,gt,qe){var Ht={width:0,height:0};return arguments.length>=4&&(Ht.rank=gt,Ht.order=qe),ht(be,"border",Ht,Xe)}function Dn(be){return ii(M.Z(be.nodes(),function(Xe){var gt=be.node(Xe).rank;if(!qt.Z(gt))return gt}))}function wn(be,Xe){var gt={lhs:[],rhs:[]};return x.Z(be,function(qe){Xe(qe)?gt.lhs.push(qe):gt.rhs.push(qe)}),gt}function mn(be,Xe){var gt=nt();try{return Xe()}finally{console.log(be+" time: "+(nt()-gt)+"ms")}}function On(be,Xe){return Xe()}function Rn(be){function Xe(gt){var qe=be.children(gt),Ht=be.node(gt);if(qe.length&&x.Z(qe,Xe),p.Z(Ht,"minRank")){Ht.borderLeft=[],Ht.borderRight=[];for(var dn=Ht.minRank,fn=Ht.maxRank+1;dn<fn;++dn)Kn(be,"borderLeft","_bl",gt,Ht,dn),Kn(be,"borderRight","_br",gt,Ht,dn)}}x.Z(be.children(),Xe)}function Kn(be,Xe,gt,qe,Ht,dn){var fn={width:0,height:0,rank:dn,borderType:Xe},Jn=Ht[Xe][dn-1],br=ht(be,"border",fn,gt);Ht[Xe][dn]=br,be.setParent(br,qe),Jn&&be.setEdge(Jn,br,{weight:1})}function jn(be){var Xe=be.graph().rankdir.toLowerCase();(Xe==="lr"||Xe==="rl")&&cr(be)}function tr(be){var Xe=be.graph().rankdir.toLowerCase();(Xe==="bt"||Xe==="rl")&&Zn(be),(Xe==="lr"||Xe==="rl")&&(yi(be),cr(be))}function cr(be){x.Z(be.nodes(),function(Xe){ar(be.node(Xe))}),x.Z(be.edges(),function(Xe){ar(be.edge(Xe))})}function ar(be){var Xe=be.width;be.width=be.height,be.height=Xe}function Zn(be){x.Z(be.nodes(),function(Xe){Un(be.node(Xe))}),x.Z(be.edges(),function(Xe){var gt=be.edge(Xe);x.Z(gt.points,Un),p.Z(gt,"y")&&Un(gt)})}function Un(be){be.y=-be.y}function yi(be){x.Z(be.nodes(),function(Xe){gi(be.node(Xe))}),x.Z(be.edges(),function(Xe){var gt=be.edge(Xe);x.Z(gt.points,gi),p.Z(gt,"x")&&gi(gt)})}function gi(be){var Xe=be.x;be.x=be.y,be.y=Xe}var Xr=f(27942),Vn=f(27720);function ci(be){var Xe=ht(be,"root",{},"_root"),gt=oi(be),qe=ii(Xr.Z(gt))-1,Ht=2*qe+1;be.graph().nestingRoot=Xe,x.Z(be.edges(),function(fn){be.edge(fn).minlen*=Ht});var dn=Ar(be)+1;x.Z(be.children(),function(fn){mi(be,Xe,Ht,dn,qe,gt,fn)}),be.graph().nodeRankFactor=Ht}function mi(be,Xe,gt,qe,Ht,dn,fn){var Jn=be.children(fn);if(!Jn.length){fn!==Xe&&be.setEdge(Xe,fn,{weight:0,minlen:gt});return}var br=Mn(be,"_bt"),Or=Mn(be,"_bb"),Gr=be.node(fn);be.setParent(br,fn),Gr.borderTop=br,be.setParent(Or,fn),Gr.borderBottom=Or,x.Z(Jn,function(Fi){mi(be,Xe,gt,qe,Ht,dn,Fi);var Ga=be.node(Fi),Ra=Ga.borderTop?Ga.borderTop:Fi,oo=Ga.borderBottom?Ga.borderBottom:Fi,nl=Ga.borderTop?qe:2*qe,xl=Ra!==oo?1:Ht-dn[fn]+1;be.setEdge(br,Ra,{weight:nl,minlen:xl,nestingEdge:!0}),be.setEdge(oo,Or,{weight:nl,minlen:xl,nestingEdge:!0})}),be.parent(fn)||be.setEdge(Xe,br,{weight:0,minlen:Ht+dn[fn]})}function oi(be){var Xe={};function gt(qe,Ht){var dn=be.children(qe);dn&&dn.length&&x.Z(dn,function(fn){gt(fn,Ht+1)}),Xe[qe]=Ht}return x.Z(be.children(),function(qe){gt(qe,1)}),Xe}function Ar(be){return Vn.Z(be.edges(),function(Xe,gt){return Xe+be.edge(gt).weight},0)}function Fr(be){var Xe=be.graph();be.removeNode(Xe.nestingRoot),delete Xe.nestingRoot,x.Z(be.edges(),function(gt){var qe=be.edge(gt);qe.nestingEdge&&be.removeEdge(gt)})}var lr=f(85811),Hr=1,He=4;function kt(be){return(0,lr.Z)(be,Hr|He)}var Pn=kt;function En(be,Xe,gt){var qe={},Ht;x.Z(gt,function(dn){for(var fn=be.parent(dn),Jn,br;fn;){if(Jn=be.parent(fn),Jn?(br=qe[Jn],qe[Jn]=fn):(br=Ht,Ht=fn),br&&br!==fn){Xe.setEdge(br,fn);return}fn=Jn}})}function Qn(be,Xe,gt){var qe=Gn(be),Ht=new T.k({compound:!0}).setGraph({root:qe}).setDefaultNodeLabel(function(dn){return be.node(dn)});return x.Z(be.nodes(),function(dn){var fn=be.node(dn),Jn=be.parent(dn);(fn.rank===Xe||fn.minRank<=Xe&&Xe<=fn.maxRank)&&(Ht.setNode(dn),Ht.setParent(dn,Jn||qe),x.Z(be[gt](dn),function(br){var Or=br.v===dn?br.w:br.v,Gr=Ht.edge(Or,dn),Fi=qt.Z(Gr)?0:Gr.weight;Ht.setEdge(Or,dn,{weight:be.edge(br).weight+Fi})}),p.Z(fn,"minRank")&&Ht.setNode(dn,{borderLeft:fn.borderLeft[Xe],borderRight:fn.borderRight[Xe]}))}),Ht}function Gn(be){for(var Xe;be.hasNode(Xe=m.Z("_root")););return Xe}var Li=f(61572);function Yr(be,Xe,gt){for(var qe=-1,Ht=be.length,dn=Xe.length,fn={};++qe<Ht;){var Jn=qe<dn?Xe[qe]:void 0;gt(fn,be[qe],Jn)}return fn}var Bi=Yr;function bi(be,Xe){return Bi(be||[],Xe||[],Li.Z)}var Ma=bi,Ya=f(84887),Io=f(28019),eo=f(49084),Do=f(51135);function Ti(be,Xe){var gt=be.length;for(be.sort(Xe);gt--;)be[gt]=be[gt].value;return be}var sa=Ti,Vs=f(5467);function El(be,Xe){if(be!==Xe){var gt=be!==void 0,qe=be===null,Ht=be===be,dn=(0,Me.Z)(be),fn=Xe!==void 0,Jn=Xe===null,br=Xe===Xe,Or=(0,Me.Z)(Xe);if(!Jn&&!Or&&!dn&&be>Xe||dn&&fn&&br&&!Jn&&!Or||qe&&fn&&br||!gt&&br||!Ht)return 1;if(!qe&&!dn&&!Or&&be<Xe||Or&&gt&&Ht&&!qe&&!dn||Jn&&gt&&Ht||!fn&&Ht||!br)return-1}return 0}var Zl=El;function bo(be,Xe,gt){for(var qe=-1,Ht=be.criteria,dn=Xe.criteria,fn=Ht.length,Jn=gt.length;++qe<fn;){var br=Zl(Ht[qe],dn[qe]);if(br){if(qe>=Jn)return br;var Or=gt[qe];return br*(Or=="desc"?-1:1)}}return be.index-Xe.index}var vl=bo;function dc(be,Xe,gt){Xe.length?Xe=(0,Io.Z)(Xe,function(dn){return(0,de.Z)(dn)?function(fn){return(0,eo.Z)(fn,dn.length===1?dn[0]:dn)}:dn}):Xe=[Cr.Z];var qe=-1;Xe=(0,Io.Z)(Xe,(0,Vs.Z)(Vr.Z));var Ht=(0,Do.Z)(be,function(dn,fn,Jn){var br=(0,Io.Z)(Xe,function(Or){return Or(dn)});return{criteria:br,index:++qe,value:dn}});return sa(Ht,function(dn,fn){return vl(dn,fn,gt)})}var As=dc,Ol=(0,wt.Z)(function(be,Xe){if(be==null)return[];var gt=Xe.length;return gt>1&&(0,jt.Z)(be,Xe[0],Xe[1])?Xe=[]:gt>2&&(0,jt.Z)(Xe[0],Xe[1],Xe[2])&&(Xe=[Xe[0]]),As(be,(0,Ya.Z)(Xe,1),[])}),vs=Ol;function Os(be,Xe){for(var gt=0,qe=1;qe<Xe.length;++qe)gt+=Qs(be,Xe[qe-1],Xe[qe]);return gt}function Qs(be,Xe,gt){for(var qe=Ma(gt,M.Z(gt,function(Or,Gr){return Gr})),Ht=v.Z(M.Z(Xe,function(Or){return vs(M.Z(be.outEdges(Or),function(Gr){return{pos:qe[Gr.w],weight:be.edge(Gr).weight}}),"pos")})),dn=1;dn<gt.length;)dn<<=1;var fn=2*dn-1;dn-=1;var Jn=M.Z(new Array(fn),function(){return 0}),br=0;return x.Z(Ht.forEach(function(Or){var Gr=Or.pos+dn;Jn[Gr]+=Or.weight;for(var Fi=0;Gr>0;)Gr%2&&(Fi+=Jn[Gr+1]),Gr=Gr-1>>1,Jn[Gr]+=Or.weight;br+=Or.weight*Fi})),br}var Js=f(38364);function nn(be){var Xe={},gt=Js.Z(be.nodes(),function(Jn){return!be.children(Jn).length}),qe=ii(M.Z(gt,function(Jn){return be.node(Jn).rank})),Ht=M.Z(D.Z(qe+1),function(){return[]});function dn(Jn){if(!p.Z(Xe,Jn)){Xe[Jn]=!0;var br=be.node(Jn);Ht[br.rank].push(Jn),x.Z(be.successors(Jn),dn)}}var fn=vs(gt,function(Jn){return be.node(Jn).rank});return x.Z(fn,dn),Ht}function Ku(be,Xe){return M.Z(Xe,function(gt){var qe=be.inEdges(gt);if(qe.length){var Ht=Vn.Z(qe,function(dn,fn){var Jn=be.edge(fn),br=be.node(fn.v);return{sum:dn.sum+Jn.weight*br.order,weight:dn.weight+Jn.weight}},{sum:0,weight:0});return{v:gt,barycenter:Ht.sum/Ht.weight,weight:Ht.weight}}else return{v:gt}})}function al(be,Xe){var gt={};x.Z(be,function(Ht,dn){var fn=gt[Ht.v]={indegree:0,in:[],out:[],vs:[Ht.v],i:dn};qt.Z(Ht.barycenter)||(fn.barycenter=Ht.barycenter,fn.weight=Ht.weight)}),x.Z(Xe.edges(),function(Ht){var dn=gt[Ht.v],fn=gt[Ht.w];!qt.Z(dn)&&!qt.Z(fn)&&(fn.indegree++,dn.out.push(gt[Ht.w]))});var qe=Js.Z(gt,function(Ht){return!Ht.indegree});return Lo(qe)}function Lo(be){var Xe=[];function gt(dn){return function(fn){fn.merged||(qt.Z(fn.barycenter)||qt.Z(dn.barycenter)||fn.barycenter>=dn.barycenter)&&zl(dn,fn)}}function qe(dn){return function(fn){fn.in.push(dn),--fn.indegree===0&&be.push(fn)}}for(;be.length;){var Ht=be.pop();Xe.push(Ht),x.Z(Ht.in.reverse(),gt(Ht)),x.Z(Ht.out,qe(Ht))}return M.Z(Js.Z(Xe,function(dn){return!dn.merged}),function(dn){return _t.Z(dn,["vs","i","barycenter","weight"])})}function zl(be,Xe){var gt=0,qe=0;be.weight&&(gt+=be.barycenter*be.weight,qe+=be.weight),Xe.weight&&(gt+=Xe.barycenter*Xe.weight,qe+=Xe.weight),be.vs=Xe.vs.concat(be.vs),be.barycenter=gt/qe,be.weight=qe,be.i=Math.min(Xe.i,be.i),Xe.merged=!0}function Po(be,Xe){var gt=wn(be,function(Gr){return p.Z(Gr,"barycenter")}),qe=gt.lhs,Ht=vs(gt.rhs,function(Gr){return-Gr.i}),dn=[],fn=0,Jn=0,br=0;qe.sort(Ys(!!Xe)),br=Ec(dn,Ht,br),x.Z(qe,function(Gr){br+=Gr.vs.length,dn.push(Gr.vs),fn+=Gr.barycenter*Gr.weight,Jn+=Gr.weight,br=Ec(dn,Ht,br)});var Or={vs:v.Z(dn)};return Jn&&(Or.barycenter=fn/Jn,Or.weight=Jn),Or}function Ec(be,Xe,gt){for(var qe;Xe.length&&(qe=$i(Xe)).i<=gt;)Xe.pop(),be.push(qe.vs),gt++;return gt}function Ys(be){return function(Xe,gt){return Xe.barycenter<gt.barycenter?-1:Xe.barycenter>gt.barycenter?1:be?gt.i-Xe.i:Xe.i-gt.i}}function Rc(be,Xe,gt,qe){var Ht=be.children(Xe),dn=be.node(Xe),fn=dn?dn.borderLeft:void 0,Jn=dn?dn.borderRight:void 0,br={};fn&&(Ht=Js.Z(Ht,function(oo){return oo!==fn&&oo!==Jn}));var Or=Ku(be,Ht);x.Z(Or,function(oo){if(be.children(oo.v).length){var nl=Rc(be,oo.v,gt,qe);br[oo.v]=nl,p.Z(nl,"barycenter")&&Wl(oo,nl)}});var Gr=al(Or,gt);Cu(Gr,br);var Fi=Po(Gr,qe);if(fn&&(Fi.vs=v.Z([fn,Fi.vs,Jn]),be.predecessors(fn).length)){var Ga=be.node(be.predecessors(fn)[0]),Ra=be.node(be.predecessors(Jn)[0]);p.Z(Fi,"barycenter")||(Fi.barycenter=0,Fi.weight=0),Fi.barycenter=(Fi.barycenter*Fi.weight+Ga.order+Ra.order)/(Fi.weight+2),Fi.weight+=2}return Fi}function Cu(be,Xe){x.Z(be,function(gt){gt.vs=v.Z(gt.vs.map(function(qe){return Xe[qe]?Xe[qe].vs:qe}))})}function Wl(be,Xe){qt.Z(be.barycenter)?(be.barycenter=Xe.barycenter,be.weight=Xe.weight):(be.barycenter=(be.barycenter*be.weight+Xe.barycenter*Xe.weight)/(be.weight+Xe.weight),be.weight+=Xe.weight)}function ol(be){var Xe=Dn(be),gt=pu(be,D.Z(1,Xe+1),"inEdges"),qe=pu(be,D.Z(Xe-1,-1,-1),"outEdges"),Ht=nn(be);Ul(be,Ht);for(var dn=Number.POSITIVE_INFINITY,fn,Jn=0,br=0;br<4;++Jn,++br){Pc(Jn%2?gt:qe,Jn%4>=2),Ht=Lt(be);var Or=Os(be,Ht);Or<dn&&(br=0,fn=Pn(Ht),dn=Or)}Ul(be,fn)}function pu(be,Xe,gt){return M.Z(Xe,function(qe){return Qn(be,qe,gt)})}function Pc(be,Xe){var gt=new T.k;x.Z(be,function(qe){var Ht=qe.graph().root,dn=Rc(qe,Ht,gt,Xe);x.Z(dn.vs,function(fn,Jn){qe.node(fn).order=Jn}),En(qe,gt,dn.vs)})}function Ul(be,Xe){x.Z(Xe,function(gt){x.Z(gt,function(qe,Ht){be.node(qe).order=Ht})})}function Bc(be){var Xe=_a(be);x.Z(be.graph().dummyChains,function(gt){for(var qe=be.node(gt),Ht=qe.edgeObj,dn=Nl(be,Xe,Ht.v,Ht.w),fn=dn.path,Jn=dn.lca,br=0,Or=fn[br],Gr=!0;gt!==Ht.w;){if(qe=be.node(gt),Gr){for(;(Or=fn[br])!==Jn&&be.node(Or).maxRank<qe.rank;)br++;Or===Jn&&(Gr=!1)}if(!Gr){for(;br<fn.length-1&&be.node(Or=fn[br+1]).minRank<=qe.rank;)br++;Or=fn[br]}be.setParent(gt,Or),gt=be.successors(gt)[0]}})}function Nl(be,Xe,gt,qe){var Ht=[],dn=[],fn=Math.min(Xe[gt].low,Xe[qe].low),Jn=Math.max(Xe[gt].lim,Xe[qe].lim),br,Or;br=gt;do br=be.parent(br),Ht.push(br);while(br&&(Xe[br].low>fn||Jn>Xe[br].lim));for(Or=br,br=qe;(br=be.parent(br))!==Or;)dn.push(br);return{path:Ht.concat(dn.reverse()),lca:Or}}function _a(be){var Xe={},gt=0;function qe(Ht){var dn=gt;x.Z(be.children(Ht),qe),Xe[Ht]={low:dn,lim:gt++}}return x.Z(be.children(),qe),Xe}var Wn=f(49634),Di=f(77251);function Hi(be){return function(Xe,gt,qe){var Ht=Object(Xe);if(!(0,Wn.Z)(Xe)){var dn=(0,Vr.Z)(gt,3);Xe=(0,Di.Z)(Xe),gt=function(Jn){return dn(Ht[Jn],Jn,Ht)}}var fn=be(Xe,gt,qe);return fn>-1?Ht[dn?Xe[fn]:fn]:void 0}}var Ca=Hi,Qr=f(57394),yo=f(32200);function ko(be){var Xe=(0,yo.Z)(be),gt=Xe%1;return Xe===Xe?gt?Xe-gt:Xe:0}var Da=ko,Uo=Math.max;function Fs(be,Xe,gt){var qe=be==null?0:be.length;if(!qe)return-1;var Ht=gt==null?0:Da(gt);return Ht<0&&(Ht=Uo(qe+Ht,0)),(0,Qr.Z)(be,(0,Vr.Z)(Xe,3),Ht)}var gs=Fs,Cl=Ca(gs),Tu=Cl;function Su(be,Xe){return be&&be.length?Wt(be,(0,Vr.Z)(Xe,2),Ee):void 0}var ec=Su,Ns=f(53496);function Ks(be,Xe){return be==null?be:(0,Te.Z)(be,(0,Ns.Z)(Xe),Ue.Z)}var Zs=Ks;function ns(be,Xe){var gt={};function qe(Ht,dn){var fn=0,Jn=0,br=Ht.length,Or=$i(dn);return x.Z(dn,function(Gr,Fi){var Ga=zo(be,Gr),Ra=Ga?be.node(Ga).order:br;(Ga||Gr===Or)&&(x.Z(dn.slice(Jn,Fi+1),function(oo){x.Z(be.predecessors(oo),function(nl){var xl=be.node(nl),ih=xl.order;(ih<fn||Ra<ih)&&!(xl.dummy&&be.node(oo).dummy)&&ml(gt,nl,oo)})}),Jn=Fi+1,fn=Ra)}),dn}return Vn.Z(Xe,qe),gt}function gl(be,Xe){var gt={};function qe(dn,fn,Jn,br,Or){var Gr;x.Z(D.Z(fn,Jn),function(Fi){Gr=dn[Fi],be.node(Gr).dummy&&x.Z(be.predecessors(Gr),function(Ga){var Ra=be.node(Ga);Ra.dummy&&(Ra.order<br||Ra.order>Or)&&ml(gt,Ga,Gr)})})}function Ht(dn,fn){var Jn=-1,br,Or=0;return x.Z(fn,function(Gr,Fi){if(be.node(Gr).dummy==="border"){var Ga=be.predecessors(Gr);Ga.length&&(br=be.node(Ga[0]).order,qe(fn,Or,Fi,Jn,br),Or=Fi,Jn=br)}qe(fn,Or,fn.length,br,dn.length)}),fn}return Vn.Z(Xe,Ht),gt}function zo(be,Xe){if(be.node(Xe).dummy)return Tu(be.predecessors(Xe),function(gt){return be.node(gt).dummy})}function ml(be,Xe,gt){if(Xe>gt){var qe=Xe;Xe=gt,gt=qe}var Ht=be[Xe];Ht||(be[Xe]=Ht={}),Ht[gt]=!0}function Ms(be,Xe,gt){if(Xe>gt){var qe=Xe;Xe=gt,gt=qe}return p.Z(be[Xe],gt)}function Hl(be,Xe,gt,qe){var Ht={},dn={},fn={};return x.Z(Xe,function(Jn){x.Z(Jn,function(br,Or){Ht[br]=br,dn[br]=br,fn[br]=Or})}),x.Z(Xe,function(Jn){var br=-1;x.Z(Jn,function(Or){var Gr=qe(Or);if(Gr.length){Gr=vs(Gr,function(nl){return fn[nl]});for(var Fi=(Gr.length-1)/2,Ga=Math.floor(Fi),Ra=Math.ceil(Fi);Ga<=Ra;++Ga){var oo=Gr[Ga];dn[Or]===Or&&br<fn[oo]&&!Ms(gt,Or,oo)&&(dn[oo]=Or,dn[Or]=Ht[Or]=Ht[oo],br=fn[oo])}}})}),{root:Ht,align:dn}}function Cc(be,Xe,gt,qe,Ht){var dn={},fn=Rs(be,Xe,gt,Ht),Jn=Ht?"borderLeft":"borderRight";function br(Fi,Ga){for(var Ra=fn.nodes(),oo=Ra.pop(),nl={};oo;)nl[oo]?Fi(oo):(nl[oo]=!0,Ra.push(oo),Ra=Ra.concat(Ga(oo))),oo=Ra.pop()}function Or(Fi){dn[Fi]=fn.inEdges(Fi).reduce(function(Ga,Ra){return Math.max(Ga,dn[Ra.v]+fn.edge(Ra))},0)}function Gr(Fi){var Ga=fn.outEdges(Fi).reduce(function(oo,nl){return Math.min(oo,dn[nl.w]-fn.edge(nl))},Number.POSITIVE_INFINITY),Ra=be.node(Fi);Ga!==Number.POSITIVE_INFINITY&&Ra.borderType!==Jn&&(dn[Fi]=Math.max(dn[Fi],Ga))}return br(Or,fn.predecessors.bind(fn)),br(Gr,fn.successors.bind(fn)),x.Z(qe,function(Fi){dn[Fi]=dn[gt[Fi]]}),dn}function Rs(be,Xe,gt,qe){var Ht=new T.k,dn=be.graph(),fn=po(dn.nodesep,dn.edgesep,qe);return x.Z(Xe,function(Jn){var br;x.Z(Jn,function(Or){var Gr=gt[Or];if(Ht.setNode(Gr),br){var Fi=gt[br],Ga=Ht.edge(Fi,Gr);Ht.setEdge(Fi,Gr,Math.max(fn(be,Or,br),Ga||0))}br=Or})}),Ht}function bl(be,Xe){return ec(Xr.Z(Xe),function(gt){var qe=Number.NEGATIVE_INFINITY,Ht=Number.POSITIVE_INFINITY;return Zs(gt,function(dn,fn){var Jn=Bo(be,fn)/2;qe=Math.max(dn+Jn,qe),Ht=Math.min(dn-Jn,Ht)}),qe-Ht})}function eu(be,Xe){var gt=Xr.Z(Xe),qe=oe(gt),Ht=ii(gt);x.Z(["u","d"],function(dn){x.Z(["l","r"],function(fn){var Jn=dn+fn,br=be[Jn],Or;if(br!==Xe){var Gr=Xr.Z(br);Or=fn==="l"?qe-oe(Gr):Ht-ii(Gr),Or&&(be[Jn]=Tr(br,function(Fi){return Fi+Or}))}})})}function tu(be,Xe){return Tr(be.ul,function(gt,qe){if(Xe)return be[Xe.toLowerCase()][qe];var Ht=vs(M.Z(be,qe));return(Ht[1]+Ht[2])/2})}function Rl(be){var Xe=Lt(be),gt=Mt(ns(be,Xe),gl(be,Xe)),qe={},Ht;x.Z(["u","d"],function(fn){Ht=fn==="u"?Xe:Xr.Z(Xe).reverse(),x.Z(["l","r"],function(Jn){Jn==="r"&&(Ht=M.Z(Ht,function(Fi){return Xr.Z(Fi).reverse()}));var br=(fn==="u"?be.predecessors:be.successors).bind(be),Or=Hl(be,Ht,gt,br),Gr=Cc(be,Ht,Or.root,Or.align,Jn==="r");Jn==="r"&&(Gr=Tr(Gr,function(Fi){return-Fi})),qe[fn+Jn]=Gr})});var dn=bl(be,qe);return eu(qe,dn),tu(qe,be.graph().align)}function po(be,Xe,gt){return function(qe,Ht,dn){var fn=qe.node(Ht),Jn=qe.node(dn),br=0,Or;if(br+=fn.width/2,p.Z(fn,"labelpos"))switch(fn.labelpos.toLowerCase()){case"l":Or=-fn.width/2;break;case"r":Or=fn.width/2;break}if(Or&&(br+=gt?Or:-Or),Or=0,br+=(fn.dummy?Xe:be)/2,br+=(Jn.dummy?Xe:be)/2,br+=Jn.width/2,p.Z(Jn,"labelpos"))switch(Jn.labelpos.toLowerCase()){case"l":Or=Jn.width/2;break;case"r":Or=-Jn.width/2;break}return Or&&(br+=gt?Or:-Or),Or=0,br}}function Bo(be,Xe){return be.node(Xe).width}function ls(be){be=St(be),el(be),x.Z(Rl(be),function(Xe,gt){be.node(gt).x=Xe})}function el(be){var Xe=Lt(be),gt=be.graph().ranksep,qe=0;x.Z(Xe,function(Ht){var dn=ii(M.Z(Ht,function(fn){return be.node(fn).height}));x.Z(Ht,function(fn){be.node(fn).y=qe+dn/2}),qe+=dn+gt})}function cs(be,Xe){var gt=Xe&&Xe.debugTiming?mn:On;gt("layout",function(){var qe=gt("  buildLayoutGraph",function(){return ui(be)});gt("  runLayout",function(){fc(qe,gt)}),gt("  updateInputGraph",function(){ms(be,qe)})})}function fc(be,Xe){Xe("    makeSpaceForEdgeLabels",function(){fi(be)}),Xe("    removeSelfEdges",function(){Ps(be)}),Xe("    acyclic",function(){se(be)}),Xe("    nestingGraph.run",function(){ci(be)}),Xe("    rank",function(){rc(St(be))}),Xe("    injectEdgeLabelProxies",function(){za(be)}),Xe("    removeEmptyRanks",function(){Yt(be)}),Xe("    nestingGraph.cleanup",function(){Fr(be)}),Xe("    normalizeRanks",function(){Gt(be)}),Xe("    assignRankMinMax",function(){Ua(be)}),Xe("    removeEdgeLabelProxies",function(){ma(be)}),Xe("    normalize.run",function(){hc(be)}),Xe("    parentDummyChains",function(){Bc(be)}),Xe("    addBorderSegments",function(){Rn(be)}),Xe("    order",function(){ol(be)}),Xe("    insertSelfEdges",function(){Tc(be)}),Xe("    adjustCoordinateSystem",function(){jn(be)}),Xe("    position",function(){ls(be)}),Xe("    positionSelfEdges",function(){Sc(be)}),Xe("    removeBorderNodes",function(){sl(be)}),Xe("    normalize.undo",function(){Sd(be)}),Xe("    fixupEdgeLabelCoords",function(){jl(be)}),Xe("    undoCoordinateSystem",function(){tr(be)}),Xe("    translateGraph",function(){_o(be)}),Xe("    assignNodeIntersects",function(){$o(be)}),Xe("    reversePoints",function(){Yo(be)}),Xe("    acyclic.undo",function(){De(be)})}function ms(be,Xe){x.Z(be.nodes(),function(gt){var qe=be.node(gt),Ht=Xe.node(gt);qe&&(qe.x=Ht.x,qe.y=Ht.y,Xe.children(gt).length&&(qe.width=Ht.width,qe.height=Ht.height))}),x.Z(be.edges(),function(gt){var qe=be.edge(gt),Ht=Xe.edge(gt);qe.points=Ht.points,p.Z(Ht,"x")&&(qe.x=Ht.x,qe.y=Ht.y)}),be.graph().width=Xe.graph().width,be.graph().height=Xe.graph().height}var Gu=["nodesep","edgesep","ranksep","marginx","marginy"],dd={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Au=["acyclicer","ranker","rankdir","align"],ot=["width","height"],rn={width:0,height:0},pn=["minlen","weight","width","height","labeloffset"],_n={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Jr=["labelpos"];function ui(be){var Xe=new T.k({multigraph:!0,compound:!0}),gt=ks(be.graph());return Xe.setGraph(Mt({},dd,yl(gt,Gu),_t.Z(gt,Au))),x.Z(be.nodes(),function(qe){var Ht=ks(be.node(qe));Xe.setNode(qe,Jt.Z(yl(Ht,ot),rn)),Xe.setParent(qe,be.parent(qe))}),x.Z(be.edges(),function(qe){var Ht=ks(be.edge(qe));Xe.setEdge(qe,Mt({},_n,yl(Ht,pn),_t.Z(Ht,Jr)))}),Xe}function fi(be){var Xe=be.graph();Xe.ranksep/=2,x.Z(be.edges(),function(gt){var qe=be.edge(gt);qe.minlen*=2,qe.labelpos.toLowerCase()!=="c"&&(Xe.rankdir==="TB"||Xe.rankdir==="BT"?qe.width+=qe.labeloffset:qe.height+=qe.labeloffset)})}function za(be){x.Z(be.edges(),function(Xe){var gt=be.edge(Xe);if(gt.width&&gt.height){var qe=be.node(Xe.v),Ht=be.node(Xe.w),dn={rank:(Ht.rank-qe.rank)/2+qe.rank,e:Xe};ht(be,"edge-proxy",dn,"_ep")}})}function Ua(be){var Xe=0;x.Z(be.nodes(),function(gt){var qe=be.node(gt);qe.borderTop&&(qe.minRank=be.node(qe.borderTop).rank,qe.maxRank=be.node(qe.borderBottom).rank,Xe=ii(Xe,qe.maxRank))}),be.graph().maxRank=Xe}function ma(be){x.Z(be.nodes(),function(Xe){var gt=be.node(Xe);gt.dummy==="edge-proxy"&&(be.edge(gt.e).labelRank=gt.rank,be.removeNode(Xe))})}function _o(be){var Xe=Number.POSITIVE_INFINITY,gt=0,qe=Number.POSITIVE_INFINITY,Ht=0,dn=be.graph(),fn=dn.marginx||0,Jn=dn.marginy||0;function br(Or){var Gr=Or.x,Fi=Or.y,Ga=Or.width,Ra=Or.height;Xe=Math.min(Xe,Gr-Ga/2),gt=Math.max(gt,Gr+Ga/2),qe=Math.min(qe,Fi-Ra/2),Ht=Math.max(Ht,Fi+Ra/2)}x.Z(be.nodes(),function(Or){br(be.node(Or))}),x.Z(be.edges(),function(Or){var Gr=be.edge(Or);p.Z(Gr,"x")&&br(Gr)}),Xe-=fn,qe-=Jn,x.Z(be.nodes(),function(Or){var Gr=be.node(Or);Gr.x-=Xe,Gr.y-=qe}),x.Z(be.edges(),function(Or){var Gr=be.edge(Or);x.Z(Gr.points,function(Fi){Fi.x-=Xe,Fi.y-=qe}),p.Z(Gr,"x")&&(Gr.x-=Xe),p.Z(Gr,"y")&&(Gr.y-=qe)}),dn.width=gt-Xe+fn,dn.height=Ht-qe+Jn}function $o(be){x.Z(be.edges(),function(Xe){var gt=be.edge(Xe),qe=be.node(Xe.v),Ht=be.node(Xe.w),dn,fn;gt.points?(dn=gt.points[0],fn=gt.points[gt.points.length-1]):(gt.points=[],dn=Ht,fn=qe),gt.points.unshift(Tt(qe,dn)),gt.points.push(Tt(Ht,fn))})}function jl(be){x.Z(be.edges(),function(Xe){var gt=be.edge(Xe);if(p.Z(gt,"x"))switch((gt.labelpos==="l"||gt.labelpos==="r")&&(gt.width-=gt.labeloffset),gt.labelpos){case"l":gt.x-=gt.width/2+gt.labeloffset;break;case"r":gt.x+=gt.width/2+gt.labeloffset;break}})}function Yo(be){x.Z(be.edges(),function(Xe){var gt=be.edge(Xe);gt.reversed&&gt.points.reverse()})}function sl(be){x.Z(be.nodes(),function(Xe){if(be.children(Xe).length){var gt=be.node(Xe),qe=be.node(gt.borderTop),Ht=be.node(gt.borderBottom),dn=be.node($i(gt.borderLeft)),fn=be.node($i(gt.borderRight));gt.width=Math.abs(fn.x-dn.x),gt.height=Math.abs(Ht.y-qe.y),gt.x=dn.x+gt.width/2,gt.y=qe.y+gt.height/2}}),x.Z(be.nodes(),function(Xe){be.node(Xe).dummy==="border"&&be.removeNode(Xe)})}function Ps(be){x.Z(be.edges(),function(Xe){if(Xe.v===Xe.w){var gt=be.node(Xe.v);gt.selfEdges||(gt.selfEdges=[]),gt.selfEdges.push({e:Xe,label:be.edge(Xe)}),be.removeEdge(Xe)}})}function Tc(be){var Xe=Lt(be);x.Z(Xe,function(gt){var qe=0;x.Z(gt,function(Ht,dn){var fn=be.node(Ht);fn.order=dn+qe,x.Z(fn.selfEdges,function(Jn){ht(be,"selfedge",{width:Jn.label.width,height:Jn.label.height,rank:fn.rank,order:dn+ ++qe,e:Jn.e,label:Jn.label},"_se")}),delete fn.selfEdges})})}function Sc(be){x.Z(be.nodes(),function(Xe){var gt=be.node(Xe);if(gt.dummy==="selfedge"){var qe=be.node(gt.e.v),Ht=qe.x+qe.width/2,dn=qe.y,fn=gt.x-Ht,Jn=qe.height/2;be.setEdge(gt.e,gt.label),be.removeNode(Xe),gt.label.points=[{x:Ht+2*fn/3,y:dn-Jn},{x:Ht+5*fn/6,y:dn-Jn},{x:Ht+fn,y:dn},{x:Ht+5*fn/6,y:dn+Jn},{x:Ht+2*fn/3,y:dn+Jn}],gt.label.x=gt.x,gt.label.y=gt.y}})}function yl(be,Xe){return Tr(_t.Z(be,Xe),Number)}function ks(be){var Xe={};return x.Z(be,function(gt,qe){Xe[qe.toLowerCase()]=gt}),Xe}function hc(be){be.graph().dummyChains=[],x.Z(be.edges(),function(Xe){Td(be,Xe)})}function Td(be,Xe){var gt=Xe.v,qe=be.node(gt).rank,Ht=Xe.w,dn=be.node(Ht).rank,fn=Xe.name,Jn=be.edge(Xe),br=Jn.labelRank;if(dn!==qe+1){be.removeEdge(Xe);var Or,Gr,Fi;for(Fi=0,++qe;qe<dn;++Fi,++qe)Jn.points=[],Gr={width:0,height:0,edgeLabel:Jn,edgeObj:Xe,rank:qe},Or=ht(be,"edge",Gr,"_d"),qe===br&&(Gr.width=Jn.width,Gr.height=Jn.height,Gr.dummy="edge-label",Gr.labelpos=Jn.labelpos),be.setEdge(gt,Or,{weight:Jn.weight},fn),Fi===0&&be.graph().dummyChains.push(Or),gt=Or;be.setEdge(gt,Ht,{weight:Jn.weight},fn)}}function Sd(be){x.Z(be.graph().dummyChains,function(Xe){var gt=be.node(Xe),qe=gt.edgeLabel,Ht;for(be.setEdge(gt.edgeObj,qe);gt.dummy;)Ht=be.successors(Xe)[0],be.removeNode(Xe),qe.points.push({x:gt.x,y:gt.y}),gt.dummy==="edge-label"&&(qe.x=gt.x,qe.y=gt.y,qe.width=gt.width,qe.height=gt.height),Xe=Ht,gt=be.node(Xe)})}function Ad(be){var Xe={};function gt(qe){var Ht=be.node(qe);if(p.Z(Xe,qe))return Ht.rank;Xe[qe]=!0;var dn=oe(M.Z(be.outEdges(qe),function(fn){return gt(fn.w)-be.edge(fn).minlen}));return(dn===Number.POSITIVE_INFINITY||dn===void 0||dn===null)&&(dn=0),Ht.rank=dn}x.Z(be.sources(),gt)}function fd(be,Xe){return be.node(Xe.w).rank-be.node(Xe.v).rank-be.edge(Xe).minlen}function gf(be){var Xe=new T.k({directed:!1}),gt=be.nodes()[0],qe=be.nodeCount();Xe.setNode(gt,{});for(var Ht,dn;Tl(Xe,be)<qe;)Ht=mf(Xe,be),dn=Xe.hasNode(Ht.v)?fd(be,Ht):-fd(be,Ht),Ud(Xe,be,dn);return Xe}function Tl(be,Xe){function gt(qe){x.Z(Xe.nodeEdges(qe),function(Ht){var dn=Ht.v,fn=qe===dn?Ht.w:dn;!be.hasNode(fn)&&!fd(Xe,Ht)&&(be.setNode(fn,{}),be.setEdge(qe,fn,{}),gt(fn))})}return x.Z(be.nodes(),gt),be.nodeCount()}function mf(be,Xe){return ec(Xe.edges(),function(gt){if(be.hasNode(gt.v)!==be.hasNode(gt.w))return fd(Xe,gt)})}function Ud(be,Xe,gt){x.Z(be.nodes(),function(qe){Xe.node(qe).rank+=gt})}var Mu=d.Z(1);function nu(be,Xe,gt,qe){return Vl(be,String(Xe),gt||Mu,qe||function(Ht){return be.outEdges(Ht)})}function Vl(be,Xe,gt,qe){var Ht={},dn=new PriorityQueue,fn,Jn,br=function(Or){var Gr=Or.v!==fn?Or.v:Or.w,Fi=Ht[Gr],Ga=gt(Or),Ra=Jn.distance+Ga;if(Ga<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Or+" Weight: "+Ga);Ra<Fi.distance&&(Fi.distance=Ra,Fi.predecessor=fn,dn.decrease(Gr,Ra))};for(be.nodes().forEach(function(Or){var Gr=Or===Xe?0:Number.POSITIVE_INFINITY;Ht[Or]={distance:Gr},dn.add(Or,Gr)});dn.size()>0&&(fn=dn.removeMin(),Jn=Ht[fn],Jn.distance!==Number.POSITIVE_INFINITY);)qe(fn).forEach(br);return Ht}function hd(be,Xe,gt){return _.transform(be.nodes(),function(qe,Ht){qe[Ht]=dijkstra(be,Ht,Xe,gt)},{})}var Ac=d.Z(1);function tc(be,Xe,gt){return Nf(be,Xe||Ac,gt||function(qe){return be.outEdges(qe)})}function Nf(be,Xe,gt){var qe={},Ht=be.nodes();return Ht.forEach(function(dn){qe[dn]={},qe[dn][dn]={distance:0},Ht.forEach(function(fn){dn!==fn&&(qe[dn][fn]={distance:Number.POSITIVE_INFINITY})}),gt(dn).forEach(function(fn){var Jn=fn.v===dn?fn.w:fn.v,br=Xe(fn);qe[dn][Jn]={distance:br,predecessor:dn}})}),Ht.forEach(function(dn){var fn=qe[dn];Ht.forEach(function(Jn){var br=qe[Jn];Ht.forEach(function(Or){var Gr=br[dn],Fi=fn[Or],Ga=br[Or],Ra=Gr.distance+Fi.distance;Ra<Ga.distance&&(Ga.distance=Ra,Ga.predecessor=Fi.predecessor)})})}),qe}var qu=f(88343),Hd=f(23313),jd=f(33918),Vd=f(86814),pd="[object String]";function Yd(be){return typeof be=="string"||!(0,de.Z)(be)&&(0,Vd.Z)(be)&&(0,jd.Z)(be)==pd}var Rf=Yd,ru=f(99848),vd=(0,ru.Z)("length"),Fc=vd,Gs="\\ud800-\\udfff",Kd="\\u0300-\\u036f",Gd="\\ufe20-\\ufe2f",$u="\\u20d0-\\u20ff",Xu=Kd+Gd+$u,iu="\\ufe0e\\ufe0f",Pl="\\u200d",ll=RegExp("["+Pl+Gs+Xu+iu+"]");function zs(be){return ll.test(be)}var qd=zs,vu="\\ud800-\\udfff",$d="\\u0300-\\u036f",Md="\\ufe20-\\ufe2f",gd="\\u20d0-\\u20ff",bf=$d+Md+gd,pc="\\ufe0e\\ufe0f",yf="["+vu+"]",Du="["+bf+"]",Qu="\\ud83c[\\udffb-\\udfff]",Xd="(?:"+Du+"|"+Qu+")",Sl="[^"+vu+"]",Iu="(?:\\ud83c[\\udde6-\\uddff]){2}",md="[\\ud800-\\udbff][\\udc00-\\udfff]",Lu="\\u200d",Ou=Xd+"?",Zc="["+pc+"]?",_f="(?:"+Lu+"(?:"+[Sl,Iu,md].join("|")+")"+Zc+Ou+")*",xf=Zc+Ou+_f,Ju="(?:"+[Sl+Du+"?",Du,Iu,md,yf].join("|")+")",Qd=RegExp(Qu+"(?="+Qu+")|"+Ju+xf,"g");function nc(be){for(var Xe=Qd.lastIndex=0;Qd.test(be);)++Xe;return Xe}var Nu=nc;function Dd(be){return qd(be)?Nu(be):Fc(be)}var Jd=Dd,Pf="[object Map]",au="[object Set]";function Ka(be){if(be==null)return 0;if((0,Wn.Z)(be))return Rf(be)?Jd(be):be.length;var Xe=(0,Hd.Z)(be);return Xe==Pf||Xe==au?be.size:(0,qu.Z)(be).length}var bd=Ka;ef.CycleException=vc;function ef(be){var Xe={},gt={},qe=[];function Ht(dn){if(p.Z(gt,dn))throw new vc;p.Z(Xe,dn)||(gt[dn]=!0,Xe[dn]=!0,x.Z(be.predecessors(dn),Ht),delete gt[dn],qe.push(dn))}if(x.Z(be.sinks(),Ht),bd(Xe)!==be.nodeCount())throw new vc;return qe}function vc(){}vc.prototype=new Error;function wf(be){try{topsort(be)}catch(Xe){if(Xe instanceof CycleException)return!1;throw Xe}return!0}function ed(be,Xe,gt){de.Z(Xe)||(Xe=[Xe]);var qe=(be.isDirected()?be.successors:be.neighbors).bind(be),Ht=[],dn={};return x.Z(Xe,function(fn){if(!be.hasNode(fn))throw new Error("Graph does not have node: "+fn);kf(be,fn,gt==="post",dn,qe,Ht)}),Ht}function kf(be,Xe,gt,qe,Ht,dn){p.Z(qe,Xe)||(qe[Xe]=!0,gt||dn.push(Xe),x.Z(Ht(Xe),function(fn){kf(be,fn,gt,qe,Ht,dn)}),gt&&dn.push(Xe))}function Bf(be,Xe){return ed(be,Xe,"post")}function gu(be,Xe){return ed(be,Xe,"pre")}var xh=f(99965);function Id(be,Xe){var gt=new Graph,qe={},Ht=new PriorityQueue,dn;function fn(br){var Or=br.v===dn?br.w:br.v,Gr=Ht.priority(Or);if(Gr!==void 0){var Fi=Xe(br);Fi<Gr&&(qe[Or]=dn,Ht.decrease(Or,Fi))}}if(be.nodeCount()===0)return gt;_.each(be.nodes(),function(br){Ht.add(br,Number.POSITIVE_INFINITY),gt.setNode(br)}),Ht.decrease(be.nodes()[0],0);for(var Jn=!1;Ht.size()>0;){if(dn=Ht.removeMin(),_.has(qe,dn))gt.setEdge(dn,qe[dn]);else{if(Jn)throw new Error("Input graph is not connected: "+be);Jn=!0}be.nodeEdges(dn).forEach(fn)}return gt}Ds.initLowLimValues=tf,Ds.initCutValues=yd,Ds.calcCutValue=mu,Ds.leaveEdge=Ef,Ds.enterEdge=tl,Ds.exchangeEdges=Xo;function Ds(be){be=vt(be),Ad(be);var Xe=gf(be);tf(Xe),yd(Xe,be);for(var gt,qe;gt=Ef(Xe);)qe=tl(Xe,be,gt),Xo(Xe,be,gt,qe)}function yd(be,Xe){var gt=Bf(be,be.nodes());gt=gt.slice(0,gt.length-1),x.Z(gt,function(qe){Ff(be,Xe,qe)})}function Ff(be,Xe,gt){var qe=be.node(gt),Ht=qe.parent;be.edge(gt,Ht).cutvalue=mu(be,Xe,gt)}function mu(be,Xe,gt){var qe=be.node(gt),Ht=qe.parent,dn=!0,fn=Xe.edge(gt,Ht),Jn=0;return fn||(dn=!1,fn=Xe.edge(Ht,gt)),Jn=fn.weight,x.Z(Xe.nodeEdges(gt),function(br){var Or=br.v===gt,Gr=Or?br.w:br.v;if(Gr!==Ht){var Fi=Or===dn,Ga=Xe.edge(br).weight;if(Jn+=Fi?Ga:-Ga,Ws(be,gt,Gr)){var Ra=be.edge(gt,Gr).cutvalue;Jn+=Fi?-Ra:Ra}}}),Jn}function tf(be,Xe){arguments.length<2&&(Xe=be.nodes()[0]),wh(be,{},1,Xe)}function wh(be,Xe,gt,qe,Ht){var dn=gt,fn=be.node(qe);return Xe[qe]=!0,x.Z(be.neighbors(qe),function(Jn){p.Z(Xe,Jn)||(gt=wh(be,Xe,gt,Jn,qe))}),fn.low=dn,fn.lim=gt++,Ht?fn.parent=Ht:delete fn.parent,gt}function Ef(be){return Tu(be.edges(),function(Xe){return be.edge(Xe).cutvalue<0})}function tl(be,Xe,gt){var qe=gt.v,Ht=gt.w;Xe.hasEdge(qe,Ht)||(qe=gt.w,Ht=gt.v);var dn=be.node(qe),fn=be.node(Ht),Jn=dn,br=!1;dn.lim>fn.lim&&(Jn=fn,br=!0);var Or=Js.Z(Xe.edges(),function(Gr){return br===Al(be,be.node(Gr.v),Jn)&&br!==Al(be,be.node(Gr.w),Jn)});return ec(Or,function(Gr){return fd(Xe,Gr)})}function Xo(be,Xe,gt,qe){var Ht=gt.v,dn=gt.w;be.removeEdge(Ht,dn),be.setEdge(qe.v,qe.w,{}),tf(be),yd(be,Xe),Ko(be,Xe)}function Ko(be,Xe){var gt=Tu(be.nodes(),function(Ht){return!Xe.node(Ht).parent}),qe=gu(be,gt);qe=qe.slice(1),x.Z(qe,function(Ht){var dn=be.node(Ht).parent,fn=Xe.edge(Ht,dn),Jn=!1;fn||(fn=Xe.edge(dn,Ht),Jn=!0),Xe.node(Ht).rank=Xe.node(dn).rank+(Jn?fn.minlen:-fn.minlen)})}function Ws(be,Xe,gt){return be.hasEdge(Xe,gt)}function Al(be,Xe,gt){return gt.low<=Xe.lim&&Xe.lim<=gt.lim}function rc(be){switch(be.graph().ranker){case"network-simplex":_l(be);break;case"tight-tree":nf(be);break;case"longest-path":cl(be);break;default:_l(be)}}var cl=Ad;function nf(be){Ad(be),gf(be)}function _l(be){Ds(be)}},99965:function(ut,Ce,f){"use strict";f.d(Ce,{k:function(){return ye}});var O=f(27431),U=f(6964),x=f(6359),m=f(77251),p=f(38364),d=f(15943),v=f(79156),M=f(71180),D=f(84887),T=f(19851),S=f(61694),g=f(57394);function z(it){return it!==it}var E=z;function Y(it,Ve,et){for(var wt=et-1,jt=it.length;++wt<jt;)if(it[wt]===Ve)return wt;return-1}var q=Y;function j(it,Ve,et){return Ve===Ve?q(it,Ve,et):(0,g.Z)(it,E,et)}var le=j;function ce(it,Ve){var et=it==null?0:it.length;return!!et&&le(it,Ve,0)>-1}var se=ce;function ne(it,Ve,et){for(var wt=-1,jt=it==null?0:it.length;++wt<jt;)if(et(Ve,it[wt]))return!0;return!1}var De=ne,we=f(20465),je=f(36169);function dt(){}var Qe=dt,lt=f(64423),Te=1/0,Je=je.Z&&1/(0,lt.Z)(new je.Z([,-0]))[1]==Te?function(it){return new je.Z(it)}:Qe,te=Je,fe=200;function ue(it,Ve,et){var wt=-1,jt=se,on=it.length,bn=!0,Ft=[],Mt=Ft;if(et)bn=!1,jt=De;else if(on>=fe){var _t=Ve?null:te(it);if(_t)return(0,lt.Z)(_t);bn=!1,jt=we.Z,Mt=new S.Z}else Mt=Ve?[]:Ft;e:for(;++wt<on;){var Jt=it[wt],Me=Ve?Ve(Jt):Jt;if(Jt=et||Jt!==0?Jt:0,bn&&Me===Me){for(var yn=Mt.length;yn--;)if(Mt[yn]===Me)continue e;Ve&&Mt.push(Me),Ft.push(Jt)}else jt(Mt,Me,et)||(Mt!==Ft&&Mt.push(Me),Ft.push(Jt))}return Ft}var ae=ue,de=f(84488),ve=(0,T.Z)(function(it){return ae((0,D.Z)(it,1,de.Z,!0))}),J=ve,X=f(27942),K=f(27720),ze="\0",Ze="\0",We="";class ye{constructor(Ve={}){this._isDirected=O.Z(Ve,"directed")?Ve.directed:!0,this._isMultigraph=O.Z(Ve,"multigraph")?Ve.multigraph:!1,this._isCompound=O.Z(Ve,"compound")?Ve.compound:!1,this._label=void 0,this._defaultNodeLabelFn=U.Z(void 0),this._defaultEdgeLabelFn=U.Z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Ze]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(Ve){return this._label=Ve,this}graph(){return this._label}setDefaultNodeLabel(Ve){return x.Z(Ve)||(Ve=U.Z(Ve)),this._defaultNodeLabelFn=Ve,this}nodeCount(){return this._nodeCount}nodes(){return m.Z(this._nodes)}sources(){var Ve=this;return p.Z(this.nodes(),function(et){return d.Z(Ve._in[et])})}sinks(){var Ve=this;return p.Z(this.nodes(),function(et){return d.Z(Ve._out[et])})}setNodes(Ve,et){var wt=arguments,jt=this;return v.Z(Ve,function(on){wt.length>1?jt.setNode(on,et):jt.setNode(on)}),this}setNode(Ve,et){return O.Z(this._nodes,Ve)?(arguments.length>1&&(this._nodes[Ve]=et),this):(this._nodes[Ve]=arguments.length>1?et:this._defaultNodeLabelFn(Ve),this._isCompound&&(this._parent[Ve]=Ze,this._children[Ve]={},this._children[Ze][Ve]=!0),this._in[Ve]={},this._preds[Ve]={},this._out[Ve]={},this._sucs[Ve]={},++this._nodeCount,this)}node(Ve){return this._nodes[Ve]}hasNode(Ve){return O.Z(this._nodes,Ve)}removeNode(Ve){var et=this;if(O.Z(this._nodes,Ve)){var wt=function(jt){et.removeEdge(et._edgeObjs[jt])};delete this._nodes[Ve],this._isCompound&&(this._removeFromParentsChildList(Ve),delete this._parent[Ve],v.Z(this.children(Ve),function(jt){et.setParent(jt)}),delete this._children[Ve]),v.Z(m.Z(this._in[Ve]),wt),delete this._in[Ve],delete this._preds[Ve],v.Z(m.Z(this._out[Ve]),wt),delete this._out[Ve],delete this._sucs[Ve],--this._nodeCount}return this}setParent(Ve,et){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(M.Z(et))et=Ze;else{et+="";for(var wt=et;!M.Z(wt);wt=this.parent(wt))if(wt===Ve)throw new Error("Setting "+et+" as parent of "+Ve+" would create a cycle");this.setNode(et)}return this.setNode(Ve),this._removeFromParentsChildList(Ve),this._parent[Ve]=et,this._children[et][Ve]=!0,this}_removeFromParentsChildList(Ve){delete this._children[this._parent[Ve]][Ve]}parent(Ve){if(this._isCompound){var et=this._parent[Ve];if(et!==Ze)return et}}children(Ve){if(M.Z(Ve)&&(Ve=Ze),this._isCompound){var et=this._children[Ve];if(et)return m.Z(et)}else{if(Ve===Ze)return this.nodes();if(this.hasNode(Ve))return[]}}predecessors(Ve){var et=this._preds[Ve];if(et)return m.Z(et)}successors(Ve){var et=this._sucs[Ve];if(et)return m.Z(et)}neighbors(Ve){var et=this.predecessors(Ve);if(et)return J(et,this.successors(Ve))}isLeaf(Ve){var et;return this.isDirected()?et=this.successors(Ve):et=this.neighbors(Ve),et.length===0}filterNodes(Ve){var et=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});et.setGraph(this.graph());var wt=this;v.Z(this._nodes,function(bn,Ft){Ve(Ft)&&et.setNode(Ft,bn)}),v.Z(this._edgeObjs,function(bn){et.hasNode(bn.v)&&et.hasNode(bn.w)&&et.setEdge(bn,wt.edge(bn))});var jt={};function on(bn){var Ft=wt.parent(bn);return Ft===void 0||et.hasNode(Ft)?(jt[bn]=Ft,Ft):Ft in jt?jt[Ft]:on(Ft)}return this._isCompound&&v.Z(et.nodes(),function(bn){et.setParent(bn,on(bn))}),et}setDefaultEdgeLabel(Ve){return x.Z(Ve)||(Ve=U.Z(Ve)),this._defaultEdgeLabelFn=Ve,this}edgeCount(){return this._edgeCount}edges(){return X.Z(this._edgeObjs)}setPath(Ve,et){var wt=this,jt=arguments;return K.Z(Ve,function(on,bn){return jt.length>1?wt.setEdge(on,bn,et):wt.setEdge(on,bn),bn}),this}setEdge(){var Ve,et,wt,jt,on=!1,bn=arguments[0];typeof bn=="object"&&bn!==null&&"v"in bn?(Ve=bn.v,et=bn.w,wt=bn.name,arguments.length===2&&(jt=arguments[1],on=!0)):(Ve=bn,et=arguments[1],wt=arguments[3],arguments.length>2&&(jt=arguments[2],on=!0)),Ve=""+Ve,et=""+et,M.Z(wt)||(wt=""+wt);var Ft=Ye(this._isDirected,Ve,et,wt);if(O.Z(this._edgeLabels,Ft))return on&&(this._edgeLabels[Ft]=jt),this;if(!M.Z(wt)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(Ve),this.setNode(et),this._edgeLabels[Ft]=on?jt:this._defaultEdgeLabelFn(Ve,et,wt);var Mt=Ae(this._isDirected,Ve,et,wt);return Ve=Mt.v,et=Mt.w,Object.freeze(Mt),this._edgeObjs[Ft]=Mt,Ie(this._preds[et],Ve),Ie(this._sucs[Ve],et),this._in[et][Ft]=Mt,this._out[Ve][Ft]=Mt,this._edgeCount++,this}edge(Ve,et,wt){var jt=arguments.length===1?tt(this._isDirected,arguments[0]):Ye(this._isDirected,Ve,et,wt);return this._edgeLabels[jt]}hasEdge(Ve,et,wt){var jt=arguments.length===1?tt(this._isDirected,arguments[0]):Ye(this._isDirected,Ve,et,wt);return O.Z(this._edgeLabels,jt)}removeEdge(Ve,et,wt){var jt=arguments.length===1?tt(this._isDirected,arguments[0]):Ye(this._isDirected,Ve,et,wt),on=this._edgeObjs[jt];return on&&(Ve=on.v,et=on.w,delete this._edgeLabels[jt],delete this._edgeObjs[jt],Ue(this._preds[et],Ve),Ue(this._sucs[Ve],et),delete this._in[et][jt],delete this._out[Ve][jt],this._edgeCount--),this}inEdges(Ve,et){var wt=this._in[Ve];if(wt){var jt=X.Z(wt);return et?p.Z(jt,function(on){return on.v===et}):jt}}outEdges(Ve,et){var wt=this._out[Ve];if(wt){var jt=X.Z(wt);return et?p.Z(jt,function(on){return on.w===et}):jt}}nodeEdges(Ve,et){var wt=this.inEdges(Ve,et);if(wt)return wt.concat(this.outEdges(Ve,et))}}ye.prototype._nodeCount=0,ye.prototype._edgeCount=0;function Ie(it,Ve){it[Ve]?it[Ve]++:it[Ve]=1}function Ue(it,Ve){--it[Ve]||delete it[Ve]}function Ye(it,Ve,et,wt){var jt=""+Ve,on=""+et;if(!it&&jt>on){var bn=jt;jt=on,on=bn}return jt+We+on+We+(M.Z(wt)?ze:wt)}function Ae(it,Ve,et,wt){var jt=""+Ve,on=""+et;if(!it&&jt>on){var bn=jt;jt=on,on=bn}var Ft={v:jt,w:on};return wt&&(Ft.name=wt),Ft}function tt(it,Ve){return Ye(it,Ve.v,Ve.w,Ve.name)}},39564:function(ut,Ce,f){"use strict";f.d(Ce,{k:function(){return O.k}});var O=f(99965);const U="2.1.9-pre"},64160:function(ut,Ce,f){"use strict";f.d(Ce,{c:function(){return M}});var O=f(71180),U=f(85811),x=4;function m(g){return(0,U.Z)(g,x)}var p=m,d=f(55247),v=f(99965);function M(g){var z={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:D(g),edges:T(g)};return O.Z(g.graph())||(z.value=p(g.graph())),z}function D(g){return d.Z(g.nodes(),function(z){var E=g.node(z),Y=g.parent(z),q={v:z};return O.Z(E)||(q.value=E),O.Z(Y)||(q.parent=Y),q})}function T(g){return d.Z(g.edges(),function(z){var E=g.edge(z),Y={v:z.v,w:z.w};return O.Z(z.name)||(Y.name=z.name),O.Z(E)||(Y.value=E),Y})}function S(g){var z=new Graph(g.options).setGraph(g.value);return _.each(g.nodes,function(E){z.setNode(E.v,E.value),E.parent&&z.setParent(E.v,E.parent)}),_.each(g.edges,function(E){z.setEdge({v:E.v,w:E.w,name:E.name},E.value)}),z}},91403:function(ut,Ce,f){"use strict";f.d(Ce,{sY:function(){return it}});var O=f(87823),U=f(27431),x=f(70374),m=f(79156),p=f(24963),d=f(91476),v={normal:D,vee:T,undirected:S};function M(Ft){v=Ft}function D(Ft,Mt,_t,Jt){var Me=Ft.append("marker").attr("id",Mt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),yn=Me.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");d.bg(yn,_t[Jt+"Style"]),_t[Jt+"Class"]&&yn.attr("class",_t[Jt+"Class"])}function T(Ft,Mt,_t,Jt){var Me=Ft.append("marker").attr("id",Mt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),yn=Me.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");d.bg(yn,_t[Jt+"Style"]),_t[Jt+"Class"]&&yn.attr("class",_t[Jt+"Class"])}function S(Ft,Mt,_t,Jt){var Me=Ft.append("marker").attr("id",Mt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),yn=Me.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");d.bg(yn,_t[Jt+"Style"]),_t[Jt+"Class"]&&yn.attr("class",_t[Jt+"Class"])}var g=f(79182);function z(Ft,Mt){var _t=Ft;return _t.node().appendChild(Mt.label),d.bg(_t,Mt.labelStyle),_t}function E(Ft,Mt){for(var _t=Ft.append("text"),Jt=Y(Mt.label).split(`
`),Me=0;Me<Jt.length;Me++)_t.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(Jt[Me]);return d.bg(_t,Mt.labelStyle),_t}function Y(Ft){for(var Mt="",_t=!1,Jt,Me=0;Me<Ft.length;++Me)if(Jt=Ft[Me],_t){switch(Jt){case"n":Mt+=`
`;break;default:Mt+=Jt}_t=!1}else Jt==="\\"?_t=!0:Mt+=Jt;return Mt}function q(Ft,Mt,_t){var Jt=Mt.label,Me=Ft.append("g");Mt.labelType==="svg"?z(Me,Mt):typeof Jt!="string"||Mt.labelType==="html"?(0,g.a)(Me,Mt):E(Me,Mt);var yn=Me.node().getBBox(),Wt;switch(_t){case"top":Wt=-Mt.height/2;break;case"bottom":Wt=Mt.height/2-yn.height;break;default:Wt=-yn.height/2}return Me.attr("transform","translate("+-yn.width/2+","+Wt+")"),Me}var j=function(Ft,Mt){var _t=Mt.nodes().filter(function(yn){return d.bF(Mt,yn)}),Jt=Ft.selectAll("g.cluster").data(_t,function(yn){return yn});d.WR(Jt.exit(),Mt).style("opacity",0).remove();var Me=Jt.enter().append("g").attr("class","cluster").attr("id",function(yn){var Wt=Mt.node(yn);return Wt.id}).style("opacity",0).each(function(yn){var Wt=Mt.node(yn),xn=O.Ys(this);O.Ys(this).append("rect");var Nn=xn.append("g").attr("class","label");q(Nn,Wt,Wt.clusterLabelPos)});return Jt=Jt.merge(Me),Jt=d.WR(Jt,Mt).style("opacity",1),Jt.selectAll("rect").each(function(yn){var Wt=Mt.node(yn),xn=O.Ys(this);d.bg(xn,Wt.style)}),Jt};function le(Ft){j=Ft}let ce=function(Ft,Mt){var _t=Ft.selectAll("g.edgeLabel").data(Mt.edges(),function(Me){return d.O1(Me)}).classed("update",!0);_t.exit().remove(),_t.enter().append("g").classed("edgeLabel",!0).style("opacity",0),_t=Ft.selectAll("g.edgeLabel"),_t.each(function(Me){var yn=O.Ys(this);yn.select(".label").remove();var Wt=Mt.edge(Me),xn=q(yn,Mt.edge(Me),0).classed("label",!0),Nn=xn.node().getBBox();Wt.labelId&&xn.attr("id",Wt.labelId),U.Z(Wt,"width")||(Wt.width=Nn.width),U.Z(Wt,"height")||(Wt.height=Nn.height)});var Jt;return _t.exit?Jt=_t.exit():Jt=_t.selectAll(null),d.WR(Jt,Mt).style("opacity",0).remove(),_t};function se(Ft){ce=Ft}var ne=f(67070),De=f(57170);function we(Ft,Mt){return Ft.intersect(Mt)}var je=function(Ft,Mt,_t){var Jt=Ft.selectAll("g.edgePath").data(Mt.edges(),function(Wt){return d.O1(Wt)}).classed("update",!0),Me=te(Jt,Mt);fe(Jt,Mt);var yn=Jt.merge!==void 0?Jt.merge(Me):Jt;return d.WR(yn,Mt).style("opacity",1),yn.each(function(Wt){var xn=O.Ys(this),Nn=Mt.edge(Wt);Nn.elem=this,Nn.id&&xn.attr("id",Nn.id),d.$p(xn,Nn.class,(xn.classed("update")?"update ":"")+"edgePath")}),yn.selectAll("path.path").each(function(Wt){var xn=Mt.edge(Wt);xn.arrowheadId=ne.Z("arrowhead");var Nn=O.Ys(this).attr("marker-end",function(){return"url("+Qe(location.href,xn.arrowheadId)+")"}).style("fill","none");d.WR(Nn,Mt).attr("d",function(Cr){return lt(Mt,Cr)}),d.bg(Nn,xn.style)}),yn.selectAll("defs *").remove(),yn.selectAll("defs").each(function(Wt){var xn=Mt.edge(Wt),Nn=_t[xn.arrowhead];Nn(O.Ys(this),xn.arrowheadId,xn,"arrowhead")}),yn};function dt(Ft){je=Ft}function Qe(Ft,Mt){var _t=Ft.split("#")[0];return _t+"#"+Mt}function lt(Ft,Mt){var _t=Ft.edge(Mt),Jt=Ft.node(Mt.v),Me=Ft.node(Mt.w),yn=_t.points.slice(1,_t.points.length-1);return yn.unshift(we(Jt,yn[0])),yn.push(we(Me,yn[yn.length-1])),Te(_t,yn)}function Te(Ft,Mt){var _t=(O.jvg||O.YPS.line)().x(function(Jt){return Jt.x}).y(function(Jt){return Jt.y});return(_t.curve||_t.interpolate)(Ft.curve),_t(Mt)}function Je(Ft){var Mt=Ft.getBBox(),_t=Ft.ownerSVGElement.getScreenCTM().inverse().multiply(Ft.getScreenCTM()).translate(Mt.width/2,Mt.height/2);return{x:_t.e,y:_t.f}}function te(Ft,Mt){var _t=Ft.enter().append("g").attr("class","edgePath").style("opacity",0);return _t.append("path").attr("class","path").attr("d",function(Jt){var Me=Mt.edge(Jt),yn=Mt.node(Jt.v).elem,Wt=De.Z(Me.points.length).map(function(){return Je(yn)});return Te(Me,Wt)}),_t.append("defs"),_t}function fe(Ft,Mt){var _t=Ft.exit();d.WR(_t,Mt).style("opacity",0).remove()}var ue=f(77524),ae=function(Ft,Mt,_t){var Jt=Mt.nodes().filter(function(Wt){return!d.bF(Mt,Wt)}),Me=Ft.selectAll("g.node").data(Jt,function(Wt){return Wt}).classed("update",!0);Me.exit().remove(),Me.enter().append("g").attr("class","node").style("opacity",0),Me=Ft.selectAll("g.node"),Me.each(function(Wt){var xn=Mt.node(Wt),Nn=O.Ys(this);d.$p(Nn,xn.class,(Nn.classed("update")?"update ":"")+"node"),Nn.select("g.label").remove();var Cr=Nn.append("g").attr("class","label"),jr=q(Cr,xn),ii=_t[xn.shape],xi=ue.Z(jr.node().getBBox(),"width","height");xn.elem=this,xn.id&&Nn.attr("id",xn.id),xn.labelId&&Cr.attr("id",xn.labelId),U.Z(xn,"width")&&(xi.width=xn.width),U.Z(xn,"height")&&(xi.height=xn.height),xi.width+=xn.paddingLeft+xn.paddingRight,xi.height+=xn.paddingTop+xn.paddingBottom,Cr.attr("transform","translate("+(xn.paddingLeft-xn.paddingRight)/2+","+(xn.paddingTop-xn.paddingBottom)/2+")");var $i=O.Ys(this);$i.select(".label-container").remove();var _i=ii($i,xi,xn).classed("label-container",!0);d.bg(_i,xn.style);var Vr=_i.node().getBBox();xn.width=Vr.width,xn.height=Vr.height});var yn;return Me.exit?yn=Me.exit():yn=Me.selectAll(null),d.WR(yn,Mt).style("opacity",0).remove(),Me};function de(Ft){ae=Ft}function ve(Ft,Mt){var _t=Ft.filter(function(){return!O.Ys(this).classed("update")});function Jt(Me){var yn=Mt.node(Me);return"translate("+yn.x+","+yn.y+")"}_t.attr("transform",Jt),d.WR(Ft,Mt).style("opacity",1).attr("transform",Jt),d.WR(_t.selectAll("rect"),Mt).attr("width",function(Me){return Mt.node(Me).width}).attr("height",function(Me){return Mt.node(Me).height}).attr("x",function(Me){var yn=Mt.node(Me);return-yn.width/2}).attr("y",function(Me){var yn=Mt.node(Me);return-yn.height/2})}function J(Ft,Mt){var _t=Ft.filter(function(){return!O.Ys(this).classed("update")});function Jt(Me){var yn=Mt.edge(Me);return U.Z(yn,"x")?"translate("+yn.x+","+yn.y+")":""}_t.attr("transform",Jt),d.WR(Ft,Mt).style("opacity",1).attr("transform",Jt)}function X(Ft,Mt){var _t=Ft.filter(function(){return!O.Ys(this).classed("update")});function Jt(Me){var yn=Mt.node(Me);return"translate("+yn.x+","+yn.y+")"}_t.attr("transform",Jt),d.WR(Ft,Mt).style("opacity",1).attr("transform",Jt)}function K(Ft,Mt,_t,Jt){var Me=Ft.x,yn=Ft.y,Wt=Me-Jt.x,xn=yn-Jt.y,Nn=Math.sqrt(Mt*Mt*xn*xn+_t*_t*Wt*Wt),Cr=Math.abs(Mt*_t*Wt/Nn);Jt.x<Me&&(Cr=-Cr);var jr=Math.abs(Mt*_t*xn/Nn);return Jt.y<yn&&(jr=-jr),{x:Me+Cr,y:yn+jr}}function ze(Ft,Mt,_t){return K(Ft,Mt,Mt,_t)}var Ze=f(28278),We=f(69474),ye={rect:Ue,ellipse:Ye,circle:Ae,diamond:tt};function Ie(Ft){ye=Ft}function Ue(Ft,Mt,_t){var Jt=Ft.insert("rect",":first-child").attr("rx",_t.rx).attr("ry",_t.ry).attr("x",-Mt.width/2).attr("y",-Mt.height/2).attr("width",Mt.width).attr("height",Mt.height);return _t.intersect=function(Me){return(0,We.q)(_t,Me)},Jt}function Ye(Ft,Mt,_t){var Jt=Mt.width/2,Me=Mt.height/2,yn=Ft.insert("ellipse",":first-child").attr("x",-Mt.width/2).attr("y",-Mt.height/2).attr("rx",Jt).attr("ry",Me);return _t.intersect=function(Wt){return K(_t,Jt,Me,Wt)},yn}function Ae(Ft,Mt,_t){var Jt=Math.max(Mt.width,Mt.height)/2,Me=Ft.insert("circle",":first-child").attr("x",-Mt.width/2).attr("y",-Mt.height/2).attr("r",Jt);return _t.intersect=function(yn){return ze(_t,Jt,yn)},Me}function tt(Ft,Mt,_t){var Jt=Mt.width*Math.SQRT2/2,Me=Mt.height*Math.SQRT2/2,yn=[{x:0,y:-Me},{x:-Jt,y:0},{x:0,y:Me},{x:Jt,y:0}],Wt=Ft.insert("polygon",":first-child").attr("points",yn.map(function(xn){return xn.x+","+xn.y}).join(" "));return _t.intersect=function(xn){return(0,Ze.A)(_t,yn,xn)},Wt}function it(){var Ft=function(Mt,_t){wt(_t);var Jt=on(Mt,"output"),Me=on(Jt,"clusters"),yn=on(Jt,"edgePaths"),Wt=ce(on(Jt,"edgeLabels"),_t),xn=ae(on(Jt,"nodes"),_t,ye);(0,p.bK)(_t),X(xn,_t),J(Wt,_t),je(yn,_t,v);var Nn=j(Me,_t);ve(Nn,_t),jt(_t)};return Ft.createNodes=function(Mt){return arguments.length?(de(Mt),Ft):ae},Ft.createClusters=function(Mt){return arguments.length?(le(Mt),Ft):j},Ft.createEdgeLabels=function(Mt){return arguments.length?(se(Mt),Ft):ce},Ft.createEdgePaths=function(Mt){return arguments.length?(dt(Mt),Ft):je},Ft.shapes=function(Mt){return arguments.length?(Ie(Mt),Ft):ye},Ft.arrows=function(Mt){return arguments.length?(M(Mt),Ft):v},Ft}var Ve={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},et={arrowhead:"normal",curve:O.c_6};function wt(Ft){Ft.nodes().forEach(function(Mt){var _t=Ft.node(Mt);!U.Z(_t,"label")&&!Ft.children(Mt).length&&(_t.label=Mt),U.Z(_t,"paddingX")&&x.Z(_t,{paddingLeft:_t.paddingX,paddingRight:_t.paddingX}),U.Z(_t,"paddingY")&&x.Z(_t,{paddingTop:_t.paddingY,paddingBottom:_t.paddingY}),U.Z(_t,"padding")&&x.Z(_t,{paddingLeft:_t.padding,paddingRight:_t.padding,paddingTop:_t.padding,paddingBottom:_t.padding}),x.Z(_t,Ve),m.Z(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(Jt){_t[Jt]=Number(_t[Jt])}),U.Z(_t,"width")&&(_t._prevWidth=_t.width),U.Z(_t,"height")&&(_t._prevHeight=_t.height)}),Ft.edges().forEach(function(Mt){var _t=Ft.edge(Mt);U.Z(_t,"label")||(_t.label=""),x.Z(_t,et)})}function jt(Ft){m.Z(Ft.nodes(),function(Mt){var _t=Ft.node(Mt);U.Z(_t,"_prevWidth")?_t.width=_t._prevWidth:delete _t.width,U.Z(_t,"_prevHeight")?_t.height=_t._prevHeight:delete _t.height,delete _t._prevWidth,delete _t._prevHeight})}function on(Ft,Mt){var _t=Ft.select("g."+Mt);return _t.empty()&&(_t=Ft.append("g").attr("class",Mt)),_t}var bn=f(39564)},829:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return M}});var O=f(10557),U=f(84737);class x{constructor(){this.type=U.w.ALL}get(){return this.type}set(T){if(this.type&&this.type!==T)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=T}reset(){this.type=U.w.ALL}is(T){return this.type===T}}var m=x;class p{constructor(T,S){this.color=S,this.changed=!1,this.data=T,this.type=new m}set(T,S){return this.color=S,this.changed=!1,this.data=T,this.type.type=U.w.ALL,this}_ensureHSL(){const T=this.data,{h:S,s:g,l:z}=T;S===void 0&&(T.h=O.Z.channel.rgb2hsl(T,"h")),g===void 0&&(T.s=O.Z.channel.rgb2hsl(T,"s")),z===void 0&&(T.l=O.Z.channel.rgb2hsl(T,"l"))}_ensureRGB(){const T=this.data,{r:S,g,b:z}=T;S===void 0&&(T.r=O.Z.channel.hsl2rgb(T,"r")),g===void 0&&(T.g=O.Z.channel.hsl2rgb(T,"g")),z===void 0&&(T.b=O.Z.channel.hsl2rgb(T,"b"))}get r(){const T=this.data,S=T.r;return!this.type.is(U.w.HSL)&&S!==void 0?S:(this._ensureHSL(),O.Z.channel.hsl2rgb(T,"r"))}get g(){const T=this.data,S=T.g;return!this.type.is(U.w.HSL)&&S!==void 0?S:(this._ensureHSL(),O.Z.channel.hsl2rgb(T,"g"))}get b(){const T=this.data,S=T.b;return!this.type.is(U.w.HSL)&&S!==void 0?S:(this._ensureHSL(),O.Z.channel.hsl2rgb(T,"b"))}get h(){const T=this.data,S=T.h;return!this.type.is(U.w.RGB)&&S!==void 0?S:(this._ensureRGB(),O.Z.channel.rgb2hsl(T,"h"))}get s(){const T=this.data,S=T.s;return!this.type.is(U.w.RGB)&&S!==void 0?S:(this._ensureRGB(),O.Z.channel.rgb2hsl(T,"s"))}get l(){const T=this.data,S=T.l;return!this.type.is(U.w.RGB)&&S!==void 0?S:(this._ensureRGB(),O.Z.channel.rgb2hsl(T,"l"))}get a(){return this.data.a}set r(T){this.type.set(U.w.RGB),this.changed=!0,this.data.r=T}set g(T){this.type.set(U.w.RGB),this.changed=!0,this.data.g=T}set b(T){this.type.set(U.w.RGB),this.changed=!0,this.data.b=T}set h(T){this.type.set(U.w.HSL),this.changed=!0,this.data.h=T}set s(T){this.type.set(U.w.HSL),this.changed=!0,this.data.s=T}set l(T){this.type.set(U.w.HSL),this.changed=!0,this.data.l=T}set a(T){this.changed=!0,this.data.a=T}}var d=p,M=new d({r:0,g:0,b:0,a:0},"transparent")},63658:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return z}});var O=f(829),U=f(84737);const x={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:E=>{if(E.charCodeAt(0)!==35)return;const Y=E.match(x.re);if(!Y)return;const q=Y[1],j=parseInt(q,16),le=q.length,ce=le%4===0,se=le>4,ne=se?1:17,De=se?8:4,we=ce?0:-1,je=se?255:15;return O.Z.set({r:(j>>De*(we+3)&je)*ne,g:(j>>De*(we+2)&je)*ne,b:(j>>De*(we+1)&je)*ne,a:ce?(j&je)*ne/255:1},E)},stringify:E=>{const{r:Y,g:q,b:j,a:le}=E;return le<1?`#${U.Q[Math.round(Y)]}${U.Q[Math.round(q)]}${U.Q[Math.round(j)]}${U.Q[Math.round(le*255)]}`:`#${U.Q[Math.round(Y)]}${U.Q[Math.round(q)]}${U.Q[Math.round(j)]}`}};var m=x,p=f(10557);const d={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:E=>{const Y=E.match(d.hueRe);if(Y){const[,q,j]=Y;switch(j){case"grad":return p.Z.channel.clamp.h(parseFloat(q)*.9);case"rad":return p.Z.channel.clamp.h(parseFloat(q)*180/Math.PI);case"turn":return p.Z.channel.clamp.h(parseFloat(q)*360)}}return p.Z.channel.clamp.h(parseFloat(E))},parse:E=>{const Y=E.charCodeAt(0);if(Y!==104&&Y!==72)return;const q=E.match(d.re);if(!q)return;const[,j,le,ce,se,ne]=q;return O.Z.set({h:d._hue2deg(j),s:p.Z.channel.clamp.s(parseFloat(le)),l:p.Z.channel.clamp.l(parseFloat(ce)),a:se?p.Z.channel.clamp.a(ne?parseFloat(se)/100:parseFloat(se)):1},E)},stringify:E=>{const{h:Y,s:q,l:j,a:le}=E;return le<1?`hsla(${p.Z.lang.round(Y)}, ${p.Z.lang.round(q)}%, ${p.Z.lang.round(j)}%, ${le})`:`hsl(${p.Z.lang.round(Y)}, ${p.Z.lang.round(q)}%, ${p.Z.lang.round(j)}%)`}};var v=d;const M={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:E=>{E=E.toLowerCase();const Y=M.colors[E];if(!!Y)return m.parse(Y)},stringify:E=>{const Y=m.stringify(E);for(const q in M.colors)if(M.colors[q]===Y)return q}};var D=M;const T={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:E=>{const Y=E.charCodeAt(0);if(Y!==114&&Y!==82)return;const q=E.match(T.re);if(!q)return;const[,j,le,ce,se,ne,De,we,je]=q;return O.Z.set({r:p.Z.channel.clamp.r(le?parseFloat(j)*2.55:parseFloat(j)),g:p.Z.channel.clamp.g(se?parseFloat(ce)*2.55:parseFloat(ce)),b:p.Z.channel.clamp.b(De?parseFloat(ne)*2.55:parseFloat(ne)),a:we?p.Z.channel.clamp.a(je?parseFloat(we)/100:parseFloat(we)):1},E)},stringify:E=>{const{r:Y,g:q,b:j,a:le}=E;return le<1?`rgba(${p.Z.lang.round(Y)}, ${p.Z.lang.round(q)}, ${p.Z.lang.round(j)}, ${p.Z.lang.round(le)})`:`rgb(${p.Z.lang.round(Y)}, ${p.Z.lang.round(q)}, ${p.Z.lang.round(j)})`}};var S=T,z={format:{keyword:D,hex:m,rgb:S,rgba:S,hsl:v,hsla:v},parse:E=>{if(typeof E!="string")return E;const Y=m.parse(E)||S.parse(E)||v.parse(E)||D.parse(E);if(Y)return Y;throw new Error(`Unsupported color format: "${E}"`)},stringify:E=>!E.changed&&E.color?E.color:E.type.is(U.w.HSL)||E.data.r===void 0?v.stringify(E):E.a<1||!Number.isInteger(E.r)||!Number.isInteger(E.g)||!Number.isInteger(E.b)?S.stringify(E):m.stringify(E)}},84737:function(ut,Ce,f){"use strict";f.d(Ce,{Q:function(){return U},w:function(){return x}});var O=f(10557);const U={};for(let m=0;m<=255;m++)U[m]=O.Z.unit.dec2hex(m);const x={ALL:0,RGB:1,HSL:2}},95618:function(ut,Ce,f){"use strict";var O=f(10557),U=f(63658);const x=(m,p,d)=>{const v=U.Z.parse(m),M=v[p],D=O.Z.channel.clamp[p](M+d);return M!==D&&(v[p]=D),U.Z.stringify(v)};Ce.Z=x},65686:function(ut,Ce,f){"use strict";var O=f(95618);const U=(x,m)=>(0,O.Z)(x,"l",-m);Ce.Z=U},24857:function(ut,Ce,f){"use strict";var O=f(95618);const U=(x,m)=>(0,O.Z)(x,"l",m);Ce.Z=U},10557:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return M}});const O={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:D=>D>=255?255:D<0?0:D,g:D=>D>=255?255:D<0?0:D,b:D=>D>=255?255:D<0?0:D,h:D=>D%360,s:D=>D>=100?100:D<0?0:D,l:D=>D>=100?100:D<0?0:D,a:D=>D>=1?1:D<0?0:D},toLinear:D=>{const T=D/255;return D>.03928?Math.pow((T+.055)/1.055,2.4):T/12.92},hue2rgb:(D,T,S)=>(S<0&&(S+=1),S>1&&(S-=1),S<1/6?D+(T-D)*6*S:S<1/2?T:S<2/3?D+(T-D)*(2/3-S)*6:D),hsl2rgb:({h:D,s:T,l:S},g)=>{if(!T)return S*2.55;D/=360,T/=100,S/=100;const z=S<.5?S*(1+T):S+T-S*T,E=2*S-z;switch(g){case"r":return O.hue2rgb(E,z,D+1/3)*255;case"g":return O.hue2rgb(E,z,D)*255;case"b":return O.hue2rgb(E,z,D-1/3)*255}},rgb2hsl:({r:D,g:T,b:S},g)=>{D/=255,T/=255,S/=255;const z=Math.max(D,T,S),E=Math.min(D,T,S),Y=(z+E)/2;if(g==="l")return Y*100;if(z===E)return 0;const q=z-E,j=Y>.5?q/(2-z-E):q/(z+E);if(g==="s")return j*100;switch(z){case D:return((T-S)/q+(T<S?6:0))*60;case T:return((S-D)/q+2)*60;case S:return((D-T)/q+4)*60;default:return-1}}};var U=O,m={clamp:(D,T,S)=>T>S?Math.min(T,Math.max(S,D)):Math.min(S,Math.max(T,D)),round:D=>Math.round(D*1e10)/1e10},d={dec2hex:D=>{const T=Math.round(D).toString(16);return T.length>1?T:`0${T}`}},M={channel:U,lang:m,unit:d}},11779:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return j}});function O(){this.__data__=[],this.size=0}var U=O,x=f(54523);function m(le,ce){for(var se=le.length;se--;)if((0,x.Z)(le[se][0],ce))return se;return-1}var p=m,d=Array.prototype,v=d.splice;function M(le){var ce=this.__data__,se=p(ce,le);if(se<0)return!1;var ne=ce.length-1;return se==ne?ce.pop():v.call(ce,se,1),--this.size,!0}var D=M;function T(le){var ce=this.__data__,se=p(ce,le);return se<0?void 0:ce[se][1]}var S=T;function g(le){return p(this.__data__,le)>-1}var z=g;function E(le,ce){var se=this.__data__,ne=p(se,le);return ne<0?(++this.size,se.push([le,ce])):se[ne][1]=ce,this}var Y=E;function q(le){var ce=-1,se=le==null?0:le.length;for(this.clear();++ce<se;){var ne=le[ce];this.set(ne[0],ne[1])}}q.prototype.clear=U,q.prototype.delete=D,q.prototype.get=S,q.prototype.has=z,q.prototype.set=Y;var j=q},19385:function(ut,Ce,f){"use strict";var O=f(1311),U=f(99615),x=(0,O.Z)(U.Z,"Map");Ce.Z=x},91380:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return ze}});var O=f(1311),U=(0,O.Z)(Object,"create"),x=U;function m(){this.__data__=x?x(null):{},this.size=0}var p=m;function d(Ze){var We=this.has(Ze)&&delete this.__data__[Ze];return this.size-=We?1:0,We}var v=d,M="__lodash_hash_undefined__",D=Object.prototype,T=D.hasOwnProperty;function S(Ze){var We=this.__data__;if(x){var ye=We[Ze];return ye===M?void 0:ye}return T.call(We,Ze)?We[Ze]:void 0}var g=S,z=Object.prototype,E=z.hasOwnProperty;function Y(Ze){var We=this.__data__;return x?We[Ze]!==void 0:E.call(We,Ze)}var q=Y,j="__lodash_hash_undefined__";function le(Ze,We){var ye=this.__data__;return this.size+=this.has(Ze)?0:1,ye[Ze]=x&&We===void 0?j:We,this}var ce=le;function se(Ze){var We=-1,ye=Ze==null?0:Ze.length;for(this.clear();++We<ye;){var Ie=Ze[We];this.set(Ie[0],Ie[1])}}se.prototype.clear=p,se.prototype.delete=v,se.prototype.get=g,se.prototype.has=q,se.prototype.set=ce;var ne=se,De=f(11779),we=f(19385);function je(){this.size=0,this.__data__={hash:new ne,map:new(we.Z||De.Z),string:new ne}}var dt=je;function Qe(Ze){var We=typeof Ze;return We=="string"||We=="number"||We=="symbol"||We=="boolean"?Ze!=="__proto__":Ze===null}var lt=Qe;function Te(Ze,We){var ye=Ze.__data__;return lt(We)?ye[typeof We=="string"?"string":"hash"]:ye.map}var Je=Te;function te(Ze){var We=Je(this,Ze).delete(Ze);return this.size-=We?1:0,We}var fe=te;function ue(Ze){return Je(this,Ze).get(Ze)}var ae=ue;function de(Ze){return Je(this,Ze).has(Ze)}var ve=de;function J(Ze,We){var ye=Je(this,Ze),Ie=ye.size;return ye.set(Ze,We),this.size+=ye.size==Ie?0:1,this}var X=J;function K(Ze){var We=-1,ye=Ze==null?0:Ze.length;for(this.clear();++We<ye;){var Ie=Ze[We];this.set(Ie[0],Ie[1])}}K.prototype.clear=dt,K.prototype.delete=fe,K.prototype.get=ae,K.prototype.has=ve,K.prototype.set=X;var ze=K},36169:function(ut,Ce,f){"use strict";var O=f(1311),U=f(99615),x=(0,O.Z)(U.Z,"Set");Ce.Z=x},61694:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return M}});var O=f(91380),U="__lodash_hash_undefined__";function x(D){return this.__data__.set(D,U),this}var m=x;function p(D){return this.__data__.has(D)}var d=p;function v(D){var T=-1,S=D==null?0:D.length;for(this.__data__=new O.Z;++T<S;)this.add(D[T])}v.prototype.add=v.prototype.push=m,v.prototype.has=d;var M=v},24507:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return q}});var O=f(11779);function U(){this.__data__=new O.Z,this.size=0}var x=U;function m(j){var le=this.__data__,ce=le.delete(j);return this.size=le.size,ce}var p=m;function d(j){return this.__data__.get(j)}var v=d;function M(j){return this.__data__.has(j)}var D=M,T=f(19385),S=f(91380),g=200;function z(j,le){var ce=this.__data__;if(ce instanceof O.Z){var se=ce.__data__;if(!T.Z||se.length<g-1)return se.push([j,le]),this.size=++ce.size,this;ce=this.__data__=new S.Z(se)}return ce.set(j,le),this.size=ce.size,this}var E=z;function Y(j){var le=this.__data__=new O.Z(j);this.size=le.size}Y.prototype.clear=x,Y.prototype.delete=p,Y.prototype.get=v,Y.prototype.has=D,Y.prototype.set=E;var q=Y},66711:function(ut,Ce,f){"use strict";var O=f(99615),U=O.Z.Symbol;Ce.Z=U},16299:function(ut,Ce,f){"use strict";var O=f(99615),U=O.Z.Uint8Array;Ce.Z=U},14131:function(ut,Ce){"use strict";function f(O,U){for(var x=-1,m=O==null?0:O.length;++x<m&&U(O[x],x,O)!==!1;);return O}Ce.Z=f},39890:function(ut,Ce){"use strict";function f(O,U){for(var x=-1,m=O==null?0:O.length,p=0,d=[];++x<m;){var v=O[x];U(v,x,O)&&(d[p++]=v)}return d}Ce.Z=f},36858:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return S}});function O(g,z){for(var E=-1,Y=Array(g);++E<g;)Y[E]=z(E);return Y}var U=O,x=f(65380),m=f(56052),p=f(45673),d=f(99313),v=f(79064),M=Object.prototype,D=M.hasOwnProperty;function T(g,z){var E=(0,m.Z)(g),Y=!E&&(0,x.Z)(g),q=!E&&!Y&&(0,p.Z)(g),j=!E&&!Y&&!q&&(0,v.Z)(g),le=E||Y||q||j,ce=le?U(g.length,String):[],se=ce.length;for(var ne in g)(z||D.call(g,ne))&&!(le&&(ne=="length"||q&&(ne=="offset"||ne=="parent")||j&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||(0,d.Z)(ne,se)))&&ce.push(ne);return ce}var S=T},28019:function(ut,Ce){"use strict";function f(O,U){for(var x=-1,m=O==null?0:O.length,p=Array(m);++x<m;)p[x]=U(O[x],x,O);return p}Ce.Z=f},18573:function(ut,Ce){"use strict";function f(O,U){for(var x=-1,m=U.length,p=O.length;++x<m;)O[p+x]=U[x];return O}Ce.Z=f},61572:function(ut,Ce,f){"use strict";var O=f(857),U=f(54523),x=Object.prototype,m=x.hasOwnProperty;function p(d,v,M){var D=d[v];(!(m.call(d,v)&&(0,U.Z)(D,M))||M===void 0&&!(v in d))&&(0,O.Z)(d,v,M)}Ce.Z=p},857:function(ut,Ce,f){"use strict";var O=f(55136);function U(x,m,p){m=="__proto__"&&O.Z?(0,O.Z)(x,m,{configurable:!0,enumerable:!0,value:p,writable:!0}):x[m]=p}Ce.Z=U},85811:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return Pn}});var O=f(24507),U=f(14131),x=f(61572),m=f(52949),p=f(77251);function d(En,Qn){return En&&(0,m.Z)(Qn,(0,p.Z)(Qn),En)}var v=d,M=f(32817);function D(En,Qn){return En&&(0,m.Z)(Qn,(0,M.Z)(Qn),En)}var T=D,S=f(14054),g=f(32126),z=f(40074);function E(En,Qn){return(0,m.Z)(En,(0,z.Z)(En),Qn)}var Y=E,q=f(18573),j=f(10964),le=f(69043),ce=Object.getOwnPropertySymbols,se=ce?function(En){for(var Qn=[];En;)(0,q.Z)(Qn,(0,z.Z)(En)),En=(0,j.Z)(En);return Qn}:le.Z,ne=se;function De(En,Qn){return(0,m.Z)(En,ne(En),Qn)}var we=De,je=f(38366),dt=f(96909);function Qe(En){return(0,dt.Z)(En,M.Z,ne)}var lt=Qe,Te=f(23313),Je=Object.prototype,te=Je.hasOwnProperty;function fe(En){var Qn=En.length,Gn=new En.constructor(Qn);return Qn&&typeof En[0]=="string"&&te.call(En,"index")&&(Gn.index=En.index,Gn.input=En.input),Gn}var ue=fe,ae=f(97990);function de(En,Qn){var Gn=Qn?(0,ae.Z)(En.buffer):En.buffer;return new En.constructor(Gn,En.byteOffset,En.byteLength)}var ve=de,J=/\w*$/;function X(En){var Qn=new En.constructor(En.source,J.exec(En));return Qn.lastIndex=En.lastIndex,Qn}var K=X,ze=f(66711),Ze=ze.Z?ze.Z.prototype:void 0,We=Ze?Ze.valueOf:void 0;function ye(En){return We?Object(We.call(En)):{}}var Ie=ye,Ue=f(11523),Ye="[object Boolean]",Ae="[object Date]",tt="[object Map]",it="[object Number]",Ve="[object RegExp]",et="[object Set]",wt="[object String]",jt="[object Symbol]",on="[object ArrayBuffer]",bn="[object DataView]",Ft="[object Float32Array]",Mt="[object Float64Array]",_t="[object Int8Array]",Jt="[object Int16Array]",Me="[object Int32Array]",yn="[object Uint8Array]",Wt="[object Uint8ClampedArray]",xn="[object Uint16Array]",Nn="[object Uint32Array]";function Cr(En,Qn,Gn){var Li=En.constructor;switch(Qn){case on:return(0,ae.Z)(En);case Ye:case Ae:return new Li(+En);case bn:return ve(En,Gn);case Ft:case Mt:case _t:case Jt:case Me:case yn:case Wt:case xn:case Nn:return(0,Ue.Z)(En,Gn);case tt:return new Li;case it:case wt:return new Li(En);case Ve:return K(En);case et:return new Li;case jt:return Ie(En)}}var jr=Cr,ii=f(16448),xi=f(56052),$i=f(45673),_i=f(86814),Vr="[object Map]";function Kr(En){return(0,_i.Z)(En)&&(0,Te.Z)(En)==Vr}var Tr=Kr,qt=f(5467),Zt=f(92350),Ee=Zt.Z&&Zt.Z.isMap,pe=Ee?(0,qt.Z)(Ee):Tr,oe=pe,me=f(82433),Pe="[object Set]";function nt(En){return(0,_i.Z)(En)&&(0,Te.Z)(En)==Pe}var ht=nt,vt=Zt.Z&&Zt.Z.isSet,St=vt?(0,qt.Z)(vt):ht,It=St,Kt=1,Tt=2,Lt=4,Gt="[object Arguments]",Yt="[object Array]",Mn="[object Boolean]",Dn="[object Date]",wn="[object Error]",mn="[object Function]",On="[object GeneratorFunction]",Rn="[object Map]",Kn="[object Number]",jn="[object Object]",tr="[object RegExp]",cr="[object Set]",ar="[object String]",Zn="[object Symbol]",Un="[object WeakMap]",yi="[object ArrayBuffer]",gi="[object DataView]",Xr="[object Float32Array]",Vn="[object Float64Array]",ci="[object Int8Array]",mi="[object Int16Array]",oi="[object Int32Array]",Ar="[object Uint8Array]",Fr="[object Uint8ClampedArray]",lr="[object Uint16Array]",Hr="[object Uint32Array]",He={};He[Gt]=He[Yt]=He[yi]=He[gi]=He[Mn]=He[Dn]=He[Xr]=He[Vn]=He[ci]=He[mi]=He[oi]=He[Rn]=He[Kn]=He[jn]=He[tr]=He[cr]=He[ar]=He[Zn]=He[Ar]=He[Fr]=He[lr]=He[Hr]=!0,He[wn]=He[mn]=He[Un]=!1;function kt(En,Qn,Gn,Li,Yr,Bi){var bi,Ma=Qn&Kt,Ya=Qn&Tt,Io=Qn&Lt;if(Gn&&(bi=Yr?Gn(En,Li,Yr,Bi):Gn(En)),bi!==void 0)return bi;if(!(0,me.Z)(En))return En;var eo=(0,xi.Z)(En);if(eo){if(bi=ue(En),!Ma)return(0,g.Z)(En,bi)}else{var Do=(0,Te.Z)(En),Ti=Do==mn||Do==On;if((0,$i.Z)(En))return(0,S.Z)(En,Ma);if(Do==jn||Do==Gt||Ti&&!Yr){if(bi=Ya||Ti?{}:(0,ii.Z)(En),!Ma)return Ya?we(En,T(bi,En)):Y(En,v(bi,En))}else{if(!He[Do])return Yr?En:{};bi=jr(En,Do,Ma)}}Bi||(Bi=new O.Z);var sa=Bi.get(En);if(sa)return sa;Bi.set(En,bi),It(En)?En.forEach(function(Zl){bi.add(kt(Zl,Qn,Gn,Zl,En,Bi))}):oe(En)&&En.forEach(function(Zl,bo){bi.set(bo,kt(Zl,Qn,Gn,bo,En,Bi))});var Vs=Io?Ya?lt:je.Z:Ya?M.Z:p.Z,El=eo?void 0:Vs(En);return(0,U.Z)(El||En,function(Zl,bo){El&&(bo=Zl,Zl=En[bo]),(0,x.Z)(bi,bo,kt(Zl,Qn,Gn,bo,En,Bi))}),bi}var Pn=kt},9466:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return d}});var O=f(52110),U=f(49634);function x(v,M){return function(D,T){if(D==null)return D;if(!(0,U.Z)(D))return v(D,T);for(var S=D.length,g=M?S:-1,z=Object(D);(M?g--:++g<S)&&T(z[g],g,z)!==!1;);return D}}var m=x,p=m(O.Z),d=p},57394:function(ut,Ce){"use strict";function f(O,U,x,m){for(var p=O.length,d=x+(m?1:-1);m?d--:++d<p;)if(U(O[d],d,O))return d;return-1}Ce.Z=f},84887:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return D}});var O=f(18573),U=f(66711),x=f(65380),m=f(56052),p=U.Z?U.Z.isConcatSpreadable:void 0;function d(T){return(0,m.Z)(T)||(0,x.Z)(T)||!!(p&&T&&T[p])}var v=d;function M(T,S,g,z,E){var Y=-1,q=T.length;for(g||(g=v),E||(E=[]);++Y<q;){var j=T[Y];S>0&&g(j)?S>1?M(j,S-1,g,z,E):(0,O.Z)(E,j):z||(E[E.length]=j)}return E}var D=M},29148:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return m}});function O(p){return function(d,v,M){for(var D=-1,T=Object(d),S=M(d),g=S.length;g--;){var z=S[p?g:++D];if(v(T[z],z,T)===!1)break}return d}}var U=O,x=U(),m=x},52110:function(ut,Ce,f){"use strict";var O=f(29148),U=f(77251);function x(m,p){return m&&(0,O.Z)(m,p,U.Z)}Ce.Z=x},49084:function(ut,Ce,f){"use strict";var O=f(78822),U=f(13383);function x(m,p){p=(0,O.Z)(p,m);for(var d=0,v=p.length;m!=null&&d<v;)m=m[(0,U.Z)(p[d++])];return d&&d==v?m:void 0}Ce.Z=x},96909:function(ut,Ce,f){"use strict";var O=f(18573),U=f(56052);function x(m,p,d){var v=p(m);return(0,U.Z)(m)?v:(0,O.Z)(v,d(m))}Ce.Z=x},33918:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return q}});var O=f(66711),U=Object.prototype,x=U.hasOwnProperty,m=U.toString,p=O.Z?O.Z.toStringTag:void 0;function d(j){var le=x.call(j,p),ce=j[p];try{j[p]=void 0;var se=!0}catch(De){}var ne=m.call(j);return se&&(le?j[p]=ce:delete j[p]),ne}var v=d,M=Object.prototype,D=M.toString;function T(j){return D.call(j)}var S=T,g="[object Null]",z="[object Undefined]",E=O.Z?O.Z.toStringTag:void 0;function Y(j){return j==null?j===void 0?z:g:E&&E in Object(j)?v(j):S(j)}var q=Y},50637:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return Kt}});var O=f(24507),U=f(61694);function x(Tt,Lt){for(var Gt=-1,Yt=Tt==null?0:Tt.length;++Gt<Yt;)if(Lt(Tt[Gt],Gt,Tt))return!0;return!1}var m=x,p=f(20465),d=1,v=2;function M(Tt,Lt,Gt,Yt,Mn,Dn){var wn=Gt&d,mn=Tt.length,On=Lt.length;if(mn!=On&&!(wn&&On>mn))return!1;var Rn=Dn.get(Tt),Kn=Dn.get(Lt);if(Rn&&Kn)return Rn==Lt&&Kn==Tt;var jn=-1,tr=!0,cr=Gt&v?new U.Z:void 0;for(Dn.set(Tt,Lt),Dn.set(Lt,Tt);++jn<mn;){var ar=Tt[jn],Zn=Lt[jn];if(Yt)var Un=wn?Yt(Zn,ar,jn,Lt,Tt,Dn):Yt(ar,Zn,jn,Tt,Lt,Dn);if(Un!==void 0){if(Un)continue;tr=!1;break}if(cr){if(!m(Lt,function(yi,gi){if(!(0,p.Z)(cr,gi)&&(ar===yi||Mn(ar,yi,Gt,Yt,Dn)))return cr.push(gi)})){tr=!1;break}}else if(!(ar===Zn||Mn(ar,Zn,Gt,Yt,Dn))){tr=!1;break}}return Dn.delete(Tt),Dn.delete(Lt),tr}var D=M,T=f(66711),S=f(16299),g=f(54523);function z(Tt){var Lt=-1,Gt=Array(Tt.size);return Tt.forEach(function(Yt,Mn){Gt[++Lt]=[Mn,Yt]}),Gt}var E=z,Y=f(64423),q=1,j=2,le="[object Boolean]",ce="[object Date]",se="[object Error]",ne="[object Map]",De="[object Number]",we="[object RegExp]",je="[object Set]",dt="[object String]",Qe="[object Symbol]",lt="[object ArrayBuffer]",Te="[object DataView]",Je=T.Z?T.Z.prototype:void 0,te=Je?Je.valueOf:void 0;function fe(Tt,Lt,Gt,Yt,Mn,Dn,wn){switch(Gt){case Te:if(Tt.byteLength!=Lt.byteLength||Tt.byteOffset!=Lt.byteOffset)return!1;Tt=Tt.buffer,Lt=Lt.buffer;case lt:return!(Tt.byteLength!=Lt.byteLength||!Dn(new S.Z(Tt),new S.Z(Lt)));case le:case ce:case De:return(0,g.Z)(+Tt,+Lt);case se:return Tt.name==Lt.name&&Tt.message==Lt.message;case we:case dt:return Tt==Lt+"";case ne:var mn=E;case je:var On=Yt&q;if(mn||(mn=Y.Z),Tt.size!=Lt.size&&!On)return!1;var Rn=wn.get(Tt);if(Rn)return Rn==Lt;Yt|=j,wn.set(Tt,Lt);var Kn=D(mn(Tt),mn(Lt),Yt,Mn,Dn,wn);return wn.delete(Tt),Kn;case Qe:if(te)return te.call(Tt)==te.call(Lt)}return!1}var ue=fe,ae=f(38366),de=1,ve=Object.prototype,J=ve.hasOwnProperty;function X(Tt,Lt,Gt,Yt,Mn,Dn){var wn=Gt&de,mn=(0,ae.Z)(Tt),On=mn.length,Rn=(0,ae.Z)(Lt),Kn=Rn.length;if(On!=Kn&&!wn)return!1;for(var jn=On;jn--;){var tr=mn[jn];if(!(wn?tr in Lt:J.call(Lt,tr)))return!1}var cr=Dn.get(Tt),ar=Dn.get(Lt);if(cr&&ar)return cr==Lt&&ar==Tt;var Zn=!0;Dn.set(Tt,Lt),Dn.set(Lt,Tt);for(var Un=wn;++jn<On;){tr=mn[jn];var yi=Tt[tr],gi=Lt[tr];if(Yt)var Xr=wn?Yt(gi,yi,tr,Lt,Tt,Dn):Yt(yi,gi,tr,Tt,Lt,Dn);if(!(Xr===void 0?yi===gi||Mn(yi,gi,Gt,Yt,Dn):Xr)){Zn=!1;break}Un||(Un=tr=="constructor")}if(Zn&&!Un){var Vn=Tt.constructor,ci=Lt.constructor;Vn!=ci&&"constructor"in Tt&&"constructor"in Lt&&!(typeof Vn=="function"&&Vn instanceof Vn&&typeof ci=="function"&&ci instanceof ci)&&(Zn=!1)}return Dn.delete(Tt),Dn.delete(Lt),Zn}var K=X,ze=f(23313),Ze=f(56052),We=f(45673),ye=f(79064),Ie=1,Ue="[object Arguments]",Ye="[object Array]",Ae="[object Object]",tt=Object.prototype,it=tt.hasOwnProperty;function Ve(Tt,Lt,Gt,Yt,Mn,Dn){var wn=(0,Ze.Z)(Tt),mn=(0,Ze.Z)(Lt),On=wn?Ye:(0,ze.Z)(Tt),Rn=mn?Ye:(0,ze.Z)(Lt);On=On==Ue?Ae:On,Rn=Rn==Ue?Ae:Rn;var Kn=On==Ae,jn=Rn==Ae,tr=On==Rn;if(tr&&(0,We.Z)(Tt)){if(!(0,We.Z)(Lt))return!1;wn=!0,Kn=!1}if(tr&&!Kn)return Dn||(Dn=new O.Z),wn||(0,ye.Z)(Tt)?D(Tt,Lt,Gt,Yt,Mn,Dn):ue(Tt,Lt,On,Gt,Yt,Mn,Dn);if(!(Gt&Ie)){var cr=Kn&&it.call(Tt,"__wrapped__"),ar=jn&&it.call(Lt,"__wrapped__");if(cr||ar){var Zn=cr?Tt.value():Tt,Un=ar?Lt.value():Lt;return Dn||(Dn=new O.Z),Mn(Zn,Un,Gt,Yt,Dn)}}return tr?(Dn||(Dn=new O.Z),K(Tt,Lt,Gt,Yt,Mn,Dn)):!1}var et=Ve,wt=f(86814);function jt(Tt,Lt,Gt,Yt,Mn){return Tt===Lt?!0:Tt==null||Lt==null||!(0,wt.Z)(Tt)&&!(0,wt.Z)(Lt)?Tt!==Tt&&Lt!==Lt:et(Tt,Lt,Gt,Yt,jt,Mn)}var on=jt,bn=1,Ft=2;function Mt(Tt,Lt,Gt,Yt){var Mn=Gt.length,Dn=Mn,wn=!Yt;if(Tt==null)return!Dn;for(Tt=Object(Tt);Mn--;){var mn=Gt[Mn];if(wn&&mn[2]?mn[1]!==Tt[mn[0]]:!(mn[0]in Tt))return!1}for(;++Mn<Dn;){mn=Gt[Mn];var On=mn[0],Rn=Tt[On],Kn=mn[1];if(wn&&mn[2]){if(Rn===void 0&&!(On in Tt))return!1}else{var jn=new O.Z;if(Yt)var tr=Yt(Rn,Kn,On,Tt,Lt,jn);if(!(tr===void 0?on(Kn,Rn,bn|Ft,Yt,jn):tr))return!1}}return!0}var _t=Mt,Jt=f(82433);function Me(Tt){return Tt===Tt&&!(0,Jt.Z)(Tt)}var yn=Me,Wt=f(77251);function xn(Tt){for(var Lt=(0,Wt.Z)(Tt),Gt=Lt.length;Gt--;){var Yt=Lt[Gt],Mn=Tt[Yt];Lt[Gt]=[Yt,Mn,yn(Mn)]}return Lt}var Nn=xn;function Cr(Tt,Lt){return function(Gt){return Gt==null?!1:Gt[Tt]===Lt&&(Lt!==void 0||Tt in Object(Gt))}}var jr=Cr;function ii(Tt){var Lt=Nn(Tt);return Lt.length==1&&Lt[0][2]?jr(Lt[0][0],Lt[0][1]):function(Gt){return Gt===Tt||_t(Gt,Tt,Lt)}}var xi=ii,$i=f(49084);function _i(Tt,Lt,Gt){var Yt=Tt==null?void 0:(0,$i.Z)(Tt,Lt);return Yt===void 0?Gt:Yt}var Vr=_i,Kr=f(77640),Tr=f(61070),qt=f(13383),Zt=1,Ee=2;function pe(Tt,Lt){return(0,Tr.Z)(Tt)&&yn(Lt)?jr((0,qt.Z)(Tt),Lt):function(Gt){var Yt=Vr(Gt,Tt);return Yt===void 0&&Yt===Lt?(0,Kr.Z)(Gt,Tt):on(Lt,Yt,Zt|Ee)}}var oe=pe,me=f(76402),Pe=f(99848);function nt(Tt){return function(Lt){return(0,$i.Z)(Lt,Tt)}}var ht=nt;function vt(Tt){return(0,Tr.Z)(Tt)?(0,Pe.Z)((0,qt.Z)(Tt)):ht(Tt)}var St=vt;function It(Tt){return typeof Tt=="function"?Tt:Tt==null?me.Z:typeof Tt=="object"?(0,Ze.Z)(Tt)?oe(Tt[0],Tt[1]):xi(Tt):St(Tt)}var Kt=It},88343:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return M}});var O=f(5196),U=f(45635),x=(0,U.Z)(Object.keys,Object),m=x,p=Object.prototype,d=p.hasOwnProperty;function v(D){if(!(0,O.Z)(D))return m(D);var T=[];for(var S in Object(D))d.call(D,S)&&S!="constructor"&&T.push(S);return T}var M=v},51135:function(ut,Ce,f){"use strict";var O=f(9466),U=f(49634);function x(m,p){var d=-1,v=(0,U.Z)(m)?Array(m.length):[];return(0,O.Z)(m,function(M,D,T){v[++d]=p(M,D,T)}),v}Ce.Z=x},99848:function(ut,Ce){"use strict";function f(O){return function(U){return U==null?void 0:U[O]}}Ce.Z=f},19851:function(ut,Ce,f){"use strict";var O=f(76402),U=f(38416),x=f(13772);function m(p,d){return(0,x.Z)((0,U.Z)(p,d,O.Z),p+"")}Ce.Z=m},5467:function(ut,Ce){"use strict";function f(O){return function(U){return O(U)}}Ce.Z=f},20465:function(ut,Ce){"use strict";function f(O,U){return O.has(U)}Ce.Z=f},53496:function(ut,Ce,f){"use strict";var O=f(76402);function U(x){return typeof x=="function"?x:O.Z}Ce.Z=U},78822:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return z}});var O=f(56052),U=f(61070),x=f(59332),m=500;function p(E){var Y=(0,x.Z)(E,function(j){return q.size===m&&q.clear(),j}),q=Y.cache;return Y}var d=p,v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M=/\\(\\)?/g,D=d(function(E){var Y=[];return E.charCodeAt(0)===46&&Y.push(""),E.replace(v,function(q,j,le,ce){Y.push(le?ce.replace(M,"$1"):j||q)}),Y}),T=D,S=f(99757);function g(E,Y){return(0,O.Z)(E)?E:(0,U.Z)(E,Y)?[E]:T((0,S.Z)(E))}var z=g},97990:function(ut,Ce,f){"use strict";var O=f(16299);function U(x){var m=new x.constructor(x.byteLength);return new O.Z(m).set(new O.Z(x)),m}Ce.Z=U},14054:function(ut,Ce,f){"use strict";var O=f(99615),U=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x=U&&typeof module=="object"&&module&&!module.nodeType&&module,m=x&&x.exports===U,p=m?O.Z.Buffer:void 0,d=p?p.allocUnsafe:void 0;function v(M,D){if(D)return M.slice();var T=M.length,S=d?d(T):new M.constructor(T);return M.copy(S),S}Ce.Z=v},11523:function(ut,Ce,f){"use strict";var O=f(97990);function U(x,m){var p=m?(0,O.Z)(x.buffer):x.buffer;return new x.constructor(p,x.byteOffset,x.length)}Ce.Z=U},32126:function(ut,Ce){"use strict";function f(O,U){var x=-1,m=O.length;for(U||(U=Array(m));++x<m;)U[x]=O[x];return U}Ce.Z=f},52949:function(ut,Ce,f){"use strict";var O=f(61572),U=f(857);function x(m,p,d,v){var M=!d;d||(d={});for(var D=-1,T=p.length;++D<T;){var S=p[D],g=v?v(d[S],m[S],S,d,m):void 0;g===void 0&&(g=m[S]),M?(0,U.Z)(d,S,g):(0,O.Z)(d,S,g)}return d}Ce.Z=x},55136:function(ut,Ce,f){"use strict";var O=f(1311),U=function(){try{var x=(0,O.Z)(Object,"defineProperty");return x({},"",{}),x}catch(m){}}();Ce.Z=U},97889:function(ut,Ce){"use strict";var f=typeof global=="object"&&global&&global.Object===Object&&global;Ce.Z=f},38366:function(ut,Ce,f){"use strict";var O=f(96909),U=f(40074),x=f(77251);function m(p){return(0,O.Z)(p,x.Z,U.Z)}Ce.Z=m},1311:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return De}});var O=f(6359),U=f(99615),x=U.Z["__core-js_shared__"],m=x,p=function(){var we=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||"");return we?"Symbol(src)_1."+we:""}();function d(we){return!!p&&p in we}var v=d,M=f(82433),D=f(65114),T=/[\\^$.*+?()[\]{}|]/g,S=/^\[object .+?Constructor\]$/,g=Function.prototype,z=Object.prototype,E=g.toString,Y=z.hasOwnProperty,q=RegExp("^"+E.call(Y).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j(we){if(!(0,M.Z)(we)||v(we))return!1;var je=(0,O.Z)(we)?q:S;return je.test((0,D.Z)(we))}var le=j;function ce(we,je){return we==null?void 0:we[je]}var se=ce;function ne(we,je){var dt=se(we,je);return le(dt)?dt:void 0}var De=ne},10964:function(ut,Ce,f){"use strict";var O=f(45635),U=(0,O.Z)(Object.getPrototypeOf,Object);Ce.Z=U},40074:function(ut,Ce,f){"use strict";var O=f(39890),U=f(69043),x=Object.prototype,m=x.propertyIsEnumerable,p=Object.getOwnPropertySymbols,d=p?function(v){return v==null?[]:(v=Object(v),(0,O.Z)(p(v),function(M){return m.call(v,M)}))}:U.Z;Ce.Z=d},23313:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return dt}});var O=f(1311),U=f(99615),x=(0,O.Z)(U.Z,"DataView"),m=x,p=f(19385),d=(0,O.Z)(U.Z,"Promise"),v=d,M=f(36169),D=(0,O.Z)(U.Z,"WeakMap"),T=D,S=f(33918),g=f(65114),z="[object Map]",E="[object Object]",Y="[object Promise]",q="[object Set]",j="[object WeakMap]",le="[object DataView]",ce=(0,g.Z)(m),se=(0,g.Z)(p.Z),ne=(0,g.Z)(v),De=(0,g.Z)(M.Z),we=(0,g.Z)(T),je=S.Z;(m&&je(new m(new ArrayBuffer(1)))!=le||p.Z&&je(new p.Z)!=z||v&&je(v.resolve())!=Y||M.Z&&je(new M.Z)!=q||T&&je(new T)!=j)&&(je=function(Qe){var lt=(0,S.Z)(Qe),Te=lt==E?Qe.constructor:void 0,Je=Te?(0,g.Z)(Te):"";if(Je)switch(Je){case ce:return le;case se:return z;case ne:return Y;case De:return q;case we:return j}return lt});var dt=je},31609:function(ut,Ce,f){"use strict";var O=f(78822),U=f(65380),x=f(56052),m=f(99313),p=f(65743),d=f(13383);function v(M,D,T){D=(0,O.Z)(D,M);for(var S=-1,g=D.length,z=!1;++S<g;){var E=(0,d.Z)(D[S]);if(!(z=M!=null&&T(M,E)))break;M=M[E]}return z||++S!=g?z:(g=M==null?0:M.length,!!g&&(0,p.Z)(g)&&(0,m.Z)(E,g)&&((0,x.Z)(M)||(0,U.Z)(M)))}Ce.Z=v},16448:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return M}});var O=f(82433),U=Object.create,x=function(){function D(){}return function(T){if(!(0,O.Z)(T))return{};if(U)return U(T);D.prototype=T;var S=new D;return D.prototype=void 0,S}}(),m=x,p=f(10964),d=f(5196);function v(D){return typeof D.constructor=="function"&&!(0,d.Z)(D)?m((0,p.Z)(D)):{}}var M=v},99313:function(ut,Ce){"use strict";var f=9007199254740991,O=/^(?:0|[1-9]\d*)$/;function U(x,m){var p=typeof x;return m=m==null?f:m,!!m&&(p=="number"||p!="symbol"&&O.test(x))&&x>-1&&x%1==0&&x<m}Ce.Z=U},61833:function(ut,Ce,f){"use strict";var O=f(54523),U=f(49634),x=f(99313),m=f(82433);function p(d,v,M){if(!(0,m.Z)(M))return!1;var D=typeof v;return(D=="number"?(0,U.Z)(M)&&(0,x.Z)(v,M.length):D=="string"&&v in M)?(0,O.Z)(M[v],d):!1}Ce.Z=p},61070:function(ut,Ce,f){"use strict";var O=f(56052),U=f(28776),x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function p(d,v){if((0,O.Z)(d))return!1;var M=typeof d;return M=="number"||M=="symbol"||M=="boolean"||d==null||(0,U.Z)(d)?!0:m.test(d)||!x.test(d)||v!=null&&d in Object(v)}Ce.Z=p},5196:function(ut,Ce){"use strict";var f=Object.prototype;function O(U){var x=U&&U.constructor,m=typeof x=="function"&&x.prototype||f;return U===m}Ce.Z=O},92350:function(ut,Ce,f){"use strict";var O=f(97889),U=typeof exports=="object"&&exports&&!exports.nodeType&&exports,x=U&&typeof module=="object"&&module&&!module.nodeType&&module,m=x&&x.exports===U,p=m&&O.Z.process,d=function(){try{var v=x&&x.require&&x.require("util").types;return v||p&&p.binding&&p.binding("util")}catch(M){}}();Ce.Z=d},45635:function(ut,Ce){"use strict";function f(O,U){return function(x){return O(U(x))}}Ce.Z=f},38416:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return p}});function O(d,v,M){switch(M.length){case 0:return d.call(v);case 1:return d.call(v,M[0]);case 2:return d.call(v,M[0],M[1]);case 3:return d.call(v,M[0],M[1],M[2])}return d.apply(v,M)}var U=O,x=Math.max;function m(d,v,M){return v=x(v===void 0?d.length-1:v,0),function(){for(var D=arguments,T=-1,S=x(D.length-v,0),g=Array(S);++T<S;)g[T]=D[v+T];T=-1;for(var z=Array(v+1);++T<v;)z[T]=D[T];return z[v]=M(g),U(d,this,z)}}var p=m},99615:function(ut,Ce,f){"use strict";var O=f(97889),U=typeof self=="object"&&self&&self.Object===Object&&self,x=O.Z||U||Function("return this")();Ce.Z=x},64423:function(ut,Ce){"use strict";function f(O){var U=-1,x=Array(O.size);return O.forEach(function(m){x[++U]=m}),x}Ce.Z=f},13772:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return g}});var O=f(6964),U=f(55136),x=f(76402),m=U.Z?function(z,E){return(0,U.Z)(z,"toString",{configurable:!0,enumerable:!1,value:(0,O.Z)(E),writable:!0})}:x.Z,p=m,d=800,v=16,M=Date.now;function D(z){var E=0,Y=0;return function(){var q=M(),j=v-(q-Y);if(Y=q,j>0){if(++E>=d)return arguments[0]}else E=0;return z.apply(void 0,arguments)}}var T=D,S=T(p),g=S},13383:function(ut,Ce,f){"use strict";var O=f(28776),U=1/0;function x(m){if(typeof m=="string"||(0,O.Z)(m))return m;var p=m+"";return p=="0"&&1/m==-U?"-0":p}Ce.Z=x},65114:function(ut,Ce){"use strict";var f=Function.prototype,O=f.toString;function U(x){if(x!=null){try{return O.call(x)}catch(m){}try{return x+""}catch(m){}}return""}Ce.Z=U},6964:function(ut,Ce){"use strict";function f(O){return function(){return O}}Ce.Z=f},70374:function(ut,Ce,f){"use strict";var O=f(19851),U=f(54523),x=f(61833),m=f(32817),p=Object.prototype,d=p.hasOwnProperty,v=(0,O.Z)(function(M,D){M=Object(M);var T=-1,S=D.length,g=S>2?D[2]:void 0;for(g&&(0,x.Z)(D[0],D[1],g)&&(S=1);++T<S;)for(var z=D[T],E=(0,m.Z)(z),Y=-1,q=E.length;++Y<q;){var j=E[Y],le=M[j];(le===void 0||(0,U.Z)(le,p[j])&&!d.call(M,j))&&(M[j]=z[j])}return M});Ce.Z=v},54523:function(ut,Ce){"use strict";function f(O,U){return O===U||O!==O&&U!==U}Ce.Z=f},38364:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return M}});var O=f(39890),U=f(9466);function x(D,T){var S=[];return(0,U.Z)(D,function(g,z,E){T(g,z,E)&&S.push(g)}),S}var m=x,p=f(50637),d=f(56052);function v(D,T){var S=(0,d.Z)(D)?O.Z:m;return S(D,(0,p.Z)(T,3))}var M=v},23351:function(ut,Ce,f){"use strict";var O=f(84887);function U(x){var m=x==null?0:x.length;return m?(0,O.Z)(x,1):[]}Ce.Z=U},79156:function(ut,Ce,f){"use strict";var O=f(14131),U=f(9466),x=f(53496),m=f(56052);function p(d,v){var M=(0,m.Z)(d)?O.Z:U.Z;return M(d,(0,x.Z)(v))}Ce.Z=p},27431:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return v}});var O=Object.prototype,U=O.hasOwnProperty;function x(M,D){return M!=null&&U.call(M,D)}var m=x,p=f(31609);function d(M,D){return M!=null&&(0,p.Z)(M,D,m)}var v=d},77640:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return p}});function O(d,v){return d!=null&&v in Object(d)}var U=O,x=f(31609);function m(d,v){return d!=null&&(0,x.Z)(d,v,U)}var p=m},76402:function(ut,Ce){"use strict";function f(O){return O}Ce.Z=f},65380:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return T}});var O=f(33918),U=f(86814),x="[object Arguments]";function m(S){return(0,U.Z)(S)&&(0,O.Z)(S)==x}var p=m,d=Object.prototype,v=d.hasOwnProperty,M=d.propertyIsEnumerable,D=p(function(){return arguments}())?p:function(S){return(0,U.Z)(S)&&v.call(S,"callee")&&!M.call(S,"callee")},T=D},56052:function(ut,Ce){"use strict";var f=Array.isArray;Ce.Z=f},49634:function(ut,Ce,f){"use strict";var O=f(6359),U=f(65743);function x(m){return m!=null&&(0,U.Z)(m.length)&&!(0,O.Z)(m)}Ce.Z=x},84488:function(ut,Ce,f){"use strict";var O=f(49634),U=f(86814);function x(m){return(0,U.Z)(m)&&(0,O.Z)(m)}Ce.Z=x},45673:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return T}});var O=f(99615);function U(){return!1}var x=U,m=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p=m&&typeof module=="object"&&module&&!module.nodeType&&module,d=p&&p.exports===m,v=d?O.Z.Buffer:void 0,M=v?v.isBuffer:void 0,D=M||x,T=D},15943:function(ut,Ce,f){"use strict";var O=f(88343),U=f(23313),x=f(65380),m=f(56052),p=f(49634),d=f(45673),v=f(5196),M=f(79064),D="[object Map]",T="[object Set]",S=Object.prototype,g=S.hasOwnProperty;function z(E){if(E==null)return!0;if((0,p.Z)(E)&&((0,m.Z)(E)||typeof E=="string"||typeof E.splice=="function"||(0,d.Z)(E)||(0,M.Z)(E)||(0,x.Z)(E)))return!E.length;var Y=(0,U.Z)(E);if(Y==D||Y==T)return!E.size;if((0,v.Z)(E))return!(0,O.Z)(E).length;for(var q in E)if(g.call(E,q))return!1;return!0}Ce.Z=z},6359:function(ut,Ce,f){"use strict";var O=f(33918),U=f(82433),x="[object AsyncFunction]",m="[object Function]",p="[object GeneratorFunction]",d="[object Proxy]";function v(M){if(!(0,U.Z)(M))return!1;var D=(0,O.Z)(M);return D==m||D==p||D==x||D==d}Ce.Z=v},65743:function(ut,Ce){"use strict";var f=9007199254740991;function O(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=f}Ce.Z=O},82433:function(ut,Ce){"use strict";function f(O){var U=typeof O;return O!=null&&(U=="object"||U=="function")}Ce.Z=f},86814:function(ut,Ce){"use strict";function f(O){return O!=null&&typeof O=="object"}Ce.Z=f},54098:function(ut,Ce,f){"use strict";var O=f(33918),U=f(10964),x=f(86814),m="[object Object]",p=Function.prototype,d=Object.prototype,v=p.toString,M=d.hasOwnProperty,D=v.call(Object);function T(S){if(!(0,x.Z)(S)||(0,O.Z)(S)!=m)return!1;var g=(0,U.Z)(S);if(g===null)return!0;var z=M.call(g,"constructor")&&g.constructor;return typeof z=="function"&&z instanceof z&&v.call(z)==D}Ce.Z=T},28776:function(ut,Ce,f){"use strict";var O=f(33918),U=f(86814),x="[object Symbol]";function m(p){return typeof p=="symbol"||(0,U.Z)(p)&&(0,O.Z)(p)==x}Ce.Z=m},79064:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return ve}});var O=f(33918),U=f(65743),x=f(86814),m="[object Arguments]",p="[object Array]",d="[object Boolean]",v="[object Date]",M="[object Error]",D="[object Function]",T="[object Map]",S="[object Number]",g="[object Object]",z="[object RegExp]",E="[object Set]",Y="[object String]",q="[object WeakMap]",j="[object ArrayBuffer]",le="[object DataView]",ce="[object Float32Array]",se="[object Float64Array]",ne="[object Int8Array]",De="[object Int16Array]",we="[object Int32Array]",je="[object Uint8Array]",dt="[object Uint8ClampedArray]",Qe="[object Uint16Array]",lt="[object Uint32Array]",Te={};Te[ce]=Te[se]=Te[ne]=Te[De]=Te[we]=Te[je]=Te[dt]=Te[Qe]=Te[lt]=!0,Te[m]=Te[p]=Te[j]=Te[d]=Te[le]=Te[v]=Te[M]=Te[D]=Te[T]=Te[S]=Te[g]=Te[z]=Te[E]=Te[Y]=Te[q]=!1;function Je(J){return(0,x.Z)(J)&&(0,U.Z)(J.length)&&!!Te[(0,O.Z)(J)]}var te=Je,fe=f(5467),ue=f(92350),ae=ue.Z&&ue.Z.isTypedArray,de=ae?(0,fe.Z)(ae):te,ve=de},71180:function(ut,Ce){"use strict";function f(O){return O===void 0}Ce.Z=f},77251:function(ut,Ce,f){"use strict";var O=f(36858),U=f(88343),x=f(49634);function m(p){return(0,x.Z)(p)?(0,O.Z)(p):(0,U.Z)(p)}Ce.Z=m},32817:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return g}});var O=f(36858),U=f(82433),x=f(5196);function m(z){var E=[];if(z!=null)for(var Y in Object(z))E.push(Y);return E}var p=m,d=Object.prototype,v=d.hasOwnProperty;function M(z){if(!(0,U.Z)(z))return p(z);var E=(0,x.Z)(z),Y=[];for(var q in z)q=="constructor"&&(E||!v.call(z,q))||Y.push(q);return Y}var D=M,T=f(49634);function S(z){return(0,T.Z)(z)?(0,O.Z)(z,!0):D(z)}var g=S},55247:function(ut,Ce,f){"use strict";var O=f(28019),U=f(50637),x=f(51135),m=f(56052);function p(d,v){var M=(0,m.Z)(d)?O.Z:x.Z;return M(d,(0,U.Z)(v,3))}Ce.Z=p},59332:function(ut,Ce,f){"use strict";var O=f(91380),U="Expected a function";function x(m,p){if(typeof m!="function"||p!=null&&typeof p!="function")throw new TypeError(U);var d=function(){var v=arguments,M=p?p.apply(this,v):v[0],D=d.cache;if(D.has(M))return D.get(M);var T=m.apply(this,v);return d.cache=D.set(M,T)||D,T};return d.cache=new(x.Cache||O.Z),d}x.Cache=O.Z,Ce.Z=x},77524:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return se}});var O=f(49084),U=f(61572),x=f(78822),m=f(99313),p=f(82433),d=f(13383);function v(ne,De,we,je){if(!(0,p.Z)(ne))return ne;De=(0,x.Z)(De,ne);for(var dt=-1,Qe=De.length,lt=Qe-1,Te=ne;Te!=null&&++dt<Qe;){var Je=(0,d.Z)(De[dt]),te=we;if(Je==="__proto__"||Je==="constructor"||Je==="prototype")return ne;if(dt!=lt){var fe=Te[Je];te=je?je(fe,Je,Te):void 0,te===void 0&&(te=(0,p.Z)(fe)?fe:(0,m.Z)(De[dt+1])?[]:{})}(0,U.Z)(Te,Je,te),Te=Te[Je]}return ne}var M=v;function D(ne,De,we){for(var je=-1,dt=De.length,Qe={};++je<dt;){var lt=De[je],Te=(0,O.Z)(ne,lt);we(Te,lt)&&M(Qe,(0,x.Z)(lt,ne),Te)}return Qe}var T=D,S=f(77640);function g(ne,De){return T(ne,De,function(we,je){return(0,S.Z)(ne,je)})}var z=g,E=f(23351),Y=f(38416),q=f(13772);function j(ne){return(0,q.Z)((0,Y.Z)(ne,void 0,E.Z),ne+"")}var le=j,ce=le(function(ne,De){return ne==null?{}:z(ne,De)}),se=ce},57170:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return T}});var O=Math.ceil,U=Math.max;function x(S,g,z,E){for(var Y=-1,q=U(O((g-S)/(z||1)),0),j=Array(q);q--;)j[E?q:++Y]=S,S+=z;return j}var m=x,p=f(61833),d=f(32200);function v(S){return function(g,z,E){return E&&typeof E!="number"&&(0,p.Z)(g,z,E)&&(z=E=void 0),g=(0,d.Z)(g),z===void 0?(z=g,g=0):z=(0,d.Z)(z),E=E===void 0?g<z?1:-1:(0,d.Z)(E),m(g,z,E,S)}}var M=v,D=M(),T=D},27720:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return D}});function O(T,S,g,z){var E=-1,Y=T==null?0:T.length;for(z&&Y&&(g=T[++E]);++E<Y;)g=S(g,T[E],E,T);return g}var U=O,x=f(9466),m=f(50637);function p(T,S,g,z,E){return E(T,function(Y,q,j){g=z?(z=!1,Y):S(g,Y,q,j)}),g}var d=p,v=f(56052);function M(T,S,g){var z=(0,v.Z)(T)?U:d,E=arguments.length<3;return z(T,(0,m.Z)(S,4),g,E,x.Z)}var D=M},69043:function(ut,Ce){"use strict";function f(){return[]}Ce.Z=f},32200:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return ce}});var O=/\s/;function U(se){for(var ne=se.length;ne--&&O.test(se.charAt(ne)););return ne}var x=U,m=/^\s+/;function p(se){return se&&se.slice(0,x(se)+1).replace(m,"")}var d=p,v=f(82433),M=f(28776),D=0/0,T=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,g=/^0o[0-7]+$/i,z=parseInt;function E(se){if(typeof se=="number")return se;if((0,M.Z)(se))return D;if((0,v.Z)(se)){var ne=typeof se.valueOf=="function"?se.valueOf():se;se=(0,v.Z)(ne)?ne+"":ne}if(typeof se!="string")return se===0?se:+se;se=d(se);var De=S.test(se);return De||g.test(se)?z(se.slice(2),De?2:8):T.test(se)?D:+se}var Y=E,q=1/0,j=17976931348623157e292;function le(se){if(!se)return se===0?se:0;if(se=Y(se),se===q||se===-q){var ne=se<0?-1:1;return ne*j}return se===se?se:0}var ce=le},99757:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return S}});var O=f(66711),U=f(28019),x=f(56052),m=f(28776),p=1/0,d=O.Z?O.Z.prototype:void 0,v=d?d.toString:void 0;function M(g){if(typeof g=="string")return g;if((0,x.Z)(g))return(0,U.Z)(g,M)+"";if((0,m.Z)(g))return v?v.call(g):"";var z=g+"";return z=="0"&&1/g==-p?"-0":z}var D=M;function T(g){return g==null?"":D(g)}var S=T},67070:function(ut,Ce,f){"use strict";var O=f(99757),U=0;function x(m){var p=++U;return(0,O.Z)(m)+p}Ce.Z=x},27942:function(ut,Ce,f){"use strict";f.d(Ce,{Z:function(){return d}});var O=f(28019);function U(v,M){return(0,O.Z)(M,function(D){return v[D]})}var x=U,m=f(77251);function p(v){return v==null?[]:x(v,(0,m.Z)(v))}var d=p},66973:function(ut){"use strict";ut.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')}}]);
