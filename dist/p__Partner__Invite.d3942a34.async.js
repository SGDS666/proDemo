"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[6076],{73173:function(re,K,t){t.d(K,{Z:function(){return c}});var L=t(75782),h=t(85170),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},A=Y,b=t(70325),I=function(g,k){return h.createElement(b.Z,(0,L.Z)((0,L.Z)({},g),{},{ref:k,icon:A}))};I.displayName="FormOutlined";var c=h.forwardRef(I)},73607:function(re,K,t){t.d(K,{Z:function(){return c}});var L=t(75782),h=t(85170),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},A=Y,b=t(70325),I=function(g,k){return h.createElement(b.Z,(0,L.Z)((0,L.Z)({},g),{},{ref:k,icon:A}))};I.displayName="UserAddOutlined";var c=h.forwardRef(I)},88208:function(re,K,t){var L=t(30279),h=t.n(L),Y=t(85170),A=t(91522),b=t(43010);K.Z=function(I){var c=I.children,R=I.pageTitle;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(A._z,h()(h()({header:{title:R,breadcrumb:{}}},I),{},{children:c}))})}},53722:function(re,K,t){t.r(K),t.d(K,{default:function(){return Zn}});var L=t(30279),h=t.n(L),Y=t(46686),A=t.n(Y),b=t(85170),I=t(35290),c=t.n(I),R=t(411),g=t.n(R),k=t(44463),V=t.n(k),z=t(94853),ne=t(6771),N=t(49871),U=t(37922),J=t(41318),B=t(96498),Z=t(16798),Be=t(33285),Le=t(28931),Re=t(1406),Ne=t(42784),te=t(1166),Ke=t(30481),Ve=t(4587),_=t.n(Ve),Ue=t(74637),ae=t.n(Ue),$e=t(874),Se=t.n($e),M=t(22196),me=t(88665);function Ee(){return he.apply(this,arguments)}function he(){return he=g()(c()().mark(function y(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,M.request)("/api/partner/invite-info",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},y)})),he.apply(this,arguments)}function He(){return fe.apply(this,arguments)}function fe(){return fe=g()(c()().mark(function y(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,M.request)("/api/partner/invite-hide",{method:"POST"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},y)})),fe.apply(this,arguments)}function Ye(y){return pe.apply(this,arguments)}function pe(){return pe=g()(c()().mark(function y(u){return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)("/api/partner/invite-bind",{method:"POST",data:h()({},u)});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},y)})),pe.apply(this,arguments)}function Tn(y){return ye.apply(this,arguments)}function ye(){return ye=_asyncToGenerator(_regeneratorRuntime().mark(function y(u){var r,a;return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,request("/api/partner/binding",{method:"POST",data:_objectSpread({},u)});case 2:return r=l.sent,a=r.success,l.abrupt("return",a);case 5:case"end":return l.stop()}},y)})),ye.apply(this,arguments)}function We(y){return ge.apply(this,arguments)}function ge(){return ge=g()(c()().mark(function y(u){var r,a,s,l,f;return c()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=(0,me.aP)(u),v.next=3,(0,M.request)("/api/partner/invite-record",{method:"POST",data:r});case 3:return a=v.sent,s=a.data,l=s.total,f=s.current,v.abrupt("return",{data:s.list,total:l,current:f});case 7:case"end":return v.stop()}},y)})),ge.apply(this,arguments)}function Qe(y){return Ce.apply(this,arguments)}function Ce(){return Ce=g()(c()().mark(function y(u){var r,a,s,l,f;return c()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=(0,me.aP)(u),v.next=3,(0,M.request)("/api/partner/invite-commission",{method:"POST",data:r});case 3:return a=v.sent,s=a.data,l=s.total,f=s.current,v.abrupt("return",{data:s.list,total:l,current:f});case 7:case"end":return v.stop()}},y)})),Ce.apply(this,arguments)}function Ge(y){return xe.apply(this,arguments)}function xe(){return xe=g()(c()().mark(function y(u){var r,a,s,l,f;return c()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=(0,me.aP)(u),v.next=3,(0,M.request)("/api/partner/cash-out",{method:"POST",data:r});case 3:return a=v.sent,s=a.data,l=s.total,f=s.current,v.abrupt("return",{data:s.list,total:l,current:f});case 7:case"end":return v.stop()}},y)})),xe.apply(this,arguments)}var $=t(31810),ie=t(58110),je=t(2800),Xe=t(43520),ue=t(46394),Je=t(18799),Ae=t(55051),_e=t(63099),e=t(43010),qe={labelCol:{span:5},wrapperCol:{span:18}},en=[{label:"\u4E2D\u56FD\u94F6\u884C",value:"\u4E2D\u56FD\u94F6\u884C"},{label:"\u4E2D\u56FD\u5DE5\u5546\u94F6\u884C",value:"\u4E2D\u56FD\u5DE5\u5546\u94F6\u884C"},{label:"\u4E2D\u56FD\u5EFA\u8BBE\u94F6\u884C",value:"\u4E2D\u56FD\u5EFA\u8BBE\u94F6\u884C"},{label:"\u4E2D\u56FD\u519C\u4E1A\u94F6\u884C",value:"\u4E2D\u56FD\u519C\u4E1A\u94F6\u884C"},{label:"\u4E2D\u56FD\u90AE\u653F\u50A8\u84C4\u94F6\u884C",value:"\u4E2D\u56FD\u90AE\u653F\u50A8\u84C4\u94F6\u884C"},{label:"\u4E2D\u56FD\u5149\u5927\u94F6\u884C",value:"\u4E2D\u56FD\u5149\u5927\u94F6\u884C"},{label:"\u4E2D\u56FD\u6C11\u751F\u94F6\u884C",value:"\u4E2D\u56FD\u6C11\u751F\u94F6\u884C"},{label:"\u4E2D\u4FE1\u94F6\u884C",value:"\u4E2D\u4FE1\u94F6\u884C"},{label:"\u4EA4\u901A\u94F6\u884C",value:"\u4EA4\u901A\u94F6\u884C"},{label:"\u534E\u590F\u94F6\u884C",value:"\u534E\u590F\u94F6\u884C"},{label:"\u62DB\u5546\u94F6\u884C",value:"\u62DB\u5546\u94F6\u884C"},{label:"\u5174\u4E1A\u94F6\u884C",value:"\u5174\u4E1A\u94F6\u884C"},{label:"\u5E7F\u53D1\u94F6\u884C",value:"\u5E7F\u53D1\u94F6\u884C"},{label:"\u5E73\u5B89\u94F6\u884C",value:"\u5E73\u5B89\u94F6\u884C"}],nn=function(u){var r=u.visible,a=u.onCancel,s=u.actionReload,l=(0,b.useState)(0),f=A()(l,2),C=f[0],v=f[1],x=(0,te.Z)({submitLoading:!1,captchaLoading:!1,name:"",commission:0,maxCash:0,email:"",cashTax:0,cash:0}),D=A()(x,2),F=D[0],j=D[1],W=$.Z.useForm(),T=A()(W,1),O=T[0],Q,G=function(){var n=g()(c()().mark(function i(){var o,d;return c()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return j({submitLoading:!0}),p.prev=1,p.next=4,O.validateFields();case 4:return o=p.sent,p.next=7,(0,_e.I6)(o);case 7:d=p.sent,d&&(J.ZP.success("\u63D0\u73B0\u6210\u529F\uFF0C\u7B49\u5F85\u7BA1\u7406\u5458\u5BA1\u6838\u3002"),a(),s()),p.next=14;break;case 11:p.prev=11,p.t0=p.catch(1),console.log("Failed:",p.t0);case 14:j({submitLoading:!1});case 15:case"end":return p.stop()}},i,null,[[1,11]])}));return function(){return n.apply(this,arguments)}}(),X=function(){var n=g()(c()().mark(function i(){var o,d;return c()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return j({captchaLoading:!0}),p.next=3,(0,Ae.Dq)({action:"cash"});case 3:if(o=p.sent,j({captchaLoading:!1}),o){p.next=7;break}return p.abrupt("return");case 7:d=59,v(d),Q=window.setInterval(function(){d-=1,v(d),d===0&&clearInterval(Q)},1e3);case 10:case"end":return p.stop()}},i)}));return function(){return n.apply(this,arguments)}}(),S=(0,M.useRequest)(Ae.Tx,{manual:!0,onSuccess:function(i){if(!!i){var o=i.name,d=i.commission,P=i.email;if(!o){J.ZP.warning("\u672A\u5B9E\u540D\uFF0C\u8BF7\u5B9E\u540D\u8BA4\u8BC1\u540E\u518D\u63D0\u73B0"),a(),M.history.replace("/account/authc");return}if(P.indexOf("@")<=0){J.ZP.warning("\u672A\u7ED1\u5B9A\u90AE\u7BB1\uFF0C\u8BF7\u7ED1\u5B9A\u90AE\u7BB1\u540E\u518D\u63D0\u73B0"),a(),M.history.replace("/account/settings");return}var p=Math.floor(d/1e3/100)*100;j({name:o,commission:d,maxCash:p,email:P})}}}),E=S.run,q=function(){var n=g()(c()().mark(function i(){return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:E();case 1:case"end":return d.stop()}},i)}));return function(){return n.apply(this,arguments)}}(),H=function(i,o){var d=Promise,P=/^([1-9]{1})(\d{14}|\d{15}|\d{18})$/;return o&&!P.test(o)?d.reject("\u975E\u6CD5\u94F6\u884C\u5361\u5361\u53F7"):d.resolve()},be=function(i){if(i<=800&&j({cash:i,cashTax:0}),i>800&&i<=4e3){var o=(i-800)*.2;j({cash:i-o,cashTax:o})}if(i>4e3){var d=i*.8*.2;j({cash:i-d,cashTax:d})}};(0,b.useEffect)(function(){r&&q()},[r]);var m=function(){return(0,e.jsxs)("div",{style:{textAlign:"right"},children:[(0,e.jsx)(Z.ZP,{style:{marginRight:16},onClick:function(){return a()},children:"\u53D6\u6D88"}),(0,e.jsx)(Z.ZP,{type:"primary",onClick:function(){return G()},loading:F.submitLoading,children:"\u63D0\u4EA4"})]})};return(0,e.jsx)(ie.Z,{destroyOnClose:!0,title:"\u4F63\u91D1\u63D0\u73B0",open:r,onCancel:function(){return a()},footer:m(),children:(0,e.jsxs)($.Z,h()(h()({},qe),{},{form:O,style:{paddingLeft:12},children:[(0,e.jsx)($.Z.Item,{name:"realName",label:"\u6536\u6B3E\u4EBA",extra:"\u6536\u6B3E\u4EBA\u662F\u4F60\u7684\u5B9E\u540D\u59D3\u540D,\u8BF7\u4F7F\u7528\u5176\u540D\u4E0B\u7684\u94F6\u884C\u5361",children:(0,e.jsx)(N.Z,{color:"default",children:(0,e.jsx)("span",{style:{fontSize:16},children:F.name})})}),(0,e.jsx)($.Z.Item,{name:"cardId",label:"\u94F6\u884C\u5361\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u94F6\u884C\u5361\u53F7"},{validator:H}],children:(0,e.jsx)(je.Z,{size:"large",placeholder:"\u8BF7\u8F93\u5165\u94F6\u884C\u5361\u53F7"})}),(0,e.jsx)($.Z.Item,{name:"bankName",label:"\u94F6\u884C",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u94F6\u884C"}],children:(0,e.jsx)(Xe.Z,{placeholder:"\u8BF7\u9009\u62E9\u94F6\u884C",size:"large",optionFilterProp:"children",options:en})}),(0,e.jsx)($.Z.Item,{label:"\u63D0\u73B0\u91D1\u989D",extra:"\u53EF\u63D0\u73B0\u4F59\u989D\uFF1A".concat(_()(F.commission/1e3).format("0,0.00"),"\u5143, \u6700\u4F4E100, \u4E14\u662F100\u7684\u6574\u6570\u500D"),children:(0,e.jsxs)(B.Z,{gutter:8,children:[(0,e.jsx)(ue.Z,{span:8,children:(0,e.jsx)($.Z.Item,{name:"money",noStyle:!0,rules:[{required:!0,message:"\u63D0\u73B0\u91D1\u989D"}],children:(0,e.jsx)(Je.Z,{size:"large",min:100,max:F.maxCash,step:100,onChange:be})})}),(0,e.jsx)(ue.Z,{span:16,children:(0,e.jsx)(N.Z,{color:"default",style:{marginTop:8},children:(0,e.jsx)("span",{children:"\u5B9E\u9645\u5230\u8D26\uFF1A".concat(F.cash,"\u5143 \u4E2A\u7A0E\u6263\u9664\uFF1A").concat(F.cashTax,"\u5143")})})})]})}),(0,e.jsx)($.Z.Item,{label:"\u9A8C\u8BC1\u7801",extra:"\u9A8C\u8BC1\u7801\u5C06\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1: ".concat(F.email),children:(0,e.jsxs)(B.Z,{gutter:8,children:[(0,e.jsx)(ue.Z,{span:8,children:(0,e.jsx)($.Z.Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],children:(0,e.jsx)(je.Z,{size:"large",placeholder:"6\u4F4D\u9A8C\u8BC1\u7801"})})}),(0,e.jsx)(ue.Z,{span:12,children:(0,e.jsx)(Z.ZP,{size:"large",disabled:!!C,onClick:X,loading:F.captchaLoading,children:C?"".concat(C," S"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]})})]}))})},tn=nn,se={mycard:"mycard___jsMkg",title:"title___NhxCY",value:"value___U034c",option:"option___B3_tA"},Ze=t(81106),an=["title","titleTip","value","option","className","style"],rn=["style","titleTip"],un=z.Z.useToken,sn=[{key:"tab1",tab:"\u9080\u8BF7\u7EAA\u5F55"},{key:"tab2",tab:"\u4F63\u91D1\u660E\u7EC6"},{key:"tab3",tab:"\u5956\u52B1\u660E\u7EC6"},{key:"tab4",tab:"\u63D0\u73B0\u660E\u7EC6"}],on=function(u){var r=u.title,a=u.titleTip,s=u.value,l=u.option,f=u.className,C=u.style,v=V()(u,an),x=un(),D=x.token;return(0,e.jsxs)("div",h()(h()({className:"".concat(se.mycard," ").concat(f),style:h()({background:D.colorBgContainer},C)},v),{},{children:[(0,e.jsxs)("div",{className:se.title,children:[(0,e.jsx)("div",{children:r}),a&&(0,e.jsx)(ne.Z,{title:a,children:(0,e.jsx)(Ke.Z,{})})]}),(0,e.jsx)("div",{className:se.value,style:{color:D.colorPrimary},children:s}),(0,e.jsx)("div",{className:se.option,children:l})]}))},ln=function(u){var r=u.Cards,a=(0,Ze.K)({max:6,delay:.1,reverse:!0});return(0,e.jsx)(e.Fragment,{children:r.map(function(s){var l=s.style,f=s.titleTip,C=V()(s,rn);return(0,e.jsx)(on,h()({className:"both-down",titleTip:f,style:h()(h()({},l),{},{animationDelay:a.next().value})},C),f)})})},cn=function(){var u=(0,te.Z)({loading:!1,inviteCode:"X",inviteLink:"https://web.laifaxin.com",commission:0,commAmount:0,inviteCount:0,inviteCost:0,operationKey:"tab1",inviteDataSource:[],commissionDataSource:[],awardDataSource:[],cashoutDataSource:[],total:0,current:1,pageSize:20,setTime:ae()(ae()().format("YYYY-MM"),"YYYY-MM"),cashVisible:!1}),r=A()(u,2),a=r[0],s=r[1],l=function(n){return n?ae()(n).format("YYYY-MM-DD HH:mm:ss"):null},f=function(n){return(0,e.jsxs)("span",{children:["\xA5 ",_()(n/1e3).format("0,0.00")]})},C=function(n){return n==="bank"?"\u94F6\u884C\u5361":n},v=function(n){return n==="waiting"?(0,e.jsx)(N.Z,{color:"processing",children:"\u7B49\u5F85\u5BA1\u6838"}):n==="error"?(0,e.jsx)(N.Z,{color:"error",children:"\u63D0\u73B0\u5931\u8D25"}):n==="success"?(0,e.jsx)(N.Z,{color:"success",children:"\u63D0\u73B0\u6210\u529F"}):n==="return"?(0,e.jsx)(N.Z,{color:"warning",children:"\u9000\u56DE"}):n},x=function(n){return(0,e.jsxs)("span",{children:["\xA5 ",_()(n).format("0,0.00")]})},D=[{title:"\u7528\u6237ID",dataIndex:"uid",key:"uid"},{title:"\u9080\u8BF7\u65F6\u95F4",dataIndex:"create_time",key:"create_time",render:function(n){return l(n)}},{title:"\u603B\u6D88\u8D39",dataIndex:"costAmount",key:"costAmount",render:function(n){return f(n)}},{title:"\u603B\u4F63\u91D1",dataIndex:"commAmount",key:"commAmount",render:function(n){return f(n)}}],F=[{title:"\u7528\u6237ID",dataIndex:"uid",key:"uid"},{title:"\u6D88\u8D39\u65F6\u95F4",dataIndex:"create_time",key:"create_time",render:function(n){return l(n)}},{title:"\u6D88\u8D39\u91D1\u989D",dataIndex:"total_fee",key:"total_fee",render:function(n){return f(n)}},{title:"\u4F63\u91D1\u91D1\u989D",dataIndex:"commission",key:"commission",render:function(n){return f(n)}}],j=[{title:"\u5956\u52B1\u91D1\u989D",dataIndex:"total_fee",key:"total_fee",render:function(n){return f(n)}},{title:"\u5956\u52B1\u65F6\u95F4",dataIndex:"create_time",key:"create_time",render:function(n){return l(n)}},{title:"\u5956\u52B1\u539F\u56E0",dataIndex:"commission",key:"commission"}],W=[{title:"\u63D0\u73B0\u65B9\u5F0F",dataIndex:"type",key:"type",render:function(n){return C(n)}},{title:"\u63D0\u73B0\u65F6\u95F4",dataIndex:"create_time",key:"create_time",render:function(n){return l(n)}},{title:"\u94F6\u884C",dataIndex:"bankName",key:"bankName"},{title:"\u63D0\u73B0\u8D26\u53F7",dataIndex:"cardId",key:"cardId"},{title:"\u63D0\u73B0",dataIndex:"money",key:"money",render:function(n){return x(n)}},{title:"\u7A0E\u8D39",dataIndex:"tax",key:"tax",render:function(n){return x(n)}},{title:"\u5230\u8D26",dataIndex:"real",key:"real",render:function(n){return x(n)}},{title:"\u72B6\u6001",dataIndex:"status",key:"status",render:function(n){return v(n)}}],T={tab1:(0,e.jsx)(U.Z,{pagination:!1,loading:a.loading,dataSource:a.inviteDataSource,columns:D,rowKey:"_id"}),tab2:(0,e.jsx)(U.Z,{pagination:!1,loading:a.loading,dataSource:a.commissionDataSource,columns:F,rowKey:"_id"}),tab3:(0,e.jsx)(U.Z,{pagination:!1,loading:a.loading,dataSource:[],rowKey:"_id",columns:j}),tab4:(0,e.jsx)(U.Z,{pagination:!1,loading:a.loading,dataSource:a.cashoutDataSource,columns:W})},O=function(){var m=g()(c()().mark(function n(i,o,d,P){var p,oe,ee,le,ce,Ie,ke,de,ze,Me,ve,Oe,we;return c()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(p=ae()(P).valueOf(),oe=ae()(P).add(1,"months").valueOf(),ee={create_time:{$gte:p,$lt:oe}},le={_id:"descend"},i!=="tab1"){w.next=9;break}return w.next=7,We({filter:ee,sorter:le,pageSize:d,current:o});case 7:ce=w.sent,ce&&(Ie=ce.data,ke=ce.total,s({inviteDataSource:Ie,total:ke,current:o}));case 9:if(i!=="tab2"){w.next=14;break}return w.next=12,Qe({filter:ee,sorter:le,pageSize:d,current:o});case 12:de=w.sent,de&&(ze=de.data,Me=de.total,s({commissionDataSource:ze,total:Me,current:o}));case 14:if(i!=="tab4"){w.next=19;break}return w.next=17,Ge({filter:ee,sorter:le,pageSize:d,current:o});case 17:ve=w.sent,ve&&(Oe=ve.data,we=ve.total,s({cashoutDataSource:Oe,total:we,current:o}));case 19:case"end":return w.stop()}},n)}));return function(i,o,d,P){return m.apply(this,arguments)}}(),Q=function(){var m=g()(c()().mark(function n(i){var o,d;return c()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:s({operationKey:i,total:0,current:1}),o=a.pageSize,d=a.setTime,O(i,1,o,d);case 3:case"end":return p.stop()}},n)}));return function(i){return m.apply(this,arguments)}}(),G=function(){var n=a.inviteCode,i=a.inviteLink,o="\u586B\u5199\u6211\u7684\u9080\u8BF7\u7801\uFF1A".concat(n,"\uFF0C\u514D\u8D39\u9886\u53D6 \u4E0D\u9650\u91CF \u90AE\u7BB1\u9A8C\u8BC1/\u90AE\u4EF6\u7FA4\u53D1/\u90AE\u4EF6\u8FFD\u8E2A\uFF08\u7279\u6743\uFF09\uFF0C\u975E\u5E38\u597D\u7528\uFF01").concat(i);Se()(o),J.ZP.success("\u590D\u5236\u6210\u529F")},X=(0,M.useRequest)(Ee,{manual:!0,onSuccess:function(n){if(!!n){var i=window.location,o=i.protocol,d=i.host,P="".concat(o,"//").concat(d),p=n.uid,oe=p.toUpperCase(),ee=P+"/i/"+oe;s(h()(h()({},n),{},{inviteLink:ee}))}}}),S=X.run,E=function(){var m=g()(c()().mark(function n(){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},n)}));return function(){return m.apply(this,arguments)}}(),q=function(n,i){s({current:n,pageSize:i});var o=a.operationKey,d=a.setTime;O(o,n,i,d)},H=function(n){s({setTime:n});var i=a.operationKey,o=a.current,d=a.pageSize;O(i,o,d,n)},be=function(){var n=a.operationKey,i=a.current,o=a.pageSize,d=a.setTime;O(n,i,o,d)};return(0,b.useEffect)(function(){S(),be()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.Z,{style:{width:"100%"},children:(0,e.jsx)(ln,{Cards:[{title:"\u53EF\u63D0\u73B0\u91D1",titleTip:"\u6EE1100\u53EF\u4EE5\u63D0\u73B0\uFF0C\u4E14\u6BCF\u6708\u53EA\u80FD\u63D0\u73B01\u6B21",value:"\xA5 ".concat(_()(a.commission/1e3).format("0,0.00")),option:a.commission&&a.commission>=100*1e3?(0,e.jsx)(Z.ZP,{type:"primary",onClick:function(){return s({cashVisible:!0})},children:"\u63D0\u73B0"}):(0,e.jsx)(Z.ZP,{type:"primary",disabled:!0,children:"\u63D0\u73B0"})},{title:"\u9080\u8BF7\u7801",titleTip:"\u6211\u7684\u9080\u8BF7\u7801",value:a.inviteCode,option:(0,e.jsx)(Z.ZP,{type:"primary",onClick:G,children:"\u590D\u5236"})},{title:"\u6CE8\u518C\u94FE\u63A5",titleTip:"\u6211\u7684\u9080\u8BF7\u6CE8\u518C\u94FE\u63A5",value:a.inviteLink,option:(0,e.jsx)(Z.ZP,{type:"primary",onClick:G,children:"\u590D\u5236"})},{title:"\u9080\u8BF7\u4EBA\u6570",titleTip:"\u9080\u8BF7\u7684\u7528\u6237\u603B\u548C",value:_()(a.inviteCount).format("0,0")},{title:"\u9080\u8BF7\u6D88\u8D39",titleTip:"\u9080\u8BF7\u7684\u7528\u6237\u7D2F\u8BA1\u6D88\u8D39\u603B\u91D1\u989D",value:"\xA5 ".concat(_()(a.inviteCost/1e3).format("0,0.00"))},{title:"\u83B7\u5F97\u4F63\u91D1",titleTip:"\u7D2F\u8BA1\u83B7\u53D6\u7684\u4F63\u91D1\u603B\u91D1\u989D",value:"\xA5 ".concat(_()(a.commAmount/1e3).format("0,0.00"))}]})}),(0,e.jsxs)(Be.Z,{className:" both-up",style:{marginTop:16,animationDelay:"0.3s"},tabList:sn,onTabChange:Q,activeTabKey:a.operationKey,children:[(0,e.jsxs)(Le.Z,{style:{marginBottom:12},size:"middle",children:[(0,e.jsx)(Re.Z,{value:a.setTime,format:"YYYY\u5E74MM\u6708",picker:"month",onChange:H}),(0,e.jsx)(Ne.Z,{total:a.total,showTotal:function(n){return"\u5171\u6709 ".concat(n," \u8BB0\u5F55")},defaultPageSize:20,onChange:q,current:a.current})]}),T[a.operationKey]]}),(0,e.jsx)(tn,{visible:a.cashVisible,onCancel:function(){return s({cashVisible:!1})},actionReload:E})]})},dn=cn,De={main:"main___EEzBA",leftMenu:"leftMenu___zrRzx",right:"right___RmBhE",title:"title___eH1E1"},vn=t(88208),mn=t(72529),hn=t(12209),Fe=t(60785),fn=t(73607),pn=t(73173),Te=t(75782),yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"},gn=yn,Cn=t(70325),Pe=function(u,r){return b.createElement(Cn.Z,(0,Te.Z)((0,Te.Z)({},u),{},{ref:r,icon:gn}))};Pe.displayName="QrcodeOutlined";var xn=b.forwardRef(Pe),jn=function(u){var r=u.visible,a=u.onCancel,s=u.inviteCode,l=u.inviteCount,f=u.inviteLink,C=function(){var x="\u586B\u5199\u6211\u7684\u9080\u8BF7\u7801\uFF1A".concat(s,"\uFF0C\u514D\u8D39\u9886\u53D6 \u4E0D\u9650\u91CF \u90AE\u7BB1\u9A8C\u8BC1/\u90AE\u4EF6\u7FA4\u53D1/\u90AE\u4EF6\u8FFD\u8E2A\uFF08\u7279\u6743\uFF09\uFF0C\u975E\u5E38\u597D\u7528\uFF01").concat(f);Se()(x),J.ZP.success("\u590D\u5236\u6210\u529F")};return(0,e.jsx)(ie.Z,{destroyOnClose:!0,width:420,title:null,open:r,onCancel:function(){return a()},footer:null,children:(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)("div",{style:{fontSize:16,fontWeight:550},children:"\u9080\u8BF7\u7801"}),(0,e.jsx)("div",{style:{fontSize:48,color:"#558cff",fontWeight:600},children:s}),(0,e.jsxs)("div",{children:["\u5DF2\u9080\u8BF7 ",l,"/3"]}),(0,e.jsx)("div",{style:{marginTop:24,marginBottom:24,color:"#999999"},children:"\u9080\u8BF73\u540D\u597D\u53CB\uFF0C\u53EF\u83B7\u5F97\u4E0D\u9650\u91CF\u90AE\u7BB1\u9A8C\u8BC1\u7279\u6743"}),(0,e.jsx)(Z.ZP,{type:"primary",onClick:C,children:"\u590D\u5236"})]})})},Dn=jn,Fn=function(u){var r=u.visible,a=u.onCancel,s=(0,te.Z)({inviteCode:""}),l=A()(s,2),f=l[0],C=l[1],v=function(){var x=g()(c()().mark(function D(){var F,j;return c()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return F=f.inviteCode,T.next=3,Ye({inviteCode:F});case 3:j=T.sent,j&&(J.ZP.success("\u63D0\u4EA4\u6210\u529F"),a());case 5:case"end":return T.stop()}},D)}));return function(){return x.apply(this,arguments)}}();return(0,e.jsx)(ie.Z,{destroyOnClose:!0,width:420,title:null,open:r,onCancel:function(){return a()},footer:null,children:(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)("div",{style:{fontSize:16,fontWeight:550},children:"\u8BF7\u8F93\u5165\u9080\u8BF7\u7801"}),(0,e.jsx)(je.Z,{style:{width:160,marginTop:24},size:"large",placeholder:"\u8BF7\u8F93\u5165\u9080\u8BF7\u7801",value:f.inviteCode,onChange:function(D){return C({inviteCode:D.target.value})}}),(0,e.jsx)("div",{style:{marginTop:24,marginBottom:24,color:"#999999"},children:"\u586B\u5199\u4ED6\u7684\u4EBA\u9080\u8BF7\u7801\uFF0C\u53EF\u83B7\u5F97\u65E0\u9650\u90AE\u4EF6\u8FFD\u8E2A"}),(0,e.jsx)(Z.ZP,{type:"primary",onClick:v,children:"\u63D0\u4EA4"})]})})},bn=Fn,Bn=function(u){var r=u.uid,a=u.pid,s=u.inviteCount,l=u.inviteLink,f=u.visible,C=u.onCancel,v=(0,te.Z)({copyVisible:!1,writeVisible:!1}),x=A()(v,2),D=x[0],F=x[1],j=(0,M.useRequest)(He,{manual:!0,onSuccess:function(){return C()}}),W=j.run,T=function(){var S=g()(c()().mark(function E(){return c()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:W();case 1:case"end":return H.stop()}},E)}));return function(){return S.apply(this,arguments)}}(),O=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:36,marginTop:12},children:"\u4E0D\u9650\u91CF\u7279\u6743\u9886\u53D6"}),(0,e.jsx)("div",{style:{fontSize:20,marginTop:12,marginBottom:12},children:"\u7B80\u5355\u51E0\u6B65\uFF0C\u83B7\u53D6\u65E0\u9650\u90AE\u7BB1\u9A8C\u8BC1\u3001\u90AE\u4EF6\u7FA4\u53D1\u3001\u90AE\u4EF6\u8FFD\u8E2A"})]})})},Q=(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)(mn.Z,{width:240,src:"https://files.laifaxin.com/www/apan.png"}),(0,e.jsx)("p",{children:"\u4F7F\u7528\u5FAE\u4FE1\u626B\u7801\u52A0\u5165\u4EA4\u6D41\u7FA4"})]}),G=function(){return[{title:"\u9080\u8BF73\u540D\u7528\u6237 (".concat(s,"/3)"),description:"\u9886\u53D6\u65E0\u9650\u90AE\u7BB1\u9A8C\u8BC1",actions:s>=3?[(0,e.jsx)("a",{style:{marginRight:16},children:"\u5DF2\u5B8C\u6210"},"finishKey")]:[(0,e.jsx)(Z.ZP,{type:"primary",shape:"round",onClick:function(){return F({copyVisible:!0})},children:"\u53BB\u9080\u8BF7"},"inviteKey")],avatar:(0,e.jsx)(fn.Z,{className:"invite",style:{fontSize:"48px",color:"#2eabff",marginTop:16}})},{title:"\u586B\u5199\u4ED6\u4EBA\u7684\u9080\u8BF7\u7801",description:"\u9886\u53D6\u65E0\u9650\u90AE\u4EF6\u8FFD\u8E2A",actions:a?[(0,e.jsx)("a",{style:{marginRight:16},children:"\u5DF2\u5B8C\u6210"},"fKey")]:[(0,e.jsx)(Z.ZP,{type:"primary",shape:"round",onClick:function(){return F({writeVisible:!0})},children:"\u53BB\u586B\u5199"},"wKey")],avatar:(0,e.jsx)(pn.Z,{className:"invite",style:{fontSize:"48px",color:"#2eabff",marginTop:16}})},{title:"\u626B\u7801\u52A0\u5165\u4EA4\u6D41\u7FA4",description:"\u83B7\u53D6\u66F4\u591A\u4F18\u60E0\u4FE1\u606F",actions:[(0,e.jsx)(hn.Z,{content:Q,title:null,children:(0,e.jsx)(Z.ZP,{type:"primary",shape:"round",children:"\u626B \u7801"})},"sKey")],avatar:(0,e.jsx)(xn,{className:"invite",style:{fontSize:"48px",color:"#2eabff",marginTop:16}})}]},X=function(){return(0,e.jsxs)("div",{style:{textAlign:"right"},children:[(0,e.jsx)(Z.ZP,{type:"dashed",size:"small",onClick:C,style:{marginRight:12},children:"\u5173\u95ED"}),(0,e.jsx)(Z.ZP,{type:"dashed",size:"small",onClick:T,children:"\u4E0D\u518D\u63D0\u793A"})]})};return(0,e.jsxs)(ie.Z,{destroyOnClose:!0,width:640,title:null,open:f,onCancel:function(){return C()},closable:!1,footer:X(),bodyStyle:{padding:"0px 0px"},children:[(0,e.jsx)("div",{style:{color:"#fff",background:"#5b8efd",padding:"12px 12px",textAlign:"center",borderRadius:6},children:O()}),(0,e.jsx)("div",{style:{padding:"24px 24px"},children:(0,e.jsx)(Fe.ZP,{itemLayout:"horizontal",dataSource:G(),renderItem:function(E){return(0,e.jsx)(Fe.ZP.Item,{actions:E.actions,children:(0,e.jsx)(Fe.ZP.Item.Meta,{avatar:E.avatar,title:E.title,description:E.description})})}})}),(0,e.jsx)(Dn,{onCancel:function(){return F({copyVisible:!1})},visible:D.copyVisible,inviteCode:r.toUpperCase(),inviteCount:s,inviteLink:l}),(0,e.jsx)(bn,{onCancel:function(){return F({writeVisible:!1})},visible:D.writeVisible})]})},Sn=Bn,En=z.Z.useToken,An=function(){var u=En(),r=u.token,a=(0,te.Z)({pid:"",uid:"",inviteCount:0,inviteLink:"",inviteHide:!1,partnerVisible:!1}),s=A()(a,2),l=s[0],f=s[1],C=(0,M.useRequest)(Ee,{manual:!0,onSuccess:function(j){if(!!j){var W=j.uid,T=j.pid,O=j.inviteCode,Q=j.inviteCount,G=j.inviteHide,X=window.location,S=X.protocol,E=X.host,q="".concat(S,"//").concat(E,"/i/").concat(O),H=!G;f({uid:W,pid:T,inviteCode:O,inviteCount:Q,inviteLink:q,partnerVisible:H})}}}),v=C.run;(0,b.useEffect)(function(){v()},[]);var x=(0,Ze.K)({max:5}),D=(0,b.useMemo)(function(){return{fontWeight:"bold",paddingLeft:"20px"}},[]);return(0,e.jsxs)(vn.Z,{pageTitle:!1,pageGroup:"",pageActive:"",children:[(0,e.jsx)(Be.Z,{style:{border:"none"},bodyStyle:{background:r.colorBgLayout,border:"none"},children:(0,e.jsxs)("div",{className:De.main,children:[(0,e.jsxs)("div",{className:"".concat(De.leftMenu),style:{backgroundColor:r.colorPrimaryActive,borderRadius:"20px"},children:[(0,e.jsx)("div",{className:"both-right",style:h()(h()({fontSize:36,marginTop:48},D),{},{animationDelay:x.next().value}),children:"\u9080\u597D\u53CB \u8D5A\u73B0\u91D1"}),(0,e.jsx)("div",{className:"both-right",style:h()(h()({fontSize:36,marginTop:12},D),{},{animationDelay:x.next().value}),children:"\u4F63\u91D1\u9AD8\u8FBE 20%"}),(0,e.jsx)("div",{className:"both-right",style:h()(h()({fontSize:36,marginTop:12},D),{},{animationDelay:x.next().value}),children:"\u53EF\u63D0\u73B0"}),(0,e.jsx)("div",{className:"both-right",style:h()(h()({fontSize:24,marginTop:24},D),{},{animationDelay:x.next().value}),children:"\u4E13\u5C5E\u94FE\u63A5 \u2605 \u6C38\u4E45\u7ED1\u5B9A"}),(0,e.jsx)("div",{className:"both-right",style:h()(h()({fontSize:24,marginTop:24,marginBottom:20},D),{},{animationDelay:x.next().value}),children:"\u7B14\u7B14\u8FD4\u73B0 \u2605 \u6D88\u8D39\u5C31\u8FD4"})]}),(0,e.jsx)("div",{className:"".concat(De.right," "),children:(0,e.jsx)(dn,{})})]})}),(0,e.jsx)(Sn,{uid:l.uid,pid:l.pid,visible:l.partnerVisible,inviteCount:l.inviteCount,inviteLink:l.inviteLink,onCancel:function(){return f({partnerVisible:!1})}})]})},Zn=An},81106:function(re,K,t){t.d(K,{K:function(){return c}});var L=t(35290),h=t.n(L),Y=t(30279),A=t.n(Y),b=h()().mark(c),I=function(g,k,V){var z=V!=null?V:0;return _objectSpread(_objectSpread({},g),{},{animationDelay:"".concat(k*.04+z,"s")})};function c(R){var g,k,V,z,ne,N,U;return h()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(g=R.max,k=R.delay,V=R.reverse,z=R.itemDelay,ne=k!=null?k:0,!V){B.next=12;break}N=g;case 4:if(!(N>0)){B.next=10;break}return B.next=7,"".concat(N*(z!=null?z:.04)+ne,"s");case 7:N--,B.next=4;break;case 10:B.next=19;break;case 12:U=0;case 13:if(!(U<g)){B.next=19;break}return B.next=16,"".concat(U*(z!=null?z:.04)+ne,"s");case 16:U++,B.next=13;break;case 19:case"end":return B.stop()}},b)}}}]);
