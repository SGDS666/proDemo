"use strict";(self.webpackChunklaifaxin_web=self.webpackChunklaifaxin_web||[]).push([[9759],{32398:function(P,m,e){e.d(m,{Z:function(){return h}});var u=e(75782),s=e(85170),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},a=v,c=e(70325),_=function(C,D){return s.createElement(c.Z,(0,u.Z)((0,u.Z)({},C),{},{ref:D,icon:a}))};_.displayName="ArrowDownOutlined";var h=s.forwardRef(_)},40727:function(P,m,e){e.d(m,{Z:function(){return h}});var u=e(75782),s=e(85170),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},a=v,c=e(70325),_=function(C,D){return s.createElement(c.Z,(0,u.Z)((0,u.Z)({},C),{},{ref:D,icon:a}))};_.displayName="ArrowUpOutlined";var h=s.forwardRef(_)},7962:function(P,m,e){var u=e(75782),s=e(85170),v=e(54709),a=e(70325),c=function(h,p){return s.createElement(a.Z,(0,u.Z)((0,u.Z)({},h),{},{ref:p,icon:v.Z}))};c.displayName="EllipsisOutlined",m.Z=s.forwardRef(c)},55197:function(P,m,e){var u=e(75782),s=e(85170),v=e(19148),a=e(70325),c=function(h,p){return s.createElement(a.Z,(0,u.Z)((0,u.Z)({},h),{},{ref:p,icon:v.Z}))};c.displayName="FolderOpenOutlined",m.Z=s.forwardRef(c)},54948:function(P,m,e){var u=e(75782),s=e(85170),v=e(65735),a=e(70325),c=function(h,p){return s.createElement(a.Z,(0,u.Z)((0,u.Z)({},h),{},{ref:p,icon:v.Z}))};c.displayName="FolderOutlined",m.Z=s.forwardRef(c)},73173:function(P,m,e){e.d(m,{Z:function(){return h}});var u=e(75782),s=e(85170),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},a=v,c=e(70325),_=function(C,D){return s.createElement(c.Z,(0,u.Z)((0,u.Z)({},C),{},{ref:D,icon:a}))};_.displayName="FormOutlined";var h=s.forwardRef(_)},10022:function(P,m,e){var u=e(35290),s=e.n(u),v=e(30279),a=e.n(v),c=e(411),_=e.n(c),h=e(46686),p=e.n(h),C=e(85170),D=e(31810),V=e(41318),b=e(2800),N=e(58110),I=e(74729),j=e(43010),Q={labelCol:{span:7},wrapperCol:{span:13}},z=function(g){var q=D.Z.useForm(),ee=p()(q,1),M=ee[0],T=g.visible,Z=g.folder,F=g.onCancel,H=g.actionReload,G=g.type;(0,C.useEffect)(function(){T&&(Z?M.setFieldsValue(Z):M.resetFields())},[g.visible,g.folder]);var $=function(){var Y=_()(s()().mark(function A(){var B,L;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(M){o.next=2;break}return o.abrupt("return");case 2:return M.submit(),o.prev=3,o.next=6,M.validateFields();case 6:if(B=o.sent,Z){o.next=13;break}return o.next=10,(0,I.dK)(a()(a()({},B),{},{type:G}));case 10:L=o.sent,o.next=16;break;case 13:return o.next=15,(0,I.Xn)(a()(a()({},B),{},{type:G}));case 15:L=o.sent;case 16:L&&(V.ZP.success("".concat(Z?"\u4FDD\u5B58":"\u65B0\u589E","\u5206\u7EC4\u6210\u529F!")),F(),H()),o.next=22;break;case 19:o.prev=19,o.t0=o.catch(3),console.log("Failed:",o.t0);case 22:case"end":return o.stop()}},A,null,[[3,19]])}));return function(){return Y.apply(this,arguments)}}(),ne={okText:"\u4FDD\u5B58",onOk:$,onCancel:F},U=function(){return(0,j.jsxs)(D.Z,a()(a()({},Q),{},{form:M,children:[(0,j.jsx)(D.Z.Item,{hidden:!0,name:"foid",label:"\u4FDD\u5B58id",children:(0,j.jsx)(b.Z,{})}),(0,j.jsx)(D.Z.Item,{name:"name",label:"\u5206\u7EC4\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u7EC4\u540D\u79F0"}],children:(0,j.jsx)(b.Z,{placeholder:"\u8BF7\u8F93\u5165\u5206\u7EC4\u540D\u79F0"})})]}))};return(0,j.jsx)(N.Z,a()(a()({title:"".concat(Z?"\u7F16\u8F91":"\u65B0\u589E","\u5206\u7EC4"),width:480,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,open:T,maskClosable:!1},ne),{},{children:U()}))};m.Z=z},31166:function(P,m,e){e.r(m),e.d(m,{default:function(){return ie}});var u=e(30279),s=e.n(u),v=e(35290),a=e.n(v),c=e(94434),_=e.n(c),h=e(411),p=e.n(h),C=e(46686),D=e.n(C),V=e(85170),b=e(41318),N=e(74954),I=e(96498),j=e(46394),Q=e(11484),z=e(42147),te=e(10364),g=e(16798),q=e(28931),ee=e(54948),M=e(55197),T=e(40727),Z=e(32398),F=e(73173),H=e(45850),G=e(7962),$=e(78730),ne=e(88208),U={main:"main___dZVBx",leftMenu:"leftMenu___wbUP9",right:"right___hsgrT",title:"title___kh9Ns","container-editable-tree":"container-editable-tree___S1Ywq","ant-tree-list":"ant-tree-list___VZb4a","ant-tree":"ant-tree___IrOZh","ant-tree-treenode":"ant-tree-treenode___bkaMG","tree-leaf":"tree-leaf___n4NEt",action:"action___OvgwH","tree-leafa":"tree-leafa___mf_Ka",actiona:"actiona___tJ8Zi",name:"name___Zj_AY",icon:"icon___mmvC5","ant-tree-treenode-selected":"ant-tree-treenode-selected___XcMGu","ant-tree-indent-unit":"ant-tree-indent-unit___tIfbS","ant-tree-node-content-wrapper":"ant-tree-node-content-wrapper___ANciU","ant-tree-node-selected":"ant-tree-node-selected___YfsWD"},Y=e(48865),A=e(74729),B=e(12653),L=e(10022),re=e(1166),o=e(22196),n=e(43010),oe=function(){var S=(0,V.useRef)(),ue=(0,re.Z)({contentVisible:!1,folderVisible:!1,folder:null,folderItems:[],type:"content",treeHeight:600,tableHeight:600,treeSelectKeys:["0"],foid:"0",action:"add",currentValues:{}}),ae=D()(ue,2),f=ae[0],y=ae[1],K=function(){var i=p()(a()().mark(function r(){var t,l;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t=f.type,d.next=3,(0,A.Pd)({type:t});case 3:l=d.sent,l&&y({folderItems:_()(l)});case 5:case"end":return d.stop()}},r)}));return function(){return i.apply(this,arguments)}}(),le=function(){S.current&&S.current.reload(),K()},de=(0,o.useRequest)(A.p9,{manual:!0,onSuccess:function(){b.ZP.success("\u5220\u9664\u90AE\u4EF6\u6A21\u677F\u6210\u529F\uFF01"),S.current&&S.current.reload(),K()}}),ce=de.run,fe=function(){var i=p()(a()().mark(function r(t){var l;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:l=t._id,ce({id:l});case 2:case"end":return d.stop()}},r)}));return function(t){return i.apply(this,arguments)}}(),me=(0,o.useRequest)(A.Ht,{manual:!0,onSuccess:function(){b.ZP.success("\u5220\u9664\u5206\u7EC4\u6210\u529F!"),K()}}),ve=me.run,_e=function(){var i=p()(a()().mark(function r(t){var l;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=f.type,d.next=3,ve({type:l,foid:t});case 3:case"end":return d.stop()}},r)}));return function(t){return i.apply(this,arguments)}}(),se=function(){var i=p()(a()().mark(function r(t,l,x){var d,R,w,W,X,k,E;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return d=f.folderItems,R=f.type,w=x.foid,t==="up"?W=l-1:W=l+1,X=d[W].foid,k=[w,X],O.next=7,(0,A.uO)({type:R,ids:k});case 7:E=O.sent;case 9:case"end":return O.stop()}},r)}));return function(t,l,x){return i.apply(this,arguments)}}(),he=function(r,t){var l=r.foid,x=r.name,d=r.count,R=f.treeSelectKeys,w=(0,n.jsx)(ee.Z,{});R&&R.length&&R[0]===l&&(w=(0,n.jsx)(M.Z,{}));var W=function(){var E=[];return t>1?E.push({key:"up",label:(0,n.jsxs)("a",{onClick:function(O){O.stopPropagation(),se("up",t,r)},children:[(0,n.jsx)(T.Z,{}),"\u4E0A\u5347"]})}):E.push({key:"up",icon:(0,n.jsx)(T.Z,{}),label:"\u4E0A\u5347",disabled:!0}),t<1||f.folderItems.length===t+1?E.push({key:"down",icon:(0,n.jsx)(Z.Z,{}),label:"\u4E0B\u964D",disabled:!0}):E.push({key:"down",label:(0,n.jsxs)("a",{onClick:function(O){O.stopPropagation(),se("down",t,r)},children:[(0,n.jsx)(Z.Z,{}),"\u4E0B\u964D"]})}),t>=1?(E.push({key:"rename",label:(0,n.jsxs)("a",{onClick:function(O){O.stopPropagation(),y({folderVisible:!0,folder:r})},children:[(0,n.jsx)(F.Z,{})," \u91CD\u547D\u540D"]})}),E.push({key:"delete",label:(0,n.jsx)(N.Z,{title:"\u786E\u8BA4\u5220\u9664\u5206\u7EC4\uFF1A".concat(x,"?"),children:(0,n.jsxs)("a",{onClick:function(O){O.stopPropagation(),_e(l)},children:[(0,n.jsx)(H.Z,{}),"\u5220\u9664\u5206\u7EC4"]})})})):(E.push({key:"rename",icon:(0,n.jsx)(F.Z,{}),label:"\u91CD\u547D\u540D",disabled:!0}),E.push({key:"delete",icon:(0,n.jsx)(H.Z,{}),label:"\u5220\u9664\u5206\u7EC4",disabled:!0})),E},X=(0,n.jsx)("span",{className:"tree-leaf",children:(0,n.jsxs)(I.Z,{style:{width:"100%"},children:[(0,n.jsx)(j.Z,{span:20,children:(0,n.jsxs)("span",{className:"name",children:[x,"(",d,")"]})}),(0,n.jsx)(j.Z,{span:4,className:"action",style:{textAlign:"right"},children:(0,n.jsx)(Q.Z,{menu:{items:W()},children:(0,n.jsx)(G.Z,{onClick:function(E){E.stopPropagation()}})})})]})});return{key:l,title:X,icon:w}},pe=function(r){if(!r)return[];var t=r.map(function(l,x){return he(l,x)});return t};(0,V.useEffect)(function(){K()},[]);var Ee=[{title:"\u540D\u79F0",dataIndex:"name",valueType:"text"},{title:"\u4E3B\u9898",dataIndex:"subject",valueType:"text"},{title:"\u90AE\u4EF6\u6B63\u6587",dataIndex:"html",valueType:"text",ellipsis:!0,width:"50%",render:function(r,t){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{overflow:"hidden"},children:(0,n.jsx)("div",{style:{maxHeight:100},dangerouslySetInnerHTML:{__html:t.html}})})})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_time",hideInSearch:!0,valueType:"dateTime",sorter:function(r,t){return r.create_time-t.create_time}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(r,t){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{onClick:function(){y({contentVisible:!0,currentValues:t,action:"copy"})},children:"\u590D\u5236"}),(0,n.jsx)(z.Z,{type:"vertical"}),(0,n.jsx)("a",{onClick:function(){y({contentVisible:!0,currentValues:t,action:"update"})},children:"\u4FEE\u6539"}),(0,n.jsx)(z.Z,{type:"vertical"}),(0,n.jsx)(N.Z,{title:"\u786E\u8BA4\u5220\u9664\uFF1A".concat(t.name,"?"),onConfirm:function(){return fe(t)},children:(0,n.jsx)("a",{href:"#",children:"\u5220\u9664"})})]})}}],Oe=function(r){var t;r.length?t=r[0]:(r=["all"],t="all"),y({treeSelectKeys:r,foid:t}),le()};return(0,n.jsxs)(ne.Z,{pageTitle:!1,pageGroup:"settings",pageActive:"templets",children:[(0,n.jsxs)("div",{className:U.main,children:[(0,n.jsxs)("div",{className:U.leftMenu,children:[(0,n.jsx)("div",{style:{fontSize:16,margin:"0px 10px 4px 10px"},children:(0,n.jsxs)(I.Z,{children:[(0,n.jsx)(j.Z,{span:20,children:(0,n.jsx)("span",{children:"\u5185\u5BB9\u5206\u7EC4()"})}),(0,n.jsx)(j.Z,{span:4,style:{textAlign:"center"},children:(0,n.jsx)("a",{onClick:function(){return y({folderVisible:!0,folder:null})},children:(0,n.jsx)($.Z,{})})})]})}),(0,n.jsx)("div",{style:{overflow:"auto",maxHeight:f.treeHeight},children:(0,n.jsx)(te.Z,{blockNode:!0,showIcon:!0,treeData:pe(f.folderItems),onSelect:Oe,selectedKeys:f.treeSelectKeys})})]}),(0,n.jsx)("div",{className:U.right,children:(0,n.jsx)(Y.ZP,{headerTitle:"\u90AE\u4EF6\u6A21\u677F",actionRef:S,rowKey:"_id",toolBarRender:function(r,t){var l=t.selectedRows;return[(0,n.jsxs)(g.ZP,{type:"primary",onClick:function(){y({contentVisible:!0,action:"add",currentValues:{}})},children:[(0,n.jsx)($.Z,{})," \u65B0\u5EFA"]},"create"),l&&l.length>0&&(0,n.jsx)(q.Z,{children:(0,n.jsx)(g.ZP,{children:"\u6279\u91CF\u5220\u9664"},"333")},"skey")]},tableAlertRender:function(r){var t=r.selectedRowKeys;return(0,n.jsxs)("div",{children:["\u5DF2\u9009\u62E9 ",(0,n.jsx)("a",{style:{fontWeight:600},children:t.length})," \u9879\xA0\xA0"]})},request:function(r,t,l){return(0,A.sN)(s()(s()({},r),{},{sorter:t,filter:l,foid:f.foid}))},columns:Ee,search:!1})})]}),(0,n.jsx)(B.Z,{visible:f.contentVisible,onCancel:function(){return y({contentVisible:!1})},current:f.currentValues,actionReload:le,folderItems:f.folderItems,action:f.action}),(0,n.jsx)(L.Z,{visible:f.folderVisible,onCancel:function(){return y({folderVisible:!1})},folder:f.folder,actionReload:K,type:f.type})]})},ie=oe}}]);
